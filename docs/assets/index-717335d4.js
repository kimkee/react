function QR(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function YR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yw={exports:{}},ld={},vw={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cl=Symbol.for("react.element"),XR=Symbol.for("react.portal"),JR=Symbol.for("react.fragment"),ZR=Symbol.for("react.strict_mode"),eN=Symbol.for("react.profiler"),tN=Symbol.for("react.provider"),nN=Symbol.for("react.context"),rN=Symbol.for("react.forward_ref"),sN=Symbol.for("react.suspense"),iN=Symbol.for("react.memo"),oN=Symbol.for("react.lazy"),xy=Symbol.iterator;function aN(t){return t===null||typeof t!="object"?null:(t=xy&&t[xy]||t["@@iterator"],typeof t=="function"?t:null)}var Ew={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ww=Object.assign,Tw={};function lo(t,e,n){this.props=t,this.context=e,this.refs=Tw,this.updater=n||Ew}lo.prototype.isReactComponent={};lo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};lo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sw(){}Sw.prototype=lo.prototype;function Nm(t,e,n){this.props=t,this.context=e,this.refs=Tw,this.updater=n||Ew}var Am=Nm.prototype=new Sw;Am.constructor=Nm;ww(Am,lo.prototype);Am.isPureReactComponent=!0;var Ry=Array.isArray,Iw=Object.prototype.hasOwnProperty,km={current:null},Cw={key:!0,ref:!0,__self:!0,__source:!0};function xw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Iw.call(e,r)&&!Cw.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:cl,type:t,key:i,ref:o,props:s,_owner:km.current}}function lN(t,e){return{$$typeof:cl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Pm(t){return typeof t=="object"&&t!==null&&t.$$typeof===cl}function cN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ny=/\/+/g;function wh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?cN(""+t.key):e.toString(36)}function Nc(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case cl:case XR:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+wh(o,0):r,Ry(s)?(n="",t!=null&&(n=t.replace(Ny,"$&/")+"/"),Nc(s,e,n,"",function(c){return c})):s!=null&&(Pm(s)&&(s=lN(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ny,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Ry(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+wh(i,a);o+=Nc(i,e,n,l,s)}else if(l=aN(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+wh(i,a++),o+=Nc(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ql(t,e,n){if(t==null)return t;var r=[],s=0;return Nc(t,r,"","",function(i){return e.call(n,i,s++)}),r}function uN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pt={current:null},Ac={transition:null},dN={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:Ac,ReactCurrentOwner:km};se.Children={map:ql,forEach:function(t,e,n){ql(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ql(t,function(){e++}),e},toArray:function(t){return ql(t,function(e){return e})||[]},only:function(t){if(!Pm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=lo;se.Fragment=JR;se.Profiler=eN;se.PureComponent=Nm;se.StrictMode=ZR;se.Suspense=sN;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dN;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=ww({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=km.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Iw.call(e,l)&&!Cw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:cl,type:t.type,key:s,ref:i,props:r,_owner:o}};se.createContext=function(t){return t={$$typeof:nN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:tN,_context:t},t.Consumer=t};se.createElement=xw;se.createFactory=function(t){var e=xw.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:rN,render:t}};se.isValidElement=Pm;se.lazy=function(t){return{$$typeof:oN,_payload:{_status:-1,_result:t},_init:uN}};se.memo=function(t,e){return{$$typeof:iN,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=Ac.transition;Ac.transition={};try{t()}finally{Ac.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return Pt.current.useCallback(t,e)};se.useContext=function(t){return Pt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return Pt.current.useDeferredValue(t)};se.useEffect=function(t,e){return Pt.current.useEffect(t,e)};se.useId=function(){return Pt.current.useId()};se.useImperativeHandle=function(t,e,n){return Pt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return Pt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return Pt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return Pt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return Pt.current.useReducer(t,e,n)};se.useRef=function(t){return Pt.current.useRef(t)};se.useState=function(t){return Pt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return Pt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return Pt.current.useTransition()};se.version="18.2.0";vw.exports=se;var I=vw.exports;const Le=YR(I),Ay=QR({__proto__:null,default:Le},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hN=I,fN=Symbol.for("react.element"),pN=Symbol.for("react.fragment"),mN=Object.prototype.hasOwnProperty,gN=hN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_N={key:!0,ref:!0,__self:!0,__source:!0};function Rw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)mN.call(e,r)&&!_N.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:fN,type:t,key:i,ref:o,props:s,_owner:gN.current}}ld.Fragment=pN;ld.jsx=Rw;ld.jsxs=Rw;yw.exports=ld;var d=yw.exports,Of={},Nw={exports:{}},Gt={},Aw={exports:{}},kw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,z){var K=L.length;L.push(z);e:for(;0<K;){var fe=K-1>>>1,je=L[fe];if(0<s(je,z))L[fe]=z,L[K]=je,K=fe;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var z=L[0],K=L.pop();if(K!==z){L[0]=K;e:for(var fe=0,je=L.length,Bl=je>>>1;fe<Bl;){var ms=2*(fe+1)-1,Eh=L[ms],gs=ms+1,Hl=L[gs];if(0>s(Eh,K))gs<je&&0>s(Hl,Eh)?(L[fe]=Hl,L[gs]=K,fe=gs):(L[fe]=Eh,L[ms]=K,fe=ms);else if(gs<je&&0>s(Hl,K))L[fe]=Hl,L[gs]=K,fe=gs;else break e}}return z}function s(L,z){var K=L.sortIndex-z.sortIndex;return K!==0?K:L.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,_=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(L){for(var z=n(c);z!==null;){if(z.callback===null)r(c);else if(z.startTime<=L)r(c),z.sortIndex=z.expirationTime,e(l,z);else break;z=n(c)}}function w(L){if(g=!1,E(L),!_)if(n(l)!==null)_=!0,ee(T);else{var z=n(c);z!==null&&X(w,z.startTime-L)}}function T(L,z){_=!1,g&&(g=!1,m(A),A=-1),p=!0;var K=f;try{for(E(z),h=n(l);h!==null&&(!(h.expirationTime>z)||L&&!x());){var fe=h.callback;if(typeof fe=="function"){h.callback=null,f=h.priorityLevel;var je=fe(h.expirationTime<=z);z=t.unstable_now(),typeof je=="function"?h.callback=je:h===n(l)&&r(l),E(z)}else r(l);h=n(l)}if(h!==null)var Bl=!0;else{var ms=n(c);ms!==null&&X(w,ms.startTime-z),Bl=!1}return Bl}finally{h=null,f=K,p=!1}}var R=!1,b=null,A=-1,W=5,S=-1;function x(){return!(t.unstable_now()-S<W)}function C(){if(b!==null){var L=t.unstable_now();S=L;var z=!0;try{z=b(!0,L)}finally{z?O():(R=!1,b=null)}}else R=!1}var O;if(typeof y=="function")O=function(){y(C)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,V=k.port2;k.port1.onmessage=C,O=function(){V.postMessage(null)}}else O=function(){v(C,0)};function ee(L){b=L,R||(R=!0,O())}function X(L,z){A=v(function(){L(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,ee(T))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var z=3;break;default:z=f}var K=f;f=z;try{return L()}finally{f=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=f;f=L;try{return z()}finally{f=K}},t.unstable_scheduleCallback=function(L,z,K){var fe=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?fe+K:fe):K=fe,L){case 1:var je=-1;break;case 2:je=250;break;case 5:je=1073741823;break;case 4:je=1e4;break;default:je=5e3}return je=K+je,L={id:u++,callback:z,priorityLevel:L,startTime:K,expirationTime:je,sortIndex:-1},K>fe?(L.sortIndex=K,e(c,L),n(l)===null&&L===n(c)&&(g?(m(A),A=-1):g=!0,X(w,K-fe))):(L.sortIndex=je,e(l,L),_||p||(_=!0,ee(T))),L},t.unstable_shouldYield=x,t.unstable_wrapCallback=function(L){var z=f;return function(){var K=f;f=z;try{return L.apply(this,arguments)}finally{f=K}}}})(kw);Aw.exports=kw;var yN=Aw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pw=I,qt=yN;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bw=new Set,va={};function Qs(t,e){zi(t,e),zi(t+"Capture",e)}function zi(t,e){for(va[t]=e,t=0;t<e.length;t++)bw.add(e[t])}var lr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lf=Object.prototype.hasOwnProperty,vN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ky={},Py={};function EN(t){return Lf.call(Py,t)?!0:Lf.call(ky,t)?!1:vN.test(t)?Py[t]=!0:(ky[t]=!0,!1)}function wN(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function TN(t,e,n,r){if(e===null||typeof e>"u"||wN(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function bt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var dt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dt[t]=new bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dt[e]=new bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dt[t]=new bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dt[t]=new bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dt[t]=new bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dt[t]=new bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dt[t]=new bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dt[t]=new bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dt[t]=new bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var bm=/[\-:]([a-z])/g;function Om(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bm,Om);dt[e]=new bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bm,Om);dt[e]=new bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bm,Om);dt[e]=new bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dt[t]=new bt(t,1,!1,t.toLowerCase(),null,!1,!1)});dt.xlinkHref=new bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dt[t]=new bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lm(t,e,n,r){var s=dt.hasOwnProperty(e)?dt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(TN(e,n,s,r)&&(n=null),r||s===null?EN(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var vr=Pw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Wl=Symbol.for("react.element"),di=Symbol.for("react.portal"),hi=Symbol.for("react.fragment"),Dm=Symbol.for("react.strict_mode"),Df=Symbol.for("react.profiler"),Ow=Symbol.for("react.provider"),Lw=Symbol.for("react.context"),Mm=Symbol.for("react.forward_ref"),Mf=Symbol.for("react.suspense"),jf=Symbol.for("react.suspense_list"),jm=Symbol.for("react.memo"),Ir=Symbol.for("react.lazy"),Dw=Symbol.for("react.offscreen"),by=Symbol.iterator;function Ro(t){return t===null||typeof t!="object"?null:(t=by&&t[by]||t["@@iterator"],typeof t=="function"?t:null)}var ke=Object.assign,Th;function Bo(t){if(Th===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Th=e&&e[1]||""}return`
`+Th+t}var Sh=!1;function Ih(t,e){if(!t||Sh)return"";Sh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Sh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Bo(t):""}function SN(t){switch(t.tag){case 5:return Bo(t.type);case 16:return Bo("Lazy");case 13:return Bo("Suspense");case 19:return Bo("SuspenseList");case 0:case 2:case 15:return t=Ih(t.type,!1),t;case 11:return t=Ih(t.type.render,!1),t;case 1:return t=Ih(t.type,!0),t;default:return""}}function Vf(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case hi:return"Fragment";case di:return"Portal";case Df:return"Profiler";case Dm:return"StrictMode";case Mf:return"Suspense";case jf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Lw:return(t.displayName||"Context")+".Consumer";case Ow:return(t._context.displayName||"Context")+".Provider";case Mm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case jm:return e=t.displayName||null,e!==null?e:Vf(t.type)||"Memo";case Ir:e=t._payload,t=t._init;try{return Vf(t(e))}catch{}}return null}function IN(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vf(e);case 8:return e===Dm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CN(t){var e=Mw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Gl(t){t._valueTracker||(t._valueTracker=CN(t))}function jw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $f(t,e){var n=e.checked;return ke({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Oy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Jr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Vw(t,e){e=e.checked,e!=null&&Lm(t,"checked",e,!1)}function Ff(t,e){Vw(t,e);var n=Jr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Uf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Uf(t,e.type,Jr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ly(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Uf(t,e,n){(e!=="number"||Jc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ho=Array.isArray;function Ri(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Jr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function zf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return ke({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Dy(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Ho(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Jr(n)}}function $w(t,e){var n=Jr(e.value),r=Jr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function My(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Kl,Uw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Kl=Kl||document.createElement("div"),Kl.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Kl.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ea(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ea={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xN=["Webkit","ms","Moz","O"];Object.keys(ea).forEach(function(t){xN.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ea[e]=ea[t]})});function zw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ea.hasOwnProperty(t)&&ea[t]?(""+e).trim():e+"px"}function Bw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var RN=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hf(t,e){if(e){if(RN[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function qf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wf=null;function Vm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gf=null,Ni=null,Ai=null;function jy(t){if(t=hl(t)){if(typeof Gf!="function")throw Error(D(280));var e=t.stateNode;e&&(e=fd(e),Gf(t.stateNode,t.type,e))}}function Hw(t){Ni?Ai?Ai.push(t):Ai=[t]:Ni=t}function qw(){if(Ni){var t=Ni,e=Ai;if(Ai=Ni=null,jy(t),e)for(t=0;t<e.length;t++)jy(e[t])}}function Ww(t,e){return t(e)}function Gw(){}var Ch=!1;function Kw(t,e,n){if(Ch)return t(e,n);Ch=!0;try{return Ww(t,e,n)}finally{Ch=!1,(Ni!==null||Ai!==null)&&(Gw(),qw())}}function wa(t,e){var n=t.stateNode;if(n===null)return null;var r=fd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Kf=!1;if(lr)try{var No={};Object.defineProperty(No,"passive",{get:function(){Kf=!0}}),window.addEventListener("test",No,No),window.removeEventListener("test",No,No)}catch{Kf=!1}function NN(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var ta=!1,Zc=null,eu=!1,Qf=null,AN={onError:function(t){ta=!0,Zc=t}};function kN(t,e,n,r,s,i,o,a,l){ta=!1,Zc=null,NN.apply(AN,arguments)}function PN(t,e,n,r,s,i,o,a,l){if(kN.apply(this,arguments),ta){if(ta){var c=Zc;ta=!1,Zc=null}else throw Error(D(198));eu||(eu=!0,Qf=c)}}function Ys(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Qw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Vy(t){if(Ys(t)!==t)throw Error(D(188))}function bN(t){var e=t.alternate;if(!e){if(e=Ys(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Vy(s),t;if(i===r)return Vy(s),e;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function Yw(t){return t=bN(t),t!==null?Xw(t):null}function Xw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Xw(t);if(e!==null)return e;t=t.sibling}return null}var Jw=qt.unstable_scheduleCallback,$y=qt.unstable_cancelCallback,ON=qt.unstable_shouldYield,LN=qt.unstable_requestPaint,De=qt.unstable_now,DN=qt.unstable_getCurrentPriorityLevel,$m=qt.unstable_ImmediatePriority,Zw=qt.unstable_UserBlockingPriority,tu=qt.unstable_NormalPriority,MN=qt.unstable_LowPriority,eT=qt.unstable_IdlePriority,cd=null,Dn=null;function jN(t){if(Dn&&typeof Dn.onCommitFiberRoot=="function")try{Dn.onCommitFiberRoot(cd,t,void 0,(t.current.flags&128)===128)}catch{}}var yn=Math.clz32?Math.clz32:FN,VN=Math.log,$N=Math.LN2;function FN(t){return t>>>=0,t===0?32:31-(VN(t)/$N|0)|0}var Ql=64,Yl=4194304;function qo(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function nu(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=qo(a):(i&=o,i!==0&&(r=qo(i)))}else o=n&~s,o!==0?r=qo(o):i!==0&&(r=qo(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-yn(e),s=1<<n,r|=t[n],e&=~s;return r}function UN(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zN(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-yn(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=UN(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Yf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tT(){var t=Ql;return Ql<<=1,!(Ql&4194240)&&(Ql=64),t}function xh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ul(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-yn(e),t[e]=n}function BN(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-yn(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Fm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-yn(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var me=0;function nT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rT,Um,sT,iT,oT,Xf=!1,Xl=[],Vr=null,$r=null,Fr=null,Ta=new Map,Sa=new Map,xr=[],HN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fy(t,e){switch(t){case"focusin":case"focusout":Vr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Fr=null;break;case"pointerover":case"pointerout":Ta.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sa.delete(e.pointerId)}}function Ao(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=hl(e),e!==null&&Um(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function qN(t,e,n,r,s){switch(e){case"focusin":return Vr=Ao(Vr,t,e,n,r,s),!0;case"dragenter":return $r=Ao($r,t,e,n,r,s),!0;case"mouseover":return Fr=Ao(Fr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ta.set(i,Ao(Ta.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Sa.set(i,Ao(Sa.get(i)||null,t,e,n,r,s)),!0}return!1}function aT(t){var e=ws(t.target);if(e!==null){var n=Ys(e);if(n!==null){if(e=n.tag,e===13){if(e=Qw(n),e!==null){t.blockedOn=e,oT(t.priority,function(){sT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wf=r,n.target.dispatchEvent(r),Wf=null}else return e=hl(n),e!==null&&Um(e),t.blockedOn=n,!1;e.shift()}return!0}function Uy(t,e,n){kc(t)&&n.delete(e)}function WN(){Xf=!1,Vr!==null&&kc(Vr)&&(Vr=null),$r!==null&&kc($r)&&($r=null),Fr!==null&&kc(Fr)&&(Fr=null),Ta.forEach(Uy),Sa.forEach(Uy)}function ko(t,e){t.blockedOn===e&&(t.blockedOn=null,Xf||(Xf=!0,qt.unstable_scheduleCallback(qt.unstable_NormalPriority,WN)))}function Ia(t){function e(s){return ko(s,t)}if(0<Xl.length){ko(Xl[0],t);for(var n=1;n<Xl.length;n++){var r=Xl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Vr!==null&&ko(Vr,t),$r!==null&&ko($r,t),Fr!==null&&ko(Fr,t),Ta.forEach(e),Sa.forEach(e),n=0;n<xr.length;n++)r=xr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xr.length&&(n=xr[0],n.blockedOn===null);)aT(n),n.blockedOn===null&&xr.shift()}var ki=vr.ReactCurrentBatchConfig,ru=!0;function GN(t,e,n,r){var s=me,i=ki.transition;ki.transition=null;try{me=1,zm(t,e,n,r)}finally{me=s,ki.transition=i}}function KN(t,e,n,r){var s=me,i=ki.transition;ki.transition=null;try{me=4,zm(t,e,n,r)}finally{me=s,ki.transition=i}}function zm(t,e,n,r){if(ru){var s=Jf(t,e,n,r);if(s===null)Mh(t,e,r,su,n),Fy(t,r);else if(qN(s,t,e,n,r))r.stopPropagation();else if(Fy(t,r),e&4&&-1<HN.indexOf(t)){for(;s!==null;){var i=hl(s);if(i!==null&&rT(i),i=Jf(t,e,n,r),i===null&&Mh(t,e,r,su,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Mh(t,e,r,null,n)}}var su=null;function Jf(t,e,n,r){if(su=null,t=Vm(r),t=ws(t),t!==null)if(e=Ys(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Qw(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return su=t,null}function lT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DN()){case $m:return 1;case Zw:return 4;case tu:case MN:return 16;case eT:return 536870912;default:return 16}default:return 16}}var br=null,Bm=null,Pc=null;function cT(){if(Pc)return Pc;var t,e=Bm,n=e.length,r,s="value"in br?br.value:br.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Pc=s.slice(t,1<r?1-r:void 0)}function bc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jl(){return!0}function zy(){return!1}function Kt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Jl:zy,this.isPropagationStopped=zy,this}return ke(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Jl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Jl)},persist:function(){},isPersistent:Jl}),e}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hm=Kt(co),dl=ke({},co,{view:0,detail:0}),QN=Kt(dl),Rh,Nh,Po,ud=ke({},dl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Po&&(Po&&t.type==="mousemove"?(Rh=t.screenX-Po.screenX,Nh=t.screenY-Po.screenY):Nh=Rh=0,Po=t),Rh)},movementY:function(t){return"movementY"in t?t.movementY:Nh}}),By=Kt(ud),YN=ke({},ud,{dataTransfer:0}),XN=Kt(YN),JN=ke({},dl,{relatedTarget:0}),Ah=Kt(JN),ZN=ke({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),eA=Kt(ZN),tA=ke({},co,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nA=Kt(tA),rA=ke({},co,{data:0}),Hy=Kt(rA),sA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},iA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oA[t])?!!e[t]:!1}function qm(){return aA}var lA=ke({},dl,{key:function(t){if(t.key){var e=sA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=bc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?iA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qm,charCode:function(t){return t.type==="keypress"?bc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?bc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cA=Kt(lA),uA=ke({},ud,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qy=Kt(uA),dA=ke({},dl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qm}),hA=Kt(dA),fA=ke({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),pA=Kt(fA),mA=ke({},ud,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gA=Kt(mA),_A=[9,13,27,32],Wm=lr&&"CompositionEvent"in window,na=null;lr&&"documentMode"in document&&(na=document.documentMode);var yA=lr&&"TextEvent"in window&&!na,uT=lr&&(!Wm||na&&8<na&&11>=na),Wy=String.fromCharCode(32),Gy=!1;function dT(t,e){switch(t){case"keyup":return _A.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fi=!1;function vA(t,e){switch(t){case"compositionend":return hT(e);case"keypress":return e.which!==32?null:(Gy=!0,Wy);case"textInput":return t=e.data,t===Wy&&Gy?null:t;default:return null}}function EA(t,e){if(fi)return t==="compositionend"||!Wm&&dT(t,e)?(t=cT(),Pc=Bm=br=null,fi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return uT&&e.locale!=="ko"?null:e.data;default:return null}}var wA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ky(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!wA[t.type]:e==="textarea"}function fT(t,e,n,r){Hw(r),e=iu(e,"onChange"),0<e.length&&(n=new Hm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ra=null,Ca=null;function TA(t){IT(t,0)}function dd(t){var e=gi(t);if(jw(e))return t}function SA(t,e){if(t==="change")return e}var pT=!1;if(lr){var kh;if(lr){var Ph="oninput"in document;if(!Ph){var Qy=document.createElement("div");Qy.setAttribute("oninput","return;"),Ph=typeof Qy.oninput=="function"}kh=Ph}else kh=!1;pT=kh&&(!document.documentMode||9<document.documentMode)}function Yy(){ra&&(ra.detachEvent("onpropertychange",mT),Ca=ra=null)}function mT(t){if(t.propertyName==="value"&&dd(Ca)){var e=[];fT(e,Ca,t,Vm(t)),Kw(TA,e)}}function IA(t,e,n){t==="focusin"?(Yy(),ra=e,Ca=n,ra.attachEvent("onpropertychange",mT)):t==="focusout"&&Yy()}function CA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dd(Ca)}function xA(t,e){if(t==="click")return dd(e)}function RA(t,e){if(t==="input"||t==="change")return dd(e)}function NA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:NA;function xa(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Lf.call(e,s)||!wn(t[s],e[s]))return!1}return!0}function Xy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jy(t,e){var n=Xy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Xy(n)}}function gT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function _T(){for(var t=window,e=Jc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jc(t.document)}return e}function Gm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function AA(t){var e=_T(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gT(n.ownerDocument.documentElement,n)){if(r!==null&&Gm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Jy(n,i);var o=Jy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kA=lr&&"documentMode"in document&&11>=document.documentMode,pi=null,Zf=null,sa=null,ep=!1;function Zy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ep||pi==null||pi!==Jc(r)||(r=pi,"selectionStart"in r&&Gm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),sa&&xa(sa,r)||(sa=r,r=iu(Zf,"onSelect"),0<r.length&&(e=new Hm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=pi)))}function Zl(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mi={animationend:Zl("Animation","AnimationEnd"),animationiteration:Zl("Animation","AnimationIteration"),animationstart:Zl("Animation","AnimationStart"),transitionend:Zl("Transition","TransitionEnd")},bh={},yT={};lr&&(yT=document.createElement("div").style,"AnimationEvent"in window||(delete mi.animationend.animation,delete mi.animationiteration.animation,delete mi.animationstart.animation),"TransitionEvent"in window||delete mi.transitionend.transition);function hd(t){if(bh[t])return bh[t];if(!mi[t])return t;var e=mi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in yT)return bh[t]=e[n];return t}var vT=hd("animationend"),ET=hd("animationiteration"),wT=hd("animationstart"),TT=hd("transitionend"),ST=new Map,ev="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function is(t,e){ST.set(t,e),Qs(e,[t])}for(var Oh=0;Oh<ev.length;Oh++){var Lh=ev[Oh],PA=Lh.toLowerCase(),bA=Lh[0].toUpperCase()+Lh.slice(1);is(PA,"on"+bA)}is(vT,"onAnimationEnd");is(ET,"onAnimationIteration");is(wT,"onAnimationStart");is("dblclick","onDoubleClick");is("focusin","onFocus");is("focusout","onBlur");is(TT,"onTransitionEnd");zi("onMouseEnter",["mouseout","mouseover"]);zi("onMouseLeave",["mouseout","mouseover"]);zi("onPointerEnter",["pointerout","pointerover"]);zi("onPointerLeave",["pointerout","pointerover"]);Qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qs("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),OA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wo));function tv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,PN(r,e,void 0,t),t.currentTarget=null}function IT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;tv(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;tv(s,a,c),i=l}}}if(eu)throw t=Qf,eu=!1,Qf=null,t}function ve(t,e){var n=e[ip];n===void 0&&(n=e[ip]=new Set);var r=t+"__bubble";n.has(r)||(CT(e,t,2,!1),n.add(r))}function Dh(t,e,n){var r=0;e&&(r|=4),CT(n,t,r,e)}var ec="_reactListening"+Math.random().toString(36).slice(2);function Ra(t){if(!t[ec]){t[ec]=!0,bw.forEach(function(n){n!=="selectionchange"&&(OA.has(n)||Dh(n,!1,t),Dh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ec]||(e[ec]=!0,Dh("selectionchange",!1,e))}}function CT(t,e,n,r){switch(lT(e)){case 1:var s=GN;break;case 4:s=KN;break;default:s=zm}n=s.bind(null,e,n,t),s=void 0,!Kf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Mh(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ws(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Kw(function(){var c=i,u=Vm(n),h=[];e:{var f=ST.get(t);if(f!==void 0){var p=Hm,_=t;switch(t){case"keypress":if(bc(n)===0)break e;case"keydown":case"keyup":p=cA;break;case"focusin":_="focus",p=Ah;break;case"focusout":_="blur",p=Ah;break;case"beforeblur":case"afterblur":p=Ah;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=By;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=XN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=hA;break;case vT:case ET:case wT:p=eA;break;case TT:p=pA;break;case"scroll":p=QN;break;case"wheel":p=gA;break;case"copy":case"cut":case"paste":p=nA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=qy}var g=(e&4)!==0,v=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var y=c,E;y!==null;){E=y;var w=E.stateNode;if(E.tag===5&&w!==null&&(E=w,m!==null&&(w=wa(y,m),w!=null&&g.push(Na(y,w,E)))),v)break;y=y.return}0<g.length&&(f=new p(f,_,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Wf&&(_=n.relatedTarget||n.fromElement)&&(ws(_)||_[cr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=c,_=_?ws(_):null,_!==null&&(v=Ys(_),_!==v||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=c),p!==_)){if(g=By,w="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=qy,w="onPointerLeave",m="onPointerEnter",y="pointer"),v=p==null?f:gi(p),E=_==null?f:gi(_),f=new g(w,y+"leave",p,n,u),f.target=v,f.relatedTarget=E,w=null,ws(u)===c&&(g=new g(m,y+"enter",_,n,u),g.target=E,g.relatedTarget=v,w=g),v=w,p&&_)t:{for(g=p,m=_,y=0,E=g;E;E=ii(E))y++;for(E=0,w=m;w;w=ii(w))E++;for(;0<y-E;)g=ii(g),y--;for(;0<E-y;)m=ii(m),E--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=ii(g),m=ii(m)}g=null}else g=null;p!==null&&nv(h,f,p,g,!1),_!==null&&v!==null&&nv(h,v,_,g,!0)}}e:{if(f=c?gi(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=SA;else if(Ky(f))if(pT)T=RA;else{T=CA;var R=IA}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=xA);if(T&&(T=T(t,c))){fT(h,T,n,u);break e}R&&R(t,f,c),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&Uf(f,"number",f.value)}switch(R=c?gi(c):window,t){case"focusin":(Ky(R)||R.contentEditable==="true")&&(pi=R,Zf=c,sa=null);break;case"focusout":sa=Zf=pi=null;break;case"mousedown":ep=!0;break;case"contextmenu":case"mouseup":case"dragend":ep=!1,Zy(h,n,u);break;case"selectionchange":if(kA)break;case"keydown":case"keyup":Zy(h,n,u)}var b;if(Wm)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else fi?dT(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(uT&&n.locale!=="ko"&&(fi||A!=="onCompositionStart"?A==="onCompositionEnd"&&fi&&(b=cT()):(br=u,Bm="value"in br?br.value:br.textContent,fi=!0)),R=iu(c,A),0<R.length&&(A=new Hy(A,t,null,n,u),h.push({event:A,listeners:R}),b?A.data=b:(b=hT(n),b!==null&&(A.data=b)))),(b=yA?vA(t,n):EA(t,n))&&(c=iu(c,"onBeforeInput"),0<c.length&&(u=new Hy("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=b))}IT(h,e)})}function Na(t,e,n){return{instance:t,listener:e,currentTarget:n}}function iu(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=wa(t,n),i!=null&&r.unshift(Na(t,i,s)),i=wa(t,e),i!=null&&r.push(Na(t,i,s))),t=t.return}return r}function ii(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function nv(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=wa(n,i),l!=null&&o.unshift(Na(n,l,a))):s||(l=wa(n,i),l!=null&&o.push(Na(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var LA=/\r\n?/g,DA=/\u0000|\uFFFD/g;function rv(t){return(typeof t=="string"?t:""+t).replace(LA,`
`).replace(DA,"")}function tc(t,e,n){if(e=rv(e),rv(t)!==e&&n)throw Error(D(425))}function ou(){}var tp=null,np=null;function rp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sp=typeof setTimeout=="function"?setTimeout:void 0,MA=typeof clearTimeout=="function"?clearTimeout:void 0,sv=typeof Promise=="function"?Promise:void 0,jA=typeof queueMicrotask=="function"?queueMicrotask:typeof sv<"u"?function(t){return sv.resolve(null).then(t).catch(VA)}:sp;function VA(t){setTimeout(function(){throw t})}function jh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ia(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ia(e)}function Ur(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function iv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var uo=Math.random().toString(36).slice(2),An="__reactFiber$"+uo,Aa="__reactProps$"+uo,cr="__reactContainer$"+uo,ip="__reactEvents$"+uo,$A="__reactListeners$"+uo,FA="__reactHandles$"+uo;function ws(t){var e=t[An];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cr]||n[An]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=iv(t);t!==null;){if(n=t[An])return n;t=iv(t)}return e}t=n,n=t.parentNode}return null}function hl(t){return t=t[An]||t[cr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function gi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function fd(t){return t[Aa]||null}var op=[],_i=-1;function os(t){return{current:t}}function Ie(t){0>_i||(t.current=op[_i],op[_i]=null,_i--)}function ye(t,e){_i++,op[_i]=t.current,t.current=e}var Zr={},Ct=os(Zr),Mt=os(!1),Os=Zr;function Bi(t,e){var n=t.type.contextTypes;if(!n)return Zr;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function jt(t){return t=t.childContextTypes,t!=null}function au(){Ie(Mt),Ie(Ct)}function ov(t,e,n){if(Ct.current!==Zr)throw Error(D(168));ye(Ct,e),ye(Mt,n)}function xT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(D(108,IN(t)||"Unknown",s));return ke({},n,r)}function lu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zr,Os=Ct.current,ye(Ct,t),ye(Mt,Mt.current),!0}function av(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=xT(t,e,Os),r.__reactInternalMemoizedMergedChildContext=t,Ie(Mt),Ie(Ct),ye(Ct,t)):Ie(Mt),ye(Mt,n)}var Qn=null,pd=!1,Vh=!1;function RT(t){Qn===null?Qn=[t]:Qn.push(t)}function UA(t){pd=!0,RT(t)}function as(){if(!Vh&&Qn!==null){Vh=!0;var t=0,e=me;try{var n=Qn;for(me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Qn=null,pd=!1}catch(s){throw Qn!==null&&(Qn=Qn.slice(t+1)),Jw($m,as),s}finally{me=e,Vh=!1}}return null}var yi=[],vi=0,cu=null,uu=0,Xt=[],Jt=0,Ls=null,Xn=1,Jn="";function _s(t,e){yi[vi++]=uu,yi[vi++]=cu,cu=t,uu=e}function NT(t,e,n){Xt[Jt++]=Xn,Xt[Jt++]=Jn,Xt[Jt++]=Ls,Ls=t;var r=Xn;t=Jn;var s=32-yn(r)-1;r&=~(1<<s),n+=1;var i=32-yn(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Xn=1<<32-yn(e)+s|n<<s|r,Jn=i+t}else Xn=1<<i|n<<s|r,Jn=t}function Km(t){t.return!==null&&(_s(t,1),NT(t,1,0))}function Qm(t){for(;t===cu;)cu=yi[--vi],yi[vi]=null,uu=yi[--vi],yi[vi]=null;for(;t===Ls;)Ls=Xt[--Jt],Xt[Jt]=null,Jn=Xt[--Jt],Xt[Jt]=null,Xn=Xt[--Jt],Xt[Jt]=null}var Bt=null,zt=null,Re=!1,fn=null;function AT(t,e){var n=tn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function lv(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bt=t,zt=Ur(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bt=t,zt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ls!==null?{id:Xn,overflow:Jn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bt=t,zt=null,!0):!1;default:return!1}}function ap(t){return(t.mode&1)!==0&&(t.flags&128)===0}function lp(t){if(Re){var e=zt;if(e){var n=e;if(!lv(t,e)){if(ap(t))throw Error(D(418));e=Ur(n.nextSibling);var r=Bt;e&&lv(t,e)?AT(r,n):(t.flags=t.flags&-4097|2,Re=!1,Bt=t)}}else{if(ap(t))throw Error(D(418));t.flags=t.flags&-4097|2,Re=!1,Bt=t}}}function cv(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function nc(t){if(t!==Bt)return!1;if(!Re)return cv(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rp(t.type,t.memoizedProps)),e&&(e=zt)){if(ap(t))throw kT(),Error(D(418));for(;e;)AT(t,e),e=Ur(e.nextSibling)}if(cv(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zt=Ur(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zt=null}}else zt=Bt?Ur(t.stateNode.nextSibling):null;return!0}function kT(){for(var t=zt;t;)t=Ur(t.nextSibling)}function Hi(){zt=Bt=null,Re=!1}function Ym(t){fn===null?fn=[t]:fn.push(t)}var zA=vr.ReactCurrentBatchConfig;function dn(t,e){if(t&&t.defaultProps){e=ke({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var du=os(null),hu=null,Ei=null,Xm=null;function Jm(){Xm=Ei=hu=null}function Zm(t){var e=du.current;Ie(du),t._currentValue=e}function cp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pi(t,e){hu=t,Xm=Ei=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Lt=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(Xm!==t)if(t={context:t,memoizedValue:e,next:null},Ei===null){if(hu===null)throw Error(D(308));Ei=t,hu.dependencies={lanes:0,firstContext:t}}else Ei=Ei.next=t;return e}var Ts=null;function eg(t){Ts===null?Ts=[t]:Ts.push(t)}function PT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,eg(e)):(n.next=s.next,s.next=n),e.interleaved=n,ur(t,r)}function ur(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cr=!1;function tg(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,de&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ur(t,n)}return s=r.interleaved,s===null?(e.next=e,eg(r)):(e.next=s.next,s.next=e),r.interleaved=e,ur(t,n)}function Oc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fm(t,n)}}function uv(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fu(t,e,n,r){var s=t.updateQueue;Cr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,g=a;switch(f=e,p=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){h=_.call(p,h,f);break e}h=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,f=typeof _=="function"?_.call(p,h,f):_,f==null)break e;h=ke({},h,f);break e;case 2:Cr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ms|=o,t.lanes=o,t.memoizedState=h}}function dv(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var OT=new Pw.Component().refs;function up(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ke({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var md={isMounted:function(t){return(t=t._reactInternals)?Ys(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=kt(),s=Hr(t),i=rr(r,s);i.payload=e,n!=null&&(i.callback=n),e=zr(t,i,s),e!==null&&(vn(e,t,s,r),Oc(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=kt(),s=Hr(t),i=rr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=zr(t,i,s),e!==null&&(vn(e,t,s,r),Oc(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=kt(),r=Hr(t),s=rr(n,r);s.tag=2,e!=null&&(s.callback=e),e=zr(t,s,r),e!==null&&(vn(e,t,r,n),Oc(e,t,r))}};function hv(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!xa(n,r)||!xa(s,i):!0}function LT(t,e,n){var r=!1,s=Zr,i=e.contextType;return typeof i=="object"&&i!==null?i=an(i):(s=jt(e)?Os:Ct.current,r=e.contextTypes,i=(r=r!=null)?Bi(t,s):Zr),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=md,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function fv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&md.enqueueReplaceState(e,e.state,null)}function dp(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=OT,tg(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=an(i):(i=jt(e)?Os:Ct.current,s.context=Bi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(up(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&md.enqueueReplaceState(s,s.state,null),fu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function bo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===OT&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function rc(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pv(t){var e=t._init;return e(t._payload)}function DT(t){function e(m,y){if(t){var E=m.deletions;E===null?(m.deletions=[y],m.flags|=16):E.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=qr(m,y),m.index=0,m.sibling=null,m}function i(m,y,E){return m.index=E,t?(E=m.alternate,E!==null?(E=E.index,E<y?(m.flags|=2,y):E):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,E,w){return y===null||y.tag!==6?(y=qh(E,m.mode,w),y.return=m,y):(y=s(y,E),y.return=m,y)}function l(m,y,E,w){var T=E.type;return T===hi?u(m,y,E.props.children,w,E.key):y!==null&&(y.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ir&&pv(T)===y.type)?(w=s(y,E.props),w.ref=bo(m,y,E),w.return=m,w):(w=$c(E.type,E.key,E.props,null,m.mode,w),w.ref=bo(m,y,E),w.return=m,w)}function c(m,y,E,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==E.containerInfo||y.stateNode.implementation!==E.implementation?(y=Wh(E,m.mode,w),y.return=m,y):(y=s(y,E.children||[]),y.return=m,y)}function u(m,y,E,w,T){return y===null||y.tag!==7?(y=As(E,m.mode,w,T),y.return=m,y):(y=s(y,E),y.return=m,y)}function h(m,y,E){if(typeof y=="string"&&y!==""||typeof y=="number")return y=qh(""+y,m.mode,E),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Wl:return E=$c(y.type,y.key,y.props,null,m.mode,E),E.ref=bo(m,null,y),E.return=m,E;case di:return y=Wh(y,m.mode,E),y.return=m,y;case Ir:var w=y._init;return h(m,w(y._payload),E)}if(Ho(y)||Ro(y))return y=As(y,m.mode,E,null),y.return=m,y;rc(m,y)}return null}function f(m,y,E,w){var T=y!==null?y.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return T!==null?null:a(m,y,""+E,w);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Wl:return E.key===T?l(m,y,E,w):null;case di:return E.key===T?c(m,y,E,w):null;case Ir:return T=E._init,f(m,y,T(E._payload),w)}if(Ho(E)||Ro(E))return T!==null?null:u(m,y,E,w,null);rc(m,E)}return null}function p(m,y,E,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(E)||null,a(y,m,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Wl:return m=m.get(w.key===null?E:w.key)||null,l(y,m,w,T);case di:return m=m.get(w.key===null?E:w.key)||null,c(y,m,w,T);case Ir:var R=w._init;return p(m,y,E,R(w._payload),T)}if(Ho(w)||Ro(w))return m=m.get(E)||null,u(y,m,w,T,null);rc(y,w)}return null}function _(m,y,E,w){for(var T=null,R=null,b=y,A=y=0,W=null;b!==null&&A<E.length;A++){b.index>A?(W=b,b=null):W=b.sibling;var S=f(m,b,E[A],w);if(S===null){b===null&&(b=W);break}t&&b&&S.alternate===null&&e(m,b),y=i(S,y,A),R===null?T=S:R.sibling=S,R=S,b=W}if(A===E.length)return n(m,b),Re&&_s(m,A),T;if(b===null){for(;A<E.length;A++)b=h(m,E[A],w),b!==null&&(y=i(b,y,A),R===null?T=b:R.sibling=b,R=b);return Re&&_s(m,A),T}for(b=r(m,b);A<E.length;A++)W=p(b,m,A,E[A],w),W!==null&&(t&&W.alternate!==null&&b.delete(W.key===null?A:W.key),y=i(W,y,A),R===null?T=W:R.sibling=W,R=W);return t&&b.forEach(function(x){return e(m,x)}),Re&&_s(m,A),T}function g(m,y,E,w){var T=Ro(E);if(typeof T!="function")throw Error(D(150));if(E=T.call(E),E==null)throw Error(D(151));for(var R=T=null,b=y,A=y=0,W=null,S=E.next();b!==null&&!S.done;A++,S=E.next()){b.index>A?(W=b,b=null):W=b.sibling;var x=f(m,b,S.value,w);if(x===null){b===null&&(b=W);break}t&&b&&x.alternate===null&&e(m,b),y=i(x,y,A),R===null?T=x:R.sibling=x,R=x,b=W}if(S.done)return n(m,b),Re&&_s(m,A),T;if(b===null){for(;!S.done;A++,S=E.next())S=h(m,S.value,w),S!==null&&(y=i(S,y,A),R===null?T=S:R.sibling=S,R=S);return Re&&_s(m,A),T}for(b=r(m,b);!S.done;A++,S=E.next())S=p(b,m,A,S.value,w),S!==null&&(t&&S.alternate!==null&&b.delete(S.key===null?A:S.key),y=i(S,y,A),R===null?T=S:R.sibling=S,R=S);return t&&b.forEach(function(C){return e(m,C)}),Re&&_s(m,A),T}function v(m,y,E,w){if(typeof E=="object"&&E!==null&&E.type===hi&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Wl:e:{for(var T=E.key,R=y;R!==null;){if(R.key===T){if(T=E.type,T===hi){if(R.tag===7){n(m,R.sibling),y=s(R,E.props.children),y.return=m,m=y;break e}}else if(R.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Ir&&pv(T)===R.type){n(m,R.sibling),y=s(R,E.props),y.ref=bo(m,R,E),y.return=m,m=y;break e}n(m,R);break}else e(m,R);R=R.sibling}E.type===hi?(y=As(E.props.children,m.mode,w,E.key),y.return=m,m=y):(w=$c(E.type,E.key,E.props,null,m.mode,w),w.ref=bo(m,y,E),w.return=m,m=w)}return o(m);case di:e:{for(R=E.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===E.containerInfo&&y.stateNode.implementation===E.implementation){n(m,y.sibling),y=s(y,E.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=Wh(E,m.mode,w),y.return=m,m=y}return o(m);case Ir:return R=E._init,v(m,y,R(E._payload),w)}if(Ho(E))return _(m,y,E,w);if(Ro(E))return g(m,y,E,w);rc(m,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,y!==null&&y.tag===6?(n(m,y.sibling),y=s(y,E),y.return=m,m=y):(n(m,y),y=qh(E,m.mode,w),y.return=m,m=y),o(m)):n(m,y)}return v}var qi=DT(!0),MT=DT(!1),fl={},Mn=os(fl),ka=os(fl),Pa=os(fl);function Ss(t){if(t===fl)throw Error(D(174));return t}function ng(t,e){switch(ye(Pa,e),ye(ka,t),ye(Mn,fl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bf(e,t)}Ie(Mn),ye(Mn,e)}function Wi(){Ie(Mn),Ie(ka),Ie(Pa)}function jT(t){Ss(Pa.current);var e=Ss(Mn.current),n=Bf(e,t.type);e!==n&&(ye(ka,t),ye(Mn,n))}function rg(t){ka.current===t&&(Ie(Mn),Ie(ka))}var Ne=os(0);function pu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $h=[];function sg(){for(var t=0;t<$h.length;t++)$h[t]._workInProgressVersionPrimary=null;$h.length=0}var Lc=vr.ReactCurrentDispatcher,Fh=vr.ReactCurrentBatchConfig,Ds=0,Ae=null,Be=null,Xe=null,mu=!1,ia=!1,ba=0,BA=0;function ht(){throw Error(D(321))}function ig(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!wn(t[n],e[n]))return!1;return!0}function og(t,e,n,r,s,i){if(Ds=i,Ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lc.current=t===null||t.memoizedState===null?GA:KA,t=n(r,s),ia){i=0;do{if(ia=!1,ba=0,25<=i)throw Error(D(301));i+=1,Xe=Be=null,e.updateQueue=null,Lc.current=QA,t=n(r,s)}while(ia)}if(Lc.current=gu,e=Be!==null&&Be.next!==null,Ds=0,Xe=Be=Ae=null,mu=!1,e)throw Error(D(300));return t}function ag(){var t=ba!==0;return ba=0,t}function Rn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?Ae.memoizedState=Xe=t:Xe=Xe.next=t,Xe}function ln(){if(Be===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=Be.next;var e=Xe===null?Ae.memoizedState:Xe.next;if(e!==null)Xe=e,Be=t;else{if(t===null)throw Error(D(310));Be=t,t={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Xe===null?Ae.memoizedState=Xe=t:Xe=Xe.next=t}return Xe}function Oa(t,e){return typeof e=="function"?e(t):e}function Uh(t){var e=ln(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Be,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Ds&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Ae.lanes|=u,Ms|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,wn(r,e.memoizedState)||(Lt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ae.lanes|=i,Ms|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function zh(t){var e=ln(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);wn(i,e.memoizedState)||(Lt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function VT(){}function $T(t,e){var n=Ae,r=ln(),s=e(),i=!wn(r.memoizedState,s);if(i&&(r.memoizedState=s,Lt=!0),r=r.queue,lg(zT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,La(9,UT.bind(null,n,r,s,e),void 0,null),et===null)throw Error(D(349));Ds&30||FT(n,e,s)}return s}function FT(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function UT(t,e,n,r){e.value=n,e.getSnapshot=r,BT(e)&&HT(t)}function zT(t,e,n){return n(function(){BT(e)&&HT(t)})}function BT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!wn(t,n)}catch{return!0}}function HT(t){var e=ur(t,1);e!==null&&vn(e,t,1,-1)}function mv(t){var e=Rn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:t},e.queue=t,t=t.dispatch=WA.bind(null,Ae,t),[e.memoizedState,t]}function La(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ae.updateQueue,e===null?(e={lastEffect:null,stores:null},Ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function qT(){return ln().memoizedState}function Dc(t,e,n,r){var s=Rn();Ae.flags|=t,s.memoizedState=La(1|e,n,void 0,r===void 0?null:r)}function gd(t,e,n,r){var s=ln();r=r===void 0?null:r;var i=void 0;if(Be!==null){var o=Be.memoizedState;if(i=o.destroy,r!==null&&ig(r,o.deps)){s.memoizedState=La(e,n,i,r);return}}Ae.flags|=t,s.memoizedState=La(1|e,n,i,r)}function gv(t,e){return Dc(8390656,8,t,e)}function lg(t,e){return gd(2048,8,t,e)}function WT(t,e){return gd(4,2,t,e)}function GT(t,e){return gd(4,4,t,e)}function KT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function QT(t,e,n){return n=n!=null?n.concat([t]):null,gd(4,4,KT.bind(null,e,t),n)}function cg(){}function YT(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ig(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function XT(t,e){var n=ln();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ig(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function JT(t,e,n){return Ds&21?(wn(n,e)||(n=tT(),Ae.lanes|=n,Ms|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Lt=!0),t.memoizedState=n)}function HA(t,e){var n=me;me=n!==0&&4>n?n:4,t(!0);var r=Fh.transition;Fh.transition={};try{t(!1),e()}finally{me=n,Fh.transition=r}}function ZT(){return ln().memoizedState}function qA(t,e,n){var r=Hr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},eS(t))tS(e,n);else if(n=PT(t,e,n,r),n!==null){var s=kt();vn(n,t,r,s),nS(n,e,r)}}function WA(t,e,n){var r=Hr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(eS(t))tS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,wn(a,o)){var l=e.interleaved;l===null?(s.next=s,eg(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=PT(t,e,s,r),n!==null&&(s=kt(),vn(n,t,r,s),nS(n,e,r))}}function eS(t){var e=t.alternate;return t===Ae||e!==null&&e===Ae}function tS(t,e){ia=mu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function nS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Fm(t,n)}}var gu={readContext:an,useCallback:ht,useContext:ht,useEffect:ht,useImperativeHandle:ht,useInsertionEffect:ht,useLayoutEffect:ht,useMemo:ht,useReducer:ht,useRef:ht,useState:ht,useDebugValue:ht,useDeferredValue:ht,useTransition:ht,useMutableSource:ht,useSyncExternalStore:ht,useId:ht,unstable_isNewReconciler:!1},GA={readContext:an,useCallback:function(t,e){return Rn().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:gv,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Dc(4194308,4,KT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Dc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Dc(4,2,t,e)},useMemo:function(t,e){var n=Rn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Rn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=qA.bind(null,Ae,t),[r.memoizedState,t]},useRef:function(t){var e=Rn();return t={current:t},e.memoizedState=t},useState:mv,useDebugValue:cg,useDeferredValue:function(t){return Rn().memoizedState=t},useTransition:function(){var t=mv(!1),e=t[0];return t=HA.bind(null,t[1]),Rn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ae,s=Rn();if(Re){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),et===null)throw Error(D(349));Ds&30||FT(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,gv(zT.bind(null,r,i,t),[t]),r.flags|=2048,La(9,UT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Rn(),e=et.identifierPrefix;if(Re){var n=Jn,r=Xn;n=(r&~(1<<32-yn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ba++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=BA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KA={readContext:an,useCallback:YT,useContext:an,useEffect:lg,useImperativeHandle:QT,useInsertionEffect:WT,useLayoutEffect:GT,useMemo:XT,useReducer:Uh,useRef:qT,useState:function(){return Uh(Oa)},useDebugValue:cg,useDeferredValue:function(t){var e=ln();return JT(e,Be.memoizedState,t)},useTransition:function(){var t=Uh(Oa)[0],e=ln().memoizedState;return[t,e]},useMutableSource:VT,useSyncExternalStore:$T,useId:ZT,unstable_isNewReconciler:!1},QA={readContext:an,useCallback:YT,useContext:an,useEffect:lg,useImperativeHandle:QT,useInsertionEffect:WT,useLayoutEffect:GT,useMemo:XT,useReducer:zh,useRef:qT,useState:function(){return zh(Oa)},useDebugValue:cg,useDeferredValue:function(t){var e=ln();return Be===null?e.memoizedState=t:JT(e,Be.memoizedState,t)},useTransition:function(){var t=zh(Oa)[0],e=ln().memoizedState;return[t,e]},useMutableSource:VT,useSyncExternalStore:$T,useId:ZT,unstable_isNewReconciler:!1};function Gi(t,e){try{var n="",r=e;do n+=SN(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Bh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function hp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YA=typeof WeakMap=="function"?WeakMap:Map;function rS(t,e,n){n=rr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yu||(yu=!0,Tp=r),hp(t,e)},n}function sS(t,e,n){n=rr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){hp(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){hp(t,e),typeof r!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function _v(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=uk.bind(null,t,e,n),e.then(t,t))}function yv(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function vv(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rr(-1,1),e.tag=2,zr(n,e,1))),n.lanes|=1),t)}var XA=vr.ReactCurrentOwner,Lt=!1;function Nt(t,e,n,r){e.child=t===null?MT(e,null,n,r):qi(e,t.child,n,r)}function Ev(t,e,n,r,s){n=n.render;var i=e.ref;return Pi(e,s),r=og(t,e,n,r,i,s),n=ag(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dr(t,e,s)):(Re&&n&&Km(e),e.flags|=1,Nt(t,e,r,s),e.child)}function wv(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_g(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,iS(t,e,i,r,s)):(t=$c(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:xa,n(o,r)&&t.ref===e.ref)return dr(t,e,s)}return e.flags|=1,t=qr(i,r),t.ref=e.ref,t.return=e,e.child=t}function iS(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xa(i,r)&&t.ref===e.ref)if(Lt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Lt=!0);else return e.lanes=t.lanes,dr(t,e,s)}return fp(t,e,n,r,s)}function oS(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ti,Ft),Ft|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Ti,Ft),Ft|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(Ti,Ft),Ft|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ye(Ti,Ft),Ft|=r;return Nt(t,e,s,n),e.child}function aS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function fp(t,e,n,r,s){var i=jt(n)?Os:Ct.current;return i=Bi(e,i),Pi(e,s),n=og(t,e,n,r,i,s),r=ag(),t!==null&&!Lt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dr(t,e,s)):(Re&&r&&Km(e),e.flags|=1,Nt(t,e,n,s),e.child)}function Tv(t,e,n,r,s){if(jt(n)){var i=!0;lu(e)}else i=!1;if(Pi(e,s),e.stateNode===null)Mc(t,e),LT(e,n,r),dp(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=an(c):(c=jt(n)?Os:Ct.current,c=Bi(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&fv(e,o,r,c),Cr=!1;var f=e.memoizedState;o.state=f,fu(e,r,o,s),l=e.memoizedState,a!==r||f!==l||Mt.current||Cr?(typeof u=="function"&&(up(e,n,u,r),l=e.memoizedState),(a=Cr||hv(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,bT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:dn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=an(l):(l=jt(n)?Os:Ct.current,l=Bi(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&fv(e,o,r,l),Cr=!1,f=e.memoizedState,o.state=f,fu(e,r,o,s);var _=e.memoizedState;a!==h||f!==_||Mt.current||Cr?(typeof p=="function"&&(up(e,n,p,r),_=e.memoizedState),(c=Cr||hv(e,n,c,r,f,_,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return pp(t,e,n,r,i,s)}function pp(t,e,n,r,s,i){aS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&av(e,n,!1),dr(t,e,i);r=e.stateNode,XA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=qi(e,t.child,null,i),e.child=qi(e,null,a,i)):Nt(t,e,a,i),e.memoizedState=r.state,s&&av(e,n,!0),e.child}function lS(t){var e=t.stateNode;e.pendingContext?ov(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ov(t,e.context,!1),ng(t,e.containerInfo)}function Sv(t,e,n,r,s){return Hi(),Ym(s),e.flags|=256,Nt(t,e,n,r),e.child}var mp={dehydrated:null,treeContext:null,retryLane:0};function gp(t){return{baseLanes:t,cachePool:null,transitions:null}}function cS(t,e,n){var r=e.pendingProps,s=Ne.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ye(Ne,s&1),t===null)return lp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=vd(o,r,0,null),t=As(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=gp(n),e.memoizedState=mp,t):ug(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return JA(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=qr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=qr(a,i):(i=As(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?gp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=mp,r}return i=t.child,t=i.sibling,r=qr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ug(t,e){return e=vd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function sc(t,e,n,r){return r!==null&&Ym(r),qi(e,t.child,null,n),t=ug(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function JA(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Bh(Error(D(422))),sc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=vd({mode:"visible",children:r.children},s,0,null),i=As(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&qi(e,t.child,null,o),e.child.memoizedState=gp(o),e.memoizedState=mp,i);if(!(e.mode&1))return sc(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(D(419)),r=Bh(i,r,void 0),sc(t,e,o,r)}if(a=(o&t.childLanes)!==0,Lt||a){if(r=et,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ur(t,s),vn(r,t,s,-1))}return gg(),r=Bh(Error(D(421))),sc(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=dk.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,zt=Ur(s.nextSibling),Bt=e,Re=!0,fn=null,t!==null&&(Xt[Jt++]=Xn,Xt[Jt++]=Jn,Xt[Jt++]=Ls,Xn=t.id,Jn=t.overflow,Ls=e),e=ug(e,r.children),e.flags|=4096,e)}function Iv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cp(t.return,e,n)}function Hh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function uS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Nt(t,e,r.children,n),r=Ne.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Iv(t,n,e);else if(t.tag===19)Iv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(Ne,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&pu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Hh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&pu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Hh(e,!0,n,null,i);break;case"together":Hh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ms|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=qr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function ZA(t,e,n){switch(e.tag){case 3:lS(e),Hi();break;case 5:jT(e);break;case 1:jt(e.type)&&lu(e);break;case 4:ng(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ye(du,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?cS(t,e,n):(ye(Ne,Ne.current&1),t=dr(t,e,n),t!==null?t.sibling:null);ye(Ne,Ne.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return uS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(Ne,Ne.current),r)break;return null;case 22:case 23:return e.lanes=0,oS(t,e,n)}return dr(t,e,n)}var dS,_p,hS,fS;dS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_p=function(){};hS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ss(Mn.current);var i=null;switch(n){case"input":s=$f(t,s),r=$f(t,r),i=[];break;case"select":s=ke({},s,{value:void 0}),r=ke({},r,{value:void 0}),i=[];break;case"textarea":s=zf(t,s),r=zf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ou)}Hf(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(va.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(va.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ve("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};fS=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oo(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ek(t,e,n){var r=e.pendingProps;switch(Qm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(e),null;case 1:return jt(e.type)&&au(),ft(e),null;case 3:return r=e.stateNode,Wi(),Ie(Mt),Ie(Ct),sg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(nc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fn!==null&&(Cp(fn),fn=null))),_p(t,e),ft(e),null;case 5:rg(e);var s=Ss(Pa.current);if(n=e.type,t!==null&&e.stateNode!=null)hS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return ft(e),null}if(t=Ss(Mn.current),nc(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[An]=e,r[Aa]=i,t=(e.mode&1)!==0,n){case"dialog":ve("cancel",r),ve("close",r);break;case"iframe":case"object":case"embed":ve("load",r);break;case"video":case"audio":for(s=0;s<Wo.length;s++)ve(Wo[s],r);break;case"source":ve("error",r);break;case"img":case"image":case"link":ve("error",r),ve("load",r);break;case"details":ve("toggle",r);break;case"input":Oy(r,i),ve("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ve("invalid",r);break;case"textarea":Dy(r,i),ve("invalid",r)}Hf(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&tc(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&tc(r.textContent,a,t),s=["children",""+a]):va.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ve("scroll",r)}switch(n){case"input":Gl(r),Ly(r,i,!0);break;case"textarea":Gl(r),My(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ou)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[An]=e,t[Aa]=r,dS(t,e,!1,!1),e.stateNode=t;e:{switch(o=qf(n,r),n){case"dialog":ve("cancel",t),ve("close",t),s=r;break;case"iframe":case"object":case"embed":ve("load",t),s=r;break;case"video":case"audio":for(s=0;s<Wo.length;s++)ve(Wo[s],t);s=r;break;case"source":ve("error",t),s=r;break;case"img":case"image":case"link":ve("error",t),ve("load",t),s=r;break;case"details":ve("toggle",t),s=r;break;case"input":Oy(t,r),s=$f(t,r),ve("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=ke({},r,{value:void 0}),ve("invalid",t);break;case"textarea":Dy(t,r),s=zf(t,r),ve("invalid",t);break;default:s=r}Hf(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Bw(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Uw(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ea(t,l):typeof l=="number"&&Ea(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(va.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ve("scroll",t):l!=null&&Lm(t,i,l,o))}switch(n){case"input":Gl(t),Ly(t,r,!1);break;case"textarea":Gl(t),My(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Jr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ri(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ri(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ou)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ft(e),null;case 6:if(t&&e.stateNode!=null)fS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=Ss(Pa.current),Ss(Mn.current),nc(e)){if(r=e.stateNode,n=e.memoizedProps,r[An]=e,(i=r.nodeValue!==n)&&(t=Bt,t!==null))switch(t.tag){case 3:tc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&tc(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[An]=e,e.stateNode=r}return ft(e),null;case 13:if(Ie(Ne),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&zt!==null&&e.mode&1&&!(e.flags&128))kT(),Hi(),e.flags|=98560,i=!1;else if(i=nc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[An]=e}else Hi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ft(e),i=!1}else fn!==null&&(Cp(fn),fn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?qe===0&&(qe=3):gg())),e.updateQueue!==null&&(e.flags|=4),ft(e),null);case 4:return Wi(),_p(t,e),t===null&&Ra(e.stateNode.containerInfo),ft(e),null;case 10:return Zm(e.type._context),ft(e),null;case 17:return jt(e.type)&&au(),ft(e),null;case 19:if(Ie(Ne),i=e.memoizedState,i===null)return ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Oo(i,!1);else{if(qe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pu(t),o!==null){for(e.flags|=128,Oo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(Ne,Ne.current&1|2),e.child}t=t.sibling}i.tail!==null&&De()>Ki&&(e.flags|=128,r=!0,Oo(i,!1),e.lanes=4194304)}else{if(!r)if(t=pu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Re)return ft(e),null}else 2*De()-i.renderingStartTime>Ki&&n!==1073741824&&(e.flags|=128,r=!0,Oo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=De(),e.sibling=null,n=Ne.current,ye(Ne,r?n&1|2:n&1),e):(ft(e),null);case 22:case 23:return mg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ft&1073741824&&(ft(e),e.subtreeFlags&6&&(e.flags|=8192)):ft(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function tk(t,e){switch(Qm(e),e.tag){case 1:return jt(e.type)&&au(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wi(),Ie(Mt),Ie(Ct),sg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return rg(e),null;case 13:if(Ie(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));Hi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ie(Ne),null;case 4:return Wi(),null;case 10:return Zm(e.type._context),null;case 22:case 23:return mg(),null;case 24:return null;default:return null}}var ic=!1,gt=!1,nk=typeof WeakSet=="function"?WeakSet:Set,B=null;function wi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){be(t,e,r)}else n.current=null}function yp(t,e,n){try{n()}catch(r){be(t,e,r)}}var Cv=!1;function rk(t,e){if(tp=ru,t=_T(),Gm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(np={focusedElem:t,selectionRange:n},ru=!1,B=e;B!==null;)if(e=B,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,B=t;else for(;B!==null;){e=B;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,v=_.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:dn(e.type,g),v);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){be(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,B=t;break}B=e.return}return _=Cv,Cv=!1,_}function oa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&yp(e,n,i)}s=s.next}while(s!==r)}}function _d(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function vp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function pS(t){var e=t.alternate;e!==null&&(t.alternate=null,pS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[An],delete e[Aa],delete e[ip],delete e[$A],delete e[FA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function mS(t){return t.tag===5||t.tag===3||t.tag===4}function xv(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||mS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ep(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ou));else if(r!==4&&(t=t.child,t!==null))for(Ep(t,e,n),t=t.sibling;t!==null;)Ep(t,e,n),t=t.sibling}function wp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wp(t,e,n),t=t.sibling;t!==null;)wp(t,e,n),t=t.sibling}var it=null,hn=!1;function wr(t,e,n){for(n=n.child;n!==null;)gS(t,e,n),n=n.sibling}function gS(t,e,n){if(Dn&&typeof Dn.onCommitFiberUnmount=="function")try{Dn.onCommitFiberUnmount(cd,n)}catch{}switch(n.tag){case 5:gt||wi(n,e);case 6:var r=it,s=hn;it=null,wr(t,e,n),it=r,hn=s,it!==null&&(hn?(t=it,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(hn?(t=it,n=n.stateNode,t.nodeType===8?jh(t.parentNode,n):t.nodeType===1&&jh(t,n),Ia(t)):jh(it,n.stateNode));break;case 4:r=it,s=hn,it=n.stateNode.containerInfo,hn=!0,wr(t,e,n),it=r,hn=s;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&yp(n,e,o),s=s.next}while(s!==r)}wr(t,e,n);break;case 1:if(!gt&&(wi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){be(n,e,a)}wr(t,e,n);break;case 21:wr(t,e,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,wr(t,e,n),gt=r):wr(t,e,n);break;default:wr(t,e,n)}}function Rv(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nk),e.forEach(function(r){var s=hk.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function un(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,hn=!1;break e;case 3:it=a.stateNode.containerInfo,hn=!0;break e;case 4:it=a.stateNode.containerInfo,hn=!0;break e}a=a.return}if(it===null)throw Error(D(160));gS(i,o,s),it=null,hn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){be(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)_S(e,t),e=e.sibling}function _S(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(un(e,t),xn(t),r&4){try{oa(3,t,t.return),_d(3,t)}catch(g){be(t,t.return,g)}try{oa(5,t,t.return)}catch(g){be(t,t.return,g)}}break;case 1:un(e,t),xn(t),r&512&&n!==null&&wi(n,n.return);break;case 5:if(un(e,t),xn(t),r&512&&n!==null&&wi(n,n.return),t.flags&32){var s=t.stateNode;try{Ea(s,"")}catch(g){be(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Vw(s,i),qf(a,o);var c=qf(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?Bw(s,h):u==="dangerouslySetInnerHTML"?Uw(s,h):u==="children"?Ea(s,h):Lm(s,u,h,c)}switch(a){case"input":Ff(s,i);break;case"textarea":$w(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ri(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ri(s,!!i.multiple,i.defaultValue,!0):Ri(s,!!i.multiple,i.multiple?[]:"",!1))}s[Aa]=i}catch(g){be(t,t.return,g)}}break;case 6:if(un(e,t),xn(t),r&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){be(t,t.return,g)}}break;case 3:if(un(e,t),xn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ia(e.containerInfo)}catch(g){be(t,t.return,g)}break;case 4:un(e,t),xn(t);break;case 13:un(e,t),xn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(fg=De())),r&4&&Rv(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(gt=(c=gt)||u,un(e,t),gt=c):un(e,t),xn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(B=t,u=t.child;u!==null;){for(h=B=u;B!==null;){switch(f=B,p=f.child,f.tag){case 0:case 11:case 14:case 15:oa(4,f,f.return);break;case 1:wi(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){be(r,n,g)}}break;case 5:wi(f,f.return);break;case 22:if(f.memoizedState!==null){Av(h);continue}}p!==null?(p.return=f,B=p):Av(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zw("display",o))}catch(g){be(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){be(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:un(e,t),xn(t),r&4&&Rv(t);break;case 21:break;default:un(e,t),xn(t)}}function xn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(mS(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ea(s,""),r.flags&=-33);var i=xv(t);wp(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=xv(t);Ep(t,a,o);break;default:throw Error(D(161))}}catch(l){be(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sk(t,e,n){B=t,yS(t)}function yS(t,e,n){for(var r=(t.mode&1)!==0;B!==null;){var s=B,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||ic;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||gt;a=ic;var c=gt;if(ic=o,(gt=l)&&!c)for(B=s;B!==null;)o=B,l=o.child,o.tag===22&&o.memoizedState!==null?kv(s):l!==null?(l.return=o,B=l):kv(s);for(;i!==null;)B=i,yS(i),i=i.sibling;B=s,ic=a,gt=c}Nv(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,B=i):Nv(t)}}function Nv(t){for(;B!==null;){var e=B;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gt||_d(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!gt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:dn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&dv(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}dv(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Ia(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}gt||e.flags&512&&vp(e)}catch(f){be(e,e.return,f)}}if(e===t){B=null;break}if(n=e.sibling,n!==null){n.return=e.return,B=n;break}B=e.return}}function Av(t){for(;B!==null;){var e=B;if(e===t){B=null;break}var n=e.sibling;if(n!==null){n.return=e.return,B=n;break}B=e.return}}function kv(t){for(;B!==null;){var e=B;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{_d(4,e)}catch(l){be(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){be(e,s,l)}}var i=e.return;try{vp(e)}catch(l){be(e,i,l)}break;case 5:var o=e.return;try{vp(e)}catch(l){be(e,o,l)}}}catch(l){be(e,e.return,l)}if(e===t){B=null;break}var a=e.sibling;if(a!==null){a.return=e.return,B=a;break}B=e.return}}var ik=Math.ceil,_u=vr.ReactCurrentDispatcher,dg=vr.ReactCurrentOwner,rn=vr.ReactCurrentBatchConfig,de=0,et=null,Fe=null,ct=0,Ft=0,Ti=os(0),qe=0,Da=null,Ms=0,yd=0,hg=0,aa=null,Ot=null,fg=0,Ki=1/0,Kn=null,yu=!1,Tp=null,Br=null,oc=!1,Or=null,vu=0,la=0,Sp=null,jc=-1,Vc=0;function kt(){return de&6?De():jc!==-1?jc:jc=De()}function Hr(t){return t.mode&1?de&2&&ct!==0?ct&-ct:zA.transition!==null?(Vc===0&&(Vc=tT()),Vc):(t=me,t!==0||(t=window.event,t=t===void 0?16:lT(t.type)),t):1}function vn(t,e,n,r){if(50<la)throw la=0,Sp=null,Error(D(185));ul(t,n,r),(!(de&2)||t!==et)&&(t===et&&(!(de&2)&&(yd|=n),qe===4&&Rr(t,ct)),Vt(t,r),n===1&&de===0&&!(e.mode&1)&&(Ki=De()+500,pd&&as()))}function Vt(t,e){var n=t.callbackNode;zN(t,e);var r=nu(t,t===et?ct:0);if(r===0)n!==null&&$y(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$y(n),e===1)t.tag===0?UA(Pv.bind(null,t)):RT(Pv.bind(null,t)),jA(function(){!(de&6)&&as()}),n=null;else{switch(nT(r)){case 1:n=$m;break;case 4:n=Zw;break;case 16:n=tu;break;case 536870912:n=eT;break;default:n=tu}n=xS(n,vS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function vS(t,e){if(jc=-1,Vc=0,de&6)throw Error(D(327));var n=t.callbackNode;if(bi()&&t.callbackNode!==n)return null;var r=nu(t,t===et?ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Eu(t,r);else{e=r;var s=de;de|=2;var i=wS();(et!==t||ct!==e)&&(Kn=null,Ki=De()+500,Ns(t,e));do try{lk();break}catch(a){ES(t,a)}while(1);Jm(),_u.current=i,de=s,Fe!==null?e=0:(et=null,ct=0,e=qe)}if(e!==0){if(e===2&&(s=Yf(t),s!==0&&(r=s,e=Ip(t,s))),e===1)throw n=Da,Ns(t,0),Rr(t,r),Vt(t,De()),n;if(e===6)Rr(t,r);else{if(s=t.current.alternate,!(r&30)&&!ok(s)&&(e=Eu(t,r),e===2&&(i=Yf(t),i!==0&&(r=i,e=Ip(t,i))),e===1))throw n=Da,Ns(t,0),Rr(t,r),Vt(t,De()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:ys(t,Ot,Kn);break;case 3:if(Rr(t,r),(r&130023424)===r&&(e=fg+500-De(),10<e)){if(nu(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){kt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=sp(ys.bind(null,t,Ot,Kn),e);break}ys(t,Ot,Kn);break;case 4:if(Rr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-yn(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=De()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ik(r/1960))-r,10<r){t.timeoutHandle=sp(ys.bind(null,t,Ot,Kn),r);break}ys(t,Ot,Kn);break;case 5:ys(t,Ot,Kn);break;default:throw Error(D(329))}}}return Vt(t,De()),t.callbackNode===n?vS.bind(null,t):null}function Ip(t,e){var n=aa;return t.current.memoizedState.isDehydrated&&(Ns(t,e).flags|=256),t=Eu(t,e),t!==2&&(e=Ot,Ot=n,e!==null&&Cp(e)),t}function Cp(t){Ot===null?Ot=t:Ot.push.apply(Ot,t)}function ok(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!wn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rr(t,e){for(e&=~hg,e&=~yd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-yn(e),r=1<<n;t[n]=-1,e&=~r}}function Pv(t){if(de&6)throw Error(D(327));bi();var e=nu(t,0);if(!(e&1))return Vt(t,De()),null;var n=Eu(t,e);if(t.tag!==0&&n===2){var r=Yf(t);r!==0&&(e=r,n=Ip(t,r))}if(n===1)throw n=Da,Ns(t,0),Rr(t,e),Vt(t,De()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ys(t,Ot,Kn),Vt(t,De()),null}function pg(t,e){var n=de;de|=1;try{return t(e)}finally{de=n,de===0&&(Ki=De()+500,pd&&as())}}function js(t){Or!==null&&Or.tag===0&&!(de&6)&&bi();var e=de;de|=1;var n=rn.transition,r=me;try{if(rn.transition=null,me=1,t)return t()}finally{me=r,rn.transition=n,de=e,!(de&6)&&as()}}function mg(){Ft=Ti.current,Ie(Ti)}function Ns(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,MA(n)),Fe!==null)for(n=Fe.return;n!==null;){var r=n;switch(Qm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&au();break;case 3:Wi(),Ie(Mt),Ie(Ct),sg();break;case 5:rg(r);break;case 4:Wi();break;case 13:Ie(Ne);break;case 19:Ie(Ne);break;case 10:Zm(r.type._context);break;case 22:case 23:mg()}n=n.return}if(et=t,Fe=t=qr(t.current,null),ct=Ft=e,qe=0,Da=null,hg=yd=Ms=0,Ot=aa=null,Ts!==null){for(e=0;e<Ts.length;e++)if(n=Ts[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Ts=null}return t}function ES(t,e){do{var n=Fe;try{if(Jm(),Lc.current=gu,mu){for(var r=Ae.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}mu=!1}if(Ds=0,Xe=Be=Ae=null,ia=!1,ba=0,dg.current=null,n===null||n.return===null){qe=1,Da=e,Fe=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=yv(o);if(p!==null){p.flags&=-257,vv(p,o,a,i,e),p.mode&1&&_v(i,c,e),e=p,l=c;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){_v(i,c,e),gg();break e}l=Error(D(426))}}else if(Re&&a.mode&1){var v=yv(o);if(v!==null){!(v.flags&65536)&&(v.flags|=256),vv(v,o,a,i,e),Ym(Gi(l,a));break e}}i=l=Gi(l,a),qe!==4&&(qe=2),aa===null?aa=[i]:aa.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=rS(i,l,e);uv(i,m);break e;case 1:a=l;var y=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Br===null||!Br.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=sS(i,a,e);uv(i,w);break e}}i=i.return}while(i!==null)}SS(n)}catch(T){e=T,Fe===n&&n!==null&&(Fe=n=n.return);continue}break}while(1)}function wS(){var t=_u.current;return _u.current=gu,t===null?gu:t}function gg(){(qe===0||qe===3||qe===2)&&(qe=4),et===null||!(Ms&268435455)&&!(yd&268435455)||Rr(et,ct)}function Eu(t,e){var n=de;de|=2;var r=wS();(et!==t||ct!==e)&&(Kn=null,Ns(t,e));do try{ak();break}catch(s){ES(t,s)}while(1);if(Jm(),de=n,_u.current=r,Fe!==null)throw Error(D(261));return et=null,ct=0,qe}function ak(){for(;Fe!==null;)TS(Fe)}function lk(){for(;Fe!==null&&!ON();)TS(Fe)}function TS(t){var e=CS(t.alternate,t,Ft);t.memoizedProps=t.pendingProps,e===null?SS(t):Fe=e,dg.current=null}function SS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tk(n,e),n!==null){n.flags&=32767,Fe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qe=6,Fe=null;return}}else if(n=ek(n,e,Ft),n!==null){Fe=n;return}if(e=e.sibling,e!==null){Fe=e;return}Fe=e=t}while(e!==null);qe===0&&(qe=5)}function ys(t,e,n){var r=me,s=rn.transition;try{rn.transition=null,me=1,ck(t,e,n,r)}finally{rn.transition=s,me=r}return null}function ck(t,e,n,r){do bi();while(Or!==null);if(de&6)throw Error(D(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(BN(t,i),t===et&&(Fe=et=null,ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||oc||(oc=!0,xS(tu,function(){return bi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=rn.transition,rn.transition=null;var o=me;me=1;var a=de;de|=4,dg.current=null,rk(t,n),_S(n,t),AA(np),ru=!!tp,np=tp=null,t.current=n,sk(n),LN(),de=a,me=o,rn.transition=i}else t.current=n;if(oc&&(oc=!1,Or=t,vu=s),i=t.pendingLanes,i===0&&(Br=null),jN(n.stateNode),Vt(t,De()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yu)throw yu=!1,t=Tp,Tp=null,t;return vu&1&&t.tag!==0&&bi(),i=t.pendingLanes,i&1?t===Sp?la++:(la=0,Sp=t):la=0,as(),null}function bi(){if(Or!==null){var t=nT(vu),e=rn.transition,n=me;try{if(rn.transition=null,me=16>t?16:t,Or===null)var r=!1;else{if(t=Or,Or=null,vu=0,de&6)throw Error(D(331));var s=de;for(de|=4,B=t.current;B!==null;){var i=B,o=i.child;if(B.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(B=c;B!==null;){var u=B;switch(u.tag){case 0:case 11:case 15:oa(8,u,i)}var h=u.child;if(h!==null)h.return=u,B=h;else for(;B!==null;){u=B;var f=u.sibling,p=u.return;if(pS(u),u===c){B=null;break}if(f!==null){f.return=p,B=f;break}B=p}}}var _=i.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}B=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,B=o;else e:for(;B!==null;){if(i=B,i.flags&2048)switch(i.tag){case 0:case 11:case 15:oa(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,B=m;break e}B=i.return}}var y=t.current;for(B=y;B!==null;){o=B;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,B=E;else e:for(o=y;B!==null;){if(a=B,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:_d(9,a)}}catch(T){be(a,a.return,T)}if(a===o){B=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,B=w;break e}B=a.return}}if(de=s,as(),Dn&&typeof Dn.onPostCommitFiberRoot=="function")try{Dn.onPostCommitFiberRoot(cd,t)}catch{}r=!0}return r}finally{me=n,rn.transition=e}}return!1}function bv(t,e,n){e=Gi(n,e),e=rS(t,e,1),t=zr(t,e,1),e=kt(),t!==null&&(ul(t,1,e),Vt(t,e))}function be(t,e,n){if(t.tag===3)bv(t,t,n);else for(;e!==null;){if(e.tag===3){bv(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Br===null||!Br.has(r))){t=Gi(n,t),t=sS(e,t,1),e=zr(e,t,1),t=kt(),e!==null&&(ul(e,1,t),Vt(e,t));break}}e=e.return}}function uk(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=kt(),t.pingedLanes|=t.suspendedLanes&n,et===t&&(ct&n)===n&&(qe===4||qe===3&&(ct&130023424)===ct&&500>De()-fg?Ns(t,0):hg|=n),Vt(t,e)}function IS(t,e){e===0&&(t.mode&1?(e=Yl,Yl<<=1,!(Yl&130023424)&&(Yl=4194304)):e=1);var n=kt();t=ur(t,e),t!==null&&(ul(t,e,n),Vt(t,n))}function dk(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),IS(t,n)}function hk(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),IS(t,n)}var CS;CS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mt.current)Lt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Lt=!1,ZA(t,e,n);Lt=!!(t.flags&131072)}else Lt=!1,Re&&e.flags&1048576&&NT(e,uu,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mc(t,e),t=e.pendingProps;var s=Bi(e,Ct.current);Pi(e,n),s=og(null,e,r,t,s,n);var i=ag();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,jt(r)?(i=!0,lu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,tg(e),s.updater=md,e.stateNode=s,s._reactInternals=e,dp(e,r,t,n),e=pp(null,e,r,!0,i,n)):(e.tag=0,Re&&i&&Km(e),Nt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mc(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=pk(r),t=dn(r,t),s){case 0:e=fp(null,e,r,t,n);break e;case 1:e=Tv(null,e,r,t,n);break e;case 11:e=Ev(null,e,r,t,n);break e;case 14:e=wv(null,e,r,dn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),fp(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),Tv(t,e,r,s,n);case 3:e:{if(lS(e),t===null)throw Error(D(387));r=e.pendingProps,i=e.memoizedState,s=i.element,bT(t,e),fu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Gi(Error(D(423)),e),e=Sv(t,e,r,n,s);break e}else if(r!==s){s=Gi(Error(D(424)),e),e=Sv(t,e,r,n,s);break e}else for(zt=Ur(e.stateNode.containerInfo.firstChild),Bt=e,Re=!0,fn=null,n=MT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Hi(),r===s){e=dr(t,e,n);break e}Nt(t,e,r,n)}e=e.child}return e;case 5:return jT(e),t===null&&lp(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,rp(r,s)?o=null:i!==null&&rp(r,i)&&(e.flags|=32),aS(t,e),Nt(t,e,o,n),e.child;case 6:return t===null&&lp(e),null;case 13:return cS(t,e,n);case 4:return ng(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=qi(e,null,r,n):Nt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),Ev(t,e,r,s,n);case 7:return Nt(t,e,e.pendingProps,n),e.child;case 8:return Nt(t,e,e.pendingProps.children,n),e.child;case 12:return Nt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ye(du,r._currentValue),r._currentValue=o,i!==null)if(wn(i.value,o)){if(i.children===s.children&&!Mt.current){e=dr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=rr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),cp(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),cp(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Nt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Pi(e,n),s=an(s),r=r(s),e.flags|=1,Nt(t,e,r,n),e.child;case 14:return r=e.type,s=dn(r,e.pendingProps),s=dn(r.type,s),wv(t,e,r,s,n);case 15:return iS(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:dn(r,s),Mc(t,e),e.tag=1,jt(r)?(t=!0,lu(e)):t=!1,Pi(e,n),LT(e,r,s),dp(e,r,s,n),pp(null,e,r,!0,t,n);case 19:return uS(t,e,n);case 22:return oS(t,e,n)}throw Error(D(156,e.tag))};function xS(t,e){return Jw(t,e)}function fk(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tn(t,e,n,r){return new fk(t,e,n,r)}function _g(t){return t=t.prototype,!(!t||!t.isReactComponent)}function pk(t){if(typeof t=="function")return _g(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Mm)return 11;if(t===jm)return 14}return 2}function qr(t,e){var n=t.alternate;return n===null?(n=tn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $c(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")_g(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case hi:return As(n.children,s,i,e);case Dm:o=8,s|=8;break;case Df:return t=tn(12,n,e,s|2),t.elementType=Df,t.lanes=i,t;case Mf:return t=tn(13,n,e,s),t.elementType=Mf,t.lanes=i,t;case jf:return t=tn(19,n,e,s),t.elementType=jf,t.lanes=i,t;case Dw:return vd(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ow:o=10;break e;case Lw:o=9;break e;case Mm:o=11;break e;case jm:o=14;break e;case Ir:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=tn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function As(t,e,n,r){return t=tn(7,t,r,e),t.lanes=n,t}function vd(t,e,n,r){return t=tn(22,t,r,e),t.elementType=Dw,t.lanes=n,t.stateNode={isHidden:!1},t}function qh(t,e,n){return t=tn(6,t,null,e),t.lanes=n,t}function Wh(t,e,n){return e=tn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mk(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xh(0),this.expirationTimes=xh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function yg(t,e,n,r,s,i,o,a,l){return t=new mk(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=tn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},tg(i),t}function gk(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:di,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function RS(t){if(!t)return Zr;t=t._reactInternals;e:{if(Ys(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(jt(n))return xT(t,n,e)}return e}function NS(t,e,n,r,s,i,o,a,l){return t=yg(n,r,!0,t,s,i,o,a,l),t.context=RS(null),n=t.current,r=kt(),s=Hr(n),i=rr(r,s),i.callback=e??null,zr(n,i,s),t.current.lanes=s,ul(t,s,r),Vt(t,r),t}function Ed(t,e,n,r){var s=e.current,i=kt(),o=Hr(s);return n=RS(n),e.context===null?e.context=n:e.pendingContext=n,e=rr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=zr(s,e,o),t!==null&&(vn(t,s,o,i),Oc(t,s,o)),o}function wu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ov(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function vg(t,e){Ov(t,e),(t=t.alternate)&&Ov(t,e)}function _k(){return null}var AS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Eg(t){this._internalRoot=t}wd.prototype.render=Eg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));Ed(t,e,null,null)};wd.prototype.unmount=Eg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;js(function(){Ed(null,t,null,null)}),e[cr]=null}};function wd(t){this._internalRoot=t}wd.prototype.unstable_scheduleHydration=function(t){if(t){var e=iT();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xr.length&&e!==0&&e<xr[n].priority;n++);xr.splice(n,0,t),n===0&&aT(t)}};function wg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Td(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Lv(){}function yk(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=wu(o);i.call(c)}}var o=NS(e,r,t,0,null,!1,!1,"",Lv);return t._reactRootContainer=o,t[cr]=o.current,Ra(t.nodeType===8?t.parentNode:t),js(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=wu(l);a.call(c)}}var l=yg(t,0,!1,null,null,!1,!1,"",Lv);return t._reactRootContainer=l,t[cr]=l.current,Ra(t.nodeType===8?t.parentNode:t),js(function(){Ed(e,l,n,r)}),l}function Sd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=wu(o);a.call(l)}}Ed(e,o,t,s)}else o=yk(n,e,t,s,r);return wu(o)}rT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qo(e.pendingLanes);n!==0&&(Fm(e,n|1),Vt(e,De()),!(de&6)&&(Ki=De()+500,as()))}break;case 13:js(function(){var r=ur(t,1);if(r!==null){var s=kt();vn(r,t,1,s)}}),vg(t,1)}};Um=function(t){if(t.tag===13){var e=ur(t,134217728);if(e!==null){var n=kt();vn(e,t,134217728,n)}vg(t,134217728)}};sT=function(t){if(t.tag===13){var e=Hr(t),n=ur(t,e);if(n!==null){var r=kt();vn(n,t,e,r)}vg(t,e)}};iT=function(){return me};oT=function(t,e){var n=me;try{return me=t,e()}finally{me=n}};Gf=function(t,e,n){switch(e){case"input":if(Ff(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=fd(r);if(!s)throw Error(D(90));jw(r),Ff(r,s)}}}break;case"textarea":$w(t,n);break;case"select":e=n.value,e!=null&&Ri(t,!!n.multiple,e,!1)}};Ww=pg;Gw=js;var vk={usingClientEntryPoint:!1,Events:[hl,gi,fd,Hw,qw,pg]},Lo={findFiberByHostInstance:ws,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},Ek={bundleType:Lo.bundleType,version:Lo.version,rendererPackageName:Lo.rendererPackageName,rendererConfig:Lo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Yw(t),t===null?null:t.stateNode},findFiberByHostInstance:Lo.findFiberByHostInstance||_k,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ac.isDisabled&&ac.supportsFiber)try{cd=ac.inject(Ek),Dn=ac}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vk;Gt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wg(e))throw Error(D(200));return gk(t,e,null,n)};Gt.createRoot=function(t,e){if(!wg(t))throw Error(D(299));var n=!1,r="",s=AS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=yg(t,1,!1,null,null,n,!1,r,s),t[cr]=e.current,Ra(t.nodeType===8?t.parentNode:t),new Eg(e)};Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Yw(e),t=t===null?null:t.stateNode,t};Gt.flushSync=function(t){return js(t)};Gt.hydrate=function(t,e,n){if(!Td(e))throw Error(D(200));return Sd(null,t,e,!0,n)};Gt.hydrateRoot=function(t,e,n){if(!wg(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=AS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=NS(e,null,t,1,n??null,s,!1,i,o),t[cr]=e.current,Ra(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new wd(e)};Gt.render=function(t,e,n){if(!Td(e))throw Error(D(200));return Sd(null,t,e,!1,n)};Gt.unmountComponentAtNode=function(t){if(!Td(t))throw Error(D(40));return t._reactRootContainer?(js(function(){Sd(null,null,t,!1,function(){t._reactRootContainer=null,t[cr]=null})}),!0):!1};Gt.unstable_batchedUpdates=pg;Gt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Td(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return Sd(t,e,n,!1,r)};Gt.version="18.2.0-next-9e3b772b8-20220608";function kS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kS)}catch(t){console.error(t)}}kS(),Nw.exports=Gt;var wk=Nw.exports,Dv=wk;Of.createRoot=Dv.createRoot,Of.hydrateRoot=Dv.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ma(){return Ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ma.apply(this,arguments)}var Lr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Lr||(Lr={}));const Mv="popstate";function Tk(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Xs(s.location.hash.substr(1));return xp("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Tu(i))}function r(s,i){Id(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Ik(e,n,r,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Id(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sk(){return Math.random().toString(36).substr(2,8)}function jv(t,e){return{usr:t.state,key:t.key,idx:e}}function xp(t,e,n,r){return n===void 0&&(n=null),Ma({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xs(e):e,{state:n,key:e&&e.key||r||Sk()})}function Tu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Ik(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Lr.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Ma({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Lr.Pop;let v=u(),m=v==null?null:v-c;c=v,l&&l({action:a,location:g.location,delta:m})}function f(v,m){a=Lr.Push;let y=xp(g.location,v,m);n&&n(y,v),c=u()+1;let E=jv(y,c),w=g.createHref(y);try{o.pushState(E,"",w)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(w)}i&&l&&l({action:a,location:g.location,delta:1})}function p(v,m){a=Lr.Replace;let y=xp(g.location,v,m);n&&n(y,v),c=u();let E=jv(y,c),w=g.createHref(y);o.replaceState(E,"",w),i&&l&&l({action:a,location:g.location,delta:0})}function _(v){let m=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof v=="string"?v:Tu(v);return Me(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return t(s,o)},listen(v){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Mv,h),l=v,()=>{s.removeEventListener(Mv,h),l=null}},createHref(v){return e(s,v)},createURL:_,encodeLocation(v){let m=_(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(v){return o.go(v)}};return g}var Vv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Vv||(Vv={}));function Ck(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Xs(e):e,s=Tg(r.pathname||"/",n);if(s==null)return null;let i=PS(t);xk(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=Dk(i[a],Vk(s));return o}function PS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Me(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Wr([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(Me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),PS(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Ok(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of bS(i.path))s(i,o,l)}),e}function bS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=bS(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function xk(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Lk(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Rk=/^:\w+$/,Nk=3,Ak=2,kk=1,Pk=10,bk=-2,$v=t=>t==="*";function Ok(t,e){let n=t.split("/"),r=n.length;return n.some($v)&&(r+=bk),e&&(r+=Ak),n.filter(s=>!$v(s)).reduce((s,i)=>s+(Rk.test(i)?Nk:i===""?kk:Pk),r)}function Lk(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Dk(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=Mk({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;i.push({params:r,pathname:Wr([s,u.pathname]),pathnameBase:zk(Wr([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Wr([s,u.pathnameBase]))}return i}function Mk(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=jk(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{if(u==="*"){let f=a[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=$k(a[h]||"",u),c},{}),pathname:i,pathnameBase:o,pattern:t}}function jk(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Id(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Vk(t){try{return decodeURI(t)}catch(e){return Id(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $k(t,e){try{return decodeURIComponent(t)}catch(n){return Id(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Tg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Fk(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Xs(t):t;return{pathname:n?n.startsWith("/")?n:Uk(n,e):e,search:Bk(r),hash:Hk(s)}}function Uk(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Gh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ig(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Xs(t):(s=Ma({},t),Me(!s.pathname||!s.pathname.includes("?"),Gh("?","pathname","search",s)),Me(!s.pathname||!s.pathname.includes("#"),Gh("#","pathname","hash",s)),Me(!s.search||!s.search.includes("#"),Gh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=Fk(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Wr=t=>t.join("/").replace(/\/\/+/g,"/"),zk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Hk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function qk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const OS=["post","put","patch","delete"];new Set(OS);const Wk=["get",...OS];new Set(Wk);/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Su(){return Su=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Su.apply(this,arguments)}const Cg=I.createContext(null),LS=I.createContext(null),Js=I.createContext(null),Cd=I.createContext(null),zn=I.createContext({outlet:null,matches:[],isDataRoute:!1}),DS=I.createContext(null);function Gk(t,e){let{relative:n}=e===void 0?{}:e;ho()||Me(!1);let{basename:r,navigator:s}=I.useContext(Js),{hash:i,pathname:o,search:a}=xg(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Wr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ho(){return I.useContext(Cd)!=null}function Qt(){return ho()||Me(!1),I.useContext(Cd).location}function MS(t){I.useContext(Js).static||I.useLayoutEffect(t)}function Yt(){let{isDataRoute:t}=I.useContext(zn);return t?lP():Kk()}function Kk(){ho()||Me(!1);let t=I.useContext(Cg),{basename:e,navigator:n}=I.useContext(Js),{matches:r}=I.useContext(zn),{pathname:s}=Qt(),i=JSON.stringify(Sg(r).map(l=>l.pathnameBase)),o=I.useRef(!1);return MS(()=>{o.current=!0}),I.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=Ig(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Wr([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,s,t])}const Qk=I.createContext(null);function Yk(t){let e=I.useContext(zn).outlet;return e&&I.createElement(Qk.Provider,{value:t},e)}function Cn(){let{matches:t}=I.useContext(zn),e=t[t.length-1];return e?e.params:{}}function xg(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=I.useContext(zn),{pathname:s}=Qt(),i=JSON.stringify(Sg(r).map(o=>o.pathnameBase));return I.useMemo(()=>Ig(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function Xk(t,e){return Jk(t,e)}function Jk(t,e,n){ho()||Me(!1);let{navigator:r}=I.useContext(Js),{matches:s}=I.useContext(zn),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Qt(),c;if(e){var u;let g=typeof e=="string"?Xs(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||Me(!1),c=g}else c=l;let h=c.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",p=Ck(t,{pathname:f}),_=rP(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Wr([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Wr([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n);return e&&_?I.createElement(Cd.Provider,{value:{location:Su({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Lr.Pop}},_):_}function Zk(){let t=aP(),e=qk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:s},n):null,i)}const eP=I.createElement(Zk,null);class tP extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?I.createElement(zn.Provider,{value:this.props.routeContext},I.createElement(DS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function nP(t){let{routeContext:e,match:n,children:r}=t,s=I.useContext(Cg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(zn.Provider,{value:e},r)}function rP(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Me(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||eP);let f=e.concat(i.slice(0,c+1)),p=()=>{let _;return u?_=h:l.route.Component?_=I.createElement(l.route.Component,null):l.route.element?_=l.route.element:_=a,I.createElement(nP,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:_})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?I.createElement(tP,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var Rp;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Rp||(Rp={}));var ja;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(ja||(ja={}));function sP(t){let e=I.useContext(Cg);return e||Me(!1),e}function iP(t){let e=I.useContext(LS);return e||Me(!1),e}function oP(t){let e=I.useContext(zn);return e||Me(!1),e}function jS(t){let e=oP(),n=e.matches[e.matches.length-1];return n.route.id||Me(!1),n.route.id}function aP(){var t;let e=I.useContext(DS),n=iP(ja.UseRouteError),r=jS(ja.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function lP(){let{router:t}=sP(Rp.UseNavigateStable),e=jS(ja.UseNavigateStable),n=I.useRef(!1);return MS(()=>{n.current=!0}),I.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Su({fromRouteId:e},i)))},[t,e])}function cP(t){let{to:e,replace:n,state:r,relative:s}=t;ho()||Me(!1);let{matches:i}=I.useContext(zn),{pathname:o}=Qt(),a=Yt(),l=Ig(e,Sg(i).map(u=>u.pathnameBase),o,s==="path"),c=JSON.stringify(l);return I.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:s}),[a,c,s,n,r]),null}function ls(t){return Yk(t.context)}function te(t){Me(!1)}function uP(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Lr.Pop,navigator:i,static:o=!1}=t;ho()&&Me(!1);let a=e.replace(/^\/*/,"/"),l=I.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Xs(r));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:p="default"}=r,_=I.useMemo(()=>{let g=Tg(c,a);return g==null?null:{location:{pathname:g,search:u,hash:h,state:f,key:p},navigationType:s}},[a,c,u,h,f,p,s]);return _==null?null:I.createElement(Js.Provider,{value:l},I.createElement(Cd.Provider,{children:n,value:_}))}function Fv(t){let{children:e,location:n}=t;return Xk(Np(e),n)}var Uv;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Uv||(Uv={}));new Promise(()=>{});function Np(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(r,s)=>{if(!I.isValidElement(r))return;let i=[...e,s];if(r.type===I.Fragment){n.push.apply(n,Np(r.props.children,i));return}r.type!==te&&Me(!1),!r.props.index||!r.props.children||Me(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Np(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iu.apply(this,arguments)}function VS(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function dP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hP(t,e){return t.button===0&&(!e||e==="_self")&&!dP(t)}function Ap(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function fP(t,e){let n=Ap(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)});return n}const pP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],mP=["aria-current","caseSensitive","className","end","style","to","children"],zv="startTransition";function gP(t){let{basename:e,children:n,window:r}=t,s=I.useRef();s.current==null&&(s.current=Tk({window:r,v5Compat:!0}));let i=s.current,[o,a]=I.useState({action:i.action,location:i.location}),l=I.useCallback(c=>{zv in Ay?Ay[zv](()=>a(c)):a(c)},[a]);return I.useLayoutEffect(()=>i.listen(l),[i,l]),I.createElement(uP,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const _P=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,He=I.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=VS(e,pP),{basename:f}=I.useContext(Js),p,_=!1;if(typeof c=="string"&&yP.test(c)&&(p=c,_P))try{let y=new URL(window.location.href),E=c.startsWith("//")?new URL(y.protocol+c):new URL(c),w=Tg(E.pathname,f);E.origin===y.origin&&w!=null?c=w+E.search+E.hash:_=!0}catch{}let g=Gk(c,{relative:s}),v=vP(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s});function m(y){r&&r(y),y.defaultPrevented||v(y)}return I.createElement("a",Iu({},h,{href:p||g,onClick:_||i?r:m,ref:n,target:l}))}),Nn=I.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,children:c}=e,u=VS(e,mP),h=xg(l,{relative:u.relative}),f=Qt(),p=I.useContext(LS),{navigator:_}=I.useContext(Js),g=_.encodeLocation?_.encodeLocation(h).pathname:h.pathname,v=f.pathname,m=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(v=v.toLowerCase(),m=m?m.toLowerCase():null,g=g.toLowerCase());let y=v===g||!o&&v.startsWith(g)&&v.charAt(g.length)==="/",E=m!=null&&(m===g||!o&&m.startsWith(g)&&m.charAt(g.length)==="/"),w=y?r:void 0,T;typeof i=="function"?T=i({isActive:y,isPending:E}):T=[i,y?"active":null,E?"pending":null].filter(Boolean).join(" ");let R=typeof a=="function"?a({isActive:y,isPending:E}):a;return I.createElement(He,Iu({},u,{"aria-current":w,className:T,ref:n,style:R,to:l}),typeof c=="function"?c({isActive:y,isPending:E}):c)});var Bv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Bv||(Bv={}));var Hv;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Hv||(Hv={}));function vP(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=Yt(),l=Qt(),c=xg(t,{relative:o});return I.useCallback(u=>{if(hP(u,n)){u.preventDefault();let h=r!==void 0?r:Tu(l)===Tu(c);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,c,r,s,n,t,i,o])}function EP(t){let e=I.useRef(Ap(t)),n=I.useRef(!1),r=Qt(),s=I.useMemo(()=>fP(r.search,n.current?null:e.current),[r.search]),i=Yt(),o=I.useCallback((a,l)=>{const c=Ap(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}const H={init:function(){this.dpmode.init(),this.viewport.init.evt(),console.log("ui.init")},e:1,aaa:function(){console.log("dsfafsafdsffsafasfdfas")},iosx:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top").replace(/[^0-9]/g,""))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom").replace(/[^0-9]/g,""))||0},viewport:{init:{evt:function(){window.addEventListener("load",this.set),window.addEventListener("resize",this.set)},set:()=>document.documentElement.style.setProperty("--vh",window.innerHeight*.01+"px")},height:()=>parseInt(window.visualViewport?visualViewport.height:window.innerHeight),width:()=>parseInt(window.visualViewport?visualViewport.width:window.innerWidth),docHeight:()=>parseInt(document.documentElement.scrollHeight||document.body.clientHeight),scrollTop:()=>parseInt(document.documentElement.scrollTop)},dateForm:(t,e)=>(e=e===void 0?e="medium":null,new Intl.DateTimeFormat("ko-KR",{dateStyle:e,timeStyle:e}).format(t)),getSafe:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top"))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom"))||0,watch:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-watch"))||0},dpmode:{init:function(){setInterval(this.set,500)},set:function(){const t=window.matchMedia("(display-mode: fullscreen)").matches,e=window.matchMedia("(display-mode: standalone)").matches;t?document.documentElement.classList.add("is-pwa-fullscreen"):document.documentElement.classList.remove("is-pwa-fullscreen"),t?document.documentElement.style.setProperty("--safe-watch","24px"):document.documentElement.style.setProperty("--safe-watch","0px"),e?document.documentElement.classList.add("is-pwa-standalone"):document.documentElement.classList.remove("is-pwa-standalone")}},scrollTo:(t,e,n,r)=>{const s=document.querySelector(t);if(!s)return;console.log(s);const i=s.scrollTop||document.documentElement.scrollTop,o=e,a=performance.now(),l=c=>{const u=c-a,h=Math.min(u/n,1),f=h<.5?4*h*h*h:(h-1)*(2*h-2)*(2*h-2)+1,p=i+(o-i)*f;s===document.body?window.scrollTo(0,p):s.scrollTop=p,u<n?requestAnimationFrame(l):typeof r=="function"&&r()};requestAnimationFrame(l)},popup:{evt:function(){},resize:function(){var s,i;let t=document.querySelector(".pop-layer"),e=t.offsetHeight||0,n=((s=t.querySelector(".pbt"))==null?void 0:s.offsetHeight)||0,r=((i=t.querySelector(".phd"))==null?void 0:i.offsetHeight)||0;e=e-r||0,console.log(e),t.querySelector(".pct").style.maxHeight=e-n+"px"}},alert:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인"},e);if(document.querySelectorAll(".ui-alert").length)return;H.lock.using(!0);var r=`<article class="ui-alert ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-alert");s.classList.add("is-alert"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelectorAll(".btn-confirm, .btn-close").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-alert"),document.querySelectorAll(".pop-layer").length<1&&H.lock.using(!1)}},confirm:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인",ncb:"",nbt:"취소"},e);if(document.querySelectorAll(".ui-confrim").length)return;H.lock.using(!0);let r=`<article class="ui-confrim ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-cancel">${n.nbt}</button>
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-confrim");s.classList.add("is-confrim"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelector(".btn-cancel").addEventListener("click",()=>window.setTimeout(n.ncb)),i.querySelectorAll(".btn-confirm, .btn-close , .btn-cancel").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-confrim"),document.querySelectorAll(".pop-layer").length<1&&H.lock.using(!1)}},loading:{show:function(){if(!document.querySelectorAll("body>.ui-loading-dot").length){var t=`<div class="ui-loading-dot">
                    <div class="bx"><em><i></i></em></div>
                </div>`;document.querySelector("body").insertAdjacentHTML("afterbegin",t),document.querySelector("body").classList.add("is-loading")}},hide:function(){document.querySelectorAll(".ui-loading-dot").forEach(t=>t.remove()),document.querySelector("body").classList.remove("is-loading")}},lock:{sct:0,stat:!1,els:".pop-layer  , .ui-confrim , .ui-alert",set:function(){document.querySelectorAll(this.els).length<=0&&this.using(!1)},using:function(t){const e=document.querySelectorAll("body , html"),n=document.querySelector("html");t===!0&&this.stat===!1&&(H.lock.stat=!0,H.lock.sct=window.scrollY,e.forEach(r=>r.classList.add("is-lock","is-lock-end")),n.style.top=-H.lock.sct+"px"),t===!1&&document.querySelectorAll(this.els).length<=0&&n.classList.contains("is-lock")&&(H.lock.stat=!1,e.forEach(r=>r.classList.remove("is-lock")),n.style.top="",window.scrollTo(0,H.lock.sct),setTimeout(()=>{e.forEach(r=>r.classList.remove("is-lock-end"))},50))}}};window.ui=H;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $=function(t,e){if(!t)throw fo(e)},fo=function(t){return new Error("Firebase Database ("+$S.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},wP=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Rg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wP(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new TP;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const _=c<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class TP extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const US=function(t){const e=FS(t);return Rg.encodeByteArray(e,!0)},Cu=function(t){return US(t).replace(/\./g,"")},xu=function(t){try{return Rg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t){return zS(void 0,t)}function zS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!IP(n)||(t[n]=zS(t[n],e[n]));return t}function IP(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=()=>CP().__FIREBASE_DEFAULTS__,RP=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},NP=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&xu(t[1]);return e&&JSON.parse(e)},Ng=()=>{try{return xP()||RP()||NP()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BS=t=>{var e,n;return(n=(e=Ng())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HS=t=>{const e=BS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qS=()=>{var t;return(t=Ng())===null||t===void 0?void 0:t.config},WS=t=>{var e;return(e=Ng())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Cu(JSON.stringify(n)),Cu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kg(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(xt())}function AP(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kP(){const t=xt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QS(){return $S.NODE_ADMIN===!0}function PP(){try{return typeof indexedDB=="object"}catch{return!1}}function bP(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OP="FirebaseError";class Bn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=OP,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pl.prototype.create)}}class pl{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?LP(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Bn(s,a,r)}}function LP(t,e){return t.replace(DP,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const DP=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Va(t){return JSON.parse(t)}function at(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Va(xu(i[0])||""),n=Va(xu(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},MP=function(t){const e=YS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},jP=function(t){const e=YS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Qi(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function kp(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ru(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Nu(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(qv(i)&&qv(o)){if(!Nu(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function qv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Go(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ko(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):h<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function $P(t,e){const n=new FP(t,e);return n.subscribe.bind(n)}class FP{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");UP(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Kh),s.error===void 0&&(s.error=Kh),s.complete===void 0&&(s.complete=Kh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function UP(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Kh(){}function zP(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,$(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},xd=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(t){return t&&t._delegate?t._delegate:t}class hr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ag;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WP(e))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=vs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=vs){return this.instances.has(e)}getOptions(e=vs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:qP(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=vs){return this.component?this.component.multipleInstances?e:vs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qP(t){return t===vs?void 0:t}function WP(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new HP(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const KP={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},QP=ce.INFO,YP={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},XP=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=YP[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=QP,this._logHandler=XP,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KP[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const JP=(t,e)=>e.some(n=>t instanceof n);let Wv,Gv;function ZP(){return Wv||(Wv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eb(){return Gv||(Gv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const XS=new WeakMap,Pp=new WeakMap,JS=new WeakMap,Qh=new WeakMap,Pg=new WeakMap;function tb(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Gr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XS.set(n,t)}).catch(()=>{}),Pg.set(e,t),e}function nb(t){if(Pp.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Pp.set(t,e)}let bp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Pp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||JS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function rb(t){bp=t(bp)}function sb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yh(this),e,...n);return JS.set(r,e.sort?e.sort():[e]),Gr(r)}:eb().includes(t)?function(...e){return t.apply(Yh(this),e),Gr(XS.get(this))}:function(...e){return Gr(t.apply(Yh(this),e))}}function ib(t){return typeof t=="function"?sb(t):(t instanceof IDBTransaction&&nb(t),JP(t,ZP())?new Proxy(t,bp):t)}function Gr(t){if(t instanceof IDBRequest)return tb(t);if(Qh.has(t))return Qh.get(t);const e=ib(t);return e!==t&&(Qh.set(t,e),Pg.set(e,t)),e}const Yh=t=>Pg.get(t);function ob(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Gr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Gr(o.result),l.oldVersion,l.newVersion,Gr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const ab=["get","getKey","getAll","getAllKeys","count"],lb=["put","add","delete","clear"],Xh=new Map;function Kv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xh.get(e))return Xh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=lb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||ab.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return Xh.set(e,i),i}rb(t=>({...t,get:(e,n,r)=>Kv(e,n)||t.get(e,n,r),has:(e,n)=>!!Kv(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ub(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ub(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Op="@firebase/app",Qv="0.9.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs=new Rd("@firebase/app"),db="@firebase/app-compat",hb="@firebase/analytics-compat",fb="@firebase/analytics",pb="@firebase/app-check-compat",mb="@firebase/app-check",gb="@firebase/auth",_b="@firebase/auth-compat",yb="@firebase/database",vb="@firebase/database-compat",Eb="@firebase/functions",wb="@firebase/functions-compat",Tb="@firebase/installations",Sb="@firebase/installations-compat",Ib="@firebase/messaging",Cb="@firebase/messaging-compat",xb="@firebase/performance",Rb="@firebase/performance-compat",Nb="@firebase/remote-config",Ab="@firebase/remote-config-compat",kb="@firebase/storage",Pb="@firebase/storage-compat",bb="@firebase/firestore",Ob="@firebase/firestore-compat",Lb="firebase",Db="10.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp="[DEFAULT]",Mb={[Op]:"fire-core",[db]:"fire-core-compat",[fb]:"fire-analytics",[hb]:"fire-analytics-compat",[mb]:"fire-app-check",[pb]:"fire-app-check-compat",[gb]:"fire-auth",[_b]:"fire-auth-compat",[yb]:"fire-rtdb",[vb]:"fire-rtdb-compat",[Eb]:"fire-fn",[wb]:"fire-fn-compat",[Tb]:"fire-iid",[Sb]:"fire-iid-compat",[Ib]:"fire-fcm",[Cb]:"fire-fcm-compat",[xb]:"fire-perf",[Rb]:"fire-perf-compat",[Nb]:"fire-rc",[Ab]:"fire-rc-compat",[kb]:"fire-gcs",[Pb]:"fire-gcs-compat",[bb]:"fire-fst",[Ob]:"fire-fst-compat","fire-js":"fire-js",[Lb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Map,Dp=new Map;function jb(t,e){try{t.container.addComponent(e)}catch(n){Vs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function es(t){const e=t.name;if(Dp.has(e))return Vs.debug(`There were multiple attempts to register component ${e}.`),!1;Dp.set(e,t);for(const n of Au.values())jb(n,t);return!0}function Nd(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Kr=new pl("app","Firebase",Vb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Kr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=Db;function ZS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Lp,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Kr.create("bad-app-name",{appName:String(s)});if(n||(n=qS()),!n)throw Kr.create("no-options");const i=Au.get(s);if(i){if(Nu(n,i.options)&&Nu(r,i.config))return i;throw Kr.create("duplicate-app",{appName:s})}const o=new GP(s);for(const l of Dp.values())o.addComponent(l);const a=new $b(n,r,o);return Au.set(s,a),a}function bg(t=Lp){const e=Au.get(t);if(!e&&t===Lp&&qS())return ZS();if(!e)throw Kr.create("no-app",{appName:t});return e}function sn(t,e,n){var r;let s=(r=Mb[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vs.warn(a.join(" "));return}es(new hr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="firebase-heartbeat-database",Ub=1,$a="firebase-heartbeat-store";let Jh=null;function eI(){return Jh||(Jh=ob(Fb,Ub,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore($a)}}}).catch(t=>{throw Kr.create("idb-open",{originalErrorMessage:t.message})})),Jh}async function zb(t){try{return await(await eI()).transaction($a).objectStore($a).get(tI(t))}catch(e){if(e instanceof Bn)Vs.warn(e.message);else{const n=Kr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vs.warn(n.message)}}}async function Yv(t,e){try{const r=(await eI()).transaction($a,"readwrite");await r.objectStore($a).put(e,tI(t)),await r.done}catch(n){if(n instanceof Bn)Vs.warn(n.message);else{const r=Kr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Vs.warn(r.message)}}}function tI(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=1024,Hb=30*24*60*60*1e3;class qb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Gb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Xv();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=Hb}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Xv(),{heartbeatsToSend:n,unsentEntries:r}=Wb(this._heartbeatsCache.heartbeats),s=Cu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function Xv(){return new Date().toISOString().substring(0,10)}function Wb(t,e=Bb){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Jv(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Jv(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Gb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PP()?bP().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await zb(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return Yv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Jv(t){return Cu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(t){es(new hr("platform-logger",e=>new cb(e),"PRIVATE")),es(new hr("heartbeat",e=>new qb(e),"PRIVATE")),sn(Op,Qv,t),sn(Op,Qv,"esm2017"),sn("fire-js","")}Kb("");var Qb="firebase",Yb="10.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn(Qb,Yb,"app");var Xb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,Og=Og||{},J=Xb||self;function Ad(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ml(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Jb(t){return Object.prototype.hasOwnProperty.call(t,Zh)&&t[Zh]||(t[Zh]=++Zb)}var Zh="closure_uid_"+(1e9*Math.random()>>>0),Zb=0;function eO(t,e,n){return t.call.apply(t.bind,arguments)}function tO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Tt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Tt=eO:Tt=tO,Tt.apply(null,arguments)}function lc(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function rt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function us(){this.s=this.s,this.o=this.o}var nO=0;us.prototype.s=!1;us.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),nO!=0)&&Jb(this)};us.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const nI=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Lg(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Zv(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ad(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function St(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}St.prototype.h=function(){this.defaultPrevented=!0};var rO=function(){if(!J.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{J.addEventListener("test",()=>{},e),J.removeEventListener("test",()=>{},e)}catch{}return t}();function Fa(t){return/^[\s\xa0]*$/.test(t)}function kd(){var t=J.navigator;return t&&(t=t.userAgent)?t:""}function kn(t){return kd().indexOf(t)!=-1}function Dg(t){return Dg[" "](t),t}Dg[" "]=function(){};function sO(t,e){var n=YO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var iO=kn("Opera"),Yi=kn("Trident")||kn("MSIE"),rI=kn("Edge"),Mp=rI||Yi,sI=kn("Gecko")&&!(kd().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge"))&&!(kn("Trident")||kn("MSIE"))&&!kn("Edge"),oO=kd().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge");function iI(){var t=J.document;return t?t.documentMode:void 0}var jp;e:{var ef="",tf=function(){var t=kd();if(sI)return/rv:([^\);]+)(\)|;)/.exec(t);if(rI)return/Edge\/([\d\.]+)/.exec(t);if(Yi)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(oO)return/WebKit\/(\S+)/.exec(t);if(iO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(tf&&(ef=tf?tf[1]:""),Yi){var nf=iI();if(nf!=null&&nf>parseFloat(ef)){jp=String(nf);break e}}jp=ef}var Vp;if(J.document&&Yi){var e0=iI();Vp=e0||parseInt(jp,10)||void 0}else Vp=void 0;var aO=Vp;function Ua(t,e){if(St.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(sI){e:{try{Dg(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:lO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Ua.$.h.call(this)}}rt(Ua,St);var lO={2:"touch",3:"pen",4:"mouse"};Ua.prototype.h=function(){Ua.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var gl="closure_listenable_"+(1e6*Math.random()|0),cO=0;function uO(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++cO,this.fa=this.ia=!1}function Pd(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Mg(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function dO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function oI(t){const e={};for(const n in t)e[n]=t[n];return e}const t0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aI(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<t0.length;i++)n=t0[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bd(t){this.src=t,this.g={},this.h=0}bd.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Fp(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new uO(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function $p(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=nI(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Pd(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Fp(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var jg="closure_lm_"+(1e6*Math.random()|0),rf={};function lI(t,e,n,r,s){if(r&&r.once)return uI(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)lI(t,e[i],n,r,s);return null}return n=Fg(n),t&&t[gl]?t.O(e,n,ml(r)?!!r.capture:!!r,s):cI(t,e,n,!1,r,s)}function cI(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=ml(s)?!!s.capture:!!s,a=$g(t);if(a||(t[jg]=a=new bd(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=hO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rO||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(hI(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function hO(){function t(n){return e.call(t.src,t.listener,n)}const e=fO;return t}function uI(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)uI(t,e[i],n,r,s);return null}return n=Fg(n),t&&t[gl]?t.P(e,n,ml(r)?!!r.capture:!!r,s):cI(t,e,n,!0,r,s)}function dI(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)dI(t,e[i],n,r,s);else r=ml(r)?!!r.capture:!!r,n=Fg(n),t&&t[gl]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Fp(i,n,r,s),-1<n&&(Pd(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=$g(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Fp(e,n,r,s)),(n=-1<t?e[t]:null)&&Vg(n))}function Vg(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[gl])$p(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(hI(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=$g(e))?($p(n,t),n.h==0&&(n.src=null,e[jg]=null)):Pd(t)}}}function hI(t){return t in rf?rf[t]:rf[t]="on"+t}function fO(t,e){if(t.fa)t=!0;else{e=new Ua(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Vg(t),t=n.call(r,e)}return t}function $g(t){return t=t[jg],t instanceof bd?t:null}var sf="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fg(t){return typeof t=="function"?t:(t[sf]||(t[sf]=function(e){return t.handleEvent(e)}),t[sf])}function nt(){us.call(this),this.i=new bd(this),this.S=this,this.J=null}rt(nt,us);nt.prototype[gl]=!0;nt.prototype.removeEventListener=function(t,e,n,r){dI(this,t,e,n,r)};function ut(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new St(e,t);else if(e instanceof St)e.target=e.target||t;else{var s=e;e=new St(r,t),aI(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=cc(o,r,!0,e)&&s}if(o=e.g=t,s=cc(o,r,!0,e)&&s,s=cc(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=cc(o,r,!1,e)&&s}nt.prototype.N=function(){if(nt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Pd(n[r]);delete t.g[e],t.h--}}this.J=null};nt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};nt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function cc(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&$p(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Ug=J.JSON.stringify;class pO{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function mO(){var t=zg;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class gO{constructor(){this.h=this.g=null}add(e,n){const r=fI.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var fI=new pO(()=>new _O,t=>t.reset());class _O{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function yO(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function vO(t){J.setTimeout(()=>{throw t},0)}let za,Ba=!1,zg=new gO,pI=()=>{const t=J.Promise.resolve(void 0);za=()=>{t.then(EO)}};var EO=()=>{for(var t;t=mO();){try{t.h.call(t.g)}catch(n){vO(n)}var e=fI;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ba=!1};function Od(t,e){nt.call(this),this.h=t||1,this.g=e||J,this.j=Tt(this.qb,this),this.l=Date.now()}rt(Od,nt);F=Od.prototype;F.ga=!1;F.T=null;F.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ut(this,"tick"),this.ga&&(Bg(this),this.start()))}};F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Bg(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}F.N=function(){Od.$.N.call(this),Bg(this),delete this.g};function Hg(t,e,n){if(typeof t=="function")n&&(t=Tt(t,n));else if(t&&typeof t.handleEvent=="function")t=Tt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:J.setTimeout(t,e||0)}function mI(t){t.g=Hg(()=>{t.g=null,t.i&&(t.i=!1,mI(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class wO extends us{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:mI(this)}N(){super.N(),this.g&&(J.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ha(t){us.call(this),this.h=t,this.g={}}rt(Ha,us);var n0=[];function gI(t,e,n,r){Array.isArray(n)||(n&&(n0[0]=n.toString()),n=n0);for(var s=0;s<n.length;s++){var i=lI(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function _I(t){Mg(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vg(e)},t),t.g={}}Ha.prototype.N=function(){Ha.$.N.call(this),_I(this)};Ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ld(){this.g=!0}Ld.prototype.Ea=function(){this.g=!1};function TO(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function SO(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Si(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+CO(t,n)+(r?" "+r:"")})}function IO(t,e){t.info(function(){return"TIMEOUT: "+e})}Ld.prototype.info=function(){};function CO(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Ug(n)}catch{return e}}var Zs={},r0=null;function Dd(){return r0=r0||new nt}Zs.Ta="serverreachability";function yI(t){St.call(this,Zs.Ta,t)}rt(yI,St);function qa(t){const e=Dd();ut(e,new yI(e))}Zs.STAT_EVENT="statevent";function vI(t,e){St.call(this,Zs.STAT_EVENT,t),this.stat=e}rt(vI,St);function At(t){const e=Dd();ut(e,new vI(e,t))}Zs.Ua="timingevent";function EI(t,e){St.call(this,Zs.Ua,t),this.size=e}rt(EI,St);function _l(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return J.setTimeout(function(){t()},e)}var Md={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wI={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qg(){}qg.prototype.h=null;function s0(t){return t.h||(t.h=t.i())}function TI(){}var yl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Wg(){St.call(this,"d")}rt(Wg,St);function Gg(){St.call(this,"c")}rt(Gg,St);var Up;function jd(){}rt(jd,qg);jd.prototype.g=function(){return new XMLHttpRequest};jd.prototype.i=function(){return{}};Up=new jd;function vl(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Ha(this),this.P=xO,t=Mp?125:void 0,this.V=new Od(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new SI}function SI(){this.i=null,this.g="",this.h=!1}var xO=45e3,zp={},ku={};F=vl.prototype;F.setTimeout=function(t){this.P=t};function Bp(t,e,n){t.L=1,t.v=$d(fr(e)),t.s=n,t.S=!0,II(t,null)}function II(t,e){t.G=Date.now(),El(t),t.A=fr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),bI(n.i,"t",r),t.C=0,n=t.l.J,t.h=new SI,t.g=ZI(t.l,n?e:null,!t.s),0<t.O&&(t.M=new wO(Tt(t.Pa,t,t.g),t.O)),gI(t.U,t.g,"readystatechange",t.nb),e=t.I?oI(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),qa(),TO(t.j,t.u,t.A,t.m,t.W,t.s)}F.nb=function(t){t=t.target;const e=this.M;e&&Pn(t)==3?e.l():this.Pa(t)};F.Pa=function(t){try{if(t==this.g)e:{const u=Pn(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||Mp||this.g&&(this.h.h||this.g.ja()||l0(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?qa(3):qa(2)),Vd(this);var n=this.g.da();this.ca=n;t:if(CI(this)){var r=l0(this.g);t="";var s=r.length,i=Pn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Is(this),ca(this);var o="";break t}this.h.i=new J.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,SO(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Fa(a)){var c=a;break t}}c=null}if(n=c)Si(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hp(this,n);else{this.i=!1,this.o=3,At(12),Is(this),ca(this);break e}}this.S?(xI(this,u,o),Mp&&this.i&&u==3&&(gI(this.U,this.V,"tick",this.mb),this.V.start())):(Si(this.j,this.m,o,null),Hp(this,o)),u==4&&Is(this),this.i&&!this.J&&(u==4?QI(this.l,this):(this.i=!1,El(this)))}else GO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,At(12)):(this.o=0,At(13)),Is(this),ca(this)}}}catch{}finally{}};function CI(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function xI(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=RO(t,n),s==ku){e==4&&(t.o=4,At(14),r=!1),Si(t.j,t.m,null,"[Incomplete Response]");break}else if(s==zp){t.o=4,At(15),Si(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Si(t.j,t.m,s,null),Hp(t,s);CI(t)&&s!=ku&&s!=zp&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,At(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zg(e),e.M=!0,At(11))):(Si(t.j,t.m,n,"[Invalid Chunked Response]"),Is(t),ca(t))}F.mb=function(){if(this.g){var t=Pn(this.g),e=this.g.ja();this.C<e.length&&(Vd(this),xI(this,t,e),this.i&&t!=4&&El(this))}};function RO(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ku:(n=Number(e.substring(n,r)),isNaN(n)?zp:(r+=1,r+n>e.length?ku:(e=e.slice(r,r+n),t.C=r+n,e)))}F.cancel=function(){this.J=!0,Is(this)};function El(t){t.Y=Date.now()+t.P,RI(t,t.P)}function RI(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=_l(Tt(t.lb,t),e)}function Vd(t){t.B&&(J.clearTimeout(t.B),t.B=null)}F.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(IO(this.j,this.A),this.L!=2&&(qa(),At(17)),Is(this),this.o=2,ca(this)):RI(this,this.Y-t)};function ca(t){t.l.H==0||t.J||QI(t.l,t)}function Is(t){Vd(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Bg(t.V),_I(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Hp(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||qp(n.i,t))){if(!t.K&&qp(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ou(n),zd(n);else break e;Jg(n),At(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=_l(Tt(n.ib,n),6e3));if(1>=DI(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Cs(n,11)}else if((t.K||n.g==t)&&Ou(n),!Fa(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var i=r.i;i.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Kg(i,i.h),i.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,Te(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=JI(r,r.J?r.pa:null,r.Y),o.K){MI(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Vd(a),El(a)),r.g=o}else GI(r);0<n.j.length&&Bd(n)}else c[0]!="stop"&&c[0]!="close"||Cs(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Cs(n,7):Xg(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}qa(4)}catch{}}function NO(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ad(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function AO(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ad(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function NI(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ad(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=AO(t),r=NO(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var AI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kO(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ks(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ks){this.h=t.h,Pu(this,t.j),this.s=t.s,this.g=t.g,bu(this,t.m),this.l=t.l;var e=t.i,n=new Wa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),i0(this,n),this.o=t.o}else t&&(e=String(t).match(AI))?(this.h=!1,Pu(this,e[1]||"",!0),this.s=Qo(e[2]||""),this.g=Qo(e[3]||"",!0),bu(this,e[4]),this.l=Qo(e[5]||"",!0),i0(this,e[6]||"",!0),this.o=Qo(e[7]||"")):(this.h=!1,this.i=new Wa(null,this.h))}ks.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Yo(e,o0,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Yo(e,o0,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Yo(n,n.charAt(0)=="/"?OO:bO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Yo(n,DO)),t.join("")};function fr(t){return new ks(t)}function Pu(t,e,n){t.j=n?Qo(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function i0(t,e,n){e instanceof Wa?(t.i=e,MO(t.i,t.h)):(n||(e=Yo(e,LO)),t.i=new Wa(e,t.h))}function Te(t,e,n){t.i.set(e,n)}function $d(t){return Te(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Qo(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Yo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,PO),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function PO(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var o0=/[#\/\?@]/g,bO=/[#\?:]/g,OO=/[#\?]/g,LO=/[#\?@]/g,DO=/#/g;function Wa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ds(t){t.g||(t.g=new Map,t.h=0,t.i&&kO(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}F=Wa.prototype;F.add=function(t,e){ds(this),this.i=null,t=mo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function kI(t,e){ds(t),e=mo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function PI(t,e){return ds(t),e=mo(t,e),t.g.has(e)}F.forEach=function(t,e){ds(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};F.ta=function(){ds(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};F.Z=function(t){ds(this);let e=[];if(typeof t=="string")PI(this,t)&&(e=e.concat(this.g.get(mo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};F.set=function(t,e){return ds(this),this.i=null,t=mo(this,t),PI(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};F.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function bI(t,e,n){kI(t,e),0<n.length&&(t.i=null,t.g.set(mo(t,e),Lg(n)),t.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function mo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function MO(t,e){e&&!t.j&&(ds(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(kI(this,r),bI(this,s,n))},t)),t.j=e}var jO=class{constructor(t,e){this.g=t,this.map=e}};function OI(t){this.l=t||VO,J.PerformanceNavigationTiming?(t=J.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(J.g&&J.g.Ka&&J.g.Ka()&&J.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var VO=10;function LI(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function DI(t){return t.h?1:t.g?t.g.size:0}function qp(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Kg(t,e){t.g?t.g.add(e):t.h=e}function MI(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}OI.prototype.cancel=function(){if(this.i=jI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function jI(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Lg(t.i)}var $O=class{stringify(t){return J.JSON.stringify(t,void 0)}parse(t){return J.JSON.parse(t,void 0)}};function FO(){this.g=new $O}function UO(t,e,n){const r=n||"";try{NI(t,function(s,i){let o=s;ml(s)&&(o=Ug(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function zO(t,e){const n=new Ld;if(J.Image){const r=new Image;r.onload=lc(uc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=lc(uc,n,r,"TestLoadImage: error",!1,e),r.onabort=lc(uc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=lc(uc,n,r,"TestLoadImage: timeout",!1,e),J.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function uc(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function wl(t){this.l=t.fc||null,this.j=t.ob||!1}rt(wl,qg);wl.prototype.g=function(){return new Fd(this.l,this.j)};wl.prototype.i=function(t){return function(){return t}}({});function Fd(t,e){nt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Qg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rt(Fd,nt);var Qg=0;F=Fd.prototype;F.open=function(t,e){if(this.readyState!=Qg)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ga(this)};F.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||J).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Tl(this)),this.readyState=Qg};F.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ga(this)),this.g&&(this.readyState=3,Ga(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof J.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;VI(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function VI(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}F.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Tl(this):Ga(this),this.readyState==3&&VI(this)}};F.Za=function(t){this.g&&(this.response=this.responseText=t,Tl(this))};F.Ya=function(t){this.g&&(this.response=t,Tl(this))};F.ka=function(){this.g&&Tl(this)};function Tl(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ga(t)}F.setRequestHeader=function(t,e){this.v.append(t,e)};F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ga(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Fd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var BO=J.JSON.parse;function Oe(t){nt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=$I,this.L=this.M=!1}rt(Oe,nt);var $I="",HO=/^https?$/i,qO=["POST","PUT"];F=Oe.prototype;F.Oa=function(t){this.M=t};F.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Up.g(),this.C=this.u?s0(this.u):s0(Up),this.g.onreadystatechange=Tt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){a0(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=J.FormData&&t instanceof J.FormData,!(0<=nI(qO,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zI(this),0<this.B&&((this.L=WO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tt(this.ua,this)):this.A=Hg(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){a0(this,i)}};function WO(t){return Yi&&typeof t.timeout=="number"&&t.ontimeout!==void 0}F.ua=function(){typeof Og<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))};function a0(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,FI(t),Ud(t)}function FI(t){t.F||(t.F=!0,ut(t,"complete"),ut(t,"error"))}F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ut(this,"complete"),ut(this,"abort"),Ud(this))};F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ud(this,!0)),Oe.$.N.call(this)};F.La=function(){this.s||(this.G||this.v||this.l?UI(this):this.kb())};F.kb=function(){UI(this)};function UI(t){if(t.h&&typeof Og<"u"&&(!t.C[1]||Pn(t)!=4||t.da()!=2)){if(t.v&&Pn(t)==4)Hg(t.La,0,t);else if(ut(t,"readystatechange"),Pn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(AI)[1]||null;!s&&J.self&&J.self.location&&(s=J.self.location.protocol.slice(0,-1)),r=!HO.test(s?s.toLowerCase():"")}n=r}if(n)ut(t,"complete"),ut(t,"success");else{t.m=6;try{var i=2<Pn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",FI(t)}}finally{Ud(t)}}}}function Ud(t,e){if(t.g){zI(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ut(t,"ready");try{n.onreadystatechange=r}catch{}}}function zI(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(J.clearTimeout(t.A),t.A=null)}F.isActive=function(){return!!this.g};function Pn(t){return t.g?t.g.readyState:0}F.da=function(){try{return 2<Pn(this)?this.g.status:-1}catch{return-1}};F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),BO(e)}};function l0(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case $I:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function GO(t){const e={};t=(t.g&&2<=Pn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Fa(t[r]))continue;var n=yO(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}dO(e,function(r){return r.join(", ")})}F.Ia=function(){return this.m};F.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function BI(t){let e="";return Mg(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Yg(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=BI(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Te(t,e,n))}function Do(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function HI(t){this.Ga=0,this.j=[],this.l=new Ld,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Do("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Do("baseRetryDelayMs",5e3,t),this.hb=Do("retryDelaySeedMs",1e4,t),this.eb=Do("forwardChannelMaxRetries",2,t),this.xa=Do("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new OI(t&&t.concurrentRequestLimit),this.Ja=new FO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}F=HI.prototype;F.ra=8;F.H=1;function Xg(t){if(qI(t),t.H==3){var e=t.W++,n=fr(t.I);if(Te(n,"SID",t.K),Te(n,"RID",e),Te(n,"TYPE","terminate"),Sl(t,n),e=new vl(t,t.l,e),e.L=2,e.v=$d(fr(n)),n=!1,J.navigator&&J.navigator.sendBeacon)try{n=J.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&J.Image&&(new Image().src=e.v,n=!0),n||(e.g=ZI(e.l,null),e.g.ha(e.v)),e.G=Date.now(),El(e)}XI(t)}function zd(t){t.g&&(Zg(t),t.g.cancel(),t.g=null)}function qI(t){zd(t),t.u&&(J.clearTimeout(t.u),t.u=null),Ou(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&J.clearTimeout(t.m),t.m=null)}function Bd(t){if(!LI(t.i)&&!t.m){t.m=!0;var e=t.Na;za||pI(),Ba||(za(),Ba=!0),zg.add(e,t),t.C=0}}function KO(t,e){return DI(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=_l(Tt(t.Na,t,e),YI(t,t.C)),t.C++,!0)}F.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new vl(this,this.l,t);let i=this.s;if(this.U&&(i?(i=oI(i),aI(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=WI(this,s,e),n=fr(this.I),Te(n,"RID",t),Te(n,"CVER",22),this.F&&Te(n,"X-HTTP-Session-Id",this.F),Sl(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(BI(i)))+"&"+e:this.o&&Yg(n,this.o,i)),Kg(this.i,s),this.bb&&Te(n,"TYPE","init"),this.P?(Te(n,"$req",e),Te(n,"SID","null"),s.aa=!0,Bp(s,n,null)):Bp(s,n,e),this.H=2}}else this.H==3&&(t?c0(this,t):this.j.length==0||LI(this.i)||c0(this))};function c0(t,e){var n;e?n=e.m:n=t.W++;const r=fr(t.I);Te(r,"SID",t.K),Te(r,"RID",n),Te(r,"AID",t.V),Sl(t,r),t.o&&t.s&&Yg(r,t.o,t.s),n=new vl(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=WI(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Kg(t.i,n),Bp(n,r,e)}function Sl(t,e){t.na&&Mg(t.na,function(n,r){Te(e,r,n)}),t.h&&NI({},function(n,r){Te(e,r,n)})}function WI(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Tt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{UO(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function GI(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;za||pI(),Ba||(za(),Ba=!0),zg.add(e,t),t.A=0}}function Jg(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=_l(Tt(t.Ma,t),YI(t,t.A)),t.A++,!0)}F.Ma=function(){if(this.u=null,KI(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=_l(Tt(this.jb,this),t)}};F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,At(10),zd(this),KI(this))};function Zg(t){t.B!=null&&(J.clearTimeout(t.B),t.B=null)}function KI(t){t.g=new vl(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=fr(t.wa);Te(e,"RID","rpc"),Te(e,"SID",t.K),Te(e,"AID",t.V),Te(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Te(e,"TO",t.qa),Te(e,"TYPE","xmlhttp"),Sl(t,e),t.o&&t.s&&Yg(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=$d(fr(e)),n.s=null,n.S=!0,II(n,t)}F.ib=function(){this.v!=null&&(this.v=null,zd(this),Jg(this),At(19))};function Ou(t){t.v!=null&&(J.clearTimeout(t.v),t.v=null)}function QI(t,e){var n=null;if(t.g==e){Ou(t),Zg(t),t.g=null;var r=2}else if(qp(t.i,e))n=e.F,MI(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Dd(),ut(r,new EI(r,n)),Bd(t)}else GI(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&KO(t,e)||r==2&&Jg(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Cs(t,5);break;case 4:Cs(t,10);break;case 3:Cs(t,6);break;default:Cs(t,2)}}}function YI(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Cs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Tt(t.pb,t);n||(n=new ks("//www.google.com/images/cleardot.gif"),J.location&&J.location.protocol=="http"||Pu(n,"https"),$d(n)),zO(n.toString(),r)}else At(2);t.H=0,t.h&&t.h.za(e),XI(t),qI(t)}F.pb=function(t){t?(this.l.info("Successfully pinged google.com"),At(2)):(this.l.info("Failed to ping google.com"),At(1))};function XI(t){if(t.H=0,t.ma=[],t.h){const e=jI(t.i);(e.length!=0||t.j.length!=0)&&(Zv(t.ma,e),Zv(t.ma,t.j),t.i.i.length=0,Lg(t.j),t.j.length=0),t.h.ya()}}function JI(t,e,n){var r=n instanceof ks?fr(n):new ks(n);if(r.g!="")e&&(r.g=e+"."+r.g),bu(r,r.m);else{var s=J.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new ks(null);r&&Pu(i,r),e&&(i.g=e),s&&bu(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&Te(r,n,e),Te(r,"VER",t.ra),Sl(t,r),r}function ZI(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Oe(new wl({ob:!0})):new Oe(t.va),e.Oa(t.J),e}F.isActive=function(){return!!this.h&&this.h.isActive(this)};function eC(){}F=eC.prototype;F.Ba=function(){};F.Aa=function(){};F.za=function(){};F.ya=function(){};F.isActive=function(){return!0};F.Va=function(){};function Lu(){if(Yi&&!(10<=Number(aO)))throw Error("Environmental error: no available transport.")}Lu.prototype.g=function(t,e){return new Wt(t,e)};function Wt(t,e){nt.call(this),this.g=new HI(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Fa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Fa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new go(this)}rt(Wt,nt);Wt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;At(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=JI(t,null,t.Y),Bd(t)};Wt.prototype.close=function(){Xg(this.g)};Wt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ug(t),t=n);e.j.push(new jO(e.fb++,t)),e.H==3&&Bd(e)};Wt.prototype.N=function(){this.g.h=null,delete this.j,Xg(this.g),delete this.g,Wt.$.N.call(this)};function tC(t){Wg.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}rt(tC,Wg);function nC(){Gg.call(this),this.status=1}rt(nC,Gg);function go(t){this.g=t}rt(go,eC);go.prototype.Ba=function(){ut(this.g,"a")};go.prototype.Aa=function(t){ut(this.g,new tC(t))};go.prototype.za=function(t){ut(this.g,new nC)};go.prototype.ya=function(){ut(this.g,"b")};function QO(){this.blockSize=-1}function Tn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}rt(Tn,QO);Tn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function of(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}Tn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)of(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){of(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){of(this,r),s=0;break}}this.h=s,this.i+=e};Tn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function ge(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var YO={};function e_(t){return-128<=t&&128>t?sO(t,function(e){return new ge([e|0],0>e?-1:0)}):new ge([t|0],0>t?-1:0)}function bn(t){if(isNaN(t)||!isFinite(t))return Oi;if(0>t)return ot(bn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Wp;return new ge(e,0)}function rC(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return ot(rC(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=bn(Math.pow(e,8)),r=Oi,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=bn(Math.pow(e,i)),r=r.R(i).add(bn(o))):(r=r.R(n),r=r.add(bn(o)))}return r}var Wp=4294967296,Oi=e_(0),Gp=e_(1),u0=e_(16777216);F=ge.prototype;F.ea=function(){if(Zt(this))return-ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Wp+r)*e,e*=Wp}return t};F.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Zn(this))return"0";if(Zt(this))return"-"+ot(this).toString(t);for(var e=bn(Math.pow(t,6)),n=this,r="";;){var s=Mu(n,e).g;n=Du(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Zn(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};F.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Zn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Zt(t){return t.h==-1}F.X=function(t){return t=Du(this,t),Zt(t)?-1:Zn(t)?0:1};function ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new ge(n,~t.h).add(Gp)}F.abs=function(){return Zt(this)?ot(this):this};F.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new ge(n,n[n.length-1]&-2147483648?-1:0)};function Du(t,e){return t.add(ot(e))}F.R=function(t){if(Zn(this)||Zn(t))return Oi;if(Zt(this))return Zt(t)?ot(this).R(ot(t)):ot(ot(this).R(t));if(Zt(t))return ot(this.R(ot(t)));if(0>this.X(u0)&&0>t.X(u0))return bn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,dc(n,2*r+2*s),n[2*r+2*s+1]+=i*l,dc(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,dc(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,dc(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new ge(n,0)};function dc(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Mo(t,e){this.g=t,this.h=e}function Mu(t,e){if(Zn(e))throw Error("division by zero");if(Zn(t))return new Mo(Oi,Oi);if(Zt(t))return e=Mu(ot(t),e),new Mo(ot(e.g),ot(e.h));if(Zt(e))return e=Mu(t,ot(e)),new Mo(ot(e.g),e.h);if(30<t.g.length){if(Zt(t)||Zt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Gp,r=e;0>=r.X(t);)n=d0(n),r=d0(r);var s=oi(n,1),i=oi(r,1);for(r=oi(r,2),n=oi(n,2);!Zn(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=oi(r,1),n=oi(n,1)}return e=Du(t,s.R(e)),new Mo(s,e)}for(s=Oi;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=bn(n),o=i.R(e);Zt(o)||0<o.X(t);)n-=r,i=bn(n),o=i.R(e);Zn(i)&&(i=Gp),s=s.add(i),t=Du(t,o)}return new Mo(s,t)}F.gb=function(t){return Mu(this,t).h};F.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new ge(n,this.h&t.h)};F.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new ge(n,this.h|t.h)};F.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new ge(n,this.h^t.h)};function d0(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new ge(n,t.h)}function oi(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new ge(s,t.h)}Lu.prototype.createWebChannel=Lu.prototype.g;Wt.prototype.send=Wt.prototype.u;Wt.prototype.open=Wt.prototype.m;Wt.prototype.close=Wt.prototype.close;Md.NO_ERROR=0;Md.TIMEOUT=8;Md.HTTP_ERROR=6;wI.COMPLETE="complete";TI.EventType=yl;yl.OPEN="a";yl.CLOSE="b";yl.ERROR="c";yl.MESSAGE="d";nt.prototype.listen=nt.prototype.O;Oe.prototype.listenOnce=Oe.prototype.P;Oe.prototype.getLastError=Oe.prototype.Sa;Oe.prototype.getLastErrorCode=Oe.prototype.Ia;Oe.prototype.getStatus=Oe.prototype.da;Oe.prototype.getResponseJson=Oe.prototype.Wa;Oe.prototype.getResponseText=Oe.prototype.ja;Oe.prototype.send=Oe.prototype.ha;Oe.prototype.setWithCredentials=Oe.prototype.Oa;Tn.prototype.digest=Tn.prototype.l;Tn.prototype.reset=Tn.prototype.reset;Tn.prototype.update=Tn.prototype.j;ge.prototype.add=ge.prototype.add;ge.prototype.multiply=ge.prototype.R;ge.prototype.modulo=ge.prototype.gb;ge.prototype.compare=ge.prototype.X;ge.prototype.toNumber=ge.prototype.ea;ge.prototype.toString=ge.prototype.toString;ge.prototype.getBits=ge.prototype.D;ge.fromNumber=bn;ge.fromString=rC;var XO=function(){return new Lu},JO=function(){return Dd()},af=Md,ZO=wI,eL=Zs,h0={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},tL=wl,hc=TI,nL=Oe,rL=Tn,Li=ge;const f0="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _o="10.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s=new Rd("@firebase/firestore");function p0(){return $s.logLevel}function q(t,...e){if($s.logLevel<=ce.DEBUG){const n=e.map(t_);$s.debug(`Firestore (${_o}): ${t}`,...n)}}function pr(t,...e){if($s.logLevel<=ce.ERROR){const n=e.map(t_);$s.error(`Firestore (${_o}): ${t}`,...n)}}function Xi(t,...e){if($s.logLevel<=ce.WARN){const n=e.map(t_);$s.warn(`Firestore (${_o}): ${t}`,...n)}}function t_(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t="Unexpected state"){const e=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: `+t;throw pr(e),new Error(e)}function Ce(t,e){t||Y()}function ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class U extends Bn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sL{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(mt.UNAUTHENTICATED))}shutdown(){}}class iL{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class oL{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new sr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new sr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ce(typeof r.accessToken=="string"),new sC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ce(e===null||typeof e=="string"),new mt(e)}}class aL{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class lL{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new aL(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cL{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class uL{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ce(typeof n.token=="string"),this.R=n.token,new cL(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dL(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=dL(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function Ji(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return We.fromMillis(Date.now())}static fromDate(e){return We.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new We(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new We(0,0))}static max(){return new Z(new We(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(),r===void 0?r=e.length-n:r>e.length-n&&Y(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ka.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ka?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Se extends Ka{construct(e,n,r){return new Se(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new U(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Se(n)}static emptyPath(){return new Se([])}}const hL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Et extends Ka{construct(e,n,r){return new Et(e,n,r)}static isValidIdentifier(e){return hL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Et.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Et(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new U(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new U(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new U(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new U(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Et(n)}static emptyPath(){return new Et([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(e){this.path=e}static fromPath(e){return new G(Se.fromString(e))}static fromName(e){return new G(Se.fromString(e).popFirst(5))}static empty(){return new G(Se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Se.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Se.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new G(new Se(e.slice()))}}function fL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Z.fromTimestamp(r===1e9?new We(n+1,0):new We(n,r));return new ts(s,G.empty(),e)}function pL(t){return new ts(t.readTime,t.key,-1)}class ts{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ts(Z.min(),G.empty(),-1)}static max(){return new ts(Z.max(),G.empty(),-1)}}function mL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _L{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t){if(t.code!==P.FAILED_PRECONDITION||t.message!==gL)throw t;q("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new M((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Cl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}n_.ae=-1;function Hd(t){return t==null}function ju(t){return t===0&&1/t==-1/0}function yL(t){return typeof t=="number"&&Number.isInteger(t)&&!ju(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function oC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ze=class Kp{constructor(e,n){this.comparator=e,this.root=n||Qr.EMPTY}insert(e,n){return new Kp(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new Kp(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fc(this.root,e,this.comparator,!1)}getReverseIterator(){return new fc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fc(this.root,e,this.comparator,!0)}},fc=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Qr=class Wn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Wn.RED,this.left=s??Wn.EMPTY,this.right=i??Wn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Wn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Wn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Wn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Y();const e=this.left.check();if(e!==this.right.check())throw Y();return e+(this.isRed()?0:1)}};Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1;Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw Y()}get value(){throw Y()}get color(){throw Y()}get left(){throw Y()}get right(){throw Y()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Qr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new g0(this.data.getIterator())}getIteratorFrom(e){return new g0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new It(this.comparator);return n.data=e,n}}class g0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.fields=e,e.sort(Et.comparator)}static empty(){return new mn([])}unionWith(e){let n=new It(Et.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ji(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new aC("Invalid base64 string: "+i):i}}(e);return new Rt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Rt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const vL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ns(t){if(Ce(!!t),typeof t=="string"){let e=0;const n=vL.exec(t);if(Ce(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:$e(t.seconds),nanos:$e(t.nanos)}}function $e(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fs(t){return typeof t=="string"?Rt.fromBase64String(t):Rt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function s_(t){const e=t.mapValue.fields.__previous_value__;return r_(e)?s_(e):e}function Qa(t){const e=ns(t.mapValue.fields.__local_write_time__.timestampValue);return new We(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ya{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ya("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Us(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?r_(t)?4:wL(t)?9007199254740991:10:Y()}function Fn(t,e){if(t===e)return!0;const n=Us(t);if(n!==Us(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Qa(t).isEqual(Qa(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ns(s.timestampValue),a=ns(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Fs(s.bytesValue).isEqual(Fs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return $e(s.geoPointValue.latitude)===$e(i.geoPointValue.latitude)&&$e(s.geoPointValue.longitude)===$e(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return $e(s.integerValue)===$e(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=$e(s.doubleValue),a=$e(i.doubleValue);return o===a?ju(o)===ju(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ji(t.arrayValue.values||[],e.arrayValue.values||[],Fn);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(m0(o)!==m0(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fn(o[l],a[l])))return!1;return!0}(t,e);default:return Y()}}function Xa(t,e){return(t.values||[]).find(n=>Fn(n,e))!==void 0}function Zi(t,e){if(t===e)return 0;const n=Us(t),r=Us(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=$e(i.integerValue||i.doubleValue),l=$e(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return _0(t.timestampValue,e.timestampValue);case 4:return _0(Qa(t),Qa(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Fs(i),l=Fs(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=he(a[c],l[c]);if(u!==0)return u}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=he($e(i.latitude),$e(o.latitude));return a!==0?a:he($e(i.longitude),$e(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Zi(a[c],l[c]);if(u)return u}return he(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===pc.mapValue&&o===pc.mapValue)return 0;if(i===pc.mapValue)return 1;if(o===pc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=he(l[h],u[h]);if(f!==0)return f;const p=Zi(a[l[h]],c[u[h]]);if(p!==0)return p}return he(l.length,u.length)}(t.mapValue,e.mapValue);default:throw Y()}}function _0(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=ns(t),r=ns(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function eo(t){return Qp(t)}function Qp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ns(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Qp(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Qp(n.fields[o])}`;return s+"}"}(t.mapValue):Y()}function y0(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Yp(t){return!!t&&"integerValue"in t}function i_(t){return!!t&&"arrayValue"in t}function v0(t){return!!t&&"nullValue"in t}function E0(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fc(t){return!!t&&"mapValue"in t}function ua(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ua(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ua(t.arrayValue.values[n]);return e}return Object.assign({},t)}function wL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ua(n)}setAll(e){let n=Et.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=ua(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Fc(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){yo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new en(ua(this.value))}}function lC(t){const e=[];return yo(t.fields,(n,r)=>{const s=new Et([n]);if(Fc(r)){const i=lC(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new mn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new _t(e,0,Z.min(),Z.min(),Z.min(),en.empty(),0)}static newFoundDocument(e,n,r,s){return new _t(e,1,n,Z.min(),r,s,0)}static newNoDocument(e,n){return new _t(e,2,n,Z.min(),Z.min(),en.empty(),0)}static newUnknownDocument(e,n){return new _t(e,3,n,Z.min(),Z.min(),en.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n){this.position=e,this.inclusive=n}}function w0(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=G.comparator(G.fromName(o.referenceValue),n.key):r=Zi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function T0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e,n="asc"){this.field=e,this.dir=n}}function TL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{}class Ue extends cC{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new IL(e,n,r):n==="array-contains"?new RL(e,r):n==="in"?new NL(e,r):n==="not-in"?new AL(e,r):n==="array-contains-any"?new kL(e,r):new Ue(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new CL(e,r):new xL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Zi(n,this.value)):n!==null&&Us(this.value)===Us(n)&&this.matchesComparison(Zi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Sn extends cC{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Sn(e,n)}matches(e){return uC(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function uC(t){return t.op==="and"}function dC(t){return SL(t)&&uC(t)}function SL(t){for(const e of t.filters)if(e instanceof Sn)return!1;return!0}function Xp(t){if(t instanceof Ue)return t.field.canonicalString()+t.op.toString()+eo(t.value);if(dC(t))return t.filters.map(e=>Xp(e)).join(",");{const e=t.filters.map(n=>Xp(n)).join(",");return`${t.op}(${e})`}}function hC(t,e){return t instanceof Ue?function(r,s){return s instanceof Ue&&r.op===s.op&&r.field.isEqual(s.field)&&Fn(r.value,s.value)}(t,e):t instanceof Sn?function(r,s){return s instanceof Sn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&hC(o,s.filters[a]),!0):!1}(t,e):void Y()}function fC(t){return t instanceof Ue?function(n){return`${n.field.canonicalString()} ${n.op} ${eo(n.value)}`}(t):t instanceof Sn?function(n){return n.op.toString()+" {"+n.getFilters().map(fC).join(" ,")+"}"}(t):"Filter"}class IL extends Ue{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){const n=G.comparator(e.key,this.key);return this.matchesComparison(n)}}class CL extends Ue{constructor(e,n){super(e,"in",n),this.keys=pC("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class xL extends Ue{constructor(e,n){super(e,"not-in",n),this.keys=pC("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function pC(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}class RL extends Ue{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return i_(n)&&Xa(n.arrayValue,this.value)}}class NL extends Ue{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xa(this.value.arrayValue,n)}}class AL extends Ue{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xa(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xa(this.value.arrayValue,n)}}class kL extends Ue{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!i_(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Xa(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.he=null}}function S0(t,e=null,n=[],r=[],s=null,i=null,o=null){return new PL(t,e,n,r,s,i,o)}function o_(t){const e=ne(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Xp(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Hd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>eo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>eo(r)).join(",")),e.he=n}return e.he}function a_(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!TL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!hC(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!T0(t.startAt,e.startAt)&&T0(t.endAt,e.endAt)}function Jp(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function bL(t,e,n,r,s,i,o,a){return new vo(t,e,n,r,s,i,o,a)}function l_(t){return new vo(t)}function I0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function c_(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function qd(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function mC(t){return t.collectionGroup!==null}function da(t){const e=ne(t);if(e.Pe===null){e.Pe=[];const n=qd(e),r=c_(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Di(n)),e.Pe.push(new Di(Et.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.Pe.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Di(Et.keyField(),i))}}}return e.Pe}function mr(t){const e=ne(t);return e.Ie||(e.Ie=OL(e,da(t))),e.Ie}function OL(t,e){if(t.limitType==="F")return S0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Di(s.field,i)});const n=t.endAt?new Vu(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vu(t.startAt.position,t.startAt.inclusive):null;return S0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Zp(t,e){e.getFirstInequalityField(),qd(t);const n=t.filters.concat([e]);return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function $u(t,e,n){return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Wd(t,e){return a_(mr(t),mr(e))&&t.limitType===e.limitType}function gC(t){return`${o_(mr(t))}|lt:${t.limitType}`}function em(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>fC(s)).join(", ")}]`),Hd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>eo(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>eo(s)).join(",")),`Target(${r})`}(mr(t))}; limitType=${t.limitType})`}function Gd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):G.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of da(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=w0(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,da(r),s)||r.endAt&&!function(o,a,l){const c=w0(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,da(r),s))}(t,e)}function LL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _C(t){return(e,n)=>{let r=!1;for(const s of da(t)){const i=DL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function DL(t,e,n){const r=t.field.isKeyField()?G.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?Zi(l,c):Y()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return oC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ML=new ze(G.comparator);function gr(){return ML}const yC=new ze(G.comparator);function Xo(...t){let e=yC;for(const n of t)e=e.insert(n.key,n);return e}function vC(t){let e=yC;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function xs(){return ha()}function EC(){return ha()}function ha(){return new Eo(t=>t.toString(),(t,e)=>t.isEqual(e))}const jL=new ze(G.comparator),VL=new It(G.comparator);function re(...t){let e=VL;for(const n of t)e=e.add(n);return e}const $L=new It(he);function FL(){return $L}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ju(e)?"-0":e}}function TC(t){return{integerValue:""+t}}function UL(t,e){return yL(e)?TC(e):wC(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(){this._=void 0}}function zL(t,e,n){return t instanceof Fu?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&r_(i)&&(i=s_(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Ja?IC(t,e):t instanceof Za?CC(t,e):function(s,i){const o=SC(s,i),a=C0(o)+C0(s.Ee);return Yp(o)&&Yp(s.Ee)?TC(a):wC(s.serializer,a)}(t,e)}function BL(t,e,n){return t instanceof Ja?IC(t,e):t instanceof Za?CC(t,e):n}function SC(t,e){return t instanceof Uu?function(r){return Yp(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Fu extends Kd{}class Ja extends Kd{constructor(e){super(),this.elements=e}}function IC(t,e){const n=xC(e);for(const r of t.elements)n.some(s=>Fn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Za extends Kd{constructor(e){super(),this.elements=e}}function CC(t,e){let n=xC(e);for(const r of t.elements)n=n.filter(s=>!Fn(s,r));return{arrayValue:{values:n}}}class Uu extends Kd{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function C0(t){return $e(t.integerValue||t.doubleValue)}function xC(t){return i_(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function HL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Ja&&s instanceof Ja||r instanceof Za&&s instanceof Za?Ji(r.elements,s.elements,Fn):r instanceof Uu&&s instanceof Uu?Fn(r.Ee,s.Ee):r instanceof Fu&&s instanceof Fu}(t.transform,e.transform)}class qL{constructor(e,n){this.version=e,this.transformResults=n}}class ir{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Uc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qd{}function RC(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new AC(t.key,ir.none()):new xl(t.key,t.data,ir.none());{const n=t.data,r=en.empty();let s=new It(Et.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ei(t.key,r,new mn(s.toArray()),ir.none())}}function WL(t,e,n){t instanceof xl?function(s,i,o){const a=s.value.clone(),l=R0(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ei?function(s,i,o){if(!Uc(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=R0(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(NC(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function fa(t,e,n,r){return t instanceof xl?function(i,o,a,l){if(!Uc(i.precondition,o))return a;const c=i.value.clone(),u=N0(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ei?function(i,o,a,l){if(!Uc(i.precondition,o))return a;const c=N0(i.fieldTransforms,l,o),u=o.data;return u.setAll(NC(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Uc(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function GL(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=SC(r.transform,s||null);i!=null&&(n===null&&(n=en.empty()),n.set(r.field,i))}return n||null}function x0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ji(r,s,(i,o)=>HL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class xl extends Qd{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ei extends Qd{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function NC(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function R0(t,e,n){const r=new Map;Ce(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,BL(o,a,n[s]))}return r}function N0(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,zL(i,o,e))}return r}class AC extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KL extends Qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&WL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=EC();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=RC(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),re())}isEqual(e){return this.batchId===e.batchId&&Ji(this.mutations,e.mutations,(n,r)=>x0(n,r))&&Ji(this.baseMutations,e.baseMutations,(n,r)=>x0(n,r))}}class u_{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ce(e.mutations.length===r.length);let s=function(){return jL}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new u_(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ve,oe;function JL(t){switch(t){default:return Y();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function kC(t){if(t===void 0)return pr("GRPC error has no .code"),P.UNKNOWN;switch(t){case Ve.OK:return P.OK;case Ve.CANCELLED:return P.CANCELLED;case Ve.UNKNOWN:return P.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return P.INTERNAL;case Ve.UNAVAILABLE:return P.UNAVAILABLE;case Ve.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ve.NOT_FOUND:return P.NOT_FOUND;case Ve.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ve.ABORTED:return P.ABORTED;case Ve.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ve.DATA_LOSS:return P.DATA_LOSS;default:return Y()}}(oe=Ve||(Ve={}))[oe.OK=0]="OK",oe[oe.CANCELLED=1]="CANCELLED",oe[oe.UNKNOWN=2]="UNKNOWN",oe[oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",oe[oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",oe[oe.NOT_FOUND=5]="NOT_FOUND",oe[oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",oe[oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",oe[oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",oe[oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",oe[oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",oe[oe.ABORTED=10]="ABORTED",oe[oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",oe[oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",oe[oe.INTERNAL=13]="INTERNAL",oe[oe.UNAVAILABLE=14]="UNAVAILABLE",oe[oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return mc}static getOrCreateInstance(){return mc===null&&(mc=new d_),mc}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let mc=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new Li([4294967295,4294967295],0);function A0(t){const e=ZL().encode(t),n=new rL;return n.update(e),new Uint8Array(n.digest())}function k0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Li([n,r],0),new Li([s,i],0)]}class h_{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jo(`Invalid padding: ${n}`);if(r<0)throw new Jo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Jo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Jo(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Li.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(Li.fromNumber(r)));return s.compare(eD)===1&&(s=new Li([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=A0(e),[r,s]=k0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);if(!this.me(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new h_(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=A0(e),[r,s]=k0(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Rl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yd(Z.min(),s,new ze(he),gr(),re())}}class Rl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rl(r,n,re(),re(),re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class PC{constructor(e,n){this.targetId=e,this.ye=n}}class bC{constructor(e,n,r=Rt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class P0{constructor(){this.we=0,this.Se=O0(),this.be=Rt.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return this.we!==0}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=re(),n=re(),r=re();return this.Se.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Y()}}),new Rl(this.be,this.De,e,n,r)}Oe(){this.ve=!1,this.Se=O0()}Ne(e,n){this.ve=!0,this.Se=this.Se.insert(e,n)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class tD{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=gr(),this.Ue=b0(),this.We=new ze(he)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:Y()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){var n;const r=e.targetId,s=e.ye.count,i=this.et(r);if(i){const o=i.target;if(Jp(o))if(s===0){const a=new G(o.path);this.je(r,a,_t.newNoDocument(a,Z.min()))}else Ce(s===1);else{const a=this.tt(r);if(a!==s){const l=this.nt(e),c=l?this.rt(l,e,a):1;if(c!==0){this.Ze(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(r,u)}(n=d_.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,p,_,g){var v,m,y,E,w,T;const R={localCacheCount:h,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},b=f.unchangedNames;return b&&(R.bloomFilter={applied:g===0,hashCount:(v=b==null?void 0:b.hashCount)!==null&&v!==void 0?v:0,bitmapLength:(E=(y=(m=b==null?void 0:b.bits)===null||m===void 0?void 0:m.bitmap)===null||y===void 0?void 0:y.length)!==null&&E!==void 0?E:0,padding:(T=(w=b==null?void 0:b.bits)===null||w===void 0?void 0:w.padding)!==null&&T!==void 0?T:0,mightContain:A=>{var W;return(W=_==null?void 0:_.mightContain(A))!==null&&W!==void 0&&W}}),R}(a,e.ye,this.Qe.it(),l,c))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Fs(r).toUint8Array()}catch(l){if(l instanceof aC)return Xi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new h_(o,s,i)}catch(l){return Xi(l instanceof Jo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Qe.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.je(n,i,null),s++)}),s}ot(e){const n=new Map;this.Ke.forEach((i,o)=>{const a=this.et(o);if(a){if(i.current&&Jp(a.target)){const l=new G(a.target.path);this.$e.get(l)!==null||this._t(o,l)||this.je(o,l,_t.newNoDocument(l,e))}i.Fe&&(n.set(o,i.xe()),i.Oe())}});let r=re();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.et(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.$e.forEach((i,o)=>o.setReadTime(e));const s=new Yd(e,n,this.We,this.$e,r);return this.$e=gr(),this.Ue=b0(),this.We=new ze(he),s}ze(e,n){if(!this.Ye(e))return;const r=this._t(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ut(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this._t(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ut(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new P0,this.Ke.set(e,n)),n}ut(e){let n=this.Ue.get(e);return n||(n=new It(he),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.Ce?null:this.Qe.ct(e)}Ze(e){this.Ke.set(e,new P0),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}_t(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function b0(){return new ze(G.comparator)}function O0(){return new ze(G.comparator)}const nD=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),rD=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),sD=(()=>({and:"AND",or:"OR"}))();class iD{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tm(t,e){return t.useProto3Json||Hd(e)?e:{value:e}}function zu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function OC(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function oD(t,e){return zu(t,e.toTimestamp())}function jn(t){return Ce(!!t),Z.fromTimestamp(function(n){const r=ns(n);return new We(r.seconds,r.nanos)}(t))}function f_(t,e){return function(r){return new Se(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function LC(t){const e=Se.fromString(t);return Ce(VC(e)),e}function nm(t,e){return f_(t.databaseId,e.path)}function lf(t,e){const n=LC(e);if(n.get(1)!==t.databaseId.projectId)throw new U(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(DC(n))}function rm(t,e){return f_(t.databaseId,e)}function aD(t){const e=LC(t);return e.length===4?Se.emptyPath():DC(e)}function sm(t){return new Se(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DC(t){return Ce(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function L0(t,e,n){return{name:nm(t,e),fields:n.value.mapValue.fields}}function lD(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Y()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Ce(u===void 0||typeof u=="string"),Rt.fromBase64String(u||"")):(Ce(u===void 0||u instanceof Uint8Array),Rt.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?P.UNKNOWN:kC(c.code);return new U(u,c.message||"")}(o);n=new bC(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=lf(t,r.document.name),i=jn(r.document.updateTime),o=r.document.createTime?jn(r.document.createTime):Z.min(),a=new en({mapValue:{fields:r.document.fields}}),l=_t.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new zc(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=lf(t,r.document),i=r.readTime?jn(r.readTime):Z.min(),o=_t.newNoDocument(s,i),a=r.removedTargetIds||[];n=new zc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=lf(t,r.document),i=r.removedTargetIds||[];n=new zc([],i,s,null)}else{if(!("filter"in e))return Y();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new XL(s,i),a=r.targetId;n=new PC(a,o)}}return n}function cD(t,e){let n;if(e instanceof xl)n={update:L0(t,e.key,e.value)};else if(e instanceof AC)n={delete:nm(t,e.key)};else if(e instanceof ei)n={update:L0(t,e.key,e.data),updateMask:yD(e.fieldMask)};else{if(!(e instanceof KL))return Y();n={verify:nm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Fu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ja)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Za)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw Y()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:oD(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Y()}(t,e.precondition)),n}function uD(t,e){return t&&t.length>0?(Ce(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?jn(s.updateTime):jn(i);return o.isEqual(Z.min())&&(o=jn(i)),new qL(o,s.transformResults||[])}(n,e))):[]}function dD(t,e){return{documents:[rm(t,e.path)]}}function hD(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=rm(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=rm(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return jC(Sn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:ci(h.field),direction:mD(h.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=tm(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function fD(t){let e=aD(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ce(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=MC(h);return f instanceof Sn&&dC(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(_){return new Di(ui(_.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Hd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Vu(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new Vu(p,f)}(n.endAt)),bL(e,s,o,i,a,"F",l,c)}function pD(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Y()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MC(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ui(n.unaryFilter.field);return Ue.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ui(n.unaryFilter.field);return Ue.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ui(n.unaryFilter.field);return Ue.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ui(n.unaryFilter.field);return Ue.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Y()}}(t):t.fieldFilter!==void 0?function(n){return Ue.create(ui(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Y()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Sn.create(n.compositeFilter.filters.map(r=>MC(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Y()}}(n.compositeFilter.op))}(t):Y()}function mD(t){return nD[t]}function gD(t){return rD[t]}function _D(t){return sD[t]}function ci(t){return{fieldPath:t.canonicalString()}}function ui(t){return Et.fromServerFormat(t.fieldPath)}function jC(t){return t instanceof Ue?function(n){if(n.op==="=="){if(E0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NAN"}};if(v0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(E0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NAN"}};if(v0(n.value))return{unaryFilter:{field:ci(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ci(n.field),op:gD(n.op),value:n.value}}}(t):t instanceof Sn?function(n){const r=n.getFilters().map(s=>jC(s));return r.length===1?r[0]:{compositeFilter:{op:_D(n.op),filters:r}}}(t):Y()}function yD(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VC(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(e,n,r,s,i=Z.min(),o=Z.min(),a=Rt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(e){this.lt=e}}function ED(t){const e=fD({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?$u(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(){this.on=new TD}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(ts.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(ts.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class TD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new It(Se.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new It(Se.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new to(0)}static Nn(){return new to(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(){this.changes=new Eo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_t.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ID{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CD{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&fa(r.mutation,s,mn.empty(),We.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=re()){const s=xs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Xo();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=xs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,re()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=gr();const o=ha(),a=function(){return ha()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof ei)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),fa(u.mutation,c,u.mutation.getFieldMask(),We.now())):o.set(c.key,mn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new ID(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ha();let s=new ze((o,a)=>o-a),i=re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||mn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||re()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=EC();u.forEach(f=>{if(!i.has(f)){const p=RC(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return G.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(xs());let a=-1,l=i;return o.next(c=>M.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,re())).next(u=>({batchId:a,changes:vC(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let s=Xo();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=Xo();return this.indexManager.getCollectionParents(e,s).next(o=>M.forEach(o,a=>{const l=function(u,h){return new vo(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,_t.newInvalidDocument(c)))});let o=Xo();return i.forEach((a,l)=>{const c=s.get(a);c!==void 0&&fa(c.mutation,l,mn.empty(),We.now()),Gd(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:jn(s.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:ED(s.bundledQuery),readTime:jn(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(){this.overlays=new ze(G.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=xs();return M.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Pt(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=xs(),i=n.length+1,o=new G(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ze((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=xs(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=xs(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return M.resolve(a)}Pt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new YL(n,r));let i=this.lr.get(n);i===void 0&&(i=re(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(){this.hr=new It(Ye.Pr),this.Ir=new It(Ye.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ye(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ye(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new G(new Se([])),r=new Ye(n,e),s=new Ye(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new G(new Se([])),r=new Ye(n,e),s=new Ye(n,e+1);let i=re();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ye(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ye{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return G.comparator(e.key,n.key)||he(e.gr,n.gr)}static Tr(e,n){return he(e.gr,n.gr)||G.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new It(Ye.Pr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new QL(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new Ye(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ye(n,0),s=new Ye(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new It(he);return n.forEach(s=>{const i=new Ye(s,0),o=new Ye(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;G.isDocumentKey(i)||(i=i.child(""));const o=new Ye(new G(i),0);let a=new It(he);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),M.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ce(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,s=>{const i=new Ye(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ye(n,0),s=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{constructor(e){this.vr=e,this.docs=function(){return new ze(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():_t.newInvalidDocument(n))}getEntries(e,n){let r=gr();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():_t.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=gr();const o=n.path,a=new G(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||mL(pL(u),r)<=0||(s.has(u.key)||Gd(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Y()}Cr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new kD(this)}getSize(e){return M.resolve(this.size)}}class kD extends SD{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.persistence=e,this.Fr=new Eo(n=>o_(n),a_),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Mr=0,this.Or=new p_,this.targetCount=0,this.Nr=to.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new to(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bD{constructor(e,n){this.Br={},this.overlays={},this.Lr=new n_(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new PD(this),this.indexManager=new wD,this.remoteDocumentCache=function(s){return new AD(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new vD(n),this.Kr=new xD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new ND(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);const s=new OD(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class OD extends _L{constructor(e){super(),this.currentSequenceNumber=e}}class m_{constructor(e){this.persistence=e,this.Gr=new p_,this.zr=null}static jr(e){return new m_(e)}get Hr(){if(this.zr)return this.zr;throw Y()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const s=G.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,Z.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=re(),s=re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new g_(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.Ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ui(e,n).next(i=>i||this.Wi(e,n,s,r)).next(i=>i||this.Gi(e,n))}Ui(e,n){if(I0(n))return M.resolve(null);let r=mr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=$u(n,null,"F"),r=mr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=re(...i);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.zi(n,a);return this.ji(n,c,o,l.readTime)?this.Ui(e,$u(n,null,"F")):this.Hi(e,c,n,l)}))})))}Wi(e,n,r,s){return I0(n)||s.isEqual(Z.min())?this.Gi(e,n):this.$i.getDocuments(e,r).next(i=>{const o=this.zi(n,i);return this.ji(n,o,r,s)?this.Gi(e,n):(p0()<=ce.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),em(n)),this.Hi(e,o,n,fL(s,-1)))})}zi(e,n){let r=new It(_C(e));return n.forEach((s,i)=>{Gd(e,i)&&(r=r.add(i))}),r}ji(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Gi(e,n){return p0()<=ce.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",em(n)),this.$i.getDocumentsMatchingQuery(e,n,ts.min())}Hi(e,n,r,s){return this.$i.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e,n,r,s){this.persistence=e,this.Ji=n,this.serializer=s,this.Yi=new ze(he),this.Zi=new Eo(i=>o_(i),a_),this.Xi=new Map,this.es=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.ts(r)}ts(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CD(this.es,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.es.setIndexManager(this.indexManager),this.Ji.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Yi))}}function MD(t,e,n,r){return new DD(t,e,n,r)}async function $C(t,e){const n=ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ts(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=re();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function jD(t,e){const n=ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.es.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=M.resolve();return f.forEach(_=>{p=p.next(()=>u.getEntry(l,_)).next(g=>{const v=c.docVersions.get(_);Ce(v!==null),g.version.compareTo(v)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function FC(t){const e=ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function VD(t,e){const n=ne(t),r=e.snapshotVersion;let s=n.Yi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.es.newChangeBuffer({trackRemovals:!0});s=n.Yi;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Rt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(g,v,m){return g.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,u)&&a.push(n.qr.updateTargetData(i,p))});let l=gr(),c=re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push($D(i,o,e.documentUpdates).next(u=>{l=u.rs,c=u.ss})),!r.isEqual(Z.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return M.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Yi=s,i))}function $D(t,e,n){let r=re(),s=re();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=gr();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{rs:o,ss:s}})}function FD(t,e){const n=ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function UD(t,e){const n=ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Dr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Yi.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Yi=n.Yi.insert(r.targetId,r),n.Zi.set(e,r.targetId)),r})}async function im(t,e,n){const r=ne(t),s=r.Yi.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Cl(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Yi=r.Yi.remove(e),r.Zi.delete(s.target)}function D0(t,e,n){const r=ne(t);let s=Z.min(),i=re();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,c,u){const h=ne(l),f=h.Zi.get(u);return f!==void 0?M.resolve(h.Yi.get(f)):h.qr.getTargetData(c,u)}(r,o,mr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ji.getDocumentsMatchingQuery(o,e,n?s:Z.min(),n?i:re())).next(a=>(zD(r,LL(e),a),{documents:a,os:i})))}function zD(t,e,n){let r=t.Xi.get(e)||Z.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class M0{constructor(){this.activeTargetIds=FL()}Ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}Is(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BD{constructor(){this.Js=new M0,this.Ys={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Js.Ps(e),this.Ys[e]||"not-current"}updateQueryState(e,n,r){this.Ys[e]=n}removeLocalQueryTarget(e){this.Js.Is(e)}isLocalQueryTarget(e){return this.Js.activeTargetIds.has(e)}clearQueryState(e){delete this.Ys[e]}getAllActiveQueryTargets(){return this.Js.activeTargetIds}isActiveQueryTarget(e){return this.Js.activeTargetIds.has(e)}start(){return this.Js=new M0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HD{Zs(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(){this.Xs=()=>this.eo(),this.no=()=>this.ro(),this.io=[],this.so()}Zs(e){this.io.push(e)}shutdown(){window.removeEventListener("online",this.Xs),window.removeEventListener("offline",this.no)}so(){window.addEventListener("online",this.Xs),window.addEventListener("offline",this.no)}eo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.io)e(0)}ro(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.io)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc=null;function cf(){return gc===null?gc=function(){return 268435456+Math.round(2147483648*Math.random())}():gc++,"0x"+gc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(e){this.oo=e.oo,this._o=e._o}ao(e){this.uo=e}co(e){this.lo=e}onMessage(e){this.ho=e}close(){this._o()}send(e){this.oo(e)}Po(){this.uo()}Io(e){this.lo(e)}To(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pt="WebChannelConnection";class GD extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Eo=r+"://"+n.host,this.Ao=`projects/${s}/databases/${i}`,this.Ro=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Vo(){return!1}mo(n,r,s,i,o){const a=cf(),l=this.fo(n,r);q("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ao,"x-goog-request-params":this.Ro};return this.po(c,i,o),this.yo(n,l,c,s).then(u=>(q("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw Xi("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}wo(n,r,s,i,o,a){return this.mo(n,r,s,i,o)}po(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_o}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}fo(n,r){const s=qD[n];return`${this.Eo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}yo(e,n,r,s){const i=cf();return new Promise((o,a)=>{const l=new nL;l.setWithCredentials(!0),l.listenOnce(ZO.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case af.NO_ERROR:const u=l.getResponseJson();q(pt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case af.TIMEOUT:q(pt,`RPC '${e}' ${i} timed out`),a(new U(P.DEADLINE_EXCEEDED,"Request time out"));break;case af.HTTP_ERROR:const h=l.getStatus();if(q(pt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const _=function(v){const m=v.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(m)>=0?m:P.UNKNOWN}(p.status);a(new U(_,p.message))}else a(new U(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new U(P.UNAVAILABLE,"Connection failed."));break;default:Y()}}finally{q(pt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);q(pt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}So(e,n,r){const s=cf(),i=[this.Eo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=XO(),a=JO(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new tL({})),this.po(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");q(pt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const _=new WD({oo:v=>{p?q(pt,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(f||(q(pt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),q(pt,`RPC '${e}' stream ${s} sending:`,v),h.send(v))},_o:()=>h.close()}),g=(v,m,y)=>{v.listen(m,E=>{try{y(E)}catch(w){setTimeout(()=>{throw w},0)}})};return g(h,hc.EventType.OPEN,()=>{p||q(pt,`RPC '${e}' stream ${s} transport opened.`)}),g(h,hc.EventType.CLOSE,()=>{p||(p=!0,q(pt,`RPC '${e}' stream ${s} transport closed`),_.Io())}),g(h,hc.EventType.ERROR,v=>{p||(p=!0,Xi(pt,`RPC '${e}' stream ${s} transport errored:`,v),_.Io(new U(P.UNAVAILABLE,"The operation could not be completed")))}),g(h,hc.EventType.MESSAGE,v=>{var m;if(!p){const y=v.data[0];Ce(!!y);const E=y,w=E.error||((m=E[0])===null||m===void 0?void 0:m.error);if(w){q(pt,`RPC '${e}' stream ${s} received error:`,w);const T=w.status;let R=function(W){const S=Ve[W];if(S!==void 0)return kC(S)}(T),b=w.message;R===void 0&&(R=P.INTERNAL,b="Unknown error status: "+T+" with message "+w.message),p=!0,_.Io(new U(R,b)),h.close()}else q(pt,`RPC '${e}' stream ${s} received:`,y),_.To(y)}}),g(a,eL.STAT_EVENT,v=>{v.stat===h0.PROXY?q(pt,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===h0.NOPROXY&&q(pt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.Po()},0),_}}function uf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(t){return new iD(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.bo=r,this.Do=s,this.vo=i,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}reset(){this.Co=0}xo(){this.Co=this.vo}Oo(e){this.cancel();const n=Math.floor(this.Co+this.No()),r=Math.max(0,Date.now()-this.Mo),s=Math.max(0,n-r);s>0&&q("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Co} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Fo=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Mo=Date.now(),e())),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}Bo(){this.Fo!==null&&(this.Fo.skipDelay(),this.Fo=null)}cancel(){this.Fo!==null&&(this.Fo.cancel(),this.Fo=null)}No(){return(Math.random()-.5)*this.Co}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Lo=r,this.ko=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.qo=0,this.Qo=null,this.Ko=null,this.stream=null,this.$o=new UC(e,n)}Uo(){return this.state===1||this.state===5||this.Wo()}Wo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}zo(){this.state=0,this.$o.reset()}jo(){this.Wo()&&this.Qo===null&&(this.Qo=this.si.enqueueAfterDelay(this.Lo,6e4,()=>this.Ho()))}Jo(e){this.Yo(),this.stream.send(e)}async Ho(){if(this.Wo())return this.close(0)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}async close(e,n){this.Yo(),this.Zo(),this.$o.cancel(),this.qo++,e!==4?this.$o.reset():n&&n.code===P.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.$o.xo()):n&&n.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Xo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Xo(){}auth(){this.state=1;const e=this.e_(this.qo),n=this.qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.qo===n&&this.t_(r,s)},r=>{e(()=>{const s=new U(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.n_(s)})})}t_(e,n){const r=this.e_(this.qo);this.stream=this.r_(e,n),this.stream.ao(()=>{r(()=>(this.state=2,this.Ko=this.si.enqueueAfterDelay(this.ko,1e4,()=>(this.Wo()&&(this.state=3),Promise.resolve())),this.listener.ao()))}),this.stream.co(s=>{r(()=>this.n_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.$o.Oo(async()=>{this.state=0,this.start()})}n_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}e_(e){return n=>{this.si.enqueueAndForget(()=>this.qo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KD extends zC{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}r_(e,n){return this.connection.So("Listen",e,n)}onMessage(e){this.$o.reset();const n=lD(this.serializer,e),r=function(i){if(!("targetChange"in i))return Z.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?jn(o.readTime):Z.min()}(e);return this.listener.i_(n,r)}s_(e){const n={};n.database=sm(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Jp(l)?{documents:dD(i,l)}:{query:hD(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=OC(i,o.resumeToken);const c=tm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=zu(i,o.snapshotVersion.toTimestamp());const c=tm(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=pD(this.serializer,e);r&&(n.labels=r),this.Jo(n)}o_(e){const n={};n.database=sm(this.serializer),n.removeTarget=e,this.Jo(n)}}class QD extends zC{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.__=!1}get a_(){return this.__}start(){this.__=!1,this.lastStreamToken=void 0,super.start()}Xo(){this.__&&this.u_([])}r_(e,n){return this.connection.So("Write",e,n)}onMessage(e){if(Ce(!!e.streamToken),this.lastStreamToken=e.streamToken,this.__){this.$o.reset();const n=uD(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.c_(r,n)}return Ce(!e.writeResults||e.writeResults.length===0),this.__=!0,this.listener.l_()}h_(){const e={};e.database=sm(this.serializer),this.Jo(e)}u_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>cD(this.serializer,r))};this.Jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.P_=!1}I_(){if(this.P_)throw new U(P.FAILED_PRECONDITION,"The client has already been terminated.")}mo(e,n,r){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.mo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(P.UNKNOWN,s.toString())})}wo(e,n,r,s){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new U(P.UNKNOWN,i.toString())})}terminate(){this.P_=!0}}class XD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.E_=0,this.d_=null,this.A_=!0}R_(){this.E_===0&&(this.V_("Unknown"),this.d_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.d_=null,this.m_("Backend didn't respond within 10 seconds."),this.V_("Offline"),Promise.resolve())))}f_(e){this.state==="Online"?this.V_("Unknown"):(this.E_++,this.E_>=1&&(this.g_(),this.m_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.V_("Offline")))}set(e){this.g_(),this.E_=0,e==="Online"&&(this.A_=!1),this.V_(e)}V_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}m_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.A_?(pr(n),this.A_=!1):q("OnlineStateTracker",n)}g_(){this.d_!==null&&(this.d_.cancel(),this.d_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.p_=[],this.y_=new Map,this.w_=new Set,this.S_=[],this.b_=i,this.b_.Zs(o=>{r.enqueueAndForget(async()=>{ti(this)&&(q("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ne(l);c.w_.add(4),await Nl(c),c.D_.set("Unknown"),c.w_.delete(4),await Jd(c)}(this))})}),this.D_=new XD(r,s)}}async function Jd(t){if(ti(t))for(const e of t.S_)await e(!0)}async function Nl(t){for(const e of t.S_)await e(!1)}function BC(t,e){const n=ne(t);n.y_.has(e.targetId)||(n.y_.set(e.targetId,e),v_(n)?y_(n):wo(n).Wo()&&__(n,e))}function HC(t,e){const n=ne(t),r=wo(n);n.y_.delete(e),r.Wo()&&qC(n,e),n.y_.size===0&&(r.Wo()?r.jo():ti(n)&&n.D_.set("Unknown"))}function __(t,e){if(t.v_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(t).s_(e)}function qC(t,e){t.v_.Le(e),wo(t).o_(e)}function y_(t){t.v_=new tD({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ct:e=>t.y_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),wo(t).start(),t.D_.R_()}function v_(t){return ti(t)&&!wo(t).Uo()&&t.y_.size>0}function ti(t){return ne(t).w_.size===0}function WC(t){t.v_=void 0}async function ZD(t){t.y_.forEach((e,n)=>{__(t,e)})}async function eM(t,e){WC(t),v_(t)?(t.D_.f_(e),y_(t)):t.D_.set("Unknown")}async function tM(t,e,n){if(t.D_.set("Online"),e instanceof bC&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.y_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.y_.delete(a),s.v_.removeTarget(a))}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Bu(t,r)}else if(e instanceof zc?t.v_.Ge(e):e instanceof PC?t.v_.Xe(e):t.v_.He(e),!n.isEqual(Z.min()))try{const r=await FC(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.v_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.y_.get(c);u&&i.y_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.y_.get(l);if(!u)return;i.y_.set(l,u.withResumeToken(Rt.EMPTY_BYTE_STRING,u.snapshotVersion)),qC(i,l);const h=new Dr(u.target,l,c,u.sequenceNumber);__(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){q("RemoteStore","Failed to raise snapshot:",r),await Bu(t,r)}}async function Bu(t,e,n){if(!Cl(e))throw e;t.w_.add(1),await Nl(t),t.D_.set("Offline"),n||(n=()=>FC(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{q("RemoteStore","Retrying IndexedDB access"),await n(),t.w_.delete(1),await Jd(t)})}function GC(t,e){return e().catch(n=>Bu(t,n,e))}async function Zd(t){const e=ne(t),n=rs(e);let r=e.p_.length>0?e.p_[e.p_.length-1].batchId:-1;for(;nM(e);)try{const s=await FD(e.localStore,r);if(s===null){e.p_.length===0&&n.jo();break}r=s.batchId,rM(e,s)}catch(s){await Bu(e,s)}KC(e)&&QC(e)}function nM(t){return ti(t)&&t.p_.length<10}function rM(t,e){t.p_.push(e);const n=rs(t);n.Wo()&&n.a_&&n.u_(e.mutations)}function KC(t){return ti(t)&&!rs(t).Uo()&&t.p_.length>0}function QC(t){rs(t).start()}async function sM(t){rs(t).h_()}async function iM(t){const e=rs(t);for(const n of t.p_)e.u_(n.mutations)}async function oM(t,e,n){const r=t.p_.shift(),s=u_.from(r,e,n);await GC(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Zd(t)}async function aM(t,e){e&&rs(t).a_&&await async function(r,s){if(function(o){return JL(o)&&o!==P.ABORTED}(s.code)){const i=r.p_.shift();rs(r).zo(),await GC(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Zd(r)}}(t,e),KC(t)&&QC(t)}async function V0(t,e){const n=ne(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");const r=ti(n);n.w_.add(3),await Nl(n),r&&n.D_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.w_.delete(3),await Jd(n)}async function lM(t,e){const n=ne(t);e?(n.w_.delete(2),await Jd(n)):e||(n.w_.add(2),await Nl(n),n.D_.set("Unknown"))}function wo(t){return t.C_||(t.C_=function(n,r,s){const i=ne(n);return i.I_(),new KD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:ZD.bind(null,t),co:eM.bind(null,t),i_:tM.bind(null,t)}),t.S_.push(async e=>{e?(t.C_.zo(),v_(t)?y_(t):t.D_.set("Unknown")):(await t.C_.stop(),WC(t))})),t.C_}function rs(t){return t.F_||(t.F_=function(n,r,s){const i=ne(n);return i.I_(),new QD(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:sM.bind(null,t),co:aM.bind(null,t),l_:iM.bind(null,t),c_:oM.bind(null,t)}),t.S_.push(async e=>{e?(t.F_.zo(),await Zd(t)):(await t.F_.stop(),t.p_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.p_.length} pending writes`),t.p_=[]))})),t.F_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new E_(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function w_(t,e){if(pr("AsyncQueue",`${e}: ${t}`),Cl(t))return new U(P.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Xo(),this.sortedSet=new ze(this.comparator)}static emptySet(e){return new Mi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Mi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Mi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(){this.M_=new ze(G.comparator)}track(e){const n=e.doc.key,r=this.M_.get(n);r?e.type!==0&&r.type===3?this.M_=this.M_.insert(n,e):e.type===3&&r.type!==1?this.M_=this.M_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.M_=this.M_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.M_=this.M_.remove(n):e.type===1&&r.type===2?this.M_=this.M_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):Y():this.M_=this.M_.insert(n,e)}x_(){const e=[];return this.M_.inorderTraversal((n,r)=>{e.push(r)}),e}}class no{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new no(e,n,Mi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Wd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(){this.O_=void 0,this.listeners=[]}}class uM{constructor(){this.queries=new Eo(e=>gC(e),Wd),this.onlineState="Unknown",this.N_=new Set}}async function YC(t,e){const n=ne(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new cM),s)try{i.O_=await n.onListen(r)}catch(o){const a=w_(o,`Initialization of query '${em(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.B_(n.onlineState),i.O_&&e.L_(i.O_)&&T_(n)}async function XC(t,e){const n=ne(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function dM(t,e){const n=ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.L_(s)&&(r=!0);o.O_=s}}r&&T_(n)}function hM(t,e,n){const r=ne(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function T_(t){t.N_.forEach(e=>{e.next()})}class JC{constructor(e,n,r){this.query=e,this.k_=n,this.q_=!1,this.Q_=null,this.onlineState="Unknown",this.options=r||{}}L_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new no(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.q_?this.K_(e)&&(this.k_.next(e),n=!0):this.U_(e,this.onlineState)&&(this.W_(e),n=!0),this.Q_=e,n}onError(e){this.k_.error(e)}B_(e){this.onlineState=e;let n=!1;return this.Q_&&!this.q_&&this.U_(this.Q_,e)&&(this.W_(this.Q_),n=!0),n}U_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.G_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}K_(e){if(e.docChanges.length>0)return!0;const n=this.Q_&&this.Q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}W_(e){e=no.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.q_=!0,this.k_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e){this.key=e}}class e1{constructor(e){this.key=e}}class fM{constructor(e,n){this.query=e,this.ea=n,this.ta=null,this.hasCachedResults=!1,this.current=!1,this.na=re(),this.mutatedKeys=re(),this.ra=_C(e),this.ia=new Mi(this.ra)}get sa(){return this.ea}oa(e,n){const r=n?n._a:new $0,s=n?n.ia:this.ia;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=Gd(this.query,h)?h:null,_=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let v=!1;f&&p?f.data.isEqual(p.data)?_!==g&&(r.track({type:3,doc:p}),v=!0):this.aa(f,p)||(r.track({type:2,doc:p}),v=!0,(l&&this.ra(p,l)>0||c&&this.ra(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),v=!0):f&&!p&&(r.track({type:1,doc:f}),v=!0,(l||c)&&(a=!0)),v&&(p?(o=o.add(p),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ia:o,_a:r,ji:a,mutatedKeys:i}}aa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ia;this.ia=e.ia,this.mutatedKeys=e.mutatedKeys;const i=e._a.x_();i.sort((c,u)=>function(f,p){const _=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Y()}};return _(f)-_(p)}(c.type,u.type)||this.ra(c.doc,u.doc)),this.ua(r);const o=n?this.ca():[],a=this.na.size===0&&this.current?1:0,l=a!==this.ta;return this.ta=a,i.length!==0||l?{snapshot:new no(this.query,e.ia,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),la:o}:{la:o}}B_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ia:this.ia,_a:new $0,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{la:[]}}ha(e){return!this.ea.has(e)&&!!this.ia.has(e)&&!this.ia.get(e).hasLocalMutations}ua(e){e&&(e.addedDocuments.forEach(n=>this.ea=this.ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ea=this.ea.delete(n)),this.current=e.current)}ca(){if(!this.current)return[];const e=this.na;this.na=re(),this.ia.forEach(r=>{this.ha(r.key)&&(this.na=this.na.add(r.key))});const n=[];return e.forEach(r=>{this.na.has(r)||n.push(new e1(r))}),this.na.forEach(r=>{e.has(r)||n.push(new ZC(r))}),n}Pa(e){this.ea=e.os,this.na=re();const n=this.oa(e.documents);return this.applyChanges(n,!0)}Ia(){return no.fromInitialDocuments(this.query,this.ia,this.mutatedKeys,this.ta===0,this.hasCachedResults)}}class pM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class mM{constructor(e){this.key=e,this.Ta=!1}}class gM{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ea={},this.da=new Eo(a=>gC(a),Wd),this.Aa=new Map,this.Ra=new Set,this.Va=new ze(G.comparator),this.ma=new Map,this.fa=new p_,this.ga={},this.pa=new Map,this.ya=to.Nn(),this.onlineState="Unknown",this.wa=void 0}get isPrimaryClient(){return this.wa===!0}}async function _M(t,e){const n=RM(t);let r,s;const i=n.da.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Ia();else{const o=await UD(n.localStore,mr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await yM(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&BC(n.remoteStore,o)}return s}async function yM(t,e,n,r,s){t.Sa=(h,f,p)=>async function(g,v,m,y){let E=v.view.oa(m);E.ji&&(E=await D0(g.localStore,v.query,!1).then(({documents:R})=>v.view.oa(R,E)));const w=y&&y.targetChanges.get(v.targetId),T=v.view.applyChanges(E,g.isPrimaryClient,w);return U0(g,v.targetId,T.la),T.snapshot}(t,h,f,p);const i=await D0(t.localStore,e,!0),o=new fM(e,i.os),a=o.oa(i.documents),l=Rl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);U0(t,n,c.la);const u=new pM(e,n,o);return t.da.set(e,u),t.Aa.has(n)?t.Aa.get(n).push(e):t.Aa.set(n,[e]),c.snapshot}async function vM(t,e){const n=ne(t),r=n.da.get(e),s=n.Aa.get(r.targetId);if(s.length>1)return n.Aa.set(r.targetId,s.filter(i=>!Wd(i,e))),void n.da.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await im(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),HC(n.remoteStore,r.targetId),om(n,r.targetId)}).catch(Il)):(om(n,r.targetId),await im(n.localStore,r.targetId,!0))}async function EM(t,e,n){const r=NM(t);try{const s=await function(o,a){const l=ne(o),c=We.now(),u=a.reduce((p,_)=>p.add(_.key),re());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=gr(),g=re();return l.es.getEntries(p,u).next(v=>{_=v,_.forEach((m,y)=>{y.isValidDocument()||(g=g.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(v=>{h=v;const m=[];for(const y of a){const E=GL(y,h.get(y.key).overlayedDocument);E!=null&&m.push(new ei(y.key,E,lC(E.value.mapValue),ir.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,m,a)}).next(v=>{f=v;const m=v.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,v.batchId,m)})}).then(()=>({batchId:f.batchId,changes:vC(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.ga[o.currentUser.toKey()];c||(c=new ze(he)),c=c.insert(a,l),o.ga[o.currentUser.toKey()]=c}(r,s.batchId,n),await Al(r,s.changes),await Zd(r.remoteStore)}catch(s){const i=w_(s,"Failed to persist write");n.reject(i)}}async function t1(t,e){const n=ne(t);try{const r=await VD(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ma.get(i);o&&(Ce(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ta=!0:s.modifiedDocuments.size>0?Ce(o.Ta):s.removedDocuments.size>0&&(Ce(o.Ta),o.Ta=!1))}),await Al(n,r,e)}catch(r){await Il(r)}}function F0(t,e,n){const r=ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.da.forEach((i,o)=>{const a=o.view.B_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ne(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.B_(a)&&(c=!0)}),c&&T_(l)}(r.eventManager,e),s.length&&r.Ea.i_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function wM(t,e,n){const r=ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ma.get(e),i=s&&s.key;if(i){let o=new ze(G.comparator);o=o.insert(i,_t.newNoDocument(i,Z.min()));const a=re().add(i),l=new Yd(Z.min(),new Map,new ze(he),o,a);await t1(r,l),r.Va=r.Va.remove(i),r.ma.delete(e),S_(r)}else await im(r.localStore,e,!1).then(()=>om(r,e,n)).catch(Il)}async function TM(t,e){const n=ne(t),r=e.batch.batchId;try{const s=await jD(n.localStore,e);r1(n,r,null),n1(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Al(n,s)}catch(s){await Il(s)}}async function SM(t,e,n){const r=ne(t);try{const s=await function(o,a){const l=ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ce(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);r1(r,e,n),n1(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Al(r,s)}catch(s){await Il(s)}}function n1(t,e){(t.pa.get(e)||[]).forEach(n=>{n.resolve()}),t.pa.delete(e)}function r1(t,e,n){const r=ne(t);let s=r.ga[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.ga[r.currentUser.toKey()]=s}}function om(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Aa.get(e))t.da.delete(r),n&&t.Ea.ba(r,n);t.Aa.delete(e),t.isPrimaryClient&&t.fa.Rr(e).forEach(r=>{t.fa.containsKey(r)||s1(t,r)})}function s1(t,e){t.Ra.delete(e.path.canonicalString());const n=t.Va.get(e);n!==null&&(HC(t.remoteStore,n),t.Va=t.Va.remove(e),t.ma.delete(n),S_(t))}function U0(t,e,n){for(const r of n)r instanceof ZC?(t.fa.addReference(r.key,e),IM(t,r)):r instanceof e1?(q("SyncEngine","Document no longer in limbo: "+r.key),t.fa.removeReference(r.key,e),t.fa.containsKey(r.key)||s1(t,r.key)):Y()}function IM(t,e){const n=e.key,r=n.path.canonicalString();t.Va.get(n)||t.Ra.has(r)||(q("SyncEngine","New document in limbo: "+n),t.Ra.add(r),S_(t))}function S_(t){for(;t.Ra.size>0&&t.Va.size<t.maxConcurrentLimboResolutions;){const e=t.Ra.values().next().value;t.Ra.delete(e);const n=new G(Se.fromString(e)),r=t.ya.next();t.ma.set(r,new mM(n)),t.Va=t.Va.insert(n,r),BC(t.remoteStore,new Dr(mr(l_(n.path)),r,"TargetPurposeLimboResolution",n_.ae))}}async function Al(t,e,n){const r=ne(t),s=[],i=[],o=[];r.da.isEmpty()||(r.da.forEach((a,l)=>{o.push(r.Sa(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=g_.Qi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.Ea.i_(s),await async function(l,c){const u=ne(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>M.forEach(c,f=>M.forEach(f.ki,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>M.forEach(f.qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!Cl(h))throw h;q("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.Yi.get(f),_=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(_);u.Yi=u.Yi.insert(f,g)}}}(r.localStore,i))}async function CM(t,e){const n=ne(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());const r=await $C(n.localStore,e);n.currentUser=e,function(i,o){i.pa.forEach(a=>{a.forEach(l=>{l.reject(new U(P.CANCELLED,o))})}),i.pa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Al(n,r.ns)}}function xM(t,e){const n=ne(t),r=n.ma.get(e);if(r&&r.Ta)return re().add(r.key);{let s=re();const i=n.Aa.get(e);if(!i)return s;for(const o of i){const a=n.da.get(o);s=s.unionWith(a.view.sa)}return s}}function RM(t){const e=ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=t1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wM.bind(null,e),e.Ea.i_=dM.bind(null,e.eventManager),e.Ea.ba=hM.bind(null,e.eventManager),e}function NM(t){const e=ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=SM.bind(null,e),e}class z0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return MD(this.persistence,new LD,e.initialUser,this.serializer)}createPersistence(e){return new bD(m_.jr,this.serializer)}createSharedClientState(e){return new BD}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class AM{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>F0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CM.bind(null,this.syncEngine),await lM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uM}()}createDatastore(e){const n=Xd(e.databaseInfo.databaseId),r=function(i){return new GD(i)}(e.databaseInfo);return function(i,o,a,l){return new YD(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new JD(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>F0(this.syncEngine,n,0),function(){return j0.v()?new j0:new HD}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new gM(s,i,o,a,l,c);return u&&(h.wa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ne(n);q("RemoteStore","RemoteStore shutting down."),r.w_.add(5),await Nl(r),r.b_.shutdown(),r.D_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ca(this.observer.next,e)}error(e){this.observer.error?this.Ca(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString())}Fa(){this.muted=!0}Ca(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=mt.UNAUTHENTICATED,this.clientId=iC.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{q("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(q("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(P.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=w_(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function df(t,e){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await $C(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function B0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await bM(t);q("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>V0(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>V0(e.remoteStore,i)),t._onlineComponents=e}function PM(t){return t.name==="FirebaseError"?t.code===P.FAILED_PRECONDITION||t.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function bM(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{await df(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!PM(n))throw n;Xi("Error using user provided cache. Falling back to memory cache: "+n),await df(t,new z0)}}else q("FirestoreClient","Using default OfflineComponentProvider"),await df(t,new z0);return t._offlineComponents}async function o1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),await B0(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),await B0(t,new AM))),t._onlineComponents}function OM(t){return o1(t).then(e=>e.syncEngine)}async function a1(t){const e=await o1(t),n=e.eventManager;return n.onListen=_M.bind(null,e.syncEngine),n.onUnlisten=vM.bind(null,e.syncEngine),n}function LM(t,e,n={}){const r=new sr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new i1({next:f=>{o.enqueueAndForget(()=>XC(i,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new U(P.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new U(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new JC(l_(a.path),u,{includeMetadataChanges:!0,G_:!0});return YC(i,h)}(await a1(t),t.asyncQueue,e,n,r)),r.promise}function DM(t,e,n={}){const r=new sr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new i1({next:f=>{o.enqueueAndForget(()=>XC(i,h)),f.fromCache&&l.source==="server"?c.reject(new U(P.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new JC(a,u,{includeMetadataChanges:!0,G_:!0});return YC(i,h)}(await a1(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e,n){if(!n)throw new U(P.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function MM(t,e,n,r){if(e===!0&&r===!0)throw new U(P.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function q0(t){if(!G.isDocumentKey(t))throw new U(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function W0(t){if(G.isDocumentKey(t))throw new U(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function eh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y()}function zs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=eh(t);throw new U(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function jM(t,e){if(e<=0)throw new U(P.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}MM("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new U(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class th{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G0(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new sL;switch(r.type){case"firstParty":return new lL(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=H0.get(n);r&&(q("ComponentProvider","Removing Datastore"),H0.delete(n),r.terminate())}(this),Promise.resolve()}}function VM(t,e,n,r={}){var s;const i=(t=zs(t,th))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=mt.MOCK_USER;else{a=GS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new U(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new mt(c)}t._authCredentials=new iL(new sC(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class $t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $t(this.firestore,e,this._key)}}class Yr extends hs{constructor(e,n,r){super(e,n,l_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new G(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function $M(t,e,...n){if(t=Ge(t),c1("collection","path",e),t instanceof th){const r=Se.fromString(e,...n);return W0(r),new Yr(t,null,r)}{if(!(t instanceof $t||t instanceof Yr))throw new U(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return W0(r),new Yr(t.firestore,null,r)}}function I_(t,e,...n){if(t=Ge(t),arguments.length===1&&(e=iC.V()),c1("doc","path",e),t instanceof th){const r=Se.fromString(e,...n);return q0(r),new $t(t,null,new G(r))}{if(!(t instanceof $t||t instanceof Yr))throw new U(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Se.fromString(e,...n));return q0(r),new $t(t.firestore,t instanceof Yr?t.converter:null,new G(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new UC(this,"async_queue_retry"),this.eu=()=>{const n=uf();n&&q("AsyncQueue","Visibility state changed to "+n.visibilityState),this.$o.Bo()};const e=uf();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.eu)}get isShuttingDown(){return this.ja}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.tu(),this.nu(e)}enterRestrictedMode(e){if(!this.ja){this.ja=!0,this.Za=e||!1;const n=uf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.eu)}}enqueue(e){if(this.tu(),this.ja)return new Promise(()=>{});const n=new sr;return this.nu(()=>this.ja&&this.Za?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.za.push(e),this.ru()))}async ru(){if(this.za.length!==0){try{await this.za[0](),this.za.shift(),this.$o.reset()}catch(e){if(!Cl(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.za.length>0&&this.$o.Oo(()=>this.ru())}}nu(e){const n=this.Ga.then(()=>(this.Ya=!0,e().catch(r=>{this.Ja=r,this.Ya=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw pr("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ya=!1,r))));return this.Ga=n,n}enqueueAfterDelay(e,n,r){this.tu(),this.Xa.indexOf(e)>-1&&(n=0);const s=E_.createAndSchedule(this,e,n,r,i=>this.iu(i));return this.Ha.push(s),s}tu(){this.Ja&&Y()}verifyOperationInProgress(){}async su(){let e;do e=this.Ga,await e;while(e!==this.Ga)}ou(e){for(const n of this.Ha)if(n.timerId===e)return!0;return!1}_u(e){return this.su().then(()=>{this.Ha.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Ha)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.su()})}au(e){this.Xa.push(e)}iu(e){const n=this.Ha.indexOf(e);this.Ha.splice(n,1)}}class nh extends th{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new FM}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||u1(this),this._firestoreClient.terminate()}}function UM(t,e){const n=typeof t=="object"?t:bg(),r=typeof t=="string"?t:e||"(default)",s=Nd(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=HS("firestore");i&&VM(s,...i)}return s}function C_(t){return t._firestoreClient||u1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function u1(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new EL(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,l1(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new kM(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ro(Rt.fromBase64String(e))}catch(n){throw new U(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ro(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Et(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zM=/^__.*__$/;class BM{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ei(e,this.data,this.fieldMask,n,this.fieldTransforms):new xl(e,this.data,n,this.fieldTransforms)}}function h1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y()}}class N_{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.uu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get cu(){return this.settings.cu}lu(e){return new N_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}hu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.Iu(e),s}Tu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.uu(),s}Eu(e){return this.lu({path:void 0,Pu:!0})}du(e){return Hu(e,this.settings.methodName,this.settings.Au||!1,this.path,this.settings.Ru)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}uu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Iu(this.path.get(e))}Iu(e){if(e.length===0)throw this.du("Document fields must not be empty");if(h1(this.cu)&&zM.test(e))throw this.du('Document fields cannot begin and end with "__"')}}class HM{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xd(e)}Vu(e,n,r,s=!1){return new N_({cu:e,methodName:n,Ru:r,path:Et.emptyPath(),Pu:!1,Au:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function f1(t){const e=t._freezeSettings(),n=Xd(t._databaseId);return new HM(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qM(t,e,n,r,s,i={}){const o=t.Vu(i.merge||i.mergeFields?2:0,e,n,s);g1("Data must be an object, but it was:",o,r);const a=p1(r,o);let l,c;if(i.merge)l=new mn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=GM(e,h,n);if(!o.contains(f))throw new U(P.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);QM(u,f)||u.push(f)}l=new mn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new BM(new en(a),l,c)}function WM(t,e,n,r=!1){return A_(n,t.Vu(r?4:3,e))}function A_(t,e){if(m1(t=Ge(t)))return g1("Unsupported field value:",e,t),p1(t,e);if(t instanceof d1)return function(r,s){if(!h1(s.cu))throw s.du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Pu&&e.cu!==4)throw e.du("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=A_(a,s.Eu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Ge(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return UL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=We.fromDate(r);return{timestampValue:zu(s.serializer,i)}}if(r instanceof We){const i=new We(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zu(s.serializer,i)}}if(r instanceof R_)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ro)return{bytesValue:OC(s.serializer,r._byteString)};if(r instanceof $t){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:f_(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.du(`Unsupported field value: ${eh(r)}`)}(t,e)}function p1(t,e){const n={};return oC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(r,s)=>{const i=A_(s,e.hu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function m1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof We||t instanceof R_||t instanceof ro||t instanceof $t||t instanceof d1)}function g1(t,e,n){if(!m1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=eh(n);throw r==="an object"?e.du(t+" a custom object"):e.du(t+" "+r)}}function GM(t,e,n){if((e=Ge(e))instanceof x_)return e._internalPath;if(typeof e=="string")return _1(t,e);throw Hu("Field path arguments must be of type string or ",t,!1,void 0,n)}const KM=new RegExp("[~\\*/\\[\\]]");function _1(t,e,n){if(e.search(KM)>=0)throw Hu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new x_(...e.split("."))._internalPath}catch{throw Hu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Hu(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new U(P.INVALID_ARGUMENT,a+t+l)}function QM(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new YM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(k_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class YM extends y1{data(){return super.data()}}function k_(t,e){return typeof e=="string"?_1(t,e):e instanceof x_?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class P_{}class b_ extends P_{}function JM(t,e,...n){let r=[];e instanceof P_&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof L_).length,a=i.filter(l=>l instanceof O_).length;if(o>1||o>0&&a>0)throw new U(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class O_ extends b_{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new O_(e,n,r)}_apply(e){const n=this._parse(e);return v1(e._query,n),new hs(e.firestore,e.converter,Zp(e._query,n))}_parse(e){const n=f1(e.firestore);return function(i,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new U(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){Q0(h,u);const p=[];for(const _ of h)p.push(K0(l,i,_));f={arrayValue:{values:p}}}else f=K0(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||Q0(h,u),f=WM(a,o,h,u==="in"||u==="not-in");return Ue.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class L_ extends P_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new L_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Sn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)v1(o,l),o=Zp(o,l)}(e._query,n),new hs(e.firestore,e.converter,Zp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class D_ extends b_{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new D_(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new U(P.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new U(P.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Di(i,o);return function(c,u){if(c_(c)===null){const h=qd(c);h!==null&&E1(c,h,u.field)}}(s,a),a}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new vo(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function ZM(t,e="asc"){const n=e,r=k_("orderBy",t);return D_._create(r,n)}class M_ extends b_{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new M_(e,n,r)}_apply(e){return new hs(e.firestore,e.converter,$u(e._query,this._limit,this._limitType))}}function e2(t){return jM("limit",t),M_._create("limit",t,"F")}function K0(t,e,n){if(typeof(n=Ge(n))=="string"){if(n==="")throw new U(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mC(e)&&n.indexOf("/")!==-1)throw new U(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Se.fromString(n));if(!G.isDocumentKey(r))throw new U(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return y0(t,new G(r))}if(n instanceof $t)return y0(t,n._key);throw new U(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${eh(n)}.`)}function Q0(t,e){if(!Array.isArray(t)||t.length===0)throw new U(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v1(t,e){if(e.isInequality()){const r=qd(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new U(P.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=c_(t);i!==null&&E1(t,s,i)}const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function E1(t,e,n){if(!n.isEqual(e))throw new U(P.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class t2{convertValue(e,n="none"){switch(Us(e)){case 0:return null;case 1:return e.booleanValue;case 2:return $e(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Y()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new R_($e(e.latitude),$e(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=s_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Qa(e));default:return null}}convertTimestamp(e){const n=ns(e);return new We(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Se.fromString(e);Ce(VC(r));const s=new Ya(r.get(1),r.get(3)),i=new G(r.popFirst(5));return s.isEqual(n)||pr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class w1 extends y1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(k_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Bc extends w1{data(e={}){return super.data(e)}}class r2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Zo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Bc(this._firestore,this._userDataWriter,r.key,r,new Zo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Bc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Zo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Bc(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Zo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:s2(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function s2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(t){t=zs(t,$t);const e=zs(t.firestore,nh);return LM(C_(e),t._key).then(n=>l2(e,t,n))}class S1 extends t2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}}function i2(t){t=zs(t,hs);const e=zs(t.firestore,nh),n=C_(e),r=new S1(e);return XM(t._query),DM(n,t._query).then(s=>new r2(e,r,t,s))}function o2(t,e,n){t=zs(t,$t);const r=zs(t.firestore,nh),s=n2(t.converter,e,n);return a2(r,[qM(f1(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,ir.none())])}function a2(t,e){return function(r,s){const i=new sr;return r.asyncQueue.enqueueAndForget(async()=>EM(await OM(r),s,i)),i.promise}(C_(t),e)}function l2(t,e,n){const r=n.docs.get(e._key),s=new S1(t);return new w1(t,s,e._key,r,new Zo(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){_o=s})(cs),es(new hr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new nh(new oL(r.getProvider("auth-internal")),new uL(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new U(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),sn(f0,"4.1.1",e),sn(f0,"4.1.1","esm2017")})();const Y0="@firebase/database",X0="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1="";function c2(t){I1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),at(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Va(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Er(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new u2(e)}}catch{}return new d2},Rs=C1("localStorage"),am=C1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Rd("@firebase/database"),h2=function(){let t=1;return function(){return t++}}(),x1=function(t){const e=BP(t),n=new VP;n.update(e);const r=n.digest();return Rg.encodeByteArray(r)},kl=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=kl.apply(null,r):typeof r=="object"?e+=at(r):e+=r,e+=" "}return e};let Ps=null,J0=!0;const f2=function(t,e){$(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ji.logLevel=ce.VERBOSE,Ps=ji.log.bind(ji),e&&am.set("logging_enabled",!0)):typeof t=="function"?Ps=t:(Ps=null,am.remove("logging_enabled"))},yt=function(...t){if(J0===!0&&(J0=!1,Ps===null&&am.get("logging_enabled")===!0&&f2(!0)),Ps){const e=kl.apply(null,t);Ps(e)}},Pl=function(t){return function(...e){yt(t,...e)}},lm=function(...t){const e="FIREBASE INTERNAL ERROR: "+kl(...t);ji.error(e)},_r=function(...t){const e=`FIREBASE FATAL ERROR: ${kl(...t)}`;throw ji.error(e),new Error(e)},Ht=function(...t){const e="FIREBASE WARNING: "+kl(...t);ji.warn(e)},p2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ht("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},R1=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},m2=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},so="[MIN_NAME]",Bs="[MAX_NAME]",To=function(t,e){if(t===e)return 0;if(t===so||e===Bs)return-1;if(e===so||t===Bs)return 1;{const n=Z0(t),r=Z0(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},g2=function(t,e){return t===e?0:t<e?-1:1},jo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+at(e))},j_=function(t){if(typeof t!="object"||t===null)return at(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=at(e[r]),n+=":",n+=j_(t[e[r]]);return n+="}",n},N1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function cn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const A1=function(t){$(!R1(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},_2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},y2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},v2=new RegExp("^-?(0*)\\d{1,10}$"),E2=-2147483648,w2=2147483647,Z0=function(t){if(v2.test(t)){const e=Number(t);if(e>=E2&&e<=w2)return e}return null},bl=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Ht("Exception was thrown by user callback.",n),e},Math.floor(0))}},T2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},pa=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Ht(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(yt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ht(e)}}class Vi{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Vi.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="5",k1="v",P1="s",b1="r",O1="f",L1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,D1="ls",M1="p",cm="ac",j1="websocket",V1="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Rs.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Rs.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function C2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function F1(t,e,n){$(typeof e=="string","typeof type must == string"),$(typeof n=="object","typeof params must == object");let r;if(e===j1)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===V1)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);C2(t)&&(n.ns=t.namespace);const s=[];return cn(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(){this.counters_={}}incrementCounter(e,n=1){Er(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return SP(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf={},ff={};function $_(t){const e=t.toString();return hf[e]||(hf[e]=new x2),hf[e]}function R2(t,e){const n=t.toString();return ff[n]||(ff[n]=e()),ff[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&bl(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="start",A2="close",k2="pLPCommand",P2="pRTLPCB",U1="id",z1="pw",B1="ser",b2="cb",O2="seg",L2="ts",D2="d",M2="dframe",H1=1870,q1=30,j2=H1-q1,V2=25e3,$2=3e4;class Ii{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Pl(e),this.stats_=$_(n),this.urlFn=l=>(this.appCheckToken&&(l[cm]=this.appCheckToken),F1(n,V1,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new N2(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor($2)),m2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new F_((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===eE)this.id=a,this.password=l;else if(o===A2)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[eE]="t",r[B1]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[b2]=this.scriptTagHolder.uniqueCallbackIdentifier),r[k1]=V_,this.transportSessionId&&(r[P1]=this.transportSessionId),this.lastSessionId&&(r[D1]=this.lastSessionId),this.applicationId&&(r[M1]=this.applicationId),this.appCheckToken&&(r[cm]=this.appCheckToken),typeof location<"u"&&location.hostname&&L1.test(location.hostname)&&(r[b1]=O1);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ii.forceAllow_=!0}static forceDisallow(){Ii.forceDisallow_=!0}static isAvailable(){return Ii.forceAllow_?!0:!Ii.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_2()&&!y2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=at(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=US(n),s=N1(r,j2);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[M2]="t",r[U1]=e,r[z1]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=at(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class F_{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=h2(),window[k2+this.uniqueCallbackIdentifier]=e,window[P2+this.uniqueCallbackIdentifier]=n,this.myIFrame=F_.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){yt("frame writing exception"),a.stack&&yt(a.stack),yt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||yt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[U1]=this.myID,e[z1]=this.myPW,e[B1]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+q1+r.length<=H1;){const o=this.pendingSegs.shift();r=r+"&"+O2+s+"="+o.seg+"&"+L2+s+"="+o.ts+"&"+D2+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(V2)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2=16384,U2=45e3;let qu=null;typeof MozWebSocket<"u"?qu=MozWebSocket:typeof WebSocket<"u"&&(qu=WebSocket);class pn{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Pl(this.connId),this.stats_=$_(n),this.connURL=pn.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[k1]=V_,typeof location<"u"&&location.hostname&&L1.test(location.hostname)&&(o[b1]=O1),n&&(o[P1]=n),r&&(o[D1]=r),s&&(o[cm]=s),i&&(o[M1]=i),F1(e,j1,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Rs.set("previous_websocket_failure",!0);try{let r;QS(),this.mySock=new qu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){pn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&qu!==null&&!pn.forceDisallow_}static previouslyFailed(){return Rs.isInMemoryStorage||Rs.get("previous_websocket_failure")===!0}markConnectionHealthy(){Rs.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Va(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if($(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=at(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=N1(n,F2);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(U2))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}pn.responsesRequiredToBeHealthy=2;pn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ii,pn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=pn&&pn.isAvailable();let r=n&&!pn.previouslyFailed();if(e.webSocketOnly&&(n||Ht("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[pn];else{const s=this.transports_=[];for(const i of el.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);el.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}el.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=6e4,B2=5e3,H2=10*1024,q2=100*1024,pf="t",tE="d",W2="s",nE="r",G2="e",rE="o",sE="a",iE="n",oE="p",K2="h";class Q2{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Pl("c:"+this.id+":"),this.transportManager_=new el(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=pa(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>q2?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>H2?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(pf in e){const n=e[pf];n===sE?this.upgradeIfSecondaryHealthy_():n===nE?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===rE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=jo("t",e),r=jo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:oE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:sE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:iE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=jo("t",e),r=jo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=jo(pf,e);if(tE in e){const r=e[tE];if(n===K2){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===iE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===W2?this.onConnectionShutdown_(r):n===nE?this.onReset_(r):n===G2?lm("Server Error: "+r):n===rE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):lm("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),V_!==r&&Ht("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),pa(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(z2))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):pa(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(B2))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:oE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Rs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.allowedEvents_=e,this.listeners_={},$(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){$(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends G1{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kg()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Wu}getInitialEvent(e){return $(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=32,lE=768;class xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function _e(){return new xe("")}function ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ss(t){return t.pieces_.length-t.pieceNum_}function we(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new xe(t.pieces_,e)}function K1(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Y2(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Q1(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Y1(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new xe(e,0)}function Ze(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new xe(n,0)}function ie(t){return t.pieceNum_>=t.pieces_.length}function nn(t,e){const n=ae(t),r=ae(e);if(n===null)return e;if(n===r)return nn(we(t),we(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function X1(t,e){if(ss(t)!==ss(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ss(t)>ss(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class X2{constructor(e,n){this.errorPrefix_=n,this.parts_=Q1(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=xd(this.parts_[r]);J1(this)}}function J2(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=xd(e),J1(t)}function Z2(t){const e=t.parts_.pop();t.byteLength_-=xd(e),t.parts_.length>0&&(t.byteLength_-=1)}function J1(t){if(t.byteLength_>lE)throw new Error(t.errorPrefix_+"has a key path longer than "+lE+" bytes ("+t.byteLength_+").");if(t.parts_.length>aE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+aE+") or object contains a cycle "+Es(t))}function Es(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends G1{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new U_}getInitialEvent(e){return $(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo=1e3,ej=60*5*1e3,cE=30*1e3,tj=1.3,nj=3e4,rj="server_kill",uE=3;class or extends W1{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=or.nextPersistentConnectionId_++,this.log_=Pl("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Vo,this.maxReconnectDelay_=ej,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!QS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");U_.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Wu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(at(i)),$(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Ag,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),$(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;or.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Er(e,"w")){const r=Qi(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Ht(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||jP(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=cE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=MP(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),$(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+at(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):lm("Unrecognized action received from server: "+at(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){$(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Vo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Vo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>nj&&(this.reconnectDelay_=Vo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*tj)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+or.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){$(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?yt("getToken() completed but was canceled"):(yt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new Q2(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Ht(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(rj)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&Ht(h),l())}}}interrupt(e){yt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){yt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],kp(this.interruptReasons_)&&(this.reconnectDelay_=Vo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>j_(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new xe(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){yt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=uE&&(this.reconnectDelay_=cE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){yt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=uE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+I1.replace(/\./g,"-")]=1,kg()?e["framework.cordova"]=1:KS()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Wu.getInstance().currentlyOnline();return kp(this.interruptReasons_)&&e}}or.nextPersistentConnectionId_=0;or.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new le(so,e),s=new le(so,n);return this.compare(r,s)!==0}minPost(){return le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _c;class Z1 extends rh{static get __EMPTY_NODE(){return _c}static set __EMPTY_NODE(e){_c=e}compare(e,n){return To(e.name,n.name)}isDefinedOn(e){throw fo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return le.MIN}maxPost(){return new le(Bs,_c)}makePost(e,n){return $(typeof e=="string","KeyIndex indexValue must always be a string."),new le(e,_c)}toString(){return".key"}}const $i=new Z1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Je{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Je.RED,this.left=s??Dt.EMPTY_NODE,this.right=i??Dt.EMPTY_NODE}copy(e,n,r,s,i){return new Je(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Dt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Dt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Je.RED=!0;Je.BLACK=!1;class sj{copy(e,n,r,s,i){return this}insert(e,n,r){return new Je(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Dt{constructor(e,n=Dt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Dt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Je.BLACK,null,null))}remove(e){return new Dt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Je.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new yc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new yc(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new yc(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new yc(this.root_,null,this.comparator_,!0,e)}}Dt.EMPTY_NODE=new sj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t,e){return To(t.name,e.name)}function z_(t,e){return To(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um;function oj(t){um=t}const ex=function(t){return typeof t=="number"?"number:"+A1(t):"string:"+t},tx=function(t){if(t.isLeafNode()){const e=t.val();$(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Er(e,".sv"),"Priority must be a string or number.")}else $(t===um||t.isEmpty(),"priority of unexpected type.");$(t===um||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dE;class Qe{constructor(e,n=Qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,$(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),tx(this.priorityNode_)}static set __childrenNodeConstructor(e){dE=e}static get __childrenNodeConstructor(){return dE}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ie(e)?this:ae(e)===".priority"?this.priorityNode_:Qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:($(r!==".priority"||ss(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(we(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ex(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=A1(this.value_):e+=this.value_,this.lazyHash_=x1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Qe.__childrenNodeConstructor?-1:($(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Qe.VALUE_TYPE_ORDER.indexOf(n),i=Qe.VALUE_TYPE_ORDER.indexOf(r);return $(s>=0,"Unknown leaf type: "+n),$(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nx,rx;function aj(t){nx=t}function lj(t){rx=t}class cj extends rh{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?To(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return le.MIN}maxPost(){return new le(Bs,new Qe("[PRIORITY-POST]",rx))}makePost(e,n){const r=nx(e);return new le(n,new Qe("[PRIORITY-POST]",r))}toString(){return".priority"}}const wt=new cj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=Math.log(2);class dj{constructor(e){const n=i=>parseInt(Math.log(i)/uj,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Gu=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new Je(f,h.node,Je.BLACK,null,null);{const p=parseInt(u/2,10)+l,_=s(l,p),g=s(p+1,c);return h=t[p],f=n?n(h):h,new Je(f,h.node,Je.BLACK,_,g)}},i=function(l){let c=null,u=null,h=t.length;const f=function(_,g){const v=h-_,m=h;h-=_;const y=s(v+1,m),E=t[v],w=n?n(E):E;p(new Je(w,E.node,g,null,y))},p=function(_){c?(c.left=_,c=_):(u=_,c=_)};for(let _=0;_<l.count;++_){const g=l.nextBitIsOne(),v=Math.pow(2,l.count-(_+1));g?f(v,Je.BLACK):(f(v,Je.BLACK),f(v,Je.RED))}return u},o=new dj(t.length),a=i(o);return new Dt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mf;const ai={};class er{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return $(ai&&wt,"ChildrenNode.ts has not been loaded"),mf=mf||new er({".priority":ai},{".priority":wt}),mf}get(e){const n=Qi(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Dt?n:null}hasIndex(e){return Er(this.indexSet_,e.toString())}addIndex(e,n){$(e!==$i,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(le.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Gu(r,e.getCompare()):a=ai;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new er(u,c)}addToIndexes(e,n){const r=Ru(this.indexes_,(s,i)=>{const o=Qi(this.indexSet_,i);if($(o,"Missing index implementation for "+i),s===ai)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(le.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Gu(a,o.getCompare())}else return ai;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new le(e.name,a))),l.insert(e,e.node)}});return new er(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ru(this.indexes_,s=>{if(s===ai)return s;{const i=n.get(e.name);return i?s.remove(new le(e.name,i)):s}});return new er(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $o;class pe{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&tx(this.priorityNode_),this.children_.isEmpty()&&$(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $o||($o=new pe(new Dt(z_),null,er.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$o}updatePriority(e){return this.children_.isEmpty()?this:new pe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?$o:n}}getChild(e){const n=ae(e);return n===null?this:this.getImmediateChild(n).getChild(we(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if($(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new le(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?$o:this.priorityNode_;return new pe(s,o,i)}}updateChild(e,n){const r=ae(e);if(r===null)return n;{$(ae(e)!==".priority"||ss(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(we(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(wt,(o,a)=>{n[o]=a.val(e),r++,i&&pe.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+ex(this.getPriority().val())+":"),this.forEachChild(wt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":x1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new le(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new le(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,le.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,le.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ol?-1:0}withIndex(e){if(e===$i||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new pe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===$i||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(wt),s=n.getIterator(wt);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===$i?null:this.indexMap_.get(e.toString())}}pe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class hj extends pe{constructor(){super(new Dt(z_),pe.EMPTY_NODE,er.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return pe.EMPTY_NODE}isEmpty(){return!1}}const Ol=new hj;Object.defineProperties(le,{MIN:{value:new le(so,pe.EMPTY_NODE)},MAX:{value:new le(Bs,Ol)}});Z1.__EMPTY_NODE=pe.EMPTY_NODE;Qe.__childrenNodeConstructor=pe;oj(Ol);lj(Ol);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=!0;function vt(t,e=null){if(t===null)return pe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),$(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Qe(n,vt(e))}if(!(t instanceof Array)&&fj){const n=[];let r=!1;if(cn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=vt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new le(o,l)))}}),n.length===0)return pe.EMPTY_NODE;const i=Gu(n,ij,o=>o.name,z_);if(r){const o=Gu(n,wt.getCompare());return new pe(i,vt(e),new er({".priority":o},{".priority":wt}))}else return new pe(i,vt(e),er.Default)}else{let n=pe.EMPTY_NODE;return cn(t,(r,s)=>{if(Er(t,r)&&r.substring(0,1)!=="."){const i=vt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(vt(e))}}aj(vt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj extends rh{constructor(e){super(),this.indexPath_=e,$(!ie(e)&&ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?To(e.name,n.name):i}makePost(e,n){const r=vt(e),s=pe.EMPTY_NODE.updateChild(this.indexPath_,r);return new le(n,s)}maxPost(){const e=pe.EMPTY_NODE.updateChild(this.indexPath_,Ol);return new le(Bs,e)}toString(){return Q1(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj extends rh{compare(e,n){const r=e.node.compareTo(n.node);return r===0?To(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return le.MIN}maxPost(){return le.MAX}makePost(e,n){const r=vt(e);return new le(n,r)}toString(){return".value"}}const gj=new mj;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _j(t){return{type:"value",snapshotNode:t}}function yj(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function vj(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function hE(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Ej(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=wt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return $(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return $(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:so}hasEnd(){return this.endSet_}getIndexEndValue(){return $(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return $(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return $(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===wt}copy(){const e=new B_;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function fE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===wt?n="$priority":t.index_===gj?n="$value":t.index_===$i?n="$key":($(t.index_ instanceof pj,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=at(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=at(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+at(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=at(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+at(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function pE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==wt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku extends W1{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Pl("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:($(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Ku.getListenId_(e,r),a={};this.listens_[o]=a;const l=fE(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),Qi(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Ku.getListenId_(e,n);delete this.listens_[r]}get(e){const n=fE(e._queryParams),r=e._path.toString(),s=new Ag;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+po(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Va(a.responseText)}catch{Ht("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ht("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this.rootNode_=pe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(){return{value:null,children:new Map}}function sx(t,e,n){if(ie(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ae(e);t.children.has(r)||t.children.set(r,Qu());const s=t.children.get(r);e=we(e),sx(s,e,n)}}function dm(t,e,n){t.value!==null?n(e,t.value):Tj(t,(r,s)=>{const i=new xe(e.toString()+"/"+r);dm(s,i,n)})}function Tj(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&cn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=10*1e3,Ij=30*1e3,Cj=5*60*1e3;class xj{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Sj(e);const r=mE+(Ij-mE)*Math.random();pa(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;cn(e,(s,i)=>{i>0&&Er(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),pa(this.reportStats_.bind(this),Math.floor(Math.random()*2*Cj))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var On;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(On||(On={}));function ix(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ox(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function ax(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=On.ACK_USER_WRITE,this.source=ix()}operationForChild(e){if(ie(this.path)){if(this.affectedTree.value!=null)return $(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new xe(e));return new Yu(_e(),n,this.revert)}}else return $(ae(this.path)===e,"operationForChild called for unrelated child."),new Yu(we(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=On.OVERWRITE}operationForChild(e){return ie(this.path)?new Hs(this.source,_e(),this.snap.getImmediateChild(e)):new Hs(this.source,we(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=On.MERGE}operationForChild(e){if(ie(this.path)){const n=this.children.subtree(new xe(e));return n.isEmpty()?null:n.value?new Hs(this.source,_e(),n.value):new tl(this.source,_e(),n)}else return $(ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new tl(this.source,we(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ie(e))return this.isFullyInitialized()&&!this.filtered_;const n=ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Rj(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Ej(o.childName,o.snapshotNode))}),Fo(t,s,"child_removed",e,r,n),Fo(t,s,"child_added",e,r,n),Fo(t,s,"child_moved",i,r,n),Fo(t,s,"child_changed",e,r,n),Fo(t,s,"value",e,r,n),s}function Fo(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Aj(t,a,l)),o.forEach(a=>{const l=Nj(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Nj(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Aj(t,e,n){if(e.childName==null||n.childName==null)throw fo("Should only compare child_ events.");const r=new le(e.childName,e.snapshotNode),s=new le(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t,e){return{eventCache:t,serverCache:e}}function ma(t,e,n,r){return lx(new H_(e,n,r),t.serverCache)}function cx(t,e,n,r){return lx(t.eventCache,new H_(e,n,r))}function hm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gf;const kj=()=>(gf||(gf=new Dt(g2)),gf);class Ee{constructor(e,n=kj()){this.value=e,this.children=n}static fromObject(e){let n=new Ee(null);return cn(e,(r,s)=>{n=n.set(new xe(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:_e(),value:this.value};if(ie(e))return null;{const r=ae(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(we(e),n);return i!=null?{path:Ze(new xe(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ie(e))return this;{const n=ae(e),r=this.children.get(n);return r!==null?r.subtree(we(e)):new Ee(null)}}set(e,n){if(ie(e))return new Ee(n,this.children);{const r=ae(e),i=(this.children.get(r)||new Ee(null)).set(we(e),n),o=this.children.insert(r,i);return new Ee(this.value,o)}}remove(e){if(ie(e))return this.children.isEmpty()?new Ee(null):new Ee(null,this.children);{const n=ae(e),r=this.children.get(n);if(r){const s=r.remove(we(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new Ee(null):new Ee(this.value,i)}else return this}}get(e){if(ie(e))return this.value;{const n=ae(e),r=this.children.get(n);return r?r.get(we(e)):null}}setTree(e,n){if(ie(e))return n;{const r=ae(e),i=(this.children.get(r)||new Ee(null)).setTree(we(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new Ee(this.value,o)}}fold(e){return this.fold_(_e(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Ze(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,_e(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(ie(e))return null;{const i=ae(e),o=this.children.get(i);return o?o.findOnPath_(we(e),Ze(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,_e(),n)}foreachOnPath_(e,n,r){if(ie(e))return this;{this.value&&r(n,this.value);const s=ae(e),i=this.children.get(s);return i?i.foreachOnPath_(we(e),Ze(n,s),r):new Ee(null)}}foreach(e){this.foreach_(_e(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ze(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.writeTree_=e}static empty(){return new En(new Ee(null))}}function ga(t,e,n){if(ie(e))return new En(new Ee(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=nn(s,e);return i=i.updateChild(o,n),new En(t.writeTree_.set(s,i))}else{const s=new Ee(n),i=t.writeTree_.setTree(e,s);return new En(i)}}}function gE(t,e,n){let r=t;return cn(n,(s,i)=>{r=ga(r,Ze(e,s),i)}),r}function _E(t,e){if(ie(e))return En.empty();{const n=t.writeTree_.setTree(e,new Ee(null));return new En(n)}}function fm(t,e){return ni(t,e)!=null}function ni(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(nn(n.path,e)):null}function yE(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(wt,(r,s)=>{e.push(new le(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new le(r,s.value))}),e}function Xr(t,e){if(ie(e))return t;{const n=ni(t,e);return n!=null?new En(new Ee(n)):new En(t.writeTree_.subtree(e))}}function pm(t){return t.writeTree_.isEmpty()}function io(t,e){return ux(_e(),t.writeTree_,e)}function ux(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?($(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=ux(Ze(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ze(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(t,e){return gx(e,t)}function Pj(t,e,n,r,s){$(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=ga(t.visibleWrites,e,n)),t.lastWriteId=r}function bj(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Oj(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);$(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Lj(a,r.path)?s=!1:gn(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return Dj(t),!0;if(r.snap)t.visibleWrites=_E(t.visibleWrites,r.path);else{const a=r.children;cn(a,l=>{t.visibleWrites=_E(t.visibleWrites,Ze(r.path,l))})}return!0}else return!1}function Lj(t,e){if(t.snap)return gn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&gn(Ze(t.path,n),e))return!0;return!1}function Dj(t){t.visibleWrites=hx(t.allWrites,Mj,_e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Mj(t){return t.visible}function hx(t,e,n){let r=En.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)gn(n,o)?(a=nn(n,o),r=ga(r,a,i.snap)):gn(o,n)&&(a=nn(o,n),r=ga(r,_e(),i.snap.getChild(a)));else if(i.children){if(gn(n,o))a=nn(n,o),r=gE(r,a,i.children);else if(gn(o,n))if(a=nn(o,n),ie(a))r=gE(r,_e(),i.children);else{const l=Qi(i.children,ae(a));if(l){const c=l.getChild(we(a));r=ga(r,_e(),c)}}}else throw fo("WriteRecord should have .snap or .children")}}return r}function fx(t,e,n,r,s){if(!r&&!s){const i=ni(t.visibleWrites,e);if(i!=null)return i;{const o=Xr(t.visibleWrites,e);if(pm(o))return n;if(n==null&&!fm(o,_e()))return null;{const a=n||pe.EMPTY_NODE;return io(o,a)}}}else{const i=Xr(t.visibleWrites,e);if(!s&&pm(i))return n;if(!s&&n==null&&!fm(i,_e()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(gn(c.path,e)||gn(e,c.path))},a=hx(t.allWrites,o,e),l=n||pe.EMPTY_NODE;return io(a,l)}}}function jj(t,e,n){let r=pe.EMPTY_NODE;const s=ni(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(wt,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Xr(t.visibleWrites,e);return n.forEachChild(wt,(o,a)=>{const l=io(Xr(i,new xe(o)),a);r=r.updateImmediateChild(o,l)}),yE(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Xr(t.visibleWrites,e);return yE(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Vj(t,e,n,r,s){$(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Ze(e,n);if(fm(t.visibleWrites,i))return null;{const o=Xr(t.visibleWrites,i);return pm(o)?s.getChild(n):io(o,s.getChild(n))}}function $j(t,e,n,r){const s=Ze(e,n),i=ni(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Xr(t.visibleWrites,s);return io(o,r.getNode().getImmediateChild(n))}else return null}function Fj(t,e){return ni(t.visibleWrites,e)}function Uj(t,e,n,r,s,i,o){let a;const l=Xr(t.visibleWrites,e),c=ni(l,_e());if(c!=null)a=c;else if(n!=null)a=io(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<s;)h(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function zj(){return{visibleWrites:En.empty(),allWrites:[],lastWriteId:-1}}function mm(t,e,n,r){return fx(t.writeTree,t.treePath,e,n,r)}function px(t,e){return jj(t.writeTree,t.treePath,e)}function vE(t,e,n,r){return Vj(t.writeTree,t.treePath,e,n,r)}function Xu(t,e){return Fj(t.writeTree,Ze(t.treePath,e))}function Bj(t,e,n,r,s,i){return Uj(t.writeTree,t.treePath,e,n,r,s,i)}function q_(t,e,n){return $j(t.writeTree,t.treePath,e,n)}function mx(t,e){return gx(Ze(t.treePath,e),t.writeTree)}function gx(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hj{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;$(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),$(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,hE(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,vj(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,yj(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,hE(r,e.snapshotNode,s.oldSnap));else throw fo("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qj{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const _x=new qj;class W_{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new H_(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return q_(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qs(this.viewCache_),i=Bj(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function Wj(t,e){$(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),$(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Gj(t,e,n,r,s){const i=new Hj;let o,a;if(n.type===On.OVERWRITE){const c=n;c.source.fromUser?o=gm(t,e,c.path,c.snap,r,s,i):($(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!ie(c.path),o=Ju(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===On.MERGE){const c=n;c.source.fromUser?o=Qj(t,e,c.path,c.children,r,s,i):($(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=_m(t,e,c.path,c.children,r,s,a,i))}else if(n.type===On.ACK_USER_WRITE){const c=n;c.revert?o=Jj(t,e,c.path,r,s,i):o=Yj(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===On.LISTEN_COMPLETE)o=Xj(t,e,n.path,r,i);else throw fo("Unknown operation type: "+n.type);const l=i.getChanges();return Kj(e,o,l),{viewCache:o,changes:l}}function Kj(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=hm(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(_j(hm(e)))}}function yx(t,e,n,r,s,i){const o=e.eventCache;if(Xu(r,n)!=null)return e;{let a,l;if(ie(n))if($(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=qs(e),u=c instanceof pe?c:pe.EMPTY_NODE,h=px(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=mm(r,qs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=ae(n);if(c===".priority"){$(ss(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=vE(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=we(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=vE(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=q_(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,i):a=o.getNode()}}return ma(e,a,o.isFullyInitialized()||ie(n),t.filter.filtersNodes())}}function Ju(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(ie(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=ae(n);if(!l.isCompleteForPath(n)&&ss(n)>1)return e;const _=we(n),v=l.getNode().getImmediateChild(p).updateChild(_,r);p===".priority"?c=u.updatePriority(l.getNode(),v):c=u.updateChild(l.getNode(),p,v,_,_x,null)}const h=cx(e,c,l.isFullyInitialized()||ie(n),u.filtersNodes()),f=new W_(s,h,i);return yx(t,h,n,s,f,a)}function gm(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new W_(s,e,i);if(ie(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=ma(e,c,!0,t.filter.filtersNodes());else{const h=ae(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=ma(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=we(n),p=a.getNode().getImmediateChild(h);let _;if(ie(f))_=r;else{const g=u.getCompleteChild(h);g!=null?K1(f)===".priority"&&g.getChild(Y1(f)).isEmpty()?_=g:_=g.updateChild(f,r):_=pe.EMPTY_NODE}if(p.equals(_))l=e;else{const g=t.filter.updateChild(a.getNode(),h,_,f,u,o);l=ma(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function EE(t,e){return t.eventCache.isCompleteForChild(e)}function Qj(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=Ze(n,l);EE(e,ae(u))&&(a=gm(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=Ze(n,l);EE(e,ae(u))||(a=gm(t,a,u,c,s,i,o))}),a}function wE(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function _m(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;ie(n)?c=r:c=new Ee(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),_=wE(t,p,f);l=Ju(t,l,new xe(h),_,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!p){const _=e.serverCache.getNode().getImmediateChild(h),g=wE(t,_,f);l=Ju(t,l,new xe(h),g,s,i,o,a)}}),l}function Yj(t,e,n,r,s,i,o){if(Xu(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(ie(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Ju(t,e,n,l.getNode().getChild(n),s,i,a,o);if(ie(n)){let c=new Ee(null);return l.getNode().forEachChild($i,(u,h)=>{c=c.set(new xe(u),h)}),_m(t,e,n,c,s,i,a,o)}else return e}else{let c=new Ee(null);return r.foreach((u,h)=>{const f=Ze(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),_m(t,e,n,c,s,i,a,o)}}function Xj(t,e,n,r,s){const i=e.serverCache,o=cx(e,i.getNode(),i.isFullyInitialized()||ie(n),i.isFiltered());return yx(t,o,n,r,_x,s)}function Jj(t,e,n,r,s,i){let o;if(Xu(r,n)!=null)return e;{const a=new W_(r,e,s),l=e.eventCache.getNode();let c;if(ie(n)||ae(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=mm(r,qs(e));else{const h=e.serverCache.getNode();$(h instanceof pe,"serverChildren would be complete if leaf node"),u=px(r,h)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=ae(n);let h=q_(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,we(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,pe.EMPTY_NODE,we(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=mm(r,qs(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Xu(r,_e())!=null,ma(e,c,o,t.filter.filtersNodes())}}function Zj(t,e){const n=qs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!ie(e)&&!n.getImmediateChild(ae(e)).isEmpty())?n.getChild(e):null}function TE(t,e,n,r){e.type===On.MERGE&&e.source.queryId!==null&&($(qs(t.viewCache_),"We should always have a full cache before handling merges"),$(hm(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=Gj(t.processor_,s,e,n,r);return Wj(t.processor_,i.viewCache),$(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,eV(t,i.changes,i.viewCache.eventCache.getNode(),null)}function eV(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Rj(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let SE;function tV(t){$(!SE,"__referenceConstructor has already been defined"),SE=t}function G_(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return $(i!=null,"SyncTree gave us an op for an invalid query."),TE(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(TE(o,e,n,r));return i}}function K_(t,e){let n=null;for(const r of t.views.values())n=n||Zj(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IE;function nV(t){$(!IE,"__referenceConstructor has already been defined"),IE=t}class CE{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ee(null),this.pendingWriteTree_=zj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rV(t,e,n,r,s){return Pj(t.pendingWriteTree_,e,n,r,s),s?ih(t,new Hs(ix(),e,n)):[]}function Ci(t,e,n=!1){const r=bj(t.pendingWriteTree_,e);if(Oj(t.pendingWriteTree_,e)){let i=new Ee(null);return r.snap!=null?i=i.set(_e(),!0):cn(r.children,o=>{i=i.set(new xe(o),!0)}),ih(t,new Yu(r.path,i,n))}else return[]}function sh(t,e,n){return ih(t,new Hs(ox(),e,n))}function sV(t,e,n){const r=Ee.fromObject(n);return ih(t,new tl(ox(),e,r))}function iV(t,e,n,r){const s=Tx(t,r);if(s!=null){const i=Sx(s),o=i.path,a=i.queryId,l=nn(o,e),c=new Hs(ax(a),l,n);return Ix(t,o,c)}else return[]}function oV(t,e,n,r){const s=Tx(t,r);if(s){const i=Sx(s),o=i.path,a=i.queryId,l=nn(o,e),c=Ee.fromObject(n),u=new tl(ax(a),l,c);return Ix(t,o,u)}else return[]}function vx(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=nn(o,e),c=K_(a,l);if(c)return c});return fx(s,e,i,n,!0)}function ih(t,e){return Ex(e,t.syncPointTree_,null,dx(t.pendingWriteTree_,_e()))}function Ex(t,e,n,r){if(ie(t.path))return wx(t,e,n,r);{const s=e.get(_e());n==null&&s!=null&&(n=K_(s,_e()));let i=[];const o=ae(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=mx(r,o);i=i.concat(Ex(a,l,c,u))}return s&&(i=i.concat(G_(s,t,r,n))),i}}function wx(t,e,n,r){const s=e.get(_e());n==null&&s!=null&&(n=K_(s,_e()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=mx(r,o),u=t.operationForChild(o);u&&(i=i.concat(wx(u,a,l,c)))}),s&&(i=i.concat(G_(s,t,r,n))),i}function Tx(t,e){return t.tagToQueryMap.get(e)}function Sx(t){const e=t.indexOf("$");return $(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new xe(t.substr(0,e))}}function Ix(t,e,n){const r=t.syncPointTree_.get(e);$(r,"Missing sync point for query tag that we're tracking");const s=dx(t.pendingWriteTree_,e);return G_(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Q_(n)}node(){return this.node_}}class Y_{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ze(this.path_,e);return new Y_(this.syncTree_,n)}node(){return vx(this.syncTree_,this.path_)}}const aV=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},xE=function(t,e,n){if(!t||typeof t!="object")return t;if($(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lV(t[".sv"],e,n);if(typeof t[".sv"]=="object")return cV(t[".sv"],e);$(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lV=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:$(!1,"Unexpected server value: "+t)}},cV=function(t,e,n){t.hasOwnProperty("increment")||$(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&$(!1,"Unexpected increment value: "+r);const s=e.node();if($(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},uV=function(t,e,n,r){return X_(e,new Y_(n,t),r)},dV=function(t,e,n){return X_(t,new Q_(e),n)};function X_(t,e,n){const r=t.getPriority().val(),s=xE(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=xE(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Qe(a,vt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Qe(s))),o.forEachChild(wt,(a,l)=>{const c=X_(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Z_(t,e){let n=e instanceof xe?e:new xe(e),r=t,s=ae(n);for(;s!==null;){const i=Qi(r.node.children,s)||{children:{},childCount:0};r=new J_(s,r,i),n=we(n),s=ae(n)}return r}function So(t){return t.node.value}function Cx(t,e){t.node.value=e,ym(t)}function xx(t){return t.node.childCount>0}function hV(t){return So(t)===void 0&&!xx(t)}function oh(t,e){cn(t.node.children,(n,r)=>{e(new J_(n,t,r))})}function Rx(t,e,n,r){n&&!r&&e(t),oh(t,s=>{Rx(s,e,!0,r)}),n&&r&&e(t)}function fV(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ll(t){return new xe(t.parent===null?t.name:Ll(t.parent)+"/"+t.name)}function ym(t){t.parent!==null&&pV(t.parent,t.name,t)}function pV(t,e,n){const r=hV(n),s=Er(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,ym(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,ym(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mV=/[\[\].#$\/\u0000-\u001F\u007F]/,gV=/[\[\].#$\u0000-\u001F\u007F]/,_f=10*1024*1024,Nx=function(t){return typeof t=="string"&&t.length!==0&&!mV.test(t)},_V=function(t){return typeof t=="string"&&t.length!==0&&!gV.test(t)},yV=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),_V(t)},Ax=function(t,e,n){const r=n instanceof xe?new X2(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Es(r));if(typeof e=="function")throw new Error(t+"contains a function "+Es(r)+" with contents = "+e.toString());if(R1(e))throw new Error(t+"contains "+e.toString()+" "+Es(r));if(typeof e=="string"&&e.length>_f/3&&xd(e)>_f)throw new Error(t+"contains a string greater than "+_f+" utf8 bytes "+Es(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(cn(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Nx(o)))throw new Error(t+" contains an invalid key ("+o+") "+Es(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);J2(r,o),Ax(t,a,r),Z2(r)}),s&&i)throw new Error(t+' contains ".value" child '+Es(r)+" in addition to actual children.")}},vV=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Nx(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!yV(n))throw new Error(zP(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EV{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wV(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!X1(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function ri(t,e,n){wV(t,n),TV(t,r=>gn(r,e)||gn(e,r))}function TV(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(SV(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function SV(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ps&&yt("event: "+n.toString()),bl(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV="repo_interrupt",CV=25;class xV{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EV,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Qu(),this.transactionQueueTree_=new J_,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function RV(t,e,n){if(t.stats_=$_(t.repoInfo_),t.forceRestClient_||T2())t.server_=new Ku(t.repoInfo_,(r,s,i,o)=>{RE(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>NE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{at(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new or(t.repoInfo_,e,(r,s,i,o)=>{RE(t,r,s,i,o)},r=>{NE(t,r)},r=>{AV(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=R2(t.repoInfo_,()=>new xj(t.stats_,t.server_)),t.infoData_=new wj,t.infoSyncTree_=new CE({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=sh(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),ey(t,"connected",!1),t.serverSyncTree_=new CE({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);ri(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function NV(t){const n=t.infoData_.getNode(new xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function kx(t){return aV({timestamp:NV(t)})}function RE(t,e,n,r,s){t.dataUpdateCount++;const i=new xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Ru(n,c=>vt(c));o=oV(t.serverSyncTree_,i,l,s)}else{const l=vt(n);o=iV(t.serverSyncTree_,i,l,s)}else if(r){const l=Ru(n,c=>vt(c));o=sV(t.serverSyncTree_,i,l)}else{const l=vt(n);o=sh(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=ny(t,i)),ri(t.eventQueue_,a,o)}function NE(t,e){ey(t,"connected",e),e===!1&&PV(t)}function AV(t,e){cn(e,(n,r)=>{ey(t,n,r)})}function ey(t,e,n){const r=new xe("/.info/"+e),s=vt(n);t.infoData_.updateSnapshot(r,s);const i=sh(t.infoSyncTree_,r,s);ri(t.eventQueue_,r,i)}function kV(t){return t.nextWriteId_++}function PV(t){Px(t,"onDisconnectEvents");const e=kx(t),n=Qu();dm(t.onDisconnect_,_e(),(s,i)=>{const o=uV(s,i,t.serverSyncTree_,e);sx(n,s,o)});let r=[];dm(n,_e(),(s,i)=>{r=r.concat(sh(t.serverSyncTree_,s,i));const o=DV(t,s);ny(t,o)}),t.onDisconnect_=Qu(),ri(t.eventQueue_,_e(),r)}function bV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(IV)}function Px(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yt(n,...e)}function bx(t,e,n){return vx(t.serverSyncTree_,e,n)||pe.EMPTY_NODE}function ty(t,e=t.transactionQueueTree_){if(e||ah(t,e),So(e)){const n=Lx(t,e);$(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&OV(t,Ll(e),n)}else xx(e)&&oh(e,n=>{ty(t,n)})}function OV(t,e,n){const r=n.map(c=>c.currentWriteId),s=bx(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];$(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=nn(e,u.path);i=i.updateChild(h,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Px(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Ci(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ah(t,Z_(t.transactionQueueTree_,e)),ty(t,t.transactionQueueTree_),ri(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)bl(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{Ht("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}ny(t,e)}},o)}function ny(t,e){const n=Ox(t,e),r=Ll(n),s=Lx(t,n);return LV(t,s,r),r}function LV(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=nn(n,l.path);let u=!1,h;if($(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(Ci(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=CV)u=!0,h="maxretry",s=s.concat(Ci(t.serverSyncTree_,l.currentWriteId,!0));else{const f=bx(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){Ax("transaction failed: Data returned ",p,l.path);let _=vt(p);typeof p=="object"&&p!=null&&Er(p,".priority")||(_=_.updatePriority(f.getPriority()));const v=l.currentWriteId,m=kx(t),y=dV(_,f,m);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=y,l.currentWriteId=kV(t),o.splice(o.indexOf(v),1),s=s.concat(rV(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),s=s.concat(Ci(t.serverSyncTree_,v,!0))}else u=!0,h="nodata",s=s.concat(Ci(t.serverSyncTree_,l.currentWriteId,!0))}ri(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}ah(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)bl(r[a]);ty(t,t.transactionQueueTree_)}function Ox(t,e){let n,r=t.transactionQueueTree_;for(n=ae(e);n!==null&&So(r)===void 0;)r=Z_(r,n),e=we(e),n=ae(e);return r}function Lx(t,e){const n=[];return Dx(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Dx(t,e,n){const r=So(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);oh(e,s=>{Dx(t,s,n)})}function ah(t,e){const n=So(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Cx(e,n.length>0?n:void 0)}oh(e,r=>{ah(t,r)})}function DV(t,e){const n=Ll(Ox(t,e)),r=Z_(t.transactionQueueTree_,e);return fV(r,s=>{yf(t,s)}),yf(t,r),Rx(r,s=>{yf(t,s)}),n}function yf(t,e){const n=So(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?($(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):($(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Ci(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Cx(e,void 0):n.length=i+1,ri(t.eventQueue_,Ll(e),s);for(let o=0;o<r.length;o++)bl(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function jV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ht(`Invalid query segment '${n}' in query '${t}'`)}return e}const AE=function(t,e){const n=VV(t),r=n.namespace;n.domain==="firebase.com"&&_r(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&_r("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||p2();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new $1(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new xe(n.pathString)}},VV=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=MV(t.substring(u,h)));const f=jV(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return ie(this._path)?null:K1(this._path)}get ref(){return new Io(this._repo,this._path)}get _queryIdentifier(){const e=pE(this._queryParams),n=j_(e);return n==="{}"?"default":n}get _queryObject(){return pE(this._queryParams)}isEqual(e){if(e=Ge(e),!(e instanceof ry))return!1;const n=this._repo===e._repo,r=X1(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+Y2(this._path)}}class Io extends ry{constructor(e,n){super(e,n,new B_,!1)}get parent(){const e=Y1(this._path);return e===null?null:new Io(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}tV(Io);nV(Io);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V="FIREBASE_DATABASE_EMULATOR_HOST",vm={};let FV=!1;function UV(t,e,n,r){t.repoInfo_=new $1(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function zV(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||_r("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=AE(i,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[$V]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=AE(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Vi(Vi.OWNER):new I2(t.name,t.options,e);vV("Invalid Firebase Database URL",o),ie(o.path)||_r("Database URL must point to the root of a Firebase Database (not including a child path).");const h=HV(a,t,u,new S2(t.name,n));return new qV(h,t)}function BV(t,e){const n=vm[e];(!n||n[t.key]!==t)&&_r(`Database ${e}(${t.repoInfo_}) has already been deleted.`),bV(t),delete n[t.key]}function HV(t,e,n,r){let s=vm[e.name];s||(s={},vm[e.name]=s);let i=s[t.toURLString()];return i&&_r("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new xV(t,FV,n,r),s[t.toURLString()]=i,i}class qV{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(RV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Io(this._repo,_e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(BV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&_r("Cannot call "+e+" on a deleted database.")}}function WV(t=bg(),e){const n=Nd(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=HS("database");r&&GV(n,...r)}return n}function GV(t,e,n,r={}){t=Ge(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&_r("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&_r('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Vi(Vi.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:GS(r.mockUserToken,t.app.options.projectId);i=new Vi(o)}UV(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){c2(cs),es(new hr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return zV(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),sn(Y0,X0,t),sn(Y0,X0,"esm2017")}or.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};or.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};KV();const QV={apiKey:"AIzaSyBSaPFkAnkoc_uu_xR9LUvHL1Cc8mOWcyc",authDomain:"mybbs-5642f.firebaseapp.com",projectId:"mybbs-5642f",storageBucket:"mybbs-5642f.appspot.com",messagingSenderId:"210742350834",appId:"1:210742350834:web:a65b2a1d7d470593a3516b",databaseURL:"https://mybbs-5642f-default-rtdb.asia-southeast1.firebasedatabase.app/",measurementId:"G-SZ9V5BHSER"},Mx=ZS(QV),lh=UM(Mx),YV=WV(Mx);console.log(YV);function sy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function kE(t){return t!==void 0&&t.enterprise!==void 0}class XV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function jx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JV=jx,Vx=new pl("auth","Firebase",jx());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu=new Rd("@firebase/auth");function ZV(t,...e){Zu.logLevel<=ce.WARN&&Zu.warn(`Auth (${cs}): ${t}`,...e)}function Hc(t,...e){Zu.logLevel<=ce.ERROR&&Zu.error(`Auth (${cs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(t,...e){throw iy(t,...e)}function Vn(t,...e){return iy(t,...e)}function e$(t,e,n){const r=Object.assign(Object.assign({},JV()),{[e]:n});return new pl("auth","Firebase",r).create(e,{appName:t.name})}function iy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Vx.create(t,...e)}function Q(t,e,...n){if(!t)throw iy(e,...n)}function tr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Hc(e),new Error(e)}function yr(t,e){t||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function t$(){return PE()==="http:"||PE()==="https:"}function PE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n$(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(t$()||AP()||"connection"in navigator)?navigator.onLine:!0}function r$(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.shortDelay=e,this.longDelay=n,yr(n>e,"Short delay should be less than long delay!"),this.isMobile=kg()||KS()}get(){return n$()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oy(t,e){yr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s$={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i$=new Dl(3e4,6e4);function fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ps(t,e,n,r,s={}){return Fx(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=po(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),$x.fetch()(Ux(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Fx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},s$),e);try{const s=new o$(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw vc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw vc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw vc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw vc(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw e$(t,u,c);In(t,u)}}catch(s){if(s instanceof Bn)throw s;In(t,"network-request-failed",{message:String(s)})}}async function Ml(t,e,n,r,s={}){const i=await ps(t,e,n,r,s);return"mfaPendingCredential"in i&&In(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Ux(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?oy(t.config,s):`${t.config.apiScheme}://${s}`}class o${constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vn(this.auth,"network-request-failed")),i$.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Vn(t,e,r);return s.customData._tokenResponse=n,s}async function a$(t,e){return ps(t,"GET","/v2/recaptchaConfig",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l$(t,e){return ps(t,"POST","/v1/accounts:delete",e)}async function c$(t,e){return ps(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _a(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u$(t,e=!1){const n=Ge(t),r=await n.getIdToken(e),s=ay(r);Q(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:_a(vf(s.auth_time)),issuedAtTime:_a(vf(s.iat)),expirationTime:_a(vf(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function vf(t){return Number(t)*1e3}function ay(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Hc("JWT malformed, contained fewer than 3 sections"),null;try{const s=xu(n);return s?JSON.parse(s):(Hc("Failed to decode base64 JWT payload"),null)}catch(s){return Hc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function d$(t){const e=ay(t);return Q(e,"internal-error"),Q(typeof e.exp<"u","internal-error"),Q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Bn&&h$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function h$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=_a(this.lastLoginAt),this.creationTime=_a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ed(t){var e;const n=t.auth,r=await t.getIdToken(),s=await nl(t,c$(n,{idToken:r}));Q(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?g$(i.providerUserInfo):[],a=m$(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new zx(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function p$(t){const e=Ge(t);await ed(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function m$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function g$(t){return t.map(e=>{var{providerId:n}=e,r=sy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _$(t,e){const n=await Fx(t,{},async()=>{const r=po({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Ux(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",$x.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Q(e.idToken,"internal-error"),Q(typeof e.idToken<"u","internal-error"),Q(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):d$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Q(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await _$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new rl;return r&&(Q(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(Q(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Q(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,e){Q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class bs{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=sy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new f$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new zx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await nl(this,this.stsTokenManager.getToken(this.auth,e));return Q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u$(this,e)}reload(){return p$(this)}_assign(e){this!==e&&(Q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new bs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ed(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await nl(this,l$(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:w,isAnonymous:T,providerData:R,stsTokenManager:b}=n;Q(E&&b,e,"internal-error");const A=rl.fromJSON(this.name,b);Q(typeof E=="string",e,"internal-error"),Tr(h,e.name),Tr(f,e.name),Q(typeof w=="boolean",e,"internal-error"),Q(typeof T=="boolean",e,"internal-error"),Tr(p,e.name),Tr(_,e.name),Tr(g,e.name),Tr(v,e.name),Tr(m,e.name),Tr(y,e.name);const W=new bs({uid:E,auth:e,email:f,emailVerified:w,displayName:h,isAnonymous:T,photoURL:_,phoneNumber:p,tenantId:g,stsTokenManager:A,createdAt:m,lastLoginAt:y});return R&&Array.isArray(R)&&(W.providerData=R.map(S=>Object.assign({},S))),v&&(W._redirectEventId=v),W}static async _fromIdTokenResponse(e,n,r=!1){const s=new rl;s.updateFromServerResponse(n);const i=new bs({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ed(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;function nr(t){yr(t instanceof Function,"Expected a class definition");let e=bE.get(t);return e?(yr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,bE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Bx.type="NONE";const OE=Bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(t,e,n){return`firebase:${t}:${e}:${n}`}class Fi{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=qc(this.userKey,s.apiKey,i),this.fullPersistenceKey=qc("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?bs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Fi(nr(OE),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||nr(OE);const o=qc(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=bs._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Fi(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Fi(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Wx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Hx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Kx(e))return"Blackberry";if(Qx(e))return"Webos";if(ly(e))return"Safari";if((e.includes("chrome/")||qx(e))&&!e.includes("edge/"))return"Chrome";if(Gx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Hx(t=xt()){return/firefox\//i.test(t)}function ly(t=xt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qx(t=xt()){return/crios\//i.test(t)}function Wx(t=xt()){return/iemobile/i.test(t)}function Gx(t=xt()){return/android/i.test(t)}function Kx(t=xt()){return/blackberry/i.test(t)}function Qx(t=xt()){return/webos/i.test(t)}function ch(t=xt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function y$(t=xt()){var e;return ch(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function v$(){return kP()&&document.documentMode===10}function Yx(t=xt()){return ch(t)||Gx(t)||Qx(t)||Kx(t)||/windows phone/i.test(t)||Wx(t)}function E$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(t,e=[]){let n;switch(t){case"Browser":n=LE(xt());break;case"Worker":n=`${LE(xt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(t,e={}){return ps(t,"GET","/v2/passwordPolicy",fs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=6;class I${constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:S$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new DE(this),this.idTokenSubscription=new DE(this),this.beforeStateQueue=new w$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Vx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=nr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Fi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Q(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ed(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=r$()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Ge(e):null;return n&&Q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await T$(this),n=new I$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pl("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&nr(e)||this._popupRedirectResolver;Q(n,this,"argument-error"),this.redirectPersistenceManager=await Fi.create(this,[nr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Q(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Xx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function si(t){return Ge(t)}class DE{constructor(e){this.auth=e,this.observer=null,this.addObserver=$P(n=>this.observer=n)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Jx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Vn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",x$().appendChild(r)})}function R$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const N$="https://www.google.com/recaptcha/enterprise.js?render=",A$="recaptcha-enterprise",k$="NO_RECAPTCHA";class P${constructor(e){this.type=A$,this.auth=si(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{a$(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new XV(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;kE(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(k$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&kE(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Jx(N$+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function td(t,e,n,r=!1){const s=new P$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t,e){const n=Nd(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Nu(i,e??{}))return s;In(s,"already-initialized")}return n.initialize({options:e})}function O$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function L$(t,e,n){const r=si(t);Q(r._canInitEmulator,r,"emulator-config-failed"),Q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Zx(e),{host:o,port:a}=D$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||M$()}function Zx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function D$(t){const e=Zx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:ME(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:ME(o)}}}function ME(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function M$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function j$(t,e){return ps(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ef(t,e){return Ml(t,"POST","/v1/accounts:signInWithPassword",fs(t,e))}async function V$(t,e){return ps(t,"POST","/v1/accounts:sendOobCode",fs(t,e))}async function $$(t,e){return V$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F$(t,e){return Ml(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}async function U$(t,e){return Ml(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sl extends cy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new sl(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sl(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await td(e,r,"signInWithPassword");return Ef(e,s)}else return Ef(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await td(e,r,"signInWithPassword");return Ef(e,i)}else return Promise.reject(s)});case"emailLink":return F$(e,{email:this._email,oobCode:this._password});default:In(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return j$(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return U$(e,{idToken:n,email:this._email,oobCode:this._password});default:In(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ui(t,e){return Ml(t,"POST","/v1/accounts:signInWithIdp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$="http://localhost";class Ws extends cy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Ws(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):In("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=sy(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Ws(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ui(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ui(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ui(e,n)}buildRequest(){const e={requestUri:z$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=po(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function H$(t){const e=Go(Ko(t)).link,n=e?Go(Ko(e)).deep_link_id:null,r=Go(Ko(t)).deep_link_id;return(r?Go(Ko(r)).link:null)||r||n||e||t}class uy{constructor(e){var n,r,s,i,o,a;const l=Go(Ko(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=B$((s=l.mode)!==null&&s!==void 0?s:null);Q(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=H$(e);try{return new uy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return sl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=uy.parseLink(n);return Q(r,"argument-error"),sl._fromEmailAndCode(e,r.code,r.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl extends eR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends jl{constructor(){super("facebook.com")}static credential(e){return Ws._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Nr.credential(e.oauthAccessToken)}catch{return null}}}Nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Nr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar extends jl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Ws._fromParams({providerId:Ar.PROVIDER_ID,signInMethod:Ar.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ar.credentialFromTaggedObject(e)}static credentialFromError(e){return Ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ar.credential(n,r)}catch{return null}}}Ar.GOOGLE_SIGN_IN_METHOD="google.com";Ar.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends jl{constructor(){super("github.com")}static credential(e){return Ws._fromParams({providerId:kr.PROVIDER_ID,signInMethod:kr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kr.credentialFromTaggedObject(e)}static credentialFromError(e){return kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kr.credential(e.oauthAccessToken)}catch{return null}}}kr.GITHUB_SIGN_IN_METHOD="github.com";kr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends jl{constructor(){super("twitter.com")}static credential(e,n){return Ws._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pr.credential(n,r)}catch{return null}}}Pr.TWITTER_SIGN_IN_METHOD="twitter.com";Pr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wf(t,e){return Ml(t,"POST","/v1/accounts:signUp",fs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await bs._fromIdTokenResponse(e,r,s),o=jE(r);return new Gs({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=jE(r);return new Gs({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function jE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends Bn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new nd(e,n,r,s)}}function tR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(t,i,e,r):i})}async function q$(t,e,n=!1){const r=await nl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Gs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W$(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await nl(t,tR(r,s,e,t),n);Q(i.idToken,r,"internal-error");const o=ay(i.idToken);Q(o,r,"internal-error");const{sub:a}=o;return Q(t.uid===a,r,"user-mismatch"),Gs._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&In(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nR(t,e,n=!1){const r="signIn",s=await tR(t,r,e),i=await Gs._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function G$(t,e){return nR(si(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K$(t,e,n){var r;Q(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),Q(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Q(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(Q(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t){const e=si(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Q$(t,e,n){var r;const s=si(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await td(s,i,"signUpPassword");o=wf(s,c)}else o=wf(s,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await td(s,i,"signUpPassword");return wf(s,u)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&rR(t),c}),l=await Gs._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function VE(t,e,n){return G$(Ge(t),Co.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&rR(t),r})}async function Y$(t,e){const n=Ge(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&K$(n.auth,s,e);const{email:i}=await $$(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X$(t,e){return Ge(t).setPersistence(e)}function J$(t,e,n,r){return Ge(t).onIdTokenChanged(e,n,r)}function Z$(t,e,n){return Ge(t).beforeAuthStateChanged(e,n)}function eF(t,e,n,r){return Ge(t).onAuthStateChanged(e,n,r)}function tF(t){return Ge(t).signOut()}const rd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nF(){const t=xt();return ly(t)||ch(t)}const rF=1e3,sF=10;class iR extends sR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=nF()&&E$(),this.fallbackToPolling=Yx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);v$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,sF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},rF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iR.type="LOCAL";const iF=iR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR extends sR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}oR.type="SESSION";const dy=oR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oF(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new uh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await oF(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=hy("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $n(){return window}function lF(t){$n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){return typeof $n().WorkerGlobalScope<"u"&&typeof $n().importScripts=="function"}async function cF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function dF(){return aR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR="firebaseLocalStorageDb",hF=1,sd="firebaseLocalStorage",cR="fbase_key";class Vl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dh(t,e){return t.transaction([sd],e?"readwrite":"readonly").objectStore(sd)}function fF(){const t=indexedDB.deleteDatabase(lR);return new Vl(t).toPromise()}function wm(){const t=indexedDB.open(lR,hF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(sd,{keyPath:cR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(sd)?e(r):(r.close(),await fF(),e(await wm()))})})}async function $E(t,e,n){const r=dh(t,!0).put({[cR]:e,value:n});return new Vl(r).toPromise()}async function pF(t,e){const n=dh(t,!1).get(e),r=await new Vl(n).toPromise();return r===void 0?null:r.value}function FE(t,e){const n=dh(t,!0).delete(e);return new Vl(n).toPromise()}const mF=800,gF=3;class uR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>gF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uh._getInstance(dF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await cF(),!this.activeServiceWorker)return;this.sender=new aF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await wm();return await $E(e,rd,"1"),await FE(e,rd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>$E(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>pF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=dh(s,!1).getAll();return new Vl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}uR.type="LOCAL";const _F=uR;new Dl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yF(t,e){return e?nr(e):(Q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy extends cy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ui(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ui(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ui(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function vF(t){return nR(t.auth,new fy(t),t.bypassAuthState)}function EF(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),W$(n,new fy(t),t.bypassAuthState)}async function wF(t){const{auth:e,user:n}=t;return Q(n,e,"internal-error"),q$(n,new fy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vF;case"linkViaPopup":case"linkViaRedirect":return wF;case"reauthViaPopup":case"reauthViaRedirect":return EF;default:In(this.auth,"internal-error")}}resolve(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){yr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TF=new Dl(2e3,1e4);class xi extends dR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,xi.currentPopupAction&&xi.currentPopupAction.cancel(),xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Q(e,this.auth,"internal-error"),e}async onExecution(){yr(this.filter.length===1,"Popup operations only handle one event");const e=hy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TF.get())};e()}}xi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SF="pendingRedirect",Wc=new Map;class IF extends dR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const r=await CF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function CF(t,e){const n=NF(e),r=RF(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function xF(t,e){Wc.set(t._key(),e)}function RF(t){return nr(t._redirectPersistence)}function NF(t){return qc(SF,t.config.apiKey,t.name)}async function AF(t,e,n=!1){const r=si(t),s=yF(r,e),o=await new IF(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kF=10*60*1e3;class PF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!bF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!hR(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kF&&this.cachedEventUids.clear(),this.cachedEventUids.has(UE(e))}saveEventToCache(e){this.cachedEventUids.add(UE(e)),this.lastProcessedEventTime=Date.now()}}function UE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function hR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function bF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return hR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OF(t,e={}){return ps(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DF=/^https?/;async function MF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await OF(t);for(const n of e)try{if(jF(n))return}catch{}In(t,"unauthorized-domain")}function jF(t){const e=Em(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!DF.test(n))return!1;if(LF.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VF=new Dl(3e4,6e4);function zE(){const t=$n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $F(t){return new Promise((e,n)=>{var r,s,i;function o(){zE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{zE(),n(Vn(t,"network-request-failed"))},timeout:VF.get()})}if(!((s=(r=$n().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=$n().gapi)===null||i===void 0)&&i.load)o();else{const a=R$("iframefcb");return $n()[a]=()=>{gapi.load?o():n(Vn(t,"network-request-failed"))},Jx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Gc=null,e})}let Gc=null;function FF(t){return Gc=Gc||$F(t),Gc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=new Dl(5e3,15e3),zF="__/auth/iframe",BF="emulator/auth/iframe",HF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function WF(t){const e=t.config;Q(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oy(e,BF):`https://${t.config.authDomain}/${zF}`,r={apiKey:e.apiKey,appName:t.name,v:cs},s=qF.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${po(r).slice(1)}`}async function GF(t){const e=await FF(t),n=$n().gapi;return Q(n,t,"internal-error"),e.open({where:document.body,url:WF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:HF,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Vn(t,"network-request-failed"),a=$n().setTimeout(()=>{i(o)},UF.get());function l(){$n().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QF=500,YF=600,XF="_blank",JF="http://localhost";class BE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZF(t,e,n,r=QF,s=YF){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},KF),{width:r.toString(),height:s.toString(),top:i,left:o}),c=xt().toLowerCase();n&&(a=qx(c)?XF:n),Hx(c)&&(e=e||JF,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,_])=>`${f}${p}=${_},`,"");if(y$(c)&&a!=="_self")return eU(e||"",a),new BE(null);const h=window.open(e||"",a,u);Q(h,t,"popup-blocked");try{h.focus()}catch{}return new BE(h)}function eU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tU="__/auth/handler",nU="emulator/auth/handler",rU=encodeURIComponent("fac");async function HE(t,e,n,r,s,i){Q(t.config.authDomain,t,"auth-domain-config-required"),Q(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cs,eventId:s};if(e instanceof eR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",kp(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof jl){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${rU}=${encodeURIComponent(l)}`:"";return`${sU(t)}?${po(a).slice(1)}${c}`}function sU({config:t}){return t.emulator?oy(t,nU):`https://${t.authDomain}/${tU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tf="webStorageSupport";class iU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dy,this._completeRedirectFn=AF,this._overrideRedirectResult=xF}async _openPopup(e,n,r,s){var i;yr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await HE(e,n,r,Em(),s);return ZF(e,o,hy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await HE(e,n,r,Em(),s);return lF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(yr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await GF(e),r=new PF(e);return n.register("authEvent",s=>(Q(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tf,{type:Tf},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Tf];o!==void 0&&n(!!o),In(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=MF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Yx()||ly()||ch()}}const oU=iU;var qE="@firebase/auth",WE="1.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function cU(t){es(new hr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Q(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xx(t)},c=new C$(r,s,i,l);return O$(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),es(new hr("auth-internal",e=>{const n=si(e.getProvider("auth").getImmediate());return(r=>new aU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),sn(qE,WE,lU(t)),sn(qE,WE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU=5*60,dU=WS("authIdTokenMaxAge")||uU;let GE=null;const hU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dU)return;const s=n==null?void 0:n.token;GE!==s&&(GE=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function hh(t=bg()){const e=Nd(t,"auth");if(e.isInitialized())return e.getImmediate();const n=b$(t,{popupRedirectResolver:oU,persistence:[_F,iF,dy]}),r=WS("authTokenSyncURL");if(r){const i=hU(r);Z$(n,i,()=>i(n.currentUser)),J$(n,o=>i(o))}const s=BS("auth");return s&&L$(n,`http://${s}`),n}cU("Browser");const Pe={state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"],todos:"fdsssssss",saying:"sssssssss",count:0},authState:()=>{const t=hh();eF(t,n=>{if(n){e(n),sessionStorage.setItem("user",JSON.stringify(n));return}sessionStorage.removeItem("user"),Pe.state.userInfo={},Pe.state.userInfo.stat=!1,console.log("logout 된 상태",Pe.state.userInfo),console.table(Pe.state.userInfo)});const e=async n=>{const r=I_(lh,"member",n.uid);try{const s=await T1(r);Pe.state.userInfo.stat=!0,Pe.state.userInfo.email=s.data().email,Pe.state.userInfo.avatar=s.data().avatar,Pe.state.userInfo.nick=s.data().nick,Pe.state.userInfo.uid=n.uid,Pe.state.userInfo.liked=s.data().liked||[],console.table(Pe.state.userInfo)}catch(s){console.log(s)}}}};Pe.authState();window.store=Pe;function Uo({prop:t}){console.log(t.headerType+"===================================");let e=Cn();const n=Qt(),r=Yt();n.pathname,console.log(e,n),I.useEffect(()=>()=>{});const s=()=>{H.confirm("리액트 보다 쀼가 짱입니까?",{ycb:function(){console.log("컴펌 예"),window.location.href="https://kimkee.github.io/vue"},ncb:function(){console.log("컴펌 아뇨")},ybt:"마자요!",nbt:"아니오!"})};return d.jsx("header",{className:`header ${t.headerType}`,children:d.jsxs("div",{className:"inr",children:[d.jsxs("div",{className:"ldt",children:[t.headerType=="main"?d.jsxs("h1",{className:"logo",children:[" ",d.jsx(He,{to:"/home/",className:"btlogo",children:d.jsx("i",{className:"fa-brands fa-vuejs"})})]}):d.jsxs("button",{type:"button",className:"bt back",onClick:()=>r(-1),children:[d.jsx("i",{className:"fa-regular fa-arrow-left"}),"뒤로"]}),e.id?d.jsx("h3",{className:"htit",children:Pe.state.userInfo.nick}):null]}),d.jsx("div",{className:"rdt",children:d.jsxs("button",{type:"button",onClick:s,className:"bt gnb",children:[d.jsx("i",{className:"fa-regular fa-bars"}),d.jsx("b",{children:"메뉴"})]})})]})})}function fU(){const t=Qt();console.log(t);const e=s=>t.pathname.includes(`${s}`)?"active":"",n=()=>{var i,o;const s=H.viewport.scrollTop();H.lock.stat||(s>50?(i=document.querySelector(".floatnav"))==null||i.classList.add("on-top"):(o=document.querySelector(".floatnav"))==null||o.classList.remove("on-top"))},r=()=>{H.scrollTo("body",0,200)};return I.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)})),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"floatnav",children:d.jsxs("button",{type:"button",className:"bt top",onClick:r,children:[d.jsx("i",{className:"fa-solid fa-arrow-up"}),d.jsx("em",{children:"위로"})]})}),d.jsx("nav",{id:"menubar",className:"menubar",children:d.jsx("div",{className:"inr",children:d.jsxs("ul",{className:"menu",children:[d.jsx("li",{className:e("home"),children:d.jsxs(Nn,{to:"./home/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-house"}),d.jsx("em",{children:"Home"})]})}),d.jsx("li",{className:e("list/movie/0"),children:d.jsxs(Nn,{to:"./list/movie/0/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-clapperboard-play"}),d.jsx("em",{children:"Movie"})]})}),d.jsx("li",{className:e("list/tv/0"),children:d.jsxs(Nn,{to:"./list/tv/0/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-tv-retro"}),d.jsx("em",{children:"TV"})]})}),d.jsx("li",{className:e("search/movie"),children:d.jsxs(Nn,{to:"./search/movie/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-search"}),d.jsx("em",{children:"Search"})]})}),Pe.state.userInfo.stat==!0?d.jsx("li",{className:e("user/"),children:d.jsxs(Nn,{to:`./user/${Pe.state.userInfo.uid}`,className:"bt",children:[d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Mypage"})]})}):d.jsx("li",{className:e("user/"),children:d.jsxs(Nn,{to:"./user/signin",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Login"})]})})]})})})]})}function fR(t,e){return function(){return t.apply(e,arguments)}}const{toString:pU}=Object.prototype,{getPrototypeOf:py}=Object,fh=(t=>e=>{const n=pU.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Hn=t=>(t=t.toLowerCase(),e=>fh(e)===t),ph=t=>e=>typeof e===t,{isArray:xo}=Array,il=ph("undefined");function mU(t){return t!==null&&!il(t)&&t.constructor!==null&&!il(t.constructor)&&on(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const pR=Hn("ArrayBuffer");function gU(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&pR(t.buffer),e}const _U=ph("string"),on=ph("function"),mR=ph("number"),mh=t=>t!==null&&typeof t=="object",yU=t=>t===!0||t===!1,Kc=t=>{if(fh(t)!=="object")return!1;const e=py(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vU=Hn("Date"),EU=Hn("File"),wU=Hn("Blob"),TU=Hn("FileList"),SU=t=>mh(t)&&on(t.pipe),IU=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||on(t.append)&&((e=fh(t))==="formdata"||e==="object"&&on(t.toString)&&t.toString()==="[object FormData]"))},CU=Hn("URLSearchParams"),xU=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function $l(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),xo(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function gR(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const _R=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),yR=t=>!il(t)&&t!==_R;function Tm(){const{caseless:t}=yR(this)&&this||{},e={},n=(r,s)=>{const i=t&&gR(e,s)||s;Kc(e[i])&&Kc(r)?e[i]=Tm(e[i],r):Kc(r)?e[i]=Tm({},r):xo(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&$l(arguments[r],n);return e}const RU=(t,e,n,{allOwnKeys:r}={})=>($l(e,(s,i)=>{n&&on(s)?t[i]=fR(s,n):t[i]=s},{allOwnKeys:r}),t),NU=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),AU=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},kU=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&py(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},PU=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},bU=t=>{if(!t)return null;if(xo(t))return t;let e=t.length;if(!mR(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},OU=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&py(Uint8Array)),LU=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},DU=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},MU=Hn("HTMLFormElement"),jU=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),KE=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),VU=Hn("RegExp"),vR=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};$l(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},$U=t=>{vR(t,(e,n)=>{if(on(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(on(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},FU=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return xo(t)?r(t):r(String(t).split(e)),n},UU=()=>{},zU=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Sf="abcdefghijklmnopqrstuvwxyz",QE="0123456789",ER={DIGIT:QE,ALPHA:Sf,ALPHA_DIGIT:Sf+Sf.toUpperCase()+QE},BU=(t=16,e=ER.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function HU(t){return!!(t&&on(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const qU=t=>{const e=new Array(10),n=(r,s)=>{if(mh(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=xo(r)?[]:{};return $l(r,(o,a)=>{const l=n(o,s+1);!il(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},WU=Hn("AsyncFunction"),GU=t=>t&&(mh(t)||on(t))&&on(t.then)&&on(t.catch),N={isArray:xo,isArrayBuffer:pR,isBuffer:mU,isFormData:IU,isArrayBufferView:gU,isString:_U,isNumber:mR,isBoolean:yU,isObject:mh,isPlainObject:Kc,isUndefined:il,isDate:vU,isFile:EU,isBlob:wU,isRegExp:VU,isFunction:on,isStream:SU,isURLSearchParams:CU,isTypedArray:OU,isFileList:TU,forEach:$l,merge:Tm,extend:RU,trim:xU,stripBOM:NU,inherits:AU,toFlatObject:kU,kindOf:fh,kindOfTest:Hn,endsWith:PU,toArray:bU,forEachEntry:LU,matchAll:DU,isHTMLForm:MU,hasOwnProperty:KE,hasOwnProp:KE,reduceDescriptors:vR,freezeMethods:$U,toObjectSet:FU,toCamelCase:jU,noop:UU,toFiniteNumber:zU,findKey:gR,global:_R,isContextDefined:yR,ALPHABET:ER,generateString:BU,isSpecCompliantForm:HU,toJSONObject:qU,isAsyncFn:WU,isThenable:GU};function ue(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}N.inherits(ue,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:N.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const wR=ue.prototype,TR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{TR[t]={value:t}});Object.defineProperties(ue,TR);Object.defineProperty(wR,"isAxiosError",{value:!0});ue.from=(t,e,n,r,s,i)=>{const o=Object.create(wR);return N.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),ue.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const KU=null;function Sm(t){return N.isPlainObject(t)||N.isArray(t)}function SR(t){return N.endsWith(t,"[]")?t.slice(0,-2):t}function YE(t,e,n){return t?t.concat(e).map(function(s,i){return s=SR(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function QU(t){return N.isArray(t)&&!t.some(Sm)}const YU=N.toFlatObject(N,{},null,function(e){return/^is[A-Z]/.test(e)});function gh(t,e,n){if(!N.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=N.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,v){return!N.isUndefined(v[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&N.isSpecCompliantForm(e);if(!N.isFunction(s))throw new TypeError("visitor must be a function");function c(_){if(_===null)return"";if(N.isDate(_))return _.toISOString();if(!l&&N.isBlob(_))throw new ue("Blob is not supported. Use a Buffer instead.");return N.isArrayBuffer(_)||N.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function u(_,g,v){let m=_;if(_&&!v&&typeof _=="object"){if(N.endsWith(g,"{}"))g=r?g:g.slice(0,-2),_=JSON.stringify(_);else if(N.isArray(_)&&QU(_)||(N.isFileList(_)||N.endsWith(g,"[]"))&&(m=N.toArray(_)))return g=SR(g),m.forEach(function(E,w){!(N.isUndefined(E)||E===null)&&e.append(o===!0?YE([g],w,i):o===null?g:g+"[]",c(E))}),!1}return Sm(_)?!0:(e.append(YE(v,g,i),c(_)),!1)}const h=[],f=Object.assign(YU,{defaultVisitor:u,convertValue:c,isVisitable:Sm});function p(_,g){if(!N.isUndefined(_)){if(h.indexOf(_)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(_),N.forEach(_,function(m,y){(!(N.isUndefined(m)||m===null)&&s.call(e,m,N.isString(y)?y.trim():y,g,f))===!0&&p(m,g?g.concat(y):[y])}),h.pop()}}if(!N.isObject(t))throw new TypeError("data must be an object");return p(t),e}function XE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function my(t,e){this._pairs=[],t&&gh(t,this,e)}const IR=my.prototype;IR.append=function(e,n){this._pairs.push([e,n])};IR.toString=function(e){const n=e?function(r){return e.call(this,r,XE)}:XE;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function XU(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function CR(t,e,n){if(!e)return t;const r=n&&n.encode||XU,s=n&&n.serialize;let i;if(s?i=s(e,n):i=N.isURLSearchParams(e)?e.toString():new my(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class JU{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){N.forEach(this.handlers,function(r){r!==null&&e(r)})}}const JE=JU,xR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ZU=typeof URLSearchParams<"u"?URLSearchParams:my,e4=typeof FormData<"u"?FormData:null,t4=typeof Blob<"u"?Blob:null,n4=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),r4=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ln={isBrowser:!0,classes:{URLSearchParams:ZU,FormData:e4,Blob:t4},isStandardBrowserEnv:n4,isStandardBrowserWebWorkerEnv:r4,protocols:["http","https","file","blob","url","data"]};function s4(t,e){return gh(t,new Ln.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return Ln.isNode&&N.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function i4(t){return N.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function o4(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function RR(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&N.isArray(s)?s.length:o,l?(N.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!N.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&N.isArray(s[o])&&(s[o]=o4(s[o])),!a)}if(N.isFormData(t)&&N.isFunction(t.entries)){const n={};return N.forEachEntry(t,(r,s)=>{e(i4(r),s,n,0)}),n}return null}const a4={"Content-Type":void 0};function l4(t,e,n){if(N.isString(t))try{return(e||JSON.parse)(t),N.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const _h={transitional:xR,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=N.isObject(e);if(i&&N.isHTMLForm(e)&&(e=new FormData(e)),N.isFormData(e))return s&&s?JSON.stringify(RR(e)):e;if(N.isArrayBuffer(e)||N.isBuffer(e)||N.isStream(e)||N.isFile(e)||N.isBlob(e))return e;if(N.isArrayBufferView(e))return e.buffer;if(N.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return s4(e,this.formSerializer).toString();if((a=N.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return gh(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),l4(e)):e}],transformResponse:[function(e){const n=this.transitional||_h.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&N.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?ue.from(a,ue.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ln.classes.FormData,Blob:Ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};N.forEach(["delete","get","head"],function(e){_h.headers[e]={}});N.forEach(["post","put","patch"],function(e){_h.headers[e]=N.merge(a4)});const gy=_h,c4=N.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),u4=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&c4[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},ZE=Symbol("internals");function zo(t){return t&&String(t).trim().toLowerCase()}function Qc(t){return t===!1||t==null?t:N.isArray(t)?t.map(Qc):String(t)}function d4(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const h4=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function If(t,e,n,r,s){if(N.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!N.isString(e)){if(N.isString(r))return e.indexOf(r)!==-1;if(N.isRegExp(r))return r.test(e)}}function f4(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function p4(t,e){const n=N.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class yh{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=zo(l);if(!u)throw new Error("header name must be a non-empty string");const h=N.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=Qc(a))}const o=(a,l)=>N.forEach(a,(c,u)=>i(c,u,l));return N.isPlainObject(e)||e instanceof this.constructor?o(e,n):N.isString(e)&&(e=e.trim())&&!h4(e)?o(u4(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=zo(e),e){const r=N.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return d4(s);if(N.isFunction(n))return n.call(this,s,r);if(N.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=zo(e),e){const r=N.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||If(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=zo(o),o){const a=N.findKey(r,o);a&&(!n||If(r,r[a],a,n))&&(delete r[a],s=!0)}}return N.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||If(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return N.forEach(this,(s,i)=>{const o=N.findKey(r,i);if(o){n[o]=Qc(s),delete n[i];return}const a=e?f4(i):String(i).trim();a!==i&&delete n[i],n[a]=Qc(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return N.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&N.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[ZE]=this[ZE]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=zo(o);r[a]||(p4(s,o),r[a]=!0)}return N.isArray(e)?e.forEach(i):i(e),this}}yh.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);N.freezeMethods(yh.prototype);N.freezeMethods(yh);const ar=yh;function Cf(t,e){const n=this||gy,r=e||n,s=ar.from(r.headers);let i=r.data;return N.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function NR(t){return!!(t&&t.__CANCEL__)}function Fl(t,e,n){ue.call(this,t??"canceled",ue.ERR_CANCELED,e,n),this.name="CanceledError"}N.inherits(Fl,ue,{__CANCEL__:!0});function m4(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new ue("Request failed with status code "+n.status,[ue.ERR_BAD_REQUEST,ue.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const g4=Ln.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),N.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),N.isString(i)&&l.push("path="+i),N.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function _4(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function y4(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function AR(t,e){return t&&!_4(e)?y4(t,e):e}const v4=Ln.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=N.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function E4(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function w4(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let h=i,f=0;for(;h!==s;)f+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function ew(t,e){let n=0;const r=w4(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),c=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const T4=typeof XMLHttpRequest<"u",S4=T4&&function(t){return new Promise(function(n,r){let s=t.data;const i=ar.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}N.isFormData(s)&&(Ln.isStandardBrowserEnv||Ln.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+_))}const u=AR(t.baseURL,t.url);c.open(t.method.toUpperCase(),CR(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!c)return;const p=ar.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};m4(function(m){n(m),l()},function(m){r(m),l()},g),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(r(new ue("Request aborted",ue.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new ue("Network Error",ue.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let _=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||xR;t.timeoutErrorMessage&&(_=t.timeoutErrorMessage),r(new ue(_,g.clarifyTimeoutError?ue.ETIMEDOUT:ue.ECONNABORTED,t,c)),c=null},Ln.isStandardBrowserEnv){const p=(t.withCredentials||v4(u))&&t.xsrfCookieName&&g4.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}s===void 0&&i.setContentType(null),"setRequestHeader"in c&&N.forEach(i.toJSON(),function(_,g){c.setRequestHeader(g,_)}),N.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",ew(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",ew(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{c&&(r(!p||p.type?new Fl(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=E4(u);if(f&&Ln.protocols.indexOf(f)===-1){r(new ue("Unsupported protocol "+f+":",ue.ERR_BAD_REQUEST,t));return}c.send(s||null)})},Yc={http:KU,xhr:S4};N.forEach(Yc,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const I4={getAdapter:t=>{t=N.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=N.isString(n)?Yc[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new ue(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(N.hasOwnProp(Yc,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!N.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Yc};function xf(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Fl(null,t)}function tw(t){return xf(t),t.headers=ar.from(t.headers),t.data=Cf.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),I4.getAdapter(t.adapter||gy.adapter)(t).then(function(r){return xf(t),r.data=Cf.call(t,t.transformResponse,r),r.headers=ar.from(r.headers),r},function(r){return NR(r)||(xf(t),r&&r.response&&(r.response.data=Cf.call(t,t.transformResponse,r.response),r.response.headers=ar.from(r.response.headers))),Promise.reject(r)})}const nw=t=>t instanceof ar?t.toJSON():t;function oo(t,e){e=e||{};const n={};function r(c,u,h){return N.isPlainObject(c)&&N.isPlainObject(u)?N.merge.call({caseless:h},c,u):N.isPlainObject(u)?N.merge({},u):N.isArray(u)?u.slice():u}function s(c,u,h){if(N.isUndefined(u)){if(!N.isUndefined(c))return r(void 0,c,h)}else return r(c,u,h)}function i(c,u){if(!N.isUndefined(u))return r(void 0,u)}function o(c,u){if(N.isUndefined(u)){if(!N.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(nw(c),nw(u),!0)};return N.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||s,f=h(t[u],e[u],u);N.isUndefined(f)&&h!==a||(n[u]=f)}),n}const kR="1.4.0",_y={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_y[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const rw={};_y.transitional=function(e,n,r){function s(i,o){return"[Axios v"+kR+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new ue(s(o," has been removed"+(n?" in "+n:"")),ue.ERR_DEPRECATED);return n&&!rw[o]&&(rw[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function C4(t,e,n){if(typeof t!="object")throw new ue("options must be an object",ue.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new ue("option "+i+" must be "+l,ue.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ue("Unknown option "+i,ue.ERR_BAD_OPTION)}}const Im={assertOptions:C4,validators:_y},Sr=Im.validators;class id{constructor(e){this.defaults=e,this.interceptors={request:new JE,response:new JE}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=oo(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Im.assertOptions(r,{silentJSONParsing:Sr.transitional(Sr.boolean),forcedJSONParsing:Sr.transitional(Sr.boolean),clarifyTimeoutError:Sr.transitional(Sr.boolean)},!1),s!=null&&(N.isFunction(s)?n.paramsSerializer={serialize:s}:Im.assertOptions(s,{encode:Sr.function,serialize:Sr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&N.merge(i.common,i[n.method]),o&&N.forEach(["delete","get","head","post","put","patch","common"],_=>{delete i[_]}),n.headers=ar.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!l){const _=[tw.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,c),f=_.length,u=Promise.resolve(n);h<f;)u=u.then(_[h++],_[h++]);return u}f=a.length;let p=n;for(h=0;h<f;){const _=a[h++],g=a[h++];try{p=_(p)}catch(v){g.call(this,v);break}}try{u=tw.call(this,p)}catch(_){return Promise.reject(_)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=oo(this.defaults,e);const n=AR(e.baseURL,e.url);return CR(n,e.params,e.paramsSerializer)}}N.forEach(["delete","get","head","options"],function(e){id.prototype[e]=function(n,r){return this.request(oo(r||{},{method:e,url:n,data:(r||{}).data}))}});N.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(oo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}id.prototype[e]=n(),id.prototype[e+"Form"]=n(!0)});const Xc=id;class yy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Fl(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new yy(function(s){e=s}),cancel:e}}}const x4=yy;function R4(t){return function(n){return t.apply(null,n)}}function N4(t){return N.isObject(t)&&t.isAxiosError===!0}const Cm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Cm).forEach(([t,e])=>{Cm[e]=t});const A4=Cm;function PR(t){const e=new Xc(t),n=fR(Xc.prototype.request,e);return N.extend(n,Xc.prototype,e,{allOwnKeys:!0}),N.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return PR(oo(t,s))},n}const Ke=PR(gy);Ke.Axios=Xc;Ke.CanceledError=Fl;Ke.CancelToken=x4;Ke.isCancel=NR;Ke.VERSION=kR;Ke.toFormData=gh;Ke.AxiosError=ue;Ke.Cancel=Ke.CanceledError;Ke.all=function(e){return Promise.all(e)};Ke.spread=R4;Ke.isAxiosError=N4;Ke.mergeConfig=oo;Ke.AxiosHeaders=ar;Ke.formToJSON=t=>RR(N.isHTMLForm(t)?new FormData(t):t);Ke.HttpStatusCode=A4;Ke.default=Ke;const lt=Ke;function sw(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function vy(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:sw(e[n])&&sw(t[n])&&Object.keys(e[n]).length>0&&vy(t[n],e[n])})}const bR={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function tt(){const t=typeof document<"u"?document:{};return vy(t,bR),t}const k4={document:bR,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function st(){const t=typeof window<"u"?window:{};return vy(t,k4),t}function P4(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class Mr extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),P4(this))}}function Ul(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...Ul(n)):e.push(n)}),e}function OR(t,e){return Array.prototype.filter.call(t,e)}function b4(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function O4(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let s=0;s<r.length;s+=1)n.push(r[s]);return n}function j(t,e){const n=st(),r=tt();let s=[];if(!e&&t instanceof Mr)return t;if(!t)return new Mr(s);if(typeof t=="string"){const i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let o="div";i.indexOf("<li")===0&&(o="ul"),i.indexOf("<tr")===0&&(o="tbody"),(i.indexOf("<td")===0||i.indexOf("<th")===0)&&(o="tr"),i.indexOf("<tbody")===0&&(o="table"),i.indexOf("<option")===0&&(o="select");const a=r.createElement(o);a.innerHTML=i;for(let l=0;l<a.childNodes.length;l+=1)s.push(a.childNodes[l])}else s=O4(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof Mr)return t;s=t}return new Mr(b4(s))}j.fn=Mr.prototype;function L4(...t){const e=Ul(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function D4(...t){const e=Ul(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function M4(...t){const e=Ul(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function j4(...t){const e=Ul(t.map(n=>n.split(" ")));return OR(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function V4(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function $4(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function F4(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function U4(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function z4(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);function i(c){const u=c.target;if(!u)return;const h=c.target.dom7EventData||[];if(h.indexOf(c)<0&&h.unshift(c),j(u).is(n))r.apply(u,h);else{const f=j(u).parents();for(let p=0;p<f.length;p+=1)j(f[p]).is(n)&&r.apply(f[p],h)}}function o(c){const u=c&&c.target?c.target.dom7EventData||[]:[];u.indexOf(c)<0&&u.unshift(c),r.apply(this,u)}const a=e.split(" ");let l;for(let c=0;c<this.length;c+=1){const u=this[c];if(n)for(l=0;l<a.length;l+=1){const h=a[l];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[h]||(u.dom7LiveListeners[h]=[]),u.dom7LiveListeners[h].push({listener:r,proxyListener:i}),u.addEventListener(h,i,s)}else for(l=0;l<a.length;l+=1){const h=a[l];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[h]||(u.dom7Listeners[h]=[]),u.dom7Listeners[h].push({listener:r,proxyListener:o}),u.addEventListener(h,o,s)}}return this}function B4(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);const i=e.split(" ");for(let o=0;o<i.length;o+=1){const a=i[o];for(let l=0;l<this.length;l+=1){const c=this[l];let u;if(!n&&c.dom7Listeners?u=c.dom7Listeners[a]:n&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[a]),u&&u.length)for(let h=u.length-1;h>=0;h-=1){const f=u[h];r&&f.listener===r||r&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===r?(c.removeEventListener(a,f.proxyListener,s),u.splice(h,1)):r||(c.removeEventListener(a,f.proxyListener,s),u.splice(h,1))}}}return this}function H4(...t){const e=st(),n=t[0].split(" "),r=t[1];for(let s=0;s<n.length;s+=1){const i=n[s];for(let o=0;o<this.length;o+=1){const a=this[o];if(e.CustomEvent){const l=new e.CustomEvent(i,{detail:r,bubbles:!0,cancelable:!0});a.dom7EventData=t.filter((c,u)=>u>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function q4(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function W4(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function G4(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function K4(){if(this.length>0){const t=st(),e=tt(),n=this[0],r=n.getBoundingClientRect(),s=e.body,i=n.clientTop||s.clientTop||0,o=n.clientLeft||s.clientLeft||0,a=n===t?t.scrollY:n.scrollTop,l=n===t?t.scrollX:n.scrollLeft;return{top:r.top+a-i,left:r.left+l-o}}return null}function Q4(){const t=st();return this[0]?t.getComputedStyle(this[0],null):{}}function Y4(t,e){const n=st();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const s in t)this[r].style[s]=t[s];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function X4(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function J4(t){const e=OR(this,t);return j(e)}function Z4(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function ez(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function tz(t){const e=st(),n=tt(),r=this[0];let s,i;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=j(t),i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof Mr){for(s=t.nodeType?[t]:t,i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}return!1}function nz(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function rz(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return j([]);if(t<0){const n=e+t;return n<0?j([]):j([this[n]])}return j([this[t]])}function sz(...t){let e;const n=tt();for(let r=0;r<t.length;r+=1){e=t[r];for(let s=0;s<this.length;s+=1)if(typeof e=="string"){const i=n.createElement("div");for(i.innerHTML=e;i.firstChild;)this[s].appendChild(i.firstChild)}else if(e instanceof Mr)for(let i=0;i<e.length;i+=1)this[s].appendChild(e[i]);else this[s].appendChild(e)}return this}function iz(t){const e=tt();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const s=e.createElement("div");for(s.innerHTML=t,r=s.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(s.childNodes[r],this[n].childNodes[0])}else if(t instanceof Mr)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function oz(t){return this.length>0?t?this[0].nextElementSibling&&j(this[0].nextElementSibling).is(t)?j([this[0].nextElementSibling]):j([]):this[0].nextElementSibling?j([this[0].nextElementSibling]):j([]):j([])}function az(t){const e=[];let n=this[0];if(!n)return j([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?j(r).is(t)&&e.push(r):e.push(r),n=r}return j(e)}function lz(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&j(e.previousElementSibling).is(t)?j([e.previousElementSibling]):j([]):e.previousElementSibling?j([e.previousElementSibling]):j([])}return j([])}function cz(t){const e=[];let n=this[0];if(!n)return j([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?j(r).is(t)&&e.push(r):e.push(r),n=r}return j(e)}function uz(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?j(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return j(e)}function dz(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?j(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return j(e)}function hz(t){let e=this;return typeof t>"u"?j([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function fz(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let s=0;s<r.length;s+=1)e.push(r[s])}return j(e)}function pz(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let s=0;s<r.length;s+=1)(!t||j(r[s]).is(t))&&e.push(r[s])}return j(e)}function mz(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const iw={addClass:L4,removeClass:D4,hasClass:j4,toggleClass:M4,attr:V4,removeAttr:$4,transform:F4,transition:U4,on:z4,off:B4,trigger:H4,transitionEnd:q4,outerWidth:W4,outerHeight:G4,styles:Q4,offset:K4,css:Y4,each:X4,html:Z4,text:ez,is:tz,index:nz,eq:rz,append:sz,prepend:iz,next:oz,nextAll:az,prev:lz,prevAll:cz,parent:uz,parents:dz,closest:hz,find:fz,children:pz,filter:J4,remove:mz};Object.keys(iw).forEach(t=>{Object.defineProperty(j.fn,t,{value:iw[t],writable:!0})});function gz(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function ol(t,e=0){return setTimeout(t,e)}function al(){return Date.now()}function _z(t){const e=st();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function yz(t,e="x"){const n=st();let r,s,i;const o=_z(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Ec(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function vz(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Ut(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!vz(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,a=i.length;o<a;o+=1){const l=i[o],c=Object.getOwnPropertyDescriptor(s,l);c!==void 0&&c.enumerable&&(Ec(e[l])&&Ec(s[l])?s[l].__swiper__?e[l]=s[l]:Ut(e[l],s[l]):!Ec(e[l])&&Ec(s[l])?(e[l]={},s[l].__swiper__?e[l]=s[l]:Ut(e[l],s[l])):e[l]=s[l])}}}return e}function wc(t,e,n){t.style.setProperty(e,n)}function LR({swiper:t,targetPosition:e,side:n}){const r=st(),s=-t.translate;let i=null,o;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const l=e>s?"next":"prev",c=(h,f)=>l==="next"&&h>=f||l==="prev"&&h<=f,u=()=>{o=new Date().getTime(),i===null&&(i=o);const h=Math.max(Math.min((o-i)/a,1),0),f=.5-Math.cos(h*Math.PI)/2;let p=s+f*(e-s);if(c(p,e)&&(p=e),t.wrapperEl.scrollTo({[n]:p}),c(p,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(u)};u()}let Rf;function Ez(){const t=st(),e=tt();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const s=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,s)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function DR(){return Rf||(Rf=Ez()),Rf}let Nf;function wz({userAgent:t}={}){const e=DR(),n=st(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const u=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=r==="Win32";let p=r==="MacIntel";const _=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&p&&e.touch&&_.indexOf(`${o}x${a}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!f&&(i.os="android",i.android=!0),(c||h||u)&&(i.os="ios",i.ios=!0),i}function Tz(t={}){return Nf||(Nf=wz(t)),Nf}let Af;function Sz(){const t=st();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function Iz(){return Af||(Af=Sz()),Af}function Cz({swiper:t,on:e,emit:n}){const r=st();let s=null,i=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(u=>{i=r.requestAnimationFrame(()=>{const{width:h,height:f}=t;let p=h,_=f;u.forEach(({contentBoxSize:g,contentRect:v,target:m})=>{m&&m!==t.el||(p=v?v.width:(g[0]||g).inlineSize,_=v?v.height:(g[0]||g).blockSize)}),(p!==h||_!==f)&&o()})}),s.observe(t.el))},l=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},c=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",c)}),e("destroy",()=>{l(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",c)})}function xz({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=st(),o=(c,u={})=>{const h=i.MutationObserver||i.WebkitMutationObserver,f=new h(p=>{if(p.length===1){r("observerUpdate",p[0]);return}const _=function(){r("observerUpdate",p[0])};i.requestAnimationFrame?i.requestAnimationFrame(_):i.setTimeout(_,0)});f.observe(c,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:typeof u.childList>"u"?!0:u.childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),s.push(f)},a=()=>{if(t.params.observer){if(t.params.observeParents){const c=t.$el.parents();for(let u=0;u<c.length;u+=1)o(c[u])}o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}},l=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}const Rz={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(s,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(a=>{a.apply(s,r)})}),e}};function Nz(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Az(){const t=this;function e(S){return t.isHorizontal()?S:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[S]}function n(S,x){return parseFloat(S.getPropertyValue(e(x))||0)}const r=t.params,{$wrapperEl:s,size:i,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&r.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=s.children(`.${t.params.slideClass}`),h=l?t.virtual.slides.length:u.length;let f=[];const p=[],_=[];let g=r.slidesOffsetBefore;typeof g=="function"&&(g=r.slidesOffsetBefore.call(t));let v=r.slidesOffsetAfter;typeof v=="function"&&(v=r.slidesOffsetAfter.call(t));const m=t.snapGrid.length,y=t.slidesGrid.length;let E=r.spaceBetween,w=-g,T=0,R=0;if(typeof i>"u")return;typeof E=="string"&&E.indexOf("%")>=0&&(E=parseFloat(E.replace("%",""))/100*i),t.virtualSize=-E,o?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(wc(t.wrapperEl,"--swiper-centered-offset-before",""),wc(t.wrapperEl,"--swiper-centered-offset-after",""));const b=r.grid&&r.grid.rows>1&&t.grid;b&&t.grid.initSlides(h);let A;const W=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(S=>typeof r.breakpoints[S].slidesPerView<"u").length>0;for(let S=0;S<h;S+=1){A=0;const x=u.eq(S);if(b&&t.grid.updateSlide(S,x,h,e),x.css("display")!=="none"){if(r.slidesPerView==="auto"){W&&(u[S].style[e("width")]="");const C=getComputedStyle(x[0]),O=x[0].style.transform,k=x[0].style.webkitTransform;if(O&&(x[0].style.transform="none"),k&&(x[0].style.webkitTransform="none"),r.roundLengths)A=t.isHorizontal()?x.outerWidth(!0):x.outerHeight(!0);else{const V=n(C,"width"),ee=n(C,"padding-left"),X=n(C,"padding-right"),L=n(C,"margin-left"),z=n(C,"margin-right"),K=C.getPropertyValue("box-sizing");if(K&&K==="border-box")A=V+L+z;else{const{clientWidth:fe,offsetWidth:je}=x[0];A=V+ee+X+L+z+(je-fe)}}O&&(x[0].style.transform=O),k&&(x[0].style.webkitTransform=k),r.roundLengths&&(A=Math.floor(A))}else A=(i-(r.slidesPerView-1)*E)/r.slidesPerView,r.roundLengths&&(A=Math.floor(A)),u[S]&&(u[S].style[e("width")]=`${A}px`);u[S]&&(u[S].swiperSlideSize=A),_.push(A),r.centeredSlides?(w=w+A/2+T/2+E,T===0&&S!==0&&(w=w-i/2-E),S===0&&(w=w-i/2-E),Math.abs(w)<1/1e3&&(w=0),r.roundLengths&&(w=Math.floor(w)),R%r.slidesPerGroup===0&&f.push(w),p.push(w)):(r.roundLengths&&(w=Math.floor(w)),(R-Math.min(t.params.slidesPerGroupSkip,R))%t.params.slidesPerGroup===0&&f.push(w),p.push(w),w=w+A+E),t.virtualSize+=A+E,T=A,R+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+v,o&&a&&(r.effect==="slide"||r.effect==="coverflow")&&s.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&s.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),b&&t.grid.updateWrapperSize(A,f,e),!r.centeredSlides){const S=[];for(let x=0;x<f.length;x+=1){let C=f[x];r.roundLengths&&(C=Math.floor(C)),f[x]<=t.virtualSize-i&&S.push(C)}f=S,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(f.length===0&&(f=[0]),r.spaceBetween!==0){const S=t.isHorizontal()&&o?"marginLeft":e("marginRight");u.filter((x,C)=>r.cssMode?C!==u.length-1:!0).css({[S]:`${E}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let S=0;_.forEach(C=>{S+=C+(r.spaceBetween?r.spaceBetween:0)}),S-=r.spaceBetween;const x=S-i;f=f.map(C=>C<0?-g:C>x?x+v:C)}if(r.centerInsufficientSlides){let S=0;if(_.forEach(x=>{S+=x+(r.spaceBetween?r.spaceBetween:0)}),S-=r.spaceBetween,S<i){const x=(i-S)/2;f.forEach((C,O)=>{f[O]=C-x}),p.forEach((C,O)=>{p[O]=C+x})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:_}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){wc(t.wrapperEl,"--swiper-centered-offset-before",`${-f[0]}px`),wc(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-_[_.length-1]/2}px`);const S=-t.snapGrid[0],x=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(C=>C+S),t.slidesGrid=t.slidesGrid.map(C=>C+x)}if(h!==c&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==y&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const S=`${r.containerModifierClass}backface-hidden`,x=t.$el.hasClass(S);h<=r.maxBackfaceHiddenSlides?x||t.$el.addClass(S):x&&t.$el.removeClass(S)}}function kz(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||j([])).each(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&e.$wrapperEl.css("height",`${s}px`)}function Pz(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function bz(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<r.length;a+=1){const l=r[a];let c=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const u=(o+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),h=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),f=-(o-c),p=f+e.slidesSizesGrid[a];(f>=0&&f<e.size-1||p>1&&p<=e.size||f<=0&&p>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass)),l.progress=s?-u:u,l.originalProgress=s?-h:h}e.visibleSlides=j(e.visibleSlides)}function Oz(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o}=e;const a=i,l=o;r===0?(s=0,i=!0,o=!0):(s=(t-e.minTranslate())/r,i=s<=0,o=s>=1),Object.assign(e,{progress:s,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!a&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(a&&!i||l&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function Lz(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:s,realIndex:i}=t,o=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let a;o?a=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${s}"]`):a=e.eq(s),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass));let l=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&l.length===0&&(l=e.eq(0),l.addClass(n.slideNextClass));let c=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&c.length===0&&(c=e.eq(-1),c.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function Dz(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:s,params:i,activeIndex:o,realIndex:a,snapIndex:l}=e;let c=t,u;if(typeof c>"u"){for(let f=0;f<r.length;f+=1)typeof r[f+1]<"u"?n>=r[f]&&n<r[f+1]-(r[f+1]-r[f])/2?c=f:n>=r[f]&&n<r[f+1]&&(c=f+1):n>=r[f]&&(c=f);i.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0)}if(s.indexOf(n)>=0)u=s.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,c);u=f+Math.floor((c-f)/i.slidesPerGroup)}if(u>=s.length&&(u=s.length-1),c===o){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}const h=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(e,{snapIndex:u,realIndex:h,previousIndex:o,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==h&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function Mz(t){const e=this,n=e.params,r=j(t).closest(`.${n.slideClass}`)[0];let s=!1,i;if(r){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===r){s=!0,i=o;break}}if(r&&s)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(j(r).attr("data-swiper-slide-index"),10):e.clickedIndex=i;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const jz={updateSize:Nz,updateSlides:Az,updateAutoHeight:kz,updateSlidesOffset:Pz,updateSlidesProgress:bz,updateProgress:Oz,updateSlidesClasses:Lz,updateActiveIndex:Dz,updateClickedSlide:Mz};function Vz(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,$wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=yz(i[0],t);return r&&(o=-o),o||0}function $z(t,e){const n=this,{rtlTranslate:r,params:s,$wrapperEl:i,wrapperEl:o,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||i.transform(`translate3d(${l}px, ${c}px, ${u}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c;let h;const f=n.maxTranslate()-n.minTranslate();f===0?h=0:h=(t-n.minTranslate())/f,h!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Fz(){return-this.snapGrid[0]}function Uz(){return-this.snapGrid[this.snapGrid.length-1]}function zz(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let u;if(r&&t>l?u=l:r&&t<c?u=c:u=t,i.updateProgress(u),o.cssMode){const h=i.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return LR({swiper:i,targetPosition:-u,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}const Bz={getTranslate:Vz,setTranslate:$z,minTranslate:Fz,maxTranslate:Uz,translateTo:zz};function Hz(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function MR({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let o=n;if(o||(s>i?o="next":s<i?o="prev":o="reset"),t.emit(`transition${r}`),e&&s!==i){if(o==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function qz(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),MR({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function Wz(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),MR({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const Gz={setTransition:Hz,transitionStart:qz,transitionEnd:Wz};function Kz(t=0,e=this.params.speed,n=!0,r,s){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const E=parseInt(t,10);if(!isFinite(E))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=E}const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:_}=i;if(i.animating&&a.preventInteractionOnTransition||!_&&!r&&!s)return!1;const g=Math.min(i.params.slidesPerGroupSkip,o);let v=g+Math.floor((o-g)/i.params.slidesPerGroup);v>=l.length&&(v=l.length-1);const m=-l[v];if(a.normalizeSlideIndex)for(let E=0;E<c.length;E+=1){const w=-Math.floor(m*100),T=Math.floor(c[E]*100),R=Math.floor(c[E+1]*100);typeof c[E+1]<"u"?w>=T&&w<R-(R-T)/2?o=E:w>=T&&w<R&&(o=E+1):w>=T&&(o=E)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&m<i.translate&&m<i.minTranslate()||!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(h||0)!==o))return!1;o!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(m);let y;if(o>h?y="next":o<h?y="prev":y="reset",f&&-m===i.translate||!f&&m===i.translate)return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(m),y!=="reset"&&(i.transitionStart(n,y),i.transitionEnd(n,y)),!1;if(a.cssMode){const E=i.isHorizontal(),w=f?m:-m;if(e===0){const T=i.virtual&&i.params.virtual.enabled;T&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),p[E?"scrollLeft":"scrollTop"]=w,T&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._swiperImmediateVirtual=!1})}else{if(!i.support.smoothScroll)return LR({swiper:i,targetPosition:w,side:E?"left":"top"}),!0;p.scrollTo({[E?"left":"top"]:w,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(m),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,y),e===0?i.transitionEnd(n,y):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(w){!i||i.destroyed||w.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,y))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd)),!0}function Qz(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const o=parseInt(t,10);if(!isFinite(o))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=o}const s=this;let i=t;return s.params.loop&&(i+=s.loopedSlides),s.slideTo(i,e,n,r)}function Yz(t=this.params.speed,e=!0,n){const r=this,{animating:s,enabled:i,params:o}=r;if(!i)return r;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(s&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function Xz(t=this.params.speed,e=!0,n){const r=this,{params:s,animating:i,snapGrid:o,slidesGrid:a,rtlTranslate:l,enabled:c}=r;if(!c)return r;if(s.loop){if(i&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const u=l?r.translate:-r.translate;function h(v){return v<0?-Math.floor(Math.abs(v)):Math.floor(v)}const f=h(u),p=o.map(v=>h(v));let _=o[p.indexOf(f)-1];if(typeof _>"u"&&s.cssMode){let v;o.forEach((m,y)=>{f>=m&&(v=y)}),typeof v<"u"&&(_=o[v>0?v-1:v])}let g=0;if(typeof _<"u"&&(g=a.indexOf(_),g<0&&(g=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&r.isBeginning){const v=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(v,t,e,n)}return r.slideTo(g,t,e,n)}function Jz(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function Zz(t=this.params.speed,e=!0,n,r=.5){const s=this;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],u=s.snapGrid[a+1];l-c>(u-c)*r&&(i+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],u=s.snapGrid[a];l-c<=(u-c)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function eB(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;if(e.loop){if(t.animating)return;i=parseInt(j(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),ol(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),ol(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}const tB={slideTo:Kz,slideToLoop:Qz,slideNext:Yz,slidePrev:Xz,slideReset:Jz,slideToClosest:Zz,slideToClickedSlide:eB};function nB(){const t=this,e=tt(),{params:n,$wrapperEl:r}=t,s=r.children().length>0?j(r.children()[0].parentNode):r;s.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let i=s.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-i.length%n.slidesPerGroup;if(l!==n.slidesPerGroup){for(let c=0;c<l;c+=1){const u=j(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);s.append(u)}i=s.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>i.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=i.length);const o=[],a=[];i.each((l,c)=>{j(l).attr("data-swiper-slide-index",c)});for(let l=0;l<t.loopedSlides;l+=1){const c=l-Math.floor(l/i.length)*i.length;a.push(i.eq(c)[0]),o.unshift(i.eq(i.length-c-1)[0])}for(let l=0;l<a.length;l+=1)s.append(j(a[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let l=o.length-1;l>=0;l-=1)s.prepend(j(o[l].cloneNode(!0)).addClass(n.slideDuplicateClass))}function rB(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:s,allowSlideNext:i,snapGrid:o,rtlTranslate:a}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const u=-o[e]-t.getTranslate();e<r?(l=n.length-r*3+e,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)):e>=n.length-r&&(l=-n.length+e+r,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)),t.allowSlidePrev=s,t.allowSlideNext=i,t.emit("loopFix")}function sB(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const iB={loopCreate:nB,loopFix:rB,loopDestroy:sB};function oB(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function aB(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const lB={setGrabCursor:oB,unsetGrabCursor:aB};function cB(t,e=this){function n(r){if(!r||r===tt()||r===st())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function uB(t){const e=this,n=tt(),r=st(),s=e.touchEventsData,{params:i,touches:o,enabled:a}=e;if(!a||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let c=j(l.target);if(i.touchEventsTarget==="wrapper"&&!c.closest(e.wrapperEl).length||(s.isTouchEvent=l.type==="touchstart",!s.isTouchEvent&&"which"in l&&l.which===3)||!s.isTouchEvent&&"button"in l&&l.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",h=t.composedPath?t.composedPath():t.path;u&&l.target&&l.target.shadowRoot&&h&&(c=j(h[0]));const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(i.noSwiping&&(p?cB(f,c[0]):c.closest(f)[0])){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler)[0])return;o.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,o.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const _=o.currentX,g=o.currentY,v=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,m=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(v&&(_<=m||_>=r.innerWidth-m))if(v==="prevent")t.preventDefault();else return;if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=_,o.startY=g,s.touchStartTime=al(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1),l.type!=="touchstart"){let y=!0;c.is(s.focusableElements)&&(y=!1,c[0].nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&j(n.activeElement).is(s.focusableElements)&&n.activeElement!==c[0]&&n.activeElement.blur();const E=y&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||E)&&!c[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function dB(t){const e=tt(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}if(r.isTouchEvent&&l.type!=="touchmove")return;const c=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u=l.type==="touchmove"?c.pageX:l.pageX,h=l.type==="touchmove"?c.pageY:l.pageY;if(l.preventedByNestedSwiper){i.startX=u,i.startY=h;return}if(!n.allowTouchMove){j(l.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h}),r.touchStartTime=al());return}if(r.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&j(l.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;i.currentX=u,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let m;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(m=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?m>s.touchAngle:90-m>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),r.isMoved||(s.loop&&!s.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let _=n.isHorizontal()?f:p;i.diff=_,_*=s.touchRatio,o&&(_=-_),n.swipeDirection=_>0?"prev":"next",r.currentTranslate=_+r.startTranslate;let g=!0,v=s.resistanceRatio;if(s.touchReleaseOnEdges&&(v=0),_>0&&r.currentTranslate>n.minTranslate()?(g=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+_)**v)):_<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-_)**v)),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(_)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function hB(t){const e=this,n=e.touchEventsData,{params:r,touches:s,rtlTranslate:i,slidesGrid:o,enabled:a}=e;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=al(),u=c-n.touchStartTime;if(e.allowClick){const y=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(y&&y[0]||l.target),e.emit("tap click",l),u<300&&c-n.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(n.lastClickTime=al(),ol(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(r.followFinger?h=i?e.translate:-e.translate:h=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let f=0,p=e.slidesSizesGrid[0];for(let y=0;y<o.length;y+=y<r.slidesPerGroupSkip?1:r.slidesPerGroup){const E=y<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof o[y+E]<"u"?h>=o[y]&&h<o[y+E]&&(f=y,p=o[y+E]-o[y]):h>=o[y]&&(f=y,p=o[o.length-1]-o[o.length-2])}let _=null,g=null;r.rewind&&(e.isBeginning?g=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(_=0));const v=(h-o[f])/p,m=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(v>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?_:f+m):e.slideTo(f)),e.swipeDirection==="prev"&&(v>1-r.longSwipesRatio?e.slideTo(f+m):g!==null&&v<0&&Math.abs(v)>r.longSwipesRatio?e.slideTo(g):e.slideTo(f))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(f+m):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(_!==null?_:f+m),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:f))}}function ow(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function fB(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function pB(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let aw=!1;function mB(){}const jR=(t,e)=>{const n=tt(),{params:r,touchEvents:s,el:i,wrapperEl:o,device:a,support:l}=t,c=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",h=e;if(!l.touch)i[u](s.start,t.onTouchStart,!1),n[u](s.move,t.onTouchMove,c),n[u](s.end,t.onTouchEnd,!1);else{const f=s.start==="touchstart"&&l.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;i[u](s.start,t.onTouchStart,f),i[u](s.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),i[u](s.end,t.onTouchEnd,f),s.cancel&&i[u](s.cancel,t.onTouchEnd,f)}(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&o[u]("scroll",t.onScroll),r.updateOnWindowResize?t[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",ow,!0):t[h]("observerUpdate",ow,!0)};function gB(){const t=this,e=tt(),{params:n,support:r}=t;t.onTouchStart=uB.bind(t),t.onTouchMove=dB.bind(t),t.onTouchEnd=hB.bind(t),n.cssMode&&(t.onScroll=pB.bind(t)),t.onClick=fB.bind(t),r.touch&&!aw&&(e.addEventListener("touchstart",mB),aw=!0),jR(t,"on")}function _B(){jR(this,"off")}const yB={attachEvents:gB,detachEvents:_B},lw=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function vB(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:s,$el:i}=t,o=s.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in o?o[a]:void 0)||t.originalParams,u=lw(t,s),h=lw(t,c),f=s.enabled;u&&!h?(i.removeClass(`${s.containerModifierClass}grid ${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&h&&(i.addClass(`${s.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&s.grid.fill==="column")&&i.addClass(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(v=>{const m=s[v]&&s[v].enabled,y=c[v]&&c[v].enabled;m&&!y&&t[v].disable(),!m&&y&&t[v].enable()});const p=c.direction&&c.direction!==s.direction,_=s.loop&&(c.slidesPerView!==s.slidesPerView||p);p&&n&&t.changeDirection(),Ut(t.params,c);const g=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!g?t.disable():!f&&g&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),_&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",c)}function EB(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=st(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}const wB={setBreakpoint:vB,getBreakpoint:EB};function TB(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function SB(){const t=this,{classNames:e,params:n,rtl:r,$el:s,device:i,support:o}=t,a=TB(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.addClass([...e].join(" ")),t.emitContainerClasses()}function IB(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const CB={addClasses:SB,removeClasses:IB};function xB(t,e,n,r,s,i){const o=st();let a;function l(){i&&i()}!j(t).parent("picture")[0]&&(!t.complete||!s)&&e?(a=new o.Image,a.onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):l()}function RB(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const NB={loadImage:xB,preloadImages:RB};function AB(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const kB={checkOverflow:AB},cw={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function PB(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Ut(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&t[s]===!0&&(t[s]={auto:!0}),!(s in t&&"enabled"in i)){Ut(e,r);return}t[s]===!0&&(t[s]={enabled:!0}),typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Ut(e,r)}}const kf={eventsEmitter:Rz,update:jz,translate:Bz,transition:Gz,slide:tB,loop:iB,grabCursor:lB,events:yB,breakpoints:wB,checkOverflow:kB,classes:CB,images:NB},Pf={};let ao=class Gn{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Ut({},r),n&&!r.el&&(r.el=n),r.el&&j(r.el).length>1){const a=[];return j(r.el).each(l=>{const c=Ut({},r,{el:l});a.push(new Gn(c))}),a}const s=this;s.__swiper__=!0,s.support=DR(),s.device=Tz({userAgent:r.userAgent}),s.browser=Iz(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const i={};s.modules.forEach(a=>{a({swiper:s,extendParams:PB(r,i),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const o=Ut({},cw,i);return s.params=Ut({},o,Pf,r),s.originalParams=Ut({},s.params),s.passedParams=Ut({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(a=>{s.on(a,s.params.on[a])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=j,Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:j(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const l=["touchstart","touchmove","touchend","touchcancel"],c=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},s.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:al(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(s.centeredSlides){let h=i[c].swiperSlideSize,f;for(let p=c+1;p<i.length;p+=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>l&&(f=!0));for(let p=c-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>l&&(f=!0))}else if(e==="current")for(let h=c+1;h<i.length;h+=1)(n?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(u+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;e.params.freeMode&&e.params.freeMode.enabled?(s(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?i=e.slideTo(e.slides.length-1,0,!1,!0):i=e.slideTo(e.activeIndex,0,!1,!0),i||s()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${s}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=j(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const a=j(e.shadowRoot.querySelector(s()));return a.children=l=>r.children(l),a}return r.children?r.children(s()):j(r).children(s())})();if(o.length===0&&n.params.createElements){const l=tt().createElement("div");o=j(l),l.className=n.params.wrapperClass,r.append(l),r.children(`.${n.params.slideClass}`).each(c=>{o.append(c)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:o.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:s,$el:i,$wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.$el[0].swiper=null,gz(r)),r.destroyed=!0),null}static extendDefaults(e){Ut(Pf,e)}static get extendedDefaults(){return Pf}static get defaults(){return cw}static installModule(e){Gn.prototype.__modules__||(Gn.prototype.__modules__=[]);const n=Gn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Gn.installModule(n)),Gn):(Gn.installModule(e),Gn)}};Object.keys(kf).forEach(t=>{Object.keys(kf[t]).forEach(e=>{ao.prototype[e]=kf[t][e]})});ao.use([Cz,xz]);function Ey(t,e,n,r){const s=tt();return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=t.$el.children(`.${r[i]}`)[0];o||(o=s.createElement("div"),o.className=r[i],t.$el.append(o)),n[i]=o,e[i]=o}}),n}function wy({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function s(p){let _;return p&&(_=j(p),t.params.uniqueNavElements&&typeof p=="string"&&_.length>1&&t.$el.find(p).length===1&&(_=t.$el.find(p))),_}function i(p,_){const g=t.params.navigation;p&&p.length>0&&(p[_?"addClass":"removeClass"](g.disabledClass),p[0]&&p[0].tagName==="BUTTON"&&(p[0].disabled=_),t.params.watchOverflow&&t.enabled&&p[t.isLocked?"addClass":"removeClass"](g.lockClass))}function o(){if(t.params.loop)return;const{$nextEl:p,$prevEl:_}=t.navigation;i(_,t.isBeginning&&!t.params.rewind),i(p,t.isEnd&&!t.params.rewind)}function a(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function l(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function c(){const p=t.params.navigation;if(t.params.navigation=Ey(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;const _=s(p.nextEl),g=s(p.prevEl);_&&_.length>0&&_.on("click",l),g&&g.length>0&&g.on("click",a),Object.assign(t.navigation,{$nextEl:_,nextEl:_&&_[0],$prevEl:g,prevEl:g&&g[0]}),t.enabled||(_&&_.addClass(p.lockClass),g&&g.addClass(p.lockClass))}function u(){const{$nextEl:p,$prevEl:_}=t.navigation;p&&p.length&&(p.off("click",l),p.removeClass(t.params.navigation.disabledClass)),_&&_.length&&(_.off("click",a),_.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?f():(c(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{u()}),n("enable disable",()=>{const{$nextEl:p,$prevEl:_}=t.navigation;p&&p[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),_&&_[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(p,_)=>{const{$nextEl:g,$prevEl:v}=t.navigation,m=_.target;if(t.params.navigation.hideOnClick&&!j(m).is(v)&&!j(m).is(g)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===m||t.pagination.el.contains(m)))return;let y;g?y=g.hasClass(t.params.navigation.hiddenClass):v&&(y=v.hasClass(t.params.navigation.hiddenClass)),r(y===!0?"navigationShow":"navigationHide"),g&&g.toggleClass(t.params.navigation.hiddenClass),v&&v.toggleClass(t.params.navigation.hiddenClass)}});const h=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),c(),o()},f=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),u()};Object.assign(t.navigation,{enable:h,disable:f,update:o,init:c,destroy:u})}function Yn(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function Ty({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let i,o=0;function a(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function l(g,v){const{bulletActiveClass:m}=t.params.pagination;g[v]().addClass(`${m}-${v}`)[v]().addClass(`${m}-${v}-${v}`)}function c(){const g=t.rtl,v=t.params.pagination;if(a())return;const m=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,y=t.pagination.$el;let E;const w=t.params.loop?Math.ceil((m-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(E=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),E>m-1-t.loopedSlides*2&&(E-=m-t.loopedSlides*2),E>w-1&&(E-=w),E<0&&t.params.paginationType!=="bullets"&&(E=w+E)):typeof t.snapIndex<"u"?E=t.snapIndex:E=t.activeIndex||0,v.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const T=t.pagination.bullets;let R,b,A;if(v.dynamicBullets&&(i=T.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),y.css(t.isHorizontal()?"width":"height",`${i*(v.dynamicMainBullets+4)}px`),v.dynamicMainBullets>1&&t.previousIndex!==void 0&&(o+=E-(t.previousIndex-t.loopedSlides||0),o>v.dynamicMainBullets-1?o=v.dynamicMainBullets-1:o<0&&(o=0)),R=Math.max(E-o,0),b=R+(Math.min(T.length,v.dynamicMainBullets)-1),A=(b+R)/2),T.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(W=>`${v.bulletActiveClass}${W}`).join(" ")),y.length>1)T.each(W=>{const S=j(W),x=S.index();x===E&&S.addClass(v.bulletActiveClass),v.dynamicBullets&&(x>=R&&x<=b&&S.addClass(`${v.bulletActiveClass}-main`),x===R&&l(S,"prev"),x===b&&l(S,"next"))});else{const W=T.eq(E),S=W.index();if(W.addClass(v.bulletActiveClass),v.dynamicBullets){const x=T.eq(R),C=T.eq(b);for(let O=R;O<=b;O+=1)T.eq(O).addClass(`${v.bulletActiveClass}-main`);if(t.params.loop)if(S>=T.length){for(let O=v.dynamicMainBullets;O>=0;O-=1)T.eq(T.length-O).addClass(`${v.bulletActiveClass}-main`);T.eq(T.length-v.dynamicMainBullets-1).addClass(`${v.bulletActiveClass}-prev`)}else l(x,"prev"),l(C,"next");else l(x,"prev"),l(C,"next")}}if(v.dynamicBullets){const W=Math.min(T.length,v.dynamicMainBullets+4),S=(i*W-i)/2-A*i,x=g?"right":"left";T.css(t.isHorizontal()?x:"top",`${S}px`)}}if(v.type==="fraction"&&(y.find(Yn(v.currentClass)).text(v.formatFractionCurrent(E+1)),y.find(Yn(v.totalClass)).text(v.formatFractionTotal(w))),v.type==="progressbar"){let T;v.progressbarOpposite?T=t.isHorizontal()?"vertical":"horizontal":T=t.isHorizontal()?"horizontal":"vertical";const R=(E+1)/w;let b=1,A=1;T==="horizontal"?b=R:A=R,y.find(Yn(v.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${b}) scaleY(${A})`).transition(t.params.speed)}v.type==="custom"&&v.renderCustom?(y.html(v.renderCustom(t,E+1,w)),r("paginationRender",y[0])):r("paginationUpdate",y[0]),t.params.watchOverflow&&t.enabled&&y[t.isLocked?"addClass":"removeClass"](v.lockClass)}function u(){const g=t.params.pagination;if(a())return;const v=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,m=t.pagination.$el;let y="";if(g.type==="bullets"){let E=t.params.loop?Math.ceil((v-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&E>v&&(E=v);for(let w=0;w<E;w+=1)g.renderBullet?y+=g.renderBullet.call(t,w,g.bulletClass):y+=`<${g.bulletElement} class="${g.bulletClass}"></${g.bulletElement}>`;m.html(y),t.pagination.bullets=m.find(Yn(g.bulletClass))}g.type==="fraction"&&(g.renderFraction?y=g.renderFraction.call(t,g.currentClass,g.totalClass):y=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`,m.html(y)),g.type==="progressbar"&&(g.renderProgressbar?y=g.renderProgressbar.call(t,g.progressbarFillClass):y=`<span class="${g.progressbarFillClass}"></span>`,m.html(y)),g.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function h(){t.params.pagination=Ey(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const g=t.params.pagination;if(!g.el)return;let v=j(g.el);v.length!==0&&(t.params.uniqueNavElements&&typeof g.el=="string"&&v.length>1&&(v=t.$el.find(g.el),v.length>1&&(v=v.filter(m=>j(m).parents(".swiper")[0]===t.el))),g.type==="bullets"&&g.clickable&&v.addClass(g.clickableClass),v.addClass(g.modifierClass+g.type),v.addClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(v.addClass(`${g.modifierClass}${g.type}-dynamic`),o=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&v.addClass(g.progressbarOppositeClass),g.clickable&&v.on("click",Yn(g.bulletClass),function(y){y.preventDefault();let E=j(this).index()*t.params.slidesPerGroup;t.params.loop&&(E+=t.loopedSlides),t.slideTo(E)}),Object.assign(t.pagination,{$el:v,el:v[0]}),t.enabled||v.addClass(g.lockClass))}function f(){const g=t.params.pagination;if(a())return;const v=t.pagination.$el;v.removeClass(g.hiddenClass),v.removeClass(g.modifierClass+g.type),v.removeClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(g.bulletActiveClass),g.clickable&&v.off("click",Yn(g.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?_():(h(),u(),c())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&c()}),n("snapIndexChange",()=>{t.params.loop||c()}),n("slidesLengthChange",()=>{t.params.loop&&(u(),c())}),n("snapGridLengthChange",()=>{t.params.loop||(u(),c())}),n("destroy",()=>{f()}),n("enable disable",()=>{const{$el:g}=t.pagination;g&&g[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{c()}),n("click",(g,v)=>{const m=v.target,{$el:y}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&y&&y.length>0&&!j(m).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&m===t.navigation.nextEl||t.navigation.prevEl&&m===t.navigation.prevEl))return;const E=y.hasClass(t.params.pagination.hiddenClass);r(E===!0?"paginationShow":"paginationHide"),y.toggleClass(t.params.pagination.hiddenClass)}});const p=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),h(),u(),c()},_=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),f()};Object.assign(t.pagination,{enable:p,disable:_,render:u,update:c,init:h,destroy:f})}function Sy({swiper:t,extendParams:e,on:n,emit:r}){const s=tt();let i=!1,o=null,a=null,l,c,u,h;e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:x,rtlTranslate:C,progress:O}=t,{$dragEl:k,$el:V}=x,ee=t.params.scrollbar;let X=c,L=(u-c)*O;C?(L=-L,L>0?(X=c-L,L=0):-L+c>u&&(X=u+L)):L<0?(X=c+L,L=0):L+c>u&&(X=u-L),t.isHorizontal()?(k.transform(`translate3d(${L}px, 0, 0)`),k[0].style.width=`${X}px`):(k.transform(`translate3d(0px, ${L}px, 0)`),k[0].style.height=`${X}px`),ee.hide&&(clearTimeout(o),V[0].style.opacity=1,o=setTimeout(()=>{V[0].style.opacity=0,V.transition(400)},1e3))}function p(x){!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(x)}function _(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:x}=t,{$dragEl:C,$el:O}=x;C[0].style.width="",C[0].style.height="",u=t.isHorizontal()?O[0].offsetWidth:O[0].offsetHeight,h=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?c=u*h:c=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?C[0].style.width=`${c}px`:C[0].style.height=`${c}px`,h>=1?O[0].style.display="none":O[0].style.display="",t.params.scrollbar.hide&&(O[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&x.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function g(x){return t.isHorizontal()?x.type==="touchstart"||x.type==="touchmove"?x.targetTouches[0].clientX:x.clientX:x.type==="touchstart"||x.type==="touchmove"?x.targetTouches[0].clientY:x.clientY}function v(x){const{scrollbar:C,rtlTranslate:O}=t,{$el:k}=C;let V;V=(g(x)-k.offset()[t.isHorizontal()?"left":"top"]-(l!==null?l:c/2))/(u-c),V=Math.max(Math.min(V,1),0),O&&(V=1-V);const ee=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*V;t.updateProgress(ee),t.setTranslate(ee),t.updateActiveIndex(),t.updateSlidesClasses()}function m(x){const C=t.params.scrollbar,{scrollbar:O,$wrapperEl:k}=t,{$el:V,$dragEl:ee}=O;i=!0,l=x.target===ee[0]||x.target===ee?g(x)-x.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,x.preventDefault(),x.stopPropagation(),k.transition(100),ee.transition(100),v(x),clearTimeout(a),V.transition(0),C.hide&&V.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),r("scrollbarDragStart",x)}function y(x){const{scrollbar:C,$wrapperEl:O}=t,{$el:k,$dragEl:V}=C;i&&(x.preventDefault?x.preventDefault():x.returnValue=!1,v(x),O.transition(0),k.transition(0),V.transition(0),r("scrollbarDragMove",x))}function E(x){const C=t.params.scrollbar,{scrollbar:O,$wrapperEl:k}=t,{$el:V}=O;i&&(i=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),k.transition("")),C.hide&&(clearTimeout(a),a=ol(()=>{V.css("opacity",0),V.transition(400)},1e3)),r("scrollbarDragEnd",x),C.snapOnRelease&&t.slideToClosest())}function w(x){const{scrollbar:C,touchEventsTouch:O,touchEventsDesktop:k,params:V,support:ee}=t,X=C.$el;if(!X)return;const L=X[0],z=ee.passiveListener&&V.passiveListeners?{passive:!1,capture:!1}:!1,K=ee.passiveListener&&V.passiveListeners?{passive:!0,capture:!1}:!1;if(!L)return;const fe=x==="on"?"addEventListener":"removeEventListener";ee.touch?(L[fe](O.start,m,z),L[fe](O.move,y,z),L[fe](O.end,E,K)):(L[fe](k.start,m,z),s[fe](k.move,y,z),s[fe](k.end,E,K))}function T(){!t.params.scrollbar.el||!t.scrollbar.el||w("on")}function R(){!t.params.scrollbar.el||!t.scrollbar.el||w("off")}function b(){const{scrollbar:x,$el:C}=t;t.params.scrollbar=Ey(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const O=t.params.scrollbar;if(!O.el)return;let k=j(O.el);t.params.uniqueNavElements&&typeof O.el=="string"&&k.length>1&&C.find(O.el).length===1&&(k=C.find(O.el)),k.addClass(t.isHorizontal()?O.horizontalClass:O.verticalClass);let V=k.find(`.${t.params.scrollbar.dragClass}`);V.length===0&&(V=j(`<div class="${t.params.scrollbar.dragClass}"></div>`),k.append(V)),Object.assign(x,{$el:k,el:k[0],$dragEl:V,dragEl:V[0]}),O.draggable&&T(),k&&k[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function A(){const x=t.params.scrollbar,C=t.scrollbar.$el;C&&C.removeClass(t.isHorizontal()?x.horizontalClass:x.verticalClass),R()}n("init",()=>{t.params.scrollbar.enabled===!1?S():(b(),_(),f())}),n("update resize observerUpdate lock unlock",()=>{_()}),n("setTranslate",()=>{f()}),n("setTransition",(x,C)=>{p(C)}),n("enable disable",()=>{const{$el:x}=t.scrollbar;x&&x[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),n("destroy",()=>{A()});const W=()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),b(),_(),f()},S=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),A()};Object.assign(t.scrollbar,{enable:W,disable:S,updateSize:_,setTranslate:f,init:b,destroy:A})}function Iy({swiper:t,extendParams:e,on:n}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let r=null;function s(C){const O=r;O.length!==0&&(O.html(""),O.html(C))}function i(C=16){const O=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(C).replace(/x/g,O)}function o(C){C.attr("tabIndex","0")}function a(C){C.attr("tabIndex","-1")}function l(C,O){C.attr("role",O)}function c(C,O){C.attr("aria-roledescription",O)}function u(C,O){C.attr("aria-controls",O)}function h(C,O){C.attr("aria-label",O)}function f(C,O){C.attr("id",O)}function p(C,O){C.attr("aria-live",O)}function _(C){C.attr("aria-disabled",!0)}function g(C){C.attr("aria-disabled",!1)}function v(C){if(C.keyCode!==13&&C.keyCode!==32)return;const O=t.params.a11y,k=j(C.target);t.navigation&&t.navigation.$nextEl&&k.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?s(O.lastSlideMessage):s(O.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&k.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?s(O.firstSlideMessage):s(O.prevSlideMessage)),t.pagination&&k.is(Yn(t.params.pagination.bulletClass))&&k[0].click()}function m(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:C,$prevEl:O}=t.navigation;O&&O.length>0&&(t.isBeginning?(_(O),a(O)):(g(O),o(O))),C&&C.length>0&&(t.isEnd?(_(C),a(C)):(g(C),o(C)))}function y(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function E(){return y()&&t.params.pagination.clickable}function w(){const C=t.params.a11y;y()&&t.pagination.bullets.each(O=>{const k=j(O);t.params.pagination.clickable&&(o(k),t.params.pagination.renderBullet||(l(k,"button"),h(k,C.paginationBulletMessage.replace(/\{\{index\}\}/,k.index()+1)))),k.is(`.${t.params.pagination.bulletActiveClass}`)?k.attr("aria-current","true"):k.removeAttr("aria-current")})}const T=(C,O,k)=>{o(C),C[0].tagName!=="BUTTON"&&(l(C,"button"),C.on("keydown",v)),h(C,k),u(C,O)},R=()=>{t.a11y.clicked=!0},b=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},A=C=>{if(t.a11y.clicked)return;const O=C.target.closest(`.${t.params.slideClass}`);if(!O||!t.slides.includes(O))return;const k=t.slides.indexOf(O)===t.activeIndex,V=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(O);k||V||C.sourceCapabilities&&C.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(O),0))},W=()=>{const C=t.params.a11y;C.itemRoleDescriptionMessage&&c(j(t.slides),C.itemRoleDescriptionMessage),C.slideRole&&l(j(t.slides),C.slideRole);const O=t.params.loop?t.slides.filter(k=>!k.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;C.slideLabelMessage&&t.slides.each((k,V)=>{const ee=j(k),X=t.params.loop?parseInt(ee.attr("data-swiper-slide-index"),10):V,L=C.slideLabelMessage.replace(/\{\{index\}\}/,X+1).replace(/\{\{slidesLength\}\}/,O);h(ee,L)})},S=()=>{const C=t.params.a11y;t.$el.append(r);const O=t.$el;C.containerRoleDescriptionMessage&&c(O,C.containerRoleDescriptionMessage),C.containerMessage&&h(O,C.containerMessage);const k=t.$wrapperEl,V=C.id||k.attr("id")||`swiper-wrapper-${i(16)}`,ee=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";f(k,V),p(k,ee),W();let X,L;t.navigation&&t.navigation.$nextEl&&(X=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(L=t.navigation.$prevEl),X&&X.length&&T(X,V,C.nextSlideMessage),L&&L.length&&T(L,V,C.prevSlideMessage),E()&&t.pagination.$el.on("keydown",Yn(t.params.pagination.bulletClass),v),t.$el.on("focus",A,!0),t.$el.on("pointerdown",R,!0),t.$el.on("pointerup",b,!0)};function x(){r&&r.length>0&&r.remove();let C,O;t.navigation&&t.navigation.$nextEl&&(C=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(O=t.navigation.$prevEl),C&&C.off("keydown",v),O&&O.off("keydown",v),E()&&t.pagination.$el.off("keydown",Yn(t.params.pagination.bulletClass),v),t.$el.off("focus",A,!0),t.$el.off("pointerdown",R,!0),t.$el.off("pointerup",b,!0)}n("beforeInit",()=>{r=j(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),n("afterInit",()=>{t.params.a11y.enabled&&S()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&W()}),n("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&m()}),n("paginationUpdate",()=>{t.params.a11y.enabled&&w()}),n("destroy",()=>{t.params.a11y.enabled&&x()})}function Cy({swiper:t,extendParams:e,on:n,emit:r}){let s;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function i(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const g=t.slides.eq(t.activeIndex);let v=t.params.autoplay.delay;g.attr("data-swiper-autoplay")&&(v=g.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(s),s=ol(()=>{let m;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),m=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?a():(m=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(m=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),m=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?a():(m=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(m=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||m===!1)&&i()},v)}function o(){return typeof s<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),i(),!0)}function a(){return!t.autoplay.running||typeof s>"u"?!1:(s&&(clearTimeout(s),s=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function l(g){t.autoplay.running&&(t.autoplay.paused||(s&&clearTimeout(s),t.autoplay.paused=!0,g===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,i()):["transitionend","webkitTransitionEnd"].forEach(v=>{t.$wrapperEl[0].addEventListener(v,u)})))}function c(){const g=tt();g.visibilityState==="hidden"&&t.autoplay.running&&l(),g.visibilityState==="visible"&&t.autoplay.paused&&(i(),t.autoplay.paused=!1)}function u(g){!t||t.destroyed||!t.$wrapperEl||g.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(v=>{t.$wrapperEl[0].removeEventListener(v,u)}),t.autoplay.paused=!1,t.autoplay.running?i():a())}function h(){t.params.autoplay.disableOnInteraction?a():(r("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach(g=>{t.$wrapperEl[0].removeEventListener(g,u)})}function f(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),i())}function p(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",h),t.$el.on("mouseleave",f))}function _(){t.$el.off("mouseenter",h),t.$el.off("mouseleave",f)}n("init",()=>{t.params.autoplay.enabled&&(o(),tt().addEventListener("visibilitychange",c),p())}),n("beforeTransitionStart",(g,v,m)=>{t.autoplay.running&&(m||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(v):a())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?a():l())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&i()}),n("destroy",()=>{_(),t.autoplay.running&&a(),tt().removeEventListener("visibilitychange",c)}),Object.assign(t.autoplay,{pause:l,run:i,start:o,stop:a})}function bB(t){const{effect:e,swiper:n,on:r,setTranslate:s,setTransition:i,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;r("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const h=o?o():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),r("setTranslate",()=>{n.params.effect===e&&s()}),r("setTransition",(h,f)=>{n.params.effect===e&&i(f)}),r("transitionEnd",()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.each(h=>{n.$(h).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}});let u;r("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(s(),u=!1)}))})}function OB(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function LB({swiper:t,duration:e,transformEl:n,allSlides:r}){const{slides:s,activeIndex:i,$wrapperEl:o}=t;if(t.params.virtualTranslate&&e!==0){let a=!1,l;r?l=n?s.find(n):s:l=n?s.eq(i).find(n):s.eq(i),l.transitionEnd(()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const c=["webkitTransitionEnd","transitionend"];for(let u=0;u<c.length;u+=1)o.trigger(c[u])})}}function VR({swiper:t,extendParams:e,on:n}){e({fadeEffect:{crossFade:!1,transformEl:null}}),bB({effect:"fade",swiper:t,on:n,setTranslate:()=>{const{slides:i}=t,o=t.params.fadeEffect;for(let a=0;a<i.length;a+=1){const l=t.slides.eq(a);let u=-l[0].swiperSlideOffset;t.params.virtualTranslate||(u-=t.translate);let h=0;t.isHorizontal()||(h=u,u=0);const f=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(l[0].progress),0):1+Math.min(Math.max(l[0].progress,-1),0);OB(o,l).css({opacity:f}).transform(`translate3d(${u}px, ${h}px, 0px)`)}},setTransition:i=>{const{transformEl:o}=t.params.fadeEffect;(o?t.slides.find(o):t.slides).transition(i),LB({swiper:t,duration:i,transformEl:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function Ks(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function jr(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Ks(e[r])&&Ks(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:jr(t[r],e[r]):t[r]=e[r]})}function $R(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function FR(t={}){return t.pagination&&typeof t.pagination.el>"u"}function UR(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function zR(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const BR=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function DB(t={},e=!0){const n={on:{}},r={},s={};jr(n,ao.defaults),jr(n,ao.extendedDefaults),n._emitClasses=!0,n.init=!1;const i={},o=BR.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?Ks(t[l])?(n[l]={},s[l]={},jr(n[l],t[l]),jr(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:i[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:r}}function MB({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){$R(o)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),FR(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),UR(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}const HR=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const s=ao.prototype.getBreakpoint(e.breakpoints),i=s in e.breakpoints?e.breakpoints[s]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function jB(t,e,n){const r=e.map((l,c)=>Le.cloneElement(l,{swiper:t,"data-swiper-slide-index":c}));function s(l,c,u){return Le.cloneElement(l,{key:`${l.key}-duplicate-${c}-${u}`,className:`${l.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-r.length%n.slidesPerGroup;if(l!==n.slidesPerGroup)for(let c=0;c<l;c+=1){const u=Le.createElement("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(u)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const i=HR(r,n),o=[],a=[];for(let l=0;l<i;l+=1){const c=l-Math.floor(l/r.length)*r.length;a.push(s(r[c],l,"append")),o.unshift(s(r[r.length-c-1],l,"prepend"))}return t&&(t.loopedSlides=i),[...o,...r,...a]}function VB(t,e,n,r,s){const i=[];if(!e)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(s),c=n.map(s);l.join("")!==c.join("")&&o("children"),r.length!==n.length&&o("children")}return BR.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Ks(t[l])&&Ks(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),u.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),i}function qR(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function WR(t){const e=[];return Le.Children.toArray(t).forEach(n=>{qR(n)?e.push(n):n.props&&n.props.children&&WR(n.props.children).forEach(r=>e.push(r))}),e}function $B(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Le.Children.toArray(t).forEach(r=>{if(qR(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=WR(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function FB({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:a}){const l=r.filter(T=>T!=="children"&&T!=="direction"),{params:c,pagination:u,navigation:h,scrollbar:f,virtual:p,thumbs:_}=t;let g,v,m,y,E;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(g=!0),r.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(v=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(c.pagination||c.pagination===!1)&&u&&!u.el&&(m=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&f&&!f.el&&(y=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(E=!0);const w=T=>{t[T]&&(t[T].destroy(),T==="navigation"?(c[T].prevEl=void 0,c[T].nextEl=void 0,t[T].prevEl=void 0,t[T].nextEl=void 0):(c[T].el=void 0,t[T].el=void 0))};l.forEach(T=>{if(Ks(c[T])&&Ks(n[T]))jr(c[T],n[T]);else{const R=n[T];(R===!0||R===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?R===!1&&w(T):c[T]=n[T]}}),l.includes("controller")&&!v&&t.controller&&t.controller.control&&c.controller&&c.controller.control&&(t.controller.control=c.controller.control),r.includes("children")&&e&&p&&c.virtual.enabled?(p.slides=e,p.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),g&&_.init()&&_.update(!0),v&&(t.controller.control=c.controller.control),m&&(a&&(c.pagination.el=a),u.init(),u.render(),u.update()),y&&(o&&(c.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),E&&(s&&(c.navigation.nextEl=s),i&&(c.navigation.prevEl=i),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function UB(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((s,i)=>i>=n.from&&i<=n.to).map(s=>Le.cloneElement(s,{swiper:t,style:r}))}const zB=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function ya(t,e){return typeof window>"u"?I.useEffect(t,e):I.useLayoutEffect(t,e)}const BB=I.createContext(null),HB=I.createContext(null);function xm(){return xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xm.apply(this,arguments)}const vh=I.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,u]=I.useState("swiper"),[h,f]=I.useState(null),[p,_]=I.useState(!1),g=I.useRef(!1),v=I.useRef(null),m=I.useRef(null),y=I.useRef(null),E=I.useRef(null),w=I.useRef(null),T=I.useRef(null),R=I.useRef(null),b=I.useRef(null),{params:A,passedParams:W,rest:S,events:x}=DB(a),{slides:C,slots:O}=$B(i),k=()=>{_(!p)};Object.assign(A.on,{_containerClasses(z,K){u(K)}});const V=()=>{if(Object.assign(A.on,x),l=!0,m.current=new ao(A),m.current.loopCreate=()=>{},m.current.loopDestroy=()=>{},A.loop&&(m.current.loopedSlides=HR(C,A)),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=C;const z={cache:!1,slides:C,renderExternal:f,renderExternalUpdate:!1};jr(m.current.params.virtual,z),jr(m.current.originalParams.virtual,z)}};v.current||V(),m.current&&m.current.on("_beforeBreakpoint",k);const ee=()=>{l||!x||!m.current||Object.keys(x).forEach(z=>{m.current.on(z,x[z])})},X=()=>{!x||!m.current||Object.keys(x).forEach(z=>{m.current.off(z,x[z])})};I.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",k)}),I.useEffect(()=>{!g.current&&m.current&&(m.current.emitSlidesClasses(),g.current=!0)}),ya(()=>{if(e&&(e.current=v.current),!!v.current)return m.current.destroyed&&V(),MB({el:v.current,nextEl:w.current,prevEl:T.current,paginationEl:R.current,scrollbarEl:b.current,swiper:m.current},A),o&&o(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),ya(()=>{ee();const z=VB(W,y.current,C,E.current,K=>K.key);return y.current=W,E.current=C,z.length&&m.current&&!m.current.destroyed&&FB({swiper:m.current,slides:C,passedParams:W,changedParams:z,nextEl:w.current,prevEl:T.current,scrollbarEl:b.current,paginationEl:R.current}),()=>{X()}}),ya(()=>{zB(m.current)},[h]);function L(){return A.virtual?UB(m.current,C,h):!A.loop||m.current&&m.current.destroyed?C.map(z=>Le.cloneElement(z,{swiper:m.current})):jB(m.current,C,A)}return Le.createElement(r,xm({ref:v,className:zR(`${c}${n?` ${n}`:""}`)},S),Le.createElement(HB.Provider,{value:m.current},O["container-start"],Le.createElement(s,{className:"swiper-wrapper"},O["wrapper-start"],L(),O["wrapper-end"]),$R(A)&&Le.createElement(Le.Fragment,null,Le.createElement("div",{ref:T,className:"swiper-button-prev"}),Le.createElement("div",{ref:w,className:"swiper-button-next"})),UR(A)&&Le.createElement("div",{ref:b,className:"swiper-scrollbar"}),FR(A)&&Le.createElement("div",{ref:R,className:"swiper-pagination"}),O["container-end"]))});vh.displayName="Swiper";function Rm(){return Rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rm.apply(this,arguments)}const ll=I.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,virtualIndex:a,...l}=t===void 0?{}:t;const c=I.useRef(null),[u,h]=I.useState("swiper-slide");function f(g,v,m){v===c.current&&h(m)}ya(()=>{if(e&&(e.current=c.current),!(!c.current||!i)){if(i.destroyed){u!=="swiper-slide"&&h("swiper-slide");return}return i.on("_slideClass",f),()=>{i&&i.off("_slideClass",f)}}}),ya(()=>{i&&c.current&&!i.destroyed&&h(i.getSlideClasses(c.current))},[i]);const p={isActive:u.indexOf("swiper-slide-active")>=0||u.indexOf("swiper-slide-duplicate-active")>=0,isVisible:u.indexOf("swiper-slide-visible")>=0,isDuplicate:u.indexOf("swiper-slide-duplicate")>=0,isPrev:u.indexOf("swiper-slide-prev")>=0||u.indexOf("swiper-slide-duplicate-prev")>=0,isNext:u.indexOf("swiper-slide-next")>=0||u.indexOf("swiper-slide-duplicate-next")>=0},_=()=>typeof r=="function"?r(p):r;return Le.createElement(n,Rm({ref:c,className:zR(`${u}${s?` ${s}`:""}`),"data-swiper-slide-index":a},l),Le.createElement(BB.Provider,{value:p},o?Le.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},_()):_()))});ll.displayName="SwiperSlide";function zl({point:t}){const[e,n]=I.useState(null),r=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],s=()=>{let i=(Math.round(t*100)/100).toFixed(1)/2,o=0;r.reverse().forEach(a=>i<=a?o=a:null),n(o)};return I.useEffect(()=>{s()},[e]),d.jsxs("em",{className:"ui-star",children:[e===0&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"})]}),e===5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"})]})]})}function qB({opts:t}){console.log(t);let e=Math.floor(Math.random()*3)+1;const[n,r]=I.useState([]),s=c=>{H.loading.show();const u=`https://api.themoviedb.org/3/${t.opts}/now_playing?language=ko&region=kr&page=${c}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;lt.get(u).then(h=>{var f;console.log(h.data),r(p=>[...p,...h.data.results]),console.log(c+"=== "+h.data.total_pages),H.loading.hide(),h.data.total_pages<=c&&((f=document.querySelector(".ui-loadmore"))==null||f.classList.add("hide"))}).catch(h=>{var f;console.log(h),H.loading.hide(),(f=document.querySelector(".ui-loadmore"))==null||f.classList.add("error")})},[i,o]=I.useState(null),a=()=>{i==null||i.slideTo(Math.floor(Math.random()*10),0)};I.useEffect(()=>(s(e),a(),window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}),[]);const l=()=>{const c=parseInt(H.viewport.scrollTop()/1.8);H.lock.stat||document.querySelectorAll(".page.home .sect.mnTop .slide ul>li .box .pics").forEach(u=>{u.style.transform="translate3D(0rem , 0"+c+"rem , 0rem)"})};return console.log(11111111111111111e4),d.jsx(d.Fragment,{children:d.jsx("section",{className:"sect mnTop",children:d.jsx("div",{className:"inr",id:"slide",children:d.jsx(vh,{className:"swiper-wrapper swiper slide",modules:[wy,Ty,Sy,Cy,Iy],spaceBetween:0,slidesPerView:1,loop:!0,effect:"fade",autoplay:{delay:3e3,waitForTransition:!1,pauseOnMouseEnter:!0,disableOnInteraction:!1},wrapperTag:"ul",pagination:{clickable:!0},autoHeight:!1,onSwiper:c=>{console.log("initialize swiper",c),o(c),c.slideTo(Math.floor(Math.random()*10))},onSlideChange:()=>{},children:n==null?void 0:n.filter((c,u)=>u<10).map((c,u)=>{const h="https://image.tmdb.org/t/p/w780"+c.poster_path;return d.jsx(ll,{tag:"li",className:"swiper-slide pbox",children:d.jsxs(He,{className:"box",to:`${t.opts}/${c.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${h}`,alt:"",className:"img",onError:f=>{f.target.src="./img/common/non_poster.png"}})}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"star",children:d.jsx(zl,{point:c.vote_average})}),d.jsx("div",{className:"tit",children:c.title})]}),d.jsx("div",{className:"screen"})]})},u)})})})})})}function li({opts:t}){const[e,n]=I.useState([]);console.log(t);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=i=>{H.loading.show(),console.log("로드 ");const o=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;lt.get(o).then(a=>{var l;console.log(a.data),n(c=>[...c,...a.data.results]),console.log(i+"=== "+a.data.total_pages),H.loading.hide(),a.data.total_pages<=i&&((l=document.querySelector(".ui-loadmore"))==null||l.classList.add("hide"))}).catch(a=>{var l;console.log(a),H.loading.hide(),(l=document.querySelector(".ui-loadmore"))==null||l.classList.add("error")})};return I.useEffect(()=>(s(1),()=>{}),[]),d.jsx(d.Fragment,{children:d.jsxs("section",{className:"sect mnList",children:[d.jsxs(He,{to:`/list/${t.opts}/${t.cate||0}`,className:"hbox",children:[d.jsx("h3",{className:"stit",children:t.title}),d.jsx("span",{className:"more",children:d.jsx("i",{className:"fa-regular fa-chevron-right"})})]}),d.jsx("div",{className:"inr",children:d.jsx("div",{className:"slide",children:d.jsx("ul",{children:e==null?void 0:e.filter((i,o)=>o<20).map((i,o)=>{const a="https://image.tmdb.org/t/p/w154"+i.poster_path;return d.jsx("li",{className:"pbox",children:d.jsxs(He,{className:"box",to:`${t.opts}/${i.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${a}`,alt:"",className:"img",onError:l=>{l.target.src="./img/common/non_poster.png"}})}),d.jsx("div",{className:"info"})]})},o)})})})})]})})}function uw({opts:t}){const[e,n]=I.useState([]);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=i=>{H.loading.show(),console.log("로드 ");const o=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;lt.get(o).then(a=>{var l;console.log(a.data),n(c=>[...c,...a.data.results]),console.log(i+"=== "+a.data.total_pages),H.loading.hide(),a.data.total_pages<=i&&((l=document.querySelector(".ui-loadmore"))==null||l.classList.add("hide"))}).catch(a=>{var l;console.log(a),H.loading.hide(),(l=document.querySelector(".ui-loadmore"))==null||l.classList.add("error")})};return I.useEffect(()=>(s(1),()=>{}),[]),d.jsx(d.Fragment,{children:d.jsxs("section",{className:"sect mnList topic",children:[d.jsx("div",{className:"hbox",children:d.jsx("h3",{className:"stit",children:t.title})}),d.jsx("div",{className:"inr",children:d.jsx("div",{className:"slide",children:d.jsx("ul",{children:e==null?void 0:e.filter((i,o)=>o<20).map((i,o)=>{const a="https://image.tmdb.org/t/p/w154"+i.poster_path;return d.jsx("li",{className:"pbox",children:d.jsxs(He,{className:"box",to:`${t.opts}/${i.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${a}`,alt:"",className:"img",onError:l=>{l.target.src="./img/common/non_poster.png"}})}),d.jsx("div",{className:"info",children:d.jsx(zl,{point:i.vote_average})})]})},o)})})})})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firebasestorage.googleapis.com",WB="storageBucket",GB=2*60*1e3,KB=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qn extends Bn{constructor(e,n,r=0){super(bf(e),`Firebase Storage: ${n} (${bf(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,qn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return bf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Un;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Un||(Un={}));function bf(t){return"storage/"+t}function QB(){const t="An unknown error occurred, please check the error payload for server response.";return new qn(Un.UNKNOWN,t)}function YB(){return new qn(Un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XB(){return new qn(Un.CANCELED,"User canceled the upload/download.")}function JB(t){return new qn(Un.INVALID_URL,"Invalid URL '"+t+"'.")}function ZB(t){return new qn(Un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dw(t){return new qn(Un.INVALID_ARGUMENT,t)}function KR(){return new qn(Un.APP_DELETED,"The Firebase app was deleted.")}function e6(t){return new qn(Un.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=_n.makeFromUrl(e,n)}catch{return new _n(e,"")}if(r.path==="")return r;throw ZB(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),_={bucket:1,path:3},g=n===GR?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",m=new RegExp(`^https?://${g}/${s}/${v}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:p,indices:_,postModify:c},{regex:m,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<E.length;w++){const T=E[w],R=T.regex.exec(e);if(R){const b=R[T.indices.bucket];let A=R[T.indices.path];A||(A=""),r=new _n(b,A),T.postModify(r);break}}if(r==null)throw JB(e);return r}}class t6{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function h(v){s=setTimeout(()=>{s=null,t(p,l())},v)}function f(){i&&clearTimeout(i)}function p(v,...m){if(c){f();return}if(v){f(),u.call(null,v,...m);return}if(l()||o){f(),u.call(null,v,...m);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let _=!1;function g(v){_||(_=!0,f(),!c&&(s!==null?(v||(a=2),clearTimeout(s),h(0)):v||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function r6(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(t){return t!==void 0}function hw(t,e,n,r){if(r<e)throw dw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dw(`Invalid value for '${t}'. Expected ${n} or less.`)}function i6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var od;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(od||(od={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,r,s,i,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Tc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===od.NO_ERROR,l=i.getStatus();if(!a||o6(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===od.ABORT;r(!1,new Tc(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Tc(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());s6(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=QB();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?KR():XB();o(l)}else{const l=YB();o(l)}};this.canceled_?n(!1,new Tc(!1,null,!0)):this.backoffId_=n6(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&r6(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Tc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function l6(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function c6(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function u6(t,e){e&&(t["X-Firebase-GMPID"]=e)}function d6(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function h6(t,e,n,r,s,i,o=!0){const a=i6(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return u6(c,e),l6(c,n),c6(c,i),d6(c,r),new a6(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f6(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function p6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(e,n){this._service=e,n instanceof _n?this._location=n:this._location=_n.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ad(e,n)}get root(){const e=new _n(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return p6(this._location.path)}get storage(){return this._service}get parent(){const e=f6(this._location.path);if(e===null)return null;const n=new _n(this._location.bucket,e);return new ad(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw e6(e)}}function fw(t,e){const n=e==null?void 0:e[WB];return n==null?null:_n.makeFromBucketSpec(n,t)}class m6{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=GR,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=GB,this._maxUploadRetryTime=KB,this._requests=new Set,s!=null?this._bucket=_n.makeFromBucketSpec(s,this._host):this._bucket=fw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=_n.makeFromBucketSpec(this._url,e):this._bucket=fw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ad(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new t6(KR());{const o=h6(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const pw="@firebase/storage",mw="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="storage";function _6(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new m6(n,r,s,e,cs)}function y6(){es(new hr(g6,_6,"PUBLIC").setMultipleInstances(!0)),sn(pw,mw,""),sn(pw,mw,"esm2017")}y6();function gw(){const t=()=>{const n=document.querySelector(".header"),r=parseInt(H.viewport.scrollTop());H.lock.stat||(r>100?n.classList.add("trans"):n.classList.remove("trans"))},e=async n=>{const r=JM($M(lh,"bbs"),ZM("timestamp","desc"),e2(n));(await i2(r)).forEach(i=>{console.log(i.data().title)})};return I.useEffect(()=>{window.scrollTo(0,0);const n=document.querySelector(".header");return n.classList.add("home"),window.addEventListener("scroll",t),e(10),()=>{n.classList.remove("home"),window.removeEventListener("scroll",t)}},[]),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page home",children:d.jsxs("main",{className:"contents",children:[d.jsx(qB,{opts:{opts:"movie"}}),d.jsx(uw,{opts:{opts:"movie",list:"/trending/movie/week",cate:"0",title:"Weekly 영화 TOP 20"}}),d.jsx(li,{opts:{opts:"movie",list:"discover/movie",cate:"16",title:"영화/애니메이션"}}),d.jsx(li,{opts:{opts:"movie",list:"discover/movie",cate:"10402",title:"영화/음악"}}),d.jsx(li,{opts:{opts:"movie",list:"discover/movie",cate:"99",title:"영화/다큐멘터리"}}),d.jsx(uw,{opts:{opts:"tv",list:"/trending/tv/week",cate:"0",title:"Weekly TV TOP 20"}}),d.jsx(li,{opts:{opts:"tv",list:"discover/tv",cate:"16",title:"TV/애니메이션"}}),d.jsx(li,{opts:{opts:"tv",list:"discover/tv",cate:"10764",title:"TV/Reality"}}),d.jsx(li,{opts:{opts:"tv",list:"discover/tv",cate:"80",title:"TV/범죄"}})]})})]})}function Sc(){return I.useEffect(()=>()=>{},[]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"container page n404",children:d.jsx("main",{className:"contents",children:"404"})})})}function v6({data:t,cate:e}){const n="https://image.tmdb.org/t/p/w200"+t.poster_path;return d.jsx(d.Fragment,{children:d.jsxs(He,{className:"box",to:""+t.id,children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${n}`,alt:"",className:"img",onError:r=>{r.target.src="./img/common/non_poster.png"}})}),d.jsx("div",{className:"desc",children:d.jsx(zl,{point:t.vote_average})})]}),d.jsx("div",{className:"tits",children:t.title||t.name})]})})}function E6({menu:t,opts:e}){let n=Cn();const[r,s]=I.useState(0),i=a=>{document.querySelectorAll(".cate-box ul>li .bt.active").forEach(_=>{a=parseInt(_.closest("li").getAttribute("data-index"))});const l=document.querySelector(".cate-box>.inr"),c=l.offsetWidth*.5,u=document.querySelector(".cate-box ul>li .bt.active"),h=u==null?void 0:u.offsetLeft,f=(u==null?void 0:u.offsetWidth)*.5,p=h-c+f;l.scrollTo(p,0),s(a),console.log("slideActive == "+r+"  "+h)},o=n.cate;return I.useEffect(()=>(i(r),()=>{}),[o,r,t,e]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"cate-box "+o,children:d.jsx("div",{className:"inr",children:d.jsxs("ul",{className:"list",children:[d.jsx("li",{"data-index":"0",className:o==="0"?"active":null,children:d.jsx(Nn,{type:"button",className:"bt",to:`/list/${e}/0`,children:"전체"})}),t.map((a,l)=>d.jsx("li",{"data-index":l+1,cate:a.id,className:a.id.toString()===o?"active":null,children:d.jsxs(Nn,{type:"button",className:"bt",to:`/list/${e}/${a.id}`,children:[" ",a.name," "]})},a.id))]})})})})}function w6(){let t=Cn();console.log(t);let e=Qt(),n=Yt(),r=t.menu;const s=t.cate;s===void 0&&n(`/${r}/0`),console.log(s),console.log(t,e.pathname);let i;i=s!=="0"?`&with_genres=${s}`:"",console.log(i);const[o,a]=I.useState([]),[l,c]=I.useState([]);let u=1;const[h,f]=I.useState({}),p=async()=>{let E={genr:{}};await lt.get(`https://api.themoviedb.org/3/genre/${r}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(w=>{w.data.genres.forEach(T=>E.genr[T.id]=T.name),console.log(w.data.genres),c(w.data.genres)}).then(w=>{f(E),console.log(E)})},[_,g]=I.useState({pge:0,tot:0}),v=E=>{console.log("로드 "+E);let w=`https://api.themoviedb.org/3/discover/${r}?${i}&page=${E}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;lt.get(w).then(T=>{var R,b,A;console.log(T.data),a(W=>[...W,...T.data.results]),console.log(E+"=== "+T.data.total_pages),m=!0,console.log(m),g({pge:T.data.page,tot:T.data.total_pages}),T.data.total_pages<=E?(m=!1,(R=document.querySelector(".ui-loadmore"))==null||R.classList.add("hide")):(b=document.querySelector(".ui-loadmore"))==null||b.classList.remove("hide"),(A=document.querySelector(".ui-loadmore"))==null||A.classList.remove("active")}).catch(T=>{var R;console.log(T),(R=document.querySelector(".ui-loadmore"))==null||R.classList.add("error")})};I.useEffect(()=>(a([]),window.scrollTo(0,0),v(u),p(),document.querySelector(".header").classList.remove("trans"),window.addEventListener("scroll",y),()=>{window.removeEventListener("scroll",y)}),[s,r]);let m=!0;const y=()=>{var R;const E=H.viewport.height(),w=H.viewport.docHeight(),T=H.viewport.scrollTop()+E+300;if(console.log(m+" =  "+u),w<=T&&m===!0){if(console.log("바닥도착"),(R=document.querySelector(".ui-loadmore"))==null||R.classList.add("active"),m=!1,console.log(m),H.lock.stat){m=!0;return}setTimeout(()=>{u=u+1,v(u)},400)}};return d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page movie list",children:d.jsxs("main",{className:"contents",children:[d.jsx("div",{className:"poster-list",children:o.length?d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"list",children:o.map((E,w)=>d.jsx("li",{"data-id":E.id+"_"+w,children:d.jsx(v6,{data:E,cate:h,opts:r})},E.id+"_"+w))}),d.jsxs("div",{className:"ui-loadmore",children:[d.jsx("em",{children:d.jsx("i",{className:"fa-duotone fa-spinner"})}),d.jsx("button",{onClick:E=>{v(u+1)},type:"button",className:"btn-load",children:d.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]}):d.jsxs("div",{className:"ui-loading-dot on",children:[" ",d.jsx("div",{className:"bx",children:d.jsx("em",{children:d.jsx("i",{})})})," "]})}),d.jsx("div",{className:"page-set",children:d.jsx("div",{className:"inr",children:d.jsxs("div",{className:"pg",children:[_.pge," / ",_.tot]})})})]})}),d.jsx(E6,{menu:l,opts:r})]})}function T6({overview:t}){I.useEffect(()=>(e.set(),()=>{}),[]);const e={evt:n=>{const r=n.currentTarget,s=r.closest("[data-ui='elips']"),i=r.querySelector(".btn-tog");s.classList.contains("open")?(i.innerHTML='<span>더보기</span> <i class="fa-solid fa-caret-down"></i>',s.classList.remove("open")):(i.innerHTML='<i class="fa-solid fa-caret-up"></i> <span>숨기기</span>',s.classList.add("open"))},set:n=>{const r=document.querySelector("[data-ui='elips']"),s=r.querySelector(".txt"),i=s.offsetHeight,o=s.scrollHeight;console.log("scrollHeight == ",o,".txtHeight == ",i),i<o&&r.classList.add("elips")}};return d.jsx("div",{className:"vinf","data-ui":"elips",onClick:e.evt,onKeyUp:n=>n.key==="Enter"?e.evt(n):null,tabIndex:0,children:d.jsxs("div",{className:"txt",children:[t,d.jsxs("span",{className:"btn-tog",children:[d.jsx("span",{children:"더보기"})," ",d.jsx("i",{className:"fa-solid fa-caret-down"})]})]})})}function S6({postID:t,opts:e}){console.log(t);const[n,r]=I.useState(null),s=`https://api.themoviedb.org/3/${e}/${t}/reviews?api_key=f76021076e8162ea929bd2cea62c6646`,i=()=>{lt.get(s).then(a=>{console.log("리뷰들",a.data),r(a.data)}).catch(a=>{console.log(a)})},o={evt:a=>{console.log(a.currentTarget);const c=a.currentTarget.closest("[data-ui='elips']");c.classList.contains("open")?c.classList.remove("open"):c.classList.add("open")},set:a=>{document.querySelectorAll(".ut-reply ul.rlist>li .rpset .ment").forEach(c=>{const u=c.offsetHeight,h=c.scrollHeight;u<h?c.closest("[data-ui='elips']").classList.add("elips"):c.closest("[data-ui='elips']").classList.remove("elips")})}};return I.useEffect(()=>(i(),()=>{}),[]),console.log(n),n?(o.set(),d.jsx(d.Fragment,{children:n.results.length?d.jsxs("div",{className:"sect revw",children:[d.jsx("h4",{className:"tts",children:"리뷰"}),d.jsx("div",{className:"ut-reply",children:d.jsx("div",{className:"rplist",children:d.jsx("ul",{className:"rlist a",children:n.results&&n.results.map((a,l)=>{let u=(a.author_details.avatar_path||"").replace(/^\/+/g,"");return d.jsx("li",{children:d.jsxs("div",{className:"rpset",children:[d.jsx("div",{className:"user",children:d.jsx("span",{className:"pic",children:d.jsx("img",{src:u,alt:"사진",className:"img",onError:h=>{h.target.src="./img/common/user.png"}})})}),d.jsxs("div",{className:"infs",children:[d.jsx("div",{className:"name",children:d.jsx("em",{className:"nm",children:a.author_details.name||a.author_details.username})}),d.jsx("div",{className:"desc",children:d.jsx("em",{className:"time",children:H.dateForm(new Date(a.created_at))})}),d.jsx("div",{"data-ui":"elips",className:"mbox",children:d.jsx("div",{className:"ment txt",onClick:o.evt,children:a.content})})]})]})},l)})})})})]}):null})):d.jsx("div",{children:"Loading..."})}function Ic({prop:t}){let e=Cn();console.log(e);let n=e.menu,r=Yt();t.page=t.page||"page",console.log(e,n);const[s,i]=I.useState({}),o=async()=>{let S={genr:{}};await lt.get(`https://api.themoviedb.org/3/genre/${n}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(x=>{x.data.genres.forEach(C=>S.genr[C.id]=C.name)}).then(x=>{i(S),console.log(S)})},a=e.id,l=()=>{var k,V;let S=document.querySelector(".popup.movie"),x=S.offsetHeight||0,C=((k=S.querySelector(".pbt"))==null?void 0:k.offsetHeight)||0,O=((V=S.querySelector(".phd"))==null?void 0:V.offsetHeight)||0;x=x-O||0,console.log(x),S.querySelector(".pct").style.height=x-C+"px"},[c,u]=I.useState(null),[h,f]=I.useState(null),[p,_]=I.useState(null),[g,v]=I.useState(""),m=`https://api.themoviedb.org/3/${n}/${a}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,y=()=>{lt.get(m).then(S=>{console.log("영화정보",S.data),u(S.data);let x=S.data.backdrop_path?S.data.backdrop_path:S.data.poster_path;v("https://image.tmdb.org/t/p/w780"+x)}).catch(S=>{console.log(S)})},E=`https://api.themoviedb.org/3/${n}/${a}/credits?&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,w=()=>{lt.get(E).then(S=>{console.log("출연,제작",S.data),f(S.data)}).catch(S=>{console.log(S)})},T=`https://api.themoviedb.org/3/${n}/${a}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,R=()=>{lt.get(T).then(S=>{console.log("영상",S.data),_(S.data)}).catch(S=>{console.log(S)})},b=()=>{var x,C;parseInt(document.querySelector(".popup.movie .pct").scrollTop)>50?(document.querySelector(".popup.movie .phd").classList.add("trans"),(x=document.querySelector(".floatpop"))==null||x.classList.add("on-top")):(document.querySelector(".popup.movie .phd").classList.remove("trans"),(C=document.querySelector(".floatpop"))==null||C.classList.remove("on-top"))};console.log(t.page+"  d");const A=()=>t.page==="list"||t.page==="search"||t.page==="home",W=()=>{H.scrollTo(".popup.movie .pct",0,200)};return I.useEffect(()=>(W(),console.log(document.querySelector(".pct").offsetHeight),o(),y(),w(),R(),l(),document.querySelector(".popup.movie .pct").addEventListener("scroll",b),window.addEventListener("resize",l),document.querySelector(".popup.movie").classList.add("ani","on"),H.lock.using(!0),()=>{window.removeEventListener("resize",l),console.log("컴포넌트가 화면에서 사라짐"),H.lock.using(!1)}),[e.id]),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("article",{className:`pop-layer a bottom popup movie view ${A()?"":"page"} `,children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:(c==null?void 0:c.title)||(c==null?void 0:c.name)})})}),A()?d.jsx(d.Fragment,{children:d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{r(-1)},children:d.jsx("i",{className:"fa-regular fa-arrow-left"})})}):d.jsx("button",{type:"button",className:"btn-pop-close home",onClick:()=>{r("/home/")},children:d.jsx("i",{className:"fa-solid fa-house"})}),d.jsx("div",{className:"bgs",style:{backgroundImage:`url(${g}) `}}),d.jsx("div",{className:"pct",children:d.jsxs("main",{className:"poptents",children:[!c&&!h&&!p&&d.jsx("div",{className:"m-info",children:d.jsxs("div",{className:"ui-loading-dot on",children:[" ",d.jsx("div",{className:"bx",children:d.jsx("em",{children:d.jsx("i",{})})})," "]})}),c&&h&&p&&d.jsxs("div",{className:"m-info",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[c.title&&d.jsx("p",{className:"tit",children:c.title}),c.tagline&&d.jsx("p",{className:"sit",children:c.tagline}),c.original_title&&d.jsx("p",{className:"tio",children:c.original_title}),c.name&&d.jsx("p",{className:"tit",children:c.name}),c.original_name&&d.jsx("p",{className:"tio",children:c.original_name}),d.jsx("div",{className:"star",children:d.jsx(zl,{point:c.vote_average})}),d.jsx("div",{className:"cate",children:c.genres.map(S=>d.jsxs("em",{className:"ico",children:[" ",s.genr?s.genr[S.id]:null]},S.id))}),d.jsxs("ul",{className:"lst",children:[d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-thumbs-up"})," ",d.jsx("b",{children:"평점"})," : ",c.vote_average," / 10"]}),c.release_date&&d.jsxs("li",{className:"opn",children:[d.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",d.jsx("b",{children:"개봉"})," : ",c.release_date]}),c.first_air_date&&d.jsxs("li",{className:"opn",children:[d.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",c.first_air_date," ~ ",c.last_air_date]}),c.runtime&&d.jsxs("li",{className:"tim",children:[d.jsx("i",{className:"fa-regular fa-timer"})," ",d.jsx("b",{children:"시간"})," : ",c.runtime," 분"]}),c.number_of_seasons&&d.jsxs("li",{className:"tim",children:[d.jsx("i",{className:"fa-regular fa-timer"})," ",d.jsx("b",{children:"시즌"})," : ",c.number_of_seasons,"개  - ",d.jsx("b",{children:"에피소드"})," : ",c.number_of_episodes,"개"]}),c.homepage&&d.jsxs("li",{className:"web",children:[d.jsx("i",{className:"fa-regular fa-globe"})," ",d.jsx("a",{className:"lk",href:c.homepage,target:"_blank",rel:"noopener noreferrer",children:c.homepage})]})]})]}),d.jsx("div",{className:"thum",children:d.jsx(He,{to:"./poster/0",className:"pics",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w300"+c.poster_path,alt:c.title,className:"img",onError:S=>{S.target.src="./img/common/non_poster.png"}})})})]}),c.overview&&d.jsx(T6,{overview:c.overview}),h.cast.length?d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts",children:"출연진"}),d.jsx("div",{className:"lst",children:h.cast.filter((S,x)=>x<999).map(S=>d.jsxs(He,{to:`./person/${S.id}`,className:"profile",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w92"+S.profile_path,alt:S.name,className:"img",onError:x=>{x.target.src="./img/common/user.png"},loading:"lazy"})}),d.jsx("div",{className:"name",children:S.name}),d.jsx("div",{className:"carc",children:S.character})]},S.credit_id))})]}):null,p.results.length>0?d.jsxs("div",{className:"sect movs",children:[d.jsx("h4",{className:"tts",children:"영상"}),d.jsx("div",{className:"lst",children:p.results.filter((S,x)=>x<100).reverse().map((S,x)=>d.jsx("div",{className:"box",children:d.jsxs(He,{to:`./videos/${x+1}`,className:"pic",children:[d.jsx("span",{className:"msg",children:d.jsx("span",{className:"tit",children:S.name})}),d.jsx("i",{className:"ico fa-solid fa-play"}),d.jsx("img",{className:"img",src:"//i.ytimg.com/vi/"+S.key+"/sddefault.jpg",onError:C=>{C.target.src="./img/common/user.png"},alt:S.name,loading:"lazy"})]})},S.id))})]}):null,h.crew.length?d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts",children:"제작진"}),d.jsx("div",{className:"lst",children:h.crew.filter((S,x)=>x<999).map(S=>d.jsxs(He,{to:`./person/${S.id}`,className:"profile",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w92"+S.profile_path,alt:S.name,className:"img",onError:x=>{x.target.src="./img/common/user.png"},loading:"lazy"})}),d.jsx("div",{className:"name",children:S.name}),d.jsx("div",{className:"carc",children:S.known_for_department})]},S.credit_id))})]}):null,c.images.posters.length?d.jsxs("div",{className:"sect post",children:[d.jsxs("h4",{className:"tts",children:["포스터 : ",c.images.posters.length+1]}),d.jsxs("div",{className:"lst",children:[d.jsx("div",{className:"box","data-index":0,children:d.jsx(He,{to:"./poster/0",className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w300"+c.poster_path,alt:c.title,className:"img",onError:S=>{S.target.src="./img/common/non_poster.png"},loading:"lazy"})})}),c.images.posters.map((S,x)=>d.jsx("div",{className:"box","data-index":x+1,children:d.jsx(He,{to:`./poster/${x+1}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w300"+S.file_path,alt:S.name,className:"img",onError:C=>{C.target.src="./img/common/non_poster.png"},loading:"lazy"})})},x))]})]}):null,d.jsx(S6,{postID:a,opts:n}),c.production_companies.length?d.jsx(d.Fragment,{children:d.jsx("div",{className:"sect comp",children:c.production_companies.map(S=>S.logo_path?d.jsx("span",{className:"logo",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w92"+S.logo_path,alt:S.name,className:"img"})},S.id):d.jsx("span",{className:"logo",children:S.name},S.id))})}):null]})]})}),d.jsx("div",{className:"floatpop",children:d.jsxs("button",{type:"button",className:"bt top",onClick:W,children:[d.jsx("i",{className:"fa-solid fa-arrow-up"}),d.jsx("em",{children:"위로"})]})})]})})]})}function Cc({prop:t}){let e=Yt(),n=Cn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var m,y;let p=document.querySelector(".popup.poster"),_=p.offsetHeight||0,g=((m=p.querySelector(".pbt"))==null?void 0:m.offsetHeight)||0,v=((y=p.querySelector(".phd"))==null?void 0:y.offsetHeight)||0;_=_-v||0,console.log(_),p.querySelector(".pct").style.maxHeight=_-g+"px"},[o,a]=I.useState(null),[l,c]=I.useState(""),u=()=>o.images.posters.length>1,h=`https://api.themoviedb.org/3/${r}/${s}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,f=()=>{lt.get(h).then(p=>{console.log("영화정보",p.data),a(p.data);let _=p.data.poster_path?p.data.poster_path:p.data.backdrop_path;c("https://image.tmdb.org/t/p/w780"+_)}).catch(p=>{console.log(p)})};return I.useEffect(()=>(console.log(document.querySelector(".popup.poster .pct").offsetHeight),f(),i(),window.addEventListener("resize",i),document.querySelector(".popup.poster").classList.add("ani","on"),H.lock.using(!0),()=>{window.removeEventListener("resize",i),H.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer c bottom popup poster",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:(o==null?void 0:o.title)||(o==null?void 0:o.name)})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsx("main",{className:"poptents",children:d.jsx("div",{className:"poster-box",children:o&&o.images.posters?d.jsxs(vh,{className:"swiper-wrapper swiper slide",modules:[wy,Ty,Sy,Cy,VR,Iy],spaceBetween:20,slidesPerView:1,loop:u(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},autoHeight:!0,onSwiper:p=>{console.log("initialize swiper",p),p.slideToLoop(n.nums,0)},onSlideChange:()=>{},children:[d.jsx(ll,{tag:"li",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsx("img",{src:l,className:"img",alt:(o==null?void 0:o.title)||(o==null?void 0:o.name),onError:p=>{p.target.src="./img/common/non_poster.png"},loading:"lazy"}),d.jsx("div",{className:"lazy-preloader",children:d.jsx("i",{className:"fa-duotone fa-spinner"})})]})})}),o.images.posters.map((p,_)=>{const g="https://image.tmdb.org/t/p/w780"+p.file_path;return d.jsx(ll,{tag:"li",className:"swiper-slide pbox",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsx("img",{src:`${g}`,alt:(o==null?void 0:o.title)||(o==null?void 0:o.name),className:"img",onError:v=>{v.target.src="./img/common/non_poster.png"},loading:"lazy"}),d.jsx("div",{className:"lazy-preloader",children:d.jsx("i",{className:"fa-duotone fa-spinner"})})]})})},_)})]}):null})})})]})})})}function xc(){let t=Cn(),e=Yt();const n=t.opts;console.log(t);const r=t.nums,s=()=>{var T,R;let m=document.querySelector(".popup.person"),y=m.offsetHeight||0,E=((T=m.querySelector(".pbt"))==null?void 0:T.offsetHeight)||0,w=((R=m.querySelector(".phd"))==null?void 0:R.offsetHeight)||0;y=y-w||0,m.querySelector(".pct").style.maxHeight=y-H.getSafe.top()-H.getSafe.watch()-E-10+"px",console.log(y)},[i,o]=I.useState(null),[a,l]=I.useState(null),[c,u]=I.useState(null),h=`https://api.themoviedb.org/3/person/${r}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,f=()=>{lt.get(h).then(m=>{console.log("인물 정보",m.data),o(m.data)}).catch(m=>{console.log(m)})},p=`https://api.themoviedb.org/3/person/${r}/movie_credits?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,_=()=>{lt.get(p).then(m=>{console.log("인물 출연작",m.data),l(m.data)}).catch(m=>{console.log(m)})},g=`https://api.themoviedb.org/3/person/${r}/images?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,v=()=>{lt.get(g).then(m=>{console.log("인물 사진",m.data),u(m.data)}).catch(m=>{console.log(m)})};return I.useEffect(()=>(console.log(document.querySelector(".popup.person .pct").offsetHeight),f(),_(),v(),s(),window.addEventListener("resize",s),document.querySelector(".popup.person").classList.add("ani","on"),H.lock.using(!0),()=>{window.removeEventListener("resize",s),H.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer c bottom popup person",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit"})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsxs("main",{className:"poptents",children:[!i&&!a&&!c&&d.jsx("div",{className:"m-info",children:d.jsxs("div",{className:"ui-loading-dot on",children:[" ",d.jsx("div",{className:"bx",children:d.jsx("em",{children:d.jsx("i",{})})})," "]})}),i&&a&&c&&d.jsxs("div",{className:"m-info",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[i.title&&d.jsx("p",{className:"tit",children:i.title}),i.original_title&&d.jsx("p",{className:"tio",children:i.original_title}),i.name&&d.jsx("p",{className:"tit",children:i.name}),i.known_for_department&&d.jsx("p",{className:"tio",children:i.known_for_department}),i.original_name&&d.jsx("p",{className:"tio",children:i.original_name}),d.jsxs("ul",{className:"lst",children:[i.birthday&&d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"}),"  ",i.birthday]}),i.place_of_birth&&d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-location-dot"}),"  ",i.place_of_birth]}),d.jsxs("li",{className:"vot",children:[" ",d.jsx("i",{className:"fa-regular fa-star"})," ",i.popularity," / 100 "]}),i.homepage&&d.jsxs("li",{className:"web",children:[d.jsx("i",{className:"fa-regular fa-globe"})," ",d.jsx("a",{className:"lk",href:i.homepage,target:"_blank",rel:"noopener noreferrer",children:i.homepage})]})]})]}),d.jsx("div",{className:"thum",children:d.jsx("div",{className:"pics",children:d.jsx("img",{src:`https://image.tmdb.org/t/p/w780${i.profile_path}`,alt:i.title,className:"img",onError:m=>{m.target.src="./img/common/user.png"}})})})]}),a.cast.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"출연작 "}),d.jsx("div",{className:"lst",children:a.cast.map((m,y)=>d.jsx("div",{className:"box","data-index":y+1,children:d.jsx(He,{to:`/movie/${m.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+m.poster_path,alt:m.title,className:"img",onError:E=>{E.target.src="./img/common/non_poster.png"},loading:"lazy"})})},y))})]}):null,a.crew.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"제작참여 "}),d.jsx("div",{className:"lst",children:a.crew.map((m,y)=>d.jsx("div",{className:"box","data-index":y+1,children:d.jsx(He,{to:`/movie/${m.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+m.poster_path,alt:m.title,className:"img",onError:E=>{E.target.src="./img/common/non_poster.png"},loading:"lazy"})})},y))})]}):null,c.profiles.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"사진 "}),d.jsx("div",{className:"lst",children:c.profiles.map((m,y)=>d.jsx("div",{className:"box","data-index":y+1,children:d.jsx("div",{to:`/list/${n}/0/${m.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+m.file_path,alt:m.title,className:"img",onError:E=>{E.target.src="./img/common/non_poster.png"},loading:"lazy"})})},y))})]}):null]})]})})]})})})}function Rc({prop:t}){let e=Yt(),n=Cn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var g,v;let h=document.querySelector(".popup.videos"),f=h.offsetHeight||0,p=((g=h.querySelector(".pbt"))==null?void 0:g.offsetHeight)||0,_=((v=h.querySelector(".phd"))==null?void 0:v.offsetHeight)||0;f=f-_||0,console.log(f),h.querySelector(".pct").style.maxHeight=f-p+"px"},[o,a]=I.useState(null),l=()=>o.results.length>1,c=`https://api.themoviedb.org/3/${r}/${s}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,u=()=>{lt.get(c).then(h=>{console.log("영상",h.data),a(h.data)}).catch(h=>{console.log(h)})};return I.useEffect(()=>(console.log(document.querySelector(".popup.videos .pct").offsetHeight),u(),i(),window.addEventListener("resize",i),document.querySelector(".popup.videos").classList.add("ani","on"),H.lock.using(!0),()=>{window.removeEventListener("resize",i),H.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer b bottom popup videos",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:(o==null?void 0:o.title)||(o==null?void 0:o.name)})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsx("main",{className:"poptents",children:d.jsx("div",{className:"videos-box",children:o&&o.results.length?d.jsx(vh,{className:"swiper-wrapper swiper slide",modules:[wy,Ty,Sy,Cy,VR,Iy],spaceBetween:20,slidesPerView:1,navigation:!0,loop:l(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},observeParents:!0,observeSlideChildren:!0,observer:!0,wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},onSwiper:h=>{console.log("initialize swiper",h),h.slideTo(n.nums,0)},onSlideChange:()=>{},children:o.results.filter((h,f)=>f<100).reverse().map((h,f)=>d.jsx(ll,{tag:"li",className:"swiper-slide pbox",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsxs("span",{className:"ui-load-glx full",children:[" ",d.jsxs("span",{className:"gbx",children:[" ",d.jsxs("em",{className:"bx",children:[" ",d.jsx("i",{})," ",d.jsx("i",{})," ",d.jsx("i",{})," ",d.jsx("i",{})," "]})," "]})," "]}),d.jsx("iframe",{className:"iframe",title:h.name,src:"//www.youtube.com/embed/"+h.key,allow:"autoplay; encrypted-media",allowFullScreen:!0,loading:"lazy"})]})})},f))}):null})})})]})})})}function I6({data:t,cate:e,opts:n}){const r="https://image.tmdb.org/t/p/w200",s=t.poster_path?r+t.poster_path:"./img/common/non_poster.png",i=t.backdrop_path?r+t.backdrop_path:r+t.poster_path;return d.jsx(d.Fragment,{children:d.jsxs(He,{className:"box",to:`/search/${n}/${t.id}`,children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${s}`,alt:"",className:"img",onError:o=>{o.target.src="./img/common/non_poster.png"}})}),d.jsxs("div",{className:"desc",children:[d.jsx("div",{className:"tits",children:t.title||t.name}),d.jsx("div",{className:"text",children:t.overview})]})]}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"dd",children:d.jsx("div",{className:"cate",children:d.jsx("span",{className:"txt",children:t.genre_ids.map(o=>d.jsxs("em",{className:"ico",children:[" ",e.genr?e.genr[o]:null," "]},o))})})}),d.jsxs("div",{className:"dd",children:[d.jsxs("div",{className:"hits",children:[d.jsx(zl,{point:t.vote_average}),d.jsxs("em",{children:[d.jsx("i",{className:"fa-regular fa-heart"})," ",d.jsx("b",{children:t.vote_average})]})]}),d.jsxs("div",{className:"date",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," ",d.jsx("b",{children:t.release_date||t.first_air_date})]})]})]}),d.jsx("div",{className:"bgs",style:{backgroundImage:`url(${i})`}})]})})}function _w(){var O;const[t]=EP();let e=Cn();console.log(e);const n=e.menu;let[r,s]=I.useState(t.get("search"));const[i,o]=I.useState([]);let a=1;const[l,c]=I.useState({}),u=async()=>{let k={genr:{}};await lt.get(`https://api.themoviedb.org/3/genre/${n}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(V=>{V.data.genres.forEach(ee=>k.genr[ee.id]=ee.name)}).then(V=>{c(k),console.log(k)}).catch(V=>{console.log(V),c(null)})},[h,f]=I.useState({pge:0,tot:0}),p=I.useRef(),_=(k,V)=>{console.log("검색어 "+r),console.log("로드 "+k),p.current.value=r,V=r;let ee=`https://api.themoviedb.org/3/search/${n}?language=ko&region=kr&page=${k}&query=${V}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;if(r==null){ee="",H.loading.hide();return}lt.get(ee).then(X=>{var L,z;console.log(X.data),o(K=>[...K,...X.data.results]),console.log(k+"=== "+X.data.total_pages),v=!0,console.log(v),H.loading.hide(),f({pge:X.data.page,tot:X.data.total_pages}),X.data.total_pages<=k&&(v=!1,(L=document.querySelector(".ui-loadmore"))==null||L.classList.add("hide")),(z=document.querySelector(".ui-loadmore"))==null||z.classList.remove("active")}).catch(X=>{var L;console.log(X),H.loading.hide(),(L=document.querySelector(".ui-loadmore"))==null||L.classList.add("error")})};I.useEffect(()=>(u(),H.loading.show(),_(a),document.querySelector(".header").classList.add("hide"),o([]),!r&&!document.querySelector(".pop-layer")&&p.current.focus(),window.addEventListener("scroll",m),window.scrollTo(0,0),S(),document.querySelectorAll("*").forEach(k=>k.addEventListener("focus",g)),document.addEventListener("touchstart",g),()=>{document.querySelector(".header").classList.remove("hide"),window.removeEventListener("scroll",m),document.querySelectorAll("*").forEach(k=>k.removeEventListener("focus",g)),document.removeEventListener("touchstart",g)}),[r,n]);const g=k=>{k.target.closest(".schs-form")};let v=!0;const m=()=>{var X;const k=H.viewport.height(),V=H.viewport.docHeight(),ee=H.viewport.scrollTop()+k+10;if(console.log(v+" =  "+a),V<=ee&&v===!0){if(console.log("바닥도착"),(X=document.querySelector(".ui-loadmore"))==null||X.classList.add("active"),v=!1,H.lock.stat){v=!0;return}setTimeout(()=>{a=a+1,_(a)},400)}},y=k=>{var V,ee,X;s((V=p.current)==null?void 0:V.value),window.history.replaceState(null,null,`#/search/${n}?search=${(ee=p.current)==null?void 0:ee.value}`),o([]),_(1),k.preventDefault(),document.querySelector(".movie-list").focus(),W((X=p.current)==null?void 0:X.value)},E=k=>{p.current.value=k,s(k),window.history.replaceState(null,null,`#/search/${n}?search=${k}`),new URL(window.location).searchParams.set("search",k)},w=k=>{s(k.target.value),o([]);const V=new URL(window.location);V.searchParams.set("search",k.target.value),console.log(V),window.history.replaceState(null,null,`#/search/${n}?search=${k.target.value}`)},T=I.useRef(),R=I.useRef(),[b,A]=I.useState([]),W=k=>{let V=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]');k.trim()!==""&&V.unshift(k);let ee=[...new Set(V)].slice(0,10);localStorage.setItem("keyword",JSON.stringify(ee)),A(ee)},S=k=>{var X,L;let V=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]'),ee=[...new Set(V)];A(ee),(X=R.current)==null||X.classList.add("open"),(L=b.current)==null||L.classList.add("open")},x=(k,V)=>{const ee=b.filter(L=>L!==V);let X=[...new Set(ee)];return localStorage.setItem("keyword",JSON.stringify(X)),A(X),T.current.classList.add("open"),setTimeout(()=>p.current.focus()),k.preventDefault(),!1},C=(k,V)=>{console.log(k),p.current.value="",p.current.focus()};return console.log(i),console.log(b),console.log((O=p.current)==null?void 0:O.value),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page movie search",children:d.jsxs("main",{className:"contents",children:[d.jsx("div",{className:"schs-form",ref:R,children:d.jsx("div",{className:"inr",children:d.jsxs("form",{className:"form",onSubmit:y,children:[d.jsxs("div",{className:"bts",children:[d.jsx(Nn,{className:"bt",to:`/search/movie?search=${r}`,children:"Movie"}),d.jsx(Nn,{className:"bt",to:`/search/tv?search=${r}`,children:"TV"})]}),d.jsxs("span",{className:"input",children:[d.jsx("input",{type:"text",placeholder:"검색어를 입력하세요.",ref:p,required:!0,maxLength:12,onMouseDown:S,onChange:w,onInvalid:k=>k.preventDefault()}),d.jsx("button",{type:"button",className:"btdel",title:"삭제",onClick:C,children:d.jsx("i",{className:"fa-regular fa-xmark"})})]}),d.jsx("button",{type:"submit",className:"bt-sch",children:d.jsx("i",{className:"fa-regular fa-search"})})]})})}),d.jsx("div",{className:b.length>0?"recent-kwds open":"recent-kwds",ref:T,children:b.length<1?"":d.jsx("ul",{className:"lst",children:b.map(k=>d.jsxs("li",{children:[d.jsx("button",{className:"kwd",type:"button",onClick:()=>E(k),children:k}),d.jsx("button",{className:"del",type:"button",onClick:V=>x(V,k),children:d.jsx("i",{className:"fa-regular fa-xmark"})})]},k))})}),d.jsx("div",{className:"movie-list",tabIndex:"-1",children:i.length<=0?d.jsxs("div",{className:"nodata",children:[d.jsx("i",{className:"fa-solid fa-file-magnifying-glass"}),r?d.jsxs("p",{children:[" ‟",r,"” 검색 결과가 없습니다."]}):null]}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"list",children:i.map((k,V)=>d.jsx("li",{"data-id":k.id+"_"+V,children:d.jsx(I6,{data:k,cate:l,opts:n})},k.id+"_"+V))}),i.length>0&&d.jsxs("div",{className:"ui-loadmore",children:[d.jsx("em",{children:d.jsx("i",{className:"fa-duotone fa-spinner"})}),d.jsx("button",{onClick:k=>{a=a+1,_(a,k)},type:"button",className:"btn-load",title:"불러오기",children:d.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]})}),i.length>0&&d.jsx("div",{className:"page-set",children:d.jsx("div",{className:"inr",children:d.jsxs("div",{className:"pg",children:[h.pge," / ",h.tot]})})})]})})]})}function C6(){let t=Cn();console.log(t),Qt();let e=Yt();t.menu;const n={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/missing-email":"정확한 이메일을 입력하세요","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},r=I.useRef(),s=I.useRef(),i=I.useRef(),o=async()=>{const l=r.current.value,c=s.current.value,u=hh();H.loading.show(),console.log(l,c,u),await VE(u,l,c).then(h=>{const f=h.user;console.log(f.email),H.loading.hide(),H.alert(""+f.email+"<br> 로그인 성공!",{ycb:()=>{e("/")}})}).catch(h=>{console.log(h.code,h);const f=n[h.code];H.loading.hide(),H.alert(f,{tit:"로그인 실패"})}),i.current.checked==!1&&X$(u,dy).then(()=>VE(u,l,c)).catch(h=>{const f=h.code,p=h.message;console.log(f,"====",p)})},a=()=>{const l=i.current.checked;if(console.log(l),l){const c=`
        자동로그인을 사용하시면<br> 
        다음부터 회원아이디와 비밀번호를<br>
        입력하실 필요가 없습니다.<br><br>
        공공장소에서는 개인정보가 유출될 수 있으니 사용을 자제하여 주십시오.<br><br>
        자동로그인을 사용하시겠습니까?
      `;H.confirm(c,{tit:"로그인 설정",ycb:()=>{i.current.checked=!0},ncb:()=>{i.current.checked=!1},ybt:"예",nbt:"아니오"})}};return I.useEffect(()=>(window.scrollTo(0,0),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page user sign in",children:d.jsx("main",{className:"contents",children:d.jsxs("div",{className:"sign-form",children:[d.jsx("div",{className:"hdt",children:"로그인"}),d.jsxs("ul",{className:"list",children:[d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"이메일 (user@test.com) "}),d.jsx("div",{className:"dd",children:d.jsx("span",{className:"input",children:d.jsx("input",{type:"email",ref:r,placeholder:"입력하세요"})})})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"비밀번호 (123456) "}),d.jsx("div",{className:"dd",children:d.jsx("span",{className:"input",children:d.jsx("input",{type:"password",ref:s,placeholder:"입력하세요"})})})]})]}),d.jsx("div",{className:"savelogin",children:d.jsxs("label",{className:"checkbox",children:[d.jsx("input",{type:"checkbox",ref:i,onChange:a}),d.jsx("span",{className:"txt",children:"자동 로그인"})]})}),d.jsx("div",{className:"btsbox btn-set",children:d.jsxs("button",{type:"button",className:"btn",onClick:o,children:[d.jsx("i",{className:"fa-regular fa-right-to-bracket"}),d.jsx("em",{children:"로그인"})]})}),d.jsx("div",{className:"link",children:d.jsxs(He,{className:"bt",to:"/user/signup",children:["회원가입하러 가기 ",d.jsx("i",{className:"fa-regular fa-chevron-right"})]})})]})})})]})}function x6(){let t=Yt();I.useRef(),I.useRef(),I.useRef();const e=async()=>{const n=hh();tF(n).then(()=>{t("/")}).catch(r=>{console.log(r)})};return I.useEffect(()=>(window.scrollTo(0,0),e(),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page user sign out",children:d.jsx("main",{className:"contents"})})]})}function R6(){let t=Cn();Qt();let e=Yt();t.menu;const[n,r,s,i]=[I.useRef(),I.useRef(),I.useRef(),I.useRef()],o={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},[a,l]=I.useState({isMail:!1,isPwds:!1,isNick:!1});console.log(a);const c=h=>{const f={mail:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,pass:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,15}$/,nick:/^[a-zA-Z0-9가-힣]{1,15}$/};switch(h.name){case"email":l(p=>({...p,isMail:f.mail.test(h.value)}));break;case"password":l(p=>({...p,isPwds:f.pass.test(h.value)}));break;case"nickname":l(p=>({...p,isNick:f.nick.test(h.value)}));break}},u={joinReq:async()=>{console.log(document.querySelector('[name="avatar"]:checked').value),console.log(n.current.value),console.log(r.current.value),console.log(s.current.value),H.loading.show();const h=n.current.value,f=r.current.value,p=hh();Q$(p,h,f).then(_=>{const g=_.user;console.log(g),console.log("uid : "+g.uid),console.log("액세스토큰: "+g.accessToken);const v="/";u.addMember(g,v)}).catch(_=>{H.loading.hide(),console.log(_.code);const g=o[_.code];H.alert(g)}),await Y$(user).then(()=>{H.alert(`[${h}] 으로 인증 이메일이 전송되었습니다. `)}).catch(_=>{})},addMember:async(h,f)=>{await o2(I_(lh,"member",h.uid),{id:h.uid,email:h.email,nick:s.current.value,avatar:document.querySelector('[name="avatar"]:checked').value,liked:[],date:new Date}).then(()=>{H.loading.show(),console.log("멤버 생성: "),H.alert("가입되었습니다.",{ycb:()=>{e(f)}})}).catch(p=>{console.error("멤버 생성 Error : ",p)})}};return console.log(a.isMail,a.isPwds,a.isNick,a.isMail&&a.isPwds&&a.isNick),I.useEffect(()=>(window.scrollTo(0,0),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page user sign up",children:d.jsx("main",{className:"contents",children:d.jsxs("div",{className:"sign-form",children:[d.jsx("div",{className:"hdt",children:"회원가입"}),d.jsxs("ul",{className:"list",children:[d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"아바타"}),d.jsx("div",{className:"dd",children:d.jsx("div",{className:"ut-avata",children:Pe.state.avatar.map((h,f)=>d.jsxs("label",{children:[d.jsx("input",{type:"radio",name:"avatar",ref:i,value:f,defaultChecked:f==0}),d.jsx("span",{className:"txt",children:d.jsx("img",{className:"img",src:h,alt:""})})]},f))})})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"이메일"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:n,name:"email",type:"email",placeholder:"예) test@naver.com",onInput:h=>c(h.currentTarget),"data-webkit-autofill":!0})}),a.isMail?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"이메일 형식에 맞게 입력해주세요."})]})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"비밀번호"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:r,name:"password",type:"password",placeholder:"예) abc123",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isPwds?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"문자,숫자 포함 6자리 이상 입력해주세요."})]})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"닉네임"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:s,name:"nickname",type:"text",placeholder:"입력하세요",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isNick?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"특수문자 제외하고 입력해주세요."})]})]})]}),d.jsx("div",{className:"btsbox btn-set",children:d.jsxs("button",{type:"button",className:"btn",disabled:!(a.isMail&&a.isPwds&&a.isNick),onClick:u.joinReq,children:[d.jsx("i",{className:"fa-regular fa-right-to-bracket"}),d.jsx("em",{children:"회원가입"})]})}),d.jsxs("div",{className:"link",children:["이미 회원이신가요? ",d.jsxs(He,{className:"bt",to:"/user/signin",children:["로그인 하러가기 ",d.jsx("i",{className:"fa-regular fa-chevron-right"})]})]})]})})})]})}function N6(){let t=Cn();console.log(t),Qt(),Yt();let e=t.id;const[n,r]=I.useState({}),s=async i=>{const o=I_(lh,"member",i),a=await T1(o);a.exists()?r({id:a.id,uid:a.data().uid,nick:a.data().nick,avatar:a.data().avatar,email:a.data().email,date:H.dateForm(a.data().date.toDate()),liked:a.data().liked.length}):console.log("No such document!"),document.querySelector(".page.user").classList.add("load"),document.querySelector(".header .htit").innerText=n.nick||"",H.loading.hide()};return I.useEffect(()=>(window.scrollTo(0,0),console.log(e,t),s(e),()=>{}),[n.nick]),console.log(Pe),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page user view",children:d.jsx("main",{className:"contents",children:Pe!=null&&Pe.state?d.jsxs("div",{className:"profile",children:[d.jsxs("div",{className:"user",children:[d.jsx("span",{className:"pic",children:d.jsx("img",{src:Pe.state.avatar[n.avatar],className:"img"})}),d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"num b",children:[d.jsx("b",{className:"n",children:n.bbsNum||0}),d.jsx("p",{className:"t",children:"Post"})]}),d.jsxs("div",{className:"num p",children:[d.jsx("b",{className:"n",children:n.photoNum||0}),d.jsx("p",{className:"t",children:"Reply"})]}),d.jsxs("div",{className:"num l",children:[d.jsx("b",{className:"n",children:n.liked||0}),d.jsx("p",{className:"t",children:"Liked"})]})]})]}),d.jsxs("div",{className:"desc",children:[d.jsxs("span",{className:"txt",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," Join : ",n.date]}),d.jsxs("span",{className:"txt",children:[d.jsx("i",{className:"fa-regular fa-envelope"})," ",n.email]})]}),d.jsx("div",{className:"bts bot",children:d.jsxs(He,{to:"/user/signout",className:"btn logout",children:[d.jsx("i",{className:"fa-regular fa-right-from-bracket"}),"Logout"]})})]}):null})})]})}function A6(){const t=JSON.parse(sessionStorage.getItem("user"));return t&&(store.state.userInfo.stat=!0,store.state.userInfo.uid=t==null?void 0:t.uid,store.state.userInfo.email=t==null?void 0:t.email,store.state.userInfo.join=new Date(parseInt(t==null?void 0:t.createdAt))),d.jsx(d.Fragment,{children:d.jsxs(gP,{children:[d.jsxs(Fv,{children:[d.jsx(te,{path:"*",element:d.jsx(Sc,{})}),d.jsx(te,{path:"home/*",element:d.jsx(Uo,{prop:{headerType:"main"}})}),d.jsx(te,{path:"list/*",element:d.jsx(Uo,{prop:{headerType:"main"}})}),d.jsx(te,{path:"search/*",element:d.jsx(Uo,{prop:{headerType:"main"}})}),d.jsx(te,{path:"movie/*",element:d.jsx(Uo,{prop:{headerType:"main"}})}),d.jsx(te,{path:"user",children:d.jsx(te,{path:":id",element:d.jsx(Uo,{prop:{headerType:"sub"}})})})]}),d.jsxs(Fv,{children:[d.jsx(te,{path:"*",element:d.jsx(Sc,{})}),d.jsx(te,{path:"/",element:d.jsx(cP,{to:"/home/"})}),d.jsx(te,{path:"home",element:d.jsx(gw,{})}),d.jsx(te,{path:"home/:menu",element:d.jsx(gw,{}),children:d.jsxs(te,{path:":id",element:d.jsx(Ic,{prop:{page:"home"}}),children:[d.jsx(te,{path:"poster/:nums",element:d.jsx(Cc,{})}),d.jsx(te,{path:"person/:nums",element:d.jsx(xc,{})}),d.jsx(te,{path:"videos/:nums",element:d.jsx(Rc,{})})]})}),d.jsx(te,{path:"list",children:d.jsx(te,{path:":menu",children:d.jsx(te,{path:":cate",element:d.jsx(w6,{}),children:d.jsxs(te,{path:":id",element:d.jsx(Ic,{prop:{page:"search"}}),children:[d.jsx(te,{path:"poster/:nums",element:d.jsx(Cc,{})}),d.jsx(te,{path:"person/:nums",element:d.jsx(xc,{})}),d.jsx(te,{path:"videos/:nums",element:d.jsx(Rc,{})})]})})})}),d.jsxs(te,{path:":menu",children:[d.jsx(te,{path:"*",element:d.jsx(Sc,{})}),d.jsxs(te,{path:":id",element:d.jsx(Ic,{prop:{page:"page"}}),children:[d.jsx(te,{path:"poster/:nums",element:d.jsx(Cc,{})}),d.jsx(te,{path:"person/:nums",element:d.jsx(xc,{})}),d.jsx(te,{path:"videos/:nums",element:d.jsx(Rc,{})})]})]}),d.jsx(te,{path:"search",children:d.jsxs(te,{path:":menu",element:d.jsx(_w,{}),children:[d.jsxs(te,{path:":id",element:d.jsx(Ic,{prop:{page:"search"}}),children:[d.jsx(te,{path:"poster/:nums",element:d.jsx(Cc,{prop:{page:"search"}})}),d.jsx(te,{path:"person/:nums",element:d.jsx(xc,{prop:{page:"search"}})}),d.jsx(te,{path:"videos/:nums",element:d.jsx(Rc,{prop:{page:"search"}})})]}),d.jsx(te,{path:":keyword",element:d.jsx(_w,{})})]})}),d.jsxs(te,{path:"user",children:[d.jsx(te,{path:"*",element:d.jsx(Sc,{})}),d.jsx(te,{path:"signin",element:d.jsx(C6,{})}),d.jsx(te,{path:"signout",element:d.jsx(x6,{})}),d.jsx(te,{path:"signup",element:d.jsx(R6,{})}),d.jsx(te,{path:":id",element:d.jsx(N6,{})})]})]}),d.jsx(fU,{})]})})}Of.createRoot(document.getElementById("root")).render(d.jsx(Le.StrictMode,{children:d.jsx(A6,{})}));

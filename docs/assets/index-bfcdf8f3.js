function JP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function jC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $C={exports:{}},Kh={},FC={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oc=Symbol.for("react.element"),ZP=Symbol.for("react.portal"),eL=Symbol.for("react.fragment"),tL=Symbol.for("react.strict_mode"),nL=Symbol.for("react.profiler"),rL=Symbol.for("react.provider"),sL=Symbol.for("react.context"),iL=Symbol.for("react.forward_ref"),oL=Symbol.for("react.suspense"),aL=Symbol.for("react.memo"),lL=Symbol.for("react.lazy"),C0=Symbol.iterator;function cL(t){return t===null||typeof t!="object"?null:(t=C0&&t[C0]||t["@@iterator"],typeof t=="function"?t:null)}var UC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BC=Object.assign,zC={};function va(t,e,n){this.props=t,this.context=e,this.refs=zC,this.updater=n||UC}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HC(){}HC.prototype=va.prototype;function iv(t,e,n){this.props=t,this.context=e,this.refs=zC,this.updater=n||UC}var ov=iv.prototype=new HC;ov.constructor=iv;BC(ov,va.prototype);ov.isPureReactComponent=!0;var I0=Array.isArray,WC=Object.prototype.hasOwnProperty,av={current:null},qC={key:!0,ref:!0,__self:!0,__source:!0};function GC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)WC.call(e,r)&&!qC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Oc,type:t,key:i,ref:o,props:s,_owner:av.current}}function uL(t,e){return{$$typeof:Oc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function lv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Oc}function dL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var R0=/\/+/g;function Op(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dL(""+t.key):e.toString(36)}function cd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Oc:case ZP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Op(o,0):r,I0(s)?(n="",t!=null&&(n=t.replace(R0,"$&/")+"/"),cd(s,e,n,"",function(c){return c})):s!=null&&(lv(s)&&(s=uL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(R0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",I0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Op(i,a);o+=cd(i,e,n,l,s)}else if(l=cL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Op(i,a++),o+=cd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Iu(t,e,n){if(t==null)return t;var r=[],s=0;return cd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function hL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},ud={transition:null},fL={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:ud,ReactCurrentOwner:av};Re.Children={map:Iu,forEach:function(t,e,n){Iu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Iu(t,function(){e++}),e},toArray:function(t){return Iu(t,function(e){return e})||[]},only:function(t){if(!lv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=va;Re.Fragment=eL;Re.Profiler=nL;Re.PureComponent=iv;Re.StrictMode=tL;Re.Suspense=oL;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fL;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=BC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=av.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)WC.call(e,l)&&!qC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Oc,type:t.type,key:s,ref:i,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:sL,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:rL,_context:t},t.Consumer=t};Re.createElement=GC;Re.createFactory=function(t){var e=GC.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:iL,render:t}};Re.isValidElement=lv;Re.lazy=function(t){return{$$typeof:lL,_payload:{_status:-1,_result:t},_init:hL}};Re.memo=function(t,e){return{$$typeof:aL,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=ud.transition;ud.transition={};try{t()}finally{ud.transition=e}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(t,e){return cn.current.useCallback(t,e)};Re.useContext=function(t){return cn.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};Re.useEffect=function(t,e){return cn.current.useEffect(t,e)};Re.useId=function(){return cn.current.useId()};Re.useImperativeHandle=function(t,e,n){return cn.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return cn.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return cn.current.useReducer(t,e,n)};Re.useRef=function(t){return cn.current.useRef(t)};Re.useState=function(t){return cn.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return cn.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return cn.current.useTransition()};Re.version="18.2.0";FC.exports=Re;var T=FC.exports;const pe=jC(T),x0=JP({__proto__:null,default:pe},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pL=T,mL=Symbol.for("react.element"),gL=Symbol.for("react.fragment"),_L=Object.prototype.hasOwnProperty,vL=pL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yL={key:!0,ref:!0,__self:!0,__source:!0};function KC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)_L.call(e,r)&&!yL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:mL,type:t,key:i,ref:o,props:s,_owner:vL.current}}Kh.Fragment=gL;Kh.jsx=KC;Kh.jsxs=KC;$C.exports=Kh;var d=$C.exports,eg={},QC={exports:{}},Pn={},YC={exports:{}},XC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,O){var W=V.length;V.push(O);e:for(;0<W;){var ae=W-1>>>1,I=V[ae];if(0<s(I,O))V[ae]=O,V[W]=I,W=ae;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var O=V[0],W=V.pop();if(W!==O){V[0]=W;e:for(var ae=0,I=V.length,j=I>>>1;ae<j;){var $=2*(ae+1)-1,re=V[$],J=$+1,_e=V[J];if(0>s(re,W))J<I&&0>s(_e,re)?(V[ae]=_e,V[J]=W,ae=J):(V[ae]=re,V[$]=W,ae=$);else if(J<I&&0>s(_e,W))V[ae]=_e,V[J]=W,ae=J;else break e}}return O}function s(V,O){var W=V.sortIndex-O.sortIndex;return W!==0?W:V.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(V){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=V)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function S(V){if(g=!1,y(V),!m)if(n(l)!==null)m=!0,Ee(w);else{var O=n(c);O!==null&&we(S,O.startTime-V)}}function w(V,O){m=!1,g&&(g=!1,_(k),k=-1),p=!0;var W=f;try{for(y(O),h=n(l);h!==null&&(!(h.expirationTime>O)||V&&!P());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var I=ae(h.expirationTime<=O);O=t.unstable_now(),typeof I=="function"?h.callback=I:h===n(l)&&r(l),y(O)}else r(l);h=n(l)}if(h!==null)var j=!0;else{var $=n(c);$!==null&&we(S,$.startTime-O),j=!1}return j}finally{h=null,f=W,p=!1}}var N=!1,A=null,k=-1,G=5,M=-1;function P(){return!(t.unstable_now()-M<G)}function x(){if(A!==null){var V=t.unstable_now();M=V;var O=!0;try{O=A(!0,V)}finally{O?b():(N=!1,A=null)}}else N=!1}var b;if(typeof v=="function")b=function(){v(x)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,se=H.port2;H.port1.onmessage=x,b=function(){se.postMessage(null)}}else b=function(){E(x,0)};function Ee(V){A=V,N||(N=!0,b())}function we(V,O){k=E(function(){V(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Ee(w))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var W=f;f=O;try{return V()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,O){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var W=f;f=V;try{return O()}finally{f=W}},t.unstable_scheduleCallback=function(V,O,W){var ae=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ae+W:ae):W=ae,V){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=W+I,V={id:u++,callback:O,priorityLevel:V,startTime:W,expirationTime:I,sortIndex:-1},W>ae?(V.sortIndex=W,e(c,V),n(l)===null&&V===n(c)&&(g?(_(k),k=-1):g=!0,we(S,W-ae))):(V.sortIndex=I,e(l,V),m||p||(m=!0,Ee(w))),V},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(V){var O=f;return function(){var W=f;f=O;try{return V.apply(this,arguments)}finally{f=W}}}})(XC);YC.exports=XC;var EL=YC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JC=T,bn=EL;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ZC=new Set,Wl={};function Gi(t,e){Go(t,e),Go(t+"Capture",e)}function Go(t,e){for(Wl[t]=e,t=0;t<e.length;t++)ZC.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tg=Object.prototype.hasOwnProperty,SL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,N0={},A0={};function wL(t){return tg.call(A0,t)?!0:tg.call(N0,t)?!1:SL.test(t)?A0[t]=!0:(N0[t]=!0,!1)}function TL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function CL(t,e,n,r){if(e===null||typeof e>"u"||TL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var cv=/[\-:]([a-z])/g;function uv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(cv,uv);jt[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(cv,uv);jt[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(cv,uv);jt[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function dv(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(CL(e,n,s,r)&&(n=null),r||s===null?wL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ds=JC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ru=Symbol.for("react.element"),mo=Symbol.for("react.portal"),go=Symbol.for("react.fragment"),hv=Symbol.for("react.strict_mode"),ng=Symbol.for("react.profiler"),eI=Symbol.for("react.provider"),tI=Symbol.for("react.context"),fv=Symbol.for("react.forward_ref"),rg=Symbol.for("react.suspense"),sg=Symbol.for("react.suspense_list"),pv=Symbol.for("react.memo"),Es=Symbol.for("react.lazy"),nI=Symbol.for("react.offscreen"),b0=Symbol.iterator;function Fa(t){return t===null||typeof t!="object"?null:(t=b0&&t[b0]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Dp;function cl(t){if(Dp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Dp=e&&e[1]||""}return`
`+Dp+t}var Mp=!1;function Vp(t,e){if(!t||Mp)return"";Mp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Mp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?cl(t):""}function IL(t){switch(t.tag){case 5:return cl(t.type);case 16:return cl("Lazy");case 13:return cl("Suspense");case 19:return cl("SuspenseList");case 0:case 2:case 15:return t=Vp(t.type,!1),t;case 11:return t=Vp(t.type.render,!1),t;case 1:return t=Vp(t.type,!0),t;default:return""}}function ig(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case go:return"Fragment";case mo:return"Portal";case ng:return"Profiler";case hv:return"StrictMode";case rg:return"Suspense";case sg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tI:return(t.displayName||"Context")+".Consumer";case eI:return(t._context.displayName||"Context")+".Provider";case fv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case pv:return e=t.displayName||null,e!==null?e:ig(t.type)||"Memo";case Es:e=t._payload,t=t._init;try{return ig(t(e))}catch{}}return null}function RL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ig(e);case 8:return e===hv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function xL(t){var e=rI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xu(t){t._valueTracker||(t._valueTracker=xL(t))}function sI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Od(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function og(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function k0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function iI(t,e){e=e.checked,e!=null&&dv(t,"checked",e,!1)}function ag(t,e){iI(t,e);var n=qs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lg(t,e.type,n):e.hasOwnProperty("defaultValue")&&lg(t,e.type,qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function P0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lg(t,e,n){(e!=="number"||Od(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ul=Array.isArray;function ko(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function cg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function L0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ul(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qs(n)}}function oI(t,e){var n=qs(e.value),r=qs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function O0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ug(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Nu,lI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Nu=Nu||document.createElement("div"),Nu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Nu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ql(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},NL=["Webkit","ms","Moz","O"];Object.keys(wl).forEach(function(t){NL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wl[e]=wl[t]})});function cI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wl.hasOwnProperty(t)&&wl[t]?(""+e).trim():e+"px"}function uI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=cI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var AL=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dg(t,e){if(e){if(AL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function hg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fg=null;function mv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pg=null,Po=null,Lo=null;function D0(t){if(t=Vc(t)){if(typeof pg!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Zh(e),pg(t.stateNode,t.type,e))}}function dI(t){Po?Lo?Lo.push(t):Lo=[t]:Po=t}function hI(){if(Po){var t=Po,e=Lo;if(Lo=Po=null,D0(t),e)for(t=0;t<e.length;t++)D0(e[t])}}function fI(t,e){return t(e)}function pI(){}var jp=!1;function mI(t,e,n){if(jp)return t(e,n);jp=!0;try{return fI(t,e,n)}finally{jp=!1,(Po!==null||Lo!==null)&&(pI(),hI())}}function Gl(t,e){var n=t.stateNode;if(n===null)return null;var r=Zh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var mg=!1;if(Jr)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){mg=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{mg=!1}function bL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Tl=!1,Dd=null,Md=!1,gg=null,kL={onError:function(t){Tl=!0,Dd=t}};function PL(t,e,n,r,s,i,o,a,l){Tl=!1,Dd=null,bL.apply(kL,arguments)}function LL(t,e,n,r,s,i,o,a,l){if(PL.apply(this,arguments),Tl){if(Tl){var c=Dd;Tl=!1,Dd=null}else throw Error(U(198));Md||(Md=!0,gg=c)}}function Ki(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function M0(t){if(Ki(t)!==t)throw Error(U(188))}function OL(t){var e=t.alternate;if(!e){if(e=Ki(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return M0(s),t;if(i===r)return M0(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function _I(t){return t=OL(t),t!==null?vI(t):null}function vI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vI(t);if(e!==null)return e;t=t.sibling}return null}var yI=bn.unstable_scheduleCallback,V0=bn.unstable_cancelCallback,DL=bn.unstable_shouldYield,ML=bn.unstable_requestPaint,ct=bn.unstable_now,VL=bn.unstable_getCurrentPriorityLevel,gv=bn.unstable_ImmediatePriority,EI=bn.unstable_UserBlockingPriority,Vd=bn.unstable_NormalPriority,jL=bn.unstable_LowPriority,SI=bn.unstable_IdlePriority,Qh=null,yr=null;function $L(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Qh,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:BL,FL=Math.log,UL=Math.LN2;function BL(t){return t>>>=0,t===0?32:31-(FL(t)/UL|0)|0}var Au=64,bu=4194304;function dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=dl(a):(i&=o,i!==0&&(r=dl(i)))}else o=n&~s,o!==0?r=dl(o):i!==0&&(r=dl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),s=1<<n,r|=t[n],e&=~s;return r}function zL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-sr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=zL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function _g(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wI(){var t=Au;return Au<<=1,!(Au&4194240)&&(Au=64),t}function $p(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Dc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function WL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-sr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function _v(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function TI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var CI,vv,II,RI,xI,vg=!1,ku=[],ks=null,Ps=null,Ls=null,Kl=new Map,Ql=new Map,Ts=[],qL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j0(t,e){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":Kl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(e.pointerId)}}function Ba(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Vc(e),e!==null&&vv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function GL(t,e,n,r,s){switch(e){case"focusin":return ks=Ba(ks,t,e,n,r,s),!0;case"dragenter":return Ps=Ba(Ps,t,e,n,r,s),!0;case"mouseover":return Ls=Ba(Ls,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Kl.set(i,Ba(Kl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Ql.set(i,Ba(Ql.get(i)||null,t,e,n,r,s)),!0}return!1}function NI(t){var e=vi(t.target);if(e!==null){var n=Ki(e);if(n!==null){if(e=n.tag,e===13){if(e=gI(n),e!==null){t.blockedOn=e,xI(t.priority,function(){II(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);fg=r,n.target.dispatchEvent(r),fg=null}else return e=Vc(n),e!==null&&vv(e),t.blockedOn=n,!1;e.shift()}return!0}function $0(t,e,n){dd(t)&&n.delete(e)}function KL(){vg=!1,ks!==null&&dd(ks)&&(ks=null),Ps!==null&&dd(Ps)&&(Ps=null),Ls!==null&&dd(Ls)&&(Ls=null),Kl.forEach($0),Ql.forEach($0)}function za(t,e){t.blockedOn===e&&(t.blockedOn=null,vg||(vg=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,KL)))}function Yl(t){function e(s){return za(s,t)}if(0<ku.length){za(ku[0],t);for(var n=1;n<ku.length;n++){var r=ku[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ks!==null&&za(ks,t),Ps!==null&&za(Ps,t),Ls!==null&&za(Ls,t),Kl.forEach(e),Ql.forEach(e),n=0;n<Ts.length;n++)r=Ts[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ts.length&&(n=Ts[0],n.blockedOn===null);)NI(n),n.blockedOn===null&&Ts.shift()}var Oo=ds.ReactCurrentBatchConfig,$d=!0;function QL(t,e,n,r){var s=Me,i=Oo.transition;Oo.transition=null;try{Me=1,yv(t,e,n,r)}finally{Me=s,Oo.transition=i}}function YL(t,e,n,r){var s=Me,i=Oo.transition;Oo.transition=null;try{Me=4,yv(t,e,n,r)}finally{Me=s,Oo.transition=i}}function yv(t,e,n,r){if($d){var s=yg(t,e,n,r);if(s===null)Qp(t,e,r,Fd,n),j0(t,r);else if(GL(s,t,e,n,r))r.stopPropagation();else if(j0(t,r),e&4&&-1<qL.indexOf(t)){for(;s!==null;){var i=Vc(s);if(i!==null&&CI(i),i=yg(t,e,n,r),i===null&&Qp(t,e,r,Fd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Qp(t,e,r,null,n)}}var Fd=null;function yg(t,e,n,r){if(Fd=null,t=mv(r),t=vi(t),t!==null)if(e=Ki(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fd=t,null}function AI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VL()){case gv:return 1;case EI:return 4;case Vd:case jL:return 16;case SI:return 536870912;default:return 16}default:return 16}}var Is=null,Ev=null,hd=null;function bI(){if(hd)return hd;var t,e=Ev,n=e.length,r,s="value"in Is?Is.value:Is.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return hd=s.slice(t,1<r?1-r:void 0)}function fd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pu(){return!0}function F0(){return!1}function Ln(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Pu:F0,this.isPropagationStopped=F0,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pu)},persist:function(){},isPersistent:Pu}),e}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sv=Ln(ya),Mc=it({},ya,{view:0,detail:0}),XL=Ln(Mc),Fp,Up,Ha,Yh=it({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ha&&(Ha&&t.type==="mousemove"?(Fp=t.screenX-Ha.screenX,Up=t.screenY-Ha.screenY):Up=Fp=0,Ha=t),Fp)},movementY:function(t){return"movementY"in t?t.movementY:Up}}),U0=Ln(Yh),JL=it({},Yh,{dataTransfer:0}),ZL=Ln(JL),eO=it({},Mc,{relatedTarget:0}),Bp=Ln(eO),tO=it({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),nO=Ln(tO),rO=it({},ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sO=Ln(rO),iO=it({},ya,{data:0}),B0=Ln(iO),oO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function cO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lO[t])?!!e[t]:!1}function wv(){return cO}var uO=it({},Mc,{key:function(t){if(t.key){var e=oO[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=fd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wv,charCode:function(t){return t.type==="keypress"?fd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dO=Ln(uO),hO=it({},Yh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),z0=Ln(hO),fO=it({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wv}),pO=Ln(fO),mO=it({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),gO=Ln(mO),_O=it({},Yh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),vO=Ln(_O),yO=[9,13,27,32],Tv=Jr&&"CompositionEvent"in window,Cl=null;Jr&&"documentMode"in document&&(Cl=document.documentMode);var EO=Jr&&"TextEvent"in window&&!Cl,kI=Jr&&(!Tv||Cl&&8<Cl&&11>=Cl),H0=String.fromCharCode(32),W0=!1;function PI(t,e){switch(t){case"keyup":return yO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _o=!1;function SO(t,e){switch(t){case"compositionend":return LI(e);case"keypress":return e.which!==32?null:(W0=!0,H0);case"textInput":return t=e.data,t===H0&&W0?null:t;default:return null}}function wO(t,e){if(_o)return t==="compositionend"||!Tv&&PI(t,e)?(t=bI(),hd=Ev=Is=null,_o=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return kI&&e.locale!=="ko"?null:e.data;default:return null}}var TO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TO[t.type]:e==="textarea"}function OI(t,e,n,r){dI(r),e=Ud(e,"onChange"),0<e.length&&(n=new Sv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Il=null,Xl=null;function CO(t){WI(t,0)}function Xh(t){var e=Eo(t);if(sI(e))return t}function IO(t,e){if(t==="change")return e}var DI=!1;if(Jr){var zp;if(Jr){var Hp="oninput"in document;if(!Hp){var G0=document.createElement("div");G0.setAttribute("oninput","return;"),Hp=typeof G0.oninput=="function"}zp=Hp}else zp=!1;DI=zp&&(!document.documentMode||9<document.documentMode)}function K0(){Il&&(Il.detachEvent("onpropertychange",MI),Xl=Il=null)}function MI(t){if(t.propertyName==="value"&&Xh(Xl)){var e=[];OI(e,Xl,t,mv(t)),mI(CO,e)}}function RO(t,e,n){t==="focusin"?(K0(),Il=e,Xl=n,Il.attachEvent("onpropertychange",MI)):t==="focusout"&&K0()}function xO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xh(Xl)}function NO(t,e){if(t==="click")return Xh(e)}function AO(t,e){if(t==="input"||t==="change")return Xh(e)}function bO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:bO;function Jl(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!tg.call(e,s)||!ar(t[s],e[s]))return!1}return!0}function Q0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Y0(t,e){var n=Q0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Q0(n)}}function VI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function jI(){for(var t=window,e=Od();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Od(t.document)}return e}function Cv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function kO(t){var e=jI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VI(n.ownerDocument.documentElement,n)){if(r!==null&&Cv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Y0(n,i);var o=Y0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var PO=Jr&&"documentMode"in document&&11>=document.documentMode,vo=null,Eg=null,Rl=null,Sg=!1;function X0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Sg||vo==null||vo!==Od(r)||(r=vo,"selectionStart"in r&&Cv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rl&&Jl(Rl,r)||(Rl=r,r=Ud(Eg,"onSelect"),0<r.length&&(e=new Sv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=vo)))}function Lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yo={animationend:Lu("Animation","AnimationEnd"),animationiteration:Lu("Animation","AnimationIteration"),animationstart:Lu("Animation","AnimationStart"),transitionend:Lu("Transition","TransitionEnd")},Wp={},$I={};Jr&&($I=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function Jh(t){if(Wp[t])return Wp[t];if(!yo[t])return t;var e=yo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in $I)return Wp[t]=e[n];return t}var FI=Jh("animationend"),UI=Jh("animationiteration"),BI=Jh("animationstart"),zI=Jh("transitionend"),HI=new Map,J0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zs(t,e){HI.set(t,e),Gi(e,[t])}for(var qp=0;qp<J0.length;qp++){var Gp=J0[qp],LO=Gp.toLowerCase(),OO=Gp[0].toUpperCase()+Gp.slice(1);Zs(LO,"on"+OO)}Zs(FI,"onAnimationEnd");Zs(UI,"onAnimationIteration");Zs(BI,"onAnimationStart");Zs("dblclick","onDoubleClick");Zs("focusin","onFocus");Zs("focusout","onBlur");Zs(zI,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DO=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function Z0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,LL(r,e,void 0,t),t.currentTarget=null}function WI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Z0(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Z0(s,a,c),i=l}}}if(Md)throw t=gg,Md=!1,gg=null,t}function ze(t,e){var n=e[Rg];n===void 0&&(n=e[Rg]=new Set);var r=t+"__bubble";n.has(r)||(qI(e,t,2,!1),n.add(r))}function Kp(t,e,n){var r=0;e&&(r|=4),qI(n,t,r,e)}var Ou="_reactListening"+Math.random().toString(36).slice(2);function Zl(t){if(!t[Ou]){t[Ou]=!0,ZC.forEach(function(n){n!=="selectionchange"&&(DO.has(n)||Kp(n,!1,t),Kp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ou]||(e[Ou]=!0,Kp("selectionchange",!1,e))}}function qI(t,e,n,r){switch(AI(e)){case 1:var s=QL;break;case 4:s=YL;break;default:s=yv}n=s.bind(null,e,n,t),s=void 0,!mg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Qp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=vi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}mI(function(){var c=i,u=mv(n),h=[];e:{var f=HI.get(t);if(f!==void 0){var p=Sv,m=t;switch(t){case"keypress":if(fd(n)===0)break e;case"keydown":case"keyup":p=dO;break;case"focusin":m="focus",p=Bp;break;case"focusout":m="blur",p=Bp;break;case"beforeblur":case"afterblur":p=Bp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=U0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ZL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=pO;break;case FI:case UI:case BI:p=nO;break;case zI:p=gO;break;case"scroll":p=XL;break;case"wheel":p=vO;break;case"copy":case"cut":case"paste":p=sO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=z0}var g=(e&4)!==0,E=!g&&t==="scroll",_=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,y;v!==null;){y=v;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,_!==null&&(S=Gl(v,_),S!=null&&g.push(ec(v,S,y)))),E)break;v=v.return}0<g.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==fg&&(m=n.relatedTarget||n.fromElement)&&(vi(m)||m[Zr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?vi(m):null,m!==null&&(E=Ki(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=U0,S="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=z0,S="onPointerLeave",_="onPointerEnter",v="pointer"),E=p==null?f:Eo(p),y=m==null?f:Eo(m),f=new g(S,v+"leave",p,n,u),f.target=E,f.relatedTarget=y,S=null,vi(u)===c&&(g=new g(_,v+"enter",m,n,u),g.target=y,g.relatedTarget=E,S=g),E=S,p&&m)t:{for(g=p,_=m,v=0,y=g;y;y=io(y))v++;for(y=0,S=_;S;S=io(S))y++;for(;0<v-y;)g=io(g),v--;for(;0<y-v;)_=io(_),y--;for(;v--;){if(g===_||_!==null&&g===_.alternate)break t;g=io(g),_=io(_)}g=null}else g=null;p!==null&&eS(h,f,p,g,!1),m!==null&&E!==null&&eS(h,E,m,g,!0)}}e:{if(f=c?Eo(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=IO;else if(q0(f))if(DI)w=AO;else{w=xO;var N=RO}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=NO);if(w&&(w=w(t,c))){OI(h,w,n,u);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&lg(f,"number",f.value)}switch(N=c?Eo(c):window,t){case"focusin":(q0(N)||N.contentEditable==="true")&&(vo=N,Eg=c,Rl=null);break;case"focusout":Rl=Eg=vo=null;break;case"mousedown":Sg=!0;break;case"contextmenu":case"mouseup":case"dragend":Sg=!1,X0(h,n,u);break;case"selectionchange":if(PO)break;case"keydown":case"keyup":X0(h,n,u)}var A;if(Tv)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else _o?PI(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(kI&&n.locale!=="ko"&&(_o||k!=="onCompositionStart"?k==="onCompositionEnd"&&_o&&(A=bI()):(Is=u,Ev="value"in Is?Is.value:Is.textContent,_o=!0)),N=Ud(c,k),0<N.length&&(k=new B0(k,t,null,n,u),h.push({event:k,listeners:N}),A?k.data=A:(A=LI(n),A!==null&&(k.data=A)))),(A=EO?SO(t,n):wO(t,n))&&(c=Ud(c,"onBeforeInput"),0<c.length&&(u=new B0("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=A))}WI(h,e)})}function ec(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ud(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Gl(t,n),i!=null&&r.unshift(ec(t,i,s)),i=Gl(t,e),i!=null&&r.push(ec(t,i,s))),t=t.return}return r}function io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eS(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Gl(n,i),l!=null&&o.unshift(ec(n,l,a))):s||(l=Gl(n,i),l!=null&&o.push(ec(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var MO=/\r\n?/g,VO=/\u0000|\uFFFD/g;function tS(t){return(typeof t=="string"?t:""+t).replace(MO,`
`).replace(VO,"")}function Du(t,e,n){if(e=tS(e),tS(t)!==e&&n)throw Error(U(425))}function Bd(){}var wg=null,Tg=null;function Cg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ig=typeof setTimeout=="function"?setTimeout:void 0,jO=typeof clearTimeout=="function"?clearTimeout:void 0,nS=typeof Promise=="function"?Promise:void 0,$O=typeof queueMicrotask=="function"?queueMicrotask:typeof nS<"u"?function(t){return nS.resolve(null).then(t).catch(FO)}:Ig;function FO(t){setTimeout(function(){throw t})}function Yp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Yl(e)}function Os(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function rS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),hr="__reactFiber$"+Ea,tc="__reactProps$"+Ea,Zr="__reactContainer$"+Ea,Rg="__reactEvents$"+Ea,UO="__reactListeners$"+Ea,BO="__reactHandles$"+Ea;function vi(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=rS(t);t!==null;){if(n=t[hr])return n;t=rS(t)}return e}t=n,n=t.parentNode}return null}function Vc(t){return t=t[hr]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Zh(t){return t[tc]||null}var xg=[],So=-1;function ei(t){return{current:t}}function Qe(t){0>So||(t.current=xg[So],xg[So]=null,So--)}function Be(t,e){So++,xg[So]=t.current,t.current=e}var Gs={},en=ei(Gs),vn=ei(!1),bi=Gs;function Ko(t,e){var n=t.type.contextTypes;if(!n)return Gs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function yn(t){return t=t.childContextTypes,t!=null}function zd(){Qe(vn),Qe(en)}function sS(t,e,n){if(en.current!==Gs)throw Error(U(168));Be(en,e),Be(vn,n)}function GI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,RL(t)||"Unknown",s));return it({},n,r)}function Hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Gs,bi=en.current,Be(en,t),Be(vn,vn.current),!0}function iS(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=GI(t,e,bi),r.__reactInternalMemoizedMergedChildContext=t,Qe(vn),Qe(en),Be(en,t)):Qe(vn),Be(vn,n)}var Vr=null,ef=!1,Xp=!1;function KI(t){Vr===null?Vr=[t]:Vr.push(t)}function zO(t){ef=!0,KI(t)}function ti(){if(!Xp&&Vr!==null){Xp=!0;var t=0,e=Me;try{var n=Vr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Vr=null,ef=!1}catch(s){throw Vr!==null&&(Vr=Vr.slice(t+1)),yI(gv,ti),s}finally{Me=e,Xp=!1}}return null}var wo=[],To=0,Wd=null,qd=0,Mn=[],Vn=0,ki=null,Br=1,zr="";function fi(t,e){wo[To++]=qd,wo[To++]=Wd,Wd=t,qd=e}function QI(t,e,n){Mn[Vn++]=Br,Mn[Vn++]=zr,Mn[Vn++]=ki,ki=t;var r=Br;t=zr;var s=32-sr(r)-1;r&=~(1<<s),n+=1;var i=32-sr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Br=1<<32-sr(e)+s|n<<s|r,zr=i+t}else Br=1<<i|n<<s|r,zr=t}function Iv(t){t.return!==null&&(fi(t,1),QI(t,1,0))}function Rv(t){for(;t===Wd;)Wd=wo[--To],wo[To]=null,qd=wo[--To],wo[To]=null;for(;t===ki;)ki=Mn[--Vn],Mn[Vn]=null,zr=Mn[--Vn],Mn[Vn]=null,Br=Mn[--Vn],Mn[Vn]=null}var Nn=null,Rn=null,tt=!1,er=null;function YI(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Nn=t,Rn=Os(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Nn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ki!==null?{id:Br,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Nn=t,Rn=null,!0):!1;default:return!1}}function Ng(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ag(t){if(tt){var e=Rn;if(e){var n=e;if(!oS(t,e)){if(Ng(t))throw Error(U(418));e=Os(n.nextSibling);var r=Nn;e&&oS(t,e)?YI(r,n):(t.flags=t.flags&-4097|2,tt=!1,Nn=t)}}else{if(Ng(t))throw Error(U(418));t.flags=t.flags&-4097|2,tt=!1,Nn=t}}}function aS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Nn=t}function Mu(t){if(t!==Nn)return!1;if(!tt)return aS(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cg(t.type,t.memoizedProps)),e&&(e=Rn)){if(Ng(t))throw XI(),Error(U(418));for(;e;)YI(t,e),e=Os(e.nextSibling)}if(aS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=Os(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=Nn?Os(t.stateNode.nextSibling):null;return!0}function XI(){for(var t=Rn;t;)t=Os(t.nextSibling)}function Qo(){Rn=Nn=null,tt=!1}function xv(t){er===null?er=[t]:er.push(t)}var HO=ds.ReactCurrentBatchConfig;function Jn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Gd=ei(null),Kd=null,Co=null,Nv=null;function Av(){Nv=Co=Kd=null}function bv(t){var e=Gd.current;Qe(Gd),t._currentValue=e}function bg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Do(t,e){Kd=t,Nv=Co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(gn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(Nv!==t)if(t={context:t,memoizedValue:e,next:null},Co===null){if(Kd===null)throw Error(U(308));Co=t,Kd.dependencies={lanes:0,firstContext:t}}else Co=Co.next=t;return e}var yi=null;function kv(t){yi===null?yi=[t]:yi.push(t)}function JI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,kv(e)):(n.next=s.next,s.next=n),e.interleaved=n,es(t,r)}function es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ss=!1;function Pv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ds(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,es(t,n)}return s=r.interleaved,s===null?(e.next=e,kv(r)):(e.next=s.next,s.next=e),r.interleaved=e,es(t,n)}function pd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_v(t,n)}}function lS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qd(t,e,n,r){var s=t.updateQueue;Ss=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=it({},h,f);break e;case 2:Ss=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Li|=o,t.lanes=o,t.memoizedState=h}}function cS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var eR=new JC.Component().refs;function kg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var tf={isMounted:function(t){return(t=t._reactInternals)?Ki(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=Vs(t),i=Kr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ds(t,i,s),e!==null&&(ir(e,t,s,r),pd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=Vs(t),i=Kr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ds(t,i,s),e!==null&&(ir(e,t,s,r),pd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Vs(t),s=Kr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ds(t,s,r),e!==null&&(ir(e,t,r,n),pd(e,t,r))}};function uS(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Jl(n,r)||!Jl(s,i):!0}function tR(t,e,n){var r=!1,s=Gs,i=e.contextType;return typeof i=="object"&&i!==null?i=Wn(i):(s=yn(e)?bi:en.current,r=e.contextTypes,i=(r=r!=null)?Ko(t,s):Gs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=tf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function dS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&tf.enqueueReplaceState(e,e.state,null)}function Pg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=eR,Pv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Wn(i):(i=yn(e)?bi:en.current,s.context=Ko(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(kg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&tf.enqueueReplaceState(s,s.state,null),Qd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Wa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===eR&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Vu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function hS(t){var e=t._init;return e(t._payload)}function nR(t){function e(_,v){if(t){var y=_.deletions;y===null?(_.deletions=[v],_.flags|=16):y.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=js(_,v),_.index=0,_.sibling=null,_}function i(_,v,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<v?(_.flags|=2,v):y):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,y,S){return v===null||v.tag!==6?(v=sm(y,_.mode,S),v.return=_,v):(v=s(v,y),v.return=_,v)}function l(_,v,y,S){var w=y.type;return w===go?u(_,v,y.props.children,S,y.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Es&&hS(w)===v.type)?(S=s(v,y.props),S.ref=Wa(_,v,y),S.return=_,S):(S=Ed(y.type,y.key,y.props,null,_.mode,S),S.ref=Wa(_,v,y),S.return=_,S)}function c(_,v,y,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=im(y,_.mode,S),v.return=_,v):(v=s(v,y.children||[]),v.return=_,v)}function u(_,v,y,S,w){return v===null||v.tag!==7?(v=Ri(y,_.mode,S,w),v.return=_,v):(v=s(v,y),v.return=_,v)}function h(_,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=sm(""+v,_.mode,y),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ru:return y=Ed(v.type,v.key,v.props,null,_.mode,y),y.ref=Wa(_,null,v),y.return=_,y;case mo:return v=im(v,_.mode,y),v.return=_,v;case Es:var S=v._init;return h(_,S(v._payload),y)}if(ul(v)||Fa(v))return v=Ri(v,_.mode,y,null),v.return=_,v;Vu(_,v)}return null}function f(_,v,y,S){var w=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:a(_,v,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ru:return y.key===w?l(_,v,y,S):null;case mo:return y.key===w?c(_,v,y,S):null;case Es:return w=y._init,f(_,v,w(y._payload),S)}if(ul(y)||Fa(y))return w!==null?null:u(_,v,y,S,null);Vu(_,y)}return null}function p(_,v,y,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(y)||null,a(v,_,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ru:return _=_.get(S.key===null?y:S.key)||null,l(v,_,S,w);case mo:return _=_.get(S.key===null?y:S.key)||null,c(v,_,S,w);case Es:var N=S._init;return p(_,v,y,N(S._payload),w)}if(ul(S)||Fa(S))return _=_.get(y)||null,u(v,_,S,w,null);Vu(v,S)}return null}function m(_,v,y,S){for(var w=null,N=null,A=v,k=v=0,G=null;A!==null&&k<y.length;k++){A.index>k?(G=A,A=null):G=A.sibling;var M=f(_,A,y[k],S);if(M===null){A===null&&(A=G);break}t&&A&&M.alternate===null&&e(_,A),v=i(M,v,k),N===null?w=M:N.sibling=M,N=M,A=G}if(k===y.length)return n(_,A),tt&&fi(_,k),w;if(A===null){for(;k<y.length;k++)A=h(_,y[k],S),A!==null&&(v=i(A,v,k),N===null?w=A:N.sibling=A,N=A);return tt&&fi(_,k),w}for(A=r(_,A);k<y.length;k++)G=p(A,_,k,y[k],S),G!==null&&(t&&G.alternate!==null&&A.delete(G.key===null?k:G.key),v=i(G,v,k),N===null?w=G:N.sibling=G,N=G);return t&&A.forEach(function(P){return e(_,P)}),tt&&fi(_,k),w}function g(_,v,y,S){var w=Fa(y);if(typeof w!="function")throw Error(U(150));if(y=w.call(y),y==null)throw Error(U(151));for(var N=w=null,A=v,k=v=0,G=null,M=y.next();A!==null&&!M.done;k++,M=y.next()){A.index>k?(G=A,A=null):G=A.sibling;var P=f(_,A,M.value,S);if(P===null){A===null&&(A=G);break}t&&A&&P.alternate===null&&e(_,A),v=i(P,v,k),N===null?w=P:N.sibling=P,N=P,A=G}if(M.done)return n(_,A),tt&&fi(_,k),w;if(A===null){for(;!M.done;k++,M=y.next())M=h(_,M.value,S),M!==null&&(v=i(M,v,k),N===null?w=M:N.sibling=M,N=M);return tt&&fi(_,k),w}for(A=r(_,A);!M.done;k++,M=y.next())M=p(A,_,k,M.value,S),M!==null&&(t&&M.alternate!==null&&A.delete(M.key===null?k:M.key),v=i(M,v,k),N===null?w=M:N.sibling=M,N=M);return t&&A.forEach(function(x){return e(_,x)}),tt&&fi(_,k),w}function E(_,v,y,S){if(typeof y=="object"&&y!==null&&y.type===go&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ru:e:{for(var w=y.key,N=v;N!==null;){if(N.key===w){if(w=y.type,w===go){if(N.tag===7){n(_,N.sibling),v=s(N,y.props.children),v.return=_,_=v;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===Es&&hS(w)===N.type){n(_,N.sibling),v=s(N,y.props),v.ref=Wa(_,N,y),v.return=_,_=v;break e}n(_,N);break}else e(_,N);N=N.sibling}y.type===go?(v=Ri(y.props.children,_.mode,S,y.key),v.return=_,_=v):(S=Ed(y.type,y.key,y.props,null,_.mode,S),S.ref=Wa(_,v,y),S.return=_,_=S)}return o(_);case mo:e:{for(N=y.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(_,v.sibling),v=s(v,y.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=im(y,_.mode,S),v.return=_,_=v}return o(_);case Es:return N=y._init,E(_,v,N(y._payload),S)}if(ul(y))return m(_,v,y,S);if(Fa(y))return g(_,v,y,S);Vu(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,y),v.return=_,_=v):(n(_,v),v=sm(y,_.mode,S),v.return=_,_=v),o(_)):n(_,v)}return E}var Yo=nR(!0),rR=nR(!1),jc={},Er=ei(jc),nc=ei(jc),rc=ei(jc);function Ei(t){if(t===jc)throw Error(U(174));return t}function Lv(t,e){switch(Be(rc,e),Be(nc,t),Be(Er,jc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ug(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ug(e,t)}Qe(Er),Be(Er,e)}function Xo(){Qe(Er),Qe(nc),Qe(rc)}function sR(t){Ei(rc.current);var e=Ei(Er.current),n=ug(e,t.type);e!==n&&(Be(nc,t),Be(Er,n))}function Ov(t){nc.current===t&&(Qe(Er),Qe(nc))}var rt=ei(0);function Yd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Jp=[];function Dv(){for(var t=0;t<Jp.length;t++)Jp[t]._workInProgressVersionPrimary=null;Jp.length=0}var md=ds.ReactCurrentDispatcher,Zp=ds.ReactCurrentBatchConfig,Pi=0,st=null,_t=null,It=null,Xd=!1,xl=!1,sc=0,WO=0;function Ft(){throw Error(U(321))}function Mv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function Vv(t,e,n,r,s,i){if(Pi=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,md.current=t===null||t.memoizedState===null?QO:YO,t=n(r,s),xl){i=0;do{if(xl=!1,sc=0,25<=i)throw Error(U(301));i+=1,It=_t=null,e.updateQueue=null,md.current=XO,t=n(r,s)}while(xl)}if(md.current=Jd,e=_t!==null&&_t.next!==null,Pi=0,It=_t=st=null,Xd=!1,e)throw Error(U(300));return t}function jv(){var t=sc!==0;return sc=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?st.memoizedState=It=t:It=It.next=t,It}function qn(){if(_t===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=It===null?st.memoizedState:It.next;if(e!==null)It=e,_t=t;else{if(t===null)throw Error(U(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},It===null?st.memoizedState=It=t:It=It.next=t}return It}function ic(t,e){return typeof e=="function"?e(t):e}function em(t){var e=qn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=_t,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Pi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,st.lanes|=u,Li|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ar(r,e.memoizedState)||(gn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,st.lanes|=i,Li|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function tm(t){var e=qn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ar(i,e.memoizedState)||(gn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function iR(){}function oR(t,e){var n=st,r=qn(),s=e(),i=!ar(r.memoizedState,s);if(i&&(r.memoizedState=s,gn=!0),r=r.queue,$v(cR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,oc(9,lR.bind(null,n,r,s,e),void 0,null),Nt===null)throw Error(U(349));Pi&30||aR(n,e,s)}return s}function aR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function lR(t,e,n,r){e.value=n,e.getSnapshot=r,uR(e)&&dR(t)}function cR(t,e,n){return n(function(){uR(e)&&dR(t)})}function uR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function dR(t){var e=es(t,1);e!==null&&ir(e,t,1,-1)}function fS(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ic,lastRenderedState:t},e.queue=t,t=t.dispatch=KO.bind(null,st,t),[e.memoizedState,t]}function oc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function hR(){return qn().memoizedState}function gd(t,e,n,r){var s=dr();st.flags|=t,s.memoizedState=oc(1|e,n,void 0,r===void 0?null:r)}function nf(t,e,n,r){var s=qn();r=r===void 0?null:r;var i=void 0;if(_t!==null){var o=_t.memoizedState;if(i=o.destroy,r!==null&&Mv(r,o.deps)){s.memoizedState=oc(e,n,i,r);return}}st.flags|=t,s.memoizedState=oc(1|e,n,i,r)}function pS(t,e){return gd(8390656,8,t,e)}function $v(t,e){return nf(2048,8,t,e)}function fR(t,e){return nf(4,2,t,e)}function pR(t,e){return nf(4,4,t,e)}function mR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function gR(t,e,n){return n=n!=null?n.concat([t]):null,nf(4,4,mR.bind(null,e,t),n)}function Fv(){}function _R(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function vR(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yR(t,e,n){return Pi&21?(ar(n,e)||(n=wI(),st.lanes|=n,Li|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,gn=!0),t.memoizedState=n)}function qO(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Zp.transition;Zp.transition={};try{t(!1),e()}finally{Me=n,Zp.transition=r}}function ER(){return qn().memoizedState}function GO(t,e,n){var r=Vs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SR(t))wR(e,n);else if(n=JI(t,e,n,r),n!==null){var s=an();ir(n,t,r,s),TR(n,e,r)}}function KO(t,e,n){var r=Vs(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SR(t))wR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=e.interleaved;l===null?(s.next=s,kv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=JI(t,e,s,r),n!==null&&(s=an(),ir(n,t,r,s),TR(n,e,r))}}function SR(t){var e=t.alternate;return t===st||e!==null&&e===st}function wR(t,e){xl=Xd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function TR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_v(t,n)}}var Jd={readContext:Wn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},QO={readContext:Wn,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:pS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,gd(4194308,4,mR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return gd(4194308,4,t,e)},useInsertionEffect:function(t,e){return gd(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=GO.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:fS,useDebugValue:Fv,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=fS(!1),e=t[0];return t=qO.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,s=dr();if(tt){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Nt===null)throw Error(U(349));Pi&30||aR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,pS(cR.bind(null,r,i,t),[t]),r.flags|=2048,oc(9,lR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dr(),e=Nt.identifierPrefix;if(tt){var n=zr,r=Br;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=sc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YO={readContext:Wn,useCallback:_R,useContext:Wn,useEffect:$v,useImperativeHandle:gR,useInsertionEffect:fR,useLayoutEffect:pR,useMemo:vR,useReducer:em,useRef:hR,useState:function(){return em(ic)},useDebugValue:Fv,useDeferredValue:function(t){var e=qn();return yR(e,_t.memoizedState,t)},useTransition:function(){var t=em(ic)[0],e=qn().memoizedState;return[t,e]},useMutableSource:iR,useSyncExternalStore:oR,useId:ER,unstable_isNewReconciler:!1},XO={readContext:Wn,useCallback:_R,useContext:Wn,useEffect:$v,useImperativeHandle:gR,useInsertionEffect:fR,useLayoutEffect:pR,useMemo:vR,useReducer:tm,useRef:hR,useState:function(){return tm(ic)},useDebugValue:Fv,useDeferredValue:function(t){var e=qn();return _t===null?e.memoizedState=t:yR(e,_t.memoizedState,t)},useTransition:function(){var t=tm(ic)[0],e=qn().memoizedState;return[t,e]},useMutableSource:iR,useSyncExternalStore:oR,useId:ER,unstable_isNewReconciler:!1};function Jo(t,e){try{var n="",r=e;do n+=IL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function nm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Lg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var JO=typeof WeakMap=="function"?WeakMap:Map;function CR(t,e,n){n=Kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){eh||(eh=!0,zg=r),Lg(t,e)},n}function IR(t,e,n){n=Kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Lg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Lg(t,e),typeof r!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function mS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new JO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=hD.bind(null,t,e,n),e.then(t,t))}function gS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function _S(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kr(-1,1),e.tag=2,Ds(n,e,1))),n.lanes|=1),t)}var ZO=ds.ReactCurrentOwner,gn=!1;function sn(t,e,n,r){e.child=t===null?rR(e,null,n,r):Yo(e,t.child,n,r)}function vS(t,e,n,r,s){n=n.render;var i=e.ref;return Do(e,s),r=Vv(t,e,n,r,i,s),n=jv(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(tt&&n&&Iv(e),e.flags|=1,sn(t,e,r,s),e.child)}function yS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Kv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,RR(t,e,i,r,s)):(t=Ed(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Jl,n(o,r)&&t.ref===e.ref)return ts(t,e,s)}return e.flags|=1,t=js(i,r),t.ref=e.ref,t.return=e,e.child=t}function RR(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Jl(i,r)&&t.ref===e.ref)if(gn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(gn=!0);else return e.lanes=t.lanes,ts(t,e,s)}return Og(t,e,n,r,s)}function xR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Ro,Cn),Cn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Ro,Cn),Cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(Ro,Cn),Cn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(Ro,Cn),Cn|=r;return sn(t,e,s,n),e.child}function NR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Og(t,e,n,r,s){var i=yn(n)?bi:en.current;return i=Ko(e,i),Do(e,s),n=Vv(t,e,n,r,i,s),r=jv(),t!==null&&!gn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(tt&&r&&Iv(e),e.flags|=1,sn(t,e,n,s),e.child)}function ES(t,e,n,r,s){if(yn(n)){var i=!0;Hd(e)}else i=!1;if(Do(e,s),e.stateNode===null)_d(t,e),tR(e,n,r),Pg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wn(c):(c=yn(n)?bi:en.current,c=Ko(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&dS(e,o,r,c),Ss=!1;var f=e.memoizedState;o.state=f,Qd(e,r,o,s),l=e.memoizedState,a!==r||f!==l||vn.current||Ss?(typeof u=="function"&&(kg(e,n,u,r),l=e.memoizedState),(a=Ss||uS(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,ZI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Jn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=yn(n)?bi:en.current,l=Ko(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&dS(e,o,r,l),Ss=!1,f=e.memoizedState,o.state=f,Qd(e,r,o,s);var m=e.memoizedState;a!==h||f!==m||vn.current||Ss?(typeof p=="function"&&(kg(e,n,p,r),m=e.memoizedState),(c=Ss||uS(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Dg(t,e,n,r,i,s)}function Dg(t,e,n,r,s,i){NR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&iS(e,n,!1),ts(t,e,i);r=e.stateNode,ZO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yo(e,t.child,null,i),e.child=Yo(e,null,a,i)):sn(t,e,a,i),e.memoizedState=r.state,s&&iS(e,n,!0),e.child}function AR(t){var e=t.stateNode;e.pendingContext?sS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&sS(t,e.context,!1),Lv(t,e.containerInfo)}function SS(t,e,n,r,s){return Qo(),xv(s),e.flags|=256,sn(t,e,n,r),e.child}var Mg={dehydrated:null,treeContext:null,retryLane:0};function Vg(t){return{baseLanes:t,cachePool:null,transitions:null}}function bR(t,e,n){var r=e.pendingProps,s=rt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(rt,s&1),t===null)return Ag(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=of(o,r,0,null),t=Ri(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Vg(n),e.memoizedState=Mg,t):Uv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return eD(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=js(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=js(a,i):(i=Ri(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Vg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Mg,r}return i=t.child,t=i.sibling,r=js(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Uv(t,e){return e=of({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ju(t,e,n,r){return r!==null&&xv(r),Yo(e,t.child,null,n),t=Uv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function eD(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=nm(Error(U(422))),ju(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=of({mode:"visible",children:r.children},s,0,null),i=Ri(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Yo(e,t.child,null,o),e.child.memoizedState=Vg(o),e.memoizedState=Mg,i);if(!(e.mode&1))return ju(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=nm(i,r,void 0),ju(t,e,o,r)}if(a=(o&t.childLanes)!==0,gn||a){if(r=Nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,es(t,s),ir(r,t,s,-1))}return Gv(),r=nm(Error(U(421))),ju(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=fD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rn=Os(s.nextSibling),Nn=e,tt=!0,er=null,t!==null&&(Mn[Vn++]=Br,Mn[Vn++]=zr,Mn[Vn++]=ki,Br=t.id,zr=t.overflow,ki=e),e=Uv(e,r.children),e.flags|=4096,e)}function wS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),bg(t.return,e,n)}function rm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function kR(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(sn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wS(t,n,e);else if(t.tag===19)wS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Yd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),rm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Yd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}rm(e,!0,n,null,i);break;case"together":rm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Li|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=js(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=js(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function tD(t,e,n){switch(e.tag){case 3:AR(e),Qo();break;case 5:sR(e);break;case 1:yn(e.type)&&Hd(e);break;case 4:Lv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(Gd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?bR(t,e,n):(Be(rt,rt.current&1),t=ts(t,e,n),t!==null?t.sibling:null);Be(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,xR(t,e,n)}return ts(t,e,n)}var PR,jg,LR,OR;PR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jg=function(){};LR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ei(Er.current);var i=null;switch(n){case"input":s=og(t,s),r=og(t,r),i=[];break;case"select":s=it({},s,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":s=cg(t,s),r=cg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bd)}dg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};OR=function(t,e,n,r){n!==r&&(e.flags|=4)};function qa(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function nD(t,e,n){var r=e.pendingProps;switch(Rv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return yn(e.type)&&zd(),Ut(e),null;case 3:return r=e.stateNode,Xo(),Qe(vn),Qe(en),Dv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Mu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(qg(er),er=null))),jg(t,e),Ut(e),null;case 5:Ov(e);var s=Ei(rc.current);if(n=e.type,t!==null&&e.stateNode!=null)LR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Ut(e),null}if(t=Ei(Er.current),Mu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hr]=e,r[tc]=i,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<hl.length;s++)ze(hl[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":k0(r,i),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ze("invalid",r);break;case"textarea":L0(r,i),ze("invalid",r)}dg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Du(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Du(r.textContent,a,t),s=["children",""+a]):Wl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":xu(r),P0(r,i,!0);break;case"textarea":xu(r),O0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Bd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hr]=e,t[tc]=r,PR(t,e,!1,!1),e.stateNode=t;e:{switch(o=hg(n,r),n){case"dialog":ze("cancel",t),ze("close",t),s=r;break;case"iframe":case"object":case"embed":ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<hl.length;s++)ze(hl[s],t);s=r;break;case"source":ze("error",t),s=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),s=r;break;case"details":ze("toggle",t),s=r;break;case"input":k0(t,r),s=og(t,r),ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=it({},r,{value:void 0}),ze("invalid",t);break;case"textarea":L0(t,r),s=cg(t,r),ze("invalid",t);break;default:s=r}dg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?uI(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ql(t,l):typeof l=="number"&&ql(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Wl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ze("scroll",t):l!=null&&dv(t,i,l,o))}switch(n){case"input":xu(t),P0(t,r,!1);break;case"textarea":xu(t),O0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ko(t,!!r.multiple,i,!1):r.defaultValue!=null&&ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)OR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Ei(rc.current),Ei(Er.current),Mu(e)){if(r=e.stateNode,n=e.memoizedProps,r[hr]=e,(i=r.nodeValue!==n)&&(t=Nn,t!==null))switch(t.tag){case 3:Du(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Du(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Qe(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&Rn!==null&&e.mode&1&&!(e.flags&128))XI(),Qo(),e.flags|=98560,i=!1;else if(i=Mu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[hr]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else er!==null&&(qg(er),er=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?vt===0&&(vt=3):Gv())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Xo(),jg(t,e),t===null&&Zl(e.stateNode.containerInfo),Ut(e),null;case 10:return bv(e.type._context),Ut(e),null;case 17:return yn(e.type)&&zd(),Ut(e),null;case 19:if(Qe(rt),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)qa(i,!1);else{if(vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Yd(t),o!==null){for(e.flags|=128,qa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ct()>Zo&&(e.flags|=128,r=!0,qa(i,!1),e.lanes=4194304)}else{if(!r)if(t=Yd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),qa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return Ut(e),null}else 2*ct()-i.renderingStartTime>Zo&&n!==1073741824&&(e.flags|=128,r=!0,qa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ct(),e.sibling=null,n=rt.current,Be(rt,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return qv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Cn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function rD(t,e){switch(Rv(e),e.tag){case 1:return yn(e.type)&&zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xo(),Qe(vn),Qe(en),Dv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ov(e),null;case 13:if(Qe(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(rt),null;case 4:return Xo(),null;case 10:return bv(e.type._context),null;case 22:case 23:return qv(),null;case 24:return null;default:return null}}var $u=!1,Ht=!1,sD=typeof WeakSet=="function"?WeakSet:Set,ee=null;function Io(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function $g(t,e,n){try{n()}catch(r){ot(t,e,r)}}var TS=!1;function iD(t,e){if(wg=$d,t=jI(),Cv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Tg={focusedElem:t,selectionRange:n},$d=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,E=m.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:Jn(e.type,g),E);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){ot(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return m=TS,TS=!1,m}function Nl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&$g(e,n,i)}s=s.next}while(s!==r)}}function rf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DR(t){var e=t.alternate;e!==null&&(t.alternate=null,DR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hr],delete e[tc],delete e[Rg],delete e[UO],delete e[BO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MR(t){return t.tag===5||t.tag===3||t.tag===4}function CS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ug(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bd));else if(r!==4&&(t=t.child,t!==null))for(Ug(t,e,n),t=t.sibling;t!==null;)Ug(t,e,n),t=t.sibling}function Bg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Bg(t,e,n),t=t.sibling;t!==null;)Bg(t,e,n),t=t.sibling}var Lt=null,Zn=!1;function _s(t,e,n){for(n=n.child;n!==null;)VR(t,e,n),n=n.sibling}function VR(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Qh,n)}catch{}switch(n.tag){case 5:Ht||Io(n,e);case 6:var r=Lt,s=Zn;Lt=null,_s(t,e,n),Lt=r,Zn=s,Lt!==null&&(Zn?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(Zn?(t=Lt,n=n.stateNode,t.nodeType===8?Yp(t.parentNode,n):t.nodeType===1&&Yp(t,n),Yl(t)):Yp(Lt,n.stateNode));break;case 4:r=Lt,s=Zn,Lt=n.stateNode.containerInfo,Zn=!0,_s(t,e,n),Lt=r,Zn=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&$g(n,e,o),s=s.next}while(s!==r)}_s(t,e,n);break;case 1:if(!Ht&&(Io(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}_s(t,e,n);break;case 21:_s(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,_s(t,e,n),Ht=r):_s(t,e,n);break;default:_s(t,e,n)}}function IS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sD),e.forEach(function(r){var s=pD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,Zn=!1;break e;case 3:Lt=a.stateNode.containerInfo,Zn=!0;break e;case 4:Lt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(Lt===null)throw Error(U(160));VR(i,o,s),Lt=null,Zn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ot(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jR(e,t),e=e.sibling}function jR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),ur(t),r&4){try{Nl(3,t,t.return),rf(3,t)}catch(g){ot(t,t.return,g)}try{Nl(5,t,t.return)}catch(g){ot(t,t.return,g)}}break;case 1:Yn(e,t),ur(t),r&512&&n!==null&&Io(n,n.return);break;case 5:if(Yn(e,t),ur(t),r&512&&n!==null&&Io(n,n.return),t.flags&32){var s=t.stateNode;try{ql(s,"")}catch(g){ot(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&iI(s,i),hg(a,o);var c=hg(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?uI(s,h):u==="dangerouslySetInnerHTML"?lI(s,h):u==="children"?ql(s,h):dv(s,u,h,c)}switch(a){case"input":ag(s,i);break;case"textarea":oI(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?ko(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?ko(s,!!i.multiple,i.defaultValue,!0):ko(s,!!i.multiple,i.multiple?[]:"",!1))}s[tc]=i}catch(g){ot(t,t.return,g)}}break;case 6:if(Yn(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){ot(t,t.return,g)}}break;case 3:if(Yn(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yl(e.containerInfo)}catch(g){ot(t,t.return,g)}break;case 4:Yn(e,t),ur(t);break;case 13:Yn(e,t),ur(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Hv=ct())),r&4&&IS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(c=Ht)||u,Yn(e,t),Ht=c):Yn(e,t),ur(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ee=t,u=t.child;u!==null;){for(h=ee=u;ee!==null;){switch(f=ee,p=f.child,f.tag){case 0:case 11:case 14:case 15:Nl(4,f,f.return);break;case 1:Io(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ot(r,n,g)}}break;case 5:Io(f,f.return);break;case 22:if(f.memoizedState!==null){xS(h);continue}}p!==null?(p.return=f,ee=p):xS(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cI("display",o))}catch(g){ot(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){ot(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yn(e,t),ur(t),r&4&&IS(t);break;case 21:break;default:Yn(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(MR(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ql(s,""),r.flags&=-33);var i=CS(t);Bg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=CS(t);Ug(t,a,o);break;default:throw Error(U(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function oD(t,e,n){ee=t,$R(t)}function $R(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||$u;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ht;a=$u;var c=Ht;if($u=o,(Ht=l)&&!c)for(ee=s;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?NS(s):l!==null?(l.return=o,ee=l):NS(s);for(;i!==null;)ee=i,$R(i),i=i.sibling;ee=s,$u=a,Ht=c}RS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):RS(t)}}function RS(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||rf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&cS(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}cS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Yl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ht||e.flags&512&&Fg(e)}catch(f){ot(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function xS(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function NS(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rf(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ot(e,s,l)}}var i=e.return;try{Fg(e)}catch(l){ot(e,i,l)}break;case 5:var o=e.return;try{Fg(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var aD=Math.ceil,Zd=ds.ReactCurrentDispatcher,Bv=ds.ReactCurrentOwner,Bn=ds.ReactCurrentBatchConfig,Le=0,Nt=null,pt=null,Mt=0,Cn=0,Ro=ei(0),vt=0,ac=null,Li=0,sf=0,zv=0,Al=null,pn=null,Hv=0,Zo=1/0,Mr=null,eh=!1,zg=null,Ms=null,Fu=!1,Rs=null,th=0,bl=0,Hg=null,vd=-1,yd=0;function an(){return Le&6?ct():vd!==-1?vd:vd=ct()}function Vs(t){return t.mode&1?Le&2&&Mt!==0?Mt&-Mt:HO.transition!==null?(yd===0&&(yd=wI()),yd):(t=Me,t!==0||(t=window.event,t=t===void 0?16:AI(t.type)),t):1}function ir(t,e,n,r){if(50<bl)throw bl=0,Hg=null,Error(U(185));Dc(t,n,r),(!(Le&2)||t!==Nt)&&(t===Nt&&(!(Le&2)&&(sf|=n),vt===4&&Cs(t,Mt)),En(t,r),n===1&&Le===0&&!(e.mode&1)&&(Zo=ct()+500,ef&&ti()))}function En(t,e){var n=t.callbackNode;HL(t,e);var r=jd(t,t===Nt?Mt:0);if(r===0)n!==null&&V0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&V0(n),e===1)t.tag===0?zO(AS.bind(null,t)):KI(AS.bind(null,t)),$O(function(){!(Le&6)&&ti()}),n=null;else{switch(TI(r)){case 1:n=gv;break;case 4:n=EI;break;case 16:n=Vd;break;case 536870912:n=SI;break;default:n=Vd}n=GR(n,FR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FR(t,e){if(vd=-1,yd=0,Le&6)throw Error(U(327));var n=t.callbackNode;if(Mo()&&t.callbackNode!==n)return null;var r=jd(t,t===Nt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=nh(t,r);else{e=r;var s=Le;Le|=2;var i=BR();(Nt!==t||Mt!==e)&&(Mr=null,Zo=ct()+500,Ii(t,e));do try{uD();break}catch(a){UR(t,a)}while(1);Av(),Zd.current=i,Le=s,pt!==null?e=0:(Nt=null,Mt=0,e=vt)}if(e!==0){if(e===2&&(s=_g(t),s!==0&&(r=s,e=Wg(t,s))),e===1)throw n=ac,Ii(t,0),Cs(t,r),En(t,ct()),n;if(e===6)Cs(t,r);else{if(s=t.current.alternate,!(r&30)&&!lD(s)&&(e=nh(t,r),e===2&&(i=_g(t),i!==0&&(r=i,e=Wg(t,i))),e===1))throw n=ac,Ii(t,0),Cs(t,r),En(t,ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:pi(t,pn,Mr);break;case 3:if(Cs(t,r),(r&130023424)===r&&(e=Hv+500-ct(),10<e)){if(jd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ig(pi.bind(null,t,pn,Mr),e);break}pi(t,pn,Mr);break;case 4:if(Cs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-sr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*aD(r/1960))-r,10<r){t.timeoutHandle=Ig(pi.bind(null,t,pn,Mr),r);break}pi(t,pn,Mr);break;case 5:pi(t,pn,Mr);break;default:throw Error(U(329))}}}return En(t,ct()),t.callbackNode===n?FR.bind(null,t):null}function Wg(t,e){var n=Al;return t.current.memoizedState.isDehydrated&&(Ii(t,e).flags|=256),t=nh(t,e),t!==2&&(e=pn,pn=n,e!==null&&qg(e)),t}function qg(t){pn===null?pn=t:pn.push.apply(pn,t)}function lD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cs(t,e){for(e&=~zv,e&=~sf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function AS(t){if(Le&6)throw Error(U(327));Mo();var e=jd(t,0);if(!(e&1))return En(t,ct()),null;var n=nh(t,e);if(t.tag!==0&&n===2){var r=_g(t);r!==0&&(e=r,n=Wg(t,r))}if(n===1)throw n=ac,Ii(t,0),Cs(t,e),En(t,ct()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pi(t,pn,Mr),En(t,ct()),null}function Wv(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Zo=ct()+500,ef&&ti())}}function Oi(t){Rs!==null&&Rs.tag===0&&!(Le&6)&&Mo();var e=Le;Le|=1;var n=Bn.transition,r=Me;try{if(Bn.transition=null,Me=1,t)return t()}finally{Me=r,Bn.transition=n,Le=e,!(Le&6)&&ti()}}function qv(){Cn=Ro.current,Qe(Ro)}function Ii(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jO(n)),pt!==null)for(n=pt.return;n!==null;){var r=n;switch(Rv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&zd();break;case 3:Xo(),Qe(vn),Qe(en),Dv();break;case 5:Ov(r);break;case 4:Xo();break;case 13:Qe(rt);break;case 19:Qe(rt);break;case 10:bv(r.type._context);break;case 22:case 23:qv()}n=n.return}if(Nt=t,pt=t=js(t.current,null),Mt=Cn=e,vt=0,ac=null,zv=sf=Li=0,pn=Al=null,yi!==null){for(e=0;e<yi.length;e++)if(n=yi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}yi=null}return t}function UR(t,e){do{var n=pt;try{if(Av(),md.current=Jd,Xd){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Xd=!1}if(Pi=0,It=_t=st=null,xl=!1,sc=0,Bv.current=null,n===null||n.return===null){vt=1,ac=e,pt=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=gS(o);if(p!==null){p.flags&=-257,_S(p,o,a,i,e),p.mode&1&&mS(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){mS(i,c,e),Gv();break e}l=Error(U(426))}}else if(tt&&a.mode&1){var E=gS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),_S(E,o,a,i,e),xv(Jo(l,a));break e}}i=l=Jo(l,a),vt!==4&&(vt=2),Al===null?Al=[i]:Al.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=CR(i,l,e);lS(i,_);break e;case 1:a=l;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ms===null||!Ms.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=IR(i,a,e);lS(i,S);break e}}i=i.return}while(i!==null)}HR(n)}catch(w){e=w,pt===n&&n!==null&&(pt=n=n.return);continue}break}while(1)}function BR(){var t=Zd.current;return Zd.current=Jd,t===null?Jd:t}function Gv(){(vt===0||vt===3||vt===2)&&(vt=4),Nt===null||!(Li&268435455)&&!(sf&268435455)||Cs(Nt,Mt)}function nh(t,e){var n=Le;Le|=2;var r=BR();(Nt!==t||Mt!==e)&&(Mr=null,Ii(t,e));do try{cD();break}catch(s){UR(t,s)}while(1);if(Av(),Le=n,Zd.current=r,pt!==null)throw Error(U(261));return Nt=null,Mt=0,vt}function cD(){for(;pt!==null;)zR(pt)}function uD(){for(;pt!==null&&!DL();)zR(pt)}function zR(t){var e=qR(t.alternate,t,Cn);t.memoizedProps=t.pendingProps,e===null?HR(t):pt=e,Bv.current=null}function HR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=rD(n,e),n!==null){n.flags&=32767,pt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{vt=6,pt=null;return}}else if(n=nD(n,e,Cn),n!==null){pt=n;return}if(e=e.sibling,e!==null){pt=e;return}pt=e=t}while(e!==null);vt===0&&(vt=5)}function pi(t,e,n){var r=Me,s=Bn.transition;try{Bn.transition=null,Me=1,dD(t,e,n,r)}finally{Bn.transition=s,Me=r}return null}function dD(t,e,n,r){do Mo();while(Rs!==null);if(Le&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(WL(t,i),t===Nt&&(pt=Nt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fu||(Fu=!0,GR(Vd,function(){return Mo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bn.transition,Bn.transition=null;var o=Me;Me=1;var a=Le;Le|=4,Bv.current=null,iD(t,n),jR(n,t),kO(Tg),$d=!!wg,Tg=wg=null,t.current=n,oD(n),ML(),Le=a,Me=o,Bn.transition=i}else t.current=n;if(Fu&&(Fu=!1,Rs=t,th=s),i=t.pendingLanes,i===0&&(Ms=null),$L(n.stateNode),En(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(eh)throw eh=!1,t=zg,zg=null,t;return th&1&&t.tag!==0&&Mo(),i=t.pendingLanes,i&1?t===Hg?bl++:(bl=0,Hg=t):bl=0,ti(),null}function Mo(){if(Rs!==null){var t=TI(th),e=Bn.transition,n=Me;try{if(Bn.transition=null,Me=16>t?16:t,Rs===null)var r=!1;else{if(t=Rs,Rs=null,th=0,Le&6)throw Error(U(331));var s=Le;for(Le|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ee=c;ee!==null;){var u=ee;switch(u.tag){case 0:case 11:case 15:Nl(8,u,i)}var h=u.child;if(h!==null)h.return=u,ee=h;else for(;ee!==null;){u=ee;var f=u.sibling,p=u.return;if(DR(u),u===c){ee=null;break}if(f!==null){f.return=p,ee=f;break}ee=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Nl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ee=_;break e}ee=i.return}}var v=t.current;for(ee=v;ee!==null;){o=ee;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,ee=y;else e:for(o=v;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rf(9,a)}}catch(w){ot(a,a.return,w)}if(a===o){ee=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,ee=S;break e}ee=a.return}}if(Le=s,ti(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Qh,t)}catch{}r=!0}return r}finally{Me=n,Bn.transition=e}}return!1}function bS(t,e,n){e=Jo(n,e),e=CR(t,e,1),t=Ds(t,e,1),e=an(),t!==null&&(Dc(t,1,e),En(t,e))}function ot(t,e,n){if(t.tag===3)bS(t,t,n);else for(;e!==null;){if(e.tag===3){bS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ms===null||!Ms.has(r))){t=Jo(n,t),t=IR(e,t,1),e=Ds(e,t,1),t=an(),e!==null&&(Dc(e,1,t),En(e,t));break}}e=e.return}}function hD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Mt&n)===n&&(vt===4||vt===3&&(Mt&130023424)===Mt&&500>ct()-Hv?Ii(t,0):zv|=n),En(t,e)}function WR(t,e){e===0&&(t.mode&1?(e=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):e=1);var n=an();t=es(t,e),t!==null&&(Dc(t,e,n),En(t,n))}function fD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),WR(t,n)}function pD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),WR(t,n)}var qR;qR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)gn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return gn=!1,tD(t,e,n);gn=!!(t.flags&131072)}else gn=!1,tt&&e.flags&1048576&&QI(e,qd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_d(t,e),t=e.pendingProps;var s=Ko(e,en.current);Do(e,n),s=Vv(null,e,r,t,s,n);var i=jv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,yn(r)?(i=!0,Hd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pv(e),s.updater=tf,e.stateNode=s,s._reactInternals=e,Pg(e,r,t,n),e=Dg(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&Iv(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_d(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=gD(r),t=Jn(r,t),s){case 0:e=Og(null,e,r,t,n);break e;case 1:e=ES(null,e,r,t,n);break e;case 11:e=vS(null,e,r,t,n);break e;case 14:e=yS(null,e,r,Jn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),Og(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),ES(t,e,r,s,n);case 3:e:{if(AR(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,ZI(t,e),Qd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Jo(Error(U(423)),e),e=SS(t,e,r,n,s);break e}else if(r!==s){s=Jo(Error(U(424)),e),e=SS(t,e,r,n,s);break e}else for(Rn=Os(e.stateNode.containerInfo.firstChild),Nn=e,tt=!0,er=null,n=rR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),r===s){e=ts(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return sR(e),t===null&&Ag(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Cg(r,s)?o=null:i!==null&&Cg(r,i)&&(e.flags|=32),NR(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&Ag(e),null;case 13:return bR(t,e,n);case 4:return Lv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yo(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),vS(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(Gd,r._currentValue),r._currentValue=o,i!==null)if(ar(i.value,o)){if(i.children===s.children&&!vn.current){e=ts(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Kr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),bg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),bg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Do(e,n),s=Wn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=Jn(r,e.pendingProps),s=Jn(r.type,s),yS(t,e,r,s,n);case 15:return RR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),_d(t,e),e.tag=1,yn(r)?(t=!0,Hd(e)):t=!1,Do(e,n),tR(e,r,s),Pg(e,r,s,n),Dg(null,e,r,!0,t,n);case 19:return kR(t,e,n);case 22:return xR(t,e,n)}throw Error(U(156,e.tag))};function GR(t,e){return yI(t,e)}function mD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new mD(t,e,n,r)}function Kv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gD(t){if(typeof t=="function")return Kv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===fv)return 11;if(t===pv)return 14}return 2}function js(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ed(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Kv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case go:return Ri(n.children,s,i,e);case hv:o=8,s|=8;break;case ng:return t=Fn(12,n,e,s|2),t.elementType=ng,t.lanes=i,t;case rg:return t=Fn(13,n,e,s),t.elementType=rg,t.lanes=i,t;case sg:return t=Fn(19,n,e,s),t.elementType=sg,t.lanes=i,t;case nI:return of(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eI:o=10;break e;case tI:o=9;break e;case fv:o=11;break e;case pv:o=14;break e;case Es:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Fn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ri(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function of(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=nI,t.lanes=n,t.stateNode={isHidden:!1},t}function sm(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function im(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _D(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$p(0),this.expirationTimes=$p(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$p(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Qv(t,e,n,r,s,i,o,a,l){return t=new _D(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pv(i),t}function vD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:mo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KR(t){if(!t)return Gs;t=t._reactInternals;e:{if(Ki(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(yn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(yn(n))return GI(t,n,e)}return e}function QR(t,e,n,r,s,i,o,a,l){return t=Qv(n,r,!0,t,s,i,o,a,l),t.context=KR(null),n=t.current,r=an(),s=Vs(n),i=Kr(r,s),i.callback=e??null,Ds(n,i,s),t.current.lanes=s,Dc(t,s,r),En(t,r),t}function af(t,e,n,r){var s=e.current,i=an(),o=Vs(s);return n=KR(n),e.context===null?e.context=n:e.pendingContext=n,e=Kr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ds(s,e,o),t!==null&&(ir(t,s,o,i),pd(t,s,o)),o}function rh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function kS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yv(t,e){kS(t,e),(t=t.alternate)&&kS(t,e)}function yD(){return null}var YR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Xv(t){this._internalRoot=t}lf.prototype.render=Xv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));af(t,e,null,null)};lf.prototype.unmount=Xv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oi(function(){af(null,t,null,null)}),e[Zr]=null}};function lf(t){this._internalRoot=t}lf.prototype.unstable_scheduleHydration=function(t){if(t){var e=RI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ts.length&&e!==0&&e<Ts[n].priority;n++);Ts.splice(n,0,t),n===0&&NI(t)}};function Jv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function PS(){}function ED(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=rh(o);i.call(c)}}var o=QR(e,r,t,0,null,!1,!1,"",PS);return t._reactRootContainer=o,t[Zr]=o.current,Zl(t.nodeType===8?t.parentNode:t),Oi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=rh(l);a.call(c)}}var l=Qv(t,0,!1,null,null,!1,!1,"",PS);return t._reactRootContainer=l,t[Zr]=l.current,Zl(t.nodeType===8?t.parentNode:t),Oi(function(){af(e,l,n,r)}),l}function uf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=rh(o);a.call(l)}}af(e,o,t,s)}else o=ED(n,e,t,s,r);return rh(o)}CI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=dl(e.pendingLanes);n!==0&&(_v(e,n|1),En(e,ct()),!(Le&6)&&(Zo=ct()+500,ti()))}break;case 13:Oi(function(){var r=es(t,1);if(r!==null){var s=an();ir(r,t,1,s)}}),Yv(t,1)}};vv=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var n=an();ir(e,t,134217728,n)}Yv(t,134217728)}};II=function(t){if(t.tag===13){var e=Vs(t),n=es(t,e);if(n!==null){var r=an();ir(n,t,e,r)}Yv(t,e)}};RI=function(){return Me};xI=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};pg=function(t,e,n){switch(e){case"input":if(ag(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Zh(r);if(!s)throw Error(U(90));sI(r),ag(r,s)}}}break;case"textarea":oI(t,n);break;case"select":e=n.value,e!=null&&ko(t,!!n.multiple,e,!1)}};fI=Wv;pI=Oi;var SD={usingClientEntryPoint:!1,Events:[Vc,Eo,Zh,dI,hI,Wv]},Ga={findFiberByHostInstance:vi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},wD={bundleType:Ga.bundleType,version:Ga.version,rendererPackageName:Ga.rendererPackageName,rendererConfig:Ga.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=_I(t),t===null?null:t.stateNode},findFiberByHostInstance:Ga.findFiberByHostInstance||yD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{Qh=Uu.inject(wD),yr=Uu}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SD;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jv(e))throw Error(U(200));return vD(t,e,null,n)};Pn.createRoot=function(t,e){if(!Jv(t))throw Error(U(299));var n=!1,r="",s=YR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Qv(t,1,!1,null,null,n,!1,r,s),t[Zr]=e.current,Zl(t.nodeType===8?t.parentNode:t),new Xv(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=_I(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Oi(t)};Pn.hydrate=function(t,e,n){if(!cf(e))throw Error(U(200));return uf(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!Jv(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=YR;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=QR(e,null,t,1,n??null,s,!1,i,o),t[Zr]=e.current,Zl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new lf(e)};Pn.render=function(t,e,n){if(!cf(e))throw Error(U(200));return uf(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!cf(t))throw Error(U(40));return t._reactRootContainer?(Oi(function(){uf(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};Pn.unstable_batchedUpdates=Wv;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cf(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return uf(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";function XR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XR)}catch(t){console.error(t)}}XR(),QC.exports=Pn;var JR=QC.exports;const TD=jC(JR);var LS=JR;eg.createRoot=LS.createRoot,eg.hydrateRoot=LS.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function lc(){return lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lc.apply(this,arguments)}var xs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xs||(xs={}));const OS="popstate";function CD(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Qi(s.location.hash.substr(1));return Gg("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:sh(i))}function r(s,i){df(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return RD(e,n,r,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function df(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ID(){return Math.random().toString(36).substr(2,8)}function DS(t,e){return{usr:t.state,key:t.key,idx:e}}function Gg(t,e,n,r){return n===void 0&&(n=null),lc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qi(e):e,{state:n,key:e&&e.key||r||ID()})}function sh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function RD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=xs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(lc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=xs.Pop;let E=u(),_=E==null?null:E-c;c=E,l&&l({action:a,location:g.location,delta:_})}function f(E,_){a=xs.Push;let v=Gg(g.location,E,_);n&&n(v,E),c=u()+1;let y=DS(v,c),S=g.createHref(v);try{o.pushState(y,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function p(E,_){a=xs.Replace;let v=Gg(g.location,E,_);n&&n(v,E),c=u();let y=DS(v,c),S=g.createHref(v);o.replaceState(y,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function m(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:sh(E);return ut(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let g={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(OS,h),l=E,()=>{s.removeEventListener(OS,h),l=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let _=m(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(E){return o.go(E)}};return g}var MS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(MS||(MS={}));function xD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Qi(e):e,s=Zv(r.pathname||"/",n);if(s==null)return null;let i=ZR(t);ND(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=VD(i[a],FD(s));return o}function ZR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=$s([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),ZR(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:DD(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of e1(i.path))s(i,o,l)}),e}function e1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=e1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function ND(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const AD=/^:\w+$/,bD=3,kD=2,PD=1,LD=10,OD=-2,VS=t=>t==="*";function DD(t,e){let n=t.split("/"),r=n.length;return n.some(VS)&&(r+=OD),e&&(r+=kD),n.filter(s=>!VS(s)).reduce((s,i)=>s+(AD.test(i)?bD:i===""?PD:LD),r)}function MD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function VD(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=jD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;i.push({params:r,pathname:$s([s,u.pathname]),pathnameBase:HD($s([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=$s([s,u.pathnameBase]))}return i}function jD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$D(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{if(u==="*"){let f=a[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=UD(a[h]||"",u),c},{}),pathname:i,pathnameBase:o,pattern:t}}function $D(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),df(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function FD(t){try{return decodeURI(t)}catch(e){return df(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function UD(t,e){try{return decodeURIComponent(t)}catch(n){return df(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Zv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function BD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Qi(t):t;return{pathname:n?n.startsWith("/")?n:zD(n,e):e,search:WD(r),hash:qD(s)}}function zD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function om(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ey(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ty(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Qi(t):(s=lc({},t),ut(!s.pathname||!s.pathname.includes("?"),om("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),om("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),om("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=BD(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const $s=t=>t.join("/").replace(/\/\/+/g,"/"),HD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),WD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function GD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const t1=["post","put","patch","delete"];new Set(t1);const KD=["get",...t1];new Set(KD);/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ih.apply(this,arguments)}const ny=T.createContext(null),n1=T.createContext(null),Yi=T.createContext(null),hf=T.createContext(null),xr=T.createContext({outlet:null,matches:[],isDataRoute:!1}),r1=T.createContext(null);function QD(t,e){let{relative:n}=e===void 0?{}:e;Sa()||ut(!1);let{basename:r,navigator:s}=T.useContext(Yi),{hash:i,pathname:o,search:a}=ry(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:$s([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Sa(){return T.useContext(hf)!=null}function wn(){return Sa()||ut(!1),T.useContext(hf).location}function s1(t){T.useContext(Yi).static||T.useLayoutEffect(t)}function dn(){let{isDataRoute:t}=T.useContext(xr);return t?uM():YD()}function YD(){Sa()||ut(!1);let t=T.useContext(ny),{basename:e,navigator:n}=T.useContext(Yi),{matches:r}=T.useContext(xr),{pathname:s}=wn(),i=JSON.stringify(ey(r).map(l=>l.pathnameBase)),o=T.useRef(!1);return s1(()=>{o.current=!0}),T.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=ty(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:$s([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,s,t])}const XD=T.createContext(null);function JD(t){let e=T.useContext(xr).outlet;return e&&T.createElement(XD.Provider,{value:t},e)}function hn(){let{matches:t}=T.useContext(xr),e=t[t.length-1];return e?e.params:{}}function ry(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=T.useContext(xr),{pathname:s}=wn(),i=JSON.stringify(ey(r).map(o=>o.pathnameBase));return T.useMemo(()=>ty(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function ZD(t,e){return eM(t,e)}function eM(t,e,n){Sa()||ut(!1);let{navigator:r}=T.useContext(Yi),{matches:s}=T.useContext(xr),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=wn(),c;if(e){var u;let g=typeof e=="string"?Qi(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||ut(!1),c=g}else c=l;let h=c.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",p=xD(t,{pathname:f}),m=iM(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:$s([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:$s([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n);return e&&m?T.createElement(hf.Provider,{value:{location:ih({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:xs.Pop}},m):m}function tM(){let t=cM(),e=GD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,i)}const nM=T.createElement(tM,null);class rM extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(xr.Provider,{value:this.props.routeContext},T.createElement(r1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sM(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(ny);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(xr.Provider,{value:e},r)}function iM(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ut(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||nM);let f=e.concat(i.slice(0,c+1)),p=()=>{let m;return u?m=h:l.route.Component?m=T.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,T.createElement(sM,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?T.createElement(rM,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var Kg;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Kg||(Kg={}));var cc;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(cc||(cc={}));function oM(t){let e=T.useContext(ny);return e||ut(!1),e}function aM(t){let e=T.useContext(n1);return e||ut(!1),e}function lM(t){let e=T.useContext(xr);return e||ut(!1),e}function i1(t){let e=lM(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function cM(){var t;let e=T.useContext(r1),n=aM(cc.UseRouteError),r=i1(cc.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function uM(){let{router:t}=oM(Kg.UseNavigateStable),e=i1(cc.UseNavigateStable),n=T.useRef(!1);return s1(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ih({fromRouteId:e},i)))},[t,e])}function dM(t){let{to:e,replace:n,state:r,relative:s}=t;Sa()||ut(!1);let{matches:i}=T.useContext(xr),{pathname:o}=wn(),a=dn(),l=ty(e,ey(i).map(u=>u.pathnameBase),o,s==="path"),c=JSON.stringify(l);return T.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:s}),[a,c,s,n,r]),null}function hs(t){return JD(t.context)}function ie(t){ut(!1)}function hM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xs.Pop,navigator:i,static:o=!1}=t;Sa()&&ut(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Qi(r));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:p="default"}=r,m=T.useMemo(()=>{let g=Zv(c,a);return g==null?null:{location:{pathname:g,search:u,hash:h,state:f,key:p},navigationType:s}},[a,c,u,h,f,p,s]);return m==null?null:T.createElement(Yi.Provider,{value:l},T.createElement(hf.Provider,{children:n,value:m}))}function am(t){let{children:e,location:n}=t;return ZD(Qg(e),n)}var jS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(jS||(jS={}));new Promise(()=>{});function Qg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,Qg(r.props.children,i));return}r.type!==ie&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Qg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function oh(){return oh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oh.apply(this,arguments)}function o1(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function fM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pM(t,e){return t.button===0&&(!e||e==="_self")&&!fM(t)}function Yg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function mM(t,e){let n=Yg(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)});return n}const gM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],_M=["aria-current","caseSensitive","className","end","style","to","children"],$S="startTransition";function vM(t){let{basename:e,children:n,window:r}=t,s=T.useRef();s.current==null&&(s.current=CD({window:r,v5Compat:!0}));let i=s.current,[o,a]=T.useState({action:i.action,location:i.location}),l=T.useCallback(c=>{$S in x0?x0[$S](()=>a(c)):a(c)},[a]);return T.useLayoutEffect(()=>i.listen(l),[i,l]),T.createElement(hM,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const yM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",EM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=o1(e,gM),{basename:f}=T.useContext(Yi),p,m=!1;if(typeof c=="string"&&EM.test(c)&&(p=c,yM))try{let v=new URL(window.location.href),y=c.startsWith("//")?new URL(v.protocol+c):new URL(c),S=Zv(y.pathname,f);y.origin===v.origin&&S!=null?c=S+y.search+y.hash:m=!0}catch{}let g=QD(c,{relative:s}),E=SM(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s});function _(v){r&&r(v),v.defaultPrevented||E(v)}return T.createElement("a",oh({},h,{href:p||g,onClick:m||i?r:_,ref:n,target:l}))}),jn=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,children:c}=e,u=o1(e,_M),h=ry(l,{relative:u.relative}),f=wn(),p=T.useContext(n1),{navigator:m}=T.useContext(Yi),g=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,E=f.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(E=E.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase());let v=E===g||!o&&E.startsWith(g)&&E.charAt(g.length)==="/",y=_!=null&&(_===g||!o&&_.startsWith(g)&&_.charAt(g.length)==="/"),S=v?r:void 0,w;typeof i=="function"?w=i({isActive:v,isPending:y}):w=[i,v?"active":null,y?"pending":null].filter(Boolean).join(" ");let N=typeof a=="function"?a({isActive:v,isPending:y}):a;return T.createElement(ft,oh({},u,{"aria-current":S,className:w,ref:n,style:N,to:l}),typeof c=="function"?c({isActive:v,isPending:y}):c)});var FS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(FS||(FS={}));var US;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(US||(US={}));function SM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=dn(),l=wn(),c=ry(t,{relative:o});return T.useCallback(u=>{if(pM(u,n)){u.preventDefault();let h=r!==void 0?r:sh(l)===sh(c);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,c,r,s,n,t,i,o])}function wM(t){let e=T.useRef(Yg(t)),n=T.useRef(!1),r=wn(),s=T.useMemo(()=>mM(r.search,n.current?null:e.current),[r.search]),i=dn(),o=T.useCallback((a,l)=>{const c=Yg(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(t,e){if(!t)throw wa(e)},wa=function(t){return new Error("Firebase Database ("+a1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},TM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},sy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(l1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new CM;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class CM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const c1=function(t){const e=l1(t);return sy.encodeByteArray(e,!0)},ah=function(t){return c1(t).replace(/\./g,"")},lh=function(t){try{return sy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IM(t){return u1(void 0,t)}function u1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!RM(n)||(t[n]=u1(t[n],e[n]));return t}function RM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM=()=>xM().__FIREBASE_DEFAULTS__,AM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&lh(t[1]);return e&&JSON.parse(e)},iy=()=>{try{return NM()||AM()||bM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},d1=t=>{var e,n;return(n=(e=iy())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},h1=t=>{const e=d1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f1=()=>{var t;return(t=iy())===null||t===void 0?void 0:t.config},p1=t=>{var e;return(e=iy())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ah(JSON.stringify(n)),ah(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ay(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function kM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function g1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function PM(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _1(){return a1.NODE_ADMIN===!0}function LM(){try{return typeof indexedDB=="object"}catch{return!1}}function OM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DM="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=DM,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$c.prototype.create)}}class $c{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?MM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Nr(s,a,r)}}function MM(t,e){return t.replace(VM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){return JSON.parse(t)}function Dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=uc(lh(i[0])||""),n=uc(lh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},jM=function(t){const e=v1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},$M=function(t){const e=v1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ea(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Xg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ch(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function uh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(BS(i)&&BS(o)){if(!uh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function BS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function pl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):h<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function UM(t,e){const n=new BM(t,e);return n.subscribe.bind(n)}class BM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");zM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lm),s.error===void 0&&(s.error=lm),s.complete===void 0&&(s.complete=lm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lm(){}function HM(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ff=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new oy;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KM(e))try{this.getOrInitializeService({instanceIdentifier:mi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=mi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mi){return this.instances.has(e)}getOptions(e=mi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mi){return this.component?this.component.multipleInstances?e:mi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GM(t){return t===mi?void 0:t}function KM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const YM={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},XM=ke.INFO,JM={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},ZM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=JM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pf{constructor(e){this.name=e,this._logLevel=XM,this._logHandler=ZM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const eV=(t,e)=>e.some(n=>t instanceof n);let zS,HS;function tV(){return zS||(zS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nV(){return HS||(HS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const y1=new WeakMap,Jg=new WeakMap,E1=new WeakMap,cm=new WeakMap,ly=new WeakMap;function rV(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Fs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&y1.set(n,t)}).catch(()=>{}),ly.set(e,t),e}function sV(t){if(Jg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Jg.set(t,e)}let Zg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Jg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||E1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iV(t){Zg=t(Zg)}function oV(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(um(this),e,...n);return E1.set(r,e.sort?e.sort():[e]),Fs(r)}:nV().includes(t)?function(...e){return t.apply(um(this),e),Fs(y1.get(this))}:function(...e){return Fs(t.apply(um(this),e))}}function aV(t){return typeof t=="function"?oV(t):(t instanceof IDBTransaction&&sV(t),eV(t,tV())?new Proxy(t,Zg):t)}function Fs(t){if(t instanceof IDBRequest)return rV(t);if(cm.has(t))return cm.get(t);const e=aV(t);return e!==t&&(cm.set(t,e),ly.set(e,t)),e}const um=t=>ly.get(t);function lV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Fs(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Fs(o.result),l.oldVersion,l.newVersion,Fs(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const cV=["get","getKey","getAll","getAllKeys","count"],uV=["put","add","delete","clear"],dm=new Map;function WS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=uV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||cV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return dm.set(e,i),i}iV(t=>({...t,get:(e,n,r)=>WS(e,n)||t.get(e,n,r),has:(e,n)=>!!WS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function hV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const e_="@firebase/app",qS="0.9.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new pf("@firebase/app"),fV="@firebase/app-compat",pV="@firebase/analytics-compat",mV="@firebase/analytics",gV="@firebase/app-check-compat",_V="@firebase/app-check",vV="@firebase/auth",yV="@firebase/auth-compat",EV="@firebase/database",SV="@firebase/database-compat",wV="@firebase/functions",TV="@firebase/functions-compat",CV="@firebase/installations",IV="@firebase/installations-compat",RV="@firebase/messaging",xV="@firebase/messaging-compat",NV="@firebase/performance",AV="@firebase/performance-compat",bV="@firebase/remote-config",kV="@firebase/remote-config-compat",PV="@firebase/storage",LV="@firebase/storage-compat",OV="@firebase/firestore",DV="@firebase/firestore-compat",MV="firebase",VV="10.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_="[DEFAULT]",jV={[e_]:"fire-core",[fV]:"fire-core-compat",[mV]:"fire-analytics",[pV]:"fire-analytics-compat",[_V]:"fire-app-check",[gV]:"fire-app-check-compat",[vV]:"fire-auth",[yV]:"fire-auth-compat",[EV]:"fire-rtdb",[SV]:"fire-rtdb-compat",[wV]:"fire-fn",[TV]:"fire-fn-compat",[CV]:"fire-iid",[IV]:"fire-iid-compat",[RV]:"fire-fcm",[xV]:"fire-fcm-compat",[NV]:"fire-perf",[AV]:"fire-perf-compat",[bV]:"fire-rc",[kV]:"fire-rc-compat",[PV]:"fire-gcs",[LV]:"fire-gcs-compat",[OV]:"fire-fst",[DV]:"fire-fst-compat","fire-js":"fire-js",[MV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,n_=new Map;function $V(t,e){try{t.container.addComponent(e)}catch(n){Di.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ks(t){const e=t.name;if(n_.has(e))return Di.debug(`There were multiple attempts to register component ${e}.`),!1;n_.set(e,t);for(const n of dh.values())$V(n,t);return!0}function mf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Us=new $c("app","Firebase",FV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Us.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ni=VV;function S1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:t_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Us.create("bad-app-name",{appName:String(s)});if(n||(n=f1()),!n)throw Us.create("no-options");const i=dh.get(s);if(i){if(uh(n,i.options)&&uh(r,i.config))return i;throw Us.create("duplicate-app",{appName:s})}const o=new QM(s);for(const l of n_.values())o.addComponent(l);const a=new UV(n,r,o);return dh.set(s,a),a}function cy(t=t_){const e=dh.get(t);if(!e&&t===t_&&f1())return S1();if(!e)throw Us.create("no-app",{appName:t});return e}function zn(t,e,n){var r;let s=(r=jV[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Di.warn(a.join(" "));return}Ks(new ns(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV="firebase-heartbeat-database",zV=1,dc="firebase-heartbeat-store";let hm=null;function w1(){return hm||(hm=lV(BV,zV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(dc)}}}).catch(t=>{throw Us.create("idb-open",{originalErrorMessage:t.message})})),hm}async function HV(t){try{return await(await w1()).transaction(dc).objectStore(dc).get(T1(t))}catch(e){if(e instanceof Nr)Di.warn(e.message);else{const n=Us.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Di.warn(n.message)}}}async function GS(t,e){try{const r=(await w1()).transaction(dc,"readwrite");await r.objectStore(dc).put(e,T1(t)),await r.done}catch(n){if(n instanceof Nr)Di.warn(n.message);else{const r=Us.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Di.warn(r.message)}}}function T1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WV=1024,qV=30*24*60*60*1e3;class GV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=KS();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=qV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=KS(),{heartbeatsToSend:n,unsentEntries:r}=KV(this._heartbeatsCache.heartbeats),s=ah(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function KS(){return new Date().toISOString().substring(0,10)}function KV(t,e=WV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),QS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),QS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class QV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LM()?OM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await HV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return GS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return GS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function QS(t){return ah(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YV(t){Ks(new ns("platform-logger",e=>new dV(e),"PRIVATE")),Ks(new ns("heartbeat",e=>new GV(e),"PRIVATE")),zn(e_,qS,t),zn(e_,qS,"esm2017"),zn("fire-js","")}YV("");function uy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function YS(t){return t!==void 0&&t.enterprise!==void 0}class XV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function C1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const JV=C1,I1=new $c("auth","Firebase",C1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new pf("@firebase/auth");function ZV(t,...e){hh.logLevel<=ke.WARN&&hh.warn(`Auth (${ni}): ${t}`,...e)}function Sd(t,...e){hh.logLevel<=ke.ERROR&&hh.error(`Auth (${ni}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw dy(t,...e)}function Sr(t,...e){return dy(t,...e)}function R1(t,e,n){const r=Object.assign(Object.assign({},JV()),{[e]:n});return new $c("auth","Firebase",r).create(e,{appName:t.name})}function ej(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(t,"argument-error"),R1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function dy(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return I1.create(t,...e)}function ce(t,e,...n){if(!t)throw dy(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Sd(e),new Error(e)}function rs(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tj(){return XS()==="http:"||XS()==="https:"}function XS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tj()||kM()||"connection"in navigator)?navigator.onLine:!0}function rj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=ay()||g1()}get(){return nj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=new Fc(3e4,6e4);function ri(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function si(t,e,n,r,s={}){return N1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ta(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),x1.fetch()(A1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function N1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},sj),e);try{const s=new oj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Bu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Bu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Bu(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw R1(t,u,c);Gn(t,u)}}catch(s){if(s instanceof Nr)throw s;Gn(t,"network-request-failed",{message:String(s)})}}async function Uc(t,e,n,r,s={}){const i=await si(t,e,n,r,s);return"mfaPendingCredential"in i&&Gn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function A1(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?hy(t.config,s):`${t.config.apiScheme}://${s}`}class oj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),ij.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Bu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sr(t,e,r);return s.customData._tokenResponse=n,s}async function aj(t,e){return si(t,"GET","/v2/recaptchaConfig",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lj(t,e){return si(t,"POST","/v1/accounts:delete",e)}async function cj(t,e){return si(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uj(t,e=!1){const n=at(t),r=await n.getIdToken(e),s=fy(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:kl(fm(s.auth_time)),issuedAtTime:kl(fm(s.iat)),expirationTime:kl(fm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function fm(t){return Number(t)*1e3}function fy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Sd("JWT malformed, contained fewer than 3 sections"),null;try{const s=lh(n);return s?JSON.parse(s):(Sd("Failed to decode base64 JWT payload"),null)}catch(s){return Sd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function dj(t){const e=fy(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&hj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function hj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=kl(this.lastLoginAt),this.creationTime=kl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await hc(t,cj(n,{idToken:r}));ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?gj(i.providerUserInfo):[],a=mj(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new b1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function pj(t){const e=at(t);await fh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function mj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function gj(t){return t.map(e=>{var{providerId:n}=e,r=uy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _j(t,e){const n=await N1(t,{},async()=>{const r=Ta({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=A1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",x1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):dj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await _j(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new fc;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fc,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=uy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new b1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await hc(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uj(this,e)}reload(){return pj(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await hc(this,lj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:S,isAnonymous:w,providerData:N,stsTokenManager:A}=n;ce(y&&A,e,"internal-error");const k=fc.fromJSON(this.name,A);ce(typeof y=="string",e,"internal-error"),vs(h,e.name),vs(f,e.name),ce(typeof S=="boolean",e,"internal-error"),ce(typeof w=="boolean",e,"internal-error"),vs(p,e.name),vs(m,e.name),vs(g,e.name),vs(E,e.name),vs(_,e.name),vs(v,e.name);const G=new xi({uid:y,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:w,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:k,createdAt:_,lastLoginAt:v});return N&&Array.isArray(N)&&(G.providerData=N.map(M=>Object.assign({},M))),E&&(G._redirectEventId=E),G}static async _fromIdTokenResponse(e,n,r=!1){const s=new fc;s.updateFromServerResponse(n);const i=new xi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await fh(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Map;function Wr(t){rs(t instanceof Function,"Expected a class definition");let e=JS.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}k1.type="NONE";const ZS=k1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(t,e,n){return`firebase:${t}:${e}:${n}`}class Vo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wd(this.userKey,s.apiKey,i),this.fullPersistenceKey=wd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Vo(Wr(ZS),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Wr(ZS);const o=wd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=xi._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Vo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Vo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(P1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M1(e))return"Blackberry";if(V1(e))return"Webos";if(py(e))return"Safari";if((e.includes("chrome/")||L1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function P1(t=tn()){return/firefox\//i.test(t)}function py(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function L1(t=tn()){return/crios\//i.test(t)}function O1(t=tn()){return/iemobile/i.test(t)}function D1(t=tn()){return/android/i.test(t)}function M1(t=tn()){return/blackberry/i.test(t)}function V1(t=tn()){return/webos/i.test(t)}function gf(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function vj(t=tn()){var e;return gf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yj(){return PM()&&document.documentMode===10}function j1(t=tn()){return gf(t)||D1(t)||V1(t)||M1(t)||/windows phone/i.test(t)||O1(t)}function Ej(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(t,e=[]){let n;switch(t){case"Browser":n=ew(tn());break;case"Worker":n=`${ew(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ni}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wj(t,e={}){return si(t,"GET","/v2/passwordPolicy",ri(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tj=6;class Cj{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Tj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ij{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tw(this),this.idTokenSubscription=new tw(this),this.beforeStateQueue=new Sj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Vo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?at(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wj(this),n=new Cj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new $c("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Vo.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ps(t){return at(t)}class tw{constructor(e){this.auth=e,this.observer=null,this.addObserver=UM(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function F1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Sr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",Rj().appendChild(r)})}function xj(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Nj="https://www.google.com/recaptcha/enterprise.js?render=",Aj="recaptcha-enterprise",bj="NO_RECAPTCHA";class kj{constructor(e){this.type=Aj,this.auth=ps(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{aj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new XV(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;YS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(bj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&YS(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}F1(Nj+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ph(t,e,n,r=!1){const s=new kj(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(t,e){const n=mf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(uh(i,e??{}))return s;Gn(s,"already-initialized")}return n.initialize({options:e})}function Lj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Oj(t,e,n){const r=ps(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=U1(e),{host:o,port:a}=Dj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Mj()}function U1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Dj(t){const e=U1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:nw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:nw(o)}}}function nw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Mj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function Vj(t,e){return si(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pm(t,e){return Uc(t,"POST","/v1/accounts:signInWithPassword",ri(t,e))}async function jj(t,e){return si(t,"POST","/v1/accounts:sendOobCode",ri(t,e))}async function $j(t,e){return jj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fj(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,e))}async function Uj(t,e){return Uc(t,"POST","/v1/accounts:signInWithEmailLink",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc extends my{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new pc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new pc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await ph(e,r,"signInWithPassword");return pm(e,s)}else return pm(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await ph(e,r,"signInWithPassword");return pm(e,i)}else return Promise.reject(s)});case"emailLink":return Fj(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return Vj(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Uj(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t,e){return Uc(t,"POST","/v1/accounts:signInWithIdp",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj="http://localhost";class Mi extends my{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=uy(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Mi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return jo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jo(e,n)}buildRequest(){const e={requestUri:Bj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ta(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Hj(t){const e=fl(pl(t)).link,n=e?fl(pl(e)).deep_link_id:null,r=fl(pl(t)).deep_link_id;return(r?fl(pl(r)).link:null)||r||n||e||t}class gy{constructor(e){var n,r,s,i,o,a;const l=fl(pl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=zj((s=l.mode)!==null&&s!==void 0?s:null);ce(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Hj(e);try{return new gy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(e,n){return pc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gy.parseLink(n);return ce(r,"argument-error"),pc._fromEmailAndCode(e,r.code,r.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends _y{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Bc{constructor(){super("facebook.com")}static credential(e){return Mi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Bc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mi._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Bc{constructor(){super("github.com")}static credential(e){return Mi._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends Bc{constructor(){super("twitter.com")}static credential(e,n){return Mi._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mm(t,e){return Uc(t,"POST","/v1/accounts:signUp",ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await xi._fromIdTokenResponse(e,r,s),o=rw(r);return new Vi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=rw(r);return new Vi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function rw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh extends Nr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,mh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new mh(e,n,r,s)}}function B1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?mh._fromErrorAndOperation(t,i,e,r):i})}async function Wj(t,e,n=!1){const r=await hc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Vi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await hc(t,B1(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=fy(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Vi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(t,e,n=!1){const r="signIn",s=await B1(t,r,e),i=await Vi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Gj(t,e){return z1(ps(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(t,e,n){var r;ce(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ce(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ce(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ce(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(t){const e=ps(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Qj(t,e,n){var r;const s=ps(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await ph(s,i,"signUpPassword");o=mm(s,c)}else o=mm(s,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await ph(s,i,"signUpPassword");return mm(s,u)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&H1(t),c}),l=await Vi._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function sw(t,e,n){return Gj(at(t),Ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&H1(t),r})}async function Yj(t,e){const n=at(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Kj(n.auth,s,e);const{email:i}=await $j(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xj(t,e){return at(t).setPersistence(e)}function Jj(t,e,n,r){return at(t).onIdTokenChanged(e,n,r)}function Zj(t,e,n){return at(t).beforeAuthStateChanged(e,n)}function _f(t,e,n,r){return at(t).onAuthStateChanged(e,n,r)}function e$(t){return at(t).signOut()}const gh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(gh,"1"),this.storage.removeItem(gh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(){const t=tn();return py(t)||gf(t)}const n$=1e3,r$=10;class q1 extends W1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=t$()&&Ej(),this.fallbackToPolling=j1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);yj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,r$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},n$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}q1.type="LOCAL";const s$=q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends W1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}G1.type="SESSION";const vy=G1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new vf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await i$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=yy("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function a$(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function l$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function c$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function u$(){return K1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firebaseLocalStorageDb",d$=1,_h="firebaseLocalStorage",Y1="fbase_key";class zc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yf(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function h$(){const t=indexedDB.deleteDatabase(Q1);return new zc(t).toPromise()}function s_(){const t=indexedDB.open(Q1,d$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_h,{keyPath:Y1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await h$(),e(await s_()))})})}async function iw(t,e,n){const r=yf(t,!0).put({[Y1]:e,value:n});return new zc(r).toPromise()}async function f$(t,e){const n=yf(t,!1).get(e),r=await new zc(n).toPromise();return r===void 0?null:r.value}function ow(t,e){const n=yf(t,!0).delete(e);return new zc(n).toPromise()}const p$=800,m$=3;class X1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await s_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>m$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vf._getInstance(u$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await l$(),!this.activeServiceWorker)return;this.sender=new o$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||c$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await s_();return await iw(e,gh,"1"),await ow(e,gh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>f$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ow(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=yf(s,!1).getAll();return new zc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),p$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X1.type="LOCAL";const g$=X1;new Fc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(t,e){return e?Wr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey extends my{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function _$(t){return z1(t.auth,new Ey(t),t.bypassAuthState)}function v$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),qj(n,new Ey(t),t.bypassAuthState)}async function y$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),Wj(n,new Ey(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _$;case"linkViaPopup":case"linkViaRedirect":return y$;case"reauthViaPopup":case"reauthViaRedirect":return v$;default:Gn(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=new Fc(2e3,1e4);class xo extends Z1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,xo.currentPopupAction&&xo.currentPopupAction.cancel(),xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=yy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E$.get())};e()}}xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="pendingRedirect",Td=new Map;class w$ extends Z1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Td.get(this.auth._key());if(!e){try{const r=await T$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Td.set(this.auth._key(),e)}return this.bypassAuthState||Td.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T$(t,e){const n=tx(e),r=ex(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function C$(t,e){return ex(t)._set(tx(e),"true")}function I$(t,e){Td.set(t._key(),e)}function ex(t){return Wr(t._redirectPersistence)}function tx(t){return wd(S$,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(t,e,n){return R$(t,e,n)}async function R$(t,e,n){const r=ps(t);ej(t,e,_y),await r._initializationPromise;const s=J1(r,n);return await C$(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function nx(t,e){return await ps(t)._initializationPromise,rx(t,e,!1)}async function rx(t,e,n=!1){const r=ps(t),s=J1(r,e),o=await new w$(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=10*60*1e3;class N${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!A$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sx(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=x$&&this.cachedEventUids.clear(),this.cachedEventUids.has(aw(e))}saveEventToCache(e){this.cachedEventUids.add(aw(e)),this.lastProcessedEventTime=Date.now()}}function aw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function A$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b$(t,e={}){return si(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,P$=/^https?/;async function L$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await b$(t);for(const n of e)try{if(O$(n))return}catch{}Gn(t,"unauthorized-domain")}function O$(t){const e=r_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!P$.test(n))return!1;if(k$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D$=new Fc(3e4,6e4);function lw(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function M$(t){return new Promise((e,n)=>{var r,s,i;function o(){lw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lw(),n(Sr(t,"network-request-failed"))},timeout:D$.get()})}if(!((s=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=wr().gapi)===null||i===void 0)&&i.load)o();else{const a=xj("iframefcb");return wr()[a]=()=>{gapi.load?o():n(Sr(t,"network-request-failed"))},F1(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Cd=null,e})}let Cd=null;function V$(t){return Cd=Cd||M$(t),Cd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=new Fc(5e3,15e3),$$="__/auth/iframe",F$="emulator/auth/iframe",U$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},B$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function z$(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?hy(e,F$):`https://${t.config.authDomain}/${$$}`,r={apiKey:e.apiKey,appName:t.name,v:ni},s=B$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ta(r).slice(1)}`}async function H$(t){const e=await V$(t),n=wr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:z$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:U$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Sr(t,"network-request-failed"),a=wr().setTimeout(()=>{i(o)},j$.get());function l(){wr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},q$=500,G$=600,K$="_blank",Q$="http://localhost";class cw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Y$(t,e,n,r=q$,s=G$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},W$),{width:r.toString(),height:s.toString(),top:i,left:o}),c=tn().toLowerCase();n&&(a=L1(c)?K$:n),P1(c)&&(e=e||Q$,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(vj(c)&&a!=="_self")return X$(e||"",a),new cw(null);const h=window.open(e||"",a,u);ce(h,t,"popup-blocked");try{h.focus()}catch{}return new cw(h)}function X$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J$="__/auth/handler",Z$="emulator/auth/handler",e2=encodeURIComponent("fac");async function uw(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ni,eventId:s};if(e instanceof _y){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Xg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof Bc){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${e2}=${encodeURIComponent(l)}`:"";return`${t2(t)}?${Ta(a).slice(1)}${c}`}function t2({config:t}){return t.emulator?hy(t,Z$):`https://${t.authDomain}/${J$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm="webStorageSupport";class n2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vy,this._completeRedirectFn=rx,this._overrideRedirectResult=I$}async _openPopup(e,n,r,s){var i;rs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await uw(e,n,r,r_(),s);return Y$(e,o,yy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await uw(e,n,r,r_(),s);return a$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H$(e),r=new N$(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gm,{type:gm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[gm];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return j1()||py()||gf()}}const r2=n2;var dw="@firebase/auth",hw="1.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function o2(t){Ks(new ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$1(t)},c=new Ij(r,s,i,l);return Lj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ks(new ns("auth-internal",e=>{const n=ps(e.getProvider("auth").getImmediate());return(r=>new s2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(dw,hw,i2(t)),zn(dw,hw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2=5*60,l2=p1("authIdTokenMaxAge")||a2;let fw=null;const c2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>l2)return;const s=n==null?void 0:n.token;fw!==s&&(fw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ss(t=cy()){const e=mf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Pj(t,{popupRedirectResolver:r2,persistence:[g$,s$,vy]}),r=p1("authTokenSyncURL");if(r){const i=c2(r);Zj(n,i,()=>i(n.currentUser)),Jj(n,o=>i(o))}const s=d1("auth");return s&&Oj(n,`http://${s}`),n}o2("Browser");function u2(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var d2=u2,Se=d2;function h2(t){return!!t&&typeof t.then=="function"}var Ke=h2;function f2(t,e){if(t!=null)return t;throw Se(e??"Got unexpected null or undefined")}var nt=f2;function ve(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Ef{getValue(){throw Se("BaseLoadable")}toPromise(){throw Se("BaseLoadable")}valueMaybe(){throw Se("BaseLoadable")}valueOrThrow(){throw Se(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Se("BaseLoadable")}promiseOrThrow(){throw Se(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Se("BaseLoadable")}errorOrThrow(){throw Se(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Se("BaseLoadable")}}class p2 extends Ef{constructor(e){super(),ve(this,"state","hasValue"),ve(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Ke(n)?ji(n):ta(n)?n:Hc(n)}catch(n){return Ke(n)?ji(n.next(()=>this.map(e))):Sf(n)}}}class m2 extends Ef{constructor(e){super(),ve(this,"state","hasError"),ve(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class ix extends Ef{constructor(e){super(),ve(this,"state","loading"),ve(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return ji(this.contents.then(n=>{const r=e(n);if(ta(r)){const s=r;switch(s.state){case"hasValue":return s.contents;case"hasError":throw s.contents;case"loading":return s.contents}}return r}).catch(n=>{if(Ke(n))return n.then(()=>this.map(e).contents);throw n}))}}function Hc(t){return Object.freeze(new p2(t))}function Sf(t){return Object.freeze(new m2(t))}function ji(t){return Object.freeze(new ix(t))}function ox(){return Object.freeze(new ix(new Promise(()=>{})))}function g2(t){return t.every(e=>e.state==="hasValue")?Hc(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?Sf(nt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):ji(Promise.all(t.map(e=>e.contents)))}function ax(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(s=>t[s])).map(s=>ta(s)?s:Ke(s)?ji(s):Hc(s)),r=g2(n);return Array.isArray(t)?r:r.map(s=>Object.getOwnPropertyNames(t).reduce((i,o,a)=>({...i,[o]:s[a]}),{}))}function ta(t){return t instanceof Ef}const _2={of:t=>Ke(t)?ji(t):ta(t)?t:Hc(t),error:t=>Sf(t),loading:()=>ox(),all:ax,isLoadable:ta};var Xi={loadableWithValue:Hc,loadableWithError:Sf,loadableWithPromise:ji,loadableLoading:ox,loadableAll:ax,isLoadable:ta,RecoilLoadable:_2},v2=Xi.loadableWithValue,y2=Xi.loadableWithError,E2=Xi.loadableWithPromise,S2=Xi.loadableLoading,w2=Xi.loadableAll,T2=Xi.isLoadable,C2=Xi.RecoilLoadable,Wc=Object.freeze({__proto__:null,loadableWithValue:v2,loadableWithError:y2,loadableWithPromise:E2,loadableLoading:S2,loadableAll:w2,isLoadable:T2,RecoilLoadable:C2});const i_={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function I2(t,e){var n,r;const s=(n=process.env[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(s==null||s==="")return;if(!["true","false"].includes(s))throw Se(`({}).${t} value must be 'true', 'false', or empty: ${s}`);e(s==="true")}function R2(t,e){var n;const r=(n=process.env[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function x2(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(I2("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{i_.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),R2("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{i_.RECOIL_GKS_ENABLED.add(n)})}))}x2();var Ia=i_;function wf(t){return Ia.RECOIL_GKS_ENABLED.has(t)}wf.setPass=t=>{Ia.RECOIL_GKS_ENABLED.add(t)};wf.setFail=t=>{Ia.RECOIL_GKS_ENABLED.delete(t)};wf.clear=()=>{Ia.RECOIL_GKS_ENABLED.clear()};var Fe=wf;function N2(t,e,{error:n}={}){return null}var A2=N2,Sy=A2,_m,vm,ym;const b2=(_m=pe.createMutableSource)!==null&&_m!==void 0?_m:pe.unstable_createMutableSource,lx=(vm=pe.useMutableSource)!==null&&vm!==void 0?vm:pe.unstable_useMutableSource,cx=(ym=pe.useSyncExternalStore)!==null&&ym!==void 0?ym:pe.unstable_useSyncExternalStore;function k2(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function P2(){return Fe("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Fe("recoil_sync_external_store")&&cx!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Fe("recoil_mutable_source")&&lx!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Fe("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Fe("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function L2(){return!1}var qc={createMutableSource:b2,useMutableSource:lx,useSyncExternalStore:cx,currentRendererSupportsUseSyncExternalStore:k2,reactMode:P2,isFastRefreshEnabled:L2};class wy{constructor(e){ve(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class ux extends wy{}class dx extends wy{}function O2(t){return t instanceof ux||t instanceof dx}var Tf={AbstractRecoilValue:wy,RecoilState:ux,RecoilValueReadOnly:dx,isRecoilValue:O2},D2=Tf.AbstractRecoilValue,M2=Tf.RecoilState,V2=Tf.RecoilValueReadOnly,j2=Tf.isRecoilValue,na=Object.freeze({__proto__:null,AbstractRecoilValue:D2,RecoilState:M2,RecoilValueReadOnly:V2,isRecoilValue:j2});function $2(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Cf=$2;class hx{}const F2=new hx,$i=new Map,Ty=new Map;function U2(t){return Cf(t,e=>nt(Ty.get(e)))}function B2(t){if($i.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function z2(t){Ia.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&B2(t.key),$i.set(t.key,t);const e=t.set==null?new na.RecoilValueReadOnly(t.key):new na.RecoilState(t.key);return Ty.set(t.key,e),e}class fx extends Error{}function H2(t){const e=$i.get(t);if(e==null)throw new fx(`Missing definition for RecoilValue: "${t}""`);return e}function W2(t){return $i.get(t)}const vh=new Map;function q2(t){var e;if(!Fe("recoil_memory_managament_2020"))return;const n=$i.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;$i.delete(t),(r=px(t))===null||r===void 0||r(),vh.delete(t)}}function G2(t,e){Fe("recoil_memory_managament_2020")&&(e===void 0?vh.delete(t):vh.set(t,e))}function px(t){return vh.get(t)}var Tn={nodes:$i,recoilValues:Ty,registerNode:z2,getNode:H2,getNodeMaybe:W2,deleteNodeConfigIfPossible:q2,setConfigDeletionHandler:G2,getConfigDeletionHandler:px,recoilValuesForKeys:U2,NodeMissingError:fx,DefaultValue:hx,DEFAULT_VALUE:F2};function K2(t,e){e()}var Q2={enqueueExecution:K2};function Y2(t,e){return e={exports:{}},t(e,e.exports),e.exports}var X2=Y2(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},n={},r=5,s=Math.pow(2,r),i=s-1,o=s/2,a=s/4,l={},c=function(C){return function(){return C}},u=n.hash=function(R){var C=typeof R>"u"?"undefined":e(R);if(C==="number")return R;C!=="string"&&(R+="");for(var F=0,Y=0,X=R.length;Y<X;++Y){var te=R.charCodeAt(Y);F=(F<<5)-F+te|0}return F},h=function(C){return C-=C>>1&1431655765,C=(C&858993459)+(C>>2&858993459),C=C+(C>>4)&252645135,C+=C>>8,C+=C>>16,C&127},f=function(C,F){return F>>>C&i},p=function(C){return 1<<C},m=function(C,F){return h(C&F-1)},g=function(C,F,Y,X){var te=X;if(!C){var he=X.length;te=new Array(he);for(var ue=0;ue<he;++ue)te[ue]=X[ue]}return te[F]=Y,te},E=function(C,F,Y){var X=Y.length-1,te=0,he=0,ue=Y;if(C)te=he=F;else for(ue=new Array(X);te<F;)ue[he++]=Y[te++];for(++te;te<=X;)ue[he++]=Y[te++];return C&&(ue.length=X),ue},_=function(C,F,Y,X){var te=X.length;if(C){for(var he=te;he>=F;)X[he--]=X[he];return X[F]=Y,X}for(var ue=0,de=0,Ce=new Array(te+1);ue<F;)Ce[de++]=X[ue++];for(Ce[F]=Y;ue<te;)Ce[++de]=X[ue++];return Ce},v=1,y=2,S=3,w=4,N={__hamt_isEmpty:!0},A=function(C){return C===N||C&&C.__hamt_isEmpty},k=function(C,F,Y,X){return{type:v,edit:C,hash:F,key:Y,value:X,_modify:V}},G=function(C,F,Y){return{type:y,edit:C,hash:F,children:Y,_modify:O}},M=function(C,F,Y){return{type:S,edit:C,mask:F,children:Y,_modify:W}},P=function(C,F,Y){return{type:w,edit:C,size:F,children:Y,_modify:ae}},x=function(C){return C===N||C.type===v||C.type===y},b=function(C,F,Y,X,te){for(var he=[],ue=X,de=0,Ce=0;ue;++Ce)ue&1&&(he[Ce]=te[de++]),ue>>>=1;return he[F]=Y,P(C,de+1,he)},H=function(C,F,Y,X){for(var te=new Array(F-1),he=0,ue=0,de=0,Ce=X.length;de<Ce;++de)if(de!==Y){var et=X[de];et&&!A(et)&&(te[he++]=et,ue|=1<<de)}return M(C,ue,te)},se=function R(C,F,Y,X,te,he){if(Y===te)return G(C,Y,[he,X]);var ue=f(F,Y),de=f(F,te);return M(C,p(ue)|p(de),ue===de?[R(C,F+r,Y,X,te,he)]:ue<de?[X,he]:[he,X])},Ee=function(C,F,Y,X,te,he,ue,de){for(var Ce=te.length,et=0;et<Ce;++et){var fn=te[et];if(Y(ue,fn.key)){var wt=fn.value,Dn=he(wt);return Dn===wt?te:Dn===l?(--de.value,E(C,et,te)):g(C,et,k(F,X,ue,Dn),te)}}var Qn=he();return Qn===l?te:(++de.value,g(C,Ce,k(F,X,ue,Qn),te))},we=function(C,F){return C===F.edit},V=function(C,F,Y,X,te,he,ue){if(F(he,this.key)){var de=X(this.value);return de===this.value?this:de===l?(--ue.value,N):we(C,this)?(this.value=de,this):k(C,te,he,de)}var Ce=X();return Ce===l?this:(++ue.value,se(C,Y,this.hash,this,te,k(C,te,he,Ce)))},O=function(C,F,Y,X,te,he,ue){if(te===this.hash){var de=we(C,this),Ce=Ee(de,C,F,this.hash,this.children,X,he,ue);return Ce===this.children?this:Ce.length>1?G(C,this.hash,Ce):Ce[0]}var et=X();return et===l?this:(++ue.value,se(C,Y,this.hash,this,te,k(C,te,he,et)))},W=function(C,F,Y,X,te,he,ue){var de=this.mask,Ce=this.children,et=f(Y,te),fn=p(et),wt=m(de,fn),Dn=de&fn,Qn=Dn?Ce[wt]:N,so=Qn._modify(C,F,Y+r,X,te,he,ue);if(Qn===so)return this;var Cu=we(C,this),ja=de,$a=void 0;if(Dn&&A(so)){if(ja&=~fn,!ja)return N;if(Ce.length<=2&&x(Ce[wt^1]))return Ce[wt^1];$a=E(Cu,wt,Ce)}else if(!Dn&&!A(so)){if(Ce.length>=o)return b(C,et,so,de,Ce);ja|=fn,$a=_(Cu,wt,so,Ce)}else $a=g(Cu,wt,so,Ce);return Cu?(this.mask=ja,this.children=$a,this):M(C,ja,$a)},ae=function(C,F,Y,X,te,he,ue){var de=this.size,Ce=this.children,et=f(Y,te),fn=Ce[et],wt=(fn||N)._modify(C,F,Y+r,X,te,he,ue);if(fn===wt)return this;var Dn=we(C,this),Qn=void 0;if(A(fn)&&!A(wt))++de,Qn=g(Dn,et,wt,Ce);else if(!A(fn)&&A(wt)){if(--de,de<=a)return H(C,de,et,Ce);Qn=g(Dn,et,N,Ce)}else Qn=g(Dn,et,wt,Ce);return Dn?(this.size=de,this.children=Qn,this):P(C,de,Qn)};N._modify=function(R,C,F,Y,X,te,he){var ue=Y();return ue===l?N:(++he.value,k(R,X,te,ue))};function I(R,C,F,Y,X){this._editable=R,this._edit=C,this._config=F,this._root=Y,this._size=X}I.prototype.setTree=function(R,C){return this._editable?(this._root=R,this._size=C,this):R===this._root?this:new I(this._editable,this._edit,this._config,R,C)};var j=n.tryGetHash=function(R,C,F,Y){for(var X=Y._root,te=0,he=Y._config.keyEq;;)switch(X.type){case v:return he(F,X.key)?X.value:R;case y:{if(C===X.hash)for(var ue=X.children,de=0,Ce=ue.length;de<Ce;++de){var et=ue[de];if(he(F,et.key))return et.value}return R}case S:{var fn=f(te,C),wt=p(fn);if(X.mask&wt){X=X.children[m(X.mask,wt)],te+=r;break}return R}case w:{if(X=X.children[f(te,C)],X){te+=r;break}return R}default:return R}};I.prototype.tryGetHash=function(R,C,F){return j(R,C,F,this)};var $=n.tryGet=function(R,C,F){return j(R,F._config.hash(C),C,F)};I.prototype.tryGet=function(R,C){return $(R,C,this)};var re=n.getHash=function(R,C,F){return j(void 0,R,C,F)};I.prototype.getHash=function(R,C){return re(R,C,this)},n.get=function(R,C){return j(void 0,C._config.hash(R),R,C)},I.prototype.get=function(R,C){return $(C,R,this)};var J=n.has=function(R,C,F){return j(l,R,C,F)!==l};I.prototype.hasHash=function(R,C){return J(R,C,this)};var _e=n.has=function(R,C){return J(C._config.hash(R),R,C)};I.prototype.has=function(R){return _e(R,this)};var Te=function(C,F){return C===F};n.make=function(R){return new I(0,0,{keyEq:R&&R.keyEq||Te,hash:R&&R.hash||u},N,0)},n.empty=n.make();var le=n.isEmpty=function(R){return R&&!!A(R._root)};I.prototype.isEmpty=function(){return le(this)};var Je=n.modifyHash=function(R,C,F,Y){var X={value:Y._size},te=Y._root._modify(Y._editable?Y._edit:NaN,Y._config.keyEq,0,R,C,F,X);return Y.setTree(te,X.value)};I.prototype.modifyHash=function(R,C,F){return Je(F,R,C,this)};var St=n.modify=function(R,C,F){return Je(R,F._config.hash(C),C,F)};I.prototype.modify=function(R,C){return St(C,R,this)};var je=n.setHash=function(R,C,F,Y){return Je(c(F),R,C,Y)};I.prototype.setHash=function(R,C,F){return je(R,C,F,this)};var Ze=n.set=function(R,C,F){return je(F._config.hash(R),R,C,F)};I.prototype.set=function(R,C){return Ze(R,C,this)};var On=c(l),Lr=n.removeHash=function(R,C,F){return Je(On,R,C,F)};I.prototype.removeHash=I.prototype.deleteHash=function(R,C){return Lr(R,C,this)};var rn=n.remove=function(R,C){return Lr(C._config.hash(R),R,C)};I.prototype.remove=I.prototype.delete=function(R){return rn(R,this)};var $t=n.beginMutation=function(R){return new I(R._editable+1,R._edit+1,R._config,R._root,R._size)};I.prototype.beginMutation=function(){return $t(this)};var Tu=n.endMutation=function(R){return R._editable=R._editable&&R._editable-1,R};I.prototype.endMutation=function(){return Tu(this)};var BP=n.mutate=function(R,C){var F=$t(C);return R(F),Tu(F)};I.prototype.mutate=function(R){return BP(R,this)};var kp=function(C){return C&&S0(C[0],C[1],C[2],C[3],C[4])},S0=function(C,F,Y,X,te){for(;Y<C;){var he=F[Y++];if(he&&!A(he))return w0(he,X,[C,F,Y,X,te])}return kp(te)},w0=function(C,F,Y){switch(C.type){case v:return{value:F(C),rest:Y};case y:case w:case S:var X=C.children;return S0(X.length,X,0,F,Y);default:return kp(Y)}},zP={done:!0};function Pp(R){this.v=R}Pp.prototype.next=function(){if(!this.v)return zP;var R=this.v;return this.v=kp(R.rest),R},Pp.prototype[Symbol.iterator]=function(){return this};var Lp=function(C,F){return new Pp(w0(C._root,F))},HP=function(C){return[C.key,C.value]},WP=n.entries=function(R){return Lp(R,HP)};I.prototype.entries=I.prototype[Symbol.iterator]=function(){return WP(this)};var qP=function(C){return C.key},GP=n.keys=function(R){return Lp(R,qP)};I.prototype.keys=function(){return GP(this)};var KP=function(C){return C.value},QP=n.values=I.prototype.values=function(R){return Lp(R,KP)};I.prototype.values=function(){return QP(this)};var T0=n.fold=function(R,C,F){var Y=F._root;if(Y.type===v)return R(C,Y.value,Y.key);for(var X=[Y.children],te=void 0;te=X.pop();)for(var he=0,ue=te.length;he<ue;){var de=te[he++];de&&de.type&&(de.type===v?C=R(C,de.value,de.key):X.push(de.children))}return C};I.prototype.fold=function(R,C){return T0(R,C,this)};var YP=n.forEach=function(R,C){return T0(function(F,Y,X){return R(Y,X,C)},null,C)};I.prototype.forEach=function(R){return YP(R,this)};var XP=n.count=function(R){return R._size};I.prototype.count=function(){return XP(this)},Object.defineProperty(I.prototype,"size",{get:I.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class J2{constructor(e){ve(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Iy(this)}toMap(){return new Map(this._map)}}class Cy{constructor(e){if(ve(this,"_hamt",X2.empty.beginMutation()),e instanceof Cy){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Iy(this)}toMap(){return new Map(this._hamt)}}function Iy(t){return Fe("recoil_hamt_2020")?new Cy(t):new J2(t)}var Z2={persistentMap:Iy},eF=Z2.persistentMap,tF=Object.freeze({__proto__:null,persistentMap:eF});function nF(t,...e){const n=new Set;e:for(const r of t){for(const s of e)if(s.has(r))continue e;n.add(r)}return n}var Pl=nF;function rF(t,e){const n=new Map;return t.forEach((r,s)=>{n.set(s,e(r,s))}),n}var yh=rF;function sF(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function iF(t){return{nodeDeps:yh(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:yh(t.nodeToNodeSubscriptions,e=>new Set(e))}}function Em(t,e,n,r){const{nodeDeps:s,nodeToNodeSubscriptions:i}=n,o=s.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;s.set(t,e);const a=o==null?e:Pl(e,o);for(const l of a)i.has(l)||i.set(l,new Set),nt(i.get(l)).add(t);if(o){const l=Pl(o,e);for(const c of l){if(!i.has(c))return;const u=nt(i.get(c));u.delete(t),u.size===0&&i.delete(c)}}}function oF(t,e,n,r){var s,i,o,a;const l=n.getState();r===l.currentTree.version||r===((s=l.nextTree)===null||s===void 0?void 0:s.version)||((i=l.previousTree)===null||i===void 0||i.version);const c=n.getGraph(r);if(Em(t,e,c),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const h=n.getGraph(l.currentTree.version);Em(t,e,h,c)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var u;const h=(u=l.nextTree)===null||u===void 0?void 0:u.version;if(h!==void 0){const f=n.getGraph(h);Em(t,e,f,c)}}}var Gc={cloneGraph:iF,graph:sF,saveDepsToStore:oF};let aF=0;const lF=()=>aF++;let cF=0;const uF=()=>cF++;let dF=0;const hF=()=>dF++;var If={getNextTreeStateVersion:lF,getNextStoreID:uF,getNextComponentID:hF};const{persistentMap:pw}=tF,{graph:fF}=Gc,{getNextTreeStateVersion:mx}=If;function gx(){const t=mx();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:pw(),nonvalidatedAtoms:pw()}}function pF(){const t=gx();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,fF()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var _x={makeEmptyTreeState:gx,makeEmptyStoreState:pF,getNextTreeStateVersion:mx};class vx{}function mF(){return new vx}var Rf={RetentionZone:vx,retentionZone:mF};function gF(t,e){const n=new Set(t);return n.add(e),n}function _F(t,e){const n=new Set(t);return n.delete(e),n}function vF(t,e,n){const r=new Map(t);return r.set(e,n),r}function yF(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function EF(t,e){const n=new Map(t);return n.delete(e),n}function SF(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var yx={setByAddingToSet:gF,setByDeletingFromSet:_F,mapBySettingInMap:vF,mapByUpdatingInMap:yF,mapByDeletingFromMap:EF,mapByDeletingMultipleFromMap:SF};function*wF(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Ry=wF;function TF(t,e){return new Proxy(t,{get:(r,s)=>(!(s in r)&&s in e&&(r[s]=e[s]()),r[s]),ownKeys:r=>Object.keys(r)})}var Ex=TF;const{getNode:Kc,getNodeMaybe:CF,recoilValuesForKeys:mw}=Tn,{RetentionZone:gw}=Rf,{setByAddingToSet:IF}=yx,RF=Object.freeze(new Set);class xF extends Error{}function NF(t,e,n){if(!Fe("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function s(i){let o=r.get(i);o||r.set(i,o=new Set),o.add(e)}if(n instanceof gw)s(n);else if(Array.isArray(n))for(const i of n)s(i);return()=>{if(!Fe("recoil_memory_managament_2020"))return;const{retention:i}=t.getState();function o(a){const l=i.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&i.nodesRetainedByZone.delete(a)}if(n instanceof gw)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function xy(t,e,n,r){const s=t.getState();if(s.nodeCleanupFunctions.has(n))return;const i=Kc(n),o=NF(t,n,i.retainedBy),a=i.init(t,e,r);s.nodeCleanupFunctions.set(n,()=>{a(),o()})}function AF(t,e,n){xy(t,t.getState().currentTree,e,n)}function bF(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function kF(t,e,n){return xy(t,e,n,"get"),Kc(n).get(t,e)}function Sx(t,e,n){return Kc(n).peek(t,e)}function PF(t,e,n){var r;const s=CF(e);return s==null||(r=s.invalidate)===null||r===void 0||r.call(s,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:IF(t.dirtyAtoms,e)}}function LF(t,e,n,r){const s=Kc(n);if(s.set==null)throw new xF(`Attempt to set read-only RecoilValue: ${n}`);const i=s.set;return xy(t,e,n,"set"),i(t,e,r)}function OF(t,e,n){const r=t.getState(),s=t.getGraph(e.version),i=Kc(n).nodeType;return Ex({type:i},{loadable:()=>Sx(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>i==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return mw((o=s.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:mw(Ry(wx(t,e,new Set([n])),l=>l!==n)),components:Cf((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function wx(t,e,n){const r=new Set,s=Array.from(n),i=t.getGraph(e.version);for(let a=s.pop();a;a=s.pop()){var o;r.add(a);const l=(o=i.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:RF;for(const c of l)r.has(c)||s.push(c)}return r}var ii={getNodeLoadable:kF,peekNodeLoadable:Sx,setNodeValue:LF,initializeNode:AF,cleanUpNode:bF,setUnvalidatedAtomValue_DEPRECATED:PF,peekNodeInfo:OF,getDownstreamNodes:wx};let Tx=null;function DF(t){Tx=t}function MF(){var t;(t=Tx)===null||t===void 0||t()}var Cx={setInvalidateMemoizedSnapshot:DF,invalidateMemoizedSnapshot:MF};const{getDownstreamNodes:VF,getNodeLoadable:Ix,setNodeValue:jF}=ii,{getNextComponentID:$F}=If,{getNode:FF,getNodeMaybe:Rx}=Tn,{DefaultValue:Ny}=Tn,{reactMode:UF}=qc,{AbstractRecoilValue:BF,RecoilState:zF,RecoilValueReadOnly:HF,isRecoilValue:WF}=na,{invalidateMemoizedSnapshot:qF}=Cx;function GF(t,{key:e},n=t.getState().currentTree){var r,s;const i=t.getState();n.version===i.currentTree.version||n.version===((r=i.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(s=i.previousTree)===null||s===void 0||s.version);const o=Ix(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function KF(t,e){const n=t.clone();return e.forEach((r,s)=>{r.state==="hasValue"&&r.contents instanceof Ny?n.delete(s):n.set(s,r)}),n}function QF(t,e,{key:n},r){if(typeof r=="function"){const s=Ix(t,e,n);if(s.state==="loading"){const i=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Se(i)}else if(s.state==="hasError")throw s.contents;return r(s.contents)}else return r}function YF(t,e,n){if(n.type==="set"){const{recoilValue:s,valueOrUpdater:i}=n,o=QF(t,e,s,i),a=jF(t,e,s.key,o);for(const[l,c]of a.entries())o_(e,l,c)}else if(n.type==="setLoadable"){const{recoilValue:{key:s},loadable:i}=n;o_(e,s,i)}else if(n.type==="markModified"){const{recoilValue:{key:s}}=n;e.dirtyAtoms.add(s)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:s},unvalidatedValue:i}=n,o=Rx(s);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(s),e.nonvalidatedAtoms.set(s,i),e.dirtyAtoms.add(s)}else Sy(`Unknown action ${n.type}`)}function o_(t,e,n){n.state==="hasValue"&&n.contents instanceof Ny?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function xx(t,e){t.replaceState(n=>{const r=Nx(n);for(const s of e)YF(t,r,s);return Ax(t,r),qF(),r})}function xf(t,e){if(Ll.length){const n=Ll[Ll.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else xx(t,[e])}const Ll=[];function XF(){const t=new Map;return Ll.push(t),()=>{for(const[e,n]of t)xx(e,n);Ll.pop()}}function Nx(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function Ax(t,e){const n=VF(t,e,e.dirtyAtoms);for(const i of n){var r,s;(r=Rx(i))===null||r===void 0||(s=r.invalidate)===null||s===void 0||s.call(r,e)}}function bx(t,e,n){xf(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function JF(t,e,n){if(n instanceof Ny)return bx(t,e,n);xf(t,{type:"setLoadable",recoilValue:e,loadable:n})}function ZF(t,e){xf(t,{type:"markModified",recoilValue:e})}function eU(t,e,n){xf(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function tU(t,{key:e},n,r=null){const s=$F(),i=t.getState();i.nodeToComponentSubscriptions.has(e)||i.nodeToComponentSubscriptions.set(e,new Map),nt(i.nodeToComponentSubscriptions.get(e)).set(s,[r??"<not captured>",n]);const o=UF();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(s)||(l.delete(s),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function nU(t,e){var n;const{currentTree:r}=t.getState(),s=FF(e.key);(n=s.clearCache)===null||n===void 0||n.call(s,t,r)}var Ar={RecoilValueReadOnly:HF,AbstractRecoilValue:BF,RecoilState:zF,getRecoilValueAsLoadable:GF,setRecoilValue:bx,setRecoilValueLoadable:JF,markRecoilValueModified:ZF,setUnvalidatedRecoilValue:eU,subscribeToRecoilValue:tU,isRecoilValue:WF,applyAtomValueWrites:KF,batchStart:XF,writeLoadableToTreeState:o_,invalidateDownstreams:Ax,copyTreeState:Nx,refreshRecoilValue:nU};function rU(t,e,n){const r=t.entries();let s=r.next();for(;!s.done;){const i=s.value;if(e.call(n,i[1],i[0],t))return!0;s=r.next()}return!1}var sU=rU;const{cleanUpNode:iU}=ii,{deleteNodeConfigIfPossible:oU,getNode:kx}=Tn,{RetentionZone:Px}=Rf,aU=12e4,Lx=new Set;function Ox(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const s=new Set;for(const o of e)if(o instanceof Px)for(const a of dU(n,o))s.add(a);else s.add(o);const i=lU(t,s);for(const o of i)uU(t,r,o)}function lU(t,e){const n=t.getState(),r=n.currentTree,s=t.getGraph(r.version),i=new Set,o=new Set;return a(e),i;function a(l){const c=new Set,u=cU(t,r,l,i,o);for(const m of u){var h;if(kx(m).retainedBy==="recoilRoot"){o.add(m);continue}if(((h=n.retention.referenceCounts.get(m))!==null&&h!==void 0?h:0)>0){o.add(m);continue}if(Dx(m).some(E=>n.retention.referenceCounts.get(E))){o.add(m);continue}const g=s.nodeToNodeSubscriptions.get(m);if(g&&sU(g,E=>o.has(E))){o.add(m);continue}i.add(m),c.add(m)}const f=new Set;for(const m of c)for(const g of(p=s.nodeDeps.get(m))!==null&&p!==void 0?p:Lx){var p;i.has(g)||f.add(g)}f.size&&a(f)}}function cU(t,e,n,r,s){const i=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(nt(n.values().next().value));return o;function l(c){if(r.has(c)||s.has(c)){n.delete(c);return}if(a.has(c))return;const u=i.nodeToNodeSubscriptions.get(c);if(u)for(const h of u)l(h);a.add(c),n.delete(c),o.push(c)}}function uU(t,e,n){if(!Fe("recoil_memory_managament_2020"))return;iU(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const s=Dx(n);for(const l of s){var i;(i=r.retention.nodesRetainedByZone.get(l))===null||i===void 0||i.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const c of l){var a;(a=o.nodeToNodeSubscriptions.get(c))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}oU(n)}function dU(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:Lx}function Dx(t){const e=kx(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof Px?[e]:e}function hU(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):Ox(t,new Set([e]))}function fU(t,e,n){var r;if(!Fe("recoil_memory_managament_2020"))return;const s=t.getState().retention.referenceCounts,i=((r=s.get(e))!==null&&r!==void 0?r:0)+n;i===0?Mx(t,e):s.set(e,i)}function Mx(t,e){if(!Fe("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),hU(t,e)}function pU(t){if(!Fe("recoil_memory_managament_2020"))return;const e=t.getState();Ox(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function mU(t){return t===void 0?"recoilRoot":t}var Ji={SUSPENSE_TIMEOUT_MS:aU,updateRetainCount:fU,updateRetainCountToZero:Mx,releaseScheduledRetainablesNow:pU,retainedByOptionWithDefault:mU};const{unstable_batchedUpdates:gU}=TD;var _U={unstable_batchedUpdates:gU};const{unstable_batchedUpdates:vU}=_U;var yU={unstable_batchedUpdates:vU};const{batchStart:EU}=Ar,{unstable_batchedUpdates:SU}=yU;let Ay=SU||(t=>t());const wU=t=>{Ay=t},TU=()=>Ay,CU=t=>{Ay(()=>{let e=()=>{};try{e=EU(),t()}finally{e()}})};var Nf={getBatcher:TU,setBatcher:wU,batchUpdates:CU};function*IU(t){for(const e of t)for(const n of e)yield n}var Vx=IU;const jx=typeof Window>"u"||typeof window>"u",RU=t=>!jx&&(t===window||t instanceof Window),xU=typeof navigator<"u"&&navigator.product==="ReactNative";var Af={isSSR:jx,isReactNative:xU,isWindow:RU};function NU(t,e){let n;return(...r)=>{n||(n={});const s=e(...r);return Object.hasOwnProperty.call(n,s)||(n[s]=t(...r)),n[s]}}function AU(t,e){let n,r;return(...s)=>{const i=e(...s);return n===i||(n=i,r=t(...s)),r}}function bU(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var kU={memoizeWithArgsHash:NU,memoizeOneWithArgsHash:AU,memoizeOneWithArgsHashAndInvalidation:bU};const{batchUpdates:a_}=Nf,{initializeNode:PU,peekNodeInfo:LU}=ii,{graph:OU}=Gc,{getNextStoreID:DU}=If,{DEFAULT_VALUE:MU,recoilValues:_w,recoilValuesForKeys:vw}=Tn,{AbstractRecoilValue:VU,getRecoilValueAsLoadable:jU,setRecoilValue:yw,setUnvalidatedRecoilValue:$U}=Ar,{updateRetainCount:Id}=Ji,{setInvalidateMemoizedSnapshot:FU}=Cx,{getNextTreeStateVersion:UU,makeEmptyStoreState:BU}=_x,{isSSR:zU}=Af,{memoizeOneWithArgsHashAndInvalidation:HU}=kU;class bf{constructor(e,n){ve(this,"_store",void 0),ve(this,"_refCount",1),ve(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),jU(this._store,r))),ve(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),ve(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return vw(o.dirtyAtoms)}const s=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?_w.values():r.isInitialized===!0?vw(Vx([s,i])):Ry(_w.values(),({key:o})=>!s.has(o)&&!i.has(o))}),ve(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),LU(this._store,this._store.getState().currentTree,r))),ve(this,"map",r=>{this.checkRefCount_INTERNAL();const s=new l_(this,a_);return r(s),s}),ve(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const s=new l_(this,a_);return s.retain(),await r(s),s.autoRelease_INTERNAL(),s}),this._store={storeID:DU(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const s=e.graphsByVersion;if(s.has(r))return nt(s.get(r));const i=OU();return s.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Se("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)PU(this._store,r,"get"),Id(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){zU||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Fe("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Fe("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function $x(t,e,n=!1){const r=t.getState(),s=n?UU():e.version;return{currentTree:{version:n?s:e.version,stateID:n?s:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(s,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Cf(r.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function WU(t){const e=new bf(BU());return t!=null?e.map(t):e}const[Ew,Fx]=HU((t,e)=>{var n;const r=t.getState(),s=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:nt(r.previousTree);return new bf($x(t,s),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});FU(Fx);function qU(t,e="latest"){const n=Ew(t,e);return n.isRetained()?n:(Fx(),Ew(t,e))}class l_ extends bf{constructor(e,n){super($x(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),ve(this,"_batch",void 0),ve(this,"set",(r,s)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Id(i,r.key,1),yw(this.getStore_INTERNAL(),r,s)})}),ve(this,"reset",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Id(s,r.key,1),yw(this.getStore_INTERNAL(),r,MU)})}),ve(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();a_(()=>{for(const[i,o]of r.entries())Id(s,i,1),$U(s,new VU(i),o)})}),this._batch=n}}var kf={Snapshot:bf,MutableSnapshot:l_,freshSnapshot:WU,cloneSnapshot:qU},GU=kf.Snapshot,KU=kf.MutableSnapshot,QU=kf.freshSnapshot,YU=kf.cloneSnapshot,Pf=Object.freeze({__proto__:null,Snapshot:GU,MutableSnapshot:KU,freshSnapshot:QU,cloneSnapshot:YU});function XU(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var JU=XU;const{useRef:ZU}=pe;function e4(t){const e=ZU(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var Sw=e4;const{getNextTreeStateVersion:t4,makeEmptyStoreState:Ux}=_x,{cleanUpNode:n4,getDownstreamNodes:r4,initializeNode:s4,setNodeValue:i4,setUnvalidatedAtomValue_DEPRECATED:o4}=ii,{graph:a4}=Gc,{cloneGraph:l4}=Gc,{getNextStoreID:Bx}=If,{createMutableSource:Sm,reactMode:zx}=qc,{applyAtomValueWrites:c4}=Ar,{releaseScheduledRetainablesNow:Hx}=Ji,{freshSnapshot:u4}=Pf,{useCallback:d4,useContext:Wx,useEffect:c_,useMemo:h4,useRef:f4,useState:p4}=pe;function Ka(){throw Se("This component must be used inside a <RecoilRoot> component.")}const qx=Object.freeze({storeID:Bx(),getState:Ka,replaceState:Ka,getGraph:Ka,subscribeToTransactions:Ka,addTransactionMetadata:Ka});let u_=!1;function ww(t){if(u_)throw Se("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Fe("recoil_memory_managament_2020")&&Fe("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&Hx(t);const n=e.currentTree.version,r=t4();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,l4(nt(e.graphsByVersion.get(n))))}}const Gx=pe.createContext({current:qx}),Lf=()=>Wx(Gx),Kx=pe.createContext(null);function m4(){return Wx(Kx)}function by(t,e,n){const r=r4(t,n,n.dirtyAtoms);for(const s of r){const i=e.nodeToComponentSubscriptions.get(s);if(i)for(const[o,[a,l]]of i)l(n)}}function Qx(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[s,i]of e.nodeTransactionSubscriptions)if(r.has(s))for(const[o,a]of i)a(t);for(const[s,i]of e.transactionSubscriptions)i(t);(!zx().early||e.suspendedComponentResolvers.size>0)&&(by(t,e,n),e.suspendedComponentResolvers.forEach(s=>s()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(s=>s(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function g4(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,Qx(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Sy("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Fe("recoil_memory_managament_2020")&&n==null&&Hx(t)}finally{e.commitDepth--}}function _4({setNotifyBatcherOfChange:t}){const e=Lf(),[,n]=p4([]);return t(()=>n({})),c_(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),c_(()=>{Q2.enqueueExecution("Batcher",()=>{g4(e.current)})}),null}function v4(t,e){const n=Ux();return e({set:(r,s)=>{const i=n.currentTree,o=i4(t,i,r.key,s),a=new Set(o.keys()),l=i.nonvalidatedAtoms.clone();for(const c of a)l.delete(c);n.currentTree={...i,dirtyAtoms:JU(i.dirtyAtoms,a),atomValues:c4(i.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((s,i)=>{n.currentTree=o4(n.currentTree,i,s)})}}),n}function y4(t){const e=u4(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let Tw=0;function E4({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let s;const i=p=>{const m=s.current.graphsByVersion;if(m.has(p))return nt(m.get(p));const g=a4();return m.set(p,g),g},o=(p,m)=>{if(m==null){const{transactionSubscriptions:g}=h.current.getState(),E=Tw++;return g.set(E,p),{release:()=>{g.delete(E)}}}else{const{nodeTransactionSubscriptions:g}=h.current.getState();g.has(m)||g.set(m,new Map);const E=Tw++;return nt(g.get(m)).set(E,p),{release:()=>{const _=g.get(m);_&&(_.delete(E),_.size===0&&g.delete(m))}}}},a=p=>{ww(h.current);for(const m of Object.keys(p))nt(h.current.getState().nextTree).transactionMetadata[m]=p[m]},l=p=>{ww(h.current);const m=nt(s.current.nextTree);let g;try{u_=!0,g=p(m)}finally{u_=!1}g!==m&&(s.current.nextTree=g,zx().early&&by(h.current,s.current,g),nt(c.current)())},c=f4(null),u=d4(p=>{c.current=p},[c]),h=Sw(()=>n??{storeID:Bx(),getState:()=>s.current,replaceState:l,getGraph:i,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(h.current=n),s=Sw(()=>t!=null?v4(h.current,t):e!=null?y4(e):Ux());const f=h4(()=>Sm==null?void 0:Sm(s,()=>s.current.currentTree.version),[s]);return c_(()=>{const p=h.current;for(const m of new Set(p.getState().knownAtoms))s4(p,m,"get");return()=>{for(const m of p.getState().knownAtoms)n4(p,m)}},[h]),pe.createElement(Gx.Provider,{value:h},pe.createElement(Kx.Provider,{value:f},pe.createElement(_4,{setNotifyBatcherOfChange:u}),r))}function S4(t){const{override:e,...n}=t,r=Lf();return e===!1&&r.current!==qx?t.children:pe.createElement(E4,n)}function w4(){return Lf().current.storeID}var ms={RecoilRoot:S4,useStoreRef:Lf,useRecoilMutableSource:m4,useRecoilStoreID:w4,notifyComponents_FOR_TESTING:by,sendEndOfBatchNotifications_FOR_TESTING:Qx};function T4(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var C4=T4;const{useEffect:I4,useRef:R4}=pe;function x4(t){const e=R4();return I4(()=>{e.current=t}),e.current}var Yx=x4;const{useStoreRef:N4}=ms,{SUSPENSE_TIMEOUT_MS:A4}=Ji,{updateRetainCount:Qa}=Ji,{RetentionZone:b4}=Rf,{useEffect:k4,useRef:P4}=pe,{isSSR:Cw}=Af;function L4(t){if(Fe("recoil_memory_managament_2020"))return O4(t)}function O4(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof b4?o:o.key),r=N4();k4(()=>{if(!Fe("recoil_memory_managament_2020"))return;const o=r.current;if(s.current&&!Cw)window.clearTimeout(s.current),s.current=null;else for(const a of n)Qa(o,a,1);return()=>{for(const a of n)Qa(o,a,-1)}},[r,...n]);const s=P4(),i=Yx(n);if(!Cw&&(i===void 0||!C4(i,n))){const o=r.current;for(const a of n)Qa(o,a,1);if(i)for(const a of i)Qa(o,a,-1);s.current&&window.clearTimeout(s.current),s.current=window.setTimeout(()=>{s.current=null;for(const a of n)Qa(o,a,-1)},A4)}}var ky=L4;function D4(){return"<component name not available>"}var Qc=D4;const{batchUpdates:M4}=Nf,{DEFAULT_VALUE:Xx}=Tn,{currentRendererSupportsUseSyncExternalStore:V4,reactMode:Ra,useMutableSource:j4,useSyncExternalStore:$4}=qc,{useRecoilMutableSource:F4,useStoreRef:br}=ms,{AbstractRecoilValue:d_,getRecoilValueAsLoadable:Yc,setRecoilValue:Eh,setUnvalidatedRecoilValue:U4,subscribeToRecoilValue:ra}=Ar,{useCallback:Sn,useEffect:sa,useMemo:Jx,useRef:Ol,useState:Py}=pe,{setByAddingToSet:B4}=yx,{isSSR:z4}=Af;function Ly(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(s=>{const i=n.current.getState().suspendedComponentResolvers;i.add(s),z4&&Ke(t.contents)&&t.contents.finally(()=>{i.delete(s)})}):t.state==="hasError"?t.contents:Se(`Invalid value of loadable atom "${e.key}"`)}function H4(){const t=Qc(),e=br(),[,n]=Py([]),r=Ol(new Set);r.current=new Set;const s=Ol(new Set),i=Ol(new Map),o=Sn(l=>{const c=i.current.get(l);c&&(c.release(),i.current.delete(l))},[i]),a=Sn((l,c)=>{i.current.has(c)&&n([])},[]);return sa(()=>{const l=e.current;Pl(r.current,s.current).forEach(c=>{if(i.current.has(c))return;const u=ra(l,new d_(c),f=>a(f,c),t);i.current.set(c,u),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),c)}):a(l.getState(),c)}),Pl(s.current,r.current).forEach(c=>{o(c)}),s.current=r.current}),sa(()=>{const l=i.current;return Pl(r.current,new Set(l.keys())).forEach(c=>{const u=ra(e.current,new d_(c),h=>a(h,c),t);l.set(c,u)}),()=>l.forEach((c,u)=>o(u))},[t,e,o,a]),Jx(()=>{function l(m){return g=>{Eh(e.current,m,g)}}function c(m){return()=>Eh(e.current,m,Xx)}function u(m){var g;r.current.has(m.key)||(r.current=B4(r.current,m.key));const E=e.current.getState();return Yc(e.current,m,Ra().early&&(g=E.nextTree)!==null&&g!==void 0?g:E.currentTree)}function h(m){const g=u(m);return Ly(g,m,e)}function f(m){return[h(m),l(m)]}function p(m){return[u(m),l(m)]}return{getRecoilValue:h,getRecoilValueLoadable:u,getRecoilState:f,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:c}},[r,e])}const W4={current:0};function q4(t){const e=br(),n=Qc(),r=Sn(()=>{var a;const l=e.current,c=l.getState(),u=Ra().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return{loadable:Yc(l,t,u),key:t.key}},[e,t]),s=Sn(a=>{let l;return()=>{var c,u;const h=a();return(c=l)!==null&&c!==void 0&&c.loadable.is(h.loadable)&&((u=l)===null||u===void 0?void 0:u.key)===h.key?l:(l=h,h)}},[]),i=Jx(()=>s(r),[r,s]),o=Sn(a=>{const l=e.current;return ra(l,t,a,n).release},[e,t,n]);return $4(o,i,i).loadable}function G4(t){const e=br(),n=Sn(()=>{var c;const u=e.current,h=u.getState(),f=Ra().early&&(c=h.nextTree)!==null&&c!==void 0?c:h.currentTree;return Yc(u,t,f)},[e,t]),r=Sn(()=>n(),[n]),s=Qc(),i=Sn((c,u)=>{const h=e.current;return ra(h,t,()=>{if(!Fe("recoil_suppress_rerender_in_callback"))return u();const p=n();l.current.is(p)||u(),l.current=p},s).release},[e,t,s,n]),o=F4();if(o==null)throw Se("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=j4(o,r,i),l=Ol(a);return sa(()=>{l.current=a}),a}function h_(t){const e=br(),n=Qc(),r=Sn(()=>{var l;const c=e.current,u=c.getState(),h=Ra().early&&(l=u.nextTree)!==null&&l!==void 0?l:u.currentTree;return Yc(c,t,h)},[e,t]),s=Sn(()=>({loadable:r(),key:t.key}),[r,t.key]),i=Sn(l=>{const c=s();return l.loadable.is(c.loadable)&&l.key===c.key?l:c},[s]);sa(()=>{const l=ra(e.current,t,c=>{a(i)},n);return a(i),l.release},[n,t,e,i]);const[o,a]=Py(s);return o.key!==t.key?s().loadable:o.loadable}function K4(t){const e=br(),[,n]=Py([]),r=Qc(),s=Sn(()=>{var a;const l=e.current,c=l.getState(),u=Ra().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return Yc(l,t,u)},[e,t]),i=s(),o=Ol(i);return sa(()=>{o.current=i}),sa(()=>{const a=e.current,l=a.getState(),c=ra(a,t,h=>{var f;if(!Fe("recoil_suppress_rerender_in_callback"))return n([]);const p=s();(f=o.current)!==null&&f!==void 0&&f.is(p)||n(p),o.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var u;if(!Fe("recoil_suppress_rerender_in_callback"))return n([]);const h=s();(u=o.current)!==null&&u!==void 0&&u.is(h)||n(h),o.current=h}return c.release},[r,s,t,e]),i}function Oy(t){return Fe("recoil_memory_managament_2020")&&ky(t),{TRANSITION_SUPPORT:h_,SYNC_EXTERNAL_STORE:V4()?q4:h_,MUTABLE_SOURCE:G4,LEGACY:K4}[Ra().mode](t)}function Zx(t){const e=br(),n=Oy(t);return Ly(n,t,e)}function Of(t){const e=br();return Sn(n=>{Eh(e.current,t,n)},[e,t])}function Q4(t){const e=br();return Sn(()=>{Eh(e.current,t,Xx)},[e,t])}function Y4(t){return[Zx(t),Of(t)]}function X4(t){return[Oy(t),Of(t)]}function J4(){const t=br();return(e,n={})=>{M4(()=>{t.current.addTransactionMetadata(n),e.forEach((r,s)=>U4(t.current,new d_(s),r))})}}function eN(t){return Fe("recoil_memory_managament_2020")&&ky(t),h_(t)}function tN(t){const e=br(),n=eN(t);return Ly(n,t,e)}function Z4(t){return[tN(t),Of(t)]}var eB={recoilComponentGetRecoilValueCount_FOR_TESTING:W4,useRecoilInterface:H4,useRecoilState:Y4,useRecoilStateLoadable:X4,useRecoilValue:Zx,useRecoilValueLoadable:Oy,useResetRecoilState:Q4,useSetRecoilState:Of,useSetUnvalidatedAtomValues:J4,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:eN,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:tN,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Z4};function tB(t,e){const n=new Map;for(const[r,s]of t)e(s,r)&&n.set(r,s);return n}var nB=tB;function rB(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var sB=rB;function iB(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let s;for(;!(s=r.next()).done;)e.set(s.value,t[n].get(s.value))}return e}var oB=iB;const{batchUpdates:aB}=Nf,{DEFAULT_VALUE:lB,getNode:nN,nodes:cB}=Tn,{useStoreRef:Dy}=ms,{AbstractRecoilValue:uB,setRecoilValueLoadable:dB}=Ar,{SUSPENSE_TIMEOUT_MS:hB}=Ji,{cloneSnapshot:Sh}=Pf,{useCallback:Df,useEffect:rN,useRef:Iw,useState:fB}=pe,{isSSR:Rw}=Af;function Mf(t){const e=Dy();rN(()=>e.current.subscribeToTransactions(t).release,[t,e])}function xw(t){const e=t.atomValues.toMap(),n=yh(nB(e,(r,s)=>{const o=nN(s).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return oB(t.nonvalidatedAtoms.toMap(),n)}function pB(t){Mf(Df(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const s=xw(r),i=xw(n),o=yh(cB,l=>{var c,u,h,f;return{persistence_UNSTABLE:{type:(c=(u=l.persistence_UNSTABLE)===null||u===void 0?void 0:u.type)!==null&&c!==void 0?c:"none",backButton:(h=(f=l.persistence_UNSTABLE)===null||f===void 0?void 0:f.backButton)!==null&&h!==void 0?h:!1}}}),a=sB(r.dirtyAtoms,l=>s.has(l)||i.has(l));t({atomValues:s,previousAtomValues:i,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function mB(t){Mf(Df(e=>{const n=Sh(e,"latest"),r=Sh(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function gB(){const t=Dy(),[e,n]=fB(()=>Sh(t.current)),r=Yx(e),s=Iw(),i=Iw();if(Mf(Df(a=>n(Sh(a)),[])),rN(()=>{const a=e.retain();if(s.current&&!Rw){var l;window.clearTimeout(s.current),s.current=null,(l=i.current)===null||l===void 0||l.call(i),i.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!Rw){if(s.current){var o;window.clearTimeout(s.current),s.current=null,(o=i.current)===null||o===void 0||o.call(i),i.current=null}i.current=e.retain(),s.current=window.setTimeout(()=>{var a;s.current=null,(a=i.current)===null||a===void 0||a.call(i),i.current=null},hB)}return e}function sN(t,e){var n;const r=t.getState(),s=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,i=e.getStore_INTERNAL().getState().currentTree;aB(()=>{const o=new Set;for(const c of[s.atomValues.keys(),i.atomValues.keys()])for(const u of c){var a,l;((a=s.atomValues.get(u))===null||a===void 0?void 0:a.contents)!==((l=i.atomValues.get(u))===null||l===void 0?void 0:l.contents)&&nN(u).shouldRestoreFromSnapshots&&o.add(u)}o.forEach(c=>{dB(t,new uB(c),i.atomValues.has(c)?nt(i.atomValues.get(c)):lB)}),t.replaceState(c=>({...c,stateID:e.getID()}))})}function _B(){const t=Dy();return Df(e=>sN(t.current,e),[t])}var iN={useRecoilSnapshot:gB,gotoSnapshot:sN,useGotoRecoilSnapshot:_B,useRecoilTransactionObserver:mB,useTransactionObservation_DEPRECATED:pB,useTransactionSubscription_DEPRECATED:Mf};const{peekNodeInfo:vB}=ii,{useStoreRef:yB}=ms;function EB(){const t=yB();return({key:e})=>vB(t.current,t.current.getState().currentTree,e)}var SB=EB;const{reactMode:wB}=qc,{RecoilRoot:TB,useStoreRef:CB}=ms,{useMemo:IB}=pe;function RB(){wB().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=CB().current;return IB(()=>{function e({children:n}){return pe.createElement(TB,{store_INTERNAL:t},n)}return e},[t])}var xB=RB;const{loadableWithValue:NB}=Wc,{initializeNode:AB}=ii,{DEFAULT_VALUE:bB,getNode:kB}=Tn,{copyTreeState:PB,getRecoilValueAsLoadable:LB,invalidateDownstreams:OB,writeLoadableToTreeState:DB}=Ar;function Nw(t){return kB(t.key).nodeType==="atom"}class MB{constructor(e,n){ve(this,"_store",void 0),ve(this,"_treeState",void 0),ve(this,"_changes",void 0),ve(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!Nw(r))throw Se("Reading selectors within atomicUpdate is not supported");const s=LB(this._store,r,this._treeState);if(s.state==="hasValue")return s.contents;throw s.state==="hasError"?s.contents:Se(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),ve(this,"set",(r,s)=>{if(!Nw(r))throw Se("Setting selectors within atomicUpdate is not supported");if(typeof s=="function"){const i=this.get(r);this._changes.set(r.key,s(i))}else AB(this._store,r.key,"set"),this._changes.set(r.key,s)}),ve(this,"reset",r=>{this.set(r,bB)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=PB(this._treeState);for(const[n,r]of this._changes)DB(e,n,NB(r));return OB(this._store,e),e}}function VB(t){return e=>{t.replaceState(n=>{const r=new MB(t,n);return e(r),r.newTreeState_INTERNAL()})}}var jB={atomicUpdater:VB},$B=jB.atomicUpdater,oN=Object.freeze({__proto__:null,atomicUpdater:$B});function FB(t,e){if(!t)throw new Error(e)}var UB=FB,gl=UB;const{atomicUpdater:BB}=oN,{batchUpdates:zB}=Nf,{DEFAULT_VALUE:HB}=Tn,{useStoreRef:WB}=ms,{refreshRecoilValue:qB,setRecoilValue:Aw}=Ar,{cloneSnapshot:GB}=Pf,{gotoSnapshot:KB}=iN,{useCallback:QB}=pe;class aN{}const YB=new aN;function lN(t,e,n,r){let s=YB,i;if(zB(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Se(a);const l=Ex({...r??{},set:(u,h)=>Aw(t,u,h),reset:u=>Aw(t,u,HB),refresh:u=>qB(t,u),gotoSnapshot:u=>KB(t,u),transact_UNSTABLE:u=>BB(t)(u)},{snapshot:()=>{const u=GB(t);return i=u.retain(),u}}),c=e(l);if(typeof c!="function")throw Se(a);s=c(...n)}),s instanceof aN&&gl(!1),Ke(s))s=s.finally(()=>{var a;(a=i)===null||a===void 0||a()});else{var o;(o=i)===null||o===void 0||o()}return s}function XB(t,e){const n=WB();return QB((...r)=>lN(n.current,t,r),e!=null?[...e,n]:void 0)}var cN={recoilCallback:lN,useRecoilCallback:XB};const{useStoreRef:JB}=ms,{refreshRecoilValue:ZB}=Ar,{useCallback:ez}=pe;function tz(t){const e=JB();return ez(()=>{const n=e.current;ZB(n,t)},[t,e])}var nz=tz;const{atomicUpdater:rz}=oN,{useStoreRef:sz}=ms,{useMemo:iz}=pe;function oz(t,e){const n=sz();return iz(()=>(...r)=>{rz(n.current)(i=>{t(i)(...r)})},e!=null?[...e,n]:void 0)}var az=oz;class lz{constructor(e){ve(this,"value",void 0),this.value=e}}var cz={WrappedValue:lz},uz=cz.WrappedValue,uN=Object.freeze({__proto__:null,WrappedValue:uz});const{isFastRefreshEnabled:dz}=qc;class bw extends Error{}class hz{constructor(e){var n,r,s;ve(this,"_name",void 0),ve(this,"_numLeafs",void 0),ve(this,"_root",void 0),ve(this,"_onHit",void 0),ve(this,"_onSet",void 0),ve(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(s=e==null?void 0:e.mapNodeValue)!==null&&s!==void 0?s:i=>i}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const s=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(s)}}set(e,n,r){const s=()=>{var i,o,a,l;let c,u;for(const[E,_]of e){var h,f,p;const v=this._root;if((v==null?void 0:v.type)==="leaf")throw this.invalidCacheError();const y=c;if(c=y?y.branches.get(u):v,c=(h=c)!==null&&h!==void 0?h:{type:"branch",nodeKey:E,parent:y,branches:new Map,branchKey:u},c.type!=="branch"||c.nodeKey!==E)throw this.invalidCacheError();y==null||y.branches.set(u,c),r==null||(f=r.onNodeVisit)===null||f===void 0||f.call(r,c),u=this._mapNodeValue(_),this._root=(p=this._root)!==null&&p!==void 0?p:c}const m=c?(i=c)===null||i===void 0?void 0:i.branches.get(u):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==u))throw this.invalidCacheError();const g={type:"leaf",value:n,parent:c,branchKey:u};(o=c)===null||o===void 0||o.branches.set(u,g),this._root=(a=this._root)!==null&&a!==void 0?a:g,this._numLeafs++,this._onSet(g),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,g)};try{s()}catch(i){if(i instanceof bw)this.clear(),s();else throw i}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,s=e.branchKey;for(;r;){var i;if(r.branches.delete(s),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;s=(i=r)===null||i===void 0?void 0:i.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=dz()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Sy(e+(this._name!=null?` - ${this._name}`:"")),new bw}}var fz={TreeCache:hz},pz=fz.TreeCache,dN=Object.freeze({__proto__:null,TreeCache:pz});class mz{constructor(e){var n;ve(this,"_maxSize",void 0),ve(this,"_size",void 0),ve(this,"_head",void 0),ve(this,"_tail",void 0),ve(this,"_map",void 0),ve(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const i=this.head(),o={key:e,right:i,left:null,value:n};i?i.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=nt(this._map.get(n)),s=r.right,i=r.left;s&&(s.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=s),r===this.tail()&&(this._tail=i),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var gz={LRUCache:mz},_z=gz.LRUCache,hN=Object.freeze({__proto__:null,LRUCache:_z});const{LRUCache:vz}=hN,{TreeCache:yz}=dN;function Ez({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new vz({maxSize:e}),s=new yz({name:t,mapNodeValue:n,onHit:i=>{r.set(i,!0)},onSet:i=>{const o=r.tail();r.set(i,!0),o&&s.size()>e&&s.delete(o.key)}});return s}var kw=Ez;function Xn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Se("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Ke(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((s,i)=>Xn(s,e,i.toString()))}]`;if(typeof t.toJSON=="function")return Xn(t.toJSON(n),e,n);if(t instanceof Map){const s={};for(const[i,o]of t)s[typeof i=="string"?i:Xn(i,e)]=o;return Xn(s,e,n)}return t instanceof Set?Xn(Array.from(t).sort((s,i)=>Xn(s,e).localeCompare(Xn(i,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Xn(Array.from(t),e,n):`{${Object.keys(t).filter(s=>t[s]!==void 0).sort().map(s=>`${Xn(s,e)}:${Xn(t[s],e,s)}`).join(",")}}`}function Sz(t,e={allowFunctions:!1}){return Xn(t,e)}var Vf=Sz;const{TreeCache:wz}=dN,zu={equality:"reference",eviction:"keep-all",maxSize:1/0};function Tz({equality:t=zu.equality,eviction:e=zu.eviction,maxSize:n=zu.maxSize}=zu,r){const s=Cz(t);return Iz(e,n,s,r)}function Cz(t){switch(t){case"reference":return e=>e;case"value":return e=>Vf(e)}throw Se(`Unrecognized equality policy ${t}`)}function Iz(t,e,n,r){switch(t){case"keep-all":return new wz({name:r,mapNodeValue:n});case"lru":return kw({name:r,maxSize:nt(e),mapNodeValue:n});case"most-recent":return kw({name:r,maxSize:1,mapNodeValue:n})}throw Se(`Unrecognized eviction policy ${t}`)}var Rz=Tz;function xz(t){return()=>null}var Nz={startPerfBlock:xz};const{isLoadable:Az,loadableWithError:Hu,loadableWithPromise:bz,loadableWithValue:wm}=Wc,{WrappedValue:fN}=uN,{getNodeLoadable:Wu,peekNodeLoadable:kz,setNodeValue:Pz}=ii,{saveDepsToStore:Lz}=Gc,{DEFAULT_VALUE:Oz,getConfigDeletionHandler:Dz,getNode:Mz,registerNode:Pw}=Tn,{isRecoilValue:Vz}=na,{markRecoilValueModified:Lw}=Ar,{retainedByOptionWithDefault:jz}=Ji,{recoilCallback:$z}=cN,{startPerfBlock:Fz}=Nz;class pN{}const Ya=new pN,Xa=[],qu=new Map,Uz=(()=>{let t=0;return()=>t++})();function mN(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:s}=t,i=t.set!=null?t.set:void 0,o=new Set,a=Rz(s??{equality:"reference",eviction:"keep-all"},n),l=jz(t.retainedBy_UNSTABLE),c=new Map;let u=0;function h(){return!Fe("recoil_memory_managament_2020")||u>0}function f(I){return I.getState().knownSelectors.add(n),u++,()=>{u--}}function p(){return Dz(n)!==void 0&&!h()}function m(I,j,$,re,J){Ee(j,re,J),g(I,$)}function g(I,j){H(I,j)&&b(I),_(j,!0)}function E(I,j){H(I,j)&&(nt(M(I)).stateVersions.clear(),_(j,!1))}function _(I,j){const $=qu.get(I);if($!=null){for(const re of $)Lw(re,nt(e));j&&qu.delete(I)}}function v(I,j){let $=qu.get(j);$==null&&qu.set(j,$=new Set),$.add(I)}function y(I,j,$,re,J,_e){return j.then(Te=>{if(!h())throw b(I),Ya;const le=wm(Te);return m(I,$,J,le,re),Te}).catch(Te=>{if(!h())throw b(I),Ya;if(Ke(Te))return S(I,Te,$,re,J,_e);const le=Hu(Te);throw m(I,$,J,le,re),Te})}function S(I,j,$,re,J,_e){return j.then(Te=>{if(!h())throw b(I),Ya;_e.loadingDepKey!=null&&_e.loadingDepPromise===j?$.atomValues.set(_e.loadingDepKey,wm(Te)):I.getState().knownSelectors.forEach(je=>{$.atomValues.delete(je)});const le=A(I,$);if(le&&le.state!=="loading"){if((H(I,J)||M(I)==null)&&g(I,J),le.state==="hasValue")return le.contents;throw le.contents}if(!H(I,J)){const je=G(I,$);if(je!=null)return je.loadingLoadable.contents}const[Je,St]=N(I,$,J);if(Je.state!=="loading"&&m(I,$,J,Je,St),Je.state==="hasError")throw Je.contents;return Je.contents}).catch(Te=>{if(Te instanceof pN)throw Ya;if(!h())throw b(I),Ya;const le=Hu(Te);throw m(I,$,J,le,re),Te})}function w(I,j,$,re){var J,_e,Te,le;if(H(I,re)||j.version===((J=I.getState())===null||J===void 0||(_e=J.currentTree)===null||_e===void 0?void 0:_e.version)||j.version===((Te=I.getState())===null||Te===void 0||(le=Te.nextTree)===null||le===void 0?void 0:le.version)){var Je,St,je;Lz(n,$,I,(Je=(St=I.getState())===null||St===void 0||(je=St.nextTree)===null||je===void 0?void 0:je.version)!==null&&Je!==void 0?Je:I.getState().currentTree.version)}for(const Ze of $)o.add(Ze)}function N(I,j,$){const re=Fz(n);let J=!0,_e=!0;const Te=()=>{re(),_e=!1};let le,Je=!1,St;const je={loadingDepKey:null,loadingDepPromise:null},Ze=new Map;function On({key:rn}){const $t=Wu(I,j,rn);switch(Ze.set(rn,$t),J||(w(I,j,new Set(Ze.keys()),$),E(I,$)),$t.state){case"hasValue":return $t.contents;case"hasError":throw $t.contents;case"loading":throw je.loadingDepKey=rn,je.loadingDepPromise=$t.contents,$t.contents}throw Se("Invalid Loadable state")}const Lr=rn=>(...$t)=>{if(_e)throw Se("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&gl(!1),$z(I,rn,$t,{node:e})};try{le=r({get:On,getCallback:Lr}),le=Vz(le)?On(le):le,Az(le)&&(le.state==="hasError"&&(Je=!0),le=le.contents),Ke(le)?le=y(I,le,j,Ze,$,je).finally(Te):Te(),le=le instanceof fN?le.value:le}catch(rn){le=rn,Ke(le)?le=S(I,le,j,Ze,$,je).finally(Te):(Je=!0,Te())}return Je?St=Hu(le):Ke(le)?St=bz(le):St=wm(le),J=!1,x(I,$,Ze),w(I,j,new Set(Ze.keys()),$),[St,Ze]}function A(I,j){let $=j.atomValues.get(n);if($!=null)return $;const re=new Set;try{$=a.get(_e=>(typeof _e!="string"&&gl(!1),Wu(I,j,_e).contents),{onNodeVisit:_e=>{_e.type==="branch"&&_e.nodeKey!==n&&re.add(_e.nodeKey)}})}catch(_e){throw Se(`Problem with cache lookup for selector "${n}": ${_e.message}`)}if($){var J;j.atomValues.set(n,$),w(I,j,re,(J=M(I))===null||J===void 0?void 0:J.executionID)}return $}function k(I,j){const $=A(I,j);if($!=null)return b(I),$;const re=G(I,j);if(re!=null){var J;return((J=re.loadingLoadable)===null||J===void 0?void 0:J.state)==="loading"&&v(I,re.executionID),re.loadingLoadable}const _e=Uz(),[Te,le]=N(I,j,_e);return Te.state==="loading"?(P(I,_e,Te,le,j),v(I,_e)):(b(I),Ee(j,Te,le)),Te}function G(I,j){const $=Vx([c.has(I)?[nt(c.get(I))]:[],Cf(Ry(c,([J])=>J!==I),([,J])=>J)]);function re(J){for(const[_e,Te]of J)if(!Wu(I,j,_e).is(Te))return!0;return!1}for(const J of $){if(J.stateVersions.get(j.version)||!re(J.depValuesDiscoveredSoFarDuringAsyncWork))return J.stateVersions.set(j.version,!0),J;J.stateVersions.set(j.version,!1)}}function M(I){return c.get(I)}function P(I,j,$,re,J){c.set(I,{depValuesDiscoveredSoFarDuringAsyncWork:re,executionID:j,loadingLoadable:$,stateVersions:new Map([[J.version,!0]])})}function x(I,j,$){if(H(I,j)){const re=M(I);re!=null&&(re.depValuesDiscoveredSoFarDuringAsyncWork=$)}}function b(I){c.delete(I)}function H(I,j){var $;return j===(($=M(I))===null||$===void 0?void 0:$.executionID)}function se(I){return Array.from(I.entries()).map(([j,$])=>[j,$.contents])}function Ee(I,j,$){I.atomValues.set(n,j);try{a.set(se($),j)}catch(re){throw Se(`Problem with setting cache for selector "${n}": ${re.message}`)}}function we(I){if(Xa.includes(n)){const j=`Recoil selector has circular dependencies: ${Xa.slice(Xa.indexOf(n)).join(" → ")}`;return Hu(Se(j))}Xa.push(n);try{return I()}finally{Xa.pop()}}function V(I,j){const $=j.atomValues.get(n);return $??a.get(re=>{var J;return typeof re!="string"&&gl(!1),(J=kz(I,j,re))===null||J===void 0?void 0:J.contents})}function O(I,j){return we(()=>k(I,j))}function W(I){I.atomValues.delete(n)}function ae(I,j){e==null&&gl(!1);for(const re of o){var $;const J=Mz(re);($=J.clearCache)===null||$===void 0||$.call(J,I,j)}o.clear(),W(j),a.clear(),Lw(I,e)}return i!=null?e=Pw({key:n,nodeType:"selector",peek:V,get:O,set:(j,$,re)=>{let J=!1;const _e=new Map;function Te({key:je}){if(J)throw Se("Recoil: Async selector sets are not currently supported.");const Ze=Wu(j,$,je);if(Ze.state==="hasValue")return Ze.contents;if(Ze.state==="loading"){const On=`Getting value of asynchronous atom or selector "${je}" in a pending state while setting selector "${n}" is not yet supported.`;throw Se(On)}else throw Ze.contents}function le(je,Ze){if(J)throw Se("Recoil: Async selector sets are not currently supported.");const On=typeof Ze=="function"?Ze(Te(je)):Ze;Pz(j,$,je.key,On).forEach((rn,$t)=>_e.set($t,rn))}function Je(je){le(je,Oz)}const St=i({set:le,get:Te,reset:Je},re);if(St!==void 0)throw Ke(St)?Se("Recoil: Async selector sets are not currently supported."):Se("Recoil: selector set should be a void function.");return J=!0,_e},init:f,invalidate:W,clearCache:ae,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=Pw({key:n,nodeType:"selector",peek:V,get:O,init:f,invalidate:W,clearCache:ae,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}mN.value=t=>new fN(t);var ia=mN;const{isLoadable:Bz,loadableWithError:Tm,loadableWithPromise:Cm,loadableWithValue:oo}=Wc,{WrappedValue:gN}=uN,{peekNodeInfo:zz}=ii,{DEFAULT_VALUE:_i,DefaultValue:ws,getConfigDeletionHandler:_N,registerNode:Hz,setConfigDeletionHandler:Wz}=Tn,{isRecoilValue:qz}=na,{getRecoilValueAsLoadable:Gz,markRecoilValueModified:Kz,setRecoilValue:Ow,setRecoilValueLoadable:Qz}=Ar,{retainedByOptionWithDefault:Yz}=Ji,Ja=t=>t instanceof gN?t.value:t;function Xz(t){const{key:e,persistence_UNSTABLE:n}=t,r=Yz(t.retainedBy_UNSTABLE);let s=0;function i(v){return Cm(v.then(y=>(o=oo(y),y)).catch(y=>{throw o=Tm(y),y}))}let o=Ke(t.default)?i(t.default):Bz(t.default)?t.default.state==="loading"?i(t.default.contents):t.default:oo(Ja(t.default));o.contents;let a;const l=new Map;function c(v){return v}function u(v,y){const S=y.then(w=>{var N,A;return((A=((N=v.getState().nextTree)!==null&&N!==void 0?N:v.getState().currentTree).atomValues.get(e))===null||A===void 0?void 0:A.contents)===S&&Ow(v,_,w),w}).catch(w=>{var N,A;throw((A=((N=v.getState().nextTree)!==null&&N!==void 0?N:v.getState().currentTree).atomValues.get(e))===null||A===void 0?void 0:A.contents)===S&&Qz(v,_,Tm(w)),w});return S}function h(v,y,S){var w;s++;const N=()=>{var b;s--,(b=l.get(v))===null||b===void 0||b.forEach(H=>H()),l.delete(v)};if(v.getState().knownAtoms.add(e),o.state==="loading"){const b=()=>{var H;((H=v.getState().nextTree)!==null&&H!==void 0?H:v.getState().currentTree).atomValues.has(e)||Kz(v,_)};o.contents.finally(b)}const A=(w=t.effects)!==null&&w!==void 0?w:t.effects_UNSTABLE;if(A!=null){let we=function(j){if(H&&j.key===e){const $=b;return $ instanceof ws?f(v,y):Ke($)?Cm($.then(re=>re instanceof ws?o.toPromise():re)):oo($)}return Gz(v,j)},V=function(j){return we(j).toPromise()},O=function(j){var $;const re=zz(v,($=v.getState().nextTree)!==null&&$!==void 0?$:v.getState().currentTree,j.key);return H&&j.key===e&&!(b instanceof ws)?{...re,isSet:!0,loadable:we(j)}:re};var M=we,P=V,x=O;let b=_i,H=!0,se=!1,Ee=null;const W=j=>$=>{if(H){const re=we(_),J=re.state==="hasValue"?re.contents:_i;b=typeof $=="function"?$(J):$,Ke(b)&&(b=b.then(_e=>(Ee={effect:j,value:_e},_e)))}else{if(Ke($))throw Se("Setting atoms to async values is not implemented.");typeof $!="function"&&(Ee={effect:j,value:Ja($)}),Ow(v,_,typeof $=="function"?re=>{const J=Ja($(re));return Ee={effect:j,value:J},J}:Ja($))}},ae=j=>()=>W(j)(_i),I=j=>$=>{var re;const{release:J}=v.subscribeToTransactions(_e=>{var Te;let{currentTree:le,previousTree:Je}=_e.getState();Je||(Je=le);const St=(Te=le.atomValues.get(e))!==null&&Te!==void 0?Te:o;if(St.state==="hasValue"){var je,Ze,On,Lr;const rn=St.contents,$t=(je=Je.atomValues.get(e))!==null&&je!==void 0?je:o,Tu=$t.state==="hasValue"?$t.contents:_i;((Ze=Ee)===null||Ze===void 0?void 0:Ze.effect)!==j||((On=Ee)===null||On===void 0?void 0:On.value)!==rn?$(rn,Tu,!le.atomValues.has(e)):((Lr=Ee)===null||Lr===void 0?void 0:Lr.effect)===j&&(Ee=null)}},e);l.set(v,[...(re=l.get(v))!==null&&re!==void 0?re:[],J])};for(const j of A)try{const $=j({node:_,storeID:v.storeID,parentStoreID_UNSTABLE:v.parentStoreID,trigger:S,setSelf:W(j),resetSelf:ae(j),onSet:I(j),getPromise:V,getLoadable:we,getInfo_UNSTABLE:O});if($!=null){var k;l.set(v,[...(k=l.get(v))!==null&&k!==void 0?k:[],$])}}catch($){b=$,se=!0}if(H=!1,!(b instanceof ws)){var G;const j=se?Tm(b):Ke(b)?Cm(u(v,b)):oo(Ja(b));j.contents,y.atomValues.set(e,j),(G=v.getState().nextTree)===null||G===void 0||G.atomValues.set(e,j)}}return N}function f(v,y){var S,w;return(S=(w=y.atomValues.get(e))!==null&&w!==void 0?w:a)!==null&&S!==void 0?S:o}function p(v,y){if(y.atomValues.has(e))return nt(y.atomValues.get(e));if(y.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const S=y.nonvalidatedAtoms.get(e),w=n.validator(S,_i);return a=w instanceof ws?o:oo(w),a}else return o}function m(){a=void 0}function g(v,y,S){if(y.atomValues.has(e)){const w=nt(y.atomValues.get(e));if(w.state==="hasValue"&&S===w.contents)return new Map}else if(!y.nonvalidatedAtoms.has(e)&&S instanceof ws)return new Map;return a=void 0,new Map().set(e,oo(S))}function E(){return _N(e)!==void 0&&s<=0}const _=Hz({key:e,nodeType:"atom",peek:f,get:p,set:g,init:h,invalidate:m,shouldDeleteConfigOnRelease:E,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return _}function My(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return qz(n)?Jz({...e,default:n}):Xz({...e,default:n})}function Jz(t){const e=My({...t,default:_i,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof ws?r:nt(t.persistence_UNSTABLE).validator(r,_i)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=ia({key:`${t.key}__withFallback`,get:({get:r})=>{const s=r(e);return s instanceof ws?t.default:s},set:({set:r},s)=>r(e,s),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return Wz(n.key,_N(t.key)),n}My.value=t=>new gN(t);var vN=My;class Zz{constructor(e){var n;ve(this,"_map",void 0),ve(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var e3={MapCache:Zz},t3=e3.MapCache,n3=Object.freeze({__proto__:null,MapCache:t3});const{LRUCache:Dw}=hN,{MapCache:r3}=n3,Gu={equality:"reference",eviction:"none",maxSize:1/0};function s3({equality:t=Gu.equality,eviction:e=Gu.eviction,maxSize:n=Gu.maxSize}=Gu){const r=i3(t);return o3(e,n,r)}function i3(t){switch(t){case"reference":return e=>e;case"value":return e=>Vf(e)}throw Se(`Unrecognized equality policy ${t}`)}function o3(t,e,n){switch(t){case"keep-all":return new r3({mapKey:n});case"lru":return new Dw({mapKey:n,maxSize:nt(e)});case"most-recent":return new Dw({mapKey:n,maxSize:1})}throw Se(`Unrecognized eviction policy ${t}`)}var yN=s3;const{setConfigDeletionHandler:a3}=Tn;function l3(t){var e,n;const r=yN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i,o;const a=r.get(s);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...c}=t,u="default"in t?t.default:new Promise(()=>{}),h=vN({...c,key:`${t.key}__${(i=Vf(s))!==null&&i!==void 0?i:"void"}`,default:typeof u=="function"?u(s):u,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(s):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(s):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(s,h),a3(h.key,()=>{r.delete(s)}),h}}var c3=l3;const{setConfigDeletionHandler:u3}=Tn;let d3=0;function h3(t){var e,n;const r=yN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i;let o;try{o=r.get(s)}catch(f){throw Se(`Problem with cache lookup for selector ${t.key}: ${f.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(i=Vf(s,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${d3++}`,l=f=>t.get(s)(f),c=t.cachePolicy_UNSTABLE,u=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const f=t.set;h=ia({key:a,get:l,set:(m,g)=>f(s)(m,g),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else h=ia({key:a,get:l,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(s,h),u3(h.key,()=>{r.delete(s)}),h}}var oi=h3;const f3=oi({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function p3(t){return f3(t)}var m3=p3;const g3=oi({key:"__error",get:t=>()=>{throw Se(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function _3(t){return g3(t)}var v3=_3;function y3(t){return t}var E3=y3;const{loadableWithError:EN,loadableWithPromise:SN,loadableWithValue:wN}=Wc;function jf(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[s,i]of e.entries())try{n[s]=t(i)}catch(o){r[s]=o}return[n,r]}function S3(t){return t!=null&&!Ke(t)}function $f(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function f_(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,s)=>({...n,[r]:e[s]}),{})}function $o(t,e,n){const r=n.map((s,i)=>s==null?wN(e[i]):Ke(s)?SN(s):EN(s));return f_(t,r)}function w3(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const T3=oi({key:"__waitForNone",get:t=>({get:e})=>{const n=$f(t),[r,s]=jf(e,n);return $o(t,r,s)},dangerouslyAllowMutability:!0}),C3=oi({key:"__waitForAny",get:t=>({get:e})=>{const n=$f(t),[r,s]=jf(e,n);return s.some(i=>!Ke(i))?$o(t,r,s):new Promise(i=>{for(const[o,a]of s.entries())Ke(a)&&a.then(l=>{r[o]=l,s[o]=void 0,i($o(t,r,s))}).catch(l=>{s[o]=l,i($o(t,r,s))})})},dangerouslyAllowMutability:!0}),I3=oi({key:"__waitForAll",get:t=>({get:e})=>{const n=$f(t),[r,s]=jf(e,n);if(s.every(o=>o==null))return f_(t,r);const i=s.find(S3);if(i!=null)throw i;return Promise.all(s).then(o=>f_(t,w3(r,o)))},dangerouslyAllowMutability:!0}),R3=oi({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=$f(t),[r,s]=jf(e,n);return s.every(i=>!Ke(i))?$o(t,r,s):Promise.all(s.map((i,o)=>Ke(i)?i.then(a=>{r[o]=a,s[o]=void 0}).catch(a=>{r[o]=void 0,s[o]=a}):null)).then(()=>$o(t,r,s))},dangerouslyAllowMutability:!0}),x3=oi({key:"__noWait",get:t=>({get:e})=>{try{return ia.value(wN(e(t)))}catch(n){return ia.value(Ke(n)?SN(n):EN(n))}},dangerouslyAllowMutability:!0});var N3={waitForNone:T3,waitForAny:C3,waitForAll:I3,waitForAllSettled:R3,noWait:x3};const{RecoilLoadable:A3}=Wc,{DefaultValue:b3}=Tn,{RecoilRoot:k3,useRecoilStoreID:P3}=ms,{isRecoilValue:L3}=na,{retentionZone:O3}=Rf,{freshSnapshot:D3}=Pf,{useRecoilState:M3,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:V3,useRecoilStateLoadable:j3,useRecoilValue:$3,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:F3,useRecoilValueLoadable:U3,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:B3,useResetRecoilState:z3,useSetRecoilState:H3}=eB,{useGotoRecoilSnapshot:W3,useRecoilSnapshot:q3,useRecoilTransactionObserver:G3}=iN,{useRecoilCallback:K3}=cN,{noWait:Q3,waitForAll:Y3,waitForAllSettled:X3,waitForAny:J3,waitForNone:Z3}=N3;var Vy={DefaultValue:b3,isRecoilValue:L3,RecoilLoadable:A3,RecoilEnv:Ia,RecoilRoot:k3,useRecoilStoreID:P3,useRecoilBridgeAcrossReactRoots_UNSTABLE:xB,atom:vN,selector:ia,atomFamily:c3,selectorFamily:oi,constSelector:m3,errorSelector:v3,readOnlySelector:E3,noWait:Q3,waitForNone:Z3,waitForAny:J3,waitForAll:Y3,waitForAllSettled:X3,useRecoilValue:$3,useRecoilValueLoadable:U3,useRecoilState:M3,useRecoilStateLoadable:j3,useSetRecoilState:H3,useResetRecoilState:z3,useGetRecoilValueInfo_UNSTABLE:SB,useRecoilRefresher_UNSTABLE:nz,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:B3,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:F3,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:V3,useRecoilCallback:K3,useRecoilTransaction_UNSTABLE:az,useGotoRecoilSnapshot:W3,useRecoilSnapshot:q3,useRecoilTransactionObserver_UNSTABLE:G3,snapshot_UNSTABLE:D3,useRetain:ky,retentionZone:O3},e9=Vy.RecoilRoot,jy=Vy.atom,Dl=Vy.useRecoilState;const z={init:function(){this.dpmode.init(),this.viewport.init.evt(),console.log("ui.init")},e:1,aaa:function(){console.log("dsfafsafdsffsafasfdfas")},error:{poster:t=>t.target.src="./img/common/non_poster.png",user:t=>t.target.src="./img/common/user.png"},iosx:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top").replace(/[^0-9]/g,""))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom").replace(/[^0-9]/g,""))||0},viewport:{init:{evt:function(){window.addEventListener("load",this.set),window.addEventListener("resize",this.set)},set:()=>document.documentElement.style.setProperty("--vh",window.innerHeight*.01+"px")},height:()=>parseInt(window.visualViewport?visualViewport.height:window.innerHeight),width:()=>parseInt(window.visualViewport?visualViewport.width:window.innerWidth),docHeight:()=>parseInt(document.documentElement.scrollHeight||document.body.clientHeight),scrollTop:()=>parseInt(document.documentElement.scrollTop)},dateForm:(t,e)=>(e=e===void 0?e="medium":null,new Intl.DateTimeFormat("ko-KR",{dateStyle:e,timeStyle:e}).format(t)),getSafe:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top"))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom"))||0,watch:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-watch"))||0},dpmode:{init:function(){setInterval(this.set,500)},set:function(){const t=window.matchMedia("(display-mode: fullscreen)").matches,e=window.matchMedia("(display-mode: standalone)").matches;t?document.documentElement.classList.add("is-pwa-fullscreen"):document.documentElement.classList.remove("is-pwa-fullscreen"),t?document.documentElement.style.setProperty("--safe-watch","24px"):document.documentElement.style.setProperty("--safe-watch","0px"),e?document.documentElement.classList.add("is-pwa-standalone"):document.documentElement.classList.remove("is-pwa-standalone")}},scrollTo:(t,e,n,r)=>{const s=document.querySelector(t);if(!s)return;console.log(s);const i=s.scrollTop||document.documentElement.scrollTop,o=e,a=performance.now(),l=c=>{const u=c-a,h=Math.min(u/n,1),f=h<.5?4*h*h*h:(h-1)*(2*h-2)*(2*h-2)+1,p=i+(o-i)*f;s===document.body?window.scrollTo(0,p):s.scrollTop=p,u<n?requestAnimationFrame(l):typeof r=="function"&&r()};requestAnimationFrame(l)},popup:{evt:function(){},resize:function(){var s,i;let t=document.querySelector(".pop-layer"),e=t.offsetHeight||0,n=((s=t.querySelector(".pbt"))==null?void 0:s.offsetHeight)||0,r=((i=t.querySelector(".phd"))==null?void 0:i.offsetHeight)||0;e=e-r||0,console.log(e),t.querySelector(".pct").style.maxHeight=e-n+"px"}},alert:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인"},e);if(document.querySelectorAll(".ui-alert").length)return;z.lock.using(!0);var r=`<article class="ui-alert ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-alert");s.classList.add("is-alert"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelectorAll(".btn-confirm, .btn-close").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-alert"),document.querySelectorAll(".pop-layer").length<1&&z.lock.using(!1)}},confirm:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인",ncb:"",nbt:"취소"},e);if(document.querySelectorAll(".ui-confrim").length)return;z.lock.using(!0);let r=`<article class="ui-confrim ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-cancel">${n.nbt}</button>
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-confrim");s.classList.add("is-confrim"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelector(".btn-cancel").addEventListener("click",()=>window.setTimeout(n.ncb)),i.querySelectorAll(".btn-confirm, .btn-close , .btn-cancel").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-confrim"),document.querySelectorAll(".pop-layer").length<1&&z.lock.using(!1)}},loading:{show:function(t){var e="";document.querySelectorAll("body>.ui-loading").length||(console.log(t),(t=="dot"||t==null)&&(e=`<div class="ui-loading ui-loading-dot">
                    <div class="bx"><em><i></i></em></div>
                </div>`),t=="glx"&&(e=`<span class="ui-loading ui-load-glx full">
                <span class="gbx">
                    <em class="bx">
                        <i></i> <i></i><i></i><i></i>
                    </em>
                </span>
              </span>`),document.querySelector("body").insertAdjacentHTML("afterbegin",e),document.querySelector("body").classList.add("is-loading"))},hide:function(){document.querySelectorAll(".ui-loading").forEach(t=>t.remove()),document.querySelector("body").classList.remove("is-loading")}},lock:{sct:0,stat:!1,els:".pop-layer  , .ui-confrim , .ui-alert",set:function(){document.querySelectorAll(this.els).length<=0&&this.using(!1)},using:function(t){const e=document.querySelectorAll("body , html"),n=document.querySelector("html");t===!0&&this.stat===!1&&(z.lock.stat=!0,z.lock.sct=window.scrollY,e.forEach(r=>r.classList.add("is-lock","is-lock-end")),n.style.top=-z.lock.sct+"px"),t===!1&&document.querySelectorAll(this.els).length<=0&&n.classList.contains("is-lock")&&(z.lock.stat=!1,e.forEach(r=>r.classList.remove("is-lock")),n.style.top="",window.scrollTo(0,z.lock.sct),setTimeout(()=>{e.forEach(r=>r.classList.remove("is-lock-end"))},50))}}};window.ui=z;var t9="firebase",n9="10.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(t9,n9,"app");var r9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,$y=$y||{},me=r9||self;function Ff(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function s9(t){return Object.prototype.hasOwnProperty.call(t,Im)&&t[Im]||(t[Im]=++i9)}var Im="closure_uid_"+(1e9*Math.random()>>>0),i9=0;function o9(t,e,n){return t.call.apply(t.bind,arguments)}function a9(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=o9:Yt=a9,Yt.apply(null,arguments)}function Ku(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ai(){this.s=this.s,this.o=this.o}var l9=0;ai.prototype.s=!1;ai.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),l9!=0)&&s9(this)};ai.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const TN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Mw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Ff(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var c9=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function mc(t){return/^[\s\xa0]*$/.test(t)}function Uf(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function pr(t){return Uf().indexOf(t)!=-1}function Uy(t){return Uy[" "](t),t}Uy[" "]=function(){};function u9(t,e){var n=n6;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var d9=pr("Opera"),oa=pr("Trident")||pr("MSIE"),CN=pr("Edge"),p_=CN||oa,IN=pr("Gecko")&&!(Uf().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge"))&&!(pr("Trident")||pr("MSIE"))&&!pr("Edge"),h9=Uf().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge");function RN(){var t=me.document;return t?t.documentMode:void 0}var m_;e:{var Rm="",xm=function(){var t=Uf();if(IN)return/rv:([^\);]+)(\)|;)/.exec(t);if(CN)return/Edge\/([\d\.]+)/.exec(t);if(oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(h9)return/WebKit\/(\S+)/.exec(t);if(d9)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(xm&&(Rm=xm?xm[1]:""),oa){var Nm=RN();if(Nm!=null&&Nm>parseFloat(Rm)){m_=String(Nm);break e}}m_=Rm}var g_;if(me.document&&oa){var Vw=RN();g_=Vw||parseInt(m_,10)||void 0}else g_=void 0;var f9=g_;function gc(t,e){if(Xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(IN){e:{try{Uy(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:p9[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gc.$.h.call(this)}}kt(gc,Xt);var p9={2:"touch",3:"pen",4:"mouse"};gc.prototype.h=function(){gc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jc="closure_listenable_"+(1e6*Math.random()|0),m9=0;function g9(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++m9,this.fa=this.ia=!1}function Bf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function By(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function _9(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function xN(t){const e={};for(const n in t)e[n]=t[n];return e}const jw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function NN(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<jw.length;i++)n=jw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function zf(t){this.src=t,this.g={},this.h=0}zf.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=v_(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new g9(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function __(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=TN(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Bf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function v_(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var zy="closure_lm_"+(1e6*Math.random()|0),Am={};function AN(t,e,n,r,s){if(r&&r.once)return kN(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)AN(t,e[i],n,r,s);return null}return n=qy(n),t&&t[Jc]?t.O(e,n,Xc(r)?!!r.capture:!!r,s):bN(t,e,n,!1,r,s)}function bN(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Xc(s)?!!s.capture:!!s,a=Wy(t);if(a||(t[zy]=a=new zf(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=v9(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)c9||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(LN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function v9(){function t(n){return e.call(t.src,t.listener,n)}const e=y9;return t}function kN(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)kN(t,e[i],n,r,s);return null}return n=qy(n),t&&t[Jc]?t.P(e,n,Xc(r)?!!r.capture:!!r,s):bN(t,e,n,!0,r,s)}function PN(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)PN(t,e[i],n,r,s);else r=Xc(r)?!!r.capture:!!r,n=qy(n),t&&t[Jc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=v_(i,n,r,s),-1<n&&(Bf(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Wy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=v_(e,n,r,s)),(n=-1<t?e[t]:null)&&Hy(n))}function Hy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Jc])__(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(LN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Wy(e))?(__(n,t),n.h==0&&(n.src=null,e[zy]=null)):Bf(t)}}}function LN(t){return t in Am?Am[t]:Am[t]="on"+t}function y9(t,e){if(t.fa)t=!0;else{e=new gc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Hy(t),t=n.call(r,e)}return t}function Wy(t){return t=t[zy],t instanceof zf?t:null}var bm="__closure_events_fn_"+(1e9*Math.random()>>>0);function qy(t){return typeof t=="function"?t:(t[bm]||(t[bm]=function(e){return t.handleEvent(e)}),t[bm])}function bt(){ai.call(this),this.i=new zf(this),this.S=this,this.J=null}kt(bt,ai);bt.prototype[Jc]=!0;bt.prototype.removeEventListener=function(t,e,n,r){PN(this,t,e,n,r)};function Vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Xt(e,t);else if(e instanceof Xt)e.target=e.target||t;else{var s=e;e=new Xt(r,t),NN(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Qu(o,r,!0,e)&&s}if(o=e.g=t,s=Qu(o,r,!0,e)&&s,s=Qu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Qu(o,r,!1,e)&&s}bt.prototype.N=function(){if(bt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Bf(n[r]);delete t.g[e],t.h--}}this.J=null};bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Qu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&__(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Gy=me.JSON.stringify;class E9{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function S9(){var t=Ky;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class w9{constructor(){this.h=this.g=null}add(e,n){const r=ON.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var ON=new E9(()=>new T9,t=>t.reset());class T9{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function C9(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function I9(t){me.setTimeout(()=>{throw t},0)}let _c,vc=!1,Ky=new w9,DN=()=>{const t=me.Promise.resolve(void 0);_c=()=>{t.then(R9)}};var R9=()=>{for(var t;t=S9();){try{t.h.call(t.g)}catch(n){I9(n)}var e=ON;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}vc=!1};function Hf(t,e){bt.call(this),this.h=t||1,this.g=e||me,this.j=Yt(this.qb,this),this.l=Date.now()}kt(Hf,bt);Q=Hf.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vt(this,"tick"),this.ga&&(Qy(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Qy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){Hf.$.N.call(this),Qy(this),delete this.g};function Yy(t,e,n){if(typeof t=="function")n&&(t=Yt(t,n));else if(t&&typeof t.handleEvent=="function")t=Yt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function MN(t){t.g=Yy(()=>{t.g=null,t.i&&(t.i=!1,MN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class x9 extends ai{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:MN(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yc(t){ai.call(this),this.h=t,this.g={}}kt(yc,ai);var $w=[];function VN(t,e,n,r){Array.isArray(n)||(n&&($w[0]=n.toString()),n=$w);for(var s=0;s<n.length;s++){var i=AN(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function jN(t){By(t.g,function(e,n){this.g.hasOwnProperty(n)&&Hy(e)},t),t.g={}}yc.prototype.N=function(){yc.$.N.call(this),jN(this)};yc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Wf(){this.g=!0}Wf.prototype.Ea=function(){this.g=!1};function N9(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function A9(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function No(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+k9(t,n)+(r?" "+r:"")})}function b9(t,e){t.info(function(){return"TIMEOUT: "+e})}Wf.prototype.info=function(){};function k9(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Gy(n)}catch{return e}}var Zi={},Fw=null;function qf(){return Fw=Fw||new bt}Zi.Ta="serverreachability";function $N(t){Xt.call(this,Zi.Ta,t)}kt($N,Xt);function Ec(t){const e=qf();Vt(e,new $N(e))}Zi.STAT_EVENT="statevent";function FN(t,e){Xt.call(this,Zi.STAT_EVENT,t),this.stat=e}kt(FN,Xt);function on(t){const e=qf();Vt(e,new FN(e,t))}Zi.Ua="timingevent";function UN(t,e){Xt.call(this,Zi.Ua,t),this.size=e}kt(UN,Xt);function Zc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var Gf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},BN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Xy(){}Xy.prototype.h=null;function Uw(t){return t.h||(t.h=t.i())}function zN(){}var eu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Jy(){Xt.call(this,"d")}kt(Jy,Xt);function Zy(){Xt.call(this,"c")}kt(Zy,Xt);var y_;function Kf(){}kt(Kf,Xy);Kf.prototype.g=function(){return new XMLHttpRequest};Kf.prototype.i=function(){return{}};y_=new Kf;function tu(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new yc(this),this.P=P9,t=p_?125:void 0,this.V=new Hf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new HN}function HN(){this.i=null,this.g="",this.h=!1}var P9=45e3,E_={},wh={};Q=tu.prototype;Q.setTimeout=function(t){this.P=t};function S_(t,e,n){t.L=1,t.v=Yf(is(e)),t.s=n,t.S=!0,WN(t,null)}function WN(t,e){t.G=Date.now(),nu(t),t.A=is(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),ZN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new HN,t.g=EA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new x9(Yt(t.Pa,t,t.g),t.O)),VN(t.U,t.g,"readystatechange",t.nb),e=t.I?xN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ec(),N9(t.j,t.u,t.A,t.m,t.W,t.s)}Q.nb=function(t){t=t.target;const e=this.M;e&&mr(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const u=mr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||p_||this.g&&(this.h.h||this.g.ja()||Ww(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?Ec(3):Ec(2)),Qf(this);var n=this.g.da();this.ca=n;t:if(qN(this)){var r=Ww(this.g);t="";var s=r.length,i=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Si(this),Ml(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,A9(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!mc(a)){var c=a;break t}}c=null}if(n=c)No(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,w_(this,n);else{this.i=!1,this.o=3,on(12),Si(this),Ml(this);break e}}this.S?(GN(this,u,o),p_&&this.i&&u==3&&(VN(this.U,this.V,"tick",this.mb),this.V.start())):(No(this.j,this.m,o,null),w_(this,o)),u==4&&Si(this),this.i&&!this.J&&(u==4?gA(this.l,this):(this.i=!1,nu(this)))}else Z9(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,on(12)):(this.o=0,on(13)),Si(this),Ml(this)}}}catch{}finally{}};function qN(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function GN(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=L9(t,n),s==wh){e==4&&(t.o=4,on(14),r=!1),No(t.j,t.m,null,"[Incomplete Response]");break}else if(s==E_){t.o=4,on(15),No(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else No(t.j,t.m,s,null),w_(t,s);qN(t)&&s!=wh&&s!=E_&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),iE(e),e.M=!0,on(11))):(No(t.j,t.m,n,"[Invalid Chunked Response]"),Si(t),Ml(t))}Q.mb=function(){if(this.g){var t=mr(this.g),e=this.g.ja();this.C<e.length&&(Qf(this),GN(this,t,e),this.i&&t!=4&&nu(this))}};function L9(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?wh:(n=Number(e.substring(n,r)),isNaN(n)?E_:(r+=1,r+n>e.length?wh:(e=e.slice(r,r+n),t.C=r+n,e)))}Q.cancel=function(){this.J=!0,Si(this)};function nu(t){t.Y=Date.now()+t.P,KN(t,t.P)}function KN(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Zc(Yt(t.lb,t),e)}function Qf(t){t.B&&(me.clearTimeout(t.B),t.B=null)}Q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(b9(this.j,this.A),this.L!=2&&(Ec(),on(17)),Si(this),this.o=2,Ml(this)):KN(this,this.Y-t)};function Ml(t){t.l.H==0||t.J||gA(t.l,t)}function Si(t){Qf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Qy(t.V),jN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function w_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||T_(n.i,t))){if(!t.K&&T_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ih(n),Zf(n);else break e;sE(n),on(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Zc(Yt(n.ib,n),6e3));if(1>=nA(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else wi(n,11)}else if((t.K||n.g==t)&&Ih(n),!mc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(eE(i,i.h),i.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,qe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=yA(r,r.J?r.pa:null,r.Y),o.K){rA(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Qf(a),nu(a)),r.g=o}else pA(r);0<n.j.length&&ep(n)}else c[0]!="stop"&&c[0]!="close"||wi(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?wi(n,7):rE(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ec(4)}catch{}}function O9(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ff(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function D9(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ff(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function QN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ff(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=D9(t),r=O9(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var YN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function M9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ni(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ni){this.h=t.h,Th(this,t.j),this.s=t.s,this.g=t.g,Ch(this,t.m),this.l=t.l;var e=t.i,n=new Sc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Bw(this,n),this.o=t.o}else t&&(e=String(t).match(YN))?(this.h=!1,Th(this,e[1]||"",!0),this.s=_l(e[2]||""),this.g=_l(e[3]||"",!0),Ch(this,e[4]),this.l=_l(e[5]||"",!0),Bw(this,e[6]||"",!0),this.o=_l(e[7]||"")):(this.h=!1,this.i=new Sc(null,this.h))}Ni.prototype.toString=function(){var t=[],e=this.j;e&&t.push(vl(e,zw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(vl(e,zw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(vl(n,n.charAt(0)=="/"?$9:j9,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",vl(n,U9)),t.join("")};function is(t){return new Ni(t)}function Th(t,e,n){t.j=n?_l(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Ch(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Bw(t,e,n){e instanceof Sc?(t.i=e,B9(t.i,t.h)):(n||(e=vl(e,F9)),t.i=new Sc(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function Yf(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function _l(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function vl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,V9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function V9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var zw=/[#\/\?@]/g,j9=/[#\?:]/g,$9=/[#\?]/g,F9=/[#\?@]/g,U9=/#/g;function Sc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function li(t){t.g||(t.g=new Map,t.h=0,t.i&&M9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=Sc.prototype;Q.add=function(t,e){li(this),this.i=null,t=xa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function XN(t,e){li(t),e=xa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function JN(t,e){return li(t),e=xa(t,e),t.g.has(e)}Q.forEach=function(t,e){li(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Q.ta=function(){li(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};Q.Z=function(t){li(this);let e=[];if(typeof t=="string")JN(this,t)&&(e=e.concat(this.g.get(xa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return li(this),this.i=null,t=xa(this,t),JN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function ZN(t,e,n){XN(t,e),0<n.length&&(t.i=null,t.g.set(xa(t,e),Fy(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function xa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function B9(t,e){e&&!t.j&&(li(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(XN(this,r),ZN(this,s,n))},t)),t.j=e}var z9=class{constructor(t,e){this.g=t,this.map=e}};function eA(t){this.l=t||H9,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var H9=10;function tA(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function nA(t){return t.h?1:t.g?t.g.size:0}function T_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function eE(t,e){t.g?t.g.add(e):t.h=e}function rA(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}eA.prototype.cancel=function(){if(this.i=sA(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function sA(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Fy(t.i)}var W9=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function q9(){this.g=new W9}function G9(t,e,n){const r=n||"";try{QN(t,function(s,i){let o=s;Xc(s)&&(o=Gy(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function K9(t,e){const n=new Wf;if(me.Image){const r=new Image;r.onload=Ku(Yu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ku(Yu,n,r,"TestLoadImage: error",!1,e),r.onabort=Ku(Yu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ku(Yu,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Yu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ru(t){this.l=t.fc||null,this.j=t.ob||!1}kt(ru,Xy);ru.prototype.g=function(){return new Xf(this.l,this.j)};ru.prototype.i=function(t){return function(){return t}}({});function Xf(t,e){bt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=tE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(Xf,bt);var tE=0;Q=Xf.prototype;Q.open=function(t,e){if(this.readyState!=tE)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,wc(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,su(this)),this.readyState=tE};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,wc(this)),this.g&&(this.readyState=3,wc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;iA(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function iA(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?su(this):wc(this),this.readyState==3&&iA(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,su(this))};Q.Ya=function(t){this.g&&(this.response=t,su(this))};Q.ka=function(){this.g&&su(this)};function su(t){t.readyState=4,t.l=null,t.j=null,t.A=null,wc(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function wc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Xf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Q9=me.JSON.parse;function lt(t){bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=oA,this.L=this.M=!1}kt(lt,bt);var oA="",Y9=/^https?$/i,X9=["POST","PUT"];Q=lt.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():y_.g(),this.C=this.u?Uw(this.u):Uw(y_),this.g.onreadystatechange=Yt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Hw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=me.FormData&&t instanceof me.FormData,!(0<=TN(X9,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{cA(this),0<this.B&&((this.L=J9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.ua,this)):this.A=Yy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Hw(this,i)}};function J9(t){return oa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof $y<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))};function Hw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,aA(t),Jf(t)}function aA(t){t.F||(t.F=!0,Vt(t,"complete"),Vt(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),Jf(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jf(this,!0)),lt.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?lA(this):this.kb())};Q.kb=function(){lA(this)};function lA(t){if(t.h&&typeof $y<"u"&&(!t.C[1]||mr(t)!=4||t.da()!=2)){if(t.v&&mr(t)==4)Yy(t.La,0,t);else if(Vt(t,"readystatechange"),mr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(YN)[1]||null;!s&&me.self&&me.self.location&&(s=me.self.location.protocol.slice(0,-1)),r=!Y9.test(s?s.toLowerCase():"")}n=r}if(n)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var i=2<mr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",aA(t)}}finally{Jf(t)}}}}function Jf(t,e){if(t.g){cA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function cA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function mr(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Q9(e)}};function Ww(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case oA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Z9(t){const e={};t=(t.g&&2<=mr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(mc(t[r]))continue;var n=C9(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}_9(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function uA(t){let e="";return By(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function nE(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=uA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function Za(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function dA(t){this.Ga=0,this.j=[],this.l=new Wf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Za("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Za("baseRetryDelayMs",5e3,t),this.hb=Za("retryDelaySeedMs",1e4,t),this.eb=Za("forwardChannelMaxRetries",2,t),this.xa=Za("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new eA(t&&t.concurrentRequestLimit),this.Ja=new q9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=dA.prototype;Q.ra=8;Q.H=1;function rE(t){if(hA(t),t.H==3){var e=t.W++,n=is(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),iu(t,n),e=new tu(t,t.l,e),e.L=2,e.v=Yf(is(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=EA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),nu(e)}vA(t)}function Zf(t){t.g&&(iE(t),t.g.cancel(),t.g=null)}function hA(t){Zf(t),t.u&&(me.clearTimeout(t.u),t.u=null),Ih(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function ep(t){if(!tA(t.i)&&!t.m){t.m=!0;var e=t.Na;_c||DN(),vc||(_c(),vc=!0),Ky.add(e,t),t.C=0}}function e6(t,e){return nA(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Zc(Yt(t.Na,t,e),_A(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new tu(this,this.l,t);let i=this.s;if(this.U&&(i?(i=xN(i),NN(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=fA(this,s,e),n=is(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),iu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(uA(i)))+"&"+e:this.o&&nE(n,this.o,i)),eE(this.i,s),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),s.aa=!0,S_(s,n,null)):S_(s,n,e),this.H=2}}else this.H==3&&(t?qw(this,t):this.j.length==0||tA(this.i)||qw(this))};function qw(t,e){var n;e?n=e.m:n=t.W++;const r=is(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),iu(t,r),t.o&&t.s&&nE(r,t.o,t.s),n=new tu(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=fA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),eE(t.i,n),S_(n,r,e)}function iu(t,e){t.na&&By(t.na,function(n,r){qe(e,r,n)}),t.h&&QN({},function(n,r){qe(e,r,n)})}function fA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Yt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{G9(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function pA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;_c||DN(),vc||(_c(),vc=!0),Ky.add(e,t),t.A=0}}function sE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Zc(Yt(t.Ma,t),_A(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,mA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Zc(Yt(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),Zf(this),mA(this))};function iE(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function mA(t){t.g=new tu(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=is(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),iu(t,e),t.o&&t.s&&nE(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Yf(is(e)),n.s=null,n.S=!0,WN(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Zf(this),sE(this),on(19))};function Ih(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function gA(t,e){var n=null;if(t.g==e){Ih(t),iE(t),t.g=null;var r=2}else if(T_(t.i,e))n=e.F,rA(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=qf(),Vt(r,new UN(r,n)),ep(t)}else pA(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&e6(t,e)||r==2&&sE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:wi(t,5);break;case 4:wi(t,10);break;case 3:wi(t,6);break;default:wi(t,2)}}}function _A(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function wi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Yt(t.pb,t);n||(n=new Ni("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||Th(n,"https"),Yf(n)),K9(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),vA(t),hA(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))};function vA(t){if(t.H=0,t.ma=[],t.h){const e=sA(t.i);(e.length!=0||t.j.length!=0)&&(Mw(t.ma,e),Mw(t.ma,t.j),t.i.i.length=0,Fy(t.j),t.j.length=0),t.h.ya()}}function yA(t,e,n){var r=n instanceof Ni?is(n):new Ni(n);if(r.g!="")e&&(r.g=e+"."+r.g),Ch(r,r.m);else{var s=me.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ni(null);r&&Th(i,r),e&&(i.g=e),s&&Ch(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.ra),iu(t,r),r}function EA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new lt(new ru({ob:!0})):new lt(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function SA(){}Q=SA.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function Rh(){if(oa&&!(10<=Number(f9)))throw Error("Environmental error: no available transport.")}Rh.prototype.g=function(t,e){return new kn(t,e)};function kn(t,e){bt.call(this),this.g=new dA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!mc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!mc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Na(this)}kt(kn,bt);kn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=yA(t,null,t.Y),ep(t)};kn.prototype.close=function(){rE(this.g)};kn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Gy(t),t=n);e.j.push(new z9(e.fb++,t)),e.H==3&&ep(e)};kn.prototype.N=function(){this.g.h=null,delete this.j,rE(this.g),delete this.g,kn.$.N.call(this)};function wA(t){Jy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kt(wA,Jy);function TA(){Zy.call(this),this.status=1}kt(TA,Zy);function Na(t){this.g=t}kt(Na,SA);Na.prototype.Ba=function(){Vt(this.g,"a")};Na.prototype.Aa=function(t){Vt(this.g,new wA(t))};Na.prototype.za=function(t){Vt(this.g,new TA)};Na.prototype.ya=function(){Vt(this.g,"b")};function t6(){this.blockSize=-1}function lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kt(lr,t6);lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function km(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}lr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)km(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){km(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){km(this,r),s=0;break}}this.h=s,this.i+=e};lr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var n6={};function oE(t){return-128<=t&&128>t?u9(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function gr(t){if(isNaN(t)||!isFinite(t))return Fo;if(0>t)return Ot(gr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=C_;return new Ve(e,0)}function CA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ot(CA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gr(Math.pow(e,8)),r=Fo,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=gr(Math.pow(e,i)),r=r.R(i).add(gr(o))):(r=r.R(n),r=r.add(gr(o)))}return r}var C_=4294967296,Fo=oE(0),I_=oE(1),Gw=oE(16777216);Q=Ve.prototype;Q.ea=function(){if($n(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:C_+r)*e,e*=C_}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(qr(this))return"0";if($n(this))return"-"+Ot(this).toString(t);for(var e=gr(Math.pow(t,6)),n=this,r="";;){var s=Nh(n,e).g;n=xh(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,qr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function qr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function $n(t){return t.h==-1}Q.X=function(t){return t=xh(this,t),$n(t)?-1:qr(t)?0:1};function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(I_)}Q.abs=function(){return $n(this)?Ot(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function xh(t,e){return t.add(Ot(e))}Q.R=function(t){if(qr(this)||qr(t))return Fo;if($n(this))return $n(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if($n(t))return Ot(this.R(Ot(t)));if(0>this.X(Gw)&&0>t.X(Gw))return gr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Xu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Xu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Xu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Xu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function Xu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function el(t,e){this.g=t,this.h=e}function Nh(t,e){if(qr(e))throw Error("division by zero");if(qr(t))return new el(Fo,Fo);if($n(t))return e=Nh(Ot(t),e),new el(Ot(e.g),Ot(e.h));if($n(e))return e=Nh(t,Ot(e)),new el(Ot(e.g),e.h);if(30<t.g.length){if($n(t)||$n(e))throw Error("slowDivide_ only works with positive integers.");for(var n=I_,r=e;0>=r.X(t);)n=Kw(n),r=Kw(r);var s=ao(n,1),i=ao(r,1);for(r=ao(r,2),n=ao(n,2);!qr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=ao(r,1),n=ao(n,1)}return e=xh(t,s.R(e)),new el(s,e)}for(s=Fo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=gr(n),o=i.R(e);$n(o)||0<o.X(t);)n-=r,i=gr(n),o=i.R(e);qr(i)&&(i=I_),s=s.add(i),t=xh(t,o)}return new el(s,t)}Q.gb=function(t){return Nh(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function Kw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function ao(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ve(s,t.h)}Rh.prototype.createWebChannel=Rh.prototype.g;kn.prototype.send=kn.prototype.u;kn.prototype.open=kn.prototype.m;kn.prototype.close=kn.prototype.close;Gf.NO_ERROR=0;Gf.TIMEOUT=8;Gf.HTTP_ERROR=6;BN.COMPLETE="complete";zN.EventType=eu;eu.OPEN="a";eu.CLOSE="b";eu.ERROR="c";eu.MESSAGE="d";bt.prototype.listen=bt.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;lr.prototype.digest=lr.prototype.l;lr.prototype.reset=lr.prototype.reset;lr.prototype.update=lr.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=gr;Ve.fromString=CA;var r6=function(){return new Rh},s6=function(){return qf()},Pm=Gf,i6=BN,o6=Zi,Qw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},a6=ru,Ju=zN,l6=lt,c6=lr,Uo=Ve;const Yw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="10.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new pf("@firebase/firestore");function Xw(){return Fi.logLevel}function ne(t,...e){if(Fi.logLevel<=ke.DEBUG){const n=e.map(aE);Fi.debug(`Firestore (${Aa}): ${t}`,...n)}}function os(t,...e){if(Fi.logLevel<=ke.ERROR){const n=e.map(aE);Fi.error(`Firestore (${Aa}): ${t}`,...n)}}function aa(t,...e){if(Fi.logLevel<=ke.WARN){const n=e.map(aE);Fi.warn(`Firestore (${Aa}): ${t}`,...n)}}function aE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: `+t;throw os(e),new Error(e)}function Ye(t,e){t||fe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class u6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class d6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class h6{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Qr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Qr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Qr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ye(typeof r.accessToken=="string"),new IA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ye(e===null||typeof e=="string"),new zt(e)}}class f6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class p6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new f6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class g6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ye(typeof n.token=="string"),this.R=n.token,new m6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=_6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function la(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new yt(0,0))}static max(){return new ge(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Tc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Tc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends Tc{construct(e,n,r){return new Ge(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(D.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const v6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Tc{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return v6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(D.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z(D.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z(D.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ge.fromString(e))}static fromName(e){return new oe(Ge.fromString(e).popFirst(5))}static empty(){return new oe(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ge(e.slice()))}}function y6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Qs(s,oe.empty(),e)}function E6(t){return new Qs(t.readTime,t.key,-1)}class Qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Qs(ge.min(),oe.empty(),-1)}static max(){return new Qs(ge.max(),oe.empty(),-1)}}function S6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class T6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(t){if(t.code!==D.FAILED_PRECONDITION||t.message!==w6)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function au(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}lE.ae=-1;function tp(t){return t==null}function Ah(t){return t===0&&1/t==-1/0}function C6(t){return typeof t=="number"&&Number.isInteger(t)&&!Ah(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function eo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function xA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gt=class R_{constructor(e,n){this.comparator=e,this.root=n||Bs.EMPTY}insert(e,n){return new R_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Bs.BLACK,null,null))}remove(e){return new R_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Bs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zu(this.root,e,this.comparator,!0)}},Zu=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Bs=class Or{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Or.RED,this.left=s??Or.EMPTY,this.right=i??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Or(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Or.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}};Bs.EMPTY=null,Bs.RED=!0,Bs.BLACK=!1;Bs.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Bs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Zw(this.data.getIterator())}getIteratorFrom(e){return new Zw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class Zw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Jt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NA("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const I6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ys(t){if(Ye(!!t),typeof t=="string"){let e=0;const n=I6.exec(t);if(Ye(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ui(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uE(t){const e=t.mapValue.fields.__previous_value__;return cE(e)?uE(e):e}function Cc(t){const e=Ys(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ic{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ic("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ic&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cE(t)?4:x6(t)?9007199254740991:10:fe()}function Ir(t,e){if(t===e)return!0;const n=Bi(t);if(n!==Bi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Cc(t).isEqual(Cc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ys(s.timestampValue),a=Ys(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ui(s.bytesValue).isEqual(Ui(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),a=ht(i.doubleValue);return o===a?Ah(o)===Ah(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],Ir);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Jw(o)!==Jw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Ir(o[l],a[l])))return!1;return!0}(t,e);default:return fe()}}function Rc(t,e){return(t.values||[]).find(n=>Ir(n,e))!==void 0}function ca(t,e){if(t===e)return 0;const n=Bi(t),r=Bi(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ht(i.integerValue||i.doubleValue),l=ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return eT(t.timestampValue,e.timestampValue);case 4:return eT(Cc(t),Cc(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ui(i),l=Ui(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Oe(a[c],l[c]);if(u!==0)return u}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(ht(i.latitude),ht(o.latitude));return a!==0?a:Oe(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=ca(a[c],l[c]);if(u)return u}return Oe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===ed.mapValue&&o===ed.mapValue)return 0;if(i===ed.mapValue)return 1;if(o===ed.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Oe(l[h],u[h]);if(f!==0)return f;const p=ca(a[l[h]],c[u[h]]);if(p!==0)return p}return Oe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw fe()}}function eT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Ys(t),r=Ys(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function ua(t){return x_(t)}function x_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ui(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=x_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${x_(n.fields[o])}`;return s+"}"}(t.mapValue):fe()}function tT(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function N_(t){return!!t&&"integerValue"in t}function dE(t){return!!t&&"arrayValue"in t}function nT(t){return!!t&&"nullValue"in t}function rT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Rd(t){return!!t&&"mapValue"in t}function Vl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Vl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Vl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function x6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Rd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(n)}setAll(e){let n=Kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Vl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Rd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ir(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Rd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){eo(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new mn(Vl(this.value))}}function AA(t){const e=[];return eo(t.fields,(n,r)=>{const s=new Kt([n]);if(Rd(r)){const i=AA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,ge.min(),ge.min(),ge.min(),mn.empty(),0)}static newFoundDocument(e,n,r,s){return new Wt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new Wt(e,2,n,ge.min(),ge.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ge.min(),ge.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function sT(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=ca(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function iT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ir(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n="asc"){this.field=e,this.dir=n}}function N6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{}class mt extends bA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b6(e,n,r):n==="array-contains"?new L6(e,r):n==="in"?new O6(e,r):n==="not-in"?new D6(e,r):n==="array-contains-any"?new M6(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k6(e,r):new P6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ca(n,this.value)):n!==null&&Bi(this.value)===Bi(n)&&this.matchesComparison(ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class cr extends bA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new cr(e,n)}matches(e){return kA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function kA(t){return t.op==="and"}function PA(t){return A6(t)&&kA(t)}function A6(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function A_(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+ua(t.value);if(PA(t))return t.filters.map(e=>A_(e)).join(",");{const e=t.filters.map(n=>A_(n)).join(",");return`${t.op}(${e})`}}function LA(t,e){return t instanceof mt?function(r,s){return s instanceof mt&&r.op===s.op&&r.field.isEqual(s.field)&&Ir(r.value,s.value)}(t,e):t instanceof cr?function(r,s){return s instanceof cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&LA(o,s.filters[a]),!0):!1}(t,e):void fe()}function OA(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${ua(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(OA).join(" ,")+"}"}(t):"Filter"}class b6 extends mt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class k6 extends mt{constructor(e,n){super(e,"in",n),this.keys=DA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class P6 extends mt{constructor(e,n){super(e,"not-in",n),this.keys=DA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function DA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class L6 extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return dE(n)&&Rc(n.arrayValue,this.value)}}class O6 extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rc(this.value.arrayValue,n)}}class D6 extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Rc(this.value.arrayValue,n)}}class M6 extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!dE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.he=null}}function oT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new V6(t,e,n,r,s,i,o)}function hE(t){const e=ye(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>A_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),tp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ua(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ua(r)).join(",")),e.he=n}return e.he}function fE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!N6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!LA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iT(t.startAt,e.startAt)&&iT(t.endAt,e.endAt)}function b_(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function j6(t,e,n,r,s,i,o,a){return new ba(t,e,n,r,s,i,o,a)}function pE(t){return new ba(t)}function aT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function np(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function MA(t){return t.collectionGroup!==null}function jl(t){const e=ye(t);if(e.Pe===null){e.Pe=[];const n=np(e),r=mE(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Bo(n)),e.Pe.push(new Bo(Kt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.Pe.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Bo(Kt.keyField(),i))}}}return e.Pe}function as(t){const e=ye(t);return e.Ie||(e.Ie=$6(e,jl(t))),e.Ie}function $6(t,e){if(t.limitType==="F")return oT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bo(s.field,i)});const n=t.endAt?new bh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new bh(t.startAt.position,t.startAt.inclusive):null;return oT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function k_(t,e){e.getFirstInequalityField(),np(t);const n=t.filters.concat([e]);return new ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function kh(t,e,n){return new ba(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function rp(t,e){return fE(as(t),as(e))&&t.limitType===e.limitType}function VA(t){return`${hE(as(t))}|lt:${t.limitType}`}function P_(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>OA(s)).join(", ")}]`),tp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ua(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ua(s)).join(",")),`Target(${r})`}(as(t))}; limitType=${t.limitType})`}function sp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of jl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=sT(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,jl(r),s)||r.endAt&&!function(o,a,l){const c=sT(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,jl(r),s))}(t,e)}function F6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function jA(t){return(e,n)=>{let r=!1;for(const s of jl(t)){const i=U6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function U6(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ca(l,c):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return xA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=new gt(oe.comparator);function ls(){return B6}const $A=new gt(oe.comparator);function yl(...t){let e=$A;for(const n of t)e=e.insert(n.key,n);return e}function FA(t){let e=$A;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ti(){return $l()}function UA(){return $l()}function $l(){return new ka(t=>t.toString(),(t,e)=>t.isEqual(e))}const z6=new gt(oe.comparator),H6=new Jt(oe.comparator);function Ie(...t){let e=H6;for(const n of t)e=e.add(n);return e}const W6=new Jt(Oe);function q6(){return W6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ah(e)?"-0":e}}function zA(t){return{integerValue:""+t}}function G6(t,e){return C6(e)?zA(e):BA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this._=void 0}}function K6(t,e,n){return t instanceof Ph?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&cE(i)&&(i=uE(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof xc?WA(t,e):t instanceof Nc?qA(t,e):function(s,i){const o=HA(s,i),a=lT(o)+lT(s.Ee);return N_(o)&&N_(s.Ee)?zA(a):BA(s.serializer,a)}(t,e)}function Q6(t,e,n){return t instanceof xc?WA(t,e):t instanceof Nc?qA(t,e):n}function HA(t,e){return t instanceof Lh?function(r){return N_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ph extends ip{}class xc extends ip{constructor(e){super(),this.elements=e}}function WA(t,e){const n=GA(e);for(const r of t.elements)n.some(s=>Ir(s,r))||n.push(r);return{arrayValue:{values:n}}}class Nc extends ip{constructor(e){super(),this.elements=e}}function qA(t,e){let n=GA(e);for(const r of t.elements)n=n.filter(s=>!Ir(s,r));return{arrayValue:{values:n}}}class Lh extends ip{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function lT(t){return ht(t.integerValue||t.doubleValue)}function GA(t){return dE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Y6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof xc&&s instanceof xc||r instanceof Nc&&s instanceof Nc?la(r.elements,s.elements,Ir):r instanceof Lh&&s instanceof Lh?Ir(r.Ee,s.Ee):r instanceof Ph&&s instanceof Ph}(t.transform,e.transform)}class X6{constructor(e,n){this.version=e,this.transformResults=n}}class Tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Tr}static exists(e){return new Tr(void 0,e)}static updateTime(e){return new Tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function xd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class op{}function KA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new YA(t.key,Tr.none()):new lu(t.key,t.data,Tr.none());{const n=t.data,r=mn.empty();let s=new Jt(Kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ci(t.key,r,new xn(s.toArray()),Tr.none())}}function J6(t,e,n){t instanceof lu?function(s,i,o){const a=s.value.clone(),l=uT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ci?function(s,i,o){if(!xd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=uT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(QA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fl(t,e,n,r){return t instanceof lu?function(i,o,a,l){if(!xd(i.precondition,o))return a;const c=i.value.clone(),u=dT(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ci?function(i,o,a,l){if(!xd(i.precondition,o))return a;const c=dT(i.fieldTransforms,l,o),u=o.data;return u.setAll(QA(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return xd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Z6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=HA(r.transform,s||null);i!=null&&(n===null&&(n=mn.empty()),n.set(r.field,i))}return n||null}function cT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&la(r,s,(i,o)=>Y6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lu extends op{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ci extends op{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function QA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function uT(t,e,n){const r=new Map;Ye(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,Q6(o,a,n[s]))}return r}function dT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,K6(i,o,e))}return r}class YA extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eH extends op{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tH{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&J6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=UA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=KA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(n,r)=>cT(n,r))&&la(this.baseMutations,e.baseMutations,(n,r)=>cT(n,r))}}class gE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ye(e.mutations.length===r.length);let s=function(){return z6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new gE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ne;function sH(t){switch(t){default:return fe();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function XA(t){if(t===void 0)return os("GRPC error has no .code"),D.UNKNOWN;switch(t){case dt.OK:return D.OK;case dt.CANCELLED:return D.CANCELLED;case dt.UNKNOWN:return D.UNKNOWN;case dt.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case dt.INTERNAL:return D.INTERNAL;case dt.UNAVAILABLE:return D.UNAVAILABLE;case dt.UNAUTHENTICATED:return D.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case dt.NOT_FOUND:return D.NOT_FOUND;case dt.ALREADY_EXISTS:return D.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return D.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case dt.ABORTED:return D.ABORTED;case dt.OUT_OF_RANGE:return D.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return D.UNIMPLEMENTED;case dt.DATA_LOSS:return D.DATA_LOSS;default:return fe()}}(Ne=dt||(dt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return td}static getOrCreateInstance(){return td===null&&(td=new _E),td}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let td=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oH=new Uo([4294967295,4294967295],0);function hT(t){const e=iH().encode(t),n=new c6;return n.update(e),new Uint8Array(n.digest())}function fT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Uo([n,r],0),new Uo([s,i],0)]}class vE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new El(`Invalid padding: ${n}`);if(r<0)throw new El(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new El(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new El(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Uo.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(Uo.fromNumber(r)));return s.compare(oH)===1&&(s=new Uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=hT(e),[r,s]=fT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);if(!this.me(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new vE(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=hT(e),[r,s]=fT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class El extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,cu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ap(ge.min(),s,new gt(Oe),ls(),Ie())}}class cu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new cu(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class JA{constructor(e,n){this.targetId=e,this.ye=n}}class ZA{constructor(e,n,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class pT{constructor(){this.we=0,this.Se=gT(),this.be=nn.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return this.we!==0}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=Ie(),n=Ie(),r=Ie();return this.Se.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe()}}),new cu(this.be,this.De,e,n,r)}Oe(){this.ve=!1,this.Se=gT()}Ne(e,n){this.ve=!0,this.Se=this.Se.insert(e,n)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class aH{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=ls(),this.Ue=mT(),this.We=new gt(Oe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){var n;const r=e.targetId,s=e.ye.count,i=this.et(r);if(i){const o=i.target;if(b_(o))if(s===0){const a=new oe(o.path);this.je(r,a,Wt.newNoDocument(a,ge.min()))}else Ye(s===1);else{const a=this.tt(r);if(a!==s){const l=this.nt(e),c=l?this.rt(l,e,a):1;if(c!==0){this.Ze(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(r,u)}(n=_E.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,p,m,g){var E,_,v,y,S,w;const N={localCacheCount:h,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},A=f.unchangedNames;return A&&(N.bloomFilter={applied:g===0,hashCount:(E=A==null?void 0:A.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(y=(v=(_=A==null?void 0:A.bits)===null||_===void 0?void 0:_.bitmap)===null||v===void 0?void 0:v.length)!==null&&y!==void 0?y:0,padding:(w=(S=A==null?void 0:A.bits)===null||S===void 0?void 0:S.padding)!==null&&w!==void 0?w:0,mightContain:k=>{var G;return(G=m==null?void 0:m.mightContain(k))!==null&&G!==void 0&&G}}),N}(a,e.ye,this.Qe.it(),l,c))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ui(r).toUint8Array()}catch(l){if(l instanceof NA)return aa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new vE(o,s,i)}catch(l){return aa(l instanceof El?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Qe.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.je(n,i,null),s++)}),s}ot(e){const n=new Map;this.Ke.forEach((i,o)=>{const a=this.et(o);if(a){if(i.current&&b_(a.target)){const l=new oe(a.target.path);this.$e.get(l)!==null||this._t(o,l)||this.je(o,l,Wt.newNoDocument(l,e))}i.Fe&&(n.set(o,i.xe()),i.Oe())}});let r=Ie();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.et(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.$e.forEach((i,o)=>o.setReadTime(e));const s=new ap(e,n,this.We,this.$e,r);return this.$e=ls(),this.Ue=mT(),this.We=new gt(Oe),s}ze(e,n){if(!this.Ye(e))return;const r=this._t(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ut(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this._t(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ut(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new pT,this.Ke.set(e,n)),n}ut(e){let n=this.Ue.get(e);return n||(n=new Jt(Oe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.Ce?null:this.Qe.ct(e)}Ze(e){this.Ke.set(e,new pT),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}_t(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function mT(){return new gt(oe.comparator)}function gT(){return new gt(oe.comparator)}const lH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),cH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),uH=(()=>({and:"AND",or:"OR"}))();class dH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function L_(t,e){return t.useProto3Json||tp(e)?e:{value:e}}function Oh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function hH(t,e){return Oh(t,e.toTimestamp())}function Cr(t){return Ye(!!t),ge.fromTimestamp(function(n){const r=Ys(n);return new yt(r.seconds,r.nanos)}(t))}function yE(t,e){return function(r){return new Ge(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function tb(t){const e=Ge.fromString(t);return Ye(ib(e)),e}function O_(t,e){return yE(t.databaseId,e.path)}function Lm(t,e){const n=tb(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(nb(n))}function D_(t,e){return yE(t.databaseId,e)}function fH(t){const e=tb(t);return e.length===4?Ge.emptyPath():nb(e)}function M_(t){return new Ge(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nb(t){return Ye(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function _T(t,e,n){return{name:O_(t,e),fields:n.value.mapValue.fields}}function pH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Ye(u===void 0||typeof u=="string"),nn.fromBase64String(u||"")):(Ye(u===void 0||u instanceof Uint8Array),nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?D.UNKNOWN:XA(c.code);return new Z(u,c.message||"")}(o);n=new ZA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Lm(t,r.document.name),i=Cr(r.document.updateTime),o=r.document.createTime?Cr(r.document.createTime):ge.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Nd(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Lm(t,r.document),i=r.readTime?Cr(r.readTime):ge.min(),o=Wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Nd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Lm(t,r.document),i=r.removedTargetIds||[];n=new Nd([],i,s,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new rH(s,i),a=r.targetId;n=new JA(a,o)}}return n}function mH(t,e){let n;if(e instanceof lu)n={update:_T(t,e.key,e.value)};else if(e instanceof YA)n={delete:O_(t,e.key)};else if(e instanceof ci)n={update:_T(t,e.key,e.data),updateMask:CH(e.fieldMask)};else{if(!(e instanceof eH))return fe();n={verify:O_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ph)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof xc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Nc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Lh)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:hH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.precondition)),n}function gH(t,e){return t&&t.length>0?(Ye(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Cr(s.updateTime):Cr(i);return o.isEqual(ge.min())&&(o=Cr(i)),new X6(o,s.transformResults||[])}(n,e))):[]}function _H(t,e){return{documents:[D_(t,e.path)]}}function vH(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=D_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=D_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return sb(cr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:fo(h.field),direction:SH(h.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=L_(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function yH(t){let e=fH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ye(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=rb(h);return f instanceof cr&&PA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(m){return new Bo(po(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,tp(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new bh(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new bh(p,f)}(n.endAt)),j6(e,s,o,i,a,"F",l,c)}function EH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=po(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=po(n.unaryFilter.field);return mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=po(n.unaryFilter.field);return mt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=po(n.unaryFilter.field);return mt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return mt.create(po(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>rb(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function SH(t){return lH[t]}function wH(t){return cH[t]}function TH(t){return uH[t]}function fo(t){return{fieldPath:t.canonicalString()}}function po(t){return Kt.fromServerFormat(t.fieldPath)}function sb(t){return t instanceof mt?function(n){if(n.op==="=="){if(rT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(nT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(nT(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:wH(n.op),value:n.value}}}(t):t instanceof cr?function(n){const r=n.getFilters().map(s=>sb(s));return r.length===1?r[0]:{compositeFilter:{op:TH(n.op),filters:r}}}(t):fe()}function CH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ib(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e){this.lt=e}}function RH(t){const e=yH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?kh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(){this.on=new NH}addToCollectionParentIndex(e,n){return this.on.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Qs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Qs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class NH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Jt(Ge.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Jt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new da(0)}static Nn(){return new da(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(){this.changes=new ka(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Fl(r.mutation,s,xn.empty(),yt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=Ti();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=yl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ti();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ls();const o=$l(),a=function(){return $l()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof ci)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Fl(u.mutation,c,u.mutation.getFieldMask(),yt.now())):o.set(c.key,xn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new bH(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=$l();let s=new gt((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||xn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=UA();u.forEach(f=>{if(!i.has(f)){const p=KA(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(Ti());let a=-1,l=i;return o.next(c=>B.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?B.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ie())).next(u=>({batchId:a,changes:FA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=yl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=yl();return this.indexManager.getCollectionParents(e,s).next(o=>B.forEach(o,a=>{const l=function(u,h){return new ba(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,Wt.newInvalidDocument(c)))});let o=yl();return i.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Fl(c.mutation,l,xn.empty(),yt.now()),sp(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return B.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Cr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:RH(s.bundledQuery),readTime:Cr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(){this.overlays=new gt(oe.comparator),this.lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ti();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Pt(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=Ti(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new gt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Ti(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Ti(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return B.resolve(a)}Pt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new nH(n,r));let i=this.lr.get(n);i===void 0&&(i=Ie(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(){this.hr=new Jt(Ct.Pr),this.Ir=new Jt(Ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ct(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new oe(new Ge([])),r=new Ct(n,e),s=new Ct(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new oe(new Ge([])),r=new Ct(n,e),s=new Ct(n,e+1);let i=Ie();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ct(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return oe.comparator(e.key,n.key)||Oe(e.gr,n.gr)}static Tr(e,n){return Oe(e.gr,n.gr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Jt(Ct.Pr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new tH(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new Ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Oe);return n.forEach(s=>{const i=new Ct(s,0),o=new Ct(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),B.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new Ct(new oe(i),0);let a=new Jt(Oe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),B.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ye(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return B.forEach(n.mutations,s=>{const i=new Ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ct(n,0),s=this.yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e){this.vr=e,this.docs=function(){return new gt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=ls();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ls();const o=n.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||S6(E6(u),r)<=0||(s.has(u.key)||sp(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe()}Cr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new MH(this)}getSize(e){return B.resolve(this.size)}}class MH extends AH{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VH{constructor(e){this.persistence=e,this.Fr=new ka(n=>hE(n),fE),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Mr=0,this.Or=new EE,this.targetCount=0,this.Nr=da.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),B.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new da(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.kn(n),B.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e,n){this.Br={},this.overlays={},this.Lr=new lE(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new VH(this),this.indexManager=new xH,this.remoteDocumentCache=function(s){return new DH(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new IH(n),this.Kr=new PH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new LH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new OH(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const s=new $H(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class $H extends T6{constructor(e){super(),this.currentSequenceNumber=e}}class SE{constructor(e){this.persistence=e,this.Gr=new EE,this.zr=null}static jr(e){return new SE(e)}get Hr(){if(this.zr)return this.zr;throw fe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,r=>{const s=oe.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return B.or([()=>B.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new wE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH{constructor(){this.Ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ui(e,n).next(i=>i||this.Wi(e,n,s,r)).next(i=>i||this.Gi(e,n))}Ui(e,n){if(aT(n))return B.resolve(null);let r=as(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=kh(n,null,"F"),r=as(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.zi(n,a);return this.ji(n,c,o,l.readTime)?this.Ui(e,kh(n,null,"F")):this.Hi(e,c,n,l)}))})))}Wi(e,n,r,s){return aT(n)||s.isEqual(ge.min())?this.Gi(e,n):this.$i.getDocuments(e,r).next(i=>{const o=this.zi(n,i);return this.ji(n,o,r,s)?this.Gi(e,n):(Xw()<=ke.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),P_(n)),this.Hi(e,o,n,y6(s,-1)))})}zi(e,n){let r=new Jt(jA(e));return n.forEach((s,i)=>{sp(e,i)&&(r=r.add(i))}),r}ji(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Gi(e,n){return Xw()<=ke.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",P_(n)),this.$i.getDocumentsMatchingQuery(e,n,Qs.min())}Hi(e,n,r,s){return this.$i.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{constructor(e,n,r,s){this.persistence=e,this.Ji=n,this.serializer=s,this.Yi=new gt(Oe),this.Zi=new ka(i=>hE(i),fE),this.Xi=new Map,this.es=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.ts(r)}ts(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kH(this.es,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.es.setIndexManager(this.indexManager),this.Ji.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Yi))}}function BH(t,e,n,r){return new UH(t,e,n,r)}async function ob(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ts(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function zH(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.es.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=B.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const E=c.docVersions.get(m);Ye(E!==null),g.version.compareTo(E)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ab(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function HH(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.Yi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.es.newChangeBuffer({trackRemovals:!0});s=n.Yi;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(nn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(g,E,_){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,u)&&a.push(n.qr.updateTargetData(i,p))});let l=ls(),c=Ie();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(WH(i,o,e.documentUpdates).next(u=>{l=u.rs,c=u.ss})),!r.isEqual(ge.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Yi=s,i))}function WH(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ls();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{rs:o,ss:s}})}function qH(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function GH(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Ns(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Yi.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Yi=n.Yi.insert(r.targetId,r),n.Zi.set(e,r.targetId)),r})}async function V_(t,e,n){const r=ye(t),s=r.Yi.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!au(o))throw o;ne("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Yi=r.Yi.remove(e),r.Zi.delete(s.target)}function vT(t,e,n){const r=ye(t);let s=ge.min(),i=Ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,c,u){const h=ye(l),f=h.Zi.get(u);return f!==void 0?B.resolve(h.Yi.get(f)):h.qr.getTargetData(c,u)}(r,o,as(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ji.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Ie())).next(a=>(KH(r,F6(e),a),{documents:a,os:i})))}function KH(t,e,n){let r=t.Xi.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class yT{constructor(){this.activeTargetIds=q6()}Ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}Is(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class QH{constructor(){this.Js=new yT,this.Ys={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Js.Ps(e),this.Ys[e]||"not-current"}updateQueryState(e,n,r){this.Ys[e]=n}removeLocalQueryTarget(e){this.Js.Is(e)}isLocalQueryTarget(e){return this.Js.activeTargetIds.has(e)}clearQueryState(e){delete this.Ys[e]}getAllActiveQueryTargets(){return this.Js.activeTargetIds}isActiveQueryTarget(e){return this.Js.activeTargetIds.has(e)}start(){return this.Js=new yT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{Zs(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(){this.Xs=()=>this.eo(),this.no=()=>this.ro(),this.io=[],this.so()}Zs(e){this.io.push(e)}shutdown(){window.removeEventListener("online",this.Xs),window.removeEventListener("offline",this.no)}so(){window.addEventListener("online",this.Xs),window.addEventListener("offline",this.no)}eo(){ne("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.io)e(0)}ro(){ne("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.io)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nd=null;function Om(){return nd===null?nd=function(){return 268435456+Math.round(2147483648*Math.random())}():nd++,"0x"+nd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JH{constructor(e){this.oo=e.oo,this._o=e._o}ao(e){this.uo=e}co(e){this.lo=e}onMessage(e){this.ho=e}close(){this._o()}send(e){this.oo(e)}Po(){this.uo()}Io(e){this.lo(e)}To(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class ZH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Eo=r+"://"+n.host,this.Ao=`projects/${s}/databases/${i}`,this.Ro=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Vo(){return!1}mo(n,r,s,i,o){const a=Om(),l=this.fo(n,r);ne("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ao,"x-goog-request-params":this.Ro};return this.po(c,i,o),this.yo(n,l,c,s).then(u=>(ne("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw aa("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}wo(n,r,s,i,o,a){return this.mo(n,r,s,i,o)}po(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}fo(n,r){const s=XH[n];return`${this.Eo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}yo(e,n,r,s){const i=Om();return new Promise((o,a)=>{const l=new l6;l.setWithCredentials(!0),l.listenOnce(i6.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Pm.NO_ERROR:const u=l.getResponseJson();ne(Bt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Pm.TIMEOUT:ne(Bt,`RPC '${e}' ${i} timed out`),a(new Z(D.DEADLINE_EXCEEDED,"Request time out"));break;case Pm.HTTP_ERROR:const h=l.getStatus();if(ne(Bt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(_)>=0?_:D.UNKNOWN}(p.status);a(new Z(m,p.message))}else a(new Z(D.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(D.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{ne(Bt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);ne(Bt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}So(e,n,r){const s=Om(),i=[this.Eo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=r6(),a=s6(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new a6({})),this.po(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");ne(Bt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const m=new JH({oo:E=>{p?ne(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(ne(Bt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),ne(Bt,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},_o:()=>h.close()}),g=(E,_,v)=>{E.listen(_,y=>{try{v(y)}catch(S){setTimeout(()=>{throw S},0)}})};return g(h,Ju.EventType.OPEN,()=>{p||ne(Bt,`RPC '${e}' stream ${s} transport opened.`)}),g(h,Ju.EventType.CLOSE,()=>{p||(p=!0,ne(Bt,`RPC '${e}' stream ${s} transport closed`),m.Io())}),g(h,Ju.EventType.ERROR,E=>{p||(p=!0,aa(Bt,`RPC '${e}' stream ${s} transport errored:`,E),m.Io(new Z(D.UNAVAILABLE,"The operation could not be completed")))}),g(h,Ju.EventType.MESSAGE,E=>{var _;if(!p){const v=E.data[0];Ye(!!v);const y=v,S=y.error||((_=y[0])===null||_===void 0?void 0:_.error);if(S){ne(Bt,`RPC '${e}' stream ${s} received error:`,S);const w=S.status;let N=function(G){const M=dt[G];if(M!==void 0)return XA(M)}(w),A=S.message;N===void 0&&(N=D.INTERNAL,A="Unknown error status: "+w+" with message "+S.message),p=!0,m.Io(new Z(N,A)),h.close()}else ne(Bt,`RPC '${e}' stream ${s} received:`,v),m.To(v)}}),g(a,o6.STAT_EVENT,E=>{E.stat===Qw.PROXY?ne(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Qw.NOPROXY&&ne(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Po()},0),m}}function Dm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lp(t){return new dH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.bo=r,this.Do=s,this.vo=i,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}reset(){this.Co=0}xo(){this.Co=this.vo}Oo(e){this.cancel();const n=Math.floor(this.Co+this.No()),r=Math.max(0,Date.now()-this.Mo),s=Math.max(0,n-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Co} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Fo=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Mo=Date.now(),e())),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}Bo(){this.Fo!==null&&(this.Fo.skipDelay(),this.Fo=null)}cancel(){this.Fo!==null&&(this.Fo.cancel(),this.Fo=null)}No(){return(Math.random()-.5)*this.Co}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Lo=r,this.ko=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.qo=0,this.Qo=null,this.Ko=null,this.stream=null,this.$o=new lb(e,n)}Uo(){return this.state===1||this.state===5||this.Wo()}Wo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}zo(){this.state=0,this.$o.reset()}jo(){this.Wo()&&this.Qo===null&&(this.Qo=this.si.enqueueAfterDelay(this.Lo,6e4,()=>this.Ho()))}Jo(e){this.Yo(),this.stream.send(e)}async Ho(){if(this.Wo())return this.close(0)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}async close(e,n){this.Yo(),this.Zo(),this.$o.cancel(),this.qo++,e!==4?this.$o.reset():n&&n.code===D.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.$o.xo()):n&&n.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Xo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Xo(){}auth(){this.state=1;const e=this.e_(this.qo),n=this.qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.qo===n&&this.t_(r,s)},r=>{e(()=>{const s=new Z(D.UNKNOWN,"Fetching auth token failed: "+r.message);return this.n_(s)})})}t_(e,n){const r=this.e_(this.qo);this.stream=this.r_(e,n),this.stream.ao(()=>{r(()=>(this.state=2,this.Ko=this.si.enqueueAfterDelay(this.ko,1e4,()=>(this.Wo()&&(this.state=3),Promise.resolve())),this.listener.ao()))}),this.stream.co(s=>{r(()=>this.n_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.$o.Oo(async()=>{this.state=0,this.start()})}n_(e){return ne("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}e_(e){return n=>{this.si.enqueueAndForget(()=>this.qo===e?n():(ne("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class eW extends cb{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}r_(e,n){return this.connection.So("Listen",e,n)}onMessage(e){this.$o.reset();const n=pH(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Cr(o.readTime):ge.min()}(e);return this.listener.i_(n,r)}s_(e){const n={};n.database=M_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=b_(l)?{documents:_H(i,l)}:{query:vH(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=eb(i,o.resumeToken);const c=L_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Oh(i,o.snapshotVersion.toTimestamp());const c=L_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=EH(this.serializer,e);r&&(n.labels=r),this.Jo(n)}o_(e){const n={};n.database=M_(this.serializer),n.removeTarget=e,this.Jo(n)}}class tW extends cb{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.__=!1}get a_(){return this.__}start(){this.__=!1,this.lastStreamToken=void 0,super.start()}Xo(){this.__&&this.u_([])}r_(e,n){return this.connection.So("Write",e,n)}onMessage(e){if(Ye(!!e.streamToken),this.lastStreamToken=e.streamToken,this.__){this.$o.reset();const n=gH(e.writeResults,e.commitTime),r=Cr(e.commitTime);return this.listener.c_(r,n)}return Ye(!e.writeResults||e.writeResults.length===0),this.__=!0,this.listener.l_()}h_(){const e={};e.database=M_(this.serializer),this.Jo(e)}u_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mH(this.serializer,r))};this.Jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nW extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.P_=!1}I_(){if(this.P_)throw new Z(D.FAILED_PRECONDITION,"The client has already been terminated.")}mo(e,n,r){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.mo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(D.UNKNOWN,s.toString())})}wo(e,n,r,s){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(D.UNKNOWN,i.toString())})}terminate(){this.P_=!0}}class rW{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.E_=0,this.d_=null,this.A_=!0}R_(){this.E_===0&&(this.V_("Unknown"),this.d_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.d_=null,this.m_("Backend didn't respond within 10 seconds."),this.V_("Offline"),Promise.resolve())))}f_(e){this.state==="Online"?this.V_("Unknown"):(this.E_++,this.E_>=1&&(this.g_(),this.m_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.V_("Offline")))}set(e){this.g_(),this.E_=0,e==="Online"&&(this.A_=!1),this.V_(e)}V_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}m_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.A_?(os(n),this.A_=!1):ne("OnlineStateTracker",n)}g_(){this.d_!==null&&(this.d_.cancel(),this.d_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sW{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.p_=[],this.y_=new Map,this.w_=new Set,this.S_=[],this.b_=i,this.b_.Zs(o=>{r.enqueueAndForget(async()=>{to(this)&&(ne("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.w_.add(4),await uu(c),c.D_.set("Unknown"),c.w_.delete(4),await cp(c)}(this))})}),this.D_=new rW(r,s)}}async function cp(t){if(to(t))for(const e of t.S_)await e(!0)}async function uu(t){for(const e of t.S_)await e(!1)}function ub(t,e){const n=ye(t);n.y_.has(e.targetId)||(n.y_.set(e.targetId,e),IE(n)?CE(n):Pa(n).Wo()&&TE(n,e))}function db(t,e){const n=ye(t),r=Pa(n);n.y_.delete(e),r.Wo()&&hb(n,e),n.y_.size===0&&(r.Wo()?r.jo():to(n)&&n.D_.set("Unknown"))}function TE(t,e){if(t.v_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Pa(t).s_(e)}function hb(t,e){t.v_.Le(e),Pa(t).o_(e)}function CE(t){t.v_=new aH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ct:e=>t.y_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Pa(t).start(),t.D_.R_()}function IE(t){return to(t)&&!Pa(t).Uo()&&t.y_.size>0}function to(t){return ye(t).w_.size===0}function fb(t){t.v_=void 0}async function iW(t){t.y_.forEach((e,n)=>{TE(t,e)})}async function oW(t,e){fb(t),IE(t)?(t.D_.f_(e),CE(t)):t.D_.set("Unknown")}async function aW(t,e,n){if(t.D_.set("Online"),e instanceof ZA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.y_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.y_.delete(a),s.v_.removeTarget(a))}(t,e)}catch(r){ne("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(t,r)}else if(e instanceof Nd?t.v_.Ge(e):e instanceof JA?t.v_.Xe(e):t.v_.He(e),!n.isEqual(ge.min()))try{const r=await ab(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.v_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.y_.get(c);u&&i.y_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.y_.get(l);if(!u)return;i.y_.set(l,u.withResumeToken(nn.EMPTY_BYTE_STRING,u.snapshotVersion)),hb(i,l);const h=new Ns(u.target,l,c,u.sequenceNumber);TE(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne("RemoteStore","Failed to raise snapshot:",r),await Dh(t,r)}}async function Dh(t,e,n){if(!au(e))throw e;t.w_.add(1),await uu(t),t.D_.set("Offline"),n||(n=()=>ab(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne("RemoteStore","Retrying IndexedDB access"),await n(),t.w_.delete(1),await cp(t)})}function pb(t,e){return e().catch(n=>Dh(t,n,e))}async function up(t){const e=ye(t),n=Xs(e);let r=e.p_.length>0?e.p_[e.p_.length-1].batchId:-1;for(;lW(e);)try{const s=await qH(e.localStore,r);if(s===null){e.p_.length===0&&n.jo();break}r=s.batchId,cW(e,s)}catch(s){await Dh(e,s)}mb(e)&&gb(e)}function lW(t){return to(t)&&t.p_.length<10}function cW(t,e){t.p_.push(e);const n=Xs(t);n.Wo()&&n.a_&&n.u_(e.mutations)}function mb(t){return to(t)&&!Xs(t).Uo()&&t.p_.length>0}function gb(t){Xs(t).start()}async function uW(t){Xs(t).h_()}async function dW(t){const e=Xs(t);for(const n of t.p_)e.u_(n.mutations)}async function hW(t,e,n){const r=t.p_.shift(),s=gE.from(r,e,n);await pb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await up(t)}async function fW(t,e){e&&Xs(t).a_&&await async function(r,s){if(function(o){return sH(o)&&o!==D.ABORTED}(s.code)){const i=r.p_.shift();Xs(r).zo(),await pb(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await up(r)}}(t,e),mb(t)&&gb(t)}async function ST(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),ne("RemoteStore","RemoteStore received new credentials");const r=to(n);n.w_.add(3),await uu(n),r&&n.D_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.w_.delete(3),await cp(n)}async function pW(t,e){const n=ye(t);e?(n.w_.delete(2),await cp(n)):e||(n.w_.add(2),await uu(n),n.D_.set("Unknown"))}function Pa(t){return t.C_||(t.C_=function(n,r,s){const i=ye(n);return i.I_(),new eW(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:iW.bind(null,t),co:oW.bind(null,t),i_:aW.bind(null,t)}),t.S_.push(async e=>{e?(t.C_.zo(),IE(t)?CE(t):t.D_.set("Unknown")):(await t.C_.stop(),fb(t))})),t.C_}function Xs(t){return t.F_||(t.F_=function(n,r,s){const i=ye(n);return i.I_(),new tW(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:uW.bind(null,t),co:fW.bind(null,t),l_:dW.bind(null,t),c_:hW.bind(null,t)}),t.S_.push(async e=>{e?(t.F_.zo(),await up(t)):(await t.F_.stop(),t.p_.length>0&&(ne("RemoteStore",`Stopping write stream with ${t.p_.length} pending writes`),t.p_=[]))})),t.F_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new RE(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(D.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xE(t,e){if(os("AsyncQueue",`${e}: ${t}`),au(t))return new Z(D.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=yl(),this.sortedSet=new gt(this.comparator)}static emptySet(e){return new zo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.M_=new gt(oe.comparator)}track(e){const n=e.doc.key,r=this.M_.get(n);r?e.type!==0&&r.type===3?this.M_=this.M_.insert(n,e):e.type===3&&r.type!==1?this.M_=this.M_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.M_=this.M_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.M_=this.M_.remove(n):e.type===1&&r.type===2?this.M_=this.M_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):fe():this.M_=this.M_.insert(n,e)}x_(){const e=[];return this.M_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ha{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ha(e,n,zo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mW{constructor(){this.O_=void 0,this.listeners=[]}}class gW{constructor(){this.queries=new ka(e=>VA(e),rp),this.onlineState="Unknown",this.N_=new Set}}async function _b(t,e){const n=ye(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new mW),s)try{i.O_=await n.onListen(r)}catch(o){const a=xE(o,`Initialization of query '${P_(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.B_(n.onlineState),i.O_&&e.L_(i.O_)&&NE(n)}async function vb(t,e){const n=ye(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function _W(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.L_(s)&&(r=!0);o.O_=s}}r&&NE(n)}function vW(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function NE(t){t.N_.forEach(e=>{e.next()})}class yb{constructor(e,n,r){this.query=e,this.k_=n,this.q_=!1,this.Q_=null,this.onlineState="Unknown",this.options=r||{}}L_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.q_?this.K_(e)&&(this.k_.next(e),n=!0):this.U_(e,this.onlineState)&&(this.W_(e),n=!0),this.Q_=e,n}onError(e){this.k_.error(e)}B_(e){this.onlineState=e;let n=!1;return this.Q_&&!this.q_&&this.U_(this.Q_,e)&&(this.W_(this.Q_),n=!0),n}U_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.G_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}K_(e){if(e.docChanges.length>0)return!0;const n=this.Q_&&this.Q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}W_(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.q_=!0,this.k_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.key=e}}class Sb{constructor(e){this.key=e}}class yW{constructor(e,n){this.query=e,this.ea=n,this.ta=null,this.hasCachedResults=!1,this.current=!1,this.na=Ie(),this.mutatedKeys=Ie(),this.ra=jA(e),this.ia=new zo(this.ra)}get sa(){return this.ea}oa(e,n){const r=n?n._a:new wT,s=n?n.ia:this.ia;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=sp(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),E=!0):this.aa(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ra(p,l)>0||c&&this.ra(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ia:o,_a:r,ji:a,mutatedKeys:i}}aa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ia;this.ia=e.ia,this.mutatedKeys=e.mutatedKeys;const i=e._a.x_();i.sort((c,u)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return m(f)-m(p)}(c.type,u.type)||this.ra(c.doc,u.doc)),this.ua(r);const o=n?this.ca():[],a=this.na.size===0&&this.current?1:0,l=a!==this.ta;return this.ta=a,i.length!==0||l?{snapshot:new ha(this.query,e.ia,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),la:o}:{la:o}}B_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ia:this.ia,_a:new wT,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{la:[]}}ha(e){return!this.ea.has(e)&&!!this.ia.has(e)&&!this.ia.get(e).hasLocalMutations}ua(e){e&&(e.addedDocuments.forEach(n=>this.ea=this.ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ea=this.ea.delete(n)),this.current=e.current)}ca(){if(!this.current)return[];const e=this.na;this.na=Ie(),this.ia.forEach(r=>{this.ha(r.key)&&(this.na=this.na.add(r.key))});const n=[];return e.forEach(r=>{this.na.has(r)||n.push(new Sb(r))}),this.na.forEach(r=>{e.has(r)||n.push(new Eb(r))}),n}Pa(e){this.ea=e.os,this.na=Ie();const n=this.oa(e.documents);return this.applyChanges(n,!0)}Ia(){return ha.fromInitialDocuments(this.query,this.ia,this.mutatedKeys,this.ta===0,this.hasCachedResults)}}class EW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class SW{constructor(e){this.key=e,this.Ta=!1}}class wW{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ea={},this.da=new ka(a=>VA(a),rp),this.Aa=new Map,this.Ra=new Set,this.Va=new gt(oe.comparator),this.ma=new Map,this.fa=new EE,this.ga={},this.pa=new Map,this.ya=da.Nn(),this.onlineState="Unknown",this.wa=void 0}get isPrimaryClient(){return this.wa===!0}}async function TW(t,e){const n=LW(t);let r,s;const i=n.da.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Ia();else{const o=await GH(n.localStore,as(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await CW(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&ub(n.remoteStore,o)}return s}async function CW(t,e,n,r,s){t.Sa=(h,f,p)=>async function(g,E,_,v){let y=E.view.oa(_);y.ji&&(y=await vT(g.localStore,E.query,!1).then(({documents:N})=>E.view.oa(N,y)));const S=v&&v.targetChanges.get(E.targetId),w=E.view.applyChanges(y,g.isPrimaryClient,S);return CT(g,E.targetId,w.la),w.snapshot}(t,h,f,p);const i=await vT(t.localStore,e,!0),o=new yW(e,i.os),a=o.oa(i.documents),l=cu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);CT(t,n,c.la);const u=new EW(e,n,o);return t.da.set(e,u),t.Aa.has(n)?t.Aa.get(n).push(e):t.Aa.set(n,[e]),c.snapshot}async function IW(t,e){const n=ye(t),r=n.da.get(e),s=n.Aa.get(r.targetId);if(s.length>1)return n.Aa.set(r.targetId,s.filter(i=>!rp(i,e))),void n.da.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await V_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),db(n.remoteStore,r.targetId),j_(n,r.targetId)}).catch(ou)):(j_(n,r.targetId),await V_(n.localStore,r.targetId,!0))}async function RW(t,e,n){const r=OW(t);try{const s=await function(o,a){const l=ye(o),c=yt.now(),u=a.reduce((p,m)=>p.add(m.key),Ie());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=ls(),g=Ie();return l.es.getEntries(p,u).next(E=>{m=E,m.forEach((_,v)=>{v.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(E=>{h=E;const _=[];for(const v of a){const y=Z6(v,h.get(v.key).overlayedDocument);y!=null&&_.push(new ci(v.key,y,AA(y.value.mapValue),Tr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(E=>{f=E;const _=E.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,E.batchId,_)})}).then(()=>({batchId:f.batchId,changes:FA(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.ga[o.currentUser.toKey()];c||(c=new gt(Oe)),c=c.insert(a,l),o.ga[o.currentUser.toKey()]=c}(r,s.batchId,n),await du(r,s.changes),await up(r.remoteStore)}catch(s){const i=xE(s,"Failed to persist write");n.reject(i)}}async function wb(t,e){const n=ye(t);try{const r=await HH(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ma.get(i);o&&(Ye(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ta=!0:s.modifiedDocuments.size>0?Ye(o.Ta):s.removedDocuments.size>0&&(Ye(o.Ta),o.Ta=!1))}),await du(n,r,e)}catch(r){await ou(r)}}function TT(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.da.forEach((i,o)=>{const a=o.view.B_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.B_(a)&&(c=!0)}),c&&NE(l)}(r.eventManager,e),s.length&&r.Ea.i_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function xW(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ma.get(e),i=s&&s.key;if(i){let o=new gt(oe.comparator);o=o.insert(i,Wt.newNoDocument(i,ge.min()));const a=Ie().add(i),l=new ap(ge.min(),new Map,new gt(Oe),o,a);await wb(r,l),r.Va=r.Va.remove(i),r.ma.delete(e),AE(r)}else await V_(r.localStore,e,!1).then(()=>j_(r,e,n)).catch(ou)}async function NW(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await zH(n.localStore,e);Cb(n,r,null),Tb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await du(n,s)}catch(s){await ou(s)}}async function AW(t,e,n){const r=ye(t);try{const s=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Ye(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Cb(r,e,n),Tb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await du(r,s)}catch(s){await ou(s)}}function Tb(t,e){(t.pa.get(e)||[]).forEach(n=>{n.resolve()}),t.pa.delete(e)}function Cb(t,e,n){const r=ye(t);let s=r.ga[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.ga[r.currentUser.toKey()]=s}}function j_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Aa.get(e))t.da.delete(r),n&&t.Ea.ba(r,n);t.Aa.delete(e),t.isPrimaryClient&&t.fa.Rr(e).forEach(r=>{t.fa.containsKey(r)||Ib(t,r)})}function Ib(t,e){t.Ra.delete(e.path.canonicalString());const n=t.Va.get(e);n!==null&&(db(t.remoteStore,n),t.Va=t.Va.remove(e),t.ma.delete(n),AE(t))}function CT(t,e,n){for(const r of n)r instanceof Eb?(t.fa.addReference(r.key,e),bW(t,r)):r instanceof Sb?(ne("SyncEngine","Document no longer in limbo: "+r.key),t.fa.removeReference(r.key,e),t.fa.containsKey(r.key)||Ib(t,r.key)):fe()}function bW(t,e){const n=e.key,r=n.path.canonicalString();t.Va.get(n)||t.Ra.has(r)||(ne("SyncEngine","New document in limbo: "+n),t.Ra.add(r),AE(t))}function AE(t){for(;t.Ra.size>0&&t.Va.size<t.maxConcurrentLimboResolutions;){const e=t.Ra.values().next().value;t.Ra.delete(e);const n=new oe(Ge.fromString(e)),r=t.ya.next();t.ma.set(r,new SW(n)),t.Va=t.Va.insert(n,r),ub(t.remoteStore,new Ns(as(pE(n.path)),r,"TargetPurposeLimboResolution",lE.ae))}}async function du(t,e,n){const r=ye(t),s=[],i=[],o=[];r.da.isEmpty()||(r.da.forEach((a,l)=>{o.push(r.Sa(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=wE.Qi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.Ea.i_(s),await async function(l,c){const u=ye(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(c,f=>B.forEach(f.ki,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>B.forEach(f.qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!au(h))throw h;ne("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.Yi.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.Yi=u.Yi.insert(f,g)}}}(r.localStore,i))}async function kW(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){ne("SyncEngine","User change. New user:",e.toKey());const r=await ob(n.localStore,e);n.currentUser=e,function(i,o){i.pa.forEach(a=>{a.forEach(l=>{l.reject(new Z(D.CANCELLED,o))})}),i.pa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await du(n,r.ns)}}function PW(t,e){const n=ye(t),r=n.ma.get(e);if(r&&r.Ta)return Ie().add(r.key);{let s=Ie();const i=n.Aa.get(e);if(!i)return s;for(const o of i){const a=n.da.get(o);s=s.unionWith(a.view.sa)}return s}}function LW(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=wb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=PW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xW.bind(null,e),e.Ea.i_=_W.bind(null,e.eventManager),e.Ea.ba=vW.bind(null,e.eventManager),e}function OW(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=AW.bind(null,e),e}class IT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=lp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return BH(this.persistence,new FH,e.initialUser,this.serializer)}createPersistence(e){return new jH(SE.jr,this.serializer)}createSharedClientState(e){return new QH}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class DW{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=kW.bind(null,this.syncEngine),await pW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new gW}()}createDatastore(e){const n=lp(e.databaseInfo.databaseId),r=function(i){return new ZH(i)}(e.databaseInfo);return function(i,o,a,l){return new nW(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new sW(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>TT(this.syncEngine,n,0),function(){return ET.v()?new ET:new YH}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new wW(s,i,o,a,l,c);return u&&(h.wa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ye(n);ne("RemoteStore","RemoteStore shutting down."),r.w_.add(5),await uu(r),r.b_.shutdown(),r.D_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ca(this.observer.next,e)}error(e){this.observer.error?this.Ca(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString())}Fa(){this.muted=!0}Ca(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=RA.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{ne("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(ne("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=xE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Mm(t,e){t.asyncQueue.verifyOperationInProgress(),ne("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ob(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function RT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jW(t);ne("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>ST(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>ST(e.remoteStore,i)),t._onlineComponents=e}function VW(t){return t.name==="FirebaseError"?t.code===D.FAILED_PRECONDITION||t.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function jW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne("FirestoreClient","Using user provided OfflineComponentProvider");try{await Mm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!VW(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),await Mm(t,new IT)}}else ne("FirestoreClient","Using default OfflineComponentProvider"),await Mm(t,new IT);return t._offlineComponents}async function xb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne("FirestoreClient","Using user provided OnlineComponentProvider"),await RT(t,t._uninitializedComponentsProvider._online)):(ne("FirestoreClient","Using default OnlineComponentProvider"),await RT(t,new DW))),t._onlineComponents}function $W(t){return xb(t).then(e=>e.syncEngine)}async function Nb(t){const e=await xb(t),n=e.eventManager;return n.onListen=TW.bind(null,e.syncEngine),n.onUnlisten=IW.bind(null,e.syncEngine),n}function FW(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Rb({next:f=>{o.enqueueAndForget(()=>vb(i,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new Z(D.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new Z(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new yb(pE(a.path),u,{includeMetadataChanges:!0,G_:!0});return _b(i,h)}(await Nb(t),t.asyncQueue,e,n,r)),r.promise}function UW(t,e,n={}){const r=new Qr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Rb({next:f=>{o.enqueueAndForget(()=>vb(i,h)),f.fromCache&&l.source==="server"?c.reject(new Z(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new yb(a,u,{includeMetadataChanges:!0,G_:!0});return _b(i,h)}(await Nb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(t,e,n){if(!n)throw new Z(D.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BW(t,e,n,r){if(e===!0&&r===!0)throw new Z(D.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function NT(t){if(!oe.isDocumentKey(t))throw new Z(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function AT(t){if(oe.isDocumentKey(t))throw new Z(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function dp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function cs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dp(t);throw new Z(D.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function zW(t,e){if(e<=0)throw new Z(D.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}BW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ab((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Z(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Z(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Z(D.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new bT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new bT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new u6;switch(r.type){case"firstParty":return new p6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=xT.get(n);r&&(ne("ComponentProvider","Removing Datastore"),xT.delete(n),r.terminate())}(this),Promise.resolve()}}function HW(t,e,n,r={}){var s;const i=(t=cs(t,hp))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=zt.MOCK_USER;else{a=m1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Z(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new zt(c)}t._authCredentials=new d6(new IA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new di(this.firestore,e,this._query)}}class ln{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class zs extends di{constructor(e,n,r){super(e,n,pE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new oe(e))}withConverter(e){return new zs(this.firestore,e,this._path)}}function WW(t,e,...n){if(t=at(t),bb("collection","path",e),t instanceof hp){const r=Ge.fromString(e,...n);return AT(r),new zs(t,null,r)}{if(!(t instanceof ln||t instanceof zs))throw new Z(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return AT(r),new zs(t.firestore,null,r)}}function hi(t,e,...n){if(t=at(t),arguments.length===1&&(e=RA.V()),bb("doc","path",e),t instanceof hp){const r=Ge.fromString(e,...n);return NT(r),new ln(t,null,new oe(r))}{if(!(t instanceof ln||t instanceof zs))throw new Z(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ge.fromString(e,...n));return NT(r),new ln(t.firestore,t instanceof zs?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qW{constructor(){this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new lb(this,"async_queue_retry"),this.eu=()=>{const n=Dm();n&&ne("AsyncQueue","Visibility state changed to "+n.visibilityState),this.$o.Bo()};const e=Dm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.eu)}get isShuttingDown(){return this.ja}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.tu(),this.nu(e)}enterRestrictedMode(e){if(!this.ja){this.ja=!0,this.Za=e||!1;const n=Dm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.eu)}}enqueue(e){if(this.tu(),this.ja)return new Promise(()=>{});const n=new Qr;return this.nu(()=>this.ja&&this.Za?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.za.push(e),this.ru()))}async ru(){if(this.za.length!==0){try{await this.za[0](),this.za.shift(),this.$o.reset()}catch(e){if(!au(e))throw e;ne("AsyncQueue","Operation failed with retryable error: "+e)}this.za.length>0&&this.$o.Oo(()=>this.ru())}}nu(e){const n=this.Ga.then(()=>(this.Ya=!0,e().catch(r=>{this.Ja=r,this.Ya=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw os("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ya=!1,r))));return this.Ga=n,n}enqueueAfterDelay(e,n,r){this.tu(),this.Xa.indexOf(e)>-1&&(n=0);const s=RE.createAndSchedule(this,e,n,r,i=>this.iu(i));return this.Ha.push(s),s}tu(){this.Ja&&fe()}verifyOperationInProgress(){}async su(){let e;do e=this.Ga,await e;while(e!==this.Ga)}ou(e){for(const n of this.Ha)if(n.timerId===e)return!0;return!1}_u(e){return this.su().then(()=>{this.Ha.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Ha)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.su()})}au(e){this.Xa.push(e)}iu(e){const n=this.Ha.indexOf(e);this.Ha.splice(n,1)}}class hu extends hp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new qW}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||kb(this),this._firestoreClient.terminate()}}function GW(t,e){const n=typeof t=="object"?t:cy(),r=typeof t=="string"?t:e||"(default)",s=mf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=h1("firestore");i&&HW(s,...i)}return s}function bE(t){return t._firestoreClient||kb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function kb(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new R6(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Ab(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new MW(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(nn.fromBase64String(e))}catch(n){throw new Z(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fa(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KW=/^__.*__$/;class QW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ci(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}class Pb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ci(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Lb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class LE{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.uu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get cu(){return this.settings.cu}lu(e){return new LE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}hu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.Iu(e),s}Tu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.uu(),s}Eu(e){return this.lu({path:void 0,Pu:!0})}du(e){return Mh(e,this.settings.methodName,this.settings.Au||!1,this.path,this.settings.Ru)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}uu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Iu(this.path.get(e))}Iu(e){if(e.length===0)throw this.du("Document fields must not be empty");if(Lb(this.cu)&&KW.test(e))throw this.du('Document fields cannot begin and end with "__"')}}class YW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lp(e)}Vu(e,n,r,s=!1){return new LE({cu:e,methodName:n,Ru:r,path:Kt.emptyPath(),Pu:!1,Au:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function OE(t){const e=t._freezeSettings(),n=lp(t._databaseId);return new YW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function XW(t,e,n,r,s,i={}){const o=t.Vu(i.merge||i.mergeFields?2:0,e,n,s);DE("Data must be an object, but it was:",o,r);const a=Ob(r,o);let l,c;if(i.merge)l=new xn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=$_(e,h,n);if(!o.contains(f))throw new Z(D.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Mb(u,f)||u.push(f)}l=new xn(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new QW(new mn(a),l,c)}class pp extends kE{_toFieldTransform(e){if(e.cu!==2)throw e.cu===1?e.du(`${this._methodName}() can only appear at the top level of your update data`):e.du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pp}}function JW(t,e,n,r){const s=t.Vu(1,e,n);DE("Data must be an object, but it was:",s,r);const i=[],o=mn.empty();eo(r,(l,c)=>{const u=ME(e,l,n);c=at(c);const h=s.Tu(u);if(c instanceof pp)i.push(u);else{const f=fu(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new xn(i);return new Pb(o,a,s.fieldTransforms)}function ZW(t,e,n,r,s,i){const o=t.Vu(1,e,n),a=[$_(e,r,n)],l=[s];if(i.length%2!=0)throw new Z(D.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push($_(e,i[f])),l.push(i[f+1]);const c=[],u=mn.empty();for(let f=a.length-1;f>=0;--f)if(!Mb(c,a[f])){const p=a[f];let m=l[f];m=at(m);const g=o.Tu(p);if(m instanceof pp)c.push(p);else{const E=fu(m,g);E!=null&&(c.push(p),u.set(p,E))}}const h=new xn(c);return new Pb(u,h,o.fieldTransforms)}function e5(t,e,n,r=!1){return fu(n,t.Vu(r?4:3,e))}function fu(t,e){if(Db(t=at(t)))return DE("Unsupported field value:",e,t),Ob(t,e);if(t instanceof kE)return function(r,s){if(!Lb(s.cu))throw s.du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Pu&&e.cu!==4)throw e.du("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=fu(a,s.Eu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=at(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return G6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=yt.fromDate(r);return{timestampValue:Oh(s.serializer,i)}}if(r instanceof yt){const i=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oh(s.serializer,i)}}if(r instanceof PE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fa)return{bytesValue:eb(s.serializer,r._byteString)};if(r instanceof ln){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yE(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.du(`Unsupported field value: ${dp(r)}`)}(t,e)}function Ob(t,e){const n={};return xA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,(r,s)=>{const i=fu(s,e.hu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Db(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof PE||t instanceof fa||t instanceof ln||t instanceof kE)}function DE(t,e,n){if(!Db(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=dp(n);throw r==="an object"?e.du(t+" a custom object"):e.du(t+" "+r)}}function $_(t,e,n){if((e=at(e))instanceof fp)return e._internalPath;if(typeof e=="string")return ME(t,e);throw Mh("Field path arguments must be of type string or ",t,!1,void 0,n)}const t5=new RegExp("[~\\*/\\[\\]]");function ME(t,e,n){if(e.search(t5)>=0)throw Mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fp(...e.split("."))._internalPath}catch{throw Mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Mh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Z(D.INVALID_ARGUMENT,a+t+l)}function Mb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new n5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(VE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class n5 extends Vb{data(){return super.data()}}function VE(t,e){return typeof e=="string"?ME(t,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r5(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jE{}class $E extends jE{}function s5(t,e,...n){let r=[];e instanceof jE&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof UE).length,a=i.filter(l=>l instanceof FE).length;if(o>1||o>0&&a>0)throw new Z(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class FE extends $E{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new FE(e,n,r)}_apply(e){const n=this._parse(e);return jb(e._query,n),new di(e.firestore,e.converter,k_(e._query,n))}_parse(e){const n=OE(e.firestore);return function(i,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Z(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){PT(h,u);const p=[];for(const m of h)p.push(kT(l,i,m));f={arrayValue:{values:p}}}else f=kT(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||PT(h,u),f=e5(a,o,h,u==="in"||u==="not-in");return mt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class UE extends jE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new UE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)jb(o,l),o=k_(o,l)}(e._query,n),new di(e.firestore,e.converter,k_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class BE extends $E{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new BE(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Z(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Z(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Bo(i,o);return function(c,u){if(mE(c)===null){const h=np(c);h!==null&&$b(c,h,u.field)}}(s,a),a}(e._query,this._field,this._direction);return new di(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ba(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function i5(t,e="asc"){const n=e,r=VE("orderBy",t);return BE._create(r,n)}class zE extends $E{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new zE(e,n,r)}_apply(e){return new di(e.firestore,e.converter,kh(e._query,this._limit,this._limitType))}}function o5(t){return zW("limit",t),zE._create("limit",t,"F")}function kT(t,e,n){if(typeof(n=at(n))=="string"){if(n==="")throw new Z(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MA(e)&&n.indexOf("/")!==-1)throw new Z(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ge.fromString(n));if(!oe.isDocumentKey(r))throw new Z(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tT(t,new oe(r))}if(n instanceof ln)return tT(t,n._key);throw new Z(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dp(n)}.`)}function PT(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function jb(t,e){if(e.isInequality()){const r=np(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new Z(D.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=mE(t);i!==null&&$b(t,s,i)}const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function $b(t,e,n){if(!n.isEqual(e))throw new Z(D.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class a5{convertValue(e,n="none"){switch(Bi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return eo(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new PE(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=uE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Cc(e));default:return null}}convertTimestamp(e){const n=Ys(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ge.fromString(e);Ye(ib(r));const s=new Ic(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||os(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Fb extends Vb{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ad(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(VE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ad extends Fb{data(e={}){return super.data(e)}}class c5{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Sl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ad(this._firestore,this._userDataWriter,r.key,r,new Sl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Ad(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Sl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Ad(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Sl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:u5(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function u5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HE(t){t=cs(t,ln);const e=cs(t.firestore,hu);return FW(bE(e),t._key).then(n=>h5(e,t,n))}class Ub extends a5{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,n)}}function d5(t){t=cs(t,di);const e=cs(t.firestore,hu),n=bE(e),r=new Ub(e);return r5(t._query),UW(n,t._query).then(s=>new c5(e,r,t,s))}function WE(t,e,n){t=cs(t,ln);const r=cs(t.firestore,hu),s=l5(t.converter,e,n);return zb(r,[XW(OE(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Tr.none())])}function Bb(t,e,n,...r){t=cs(t,ln);const s=cs(t.firestore,hu),i=OE(s);let o;return o=typeof(e=at(e))=="string"||e instanceof fp?ZW(i,"updateDoc",t._key,e,n,r):JW(i,"updateDoc",t._key,e),zb(s,[o.toMutation(t._key,Tr.exists(!0))])}function zb(t,e){return function(r,s){const i=new Qr;return r.asyncQueue.enqueueAndForget(async()=>RW(await $W(r),s,i)),i.promise}(bE(t),e)}function h5(t,e,n){const r=n.docs.get(e._key),s=new Ub(t);return new Fb(t,s,e._key,r,new Sl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Aa=s})(ni),Ks(new ns("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new hu(new h6(r.getProvider("auth-internal")),new g6(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ic(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),zn(Yw,"4.1.1",e),zn(Yw,"4.1.1","esm2017")})();const LT="@firebase/database",OT="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hb="";function f5(t){Hb=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:uc(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return fs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new p5(e)}}catch{}return new m5},Ci=Wb("localStorage"),F_=Wb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new pf("@firebase/database"),g5=function(){let t=1;return function(){return t++}}(),qb=function(t){const e=WM(t),n=new FM;n.update(e);const r=n.digest();return sy.encodeByteArray(r)},pu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=pu.apply(null,r):typeof r=="object"?e+=Dt(r):e+=r,e+=" "}return e};let Ai=null,DT=!0;const _5=function(t,e){K(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ho.logLevel=ke.VERBOSE,Ai=Ho.log.bind(Ho),e&&F_.set("logging_enabled",!0)):typeof t=="function"?Ai=t:(Ai=null,F_.remove("logging_enabled"))},qt=function(...t){if(DT===!0&&(DT=!1,Ai===null&&F_.get("logging_enabled")===!0&&_5(!0)),Ai){const e=pu.apply(null,t);Ai(e)}},mu=function(t){return function(...e){qt(t,...e)}},U_=function(...t){const e="FIREBASE INTERNAL ERROR: "+pu(...t);Ho.error(e)},us=function(...t){const e=`FIREBASE FATAL ERROR: ${pu(...t)}`;throw Ho.error(e),new Error(e)},An=function(...t){const e="FIREBASE WARNING: "+pu(...t);Ho.warn(e)},v5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&An("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Gb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},y5=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pa="[MIN_NAME]",zi="[MAX_NAME]",La=function(t,e){if(t===e)return 0;if(t===pa||e===zi)return-1;if(e===pa||t===zi)return 1;{const n=MT(t),r=MT(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},E5=function(t,e){return t===e?0:t<e?-1:1},tl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Dt(e))},qE=function(t){if(typeof t!="object"||t===null)return Dt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Dt(e[r]),n+=":",n+=qE(t[e[r]]);return n+="}",n},Kb=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Kn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Qb=function(t){K(!Gb(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},S5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},w5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},T5=new RegExp("^-?(0*)\\d{1,10}$"),C5=-2147483648,I5=2147483647,MT=function(t){if(T5.test(t)){const e=Number(t);if(e>=C5&&e<=I5)return e}return null},gu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw An("Exception was thrown by user callback.",n),e},Math.floor(0))}},R5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ul=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x5{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){An(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',An(e)}}class Wo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Wo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="5",Yb="v",Xb="s",Jb="r",Zb="f",ek=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,tk="ls",nk="p",B_="ac",rk="websocket",sk="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ci.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ci.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function A5(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ok(t,e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");let r;if(e===rk)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===sk)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);A5(t)&&(n.ns=t.namespace);const s=[];return Kn(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b5{constructor(){this.counters_={}}incrementCounter(e,n=1){fs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return IM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm={},jm={};function KE(t){const e=t.toString();return Vm[e]||(Vm[e]=new b5),Vm[e]}function k5(t,e){const n=t.toString();return jm[n]||(jm[n]=e()),jm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&gu(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="start",L5="close",O5="pLPCommand",D5="pRTLPCB",ak="id",lk="pw",ck="ser",M5="cb",V5="seg",j5="ts",$5="d",F5="dframe",uk=1870,dk=30,U5=uk-dk,B5=25e3,z5=3e4;class Ao{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mu(e),this.stats_=KE(n),this.urlFn=l=>(this.appCheckToken&&(l[B_]=this.appCheckToken),ok(n,sk,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new P5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(z5)),y5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new QE((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===VT)this.id=a,this.password=l;else if(o===L5)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[VT]="t",r[ck]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[M5]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Yb]=GE,this.transportSessionId&&(r[Xb]=this.transportSessionId),this.lastSessionId&&(r[tk]=this.lastSessionId),this.applicationId&&(r[nk]=this.applicationId),this.appCheckToken&&(r[B_]=this.appCheckToken),typeof location<"u"&&location.hostname&&ek.test(location.hostname)&&(r[Jb]=Zb);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ao.forceAllow_=!0}static forceDisallow(){Ao.forceDisallow_=!0}static isAvailable(){return Ao.forceAllow_?!0:!Ao.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!S5()&&!w5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=c1(n),s=Kb(r,U5);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[F5]="t",r[ak]=e,r[lk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class QE{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=g5(),window[O5+this.uniqueCallbackIdentifier]=e,window[D5+this.uniqueCallbackIdentifier]=n,this.myIFrame=QE.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qt("frame writing exception"),a.stack&&qt(a.stack),qt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ak]=this.myID,e[lk]=this.myPW,e[ck]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+dk+r.length<=uk;){const o=this.pendingSegs.shift();r=r+"&"+V5+s+"="+o.seg+"&"+j5+s+"="+o.ts+"&"+$5+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(B5)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=16384,W5=45e3;let Vh=null;typeof MozWebSocket<"u"?Vh=MozWebSocket:typeof WebSocket<"u"&&(Vh=WebSocket);class tr{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mu(this.connId),this.stats_=KE(n),this.connURL=tr.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[Yb]=GE,typeof location<"u"&&location.hostname&&ek.test(location.hostname)&&(o[Jb]=Zb),n&&(o[Xb]=n),r&&(o[tk]=r),s&&(o[B_]=s),i&&(o[nk]=i),ok(e,rk,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ci.set("previous_websocket_failure",!0);try{let r;_1(),this.mySock=new Vh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){tr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Vh!==null&&!tr.forceDisallow_}static previouslyFailed(){return Ci.isInMemoryStorage||Ci.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ci.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=uc(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Kb(n,H5);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(W5))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tr.responsesRequiredToBeHealthy=2;tr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ac{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ao,tr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=tr&&tr.isAvailable();let r=n&&!tr.previouslyFailed();if(e.webSocketOnly&&(n||An("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tr];else{const s=this.transports_=[];for(const i of Ac.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Ac.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Ac.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q5=6e4,G5=5e3,K5=10*1024,Q5=100*1024,$m="t",jT="d",Y5="s",$T="r",X5="e",FT="o",UT="a",BT="n",zT="p",J5="h";class Z5{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mu("c:"+this.id+":"),this.transportManager_=new Ac(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ul(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Q5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>K5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if($m in e){const n=e[$m];n===UT?this.upgradeIfSecondaryHealthy_():n===$T?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===FT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=tl("t",e),r=tl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:UT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:BT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=tl("t",e),r=tl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=tl($m,e);if(jT in e){const r=e[jT];if(n===J5){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===BT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Y5?this.onConnectionShutdown_(r):n===$T?this.onReset_(r):n===X5?U_("Server Error: "+r):n===FT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):U_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),GE!==r&&An("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ul(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(q5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ul(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(G5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ci.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){K(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends fk{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ay()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new jh}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=32,WT=768;class Xe{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $e(){return new Xe("")}function Ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Js(t){return t.pieces_.length-t.pieceNum_}function We(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Xe(t.pieces_,e)}function pk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function eq(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function mk(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function gk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Xe(e,0)}function xt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Xe)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Xe(n,0)}function xe(t){return t.pieceNum_>=t.pieces_.length}function Un(t,e){const n=Ae(t),r=Ae(e);if(n===null)return e;if(n===r)return Un(We(t),We(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function _k(t,e){if(Js(t)!==Js(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function nr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Js(t)>Js(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class tq{constructor(e,n){this.errorPrefix_=n,this.parts_=mk(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ff(this.parts_[r]);vk(this)}}function nq(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ff(e),vk(t)}function rq(t){const e=t.parts_.pop();t.byteLength_-=ff(e),t.parts_.length>0&&(t.byteLength_-=1)}function vk(t){if(t.byteLength_>WT)throw new Error(t.errorPrefix_+"has a key path longer than "+WT+" bytes ("+t.byteLength_+").");if(t.parts_.length>HT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+HT+") or object contains a cycle "+gi(t))}function gi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE extends fk{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new YE}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nl=1e3,sq=60*5*1e3,qT=30*1e3,iq=1.3,oq=3e4,aq="server_kill",GT=3;class Yr extends hk{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Yr.nextPersistentConnectionId_++,this.log_=mu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=nl,this.maxReconnectDelay_=sq,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!_1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");YE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&jh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Dt(i)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new oy,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Yr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&fs(e,"w")){const r=ea(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();An(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||$M(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=jM(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Dt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):U_("Unrecognized action received from server: "+Dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>oq&&(this.reconnectDelay_=nl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*iq)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Yr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){K(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new Z5(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{An(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(aq)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&An(h),l())}}}interrupt(e){qt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Xg(this.interruptReasons_)&&(this.reconnectDelay_=nl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>qE(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Xe(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){qt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=GT&&(this.reconnectDelay_=qT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=GT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Hb.replace(/\./g,"-")]=1,ay()?e["framework.cordova"]=1:g1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jh.getInstance().currentlyOnline();return Xg(this.interruptReasons_)&&e}}Yr.nextPersistentConnectionId_=0;Yr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new be(pa,e),s=new be(pa,n);return this.compare(r,s)!==0}minPost(){return be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rd;class yk extends mp{static get __EMPTY_NODE(){return rd}static set __EMPTY_NODE(e){rd=e}compare(e,n){return La(e.name,n.name)}isDefinedOn(e){throw wa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return be.MIN}maxPost(){return new be(zi,rd)}makePost(e,n){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new be(e,rd)}toString(){return".key"}}const qo=new yk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sd{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??_n.EMPTY_NODE,this.right=i??_n.EMPTY_NODE}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return _n.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return _n.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Rt.RED=!0;Rt.BLACK=!1;class lq{copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _n{constructor(e,n=_n.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new _n(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))}remove(e){return new _n(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new sd(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new sd(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new sd(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new sd(this.root_,null,this.comparator_,!0,e)}}_n.EMPTY_NODE=new lq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cq(t,e){return La(t.name,e.name)}function XE(t,e){return La(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z_;function uq(t){z_=t}const Ek=function(t){return typeof t=="number"?"number:"+Qb(t):"string:"+t},Sk=function(t){if(t.isLeafNode()){const e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&fs(e,".sv"),"Priority must be a string or number.")}else K(t===z_||t.isEmpty(),"priority of unexpected type.");K(t===z_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KT;class Tt{constructor(e,n=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Sk(this.priorityNode_)}static set __childrenNodeConstructor(e){KT=e}static get __childrenNodeConstructor(){return KT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:Ae(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||Js(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Ek(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Qb(this.value_):e+=this.value_,this.lazyHash_=qb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Tt.VALUE_TYPE_ORDER.indexOf(n),i=Tt.VALUE_TYPE_ORDER.indexOf(r);return K(s>=0,"Unknown leaf type: "+n),K(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wk,Tk;function dq(t){wk=t}function hq(t){Tk=t}class fq extends mp{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?La(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return be.MIN}maxPost(){return new be(zi,new Tt("[PRIORITY-POST]",Tk))}makePost(e,n){const r=wk(e);return new be(n,new Tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qt=new fq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=Math.log(2);class mq{constructor(e){const n=i=>parseInt(Math.log(i)/pq,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const $h=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new Rt(f,h.node,Rt.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=s(l,p),g=s(p+1,c);return h=t[p],f=n?n(h):h,new Rt(f,h.node,Rt.BLACK,m,g)}},i=function(l){let c=null,u=null,h=t.length;const f=function(m,g){const E=h-m,_=h;h-=m;const v=s(E+1,_),y=t[E],S=n?n(y):y;p(new Rt(S,y.node,g,null,v))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));g?f(E,Rt.BLACK):(f(E,Rt.BLACK),f(E,Rt.RED))}return u},o=new mq(t.length),a=i(o);return new _n(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fm;const lo={};class Gr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return K(lo&&Qt,"ChildrenNode.ts has not been loaded"),Fm=Fm||new Gr({".priority":lo},{".priority":Qt}),Fm}get(e){const n=ea(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof _n?n:null}hasIndex(e){return fs(this.indexSet_,e.toString())}addIndex(e,n){K(e!==qo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(be.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=$h(r,e.getCompare()):a=lo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Gr(u,c)}addToIndexes(e,n){const r=ch(this.indexes_,(s,i)=>{const o=ea(this.indexSet_,i);if(K(o,"Missing index implementation for "+i),s===lo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(be.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),$h(a,o.getCompare())}else return lo;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new be(e.name,a))),l.insert(e,e.node)}});return new Gr(r,this.indexSet_)}removeFromIndexes(e,n){const r=ch(this.indexes_,s=>{if(s===lo)return s;{const i=n.get(e.name);return i?s.remove(new be(e.name,i)):s}});return new Gr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rl;class De{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Sk(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return rl||(rl=new De(new _n(XE),null,Gr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||rl}updatePriority(e){return this.children_.isEmpty()?this:new De(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?rl:n}}getChild(e){const n=Ae(e);return n===null?this:this.getImmediateChild(n).getChild(We(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new be(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?rl:this.priorityNode_;return new De(s,o,i)}}updateChild(e,n){const r=Ae(e);if(r===null)return n;{K(Ae(e)!==".priority"||Js(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(We(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Qt,(o,a)=>{n[o]=a.val(e),r++,i&&De.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Ek(this.getPriority().val())+":"),this.forEachChild(Qt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":qb(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new be(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,be.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_u?-1:0}withIndex(e){if(e===qo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new De(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Qt),s=n.getIterator(Qt);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===qo?null:this.indexMap_.get(e.toString())}}De.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gq extends De{constructor(){super(new _n(XE),De.EMPTY_NODE,Gr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return De.EMPTY_NODE}isEmpty(){return!1}}const _u=new gq;Object.defineProperties(be,{MIN:{value:new be(pa,De.EMPTY_NODE)},MAX:{value:new be(zi,_u)}});yk.__EMPTY_NODE=De.EMPTY_NODE;Tt.__childrenNodeConstructor=De;uq(_u);hq(_u);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _q=!0;function Gt(t,e=null){if(t===null)return De.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tt(n,Gt(e))}if(!(t instanceof Array)&&_q){const n=[];let r=!1;if(Kn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Gt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new be(o,l)))}}),n.length===0)return De.EMPTY_NODE;const i=$h(n,cq,o=>o.name,XE);if(r){const o=$h(n,Qt.getCompare());return new De(i,Gt(e),new Gr({".priority":o},{".priority":Qt}))}else return new De(i,Gt(e),Gr.Default)}else{let n=De.EMPTY_NODE;return Kn(t,(r,s)=>{if(fs(t,r)&&r.substring(0,1)!=="."){const i=Gt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Gt(e))}}dq(Gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vq extends mp{constructor(e){super(),this.indexPath_=e,K(!xe(e)&&Ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?La(e.name,n.name):i}makePost(e,n){const r=Gt(e),s=De.EMPTY_NODE.updateChild(this.indexPath_,r);return new be(n,s)}maxPost(){const e=De.EMPTY_NODE.updateChild(this.indexPath_,_u);return new be(zi,e)}toString(){return mk(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq extends mp{compare(e,n){const r=e.node.compareTo(n.node);return r===0?La(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(e,n){const r=Gt(e);return new be(n,r)}toString(){return".value"}}const Eq=new yq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sq(t){return{type:"value",snapshotNode:t}}function wq(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Tq(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function QT(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Cq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pa}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const e=new JE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function YT(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Qt?n="$priority":t.index_===Eq?n="$value":t.index_===qo?n="$key":(K(t.index_ instanceof vq,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Dt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Dt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Dt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Dt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function XT(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Qt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends hk{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=mu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Fh.getListenId_(e,r),a={};this.listens_[o]=a;const l=YT(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),ea(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Fh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=YT(e._queryParams),r=e._path.toString(),s=new oy;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ta(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=uc(a.responseText)}catch{An("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&An("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iq{constructor(){this.rootNode_=De.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uh(){return{value:null,children:new Map}}function Ck(t,e,n){if(xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ae(e);t.children.has(r)||t.children.set(r,Uh());const s=t.children.get(r);e=We(e),Ck(s,e,n)}}function H_(t,e,n){t.value!==null?n(e,t.value):Rq(t,(r,s)=>{const i=new Xe(e.toString()+"/"+r);H_(s,i,n)})}function Rq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Kn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=10*1e3,Nq=30*1e3,Aq=5*60*1e3;class bq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new xq(e);const r=JT+(Nq-JT)*Math.random();Ul(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Kn(e,(s,i)=>{i>0&&fs(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Ul(this.reportStats_.bind(this),Math.floor(Math.random()*2*Aq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_r||(_r={}));function Ik(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Rk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function xk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=_r.ACK_USER_WRITE,this.source=Ik()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Xe(e));return new Bh($e(),n,this.revert)}}else return K(Ae(this.path)===e,"operationForChild called for unrelated child."),new Bh(We(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=_r.OVERWRITE}operationForChild(e){return xe(this.path)?new Hi(this.source,$e(),this.snap.getImmediateChild(e)):new Hi(this.source,We(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=_r.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new Xe(e));return n.isEmpty()?null:n.value?new Hi(this.source,$e(),n.value):new bc(this.source,$e(),n)}else return K(Ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new bc(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function kq(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(Cq(o.childName,o.snapshotNode))}),sl(t,s,"child_removed",e,r,n),sl(t,s,"child_added",e,r,n),sl(t,s,"child_moved",i,r,n),sl(t,s,"child_changed",e,r,n),sl(t,s,"value",e,r,n),s}function sl(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Lq(t,a,l)),o.forEach(a=>{const l=Pq(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Pq(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Lq(t,e,n){if(e.childName==null||n.childName==null)throw wa("Should only compare child_ events.");const r=new be(e.childName,e.snapshotNode),s=new be(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t,e){return{eventCache:t,serverCache:e}}function Bl(t,e,n,r){return Nk(new ZE(e,n,r),t.serverCache)}function Ak(t,e,n,r){return Nk(t.eventCache,new ZE(e,n,r))}function W_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Wi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um;const Oq=()=>(Um||(Um=new _n(E5)),Um);class He{constructor(e,n=Oq()){this.value=e,this.children=n}static fromObject(e){let n=new He(null);return Kn(e,(r,s)=>{n=n.set(new Xe(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$e(),value:this.value};if(xe(e))return null;{const r=Ae(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(We(e),n);return i!=null?{path:xt(new Xe(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=Ae(e),r=this.children.get(n);return r!==null?r.subtree(We(e)):new He(null)}}set(e,n){if(xe(e))return new He(n,this.children);{const r=Ae(e),i=(this.children.get(r)||new He(null)).set(We(e),n),o=this.children.insert(r,i);return new He(this.value,o)}}remove(e){if(xe(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=Ae(e),r=this.children.get(n);if(r){const s=r.remove(We(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new He(null):new He(this.value,i)}else return this}}get(e){if(xe(e))return this.value;{const n=Ae(e),r=this.children.get(n);return r?r.get(We(e)):null}}setTree(e,n){if(xe(e))return n;{const r=Ae(e),i=(this.children.get(r)||new He(null)).setTree(We(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new He(this.value,o)}}fold(e){return this.fold_($e(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(xt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,$e(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(xe(e))return null;{const i=Ae(e),o=this.children.get(i);return o?o.findOnPath_(We(e),xt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$e(),n)}foreachOnPath_(e,n,r){if(xe(e))return this;{this.value&&r(n,this.value);const s=Ae(e),i=this.children.get(s);return i?i.foreachOnPath_(We(e),xt(n,s),r):new He(null)}}foreach(e){this.foreach_($e(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(xt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.writeTree_=e}static empty(){return new or(new He(null))}}function zl(t,e,n){if(xe(e))return new or(new He(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Un(s,e);return i=i.updateChild(o,n),new or(t.writeTree_.set(s,i))}else{const s=new He(n),i=t.writeTree_.setTree(e,s);return new or(i)}}}function ZT(t,e,n){let r=t;return Kn(n,(s,i)=>{r=zl(r,xt(e,s),i)}),r}function eC(t,e){if(xe(e))return or.empty();{const n=t.writeTree_.setTree(e,new He(null));return new or(n)}}function q_(t,e){return no(t,e)!=null}function no(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Un(n.path,e)):null}function tC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qt,(r,s)=>{e.push(new be(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new be(r,s.value))}),e}function Hs(t,e){if(xe(e))return t;{const n=no(t,e);return n!=null?new or(new He(n)):new or(t.writeTree_.subtree(e))}}function G_(t){return t.writeTree_.isEmpty()}function ma(t,e){return bk($e(),t.writeTree_,e)}function bk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(K(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=bk(xt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(xt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t,e){return Mk(e,t)}function Dq(t,e,n,r,s){K(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=zl(t.visibleWrites,e,n)),t.lastWriteId=r}function Mq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Vq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);K(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&jq(a,r.path)?s=!1:nr(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return $q(t),!0;if(r.snap)t.visibleWrites=eC(t.visibleWrites,r.path);else{const a=r.children;Kn(a,l=>{t.visibleWrites=eC(t.visibleWrites,xt(r.path,l))})}return!0}else return!1}function jq(t,e){if(t.snap)return nr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&nr(xt(t.path,n),e))return!0;return!1}function $q(t){t.visibleWrites=Pk(t.allWrites,Fq,$e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Fq(t){return t.visible}function Pk(t,e,n){let r=or.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)nr(n,o)?(a=Un(n,o),r=zl(r,a,i.snap)):nr(o,n)&&(a=Un(o,n),r=zl(r,$e(),i.snap.getChild(a)));else if(i.children){if(nr(n,o))a=Un(n,o),r=ZT(r,a,i.children);else if(nr(o,n))if(a=Un(o,n),xe(a))r=ZT(r,$e(),i.children);else{const l=ea(i.children,Ae(a));if(l){const c=l.getChild(We(a));r=zl(r,$e(),c)}}}else throw wa("WriteRecord should have .snap or .children")}}return r}function Lk(t,e,n,r,s){if(!r&&!s){const i=no(t.visibleWrites,e);if(i!=null)return i;{const o=Hs(t.visibleWrites,e);if(G_(o))return n;if(n==null&&!q_(o,$e()))return null;{const a=n||De.EMPTY_NODE;return ma(o,a)}}}else{const i=Hs(t.visibleWrites,e);if(!s&&G_(i))return n;if(!s&&n==null&&!q_(i,$e()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(nr(c.path,e)||nr(e,c.path))},a=Pk(t.allWrites,o,e),l=n||De.EMPTY_NODE;return ma(a,l)}}}function Uq(t,e,n){let r=De.EMPTY_NODE;const s=no(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Qt,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Hs(t.visibleWrites,e);return n.forEachChild(Qt,(o,a)=>{const l=ma(Hs(i,new Xe(o)),a);r=r.updateImmediateChild(o,l)}),tC(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Hs(t.visibleWrites,e);return tC(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Bq(t,e,n,r,s){K(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=xt(e,n);if(q_(t.visibleWrites,i))return null;{const o=Hs(t.visibleWrites,i);return G_(o)?s.getChild(n):ma(o,s.getChild(n))}}function zq(t,e,n,r){const s=xt(e,n),i=no(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Hs(t.visibleWrites,s);return ma(o,r.getNode().getImmediateChild(n))}else return null}function Hq(t,e){return no(t.visibleWrites,e)}function Wq(t,e,n,r,s,i,o){let a;const l=Hs(t.visibleWrites,e),c=no(l,$e());if(c!=null)a=c;else if(n!=null)a=ma(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<s;)h(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function qq(){return{visibleWrites:or.empty(),allWrites:[],lastWriteId:-1}}function K_(t,e,n,r){return Lk(t.writeTree,t.treePath,e,n,r)}function Ok(t,e){return Uq(t.writeTree,t.treePath,e)}function nC(t,e,n,r){return Bq(t.writeTree,t.treePath,e,n,r)}function zh(t,e){return Hq(t.writeTree,xt(t.treePath,e))}function Gq(t,e,n,r,s,i){return Wq(t.writeTree,t.treePath,e,n,r,s,i)}function e0(t,e,n){return zq(t.writeTree,t.treePath,e,n)}function Dk(t,e){return Mk(xt(t.treePath,e),t.writeTree)}function Mk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,QT(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Tq(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,wq(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,QT(r,e.snapshotNode,s.oldSnap));else throw wa("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const Vk=new Qq;class t0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ZE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return e0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Wi(this.viewCache_),i=Gq(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function Yq(t,e){K(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Xq(t,e,n,r,s){const i=new Kq;let o,a;if(n.type===_r.OVERWRITE){const c=n;c.source.fromUser?o=Q_(t,e,c.path,c.snap,r,s,i):(K(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xe(c.path),o=Hh(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===_r.MERGE){const c=n;c.source.fromUser?o=Zq(t,e,c.path,c.children,r,s,i):(K(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Y_(t,e,c.path,c.children,r,s,a,i))}else if(n.type===_r.ACK_USER_WRITE){const c=n;c.revert?o=nG(t,e,c.path,r,s,i):o=eG(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===_r.LISTEN_COMPLETE)o=tG(t,e,n.path,r,i);else throw wa("Unknown operation type: "+n.type);const l=i.getChanges();return Jq(e,o,l),{viewCache:o,changes:l}}function Jq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=W_(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(Sq(W_(e)))}}function jk(t,e,n,r,s,i){const o=e.eventCache;if(zh(r,n)!=null)return e;{let a,l;if(xe(n))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Wi(e),u=c instanceof De?c:De.EMPTY_NODE,h=Ok(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=K_(r,Wi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Ae(n);if(c===".priority"){K(Js(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=nC(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=We(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=nC(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=e0(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,i):a=o.getNode()}}return Bl(e,a,o.isFullyInitialized()||xe(n),t.filter.filtersNodes())}}function Hh(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(xe(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=Ae(n);if(!l.isCompleteForPath(n)&&Js(n)>1)return e;const m=We(n),E=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,m,Vk,null)}const h=Ak(e,c,l.isFullyInitialized()||xe(n),u.filtersNodes()),f=new t0(s,h,i);return jk(t,h,n,s,f,a)}function Q_(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new t0(s,e,i);if(xe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Bl(e,c,!0,t.filter.filtersNodes());else{const h=Ae(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Bl(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=We(n),p=a.getNode().getImmediateChild(h);let m;if(xe(f))m=r;else{const g=u.getCompleteChild(h);g!=null?pk(f)===".priority"&&g.getChild(gk(f)).isEmpty()?m=g:m=g.updateChild(f,r):m=De.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),h,m,f,u,o);l=Bl(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function rC(t,e){return t.eventCache.isCompleteForChild(e)}function Zq(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=xt(n,l);rC(e,Ae(u))&&(a=Q_(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=xt(n,l);rC(e,Ae(u))||(a=Q_(t,a,u,c,s,i,o))}),a}function sC(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Y_(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;xe(n)?c=r:c=new He(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),m=sC(t,p,f);l=Hh(t,l,new Xe(h),m,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!p){const m=e.serverCache.getNode().getImmediateChild(h),g=sC(t,m,f);l=Hh(t,l,new Xe(h),g,s,i,o,a)}}),l}function eG(t,e,n,r,s,i,o){if(zh(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Hh(t,e,n,l.getNode().getChild(n),s,i,a,o);if(xe(n)){let c=new He(null);return l.getNode().forEachChild(qo,(u,h)=>{c=c.set(new Xe(u),h)}),Y_(t,e,n,c,s,i,a,o)}else return e}else{let c=new He(null);return r.foreach((u,h)=>{const f=xt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Y_(t,e,n,c,s,i,a,o)}}function tG(t,e,n,r,s){const i=e.serverCache,o=Ak(e,i.getNode(),i.isFullyInitialized()||xe(n),i.isFiltered());return jk(t,o,n,r,Vk,s)}function nG(t,e,n,r,s,i){let o;if(zh(r,n)!=null)return e;{const a=new t0(r,e,s),l=e.eventCache.getNode();let c;if(xe(n)||Ae(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=K_(r,Wi(e));else{const h=e.serverCache.getNode();K(h instanceof De,"serverChildren would be complete if leaf node"),u=Ok(r,h)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=Ae(n);let h=e0(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,We(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,De.EMPTY_NODE,We(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=K_(r,Wi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||zh(r,$e())!=null,Bl(e,c,o,t.filter.filtersNodes())}}function rG(t,e){const n=Wi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(Ae(e)).isEmpty())?n.getChild(e):null}function iC(t,e,n,r){e.type===_r.MERGE&&e.source.queryId!==null&&(K(Wi(t.viewCache_),"We should always have a full cache before handling merges"),K(W_(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=Xq(t.processor_,s,e,n,r);return Yq(t.processor_,i.viewCache),K(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,sG(t,i.changes,i.viewCache.eventCache.getNode(),null)}function sG(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return kq(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oC;function iG(t){K(!oC,"__referenceConstructor has already been defined"),oC=t}function n0(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return K(i!=null,"SyncTree gave us an op for an invalid query."),iC(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(iC(o,e,n,r));return i}}function r0(t,e){let n=null;for(const r of t.views.values())n=n||rG(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aC;function oG(t){K(!aC,"__referenceConstructor has already been defined"),aC=t}class lC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=qq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aG(t,e,n,r,s){return Dq(t.pendingWriteTree_,e,n,r,s),s?_p(t,new Hi(Ik(),e,n)):[]}function bo(t,e,n=!1){const r=Mq(t.pendingWriteTree_,e);if(Vq(t.pendingWriteTree_,e)){let i=new He(null);return r.snap!=null?i=i.set($e(),!0):Kn(r.children,o=>{i=i.set(new Xe(o),!0)}),_p(t,new Bh(r.path,i,n))}else return[]}function gp(t,e,n){return _p(t,new Hi(Rk(),e,n))}function lG(t,e,n){const r=He.fromObject(n);return _p(t,new bc(Rk(),e,r))}function cG(t,e,n,r){const s=Bk(t,r);if(s!=null){const i=zk(s),o=i.path,a=i.queryId,l=Un(o,e),c=new Hi(xk(a),l,n);return Hk(t,o,c)}else return[]}function uG(t,e,n,r){const s=Bk(t,r);if(s){const i=zk(s),o=i.path,a=i.queryId,l=Un(o,e),c=He.fromObject(n),u=new bc(xk(a),l,c);return Hk(t,o,u)}else return[]}function $k(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Un(o,e),c=r0(a,l);if(c)return c});return Lk(s,e,i,n,!0)}function _p(t,e){return Fk(e,t.syncPointTree_,null,kk(t.pendingWriteTree_,$e()))}function Fk(t,e,n,r){if(xe(t.path))return Uk(t,e,n,r);{const s=e.get($e());n==null&&s!=null&&(n=r0(s,$e()));let i=[];const o=Ae(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Dk(r,o);i=i.concat(Fk(a,l,c,u))}return s&&(i=i.concat(n0(s,t,r,n))),i}}function Uk(t,e,n,r){const s=e.get($e());n==null&&s!=null&&(n=r0(s,$e()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Dk(r,o),u=t.operationForChild(o);u&&(i=i.concat(Uk(u,a,l,c)))}),s&&(i=i.concat(n0(s,t,r,n))),i}function Bk(t,e){return t.tagToQueryMap.get(e)}function zk(t){const e=t.indexOf("$");return K(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Xe(t.substr(0,e))}}function Hk(t,e,n){const r=t.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");const s=kk(t.pendingWriteTree_,e);return n0(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new s0(n)}node(){return this.node_}}class i0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xt(this.path_,e);return new i0(this.syncTree_,n)}node(){return $k(this.syncTree_,this.path_)}}const dG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},cC=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return hG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return fG(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},hG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},fG=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);const s=e.node();if(K(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},pG=function(t,e,n,r){return o0(e,new i0(n,t),r)},mG=function(t,e,n){return o0(t,new s0(e),n)};function o0(t,e,n){const r=t.getPriority().val(),s=cC(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=cC(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Tt(a,Gt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Tt(s))),o.forEachChild(Qt,(a,l)=>{const c=o0(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function l0(t,e){let n=e instanceof Xe?e:new Xe(e),r=t,s=Ae(n);for(;s!==null;){const i=ea(r.node.children,s)||{children:{},childCount:0};r=new a0(s,r,i),n=We(n),s=Ae(n)}return r}function Oa(t){return t.node.value}function Wk(t,e){t.node.value=e,X_(t)}function qk(t){return t.node.childCount>0}function gG(t){return Oa(t)===void 0&&!qk(t)}function vp(t,e){Kn(t.node.children,(n,r)=>{e(new a0(n,t,r))})}function Gk(t,e,n,r){n&&!r&&e(t),vp(t,s=>{Gk(s,e,!0,r)}),n&&r&&e(t)}function _G(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vu(t){return new Xe(t.parent===null?t.name:vu(t.parent)+"/"+t.name)}function X_(t){t.parent!==null&&vG(t.parent,t.name,t)}function vG(t,e,n){const r=gG(n),s=fs(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,X_(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,X_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG=/[\[\].#$\/\u0000-\u001F\u007F]/,EG=/[\[\].#$\u0000-\u001F\u007F]/,Bm=10*1024*1024,Kk=function(t){return typeof t=="string"&&t.length!==0&&!yG.test(t)},SG=function(t){return typeof t=="string"&&t.length!==0&&!EG.test(t)},wG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),SG(t)},Qk=function(t,e,n){const r=n instanceof Xe?new tq(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+gi(r));if(typeof e=="function")throw new Error(t+"contains a function "+gi(r)+" with contents = "+e.toString());if(Gb(e))throw new Error(t+"contains "+e.toString()+" "+gi(r));if(typeof e=="string"&&e.length>Bm/3&&ff(e)>Bm)throw new Error(t+"contains a string greater than "+Bm+" utf8 bytes "+gi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Kn(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Kk(o)))throw new Error(t+" contains an invalid key ("+o+") "+gi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nq(r,o),Qk(t,a,r),rq(r)}),s&&i)throw new Error(t+' contains ".value" child '+gi(r)+" in addition to actual children.")}},TG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Kk(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!wG(n))throw new Error(HM(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function IG(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!_k(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function ro(t,e,n){IG(t,n),RG(t,r=>nr(r,e)||nr(e,r))}function RG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(xG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function xG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ai&&qt("event: "+n.toString()),gu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NG="repo_interrupt",AG=25;class bG{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new CG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Uh(),this.transactionQueueTree_=new a0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function kG(t,e,n){if(t.stats_=KE(t.repoInfo_),t.forceRestClient_||R5())t.server_=new Fh(t.repoInfo_,(r,s,i,o)=>{uC(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Dt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Yr(t.repoInfo_,e,(r,s,i,o)=>{uC(t,r,s,i,o)},r=>{dC(t,r)},r=>{LG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=k5(t.repoInfo_,()=>new bq(t.stats_,t.server_)),t.infoData_=new Iq,t.infoSyncTree_=new lC({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=gp(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),c0(t,"connected",!1),t.serverSyncTree_=new lC({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);ro(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function PG(t){const n=t.infoData_.getNode(new Xe(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Yk(t){return dG({timestamp:PG(t)})}function uC(t,e,n,r,s){t.dataUpdateCount++;const i=new Xe(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=ch(n,c=>Gt(c));o=uG(t.serverSyncTree_,i,l,s)}else{const l=Gt(n);o=cG(t.serverSyncTree_,i,l,s)}else if(r){const l=ch(n,c=>Gt(c));o=lG(t.serverSyncTree_,i,l)}else{const l=Gt(n);o=gp(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=d0(t,i)),ro(t.eventQueue_,a,o)}function dC(t,e){c0(t,"connected",e),e===!1&&DG(t)}function LG(t,e){Kn(e,(n,r)=>{c0(t,n,r)})}function c0(t,e,n){const r=new Xe("/.info/"+e),s=Gt(n);t.infoData_.updateSnapshot(r,s);const i=gp(t.infoSyncTree_,r,s);ro(t.eventQueue_,r,i)}function OG(t){return t.nextWriteId_++}function DG(t){Xk(t,"onDisconnectEvents");const e=Yk(t),n=Uh();H_(t.onDisconnect_,$e(),(s,i)=>{const o=pG(s,i,t.serverSyncTree_,e);Ck(n,s,o)});let r=[];H_(n,$e(),(s,i)=>{r=r.concat(gp(t.serverSyncTree_,s,i));const o=$G(t,s);d0(t,o)}),t.onDisconnect_=Uh(),ro(t.eventQueue_,$e(),r)}function MG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(NG)}function Xk(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qt(n,...e)}function Jk(t,e,n){return $k(t.serverSyncTree_,e,n)||De.EMPTY_NODE}function u0(t,e=t.transactionQueueTree_){if(e||yp(t,e),Oa(e)){const n=eP(t,e);K(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&VG(t,vu(e),n)}else qk(e)&&vp(e,n=>{u0(t,n)})}function VG(t,e,n){const r=n.map(c=>c.currentWriteId),s=Jk(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];K(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Un(e,u.path);i=i.updateChild(h,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Xk(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(bo(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();yp(t,l0(t.transactionQueueTree_,e)),u0(t,t.transactionQueueTree_),ro(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)gu(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{An("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}d0(t,e)}},o)}function d0(t,e){const n=Zk(t,e),r=vu(n),s=eP(t,n);return jG(t,s,r),r}function jG(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Un(n,l.path);let u=!1,h;if(K(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(bo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=AG)u=!0,h="maxretry",s=s.concat(bo(t.serverSyncTree_,l.currentWriteId,!0));else{const f=Jk(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){Qk("transaction failed: Data returned ",p,l.path);let m=Gt(p);typeof p=="object"&&p!=null&&fs(p,".priority")||(m=m.updatePriority(f.getPriority()));const E=l.currentWriteId,_=Yk(t),v=mG(m,f,_);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=v,l.currentWriteId=OG(t),o.splice(o.indexOf(E),1),s=s.concat(aG(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),s=s.concat(bo(t.serverSyncTree_,E,!0))}else u=!0,h="nodata",s=s.concat(bo(t.serverSyncTree_,l.currentWriteId,!0))}ro(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}yp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)gu(r[a]);u0(t,t.transactionQueueTree_)}function Zk(t,e){let n,r=t.transactionQueueTree_;for(n=Ae(e);n!==null&&Oa(r)===void 0;)r=l0(r,n),e=We(e),n=Ae(e);return r}function eP(t,e){const n=[];return tP(t,e,n),n.sort((r,s)=>r.order-s.order),n}function tP(t,e,n){const r=Oa(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);vp(e,s=>{tP(t,s,n)})}function yp(t,e){const n=Oa(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Wk(e,n.length>0?n:void 0)}vp(e,r=>{yp(t,r)})}function $G(t,e){const n=vu(Zk(t,e)),r=l0(t.transactionQueueTree_,e);return _G(r,s=>{zm(t,s)}),zm(t,r),Gk(r,s=>{zm(t,s)}),n}function zm(t,e){const n=Oa(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(K(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(K(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(bo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Wk(e,void 0):n.length=i+1,ro(t.eventQueue_,vu(e),s);for(let o=0;o<r.length;o++)gu(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function UG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):An(`Invalid query segment '${n}' in query '${t}'`)}return e}const hC=function(t,e){const n=BG(t),r=n.namespace;n.domain==="firebase.com"&&us(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&us("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||v5();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ik(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Xe(n.pathString)}},BG=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=FG(t.substring(u,h)));const f=UG(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return xe(this._path)?null:pk(this._path)}get ref(){return new Da(this._repo,this._path)}get _queryIdentifier(){const e=XT(this._queryParams),n=qE(e);return n==="{}"?"default":n}get _queryObject(){return XT(this._queryParams)}isEqual(e){if(e=at(e),!(e instanceof h0))return!1;const n=this._repo===e._repo,r=_k(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+eq(this._path)}}class Da extends h0{constructor(e,n){super(e,n,new JE,!1)}get parent(){const e=gk(this._path);return e===null?null:new Da(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}iG(Da);oG(Da);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zG="FIREBASE_DATABASE_EMULATOR_HOST",J_={};let HG=!1;function WG(t,e,n,r){t.repoInfo_=new ik(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function qG(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||us("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=hC(i,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[zG]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=hC(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Wo(Wo.OWNER):new N5(t.name,t.options,e);TG("Invalid Firebase Database URL",o),xe(o.path)||us("Database URL must point to the root of a Firebase Database (not including a child path).");const h=KG(a,t,u,new x5(t.name,n));return new QG(h,t)}function GG(t,e){const n=J_[e];(!n||n[t.key]!==t)&&us(`Database ${e}(${t.repoInfo_}) has already been deleted.`),MG(t),delete n[t.key]}function KG(t,e,n,r){let s=J_[e.name];s||(s={},J_[e.name]=s);let i=s[t.toURLString()];return i&&us("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new bG(t,HG,n,r),s[t.toURLString()]=i,i}class QG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(kG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Da(this._repo,$e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(GG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&us("Cannot call "+e+" on a deleted database.")}}function YG(t=cy(),e){const n=mf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=h1("database");r&&XG(n,...r)}return n}function XG(t,e,n,r={}){t=at(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&us("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&us('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Wo(Wo.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:m1(r.mockUserToken,t.app.options.projectId);i=new Wo(o)}WG(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(t){f5(ni),Ks(new ns("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return qG(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),zn(LT,OT,t),zn(LT,OT,"esm2017")}Yr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Yr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};JG();const ZG={apiKey:"AIzaSyBSaPFkAnkoc_uu_xR9LUvHL1Cc8mOWcyc",authDomain:"mybbs-5642f.firebaseapp.com",projectId:"mybbs-5642f",storageBucket:"mybbs-5642f.appspot.com",messagingSenderId:"210742350834",appId:"1:210742350834:web:a65b2a1d7d470593a3516b",databaseURL:"https://mybbs-5642f-default-rtdb.asia-southeast1.firebasedatabase.app/",measurementId:"G-SZ9V5BHSER"},nP=S1(ZG),gs=GW(nP),e8=YG(nP);console.log(e8);const t8=jy({key:"textState",default:"2312312"}),n8=jy({key:"sss",default:{a:1,b:2}}),f0=jy({key:"atomStore",default:{state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"],todos:"fdsssssss",saying:"sssssssss",count:0}}}),Ue={state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"]},authState:()=>{const t=ss();_f(t,n=>{if(n){e(n),sessionStorage.setItem("user",JSON.stringify(n));return}sessionStorage.removeItem("user"),Ue.state.userInfo={},Ue.state.userInfo.stat=!1,console.log("logout 된 상태",Ue.state.userInfo),console.table(Ue.state.userInfo)});const e=async n=>{const r=hi(gs,"member",n.uid);try{const s=await HE(r);Ue.state.userInfo.stat=!0,Ue.state.userInfo.email=s.data().email,Ue.state.userInfo.avatar=s.data().avatar,Ue.state.userInfo.nick=s.data().nick,Ue.state.userInfo.displayName=s.data().nick,Ue.state.userInfo.uid=n.uid,Ue.state.userInfo.liked=s.data().liked||[],Ue.state.userInfo.tmdb_movie_scrap=s.data().tmdb_movie_scrap||[],Ue.state.userInfo.tmdb_tv_scrap=s.data().tmdb_tv_scrap||[];const i=JSON.parse(sessionStorage.getItem("user"));i.avatar=s.data().avatar,i.photoURL=s.data().photoURL,i.displayName=s.data().nick,i.nick=s.data().nick,i.liked=s.data().liked||[],i.tmdb_movie_scrap=s.data().tmdb_movie_scrap||[],i.tmdb_tv_scrap=s.data().tmdb_tv_scrap||[],i.stat=!0,sessionStorage.setItem("user",JSON.stringify(i)),Ue.state.userInfo=i}catch(s){console.log(s)}}}};Ue.authState();window.store=Ue;const rP=async()=>{let t={},e;if(sessionStorage!=null&&sessionStorage.user)e=JSON.parse(sessionStorage==null?void 0:sessionStorage.user).uid;else{const r=ss();if(!e)return;_f(r,s=>{e=s.uid})}const n=hi(gs,"member",e);try{t=(await HE(n)).data(),t.uid=e,t.stat=!0}catch(r){console.error(r)}return t};function co({prop:t}){let e=hn();const n=wn(),r=dn();n.pathname;const[s,i]=T.useState({});T.useEffect(()=>(i(sessionStorage.user&&JSON.parse(sessionStorage.user)),rP().then(a=>{console.log(a),i(l=>({...l,...a}))}),()=>{}),[s==null?void 0:s.uid,s==null?void 0:s.nick,s==null?void 0:s.displayName,s==null?void 0:s.stat]),console.log(s);const o=()=>{z.confirm("리액트 보다 쀼가 짱입니까?",{ycb:function(){console.log("컴펌 예"),window.location.href="https://kimkee.github.io/vue"},ncb:function(){console.log("컴펌 아뇨")},ybt:"마자요!",nbt:"아니오!"})};return d.jsx("header",{className:`header ${t.headerType}`,children:d.jsxs("div",{className:"inr",children:[d.jsxs("div",{className:"ldt",children:[t.headerType=="main"?d.jsxs("h1",{className:"logo",children:[" ",d.jsx(ft,{to:"/home/",className:"btlogo",children:d.jsx("i",{className:"fa-brands fa-vuejs"})})]}):d.jsxs("button",{type:"button",className:"bt back",onClick:()=>r(-1),children:[d.jsx("i",{className:"fa-regular fa-arrow-left"}),"뒤로"]}),e.id?d.jsx("h3",{className:"htit",children:Ue.state.userInfo.nick}):null]}),d.jsxs("div",{className:"rdt",children:[((s==null?void 0:s.stat)||(s==null?void 0:s.uid))&&d.jsxs(jn,{to:`/user/${s==null?void 0:s.uid}`,className:"user",children:[d.jsx("span",{className:"pic",children:d.jsx("img",{alt:"",className:"img",src:Ue.state.avatar[s.avatar]||s.photoURL})}),d.jsx("span",{className:"txt",children:s.nick||s.displayName})]}),!(s!=null&&s.uid)&&d.jsxs(jn,{to:"/user/signin",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Login"})]}),d.jsxs("button",{type:"button",onClick:o,className:"bt gnb",children:[d.jsx("i",{className:"fa-regular fa-bars"}),d.jsx("b",{children:"메뉴"})]})]})]})})}function uo(){const t=wn(),e=c=>t.pathname.includes(`${c}`)?"active":"",[n,r]=T.useState(""),s=()=>{z.lock.stat||(z.viewport.scrollTop()>50?r(!0):r(!1))},i=()=>{z.scrollTo("body",0,200)},o=ss(),[a,l]=T.useState({});return T.useEffect(()=>(window.addEventListener("scroll",s),l(sessionStorage.user&&JSON.parse(sessionStorage.user)),_f(o,c=>{l(c?u=>({...u,...JSON.parse(sessionStorage.user)}):{})}),()=>{window.removeEventListener("scroll",s)}),[a==null?void 0:a.uid]),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`floatnav ${n?"on-top":""}`,children:d.jsxs("button",{type:"button",className:"bt top",onClick:i,children:[d.jsx("i",{className:"fa-solid fa-arrow-up"}),d.jsx("em",{children:"위로"})]})}),d.jsx("nav",{id:"menubar",className:"menubar",children:d.jsx("div",{className:"inr",children:d.jsxs("ul",{className:"menu",children:[d.jsx("li",{className:e("home"),children:d.jsxs(jn,{to:"/home/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-house"}),d.jsx("em",{children:"Home"})]})}),d.jsx("li",{className:e("list/movie"),children:d.jsxs(jn,{to:"/list/movie/0/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-clapperboard-play"}),d.jsx("em",{children:"Movie"})]})}),d.jsx("li",{className:e("list/tv"),children:d.jsxs(jn,{to:"/list/tv/0/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-tv-retro"}),d.jsx("em",{children:"TV"})]})}),d.jsx("li",{className:e("search/movie"),children:d.jsxs(jn,{to:"/search/movie/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-search"}),d.jsx("em",{children:"Search"})]})}),d.jsxs("li",{className:e("user/"),children:[(Ue.state.userInfo.stat||(a==null?void 0:a.uid))&&d.jsxs(jn,{to:`/user/${a.uid}`,className:"bt",children:[" ",d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Mypage"})]}),!(a!=null&&a.uid)&&d.jsxs(jn,{to:"/user/signin",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Login"})]})]})]})})})]})}function sP(t,e){return function(){return t.apply(e,arguments)}}const{toString:r8}=Object.prototype,{getPrototypeOf:p0}=Object,Ep=(t=>e=>{const n=r8.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kr=t=>(t=t.toLowerCase(),e=>Ep(e)===t),Sp=t=>e=>typeof e===t,{isArray:Ma}=Array,kc=Sp("undefined");function s8(t){return t!==null&&!kc(t)&&t.constructor!==null&&!kc(t.constructor)&&Hn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const iP=kr("ArrayBuffer");function i8(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&iP(t.buffer),e}const o8=Sp("string"),Hn=Sp("function"),oP=Sp("number"),wp=t=>t!==null&&typeof t=="object",a8=t=>t===!0||t===!1,bd=t=>{if(Ep(t)!=="object")return!1;const e=p0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},l8=kr("Date"),c8=kr("File"),u8=kr("Blob"),d8=kr("FileList"),h8=t=>wp(t)&&Hn(t.pipe),f8=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Hn(t.append)&&((e=Ep(t))==="formdata"||e==="object"&&Hn(t.toString)&&t.toString()==="[object FormData]"))},p8=kr("URLSearchParams"),m8=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function yu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ma(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function aP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const lP=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),cP=t=>!kc(t)&&t!==lP;function Z_(){const{caseless:t}=cP(this)&&this||{},e={},n=(r,s)=>{const i=t&&aP(e,s)||s;bd(e[i])&&bd(r)?e[i]=Z_(e[i],r):bd(r)?e[i]=Z_({},r):Ma(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&yu(arguments[r],n);return e}const g8=(t,e,n,{allOwnKeys:r}={})=>(yu(e,(s,i)=>{n&&Hn(s)?t[i]=sP(s,n):t[i]=s},{allOwnKeys:r}),t),_8=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),v8=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},y8=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&p0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},E8=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},S8=t=>{if(!t)return null;if(Ma(t))return t;let e=t.length;if(!oP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},w8=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&p0(Uint8Array)),T8=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},C8=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},I8=kr("HTMLFormElement"),R8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),fC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),x8=kr("RegExp"),uP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};yu(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},N8=t=>{uP(t,(e,n)=>{if(Hn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Hn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},A8=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ma(t)?r(t):r(String(t).split(e)),n},b8=()=>{},k8=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Hm="abcdefghijklmnopqrstuvwxyz",pC="0123456789",dP={DIGIT:pC,ALPHA:Hm,ALPHA_DIGIT:Hm+Hm.toUpperCase()+pC},P8=(t=16,e=dP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function L8(t){return!!(t&&Hn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const O8=t=>{const e=new Array(10),n=(r,s)=>{if(wp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Ma(r)?[]:{};return yu(r,(o,a)=>{const l=n(o,s+1);!kc(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},D8=kr("AsyncFunction"),M8=t=>t&&(wp(t)||Hn(t))&&Hn(t.then)&&Hn(t.catch),L={isArray:Ma,isArrayBuffer:iP,isBuffer:s8,isFormData:f8,isArrayBufferView:i8,isString:o8,isNumber:oP,isBoolean:a8,isObject:wp,isPlainObject:bd,isUndefined:kc,isDate:l8,isFile:c8,isBlob:u8,isRegExp:x8,isFunction:Hn,isStream:h8,isURLSearchParams:p8,isTypedArray:w8,isFileList:d8,forEach:yu,merge:Z_,extend:g8,trim:m8,stripBOM:_8,inherits:v8,toFlatObject:y8,kindOf:Ep,kindOfTest:kr,endsWith:E8,toArray:S8,forEachEntry:T8,matchAll:C8,isHTMLForm:I8,hasOwnProperty:fC,hasOwnProp:fC,reduceDescriptors:uP,freezeMethods:N8,toObjectSet:A8,toCamelCase:R8,noop:b8,toFiniteNumber:k8,findKey:aP,global:lP,isContextDefined:cP,ALPHABET:dP,generateString:P8,isSpecCompliantForm:L8,toJSONObject:O8,isAsyncFn:D8,isThenable:M8};function Pe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}L.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const hP=Pe.prototype,fP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{fP[t]={value:t}});Object.defineProperties(Pe,fP);Object.defineProperty(hP,"isAxiosError",{value:!0});Pe.from=(t,e,n,r,s,i)=>{const o=Object.create(hP);return L.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Pe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const V8=null;function ev(t){return L.isPlainObject(t)||L.isArray(t)}function pP(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function mC(t,e,n){return t?t.concat(e).map(function(s,i){return s=pP(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function j8(t){return L.isArray(t)&&!t.some(ev)}const $8=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function Tp(t,e,n){if(!L.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,E){return!L.isUndefined(E[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(L.isDate(m))return m.toISOString();if(!l&&L.isBlob(m))throw new Pe("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(m)||L.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,E){let _=m;if(m&&!E&&typeof m=="object"){if(L.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(L.isArray(m)&&j8(m)||(L.isFileList(m)||L.endsWith(g,"[]"))&&(_=L.toArray(m)))return g=pP(g),_.forEach(function(y,S){!(L.isUndefined(y)||y===null)&&e.append(o===!0?mC([g],S,i):o===null?g:g+"[]",c(y))}),!1}return ev(m)?!0:(e.append(mC(E,g,i),c(m)),!1)}const h=[],f=Object.assign($8,{defaultVisitor:u,convertValue:c,isVisitable:ev});function p(m,g){if(!L.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(m),L.forEach(m,function(_,v){(!(L.isUndefined(_)||_===null)&&s.call(e,_,L.isString(v)?v.trim():v,g,f))===!0&&p(_,g?g.concat(v):[v])}),h.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return p(t),e}function gC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function m0(t,e){this._pairs=[],t&&Tp(t,this,e)}const mP=m0.prototype;mP.append=function(e,n){this._pairs.push([e,n])};mP.toString=function(e){const n=e?function(r){return e.call(this,r,gC)}:gC;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function F8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function gP(t,e,n){if(!e)return t;const r=n&&n.encode||F8,s=n&&n.serialize;let i;if(s?i=s(e,n):i=L.isURLSearchParams(e)?e.toString():new m0(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class U8{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(r){r!==null&&e(r)})}}const _C=U8,_P={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},B8=typeof URLSearchParams<"u"?URLSearchParams:m0,z8=typeof FormData<"u"?FormData:null,H8=typeof Blob<"u"?Blob:null,W8=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),q8=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vr={isBrowser:!0,classes:{URLSearchParams:B8,FormData:z8,Blob:H8},isStandardBrowserEnv:W8,isStandardBrowserWebWorkerEnv:q8,protocols:["http","https","file","blob","url","data"]};function G8(t,e){return Tp(t,new vr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return vr.isNode&&L.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function K8(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Q8(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function vP(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&L.isArray(s)?s.length:o,l?(L.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!L.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&L.isArray(s[o])&&(s[o]=Q8(s[o])),!a)}if(L.isFormData(t)&&L.isFunction(t.entries)){const n={};return L.forEachEntry(t,(r,s)=>{e(K8(r),s,n,0)}),n}return null}const Y8={"Content-Type":void 0};function X8(t,e,n){if(L.isString(t))try{return(e||JSON.parse)(t),L.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Cp={transitional:_P,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=L.isObject(e);if(i&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return s&&s?JSON.stringify(vP(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return G8(e,this.formSerializer).toString();if((a=L.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Tp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),X8(e)):e}],transformResponse:[function(e){const n=this.transitional||Cp.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&L.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Pe.from(a,Pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vr.classes.FormData,Blob:vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};L.forEach(["delete","get","head"],function(e){Cp.headers[e]={}});L.forEach(["post","put","patch"],function(e){Cp.headers[e]=L.merge(Y8)});const g0=Cp,J8=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Z8=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&J8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},vC=Symbol("internals");function il(t){return t&&String(t).trim().toLowerCase()}function kd(t){return t===!1||t==null?t:L.isArray(t)?t.map(kd):String(t)}function eK(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const tK=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Wm(t,e,n,r,s){if(L.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!L.isString(e)){if(L.isString(r))return e.indexOf(r)!==-1;if(L.isRegExp(r))return r.test(e)}}function nK(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function rK(t,e){const n=L.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Ip{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=il(l);if(!u)throw new Error("header name must be a non-empty string");const h=L.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=kd(a))}const o=(a,l)=>L.forEach(a,(c,u)=>i(c,u,l));return L.isPlainObject(e)||e instanceof this.constructor?o(e,n):L.isString(e)&&(e=e.trim())&&!tK(e)?o(Z8(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=il(e),e){const r=L.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return eK(s);if(L.isFunction(n))return n.call(this,s,r);if(L.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=il(e),e){const r=L.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Wm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=il(o),o){const a=L.findKey(r,o);a&&(!n||Wm(r,r[a],a,n))&&(delete r[a],s=!0)}}return L.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Wm(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return L.forEach(this,(s,i)=>{const o=L.findKey(r,i);if(o){n[o]=kd(s),delete n[i];return}const a=e?nK(i):String(i).trim();a!==i&&delete n[i],n[a]=kd(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return L.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&L.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[vC]=this[vC]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=il(o);r[a]||(rK(s,o),r[a]=!0)}return L.isArray(e)?e.forEach(i):i(e),this}}Ip.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.freezeMethods(Ip.prototype);L.freezeMethods(Ip);const Xr=Ip;function qm(t,e){const n=this||g0,r=e||n,s=Xr.from(r.headers);let i=r.data;return L.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function yP(t){return!!(t&&t.__CANCEL__)}function Eu(t,e,n){Pe.call(this,t??"canceled",Pe.ERR_CANCELED,e,n),this.name="CanceledError"}L.inherits(Eu,Pe,{__CANCEL__:!0});function sK(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const iK=vr.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),L.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),L.isString(i)&&l.push("path="+i),L.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function oK(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function aK(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function EP(t,e){return t&&!oK(e)?aK(t,e):e}const lK=vr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=L.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function cK(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function uK(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let h=i,f=0;for(;h!==s;)f+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function yC(t,e){let n=0;const r=uK(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),c=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const dK=typeof XMLHttpRequest<"u",hK=dK&&function(t){return new Promise(function(n,r){let s=t.data;const i=Xr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}L.isFormData(s)&&(vr.isStandardBrowserEnv||vr.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+m))}const u=EP(t.baseURL,t.url);c.open(t.method.toUpperCase(),gP(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!c)return;const p=Xr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};sK(function(_){n(_),l()},function(_){r(_),l()},g),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(r(new Pe("Request aborted",Pe.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Pe("Network Error",Pe.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||_P;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Pe(m,g.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,t,c)),c=null},vr.isStandardBrowserEnv){const p=(t.withCredentials||lK(u))&&t.xsrfCookieName&&iK.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}s===void 0&&i.setContentType(null),"setRequestHeader"in c&&L.forEach(i.toJSON(),function(m,g){c.setRequestHeader(g,m)}),L.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",yC(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",yC(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{c&&(r(!p||p.type?new Eu(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=cK(u);if(f&&vr.protocols.indexOf(f)===-1){r(new Pe("Unsupported protocol "+f+":",Pe.ERR_BAD_REQUEST,t));return}c.send(s||null)})},Pd={http:V8,xhr:hK};L.forEach(Pd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const fK={getAdapter:t=>{t=L.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=L.isString(n)?Pd[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new Pe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(L.hasOwnProp(Pd,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!L.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Pd};function Gm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Eu(null,t)}function EC(t){return Gm(t),t.headers=Xr.from(t.headers),t.data=qm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),fK.getAdapter(t.adapter||g0.adapter)(t).then(function(r){return Gm(t),r.data=qm.call(t,t.transformResponse,r),r.headers=Xr.from(r.headers),r},function(r){return yP(r)||(Gm(t),r&&r.response&&(r.response.data=qm.call(t,t.transformResponse,r.response),r.response.headers=Xr.from(r.response.headers))),Promise.reject(r)})}const SC=t=>t instanceof Xr?t.toJSON():t;function ga(t,e){e=e||{};const n={};function r(c,u,h){return L.isPlainObject(c)&&L.isPlainObject(u)?L.merge.call({caseless:h},c,u):L.isPlainObject(u)?L.merge({},u):L.isArray(u)?u.slice():u}function s(c,u,h){if(L.isUndefined(u)){if(!L.isUndefined(c))return r(void 0,c,h)}else return r(c,u,h)}function i(c,u){if(!L.isUndefined(u))return r(void 0,u)}function o(c,u){if(L.isUndefined(u)){if(!L.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(SC(c),SC(u),!0)};return L.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||s,f=h(t[u],e[u],u);L.isUndefined(f)&&h!==a||(n[u]=f)}),n}const SP="1.4.0",_0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{_0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const wC={};_0.transitional=function(e,n,r){function s(i,o){return"[Axios v"+SP+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Pe(s(o," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!wC[o]&&(wC[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function pK(t,e,n){if(typeof t!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Pe("option "+i+" must be "+l,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+i,Pe.ERR_BAD_OPTION)}}const tv={assertOptions:pK,validators:_0},ys=tv.validators;class Wh{constructor(e){this.defaults=e,this.interceptors={request:new _C,response:new _C}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ga(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&tv.assertOptions(r,{silentJSONParsing:ys.transitional(ys.boolean),forcedJSONParsing:ys.transitional(ys.boolean),clarifyTimeoutError:ys.transitional(ys.boolean)},!1),s!=null&&(L.isFunction(s)?n.paramsSerializer={serialize:s}:tv.assertOptions(s,{encode:ys.function,serialize:ys.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&L.merge(i.common,i[n.method]),o&&L.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Xr.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!l){const m=[EC.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=a.length;let p=n;for(h=0;h<f;){const m=a[h++],g=a[h++];try{p=m(p)}catch(E){g.call(this,E);break}}try{u=EC.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=ga(this.defaults,e);const n=EP(e.baseURL,e.url);return gP(n,e.params,e.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(e){Wh.prototype[e]=function(n,r){return this.request(ga(r||{},{method:e,url:n,data:(r||{}).data}))}});L.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(ga(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Wh.prototype[e]=n(),Wh.prototype[e+"Form"]=n(!0)});const Ld=Wh;class v0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Eu(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new v0(function(s){e=s}),cancel:e}}}const mK=v0;function gK(t){return function(n){return t.apply(null,n)}}function _K(t){return L.isObject(t)&&t.isAxiosError===!0}const nv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(nv).forEach(([t,e])=>{nv[e]=t});const vK=nv;function wP(t){const e=new Ld(t),n=sP(Ld.prototype.request,e);return L.extend(n,Ld.prototype,e,{allOwnKeys:!0}),L.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return wP(ga(t,s))},n}const Et=wP(g0);Et.Axios=Ld;Et.CanceledError=Eu;Et.CancelToken=mK;Et.isCancel=yP;Et.VERSION=SP;Et.toFormData=Tp;Et.AxiosError=Pe;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=gK;Et.isAxiosError=_K;Et.mergeConfig=ga;Et.AxiosHeaders=Xr;Et.formToJSON=t=>vP(L.isHTMLForm(t)?new FormData(t):t);Et.HttpStatusCode=vK;Et.default=Et;const Zt=Et;function TC(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function y0(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:TC(e[n])&&TC(t[n])&&Object.keys(e[n]).length>0&&y0(t[n],e[n])})}const TP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function At(){const t=typeof document<"u"?document:{};return y0(t,TP),t}const yK={document:TP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Pt(){const t=typeof window<"u"?window:{};return y0(t,yK),t}function EK(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class As extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),EK(this))}}function Su(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...Su(n)):e.push(n)}),e}function CP(t,e){return Array.prototype.filter.call(t,e)}function SK(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function wK(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let s=0;s<r.length;s+=1)n.push(r[s]);return n}function q(t,e){const n=Pt(),r=At();let s=[];if(!e&&t instanceof As)return t;if(!t)return new As(s);if(typeof t=="string"){const i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let o="div";i.indexOf("<li")===0&&(o="ul"),i.indexOf("<tr")===0&&(o="tbody"),(i.indexOf("<td")===0||i.indexOf("<th")===0)&&(o="tr"),i.indexOf("<tbody")===0&&(o="table"),i.indexOf("<option")===0&&(o="select");const a=r.createElement(o);a.innerHTML=i;for(let l=0;l<a.childNodes.length;l+=1)s.push(a.childNodes[l])}else s=wK(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof As)return t;s=t}return new As(SK(s))}q.fn=As.prototype;function TK(...t){const e=Su(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function CK(...t){const e=Su(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function IK(...t){const e=Su(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function RK(...t){const e=Su(t.map(n=>n.split(" ")));return CP(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function xK(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function NK(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function AK(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function bK(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function kK(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);function i(c){const u=c.target;if(!u)return;const h=c.target.dom7EventData||[];if(h.indexOf(c)<0&&h.unshift(c),q(u).is(n))r.apply(u,h);else{const f=q(u).parents();for(let p=0;p<f.length;p+=1)q(f[p]).is(n)&&r.apply(f[p],h)}}function o(c){const u=c&&c.target?c.target.dom7EventData||[]:[];u.indexOf(c)<0&&u.unshift(c),r.apply(this,u)}const a=e.split(" ");let l;for(let c=0;c<this.length;c+=1){const u=this[c];if(n)for(l=0;l<a.length;l+=1){const h=a[l];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[h]||(u.dom7LiveListeners[h]=[]),u.dom7LiveListeners[h].push({listener:r,proxyListener:i}),u.addEventListener(h,i,s)}else for(l=0;l<a.length;l+=1){const h=a[l];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[h]||(u.dom7Listeners[h]=[]),u.dom7Listeners[h].push({listener:r,proxyListener:o}),u.addEventListener(h,o,s)}}return this}function PK(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);const i=e.split(" ");for(let o=0;o<i.length;o+=1){const a=i[o];for(let l=0;l<this.length;l+=1){const c=this[l];let u;if(!n&&c.dom7Listeners?u=c.dom7Listeners[a]:n&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[a]),u&&u.length)for(let h=u.length-1;h>=0;h-=1){const f=u[h];r&&f.listener===r||r&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===r?(c.removeEventListener(a,f.proxyListener,s),u.splice(h,1)):r||(c.removeEventListener(a,f.proxyListener,s),u.splice(h,1))}}}return this}function LK(...t){const e=Pt(),n=t[0].split(" "),r=t[1];for(let s=0;s<n.length;s+=1){const i=n[s];for(let o=0;o<this.length;o+=1){const a=this[o];if(e.CustomEvent){const l=new e.CustomEvent(i,{detail:r,bubbles:!0,cancelable:!0});a.dom7EventData=t.filter((c,u)=>u>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function OK(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function DK(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function MK(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function VK(){if(this.length>0){const t=Pt(),e=At(),n=this[0],r=n.getBoundingClientRect(),s=e.body,i=n.clientTop||s.clientTop||0,o=n.clientLeft||s.clientLeft||0,a=n===t?t.scrollY:n.scrollTop,l=n===t?t.scrollX:n.scrollLeft;return{top:r.top+a-i,left:r.left+l-o}}return null}function jK(){const t=Pt();return this[0]?t.getComputedStyle(this[0],null):{}}function $K(t,e){const n=Pt();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const s in t)this[r].style[s]=t[s];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function FK(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function UK(t){const e=CP(this,t);return q(e)}function BK(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function zK(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function HK(t){const e=Pt(),n=At(),r=this[0];let s,i;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=q(t),i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof As){for(s=t.nodeType?[t]:t,i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}return!1}function WK(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function qK(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return q([]);if(t<0){const n=e+t;return n<0?q([]):q([this[n]])}return q([this[t]])}function GK(...t){let e;const n=At();for(let r=0;r<t.length;r+=1){e=t[r];for(let s=0;s<this.length;s+=1)if(typeof e=="string"){const i=n.createElement("div");for(i.innerHTML=e;i.firstChild;)this[s].appendChild(i.firstChild)}else if(e instanceof As)for(let i=0;i<e.length;i+=1)this[s].appendChild(e[i]);else this[s].appendChild(e)}return this}function KK(t){const e=At();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const s=e.createElement("div");for(s.innerHTML=t,r=s.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(s.childNodes[r],this[n].childNodes[0])}else if(t instanceof As)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function QK(t){return this.length>0?t?this[0].nextElementSibling&&q(this[0].nextElementSibling).is(t)?q([this[0].nextElementSibling]):q([]):this[0].nextElementSibling?q([this[0].nextElementSibling]):q([]):q([])}function YK(t){const e=[];let n=this[0];if(!n)return q([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?q(r).is(t)&&e.push(r):e.push(r),n=r}return q(e)}function XK(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&q(e.previousElementSibling).is(t)?q([e.previousElementSibling]):q([]):e.previousElementSibling?q([e.previousElementSibling]):q([])}return q([])}function JK(t){const e=[];let n=this[0];if(!n)return q([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?q(r).is(t)&&e.push(r):e.push(r),n=r}return q(e)}function ZK(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?q(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return q(e)}function e7(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?q(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return q(e)}function t7(t){let e=this;return typeof t>"u"?q([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function n7(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let s=0;s<r.length;s+=1)e.push(r[s])}return q(e)}function r7(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let s=0;s<r.length;s+=1)(!t||q(r[s]).is(t))&&e.push(r[s])}return q(e)}function s7(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const CC={addClass:TK,removeClass:CK,hasClass:RK,toggleClass:IK,attr:xK,removeAttr:NK,transform:AK,transition:bK,on:kK,off:PK,trigger:LK,transitionEnd:OK,outerWidth:DK,outerHeight:MK,styles:jK,offset:VK,css:$K,each:FK,html:BK,text:zK,is:HK,index:WK,eq:qK,append:GK,prepend:KK,next:QK,nextAll:YK,prev:XK,prevAll:JK,parent:ZK,parents:e7,closest:t7,find:n7,children:r7,filter:UK,remove:s7};Object.keys(CC).forEach(t=>{Object.defineProperty(q.fn,t,{value:CC[t],writable:!0})});function i7(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Pc(t,e=0){return setTimeout(t,e)}function Lc(){return Date.now()}function o7(t){const e=Pt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function a7(t,e="x"){const n=Pt();let r,s,i;const o=o7(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function id(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function l7(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function In(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!l7(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,a=i.length;o<a;o+=1){const l=i[o],c=Object.getOwnPropertyDescriptor(s,l);c!==void 0&&c.enumerable&&(id(e[l])&&id(s[l])?s[l].__swiper__?e[l]=s[l]:In(e[l],s[l]):!id(e[l])&&id(s[l])?(e[l]={},s[l].__swiper__?e[l]=s[l]:In(e[l],s[l])):e[l]=s[l])}}}return e}function od(t,e,n){t.style.setProperty(e,n)}function IP({swiper:t,targetPosition:e,side:n}){const r=Pt(),s=-t.translate;let i=null,o;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const l=e>s?"next":"prev",c=(h,f)=>l==="next"&&h>=f||l==="prev"&&h<=f,u=()=>{o=new Date().getTime(),i===null&&(i=o);const h=Math.max(Math.min((o-i)/a,1),0),f=.5-Math.cos(h*Math.PI)/2;let p=s+f*(e-s);if(c(p,e)&&(p=e),t.wrapperEl.scrollTo({[n]:p}),c(p,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(u)};u()}let Km;function c7(){const t=Pt(),e=At();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const s=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,s)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function RP(){return Km||(Km=c7()),Km}let Qm;function u7({userAgent:t}={}){const e=RP(),n=Pt(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const u=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=r==="Win32";let p=r==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&p&&e.touch&&m.indexOf(`${o}x${a}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!f&&(i.os="android",i.android=!0),(c||h||u)&&(i.os="ios",i.ios=!0),i}function d7(t={}){return Qm||(Qm=u7(t)),Qm}let Ym;function h7(){const t=Pt();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function f7(){return Ym||(Ym=h7()),Ym}function p7({swiper:t,on:e,emit:n}){const r=Pt();let s=null,i=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(u=>{i=r.requestAnimationFrame(()=>{const{width:h,height:f}=t;let p=h,m=f;u.forEach(({contentBoxSize:g,contentRect:E,target:_})=>{_&&_!==t.el||(p=E?E.width:(g[0]||g).inlineSize,m=E?E.height:(g[0]||g).blockSize)}),(p!==h||m!==f)&&o()})}),s.observe(t.el))},l=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},c=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",c)}),e("destroy",()=>{l(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",c)})}function m7({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=Pt(),o=(c,u={})=>{const h=i.MutationObserver||i.WebkitMutationObserver,f=new h(p=>{if(p.length===1){r("observerUpdate",p[0]);return}const m=function(){r("observerUpdate",p[0])};i.requestAnimationFrame?i.requestAnimationFrame(m):i.setTimeout(m,0)});f.observe(c,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:typeof u.childList>"u"?!0:u.childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),s.push(f)},a=()=>{if(t.params.observer){if(t.params.observeParents){const c=t.$el.parents();for(let u=0;u<c.length;u+=1)o(c[u])}o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}},l=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}const g7={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(s,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(a=>{a.apply(s,r)})}),e}};function _7(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function v7(){const t=this;function e(M){return t.isHorizontal()?M:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[M]}function n(M,P){return parseFloat(M.getPropertyValue(e(P))||0)}const r=t.params,{$wrapperEl:s,size:i,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&r.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=s.children(`.${t.params.slideClass}`),h=l?t.virtual.slides.length:u.length;let f=[];const p=[],m=[];let g=r.slidesOffsetBefore;typeof g=="function"&&(g=r.slidesOffsetBefore.call(t));let E=r.slidesOffsetAfter;typeof E=="function"&&(E=r.slidesOffsetAfter.call(t));const _=t.snapGrid.length,v=t.slidesGrid.length;let y=r.spaceBetween,S=-g,w=0,N=0;if(typeof i>"u")return;typeof y=="string"&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*i),t.virtualSize=-y,o?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(od(t.wrapperEl,"--swiper-centered-offset-before",""),od(t.wrapperEl,"--swiper-centered-offset-after",""));const A=r.grid&&r.grid.rows>1&&t.grid;A&&t.grid.initSlides(h);let k;const G=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(M=>typeof r.breakpoints[M].slidesPerView<"u").length>0;for(let M=0;M<h;M+=1){k=0;const P=u.eq(M);if(A&&t.grid.updateSlide(M,P,h,e),P.css("display")!=="none"){if(r.slidesPerView==="auto"){G&&(u[M].style[e("width")]="");const x=getComputedStyle(P[0]),b=P[0].style.transform,H=P[0].style.webkitTransform;if(b&&(P[0].style.transform="none"),H&&(P[0].style.webkitTransform="none"),r.roundLengths)k=t.isHorizontal()?P.outerWidth(!0):P.outerHeight(!0);else{const se=n(x,"width"),Ee=n(x,"padding-left"),we=n(x,"padding-right"),V=n(x,"margin-left"),O=n(x,"margin-right"),W=x.getPropertyValue("box-sizing");if(W&&W==="border-box")k=se+V+O;else{const{clientWidth:ae,offsetWidth:I}=P[0];k=se+Ee+we+V+O+(I-ae)}}b&&(P[0].style.transform=b),H&&(P[0].style.webkitTransform=H),r.roundLengths&&(k=Math.floor(k))}else k=(i-(r.slidesPerView-1)*y)/r.slidesPerView,r.roundLengths&&(k=Math.floor(k)),u[M]&&(u[M].style[e("width")]=`${k}px`);u[M]&&(u[M].swiperSlideSize=k),m.push(k),r.centeredSlides?(S=S+k/2+w/2+y,w===0&&M!==0&&(S=S-i/2-y),M===0&&(S=S-i/2-y),Math.abs(S)<1/1e3&&(S=0),r.roundLengths&&(S=Math.floor(S)),N%r.slidesPerGroup===0&&f.push(S),p.push(S)):(r.roundLengths&&(S=Math.floor(S)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&f.push(S),p.push(S),S=S+k+y),t.virtualSize+=k+y,w=k,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+E,o&&a&&(r.effect==="slide"||r.effect==="coverflow")&&s.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&s.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),A&&t.grid.updateWrapperSize(k,f,e),!r.centeredSlides){const M=[];for(let P=0;P<f.length;P+=1){let x=f[P];r.roundLengths&&(x=Math.floor(x)),f[P]<=t.virtualSize-i&&M.push(x)}f=M,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(f.length===0&&(f=[0]),r.spaceBetween!==0){const M=t.isHorizontal()&&o?"marginLeft":e("marginRight");u.filter((P,x)=>r.cssMode?x!==u.length-1:!0).css({[M]:`${y}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let M=0;m.forEach(x=>{M+=x+(r.spaceBetween?r.spaceBetween:0)}),M-=r.spaceBetween;const P=M-i;f=f.map(x=>x<0?-g:x>P?P+E:x)}if(r.centerInsufficientSlides){let M=0;if(m.forEach(P=>{M+=P+(r.spaceBetween?r.spaceBetween:0)}),M-=r.spaceBetween,M<i){const P=(i-M)/2;f.forEach((x,b)=>{f[b]=x-P}),p.forEach((x,b)=>{p[b]=x+P})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:m}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){od(t.wrapperEl,"--swiper-centered-offset-before",`${-f[0]}px`),od(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const M=-t.snapGrid[0],P=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(x=>x+M),t.slidesGrid=t.slidesGrid.map(x=>x+P)}if(h!==c&&t.emit("slidesLengthChange"),f.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==v&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const M=`${r.containerModifierClass}backface-hidden`,P=t.$el.hasClass(M);h<=r.maxBackfaceHiddenSlides?P||t.$el.addClass(M):P&&t.$el.removeClass(M)}}function y7(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||q([])).each(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&e.$wrapperEl.css("height",`${s}px`)}function E7(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function S7(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<r.length;a+=1){const l=r[a];let c=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const u=(o+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),h=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),f=-(o-c),p=f+e.slidesSizesGrid[a];(f>=0&&f<e.size-1||p>1&&p<=e.size||f<=0&&p>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass)),l.progress=s?-u:u,l.originalProgress=s?-h:h}e.visibleSlides=q(e.visibleSlides)}function w7(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o}=e;const a=i,l=o;r===0?(s=0,i=!0,o=!0):(s=(t-e.minTranslate())/r,i=s<=0,o=s>=1),Object.assign(e,{progress:s,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!a&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(a&&!i||l&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function T7(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:s,realIndex:i}=t,o=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let a;o?a=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${s}"]`):a=e.eq(s),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass));let l=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&l.length===0&&(l=e.eq(0),l.addClass(n.slideNextClass));let c=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&c.length===0&&(c=e.eq(-1),c.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function C7(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:s,params:i,activeIndex:o,realIndex:a,snapIndex:l}=e;let c=t,u;if(typeof c>"u"){for(let f=0;f<r.length;f+=1)typeof r[f+1]<"u"?n>=r[f]&&n<r[f+1]-(r[f+1]-r[f])/2?c=f:n>=r[f]&&n<r[f+1]&&(c=f+1):n>=r[f]&&(c=f);i.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0)}if(s.indexOf(n)>=0)u=s.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,c);u=f+Math.floor((c-f)/i.slidesPerGroup)}if(u>=s.length&&(u=s.length-1),c===o){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}const h=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(e,{snapIndex:u,realIndex:h,previousIndex:o,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==h&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function I7(t){const e=this,n=e.params,r=q(t).closest(`.${n.slideClass}`)[0];let s=!1,i;if(r){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===r){s=!0,i=o;break}}if(r&&s)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(q(r).attr("data-swiper-slide-index"),10):e.clickedIndex=i;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const R7={updateSize:_7,updateSlides:v7,updateAutoHeight:y7,updateSlidesOffset:E7,updateSlidesProgress:S7,updateProgress:w7,updateSlidesClasses:T7,updateActiveIndex:C7,updateClickedSlide:I7};function x7(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,$wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=a7(i[0],t);return r&&(o=-o),o||0}function N7(t,e){const n=this,{rtlTranslate:r,params:s,$wrapperEl:i,wrapperEl:o,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||i.transform(`translate3d(${l}px, ${c}px, ${u}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c;let h;const f=n.maxTranslate()-n.minTranslate();f===0?h=0:h=(t-n.minTranslate())/f,h!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function A7(){return-this.snapGrid[0]}function b7(){return-this.snapGrid[this.snapGrid.length-1]}function k7(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let u;if(r&&t>l?u=l:r&&t<c?u=c:u=t,i.updateProgress(u),o.cssMode){const h=i.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return IP({swiper:i,targetPosition:-u,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}const P7={getTranslate:x7,setTranslate:N7,minTranslate:A7,maxTranslate:b7,translateTo:k7};function L7(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function xP({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let o=n;if(o||(s>i?o="next":s<i?o="prev":o="reset"),t.emit(`transition${r}`),e&&s!==i){if(o==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function O7(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),xP({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function D7(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),xP({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const M7={setTransition:L7,transitionStart:O7,transitionEnd:D7};function V7(t=0,e=this.params.speed,n=!0,r,s){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const y=parseInt(t,10);if(!isFinite(y))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=y}const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:m}=i;if(i.animating&&a.preventInteractionOnTransition||!m&&!r&&!s)return!1;const g=Math.min(i.params.slidesPerGroupSkip,o);let E=g+Math.floor((o-g)/i.params.slidesPerGroup);E>=l.length&&(E=l.length-1);const _=-l[E];if(a.normalizeSlideIndex)for(let y=0;y<c.length;y+=1){const S=-Math.floor(_*100),w=Math.floor(c[y]*100),N=Math.floor(c[y+1]*100);typeof c[y+1]<"u"?S>=w&&S<N-(N-w)/2?o=y:S>=w&&S<N&&(o=y+1):S>=w&&(o=y)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&_<i.translate&&_<i.minTranslate()||!i.allowSlidePrev&&_>i.translate&&_>i.maxTranslate()&&(h||0)!==o))return!1;o!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(_);let v;if(o>h?v="next":o<h?v="prev":v="reset",f&&-_===i.translate||!f&&_===i.translate)return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(_),v!=="reset"&&(i.transitionStart(n,v),i.transitionEnd(n,v)),!1;if(a.cssMode){const y=i.isHorizontal(),S=f?_:-_;if(e===0){const w=i.virtual&&i.params.virtual.enabled;w&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),p[y?"scrollLeft":"scrollTop"]=S,w&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._swiperImmediateVirtual=!1})}else{if(!i.support.smoothScroll)return IP({swiper:i,targetPosition:S,side:y?"left":"top"}),!0;p.scrollTo({[y?"left":"top"]:S,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(_),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,v),e===0?i.transitionEnd(n,v):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(S){!i||i.destroyed||S.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,v))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd)),!0}function j7(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const o=parseInt(t,10);if(!isFinite(o))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=o}const s=this;let i=t;return s.params.loop&&(i+=s.loopedSlides),s.slideTo(i,e,n,r)}function $7(t=this.params.speed,e=!0,n){const r=this,{animating:s,enabled:i,params:o}=r;if(!i)return r;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(s&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function F7(t=this.params.speed,e=!0,n){const r=this,{params:s,animating:i,snapGrid:o,slidesGrid:a,rtlTranslate:l,enabled:c}=r;if(!c)return r;if(s.loop){if(i&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const u=l?r.translate:-r.translate;function h(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const f=h(u),p=o.map(E=>h(E));let m=o[p.indexOf(f)-1];if(typeof m>"u"&&s.cssMode){let E;o.forEach((_,v)=>{f>=_&&(E=v)}),typeof E<"u"&&(m=o[E>0?E-1:E])}let g=0;if(typeof m<"u"&&(g=a.indexOf(m),g<0&&(g=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,t,e,n)}return r.slideTo(g,t,e,n)}function U7(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function B7(t=this.params.speed,e=!0,n,r=.5){const s=this;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],u=s.snapGrid[a+1];l-c>(u-c)*r&&(i+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],u=s.snapGrid[a];l-c<=(u-c)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function z7(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;if(e.loop){if(t.animating)return;i=parseInt(q(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Pc(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Pc(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}const H7={slideTo:V7,slideToLoop:j7,slideNext:$7,slidePrev:F7,slideReset:U7,slideToClosest:B7,slideToClickedSlide:z7};function W7(){const t=this,e=At(),{params:n,$wrapperEl:r}=t,s=r.children().length>0?q(r.children()[0].parentNode):r;s.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let i=s.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-i.length%n.slidesPerGroup;if(l!==n.slidesPerGroup){for(let c=0;c<l;c+=1){const u=q(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);s.append(u)}i=s.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>i.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=i.length);const o=[],a=[];i.each((l,c)=>{q(l).attr("data-swiper-slide-index",c)});for(let l=0;l<t.loopedSlides;l+=1){const c=l-Math.floor(l/i.length)*i.length;a.push(i.eq(c)[0]),o.unshift(i.eq(i.length-c-1)[0])}for(let l=0;l<a.length;l+=1)s.append(q(a[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let l=o.length-1;l>=0;l-=1)s.prepend(q(o[l].cloneNode(!0)).addClass(n.slideDuplicateClass))}function q7(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:s,allowSlideNext:i,snapGrid:o,rtlTranslate:a}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const u=-o[e]-t.getTranslate();e<r?(l=n.length-r*3+e,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)):e>=n.length-r&&(l=-n.length+e+r,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)),t.allowSlidePrev=s,t.allowSlideNext=i,t.emit("loopFix")}function G7(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const K7={loopCreate:W7,loopFix:q7,loopDestroy:G7};function Q7(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function Y7(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const X7={setGrabCursor:Q7,unsetGrabCursor:Y7};function J7(t,e=this){function n(r){if(!r||r===At()||r===Pt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function Z7(t){const e=this,n=At(),r=Pt(),s=e.touchEventsData,{params:i,touches:o,enabled:a}=e;if(!a||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let c=q(l.target);if(i.touchEventsTarget==="wrapper"&&!c.closest(e.wrapperEl).length||(s.isTouchEvent=l.type==="touchstart",!s.isTouchEvent&&"which"in l&&l.which===3)||!s.isTouchEvent&&"button"in l&&l.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",h=t.composedPath?t.composedPath():t.path;u&&l.target&&l.target.shadowRoot&&h&&(c=q(h[0]));const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(i.noSwiping&&(p?J7(f,c[0]):c.closest(f)[0])){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler)[0])return;o.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,o.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const m=o.currentX,g=o.currentY,E=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,_=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(E&&(m<=_||m>=r.innerWidth-_))if(E==="prevent")t.preventDefault();else return;if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,s.touchStartTime=Lc(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1),l.type!=="touchstart"){let v=!0;c.is(s.focusableElements)&&(v=!1,c[0].nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&q(n.activeElement).is(s.focusableElements)&&n.activeElement!==c[0]&&n.activeElement.blur();const y=v&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||y)&&!c[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function eQ(t){const e=At(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}if(r.isTouchEvent&&l.type!=="touchmove")return;const c=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u=l.type==="touchmove"?c.pageX:l.pageX,h=l.type==="touchmove"?c.pageY:l.pageY;if(l.preventedByNestedSwiper){i.startX=u,i.startY=h;return}if(!n.allowTouchMove){q(l.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h}),r.touchStartTime=Lc());return}if(r.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&q(l.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;i.currentX=u,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let _;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(_=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?_>s.touchAngle:90-_>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),r.isMoved||(s.loop&&!s.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let m=n.isHorizontal()?f:p;i.diff=m,m*=s.touchRatio,o&&(m=-m),n.swipeDirection=m>0?"prev":"next",r.currentTranslate=m+r.startTranslate;let g=!0,E=s.resistanceRatio;if(s.touchReleaseOnEdges&&(E=0),m>0&&r.currentTranslate>n.minTranslate()?(g=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+m)**E)):m<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-m)**E)),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(m)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function tQ(t){const e=this,n=e.touchEventsData,{params:r,touches:s,rtlTranslate:i,slidesGrid:o,enabled:a}=e;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=Lc(),u=c-n.touchStartTime;if(e.allowClick){const v=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(v&&v[0]||l.target),e.emit("tap click",l),u<300&&c-n.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(n.lastClickTime=Lc(),Pc(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(r.followFinger?h=i?e.translate:-e.translate:h=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let f=0,p=e.slidesSizesGrid[0];for(let v=0;v<o.length;v+=v<r.slidesPerGroupSkip?1:r.slidesPerGroup){const y=v<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof o[v+y]<"u"?h>=o[v]&&h<o[v+y]&&(f=v,p=o[v+y]-o[v]):h>=o[v]&&(f=v,p=o[o.length-1]-o[o.length-2])}let m=null,g=null;r.rewind&&(e.isBeginning?g=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const E=(h-o[f])/p,_=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?m:f+_):e.slideTo(f)),e.swipeDirection==="prev"&&(E>1-r.longSwipesRatio?e.slideTo(f+_):g!==null&&E<0&&Math.abs(E)>r.longSwipesRatio?e.slideTo(g):e.slideTo(f))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(f+_):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:f+_),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:f))}}function IC(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function nQ(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function rQ(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let RC=!1;function sQ(){}const NP=(t,e)=>{const n=At(),{params:r,touchEvents:s,el:i,wrapperEl:o,device:a,support:l}=t,c=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",h=e;if(!l.touch)i[u](s.start,t.onTouchStart,!1),n[u](s.move,t.onTouchMove,c),n[u](s.end,t.onTouchEnd,!1);else{const f=s.start==="touchstart"&&l.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;i[u](s.start,t.onTouchStart,f),i[u](s.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),i[u](s.end,t.onTouchEnd,f),s.cancel&&i[u](s.cancel,t.onTouchEnd,f)}(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&o[u]("scroll",t.onScroll),r.updateOnWindowResize?t[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",IC,!0):t[h]("observerUpdate",IC,!0)};function iQ(){const t=this,e=At(),{params:n,support:r}=t;t.onTouchStart=Z7.bind(t),t.onTouchMove=eQ.bind(t),t.onTouchEnd=tQ.bind(t),n.cssMode&&(t.onScroll=rQ.bind(t)),t.onClick=nQ.bind(t),r.touch&&!RC&&(e.addEventListener("touchstart",sQ),RC=!0),NP(t,"on")}function oQ(){NP(this,"off")}const aQ={attachEvents:iQ,detachEvents:oQ},xC=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function lQ(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:s,$el:i}=t,o=s.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in o?o[a]:void 0)||t.originalParams,u=xC(t,s),h=xC(t,c),f=s.enabled;u&&!h?(i.removeClass(`${s.containerModifierClass}grid ${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&h&&(i.addClass(`${s.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&s.grid.fill==="column")&&i.addClass(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{const _=s[E]&&s[E].enabled,v=c[E]&&c[E].enabled;_&&!v&&t[E].disable(),!_&&v&&t[E].enable()});const p=c.direction&&c.direction!==s.direction,m=s.loop&&(c.slidesPerView!==s.slidesPerView||p);p&&n&&t.changeDirection(),In(t.params,c);const g=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!g?t.disable():!f&&g&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),m&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",c)}function cQ(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=Pt(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}const uQ={setBreakpoint:lQ,getBreakpoint:cQ};function dQ(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function hQ(){const t=this,{classNames:e,params:n,rtl:r,$el:s,device:i,support:o}=t,a=dQ(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.addClass([...e].join(" ")),t.emitContainerClasses()}function fQ(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const pQ={addClasses:hQ,removeClasses:fQ};function mQ(t,e,n,r,s,i){const o=Pt();let a;function l(){i&&i()}!q(t).parent("picture")[0]&&(!t.complete||!s)&&e?(a=new o.Image,a.onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):l()}function gQ(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const _Q={loadImage:mQ,preloadImages:gQ};function vQ(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const yQ={checkOverflow:vQ},NC={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function EQ(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){In(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&t[s]===!0&&(t[s]={auto:!0}),!(s in t&&"enabled"in i)){In(e,r);return}t[s]===!0&&(t[s]={enabled:!0}),typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),In(e,r)}}const Xm={eventsEmitter:g7,update:R7,translate:P7,transition:M7,slide:H7,loop:K7,grabCursor:X7,events:aQ,breakpoints:uQ,checkOverflow:yQ,classes:pQ,images:_Q},Jm={};let _a=class Dr{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=In({},r),n&&!r.el&&(r.el=n),r.el&&q(r.el).length>1){const a=[];return q(r.el).each(l=>{const c=In({},r,{el:l});a.push(new Dr(c))}),a}const s=this;s.__swiper__=!0,s.support=RP(),s.device=d7({userAgent:r.userAgent}),s.browser=f7(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const i={};s.modules.forEach(a=>{a({swiper:s,extendParams:EQ(r,i),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const o=In({},NC,i);return s.params=In({},o,Jm,r),s.originalParams=In({},s.params),s.passedParams=In({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(a=>{s.on(a,s.params.on[a])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=q,Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:q(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const l=["touchstart","touchmove","touchend","touchcancel"],c=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},s.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:Lc(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(s.centeredSlides){let h=i[c].swiperSlideSize,f;for(let p=c+1;p<i.length;p+=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>l&&(f=!0));for(let p=c-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>l&&(f=!0))}else if(e==="current")for(let h=c+1;h<i.length;h+=1)(n?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(u+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;e.params.freeMode&&e.params.freeMode.enabled?(s(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?i=e.slideTo(e.slides.length-1,0,!1,!0):i=e.slideTo(e.activeIndex,0,!1,!0),i||s()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${s}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=q(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const a=q(e.shadowRoot.querySelector(s()));return a.children=l=>r.children(l),a}return r.children?r.children(s()):q(r).children(s())})();if(o.length===0&&n.params.createElements){const l=At().createElement("div");o=q(l),l.className=n.params.wrapperClass,r.append(l),r.children(`.${n.params.slideClass}`).each(c=>{o.append(c)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:o.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:s,$el:i,$wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.$el[0].swiper=null,i7(r)),r.destroyed=!0),null}static extendDefaults(e){In(Jm,e)}static get extendedDefaults(){return Jm}static get defaults(){return NC}static installModule(e){Dr.prototype.__modules__||(Dr.prototype.__modules__=[]);const n=Dr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Dr.installModule(n)),Dr):(Dr.installModule(e),Dr)}};Object.keys(Xm).forEach(t=>{Object.keys(Xm[t]).forEach(e=>{_a.prototype[e]=Xm[t][e]})});_a.use([p7,m7]);function E0(t,e,n,r){const s=At();return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=t.$el.children(`.${r[i]}`)[0];o||(o=s.createElement("div"),o.className=r[i],t.$el.append(o)),n[i]=o,e[i]=o}}),n}function Rp({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function s(p){let m;return p&&(m=q(p),t.params.uniqueNavElements&&typeof p=="string"&&m.length>1&&t.$el.find(p).length===1&&(m=t.$el.find(p))),m}function i(p,m){const g=t.params.navigation;p&&p.length>0&&(p[m?"addClass":"removeClass"](g.disabledClass),p[0]&&p[0].tagName==="BUTTON"&&(p[0].disabled=m),t.params.watchOverflow&&t.enabled&&p[t.isLocked?"addClass":"removeClass"](g.lockClass))}function o(){if(t.params.loop)return;const{$nextEl:p,$prevEl:m}=t.navigation;i(m,t.isBeginning&&!t.params.rewind),i(p,t.isEnd&&!t.params.rewind)}function a(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function l(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function c(){const p=t.params.navigation;if(t.params.navigation=E0(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;const m=s(p.nextEl),g=s(p.prevEl);m&&m.length>0&&m.on("click",l),g&&g.length>0&&g.on("click",a),Object.assign(t.navigation,{$nextEl:m,nextEl:m&&m[0],$prevEl:g,prevEl:g&&g[0]}),t.enabled||(m&&m.addClass(p.lockClass),g&&g.addClass(p.lockClass))}function u(){const{$nextEl:p,$prevEl:m}=t.navigation;p&&p.length&&(p.off("click",l),p.removeClass(t.params.navigation.disabledClass)),m&&m.length&&(m.off("click",a),m.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?f():(c(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{u()}),n("enable disable",()=>{const{$nextEl:p,$prevEl:m}=t.navigation;p&&p[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),m&&m[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(p,m)=>{const{$nextEl:g,$prevEl:E}=t.navigation,_=m.target;if(t.params.navigation.hideOnClick&&!q(_).is(E)&&!q(_).is(g)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===_||t.pagination.el.contains(_)))return;let v;g?v=g.hasClass(t.params.navigation.hiddenClass):E&&(v=E.hasClass(t.params.navigation.hiddenClass)),r(v===!0?"navigationShow":"navigationHide"),g&&g.toggleClass(t.params.navigation.hiddenClass),E&&E.toggleClass(t.params.navigation.hiddenClass)}});const h=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),c(),o()},f=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),u()};Object.assign(t.navigation,{enable:h,disable:f,update:o,init:c,destroy:u})}function jr(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function xp({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let i,o=0;function a(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function l(g,E){const{bulletActiveClass:_}=t.params.pagination;g[E]().addClass(`${_}-${E}`)[E]().addClass(`${_}-${E}-${E}`)}function c(){const g=t.rtl,E=t.params.pagination;if(a())return;const _=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,v=t.pagination.$el;let y;const S=t.params.loop?Math.ceil((_-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(y=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),y>_-1-t.loopedSlides*2&&(y-=_-t.loopedSlides*2),y>S-1&&(y-=S),y<0&&t.params.paginationType!=="bullets"&&(y=S+y)):typeof t.snapIndex<"u"?y=t.snapIndex:y=t.activeIndex||0,E.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const w=t.pagination.bullets;let N,A,k;if(E.dynamicBullets&&(i=w.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),v.css(t.isHorizontal()?"width":"height",`${i*(E.dynamicMainBullets+4)}px`),E.dynamicMainBullets>1&&t.previousIndex!==void 0&&(o+=y-(t.previousIndex-t.loopedSlides||0),o>E.dynamicMainBullets-1?o=E.dynamicMainBullets-1:o<0&&(o=0)),N=Math.max(y-o,0),A=N+(Math.min(w.length,E.dynamicMainBullets)-1),k=(A+N)/2),w.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(G=>`${E.bulletActiveClass}${G}`).join(" ")),v.length>1)w.each(G=>{const M=q(G),P=M.index();P===y&&M.addClass(E.bulletActiveClass),E.dynamicBullets&&(P>=N&&P<=A&&M.addClass(`${E.bulletActiveClass}-main`),P===N&&l(M,"prev"),P===A&&l(M,"next"))});else{const G=w.eq(y),M=G.index();if(G.addClass(E.bulletActiveClass),E.dynamicBullets){const P=w.eq(N),x=w.eq(A);for(let b=N;b<=A;b+=1)w.eq(b).addClass(`${E.bulletActiveClass}-main`);if(t.params.loop)if(M>=w.length){for(let b=E.dynamicMainBullets;b>=0;b-=1)w.eq(w.length-b).addClass(`${E.bulletActiveClass}-main`);w.eq(w.length-E.dynamicMainBullets-1).addClass(`${E.bulletActiveClass}-prev`)}else l(P,"prev"),l(x,"next");else l(P,"prev"),l(x,"next")}}if(E.dynamicBullets){const G=Math.min(w.length,E.dynamicMainBullets+4),M=(i*G-i)/2-k*i,P=g?"right":"left";w.css(t.isHorizontal()?P:"top",`${M}px`)}}if(E.type==="fraction"&&(v.find(jr(E.currentClass)).text(E.formatFractionCurrent(y+1)),v.find(jr(E.totalClass)).text(E.formatFractionTotal(S))),E.type==="progressbar"){let w;E.progressbarOpposite?w=t.isHorizontal()?"vertical":"horizontal":w=t.isHorizontal()?"horizontal":"vertical";const N=(y+1)/S;let A=1,k=1;w==="horizontal"?A=N:k=N,v.find(jr(E.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${A}) scaleY(${k})`).transition(t.params.speed)}E.type==="custom"&&E.renderCustom?(v.html(E.renderCustom(t,y+1,S)),r("paginationRender",v[0])):r("paginationUpdate",v[0]),t.params.watchOverflow&&t.enabled&&v[t.isLocked?"addClass":"removeClass"](E.lockClass)}function u(){const g=t.params.pagination;if(a())return;const E=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,_=t.pagination.$el;let v="";if(g.type==="bullets"){let y=t.params.loop?Math.ceil((E-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&y>E&&(y=E);for(let S=0;S<y;S+=1)g.renderBullet?v+=g.renderBullet.call(t,S,g.bulletClass):v+=`<${g.bulletElement} class="${g.bulletClass}"></${g.bulletElement}>`;_.html(v),t.pagination.bullets=_.find(jr(g.bulletClass))}g.type==="fraction"&&(g.renderFraction?v=g.renderFraction.call(t,g.currentClass,g.totalClass):v=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`,_.html(v)),g.type==="progressbar"&&(g.renderProgressbar?v=g.renderProgressbar.call(t,g.progressbarFillClass):v=`<span class="${g.progressbarFillClass}"></span>`,_.html(v)),g.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function h(){t.params.pagination=E0(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const g=t.params.pagination;if(!g.el)return;let E=q(g.el);E.length!==0&&(t.params.uniqueNavElements&&typeof g.el=="string"&&E.length>1&&(E=t.$el.find(g.el),E.length>1&&(E=E.filter(_=>q(_).parents(".swiper")[0]===t.el))),g.type==="bullets"&&g.clickable&&E.addClass(g.clickableClass),E.addClass(g.modifierClass+g.type),E.addClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(E.addClass(`${g.modifierClass}${g.type}-dynamic`),o=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&E.addClass(g.progressbarOppositeClass),g.clickable&&E.on("click",jr(g.bulletClass),function(v){v.preventDefault();let y=q(this).index()*t.params.slidesPerGroup;t.params.loop&&(y+=t.loopedSlides),t.slideTo(y)}),Object.assign(t.pagination,{$el:E,el:E[0]}),t.enabled||E.addClass(g.lockClass))}function f(){const g=t.params.pagination;if(a())return;const E=t.pagination.$el;E.removeClass(g.hiddenClass),E.removeClass(g.modifierClass+g.type),E.removeClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(g.bulletActiveClass),g.clickable&&E.off("click",jr(g.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?m():(h(),u(),c())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&c()}),n("snapIndexChange",()=>{t.params.loop||c()}),n("slidesLengthChange",()=>{t.params.loop&&(u(),c())}),n("snapGridLengthChange",()=>{t.params.loop||(u(),c())}),n("destroy",()=>{f()}),n("enable disable",()=>{const{$el:g}=t.pagination;g&&g[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{c()}),n("click",(g,E)=>{const _=E.target,{$el:v}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&v&&v.length>0&&!q(_).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&_===t.navigation.nextEl||t.navigation.prevEl&&_===t.navigation.prevEl))return;const y=v.hasClass(t.params.pagination.hiddenClass);r(y===!0?"paginationShow":"paginationHide"),v.toggleClass(t.params.pagination.hiddenClass)}});const p=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),h(),u(),c()},m=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),f()};Object.assign(t.pagination,{enable:p,disable:m,render:u,update:c,init:h,destroy:f})}function Np({swiper:t,extendParams:e,on:n,emit:r}){const s=At();let i=!1,o=null,a=null,l,c,u,h;e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:P,rtlTranslate:x,progress:b}=t,{$dragEl:H,$el:se}=P,Ee=t.params.scrollbar;let we=c,V=(u-c)*b;x?(V=-V,V>0?(we=c-V,V=0):-V+c>u&&(we=u+V)):V<0?(we=c+V,V=0):V+c>u&&(we=u-V),t.isHorizontal()?(H.transform(`translate3d(${V}px, 0, 0)`),H[0].style.width=`${we}px`):(H.transform(`translate3d(0px, ${V}px, 0)`),H[0].style.height=`${we}px`),Ee.hide&&(clearTimeout(o),se[0].style.opacity=1,o=setTimeout(()=>{se[0].style.opacity=0,se.transition(400)},1e3))}function p(P){!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(P)}function m(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:P}=t,{$dragEl:x,$el:b}=P;x[0].style.width="",x[0].style.height="",u=t.isHorizontal()?b[0].offsetWidth:b[0].offsetHeight,h=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?c=u*h:c=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?x[0].style.width=`${c}px`:x[0].style.height=`${c}px`,h>=1?b[0].style.display="none":b[0].style.display="",t.params.scrollbar.hide&&(b[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&P.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function g(P){return t.isHorizontal()?P.type==="touchstart"||P.type==="touchmove"?P.targetTouches[0].clientX:P.clientX:P.type==="touchstart"||P.type==="touchmove"?P.targetTouches[0].clientY:P.clientY}function E(P){const{scrollbar:x,rtlTranslate:b}=t,{$el:H}=x;let se;se=(g(P)-H.offset()[t.isHorizontal()?"left":"top"]-(l!==null?l:c/2))/(u-c),se=Math.max(Math.min(se,1),0),b&&(se=1-se);const Ee=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*se;t.updateProgress(Ee),t.setTranslate(Ee),t.updateActiveIndex(),t.updateSlidesClasses()}function _(P){const x=t.params.scrollbar,{scrollbar:b,$wrapperEl:H}=t,{$el:se,$dragEl:Ee}=b;i=!0,l=P.target===Ee[0]||P.target===Ee?g(P)-P.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,P.preventDefault(),P.stopPropagation(),H.transition(100),Ee.transition(100),E(P),clearTimeout(a),se.transition(0),x.hide&&se.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),r("scrollbarDragStart",P)}function v(P){const{scrollbar:x,$wrapperEl:b}=t,{$el:H,$dragEl:se}=x;i&&(P.preventDefault?P.preventDefault():P.returnValue=!1,E(P),b.transition(0),H.transition(0),se.transition(0),r("scrollbarDragMove",P))}function y(P){const x=t.params.scrollbar,{scrollbar:b,$wrapperEl:H}=t,{$el:se}=b;i&&(i=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),H.transition("")),x.hide&&(clearTimeout(a),a=Pc(()=>{se.css("opacity",0),se.transition(400)},1e3)),r("scrollbarDragEnd",P),x.snapOnRelease&&t.slideToClosest())}function S(P){const{scrollbar:x,touchEventsTouch:b,touchEventsDesktop:H,params:se,support:Ee}=t,we=x.$el;if(!we)return;const V=we[0],O=Ee.passiveListener&&se.passiveListeners?{passive:!1,capture:!1}:!1,W=Ee.passiveListener&&se.passiveListeners?{passive:!0,capture:!1}:!1;if(!V)return;const ae=P==="on"?"addEventListener":"removeEventListener";Ee.touch?(V[ae](b.start,_,O),V[ae](b.move,v,O),V[ae](b.end,y,W)):(V[ae](H.start,_,O),s[ae](H.move,v,O),s[ae](H.end,y,W))}function w(){!t.params.scrollbar.el||!t.scrollbar.el||S("on")}function N(){!t.params.scrollbar.el||!t.scrollbar.el||S("off")}function A(){const{scrollbar:P,$el:x}=t;t.params.scrollbar=E0(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const b=t.params.scrollbar;if(!b.el)return;let H=q(b.el);t.params.uniqueNavElements&&typeof b.el=="string"&&H.length>1&&x.find(b.el).length===1&&(H=x.find(b.el)),H.addClass(t.isHorizontal()?b.horizontalClass:b.verticalClass);let se=H.find(`.${t.params.scrollbar.dragClass}`);se.length===0&&(se=q(`<div class="${t.params.scrollbar.dragClass}"></div>`),H.append(se)),Object.assign(P,{$el:H,el:H[0],$dragEl:se,dragEl:se[0]}),b.draggable&&w(),H&&H[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function k(){const P=t.params.scrollbar,x=t.scrollbar.$el;x&&x.removeClass(t.isHorizontal()?P.horizontalClass:P.verticalClass),N()}n("init",()=>{t.params.scrollbar.enabled===!1?M():(A(),m(),f())}),n("update resize observerUpdate lock unlock",()=>{m()}),n("setTranslate",()=>{f()}),n("setTransition",(P,x)=>{p(x)}),n("enable disable",()=>{const{$el:P}=t.scrollbar;P&&P[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),n("destroy",()=>{k()});const G=()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),A(),m(),f()},M=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),k()};Object.assign(t.scrollbar,{enable:G,disable:M,updateSize:m,setTranslate:f,init:A,destroy:k})}function Ap({swiper:t,extendParams:e,on:n}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let r=null;function s(x){const b=r;b.length!==0&&(b.html(""),b.html(x))}function i(x=16){const b=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(x).replace(/x/g,b)}function o(x){x.attr("tabIndex","0")}function a(x){x.attr("tabIndex","-1")}function l(x,b){x.attr("role",b)}function c(x,b){x.attr("aria-roledescription",b)}function u(x,b){x.attr("aria-controls",b)}function h(x,b){x.attr("aria-label",b)}function f(x,b){x.attr("id",b)}function p(x,b){x.attr("aria-live",b)}function m(x){x.attr("aria-disabled",!0)}function g(x){x.attr("aria-disabled",!1)}function E(x){if(x.keyCode!==13&&x.keyCode!==32)return;const b=t.params.a11y,H=q(x.target);t.navigation&&t.navigation.$nextEl&&H.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?s(b.lastSlideMessage):s(b.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&H.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?s(b.firstSlideMessage):s(b.prevSlideMessage)),t.pagination&&H.is(jr(t.params.pagination.bulletClass))&&H[0].click()}function _(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:x,$prevEl:b}=t.navigation;b&&b.length>0&&(t.isBeginning?(m(b),a(b)):(g(b),o(b))),x&&x.length>0&&(t.isEnd?(m(x),a(x)):(g(x),o(x)))}function v(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function y(){return v()&&t.params.pagination.clickable}function S(){const x=t.params.a11y;v()&&t.pagination.bullets.each(b=>{const H=q(b);t.params.pagination.clickable&&(o(H),t.params.pagination.renderBullet||(l(H,"button"),h(H,x.paginationBulletMessage.replace(/\{\{index\}\}/,H.index()+1)))),H.is(`.${t.params.pagination.bulletActiveClass}`)?H.attr("aria-current","true"):H.removeAttr("aria-current")})}const w=(x,b,H)=>{o(x),x[0].tagName!=="BUTTON"&&(l(x,"button"),x.on("keydown",E)),h(x,H),u(x,b)},N=()=>{t.a11y.clicked=!0},A=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},k=x=>{if(t.a11y.clicked)return;const b=x.target.closest(`.${t.params.slideClass}`);if(!b||!t.slides.includes(b))return;const H=t.slides.indexOf(b)===t.activeIndex,se=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(b);H||se||x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(b),0))},G=()=>{const x=t.params.a11y;x.itemRoleDescriptionMessage&&c(q(t.slides),x.itemRoleDescriptionMessage),x.slideRole&&l(q(t.slides),x.slideRole);const b=t.params.loop?t.slides.filter(H=>!H.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;x.slideLabelMessage&&t.slides.each((H,se)=>{const Ee=q(H),we=t.params.loop?parseInt(Ee.attr("data-swiper-slide-index"),10):se,V=x.slideLabelMessage.replace(/\{\{index\}\}/,we+1).replace(/\{\{slidesLength\}\}/,b);h(Ee,V)})},M=()=>{const x=t.params.a11y;t.$el.append(r);const b=t.$el;x.containerRoleDescriptionMessage&&c(b,x.containerRoleDescriptionMessage),x.containerMessage&&h(b,x.containerMessage);const H=t.$wrapperEl,se=x.id||H.attr("id")||`swiper-wrapper-${i(16)}`,Ee=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";f(H,se),p(H,Ee),G();let we,V;t.navigation&&t.navigation.$nextEl&&(we=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(V=t.navigation.$prevEl),we&&we.length&&w(we,se,x.nextSlideMessage),V&&V.length&&w(V,se,x.prevSlideMessage),y()&&t.pagination.$el.on("keydown",jr(t.params.pagination.bulletClass),E),t.$el.on("focus",k,!0),t.$el.on("pointerdown",N,!0),t.$el.on("pointerup",A,!0)};function P(){r&&r.length>0&&r.remove();let x,b;t.navigation&&t.navigation.$nextEl&&(x=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(b=t.navigation.$prevEl),x&&x.off("keydown",E),b&&b.off("keydown",E),y()&&t.pagination.$el.off("keydown",jr(t.params.pagination.bulletClass),E),t.$el.off("focus",k,!0),t.$el.off("pointerdown",N,!0),t.$el.off("pointerup",A,!0)}n("beforeInit",()=>{r=q(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),n("afterInit",()=>{t.params.a11y.enabled&&M()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&G()}),n("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&_()}),n("paginationUpdate",()=>{t.params.a11y.enabled&&S()}),n("destroy",()=>{t.params.a11y.enabled&&P()})}function bp({swiper:t,extendParams:e,on:n,emit:r}){let s;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function i(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const g=t.slides.eq(t.activeIndex);let E=t.params.autoplay.delay;g.attr("data-swiper-autoplay")&&(E=g.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(s),s=Pc(()=>{let _;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),_=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?a():(_=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(_=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),_=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?a():(_=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(_=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||_===!1)&&i()},E)}function o(){return typeof s<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),i(),!0)}function a(){return!t.autoplay.running||typeof s>"u"?!1:(s&&(clearTimeout(s),s=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function l(g){t.autoplay.running&&(t.autoplay.paused||(s&&clearTimeout(s),t.autoplay.paused=!0,g===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,i()):["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].addEventListener(E,u)})))}function c(){const g=At();g.visibilityState==="hidden"&&t.autoplay.running&&l(),g.visibilityState==="visible"&&t.autoplay.paused&&(i(),t.autoplay.paused=!1)}function u(g){!t||t.destroyed||!t.$wrapperEl||g.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].removeEventListener(E,u)}),t.autoplay.paused=!1,t.autoplay.running?i():a())}function h(){t.params.autoplay.disableOnInteraction?a():(r("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach(g=>{t.$wrapperEl[0].removeEventListener(g,u)})}function f(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),i())}function p(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",h),t.$el.on("mouseleave",f))}function m(){t.$el.off("mouseenter",h),t.$el.off("mouseleave",f)}n("init",()=>{t.params.autoplay.enabled&&(o(),At().addEventListener("visibilitychange",c),p())}),n("beforeTransitionStart",(g,E,_)=>{t.autoplay.running&&(_||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(E):a())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?a():l())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&i()}),n("destroy",()=>{m(),t.autoplay.running&&a(),At().removeEventListener("visibilitychange",c)}),Object.assign(t.autoplay,{pause:l,run:i,start:o,stop:a})}function SQ(t){const{effect:e,swiper:n,on:r,setTranslate:s,setTransition:i,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;r("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const h=o?o():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),r("setTranslate",()=>{n.params.effect===e&&s()}),r("setTransition",(h,f)=>{n.params.effect===e&&i(f)}),r("transitionEnd",()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.each(h=>{n.$(h).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}});let u;r("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(s(),u=!1)}))})}function wQ(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function TQ({swiper:t,duration:e,transformEl:n,allSlides:r}){const{slides:s,activeIndex:i,$wrapperEl:o}=t;if(t.params.virtualTranslate&&e!==0){let a=!1,l;r?l=n?s.find(n):s:l=n?s.eq(i).find(n):s.eq(i),l.transitionEnd(()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const c=["webkitTransitionEnd","transitionend"];for(let u=0;u<c.length;u+=1)o.trigger(c[u])})}}function AP({swiper:t,extendParams:e,on:n}){e({fadeEffect:{crossFade:!1,transformEl:null}}),SQ({effect:"fade",swiper:t,on:n,setTranslate:()=>{const{slides:i}=t,o=t.params.fadeEffect;for(let a=0;a<i.length;a+=1){const l=t.slides.eq(a);let u=-l[0].swiperSlideOffset;t.params.virtualTranslate||(u-=t.translate);let h=0;t.isHorizontal()||(h=u,u=0);const f=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(l[0].progress),0):1+Math.min(Math.max(l[0].progress,-1),0);wQ(o,l).css({opacity:f}).transform(`translate3d(${u}px, ${h}px, 0px)`)}},setTransition:i=>{const{transformEl:o}=t.params.fadeEffect;(o?t.slides.find(o):t.slides).transition(i),TQ({swiper:t,duration:i,transformEl:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function qi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function bs(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:qi(e[r])&&qi(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:bs(t[r],e[r]):t[r]=e[r]})}function bP(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function kP(t={}){return t.pagination&&typeof t.pagination.el>"u"}function PP(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function LP(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const OP=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function CQ(t={},e=!0){const n={on:{}},r={},s={};bs(n,_a.defaults),bs(n,_a.extendedDefaults),n._emitClasses=!0,n.init=!1;const i={},o=OP.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?qi(t[l])?(n[l]={},s[l]={},bs(n[l],t[l]),bs(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:i[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:r}}function IQ({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){bP(o)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),kP(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),PP(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}const DP=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const s=_a.prototype.getBreakpoint(e.breakpoints),i=s in e.breakpoints?e.breakpoints[s]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function RQ(t,e,n){const r=e.map((l,c)=>pe.cloneElement(l,{swiper:t,"data-swiper-slide-index":c}));function s(l,c,u){return pe.cloneElement(l,{key:`${l.key}-duplicate-${c}-${u}`,className:`${l.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-r.length%n.slidesPerGroup;if(l!==n.slidesPerGroup)for(let c=0;c<l;c+=1){const u=pe.createElement("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(u)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const i=DP(r,n),o=[],a=[];for(let l=0;l<i;l+=1){const c=l-Math.floor(l/r.length)*r.length;a.push(s(r[c],l,"append")),o.unshift(s(r[r.length-c-1],l,"prepend"))}return t&&(t.loopedSlides=i),[...o,...r,...a]}function xQ(t,e,n,r,s){const i=[];if(!e)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(s),c=n.map(s);l.join("")!==c.join("")&&o("children"),r.length!==n.length&&o("children")}return OP.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(qi(t[l])&&qi(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),u.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),i}function MP(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function VP(t){const e=[];return pe.Children.toArray(t).forEach(n=>{MP(n)?e.push(n):n.props&&n.props.children&&VP(n.props.children).forEach(r=>e.push(r))}),e}function NQ(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return pe.Children.toArray(t).forEach(r=>{if(MP(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=VP(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function AQ({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:a}){const l=r.filter(w=>w!=="children"&&w!=="direction"),{params:c,pagination:u,navigation:h,scrollbar:f,virtual:p,thumbs:m}=t;let g,E,_,v,y;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(g=!0),r.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(E=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(c.pagination||c.pagination===!1)&&u&&!u.el&&(_=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&f&&!f.el&&(v=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(y=!0);const S=w=>{t[w]&&(t[w].destroy(),w==="navigation"?(c[w].prevEl=void 0,c[w].nextEl=void 0,t[w].prevEl=void 0,t[w].nextEl=void 0):(c[w].el=void 0,t[w].el=void 0))};l.forEach(w=>{if(qi(c[w])&&qi(n[w]))bs(c[w],n[w]);else{const N=n[w];(N===!0||N===!1)&&(w==="navigation"||w==="pagination"||w==="scrollbar")?N===!1&&S(w):c[w]=n[w]}}),l.includes("controller")&&!E&&t.controller&&t.controller.control&&c.controller&&c.controller.control&&(t.controller.control=c.controller.control),r.includes("children")&&e&&p&&c.virtual.enabled?(p.slides=e,p.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),g&&m.init()&&m.update(!0),E&&(t.controller.control=c.controller.control),_&&(a&&(c.pagination.el=a),u.init(),u.render(),u.update()),v&&(o&&(c.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),y&&(s&&(c.navigation.nextEl=s),i&&(c.navigation.prevEl=i),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function bQ(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((s,i)=>i>=n.from&&i<=n.to).map(s=>pe.cloneElement(s,{swiper:t,style:r}))}const kQ=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Hl(t,e){return typeof window>"u"?T.useEffect(t,e):T.useLayoutEffect(t,e)}const PQ=T.createContext(null),LQ=T.createContext(null);function rv(){return rv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rv.apply(this,arguments)}const wu=T.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,u]=T.useState("swiper"),[h,f]=T.useState(null),[p,m]=T.useState(!1),g=T.useRef(!1),E=T.useRef(null),_=T.useRef(null),v=T.useRef(null),y=T.useRef(null),S=T.useRef(null),w=T.useRef(null),N=T.useRef(null),A=T.useRef(null),{params:k,passedParams:G,rest:M,events:P}=CQ(a),{slides:x,slots:b}=NQ(i),H=()=>{m(!p)};Object.assign(k.on,{_containerClasses(O,W){u(W)}});const se=()=>{if(Object.assign(k.on,P),l=!0,_.current=new _a(k),_.current.loopCreate=()=>{},_.current.loopDestroy=()=>{},k.loop&&(_.current.loopedSlides=DP(x,k)),_.current.virtual&&_.current.params.virtual.enabled){_.current.virtual.slides=x;const O={cache:!1,slides:x,renderExternal:f,renderExternalUpdate:!1};bs(_.current.params.virtual,O),bs(_.current.originalParams.virtual,O)}};E.current||se(),_.current&&_.current.on("_beforeBreakpoint",H);const Ee=()=>{l||!P||!_.current||Object.keys(P).forEach(O=>{_.current.on(O,P[O])})},we=()=>{!P||!_.current||Object.keys(P).forEach(O=>{_.current.off(O,P[O])})};T.useEffect(()=>()=>{_.current&&_.current.off("_beforeBreakpoint",H)}),T.useEffect(()=>{!g.current&&_.current&&(_.current.emitSlidesClasses(),g.current=!0)}),Hl(()=>{if(e&&(e.current=E.current),!!E.current)return _.current.destroyed&&se(),IQ({el:E.current,nextEl:S.current,prevEl:w.current,paginationEl:N.current,scrollbarEl:A.current,swiper:_.current},k),o&&o(_.current),()=>{_.current&&!_.current.destroyed&&_.current.destroy(!0,!1)}},[]),Hl(()=>{Ee();const O=xQ(G,v.current,x,y.current,W=>W.key);return v.current=G,y.current=x,O.length&&_.current&&!_.current.destroyed&&AQ({swiper:_.current,slides:x,passedParams:G,changedParams:O,nextEl:S.current,prevEl:w.current,scrollbarEl:A.current,paginationEl:N.current}),()=>{we()}}),Hl(()=>{kQ(_.current)},[h]);function V(){return k.virtual?bQ(_.current,x,h):!k.loop||_.current&&_.current.destroyed?x.map(O=>pe.cloneElement(O,{swiper:_.current})):RQ(_.current,x,k)}return pe.createElement(r,rv({ref:E,className:LP(`${c}${n?` ${n}`:""}`)},M),pe.createElement(LQ.Provider,{value:_.current},b["container-start"],pe.createElement(s,{className:"swiper-wrapper"},b["wrapper-start"],V(),b["wrapper-end"]),bP(k)&&pe.createElement(pe.Fragment,null,pe.createElement("div",{ref:w,className:"swiper-button-prev"}),pe.createElement("div",{ref:S,className:"swiper-button-next"})),PP(k)&&pe.createElement("div",{ref:A,className:"swiper-scrollbar"}),kP(k)&&pe.createElement("div",{ref:N,className:"swiper-pagination"}),b["container-end"]))});wu.displayName="Swiper";function sv(){return sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sv.apply(this,arguments)}const Ws=T.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,virtualIndex:a,...l}=t===void 0?{}:t;const c=T.useRef(null),[u,h]=T.useState("swiper-slide");function f(g,E,_){E===c.current&&h(_)}Hl(()=>{if(e&&(e.current=c.current),!(!c.current||!i)){if(i.destroyed){u!=="swiper-slide"&&h("swiper-slide");return}return i.on("_slideClass",f),()=>{i&&i.off("_slideClass",f)}}}),Hl(()=>{i&&c.current&&!i.destroyed&&h(i.getSlideClasses(c.current))},[i]);const p={isActive:u.indexOf("swiper-slide-active")>=0||u.indexOf("swiper-slide-duplicate-active")>=0,isVisible:u.indexOf("swiper-slide-visible")>=0,isDuplicate:u.indexOf("swiper-slide-duplicate")>=0,isPrev:u.indexOf("swiper-slide-prev")>=0||u.indexOf("swiper-slide-duplicate-prev")>=0,isNext:u.indexOf("swiper-slide-next")>=0||u.indexOf("swiper-slide-duplicate-next")>=0},m=()=>typeof r=="function"?r(p):r;return pe.createElement(n,sv({ref:c,className:LP(`${u}${s?` ${s}`:""}`),"data-swiper-slide-index":a},l),pe.createElement(PQ.Provider,{value:p},o?pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},m()):m()))});Ws.displayName="SwiperSlide";function Va({point:t}){const[e,n]=T.useState(null),r=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],s=()=>{let i=(Math.round(t*100)/100).toFixed(1)/2,o=0;r.reverse().forEach(a=>i<=a?o=a:null),n(o)};return T.useEffect(()=>{s()},[e]),d.jsxs("em",{className:"ui-star",children:[e===0&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"})]}),e===5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"})]})]})}function OQ({opts:t}){let e=Math.floor(Math.random()*3)+1;const[n,r]=T.useState([]),s=h=>{z.loading.show("glx");const f=`https://api.themoviedb.org/3/${t.media}/now_playing?language=ko&region=kr&page=${h}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(f).then(p=>{var m;console.log(p.data),r(g=>[...g,...p.data.results]),console.log(h+"=== "+p.data.total_pages),z.loading.hide(),p.data.total_pages<=h&&((m=document.querySelector(".ui-loadmore"))==null||m.classList.add("hide"))}).catch(p=>{var m;console.log(p),z.loading.hide(),(m=document.querySelector(".ui-loadmore"))==null||m.classList.add("error")})},[i,o]=T.useState(null),a=()=>{i==null||i.slideTo(Math.floor(Math.random()*10),0)};T.useEffect(()=>(s(e),a(),window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}),[]);const[l,c]=T.useState(0),u=()=>c(parseInt(z.viewport.scrollTop()*.2));return d.jsx(d.Fragment,{children:d.jsx("section",{className:"sect mnTop",children:d.jsx("div",{className:"inr",id:"slide",children:d.jsx(wu,{className:"swiper-wrapper swiper slide",modules:[Rp,xp,Np,bp,Ap],spaceBetween:0,slidesPerView:1,loop:!0,effect:"fade",autoplay:{delay:3e3,waitForTransition:!1,pauseOnMouseEnter:!0,disableOnInteraction:!1},wrapperTag:"ul",pagination:{clickable:!0},autoHeight:!1,onSwiper:h=>{console.log("initialize swiper",h),o(h),h.slideTo(Math.floor(Math.random()*10))},onSlideChange:()=>{},children:n==null?void 0:n.filter((h,f)=>f<10).map((h,f)=>{const p=`//image.tmdb.org/t/p/w780${h.poster_path}`;return d.jsx(Ws,{tag:"li",className:"swiper-slide pbox",children:d.jsxs(ft,{className:"box",to:`${t.media}/${h.id}`,children:[d.jsx("div",{className:"pics",style:{transform:"translate3D(0rem , 0"+l+"rem , 0rem)"},children:d.jsx("img",{src:`${p}`,alt:"",className:"img",onError:z.error.poster})}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"star",children:d.jsx(Va,{point:h.vote_average})}),d.jsx("div",{className:"tit",children:h.title})]}),d.jsx("div",{className:"screen"})]})},f)})})})})})}function ho({opts:t}){const[e,n]=T.useState([]);console.log(t);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=i=>{z.loading.show(),console.log("로드 ");const o=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(o).then(a=>{var l;console.log(a.data),n(c=>[...c,...a.data.results]),console.log(i+"=== "+a.data.total_pages),z.loading.hide(),a.data.total_pages<=i&&((l=document.querySelector(".ui-loadmore"))==null||l.classList.add("hide"))}).catch(a=>{var l;console.log(a),z.loading.hide(),(l=document.querySelector(".ui-loadmore"))==null||l.classList.add("error")})};return T.useEffect(()=>(s(1),()=>{}),[]),d.jsx(d.Fragment,{children:d.jsxs("section",{className:"sect mnList",children:[d.jsxs(ft,{to:`/list/${t.media}/${t.cate||0}`,className:"hbox",children:[d.jsx("h3",{className:"stit",children:t.title}),d.jsx("span",{className:"more",children:d.jsx("i",{className:"fa-regular fa-chevron-right"})})]}),d.jsx("div",{className:"inr",children:d.jsx("div",{className:"slide",children:d.jsx("ul",{children:e==null?void 0:e.filter((i,o)=>o<20).map((i,o)=>{const a=`//image.tmdb.org/t/p/w154${i.poster_path}`,l=i.title||i.name;return d.jsx("li",{className:"pbox",children:d.jsxs(ft,{className:"box",to:`${t.media}/${i.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${a}`,alt:l,className:"img",onError:z.error.poster})}),d.jsx("div",{className:"info"})]})},o)})})})})]})})}function AC({opts:t}){const[e,n]=T.useState([]);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=()=>{console.log("로드 ");const i=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(i).then(o=>{console.log(o.data),n(a=>[...a,...o.data.results])}).catch(o=>{console.log(o)})};return T.useEffect(()=>(s(),()=>{}),[]),d.jsx(d.Fragment,{children:d.jsxs("section",{className:"sect mnList topic",children:[d.jsx("div",{className:"hbox",children:d.jsx("h3",{className:"stit",children:t.title})}),d.jsx("div",{className:"inr",children:d.jsx("div",{className:"slide",children:d.jsx("ul",{children:e==null?void 0:e.filter((i,o)=>o<20).map((i,o)=>{const a=`//image.tmdb.org/t/p/w154${i.poster_path}`,l=i.title||i.name;return d.jsx("li",{className:"pbox",children:d.jsxs(ft,{className:"box",to:`${t.media}/${i.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${a}`,alt:l,className:"img",onError:z.error.poster})}),d.jsx("div",{className:"info",children:d.jsx(Va,{point:i.vote_average})})]})},o)})})})})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP="firebasestorage.googleapis.com",DQ="storageBucket",MQ=2*60*1e3,VQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Nr{constructor(e,n,r=0){super(Zm(e),`Firebase Storage: ${n} (${Zm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rr||(Rr={}));function Zm(t){return"storage/"+t}function jQ(){const t="An unknown error occurred, please check the error payload for server response.";return new Pr(Rr.UNKNOWN,t)}function $Q(){return new Pr(Rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function FQ(){return new Pr(Rr.CANCELED,"User canceled the upload/download.")}function UQ(t){return new Pr(Rr.INVALID_URL,"Invalid URL '"+t+"'.")}function BQ(t){return new Pr(Rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function bC(t){return new Pr(Rr.INVALID_ARGUMENT,t)}function $P(){return new Pr(Rr.APP_DELETED,"The Firebase app was deleted.")}function zQ(t){return new Pr(Rr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=rr.makeFromUrl(e,n)}catch{return new rr(e,"")}if(r.path==="")return r;throw BQ(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},g=n===jP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${g}/${s}/${E}`,"i"),y=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<y.length;S++){const w=y[S],N=w.regex.exec(e);if(N){const A=N[w.indices.bucket];let k=N[w.indices.path];k||(k=""),r=new rr(A,k),w.postModify(r);break}}if(r==null)throw UQ(e);return r}}class HQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WQ(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(p,l())},E)}function f(){i&&clearTimeout(i)}function p(E,..._){if(c){f();return}if(E){f(),u.call(null,E,..._);return}if(l()||o){f(),u.call(null,E,..._);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let m=!1;function g(E){m||(m=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function qQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GQ(t){return t!==void 0}function kC(t,e,n,r){if(r<e)throw bC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw bC(`Invalid value for '${t}'. Expected ${n} or less.`)}function KQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(qh||(qh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QQ(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e,n,r,s,i,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new ad(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===qh.NO_ERROR,l=i.getStatus();if(!a||QQ(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===qh.ABORT;r(!1,new ad(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new ad(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());GQ(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=jQ();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?$P():FQ();o(l)}else{const l=$Q();o(l)}};this.canceled_?n(!1,new ad(!1,null,!0)):this.backoffId_=WQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&qQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class ad{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function XQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function JQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function ZQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function eY(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function tY(t,e,n,r,s,i,o=!0){const a=KQ(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return ZQ(c,e),XQ(c,n),JQ(c,i),eY(c,r),new YQ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nY(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function rY(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Gh(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return rY(this._location.path)}get storage(){return this._service}get parent(){const e=nY(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new Gh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw zQ(e)}}function PC(t,e){const n=e==null?void 0:e[DQ];return n==null?null:rr.makeFromBucketSpec(n,t)}class sY{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=jP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=MQ,this._maxUploadRetryTime=VQ,this._requests=new Set,s!=null?this._bucket=rr.makeFromBucketSpec(s,this._host):this._bucket=PC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=PC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){kC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){kC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new HQ($P());{const o=tY(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const LC="@firebase/storage",OC="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iY="storage";function oY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new sY(n,r,s,e,ni)}function aY(){Ks(new ns(iY,oY,"PUBLIC").setMultipleInstances(!0)),zn(LC,OC,""),zn(LC,OC,"esm2017")}aY();function DC(){const t=()=>{const n=document.querySelector(".header"),r=parseInt(z.viewport.scrollTop());z.lock.stat||(r>100?n.classList.add("trans"):n.classList.remove("trans"))},e=async n=>{const r=s5(WW(gs,"bbs"),i5("timestamp","desc"),o5(n));(await d5(r)).forEach(i=>{})};return T.useEffect(()=>{window.scrollTo(0,0);const n=document.querySelector(".header");return n.classList.add("home"),window.addEventListener("scroll",t),e(10),()=>{n.classList.remove("home"),window.removeEventListener("scroll",t)}},[]),d.jsxs(d.Fragment,{children:[d.jsx(hs,{}),d.jsx("div",{className:"container page home",children:d.jsxs("main",{className:"contents",children:[d.jsx(OQ,{opts:{media:"movie"}}),d.jsx(AC,{opts:{media:"movie",list:"/trending/movie/week",cate:"0",title:"Weekly 영화 TOP 20"}}),d.jsx(ho,{opts:{media:"movie",list:"discover/movie",cate:"16",title:"영화/애니메이션"}}),d.jsx(ho,{opts:{media:"movie",list:"discover/movie",cate:"10402",title:"영화/음악"}}),d.jsx(ho,{opts:{media:"movie",list:"discover/movie",cate:"99",title:"영화/다큐멘터리"}}),d.jsx(AC,{opts:{media:"tv",list:"/trending/tv/week",cate:"0",title:"Weekly TV TOP 20"}}),d.jsx(ho,{opts:{media:"tv",list:"discover/tv",cate:"16",title:"TV/애니메이션"}}),d.jsx(ho,{opts:{media:"tv",list:"discover/tv",cate:"10764",title:"TV/Reality"}}),d.jsx(ho,{opts:{media:"tv",list:"discover/tv",cate:"80",title:"TV/범죄"}})]})})]})}function MC(){return T.useEffect(()=>()=>{},[]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"container page n404",children:d.jsx("main",{className:"contents",children:"404"})})})}function FP({opts:t}){const e=[];if(t.type=="movie-list")for(let n=0;n<=t.num;n++)e.push(d.jsx("li",{children:d.jsxs("div",{className:"box",children:[d.jsx("div",{className:"cont",children:d.jsx("div",{className:"pics"})}),d.jsx("div",{className:"tits"})]})},n));return t.type=="movie-detail"&&e.push(d.jsxs("div",{className:"m-info skelt",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[d.jsx("p",{className:"tit",children:" "}),d.jsx("p",{className:"sit",children:" "}),d.jsx("p",{className:"tio",children:" "}),d.jsx("div",{className:"star",children:" "}),d.jsx("div",{className:"cate",children:" "}),d.jsxs("ul",{className:"lst",children:[d.jsx("li",{className:"vot",children:" "}),d.jsx("li",{className:"opn",children:" "}),d.jsx("li",{className:"tim",children:" "})]})]}),d.jsx("div",{className:"thum",children:d.jsx("div",{className:"pics"})})]}),d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts"}),d.jsxs("div",{className:"lst",children:[d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]})]})]}),d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts"}),d.jsxs("div",{className:"lst",children:[d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]})]})]})]},"i")),e}function lY({data:t}){const e=`//image.tmdb.org/t/p/w200/${t.poster_path}`,n=t.title||t.name;return d.jsx(d.Fragment,{children:d.jsxs(ft,{className:"box",to:""+t.id,children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${e}`,alt:n,className:"img",onError:ui.error.poster})}),d.jsx("div",{className:"desc",children:d.jsx(Va,{point:t.vote_average})})]}),d.jsx("div",{className:"tits",children:n})]})})}function cY({menu:t,opts:e}){let n=hn();const[r,s]=T.useState(0),i=a=>{const l=document.querySelector(".cate-box>.inr"),c=l.offsetWidth*.5,u=document.querySelector(".cate-box ul>li .bt.active"),h=u==null?void 0:u.offsetLeft,f=(u==null?void 0:u.offsetWidth)*.5,p=h-c+f;l.scrollTo(p,0),s(a),console.log("slideActive == "+r+"  "+h)},o=n.cate;return T.useEffect(()=>(i(r),()=>{}),[o,r,t,e]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"cate-box "+o,children:d.jsx("div",{className:"inr",children:d.jsxs("ul",{className:"list",children:[d.jsx("li",{"data-index":"0",className:o==="0"?"active":null,children:d.jsx(jn,{type:"button",className:"bt",to:`/list/${e}/0`,children:"전체"})}),t.map((a,l)=>d.jsx("li",{"data-index":l+1,cate:a.id,className:a.id.toString()===o?"active":null,children:d.jsxs(jn,{type:"button",className:"bt",to:`/list/${e}/${a.id}`,children:[" ",a.name," "]})},a.id))]})})})})}function uY(){const t=hn(),e=wn(),n=dn(),r=t.menu,s=t.cate;s===void 0&&n(`/${r}/0`),console.log(t,e.pathname);const i=s!=="0"?`&with_genres=${s}`:"";console.log(i);const[o,a]=T.useState([]),[l,c]=T.useState([]);let u=1;const h=async()=>{await Zt.get(`https://api.themoviedb.org/3/genre/${r}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(A=>{c(A.data.genres)})},[f,p]=T.useState({pge:0,tot:0}),[m,g]=T.useState(""),[E,_]=T.useState(""),[v,y]=T.useState(""),S=async A=>{const k=`https://api.themoviedb.org/3/discover/${r}?${i}&page=${A}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;await Zt.get(k).then(G=>{console.log(G.data),console.log("로드 "+A),a(M=>[...M,...G.data.results]),console.log(`callStat : ${w} , page : ${A} , res.data.total_pages :  ${G.data.total_pages} `),w=!0,console.log(`callStat : ${w} , page : ${A} , res.data.total_pages :  ${G.data.total_pages} `),y(""),p({pge:G.data.page,tot:G.data.total_pages}),G.data.total_pages<=A?(w=!1,_("hide")):_(""),g("")}).catch(G=>{console.log(G),w=!0,y("error")})};console.log(o),T.useEffect(()=>(a([]),window.scrollTo(0,0),S(1),h(),document.querySelector(".header").classList.remove("trans"),window.addEventListener("scroll",N),()=>{window.removeEventListener("scroll",N)}),[s,r]);let w=!0;const N=()=>{const A=z.viewport.height(),k=z.viewport.docHeight(),G=z.viewport.scrollTop()+A+300;if(console.log(w+" =  "+u),k<=G&&w===!0){if(console.log("바닥도착"),g("active"),w=!1,console.log(w),z.lock.stat){w=!0;return}setTimeout(()=>{u=u+1,S(u)},400)}};return d.jsxs(d.Fragment,{children:[d.jsx(hs,{}),d.jsx("div",{className:"container page movie list",children:d.jsxs("main",{className:"contents",children:[d.jsx("div",{className:"poster-list",children:o.length?d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"list",children:o.map((A,k)=>d.jsx("li",{"data-id":A.id+"_"+k,children:d.jsx(lY,{data:A})},A.id+"_"+k))}),d.jsxs("div",{className:`ui-loadmore ${m} ${E}  ${v}`,children:[d.jsx("em",{children:d.jsx("i",{className:"fa-duotone fa-spinner"})}),d.jsx("button",{onClick:A=>{w=!0,S(u)},type:"button",className:"btn-load",children:d.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]}):d.jsx("ul",{className:"list skelt",children:d.jsx(FP,{opts:{type:"movie-list",num:20}})})}),d.jsx("div",{className:"page-set",children:f.tot>0&&d.jsx("div",{className:"inr",children:d.jsxs("div",{className:"pg",children:[f.pge," / ",f.tot]})})})]})}),d.jsx(cY,{menu:l,opts:r})]})}function dY({overview:t}){T.useEffect(()=>(e.set(),()=>{}),[]);const e={evt:n=>{const r=n.currentTarget,s=r.closest("[data-ui='elips']"),i=r.querySelector(".btn-tog");s.classList.contains("open")?(i.innerHTML='<span>더보기</span> <i class="fa-solid fa-caret-down"></i>',s.classList.remove("open")):(i.innerHTML='<i class="fa-solid fa-caret-up"></i> <span>숨기기</span>',s.classList.add("open"))},set:n=>{const r=document.querySelector("[data-ui='elips']"),s=r.querySelector(".txt"),i=s.offsetHeight,o=s.scrollHeight;console.log("scrollHeight == ",o,".txtHeight == ",i),i<o&&r.classList.add("elips")}};return d.jsx("div",{className:"vinf","data-ui":"elips",onClick:e.evt,onKeyUp:n=>n.key==="Enter"?e.evt(n):null,tabIndex:0,children:d.jsxs("div",{className:"txt",children:[t,d.jsxs("span",{className:"btn-tog",children:[d.jsx("span",{children:"더보기"})," ",d.jsx("i",{className:"fa-solid fa-caret-down"})]})]})})}function hY({postID:t,opts:e}){const[n,r]=T.useState(null),s=`https://api.themoviedb.org/3/${e}/${t}/reviews?api_key=f76021076e8162ea929bd2cea62c6646`,i=()=>{Zt.get(s).then(a=>{console.log("리뷰들",a.data),r(a.data)}).catch(a=>{console.log(a)})},o={evt:a=>{console.log(a.currentTarget);const c=a.currentTarget.closest("[data-ui='elips']");c.classList.contains("open")?c.classList.remove("open"):c.classList.add("open")},set:a=>{document.querySelectorAll(".ut-reply ul.rlist>li .rpset .ment").forEach(c=>{const u=c.offsetHeight,h=c.scrollHeight;u<h?c.closest("[data-ui='elips']").classList.add("elips"):c.closest("[data-ui='elips']").classList.remove("elips")})}};return T.useEffect(()=>(i(),()=>{}),[]),n?(o.set(),d.jsx(d.Fragment,{children:n.results.length?d.jsxs("div",{className:"sect revw",children:[d.jsx("h4",{className:"tts",children:"리뷰"}),d.jsx("div",{className:"ut-reply",children:d.jsx("div",{className:"rplist",children:d.jsx("ul",{className:"rlist a",children:n.results&&n.results.map((a,l)=>{const u="//image.tmdb.org/t/p/w45_and_h45_face/"+(a.author_details.avatar_path||"");return d.jsx("li",{children:d.jsxs("div",{className:"rpset",children:[d.jsx("div",{className:"user",children:d.jsx("span",{className:"pic",children:d.jsx("img",{src:u,alt:"사진",className:"img",onError:z.error.user})})}),d.jsxs("div",{className:"infs",children:[d.jsx("div",{className:"name",children:d.jsx("em",{className:"nm",children:a.author_details.name||a.author_details.username})}),d.jsx("div",{className:"desc",children:d.jsx("em",{className:"time",children:z.dateForm(new Date(a.created_at))})}),d.jsx("div",{"data-ui":"elips",className:"mbox",children:d.jsx("div",{className:"ment txt",onClick:o.evt,children:a.content})})]})]})},l)})})})})]}):null})):d.jsx("div",{children:"Loading..."})}function fY({datas:t,postID:e,opts:n}){const r=hn(),s=dn(),i=()=>{const f=`${location.origin+location.pathname}#/${r.menu}/${e}`;navigator.clipboard.writeText(f);const p=t.title||t.name;navigator.share?navigator.share({title:p,text:p+" 를 공유합니다.",url:f}).then(()=>{console.log("공유 성공")}).catch(m=>{console.error("공유 실패:",m)}):(z.alert(`<b>${p}</b><br> URL 주소를 복사했습니다 <br> <a class="under" href="${f}" target="_blank">${f}</a>`),console.log("Web Share API를 지원하지 않습니다."))};T.useState();const o=async f=>{const p=f.currentTarget,m=p.classList.contains("on");if(console.log(m),store.state.userInfo.stat==!0){z.loading.show("glx");const g=hi(gs,"member",store.state.userInfo.uid);let E=[];const _=l.tmdb_movie_scrap||[t];l.tmdb_tv_scrap,console.log(_,n),n=="movie"&&(u?(h(!1),E=[..._,t].filter(v=>v.id!=e)):(h(!0),E=[..._,t].filter((v,y,S)=>S.findIndex(w=>w.id===v.id)===y)),await Bb(g,{tmdb_movie_scrap:E}).then(()=>{console.log("Movie 스크랩: ",t,p),z.loading.hide()}).catch(v=>{console.error(v),z.loading.hide()}))}else z.confirm("로그인이 필요합니다.<br>로그인페이지로 이동하시겠습니까? ",{ycb:()=>{s("/user/signin")},ncb:()=>{}})},a=f=>{z.alert("준비 중 입니다.",{ycb:()=>{}})},[l,c]=T.useState({}),[u,h]=T.useState("");return T.useEffect(()=>(rP().then(f=>(console.log(f),c(f),f)).then(f=>{h(f.tmdb_movie_scrap.some(p=>(console.log(p.id,e),p.id==e)))}),()=>{}),[u]),d.jsx(d.Fragment,{children:d.jsxs("div",{className:"dins",children:[n=="movie"&&d.jsxs("button",{type:"button",onClick:o,className:`bt bt-scrap ${u?"on":"off"}`,children:[d.jsx("i",{className:"fa-regular fa-bookmark"}),d.jsx("em",{children:"스크랩"})]}),d.jsxs("button",{type:"button",onClick:a,className:"bt bt-reply",children:[d.jsx("i",{className:"fa-regular fa-pen-to-square"}),d.jsx("em",{children:"리뷰"})]}),d.jsxs("button",{type:"button",onClick:i,className:"bt bt-shar",children:[d.jsx("i",{className:"fa-regular fa-share-nodes"}),d.jsx("em",{children:"공유하기"})]})]})})}function pY({opts:t}){return d.jsxs(d.Fragment,{children:[t.type=="glx"&&d.jsx("span",{className:`ui-loading ui-load-glx full ${t.cls}`,children:d.jsx("span",{className:"gbx",children:d.jsxs("em",{className:"bx",children:[d.jsx("i",{})," ",d.jsx("i",{}),d.jsx("i",{})," ",d.jsx("i",{})]})})}),t.type=="dot"&&d.jsx("span",{className:`ui-loading ui-loading-dot ${t.cls}`,children:d.jsx("div",{class:"bx",children:d.jsx("em",{children:d.jsx("i",{})})})})]})}function UP({postID:t,popTitle:e}){const n=hn(),r=n.menu,[s,i]=T.useState(null),[o,a]=T.useState(null),[l,c]=T.useState(null),[u,h]=T.useState(""),f=`https://api.themoviedb.org/3/${r}/${t}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,p=()=>{Zt.get(f).then(y=>{console.log("영화정보",y.data),i(y.data);let S=y.data.backdrop_path?y.data.backdrop_path:y.data.poster_path;h("https://image.tmdb.org/t/p/w780"+S),e(y.data.title||y.data.name),document.querySelector('[property="og:description"]').content=y.data.title||y.data.name}).catch(y=>{console.log(y)})},m=`https://api.themoviedb.org/3/${r}/${t}/credits?&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,g=()=>{Zt.get(m).then(y=>{console.log("출연,제작",y.data),a(y.data)}).catch(y=>{console.log(y)})},E=`https://api.themoviedb.org/3/${r}/${t}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,_=()=>{Zt.get(E).then(y=>{console.log("영상",y.data),c(y.data)}).catch(y=>{console.log(y)})},v=()=>{z.scrollTo(".popup.movie .pct",0,200)};return T.useEffect(()=>(v(),p(),g(),_(),()=>{}),[n.id]),d.jsx(d.Fragment,{children:d.jsxs("div",{className:"movie-detail",children:[d.jsx("div",{className:"bgs",style:{backgroundImage:`url(${u}) `}}),!s&&!o&&!l&&d.jsx(FP,{opts:{type:"movie-detail"}}),s&&o&&l&&d.jsxs("div",{className:"m-info",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[s.title&&d.jsx("p",{className:"tit",children:s.title}),s.tagline&&d.jsx("p",{className:"sit",children:s.tagline}),s.original_title&&d.jsx("p",{className:"tio",children:s.original_title}),s.name&&d.jsx("p",{className:"tit",children:s.name}),s.original_name&&d.jsx("p",{className:"tio",children:s.original_name}),d.jsx("div",{className:"star",children:d.jsx(Va,{point:s.vote_average})}),d.jsx("div",{className:"cate",children:s.genres.map(y=>d.jsxs("em",{className:"ico",children:[" ",y.name]},y.id))}),d.jsxs("ul",{className:"lst",children:[d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-thumbs-up"})," ",d.jsx("b",{children:"평점"})," : ",s.vote_average," / 10"]}),s.release_date&&d.jsxs("li",{className:"opn",children:[d.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",d.jsx("b",{children:"개봉"})," : ",s.release_date]}),s.first_air_date&&d.jsxs("li",{className:"opn",children:[d.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",s.first_air_date," ~ ",s.last_air_date]}),s.runtime&&d.jsxs("li",{className:"tim",children:[d.jsx("i",{className:"fa-regular fa-timer"})," ",d.jsx("b",{children:"시간"})," : ",s.runtime," 분"]}),s.number_of_seasons&&d.jsxs("li",{className:"tim",children:[d.jsx("i",{className:"fa-regular fa-timer"})," ",d.jsx("b",{children:"시즌"})," : ",s.number_of_seasons,"개  - ",d.jsx("b",{children:"에피소드"})," : ",s.number_of_episodes,"개"]}),s.homepage&&d.jsxs("li",{className:"web",children:[d.jsx("i",{className:"fa-regular fa-globe"})," ",d.jsx("a",{className:"lk",href:s.homepage,target:"_blank",rel:"noopener noreferrer",children:s.homepage})]})]})]}),d.jsx("div",{className:"thum",children:d.jsx(ft,{to:"./poster/0",className:"pics",children:d.jsx("img",{src:"//image.tmdb.org/t/p/w300"+s.poster_path,alt:s.title||s.name,className:"img",onError:z.error.poster})})})]}),d.jsx(fY,{datas:s,postID:t,opts:r}),s.overview&&d.jsx(dY,{overview:s.overview}),o.cast.length?d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts",children:"출연진"}),d.jsx("div",{className:"lst",children:o.cast.filter((y,S)=>S<999).map(y=>d.jsxs(ft,{to:`./person/${y.id}`,className:"profile",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w92${y.profile_path}`,alt:y.name,className:"img",onError:z.error.user,loading:"lazy"})}),d.jsx("div",{className:"name",children:y.name}),d.jsx("div",{className:"carc",children:y.character})]},y.credit_id))})]}):null,l.results.length>0?d.jsxs("div",{className:"sect movs",children:[d.jsx("h4",{className:"tts",children:"영상"}),d.jsx("div",{className:"lst",children:l.results.filter((y,S)=>S<100).reverse().map((y,S)=>d.jsx("div",{className:"box",children:d.jsxs(ft,{to:`./videos/${S+1}`,className:"pic",children:[d.jsx("span",{className:"msg",children:d.jsx("span",{className:"tit",children:y.name})}),d.jsx("i",{className:"ico fa-solid fa-play"}),d.jsx("img",{className:"img",src:`//i.ytimg.com/vi/${y.key}/sddefault.jpg`,alt:y.name,loading:"lazy"})]})},y.id))})]}):null,o.crew.length?d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts",children:"제작진"}),d.jsx("div",{className:"lst",children:o.crew.filter((y,S)=>S<999).map(y=>d.jsxs(ft,{to:`./person/${y.id}`,className:"profile",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w92${y.profile_path}`,alt:y.name,className:"img",onError:z.error.user,loading:"lazy"})}),d.jsx("div",{className:"name",children:y.name}),d.jsx("div",{className:"carc",children:y.known_for_department})]},y.credit_id))})]}):null,s.images.posters.length?d.jsxs("div",{className:"sect post",children:[d.jsxs("h4",{className:"tts",children:["포스터 : ",s.images.posters.length+1]}),d.jsxs("div",{className:"lst",children:[d.jsx("div",{className:"box","data-index":0,children:d.jsx(ft,{to:"./poster/0",className:"pic",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w300${s.poster_path}`,alt:s.title,className:"img",onError:z.error.poster,loading:"lazy"})})}),s.images.posters.map((y,S)=>d.jsx("div",{className:"box","data-index":S+1,children:d.jsx(ft,{to:`./poster/${S+1}`,className:"pic",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w300${y.file_path}`,alt:y.name,className:"img",onError:z.error.poster,loading:"lazy"})})},S))]})]}):null,d.jsx(hY,{postID:t,opts:r}),s.production_companies.length?d.jsx(d.Fragment,{children:d.jsx("div",{className:"sect comp",children:s.production_companies.map(y=>y.logo_path?d.jsx("span",{className:"logo",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w92${y.logo_path}`,alt:y.name,className:"img"})},y.id):d.jsx("span",{className:"logo",children:y.name},y.id))})}):null]})]})})}function ld({prop:t}){let e=hn(),n=dn();t.page=t.page||"page";const r=e.id,[s,i]=T.useState(0),o=m=>i(parseInt(m.target.scrollTop)),a=()=>t.page==="list"||t.page==="search"||t.page==="home",l=()=>{z.scrollTo(".popup.movie .pct",0,200)};T.useEffect(()=>(z.loading.show("glx"),l(),u(),window.addEventListener("resize",u),c.current.classList.add("ani","on"),z.lock.using(!0),()=>{window.removeEventListener("resize",u),console.log("컴포넌트가 화면에서 사라짐"),z.lock.using(!1)}),[e.id]);const c=T.useRef(),u=()=>{const m=c.current,g=m.offsetHeight,E=m.querySelector(".phd").offsetHeight;console.log(g,E),m.querySelector(".pct").style.height=g-E+"px"},[h,f]=T.useState(""),p=m=>f(m);return h&&setTimeout(()=>z.loading.hide(),500),d.jsxs(d.Fragment,{children:[d.jsx(hs,{}),d.jsx("article",{ref:c,className:`pop-layer a bottom popup movie view ${a()?"":"page"} `,children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:`phd ${s>50?"trans":""}`,children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:h})})}),a()?d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{n(-1)},children:d.jsx("i",{className:"fa-regular fa-arrow-left"})}):d.jsx("button",{type:"button",className:"btn-pop-close home",onClick:()=>{n("/home/")},children:d.jsx("i",{className:"fa-solid fa-house"})}),d.jsx("div",{className:"pct",onScroll:o,children:d.jsx("main",{className:"poptents",children:d.jsx(UP,{postID:r,popTitle:p})})}),d.jsx("div",{className:`floatpop ${s>50?"on-top":""}`,children:d.jsxs("button",{type:"button",className:"bt top",onClick:l,children:[d.jsx("i",{className:"fa-solid fa-arrow-up"}),d.jsx("em",{children:"위로"})]})})]})})]})}function mY(){const e=hn().id;return T.useEffect(()=>(window.scrollTo(0,0),()=>{}),[]),d.jsxs(d.Fragment,{children:[d.jsx(hs,{}),d.jsx("div",{className:"container page detail",children:d.jsx("main",{className:"contents",children:d.jsx(UP,{postID:e})})})]})}function ol({prop:t}){let e=dn(),n=hn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var y,S;let g=document.querySelector(".popup.poster"),E=g.offsetHeight||0,_=((y=g.querySelector(".pbt"))==null?void 0:y.offsetHeight)||0,v=((S=g.querySelector(".phd"))==null?void 0:S.offsetHeight)||0;E=E-v||0,console.log(E),g.querySelector(".pct").style.maxHeight=E-_+"px"},[o,a]=T.useState(null),[l,c]=T.useState(""),[u,h]=T.useState(""),f=()=>o.images.posters.length>1,p=`https://api.themoviedb.org/3/${r}/${s}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,m=()=>{Zt.get(p).then(g=>{console.log("영화정보",g.data),a(g.data);let E=g.data.poster_path?g.data.poster_path:g.data.backdrop_path;c("//image.tmdb.org/t/p/w780"+E),h(g.data.title||g.data.name)}).catch(g=>{console.log(g)})};return T.useEffect(()=>(console.log(document.querySelector(".popup.poster .pct").offsetHeight),m(),i(),window.addEventListener("resize",i),document.querySelector(".popup.poster").classList.add("ani","on"),z.lock.using(!0),()=>{window.removeEventListener("resize",i),z.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer c bottom popup poster",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:u})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsx("main",{className:"poptents",children:d.jsx("div",{className:"poster-box",children:o&&o.images.posters?d.jsxs(wu,{className:"swiper-wrapper swiper slide",modules:[Rp,xp,Np,bp,AP,Ap],spaceBetween:20,slidesPerView:1,loop:f(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},autoHeight:!0,onSwiper:g=>{console.log("initialize swiper",g),g.slideToLoop(n.nums,0)},onSlideChange:()=>{},children:[d.jsx(Ws,{tag:"li",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsx("img",{src:l,className:"img",alt:`${u}_Poster[1]`,onError:z.error.poster,loading:"lazy"}),d.jsx("div",{className:"lazy-preloader",children:d.jsx("i",{className:"fa-duotone fa-spinner"})})]})})}),o.images.posters.map((g,E)=>{const _=`//image.tmdb.org/t/p/w780${g.file_path}`;return d.jsx(Ws,{tag:"li",className:"swiper-slide pbox",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsx("img",{src:`${_}`,alt:`${u}_Poster[${E+2}]`,className:"img",onError:z.error.poster,loading:"lazy"}),d.jsx("div",{className:"lazy-preloader",children:d.jsx("i",{className:"fa-duotone fa-spinner"})})]})})},E)})]}):null})})})]})})})}function al(){let t=hn(),e=dn();const n=t.opts;console.log(t);const r=t.nums,s=()=>{var w,N;let _=document.querySelector(".popup.person"),v=_.offsetHeight||0,y=((w=_.querySelector(".pbt"))==null?void 0:w.offsetHeight)||0,S=((N=_.querySelector(".phd"))==null?void 0:N.offsetHeight)||0;v=v-S||0,_.querySelector(".pct").style.maxHeight=v-z.getSafe.top()-z.getSafe.watch()-y-10+"px",console.log(v)},[i,o]=T.useState(null),[a,l]=T.useState(null),[c,u]=T.useState(null),h=`https://api.themoviedb.org/3/person/${r}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,f=()=>{Zt.get(h).then(_=>{console.log("인물 정보",_.data),o(_.data)}).catch(_=>{console.log(_)})},p=`https://api.themoviedb.org/3/person/${r}/movie_credits?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,m=()=>{Zt.get(p).then(_=>{console.log("인물 출연작",_.data),l(_.data)}).catch(_=>{console.log(_)})},g=`https://api.themoviedb.org/3/person/${r}/images?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,E=()=>{Zt.get(g).then(_=>{console.log("인물 사진",_.data),u(_.data)}).catch(_=>{console.log(_)})};return T.useEffect(()=>(console.log(document.querySelector(".popup.person .pct").offsetHeight),f(),m(),E(),s(),window.addEventListener("resize",s),document.querySelector(".popup.person").classList.add("ani","on"),z.lock.using(!0),()=>{window.removeEventListener("resize",s),z.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer c bottom popup person",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit"})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsxs("main",{className:"poptents",children:[!i&&!a&&!c&&d.jsx("div",{className:"m-info",children:d.jsx(pY,{opts:{type:"glx",cls:"abs"}})}),i&&a&&c&&d.jsxs("div",{className:"m-info",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[i.title&&d.jsx("p",{className:"tit",children:i.title}),i.original_title&&d.jsx("p",{className:"tio",children:i.original_title}),i.name&&d.jsx("p",{className:"tit",children:i.name}),i.known_for_department&&d.jsx("p",{className:"tio",children:i.known_for_department}),i.original_name&&d.jsx("p",{className:"tio",children:i.original_name}),d.jsxs("ul",{className:"lst",children:[i.birthday&&d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"}),"  ",i.birthday]}),i.place_of_birth&&d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-location-dot"}),"  ",i.place_of_birth]}),d.jsxs("li",{className:"vot",children:[" ",d.jsx("i",{className:"fa-regular fa-star"})," ",i.popularity," / 100 "]}),i.homepage&&d.jsxs("li",{className:"web",children:[d.jsx("i",{className:"fa-regular fa-globe"})," ",d.jsx("a",{className:"lk",href:i.homepage,target:"_blank",rel:"noopener noreferrer",children:i.homepage})]})]})]}),d.jsx("div",{className:"thum",children:d.jsx("div",{className:"pics",children:d.jsx("img",{src:`https://image.tmdb.org/t/p/w780${i.profile_path}`,alt:i.title,className:"img",onError:_=>{_.target.src="./img/common/user.png"}})})})]}),a.cast.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"출연작 "}),d.jsx("div",{className:"lst",children:a.cast.map((_,v)=>d.jsx("div",{className:"box","data-index":v+1,children:d.jsx(ft,{to:`/movie/${_.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.poster_path,alt:_.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null,a.crew.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"제작참여 "}),d.jsx("div",{className:"lst",children:a.crew.map((_,v)=>d.jsx("div",{className:"box","data-index":v+1,children:d.jsx(ft,{to:`/movie/${_.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.poster_path,alt:_.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null,c.profiles.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"사진 "}),d.jsx("div",{className:"lst",children:c.profiles.map((_,v)=>d.jsx("div",{className:"box","data-index":v+1,children:d.jsx("div",{to:`/list/${n}/0/${_.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.file_path,alt:_.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null]})]})})]})})})}function ll({prop:t}){let e=dn(),n=hn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var g,E;let h=document.querySelector(".popup.videos"),f=h.offsetHeight||0,p=((g=h.querySelector(".pbt"))==null?void 0:g.offsetHeight)||0,m=((E=h.querySelector(".phd"))==null?void 0:E.offsetHeight)||0;f=f-m||0,console.log(f),h.querySelector(".pct").style.maxHeight=f-p+"px"},[o,a]=T.useState(null),l=()=>o.results.length>1,c=`https://api.themoviedb.org/3/${r}/${s}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,u=()=>{Zt.get(c).then(h=>{console.log("영상",h.data),a(h.data)}).catch(h=>{console.log(h)})};return T.useEffect(()=>(console.log(document.querySelector(".popup.videos .pct").offsetHeight),u(),i(),window.addEventListener("resize",i),document.querySelector(".popup.videos").classList.add("ani","on"),z.lock.using(!0),()=>{window.removeEventListener("resize",i),z.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer b bottom popup videos",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:(o==null?void 0:o.title)||(o==null?void 0:o.name)})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsx("main",{className:"poptents",children:d.jsx("div",{className:"videos-box",children:o&&o.results.length?d.jsx(wu,{className:"swiper-wrapper swiper slide",modules:[Rp,xp,Np,bp,AP,Ap],spaceBetween:20,slidesPerView:1,navigation:!0,loop:l(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},observeParents:!0,observeSlideChildren:!0,observer:!0,wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},onSwiper:h=>{console.log("initialize swiper",h),h.slideTo(n.nums,0)},onSlideChange:()=>{},children:o.results.filter((h,f)=>f<100).reverse().map((h,f)=>d.jsx(Ws,{tag:"li",className:"swiper-slide pbox",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsxs("span",{className:"ui-load-glx full",children:[" ",d.jsxs("span",{className:"gbx",children:[" ",d.jsxs("em",{className:"bx",children:[" ",d.jsx("i",{})," ",d.jsx("i",{})," ",d.jsx("i",{})," ",d.jsx("i",{})," "]})," "]})," "]}),d.jsx("iframe",{className:"iframe",title:h.name,src:"//www.youtube.com/embed/"+h.key,allow:"autoplay; encrypted-media",allowFullScreen:!0,loading:"lazy"})]})})},f))}):null})})})]})})})}function gY({data:t,cate:e}){const n="//image.tmdb.org/t/p/w200",r=n+t.poster_path,s=t.backdrop_path?n+t.backdrop_path:n+t.poster_path,i=t.title||t.name;return d.jsx(d.Fragment,{children:d.jsxs(ft,{className:"box",to:`${t.id}`,children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${r}`,alt:i,onError:ui.error.poster,className:"img"})}),d.jsxs("div",{className:"desc",children:[d.jsx("div",{className:"tits",children:i}),d.jsx("div",{className:"text",children:t.overview})]})]}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"dd",children:d.jsx("div",{className:"cate",children:d.jsx("span",{className:"txt",children:t.genre_ids.map(o=>d.jsxs("em",{className:"ico",children:[" ",e[o]," "]},o))})})}),d.jsxs("div",{className:"dd",children:[d.jsxs("div",{className:"hits",children:[d.jsx(Va,{point:t.vote_average}),d.jsxs("em",{children:[d.jsx("i",{className:"fa-regular fa-heart"})," ",d.jsx("b",{children:t.vote_average})]})]}),d.jsxs("div",{className:"date",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," ",d.jsx("b",{children:t.release_date||t.first_air_date})]})]})]}),d.jsx("div",{className:"bgs",style:{backgroundImage:`url(${s})`}})]})})}function VC(){var V;const[t]=wM(),n=hn().menu,[r,s]=T.useState(t.get("search")),[i,o]=T.useState([]);let a=1;const[l,c]=T.useState({}),u=async()=>{await Zt.get(`https://api.themoviedb.org/3/genre/${n}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(O=>{const W={};O.data.genres.forEach(ae=>W[ae.id]=ae.name),c(W)}).catch(O=>{console.log(O),c(null)})},[h,f]=T.useState({pge:0,tot:0}),[p,m]=T.useState(""),[g,E]=T.useState(""),[_,v]=T.useState(""),y=T.useRef(),S=(O,W)=>{console.log("검색어 "+r),console.log("로드 "+O),y.current.value=r,W=r||"";const ae=`https://api.themoviedb.org/3/search/${n}?language=ko&region=kr&page=${O}&query=${W}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(ae).then(I=>{console.log(I.data),o(j=>[...j,...I.data.results]),console.log(O+"=== "+I.data.total_pages),w=!0,console.log(w),z.loading.hide(),f({pge:I.data.page,tot:I.data.total_pages}),I.data.total_pages<=O?(w=!1,E("hide")):E(""),m("")}).catch(I=>{console.log(I),z.loading.hide(),v("error")})};T.useEffect(()=>(u(),z.loading.show("glx"),S(a),document.querySelector(".header").classList.add("hide"),o([]),!r&&!document.querySelector(".pop-layer")&&y.current.focus(),window.addEventListener("scroll",N),window.scrollTo(0,0),se(),()=>{document.querySelector(".header").classList.remove("hide"),window.removeEventListener("scroll",N)}),[r,n]);let w=!0;const N=()=>{const O=z.viewport.height(),W=z.viewport.docHeight(),ae=z.viewport.scrollTop()+O+10;if(console.log(w+" =  "+a),W<=ae&&w===!0){if(console.log("바닥도착"),m("active"),w=!1,z.lock.stat){w=!0;return}setTimeout(()=>{a=a+1,S(a)},400)}},A=O=>{var W,ae,I;s((W=y.current)==null?void 0:W.value),window.history.replaceState(null,null,`#/search/${n}?search=${(ae=y.current)==null?void 0:ae.value}`),o([]),S(1),O.preventDefault(),H((I=y.current)==null?void 0:I.value)},k=O=>{y.current.value=O,s(O),window.history.replaceState(null,null,`#/search/${n}?search=${O}`),new URL(window.location).searchParams.set("search",O)},G=O=>{s(O.target.value),o([]);const W=new URL(window.location);W.searchParams.set("search",O.target.value),console.log(W),window.history.replaceState(null,null,`#/search/${n}?search=${O.target.value}`)},M=T.useRef(),P=T.useRef(),[x,b]=T.useState([]),H=O=>{const W=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]');O.trim()!==""&&W.unshift(O);const ae=[...new Set(W)].slice(0,10);localStorage.setItem("keyword",JSON.stringify(ae)),b(ae)},se=()=>{const O=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]');b(O)},Ee=O=>{const W=x.filter(ae=>ae!==O);localStorage.setItem("keyword",JSON.stringify(W)),b(W),setTimeout(()=>y.current.focus())},we=()=>{y.current.value="",y.current.focus(),s(""),window.history.replaceState(null,null,`#/search/${n}?search=`)};return console.log((V=y.current)==null?void 0:V.value),d.jsxs(d.Fragment,{children:[d.jsx(hs,{}),d.jsx("div",{className:"container page movie search",children:d.jsxs("main",{className:"contents",children:[d.jsx("div",{className:"schs-form",ref:P,children:d.jsx("div",{className:"inr",children:d.jsxs("form",{className:"form",onSubmit:A,children:[d.jsxs("div",{className:"bts",children:[d.jsx(jn,{className:"bt",to:`/search/movie?search=${r}`,children:"Movie"}),d.jsx(jn,{className:"bt",to:`/search/tv?search=${r}`,children:"TV"})]}),d.jsxs("span",{className:"input",children:[d.jsx("input",{type:"text",placeholder:"검색어를 입력하세요.",ref:y,required:!0,maxLength:12,onChange:G,onInvalid:O=>O.preventDefault()}),d.jsx("button",{type:"button",className:"bt-del",title:"삭제",onClick:we,children:d.jsx("i",{className:"fa-regular fa-xmark"})})]}),d.jsx("button",{type:"submit",className:"bt-sch",title:"검색",children:d.jsx("i",{className:"fa-regular fa-search"})})]})})}),x.length>0&&d.jsx("div",{className:"recent-kwds",ref:M,children:d.jsx("ul",{className:"lst",children:x.map(O=>d.jsxs("li",{children:[d.jsx("button",{className:"kwd",type:"button",onClick:()=>k(O),children:O}),d.jsx("button",{className:"del",type:"button",onClick:()=>Ee(O),children:d.jsx("i",{className:"fa-regular fa-xmark"})})]},O))})}),d.jsx("div",{className:"movie-list",tabIndex:"-1",children:i.length<=0?d.jsxs("div",{className:"nodata",children:[d.jsx("i",{className:"fa-solid fa-file-magnifying-glass"}),r?d.jsxs("p",{children:[" ‟",r,"” 검색 결과가 없습니다."]}):d.jsx("p",{children:" 검색어를 입력하세요."})]}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"list",children:i.map((O,W)=>d.jsx("li",{"data-id":O.id+"_"+W,children:d.jsx(gY,{data:O,cate:l})},O.id+"_"+W))}),i.length>0&&d.jsxs("div",{className:`ui-loadmore ${p} ${g}  ${_}`,children:[d.jsx("em",{children:d.jsx("i",{className:"fa-duotone fa-spinner"})}),d.jsx("button",{onClick:O=>{w=!0,S(a,O)},type:"button",className:"btn-load",title:"불러오기",children:d.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]})}),d.jsx("div",{className:"page-set",children:i.length>0&&d.jsx("div",{className:"inr",children:d.jsxs("div",{className:"pg",children:[h.pge," / ",h.tot]})})})]})})]})}function _Y(){let t=hn();console.log(t),wn();let e=dn();t.menu;const n={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/missing-email":"정확한 이메일을 입력하세요","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},r=T.useRef(),s=T.useRef(),i=T.useRef(),o=async()=>{const m=r.current.value,g=s.current.value,E=ss();z.loading.show(),console.log(m,g,E),await sw(E,m,g).then(_=>{const v=_.user;console.log(v.email),z.loading.hide(),z.alert(""+v.email+"<br> 로그인 성공!",{ycb:()=>{e("/")}})}).catch(_=>{console.log(_.code,_);const v=n[_.code];z.loading.hide(),z.alert(v,{tit:"로그인 실패"})}),i.current.checked==!1&&Xj(E,vy).then(()=>sw(E,m,g)).catch(_=>{const v=_.code,y=_.message;console.log(v,"====",y)})},a=ss(),l=()=>{const m=new fr;ml(a,m)},c=()=>{const m=new Fr;ml(a,m)},u=()=>{const m=new $r;ml(a,m)},h=()=>{const m=new Ur;ml(a,m)},f=()=>{const m=i.current.checked;if(console.log(m),m){const g=`
        자동로그인을 사용하시면<br> 
        다음부터 회원아이디와 비밀번호를<br>
        입력하실 필요가 없습니다.<br><br>
        공공장소에서는 개인정보가 유출될 수 있으니 사용을 자제하여 주십시오.<br><br>
        자동로그인을 사용하시겠습니까?
      `;z.confirm(g,{tit:"로그인 설정",ycb:()=>{i.current.checked=!0},ncb:()=>{i.current.checked=!1},ybt:"예",nbt:"아니오"})}},p=async(m,g)=>{await WE(hi(gs,"member",m.uid),{id:m.uid,email:m.email||m.providerData.email,nick:m.displayName,avatar:null,photoURL:m.photoURL,liked:[],date:new Date}).then(()=>{e("/"),console.log("멤버 생성: ")}).catch(E=>{console.error("멤버 생성 Error : ",E)})};return T.useEffect(()=>(window.scrollTo(0,0),nx(a).then(m=>{m.user&&(console.log("Google 로그인 성공:",m.user),p(m.user))}).catch(m=>{console.log("Google 로그인 실패:"),console.log(m)}),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(hs,{}),d.jsx("div",{className:"container page user sign in",children:d.jsx("main",{className:"contents",children:d.jsxs("div",{className:"sign-form",children:[d.jsxs("div",{className:"sns form",children:[d.jsx("div",{className:"tit",children:d.jsx("em",{className:"t",children:"SNS 로그인"})}),d.jsxs("div",{className:"bts",children:[d.jsxs("button",{type:"button",className:"btn",onClick:l,children:[d.jsx("i",{className:"fa-brands fa-google"}),d.jsx("em",{children:"Google "})]}),d.jsxs("button",{type:"button",className:"btn",onClick:c,children:[d.jsx("i",{className:"fa-brands fa-github"}),d.jsx("em",{children:"Github "})]}),d.jsxs("button",{type:"button",className:"btn",onClick:u,children:[d.jsx("i",{className:"fa-brands fa-facebook"}),d.jsx("em",{children:"Facebook "})]}),d.jsxs("button",{type:"button",className:"btn",onClick:h,children:[d.jsx("i",{className:"fa-brands fa-twitter"}),d.jsx("em",{children:"Twitter "})]})]})]}),d.jsxs("div",{className:"eml form",children:[d.jsx("div",{className:"tit",children:d.jsx("em",{className:"t",children:"Email 계정 로그인"})}),d.jsxs("ul",{className:"list",children:[d.jsx("li",{children:d.jsx("div",{className:"dd",children:d.jsx("span",{className:"input",children:d.jsx("input",{type:"email",ref:r,placeholder:"이메일 (user@test.com)"})})})}),d.jsx("li",{children:d.jsx("div",{className:"dd",children:d.jsx("span",{className:"input",children:d.jsx("input",{type:"password",ref:s,placeholder:"비밀번호 (123456)"})})})})]}),d.jsxs("div",{className:"savelogin",children:[d.jsxs(ft,{className:"bt",to:"/user/signup",children:["회원가입하러 가기 ",d.jsx("i",{className:"fa-regular fa-chevron-right"})]}),d.jsxs("label",{className:"checkbox",children:[d.jsx("input",{type:"checkbox",ref:i,onChange:f}),d.jsx("span",{className:"txt",children:"자동 로그인"})]})]}),d.jsx("div",{className:"btsbox btn-set",children:d.jsxs("button",{type:"button",className:"btn",onClick:o,children:[d.jsx("i",{className:"fa-regular fa-right-to-bracket"}),d.jsx("em",{children:"로그인"})]})})]})]})})})]})}function vY(){let t=hn();console.log(t),wn();let e=dn();t.menu;const n=ss(),r=new fr,s=async(i,o)=>{await WE(hi(gs,"member",i.uid),{id:i.uid,email:i.email,nick:i.displayName,avatar:0,liked:[],date:new Date}).then(()=>{z.loading.show(),console.log("멤버 생성: "),e(o)}).catch(a=>{console.error("멤버 생성 Error : ",a)})};return T.useEffect(()=>(ml(n,r),nx(n).then(i=>{i.user&&(console.log("Google 로그인 성공:",i.user),s(i.user,"/"),e(-1))}).catch(i=>{console.error("Google 로그인 실패:",i)}),()=>{})),d.jsx(d.Fragment,{children:d.jsx("div",{className:"container page user sign in",children:d.jsx("main",{className:"contents",children:"ssssssssssssss"})})})}function yY(){let t=dn();T.useRef(),T.useRef(),T.useRef();const e=async()=>{const n=ss();e$(n).then(()=>{t("/")}).catch(r=>{console.log(r)})};return T.useEffect(()=>(window.scrollTo(0,0),e(),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(hs,{}),d.jsx("div",{className:"container page user sign out",children:d.jsx("main",{className:"contents"})})]})}function EY(){let t=hn();wn();let e=dn();t.menu;const[n,r,s,i]=[T.useRef(),T.useRef(),T.useRef(),T.useRef()],o={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},[a,l]=T.useState({isMail:!1,isPwds:!1,isNick:!1});console.log(a);const c=h=>{const f={mail:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,pass:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,15}$/,nick:/^[a-zA-Z0-9가-힣]{1,15}$/};switch(h.name){case"email":l(p=>({...p,isMail:f.mail.test(h.value)}));break;case"password":l(p=>({...p,isPwds:f.pass.test(h.value)}));break;case"nickname":l(p=>({...p,isNick:f.nick.test(h.value)}));break}},u={joinReq:async()=>{console.log(document.querySelector('[name="avatar"]:checked').value),console.log(n.current.value),console.log(r.current.value),console.log(s.current.value),z.loading.show();const h=n.current.value,f=r.current.value,p=ss();Qj(p,h,f).then(m=>{const g=m.user;console.log(g),console.log("uid : "+g.uid),console.log("액세스토큰: "+g.accessToken);const E="/";u.addMember(g,E)}).catch(m=>{z.loading.hide(),console.log(m.code);const g=o[m.code];z.alert(g)}),await Yj(user).then(()=>{z.alert(`[${h}] 으로 인증 이메일이 전송되었습니다. `)}).catch(m=>{})},addMember:async(h,f)=>{await WE(hi(gs,"member",h.uid),{id:h.uid,email:h.email,nick:s.current.value,avatar:document.querySelector('[name="avatar"]:checked').value,liked:[],date:new Date}).then(()=>{z.loading.show(),console.log("멤버 생성: "),z.alert("가입되었습니다.",{ycb:()=>{e(f)}})}).catch(p=>{console.error("멤버 생성 Error : ",p)})}};return console.log(a.isMail,a.isPwds,a.isNick,a.isMail&&a.isPwds&&a.isNick),T.useEffect(()=>(window.scrollTo(0,0),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(hs,{}),d.jsx("div",{className:"container page user sign up",children:d.jsx("main",{className:"contents",children:d.jsxs("div",{className:"sign-form",children:[d.jsx("div",{className:"hdt",children:"회원가입"}),d.jsx("div",{className:"join form",children:d.jsxs("ul",{className:"list",children:[d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"아바타"}),d.jsx("div",{className:"dd",children:d.jsx("div",{className:"ut-avata",children:Ue.state.avatar.map((h,f)=>d.jsxs("label",{children:[d.jsx("input",{type:"radio",name:"avatar",ref:i,value:f,defaultChecked:f==0}),d.jsx("span",{className:"txt",children:d.jsx("img",{className:"img",src:h,alt:""})})]},f))})})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"이메일"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:n,name:"email",type:"email",placeholder:"예) test@naver.com",onInput:h=>c(h.currentTarget),"data-webkit-autofill":!0})}),a.isMail?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"이메일 형식에 맞게 입력해주세요."})]})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"비밀번호"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:r,name:"password",type:"password",placeholder:"예) abc123",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isPwds?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"문자,숫자 포함 6자리 이상 입력해주세요."})]})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"닉네임"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:s,name:"nickname",type:"text",placeholder:"입력하세요",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isNick?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"특수문자 제외하고 입력해주세요."})]})]})]})}),d.jsx("div",{className:"btsbox btn-set",children:d.jsxs("button",{type:"button",className:"btn",disabled:!(a.isMail&&a.isPwds&&a.isNick),onClick:u.joinReq,children:[d.jsx("i",{className:"fa-regular fa-right-to-bracket"}),d.jsx("em",{children:"회원가입"})]})}),d.jsxs("div",{className:"link",children:["이미 회원이신가요? ",d.jsxs(ft,{className:"bt",to:"/user/signin",children:["로그인 하러가기 ",d.jsx("i",{className:"fa-regular fa-chevron-right"})]})]})]})})})]})}function SY(){function t(){const[e,n]=Dl(t8),[r,s]=Dl(n8),i=o=>{n(o.target.value)};return d.jsxs("div",{children:[d.jsx("input",{type:"text",value:e,onChange:i}),d.jsx("br",{}),"Echo: ",e,d.jsx("br",{})," ",r.a,d.jsx("br",{})," ",r.b]})}return Dl(f0),T.useEffect(()=>()=>{}),d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"내 글"}),d.jsx("p",{children:"댓글"})," ",d.jsx(t,{}),d.jsx("p",{children:Ue.state.userInfo.stat==!0?d.jsxs(ft,{to:"/user/signout",className:"btn logout",children:[d.jsx("i",{className:"fa-regular fa-right-from-bracket"}),"Logout"]}):null})]})}function wY({uInfo:t}){if(!t.tmdb_movie_scrap)return!1;const[e,n]=T.useState(t.tmdb_movie_scrap),r=async(s,i)=>{z.loading.show("glx"),console.log(s,i);const o=t.tmdb_movie_scrap||[i];t.tmdb_tv_scrap,t.tmdb_movie_scrap=[...o,i].filter(l=>l.id!=i.id),await n(t.tmdb_movie_scrap),console.log(t.tmdb_movie_scrap),console.log(e);const a=hi(gs,"member",t.id);await Bb(a,{tmdb_movie_scrap:e}).then(()=>{console.log("Movie 스크랩: ",t.tmdb_movie_scrap),console.log("Movie 스크랩: ",e),z.loading.hide()}).catch(l=>{console.error(l),z.loading.hide()})};return T.useEffect(()=>(console.log(t),()=>{}),[]),console.log(t.tmdb_movie_scrap),console.log(e),t.tmdb_movie_scrap?d.jsx(d.Fragment,{children:d.jsx("div",{className:"movie-list user",children:t.tmdb_movie_scrap.length>0?d.jsx("ul",{className:"list",children:t.tmdb_movie_scrap.map((s,i)=>{const a="//image.tmdb.org/t/p/w92"+s.poster_path,l=s.title||s.name;return d.jsx("li",{"data-id":s.id+"_"+i,children:d.jsxs("div",{className:"box",children:[d.jsxs(ft,{className:"cont",to:`movie/${s.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${a}`,alt:l,onError:z.error.poster,className:"img"})}),d.jsxs("div",{className:"desc",children:[d.jsx("div",{className:"tits",children:s.title}),d.jsx("div",{className:"text",children:s.overview})]}),d.jsxs("div",{className:"dd",children:[d.jsxs("div",{className:"hits",children:[d.jsx(Va,{point:s.vote_average}),d.jsxs("em",{children:[d.jsx("i",{className:"fa-regular fa-heart"}),d.jsx("b",{children:s.vote_average})]})]}),d.jsxs("div",{className:"date",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," ",d.jsx("b",{children:s.release_date||s.first_air_date})]})]})]}),d.jsx("div",{className:"bts",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>r("movie",s),children:d.jsx("span",{children:d.jsx("i",{className:"fa-regular fa-close"})})})})]})},s.id+"_"+i)}).reverse()}):d.jsx("div",{className:"nodata",children:d.jsx("p",{children:" 스크랩된 컨텐츠가 없습니다."})})})}):!1}function TY(){const[t,e]=Dl(f0);return T.useEffect(()=>()=>{}),d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"팔로우"}),d.jsx("p",{children:"팔로워"}),d.jsx("p",{children:t.state.avatar.map(n=>d.jsx("span",{style:{width:"33%",display:"inline-flex"},children:d.jsx("img",{style:{width:"100%",display:"inline-flex"},src:n})},n))})]})}function CY(){const t=hn();console.log(t),wn(),dn();const e=t.id,[n,r]=T.useState({});Dl(f0);const s=async u=>{var p;z.loading.show("glx");const h=hi(gs,"member",u),f=await HE(h);f.exists()?r({id:f.id,uid:f.data().uid,nick:f.data().nick,avatar:f.data().avatar,photoURL:f.data().photoURL,email:f.data().email,date:z.dateForm(f.data().date.toDate()),liked:f.data().liked.length,tmdb_movie_scrap:f.data().tmdb_movie_scrap||[],tmdb_tv_scrap:f.data().tmdb_tv_scrap||{}}):console.log("No such document!"),(p=document.querySelector(".page.user"))==null||p.classList.add("load"),document.querySelector(".header .htit").innerText=n.nick||"",z.loading.hide()},[i,o]=T.useState(null),[a,l]=T.useState(null),c=u=>{console.log(u),i.slideToLoop(u)};if(T.useEffect(()=>(s(e),()=>{}),[n.nick,e]),!!n)return d.jsxs(d.Fragment,{children:[d.jsx(hs,{}),d.jsx("div",{className:"container page user view",children:d.jsxs("main",{className:"contents",children:[Ue!=null&&Ue.state?d.jsxs("div",{className:"profile",children:[d.jsxs("div",{className:"user",children:[d.jsx("span",{className:"pic",children:d.jsx("img",{src:Ue.state.avatar[n.avatar]||n.photoURL,className:"img"})}),d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"num b",children:[d.jsx("b",{className:"n",children:n.bbsNum||0}),d.jsx("p",{className:"t",children:"Post"})]}),d.jsxs("div",{className:"num p",children:[d.jsx("b",{className:"n",children:n.photoNum||0}),d.jsx("p",{className:"t",children:"Reply"})]}),d.jsxs("div",{className:"num l",children:[d.jsx("b",{className:"n",children:n.liked||0}),d.jsx("p",{className:"t",children:"Liked"})]})]})]}),d.jsxs("div",{className:"desc",children:[d.jsxs("span",{className:"txt",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," Join : ",n.date]}),n.email&&d.jsxs("span",{className:"txt",children:[d.jsx("i",{className:"fa-regular fa-envelope"})," ",n.email]})]})]}):null,d.jsxs("div",{className:"user-post",children:[d.jsxs("ul",{className:"menu",children:[d.jsx("li",{className:a==0?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(0),children:d.jsx("span",{children:d.jsx("i",{className:"fa-regular fa-bookmark"})})})}),d.jsx("li",{className:a==1?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(1),children:d.jsx("span",{children:d.jsx("i",{className:"fa-regular fa-list"})})})}),d.jsx("li",{className:a==2?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(2),children:d.jsx("span",{children:d.jsx("i",{className:"fa-solid fa-users"})})})})]}),d.jsxs(wu,{className:"swiper-wrapper swiper pctn ",modules:[Rp,xp,Np,bp,Ap],spaceBetween:0,slidesPerView:1,loop:!0,autoplay:!1,wrapperTag:"div",initialSlide:0,autoHeight:!0,onSwiper:u=>{console.log("initialize swiper",u),o(u),l(0)},onSlideChange:u=>{console.log("slide change",u.realIndex,u.activeIndex),l(u.realIndex)},children:[d.jsx(Ws,{tag:"section",className:"ctn like",children:d.jsx(wY,{uInfo:n})}),d.jsx(Ws,{tag:"section",className:"ctn post",children:d.jsx(SY,{})}),d.jsx(Ws,{tag:"section",className:"ctn repl",children:d.jsx(TY,{})})]})]})]})})]})}function IY(){return Ue.authState(),T.useEffect(()=>{const t=ss();return _f(t,e=>{e&&JSON.parse(sessionStorage.getItem("user"))}),()=>{}},[]),d.jsx(d.Fragment,{children:d.jsx(e9,{children:d.jsxs(vM,{children:[d.jsxs(am,{children:[d.jsx(ie,{path:"home/*",element:d.jsx(co,{prop:{headerType:"main"}})}),d.jsx(ie,{path:":menu/*",element:d.jsx(co,{prop:{headerType:"main"}})}),d.jsx(ie,{path:"list/*",element:d.jsx(co,{prop:{headerType:"main"}})}),d.jsx(ie,{path:"search/*",element:d.jsx(co,{prop:{headerType:"main"}})}),d.jsx(ie,{path:"movie/*",element:d.jsx(co,{prop:{headerType:"main"}})}),d.jsx(ie,{path:"user",children:d.jsx(ie,{path:":id",element:d.jsx(co,{prop:{headerType:"sub"}})})})]}),d.jsxs(am,{children:[d.jsx(ie,{path:"/",element:d.jsx(dM,{to:"/home/"})}),d.jsx(ie,{path:"home",element:d.jsx(DC,{})}),d.jsx(ie,{path:"home/:menu",element:d.jsx(DC,{}),children:d.jsxs(ie,{path:":id",element:d.jsx(ld,{prop:{page:"home"}}),children:[d.jsx(ie,{path:"poster/:nums",element:d.jsx(ol,{})}),d.jsx(ie,{path:"person/:nums",element:d.jsx(al,{})}),d.jsx(ie,{path:"videos/:nums",element:d.jsx(ll,{})})]})}),d.jsx(ie,{path:"list",children:d.jsx(ie,{path:":menu",children:d.jsx(ie,{path:":cate",element:d.jsx(uY,{}),children:d.jsxs(ie,{path:":id",element:d.jsx(ld,{prop:{page:"search"}}),children:[d.jsx(ie,{path:"poster/:nums",element:d.jsx(ol,{})}),d.jsx(ie,{path:"person/:nums",element:d.jsx(al,{})}),d.jsx(ie,{path:"videos/:nums",element:d.jsx(ll,{})})]})})})}),d.jsxs(ie,{path:":menu",children:[d.jsx(ie,{path:"*",element:d.jsx(MC,{})}),d.jsxs(ie,{path:":id",element:d.jsx(mY,{prop:{page:"page"}}),children:[d.jsx(ie,{path:"poster/:nums",element:d.jsx(ol,{})}),d.jsx(ie,{path:"person/:nums",element:d.jsx(al,{})}),d.jsx(ie,{path:"videos/:nums",element:d.jsx(ll,{})})]})]}),d.jsx(ie,{path:"search",children:d.jsxs(ie,{path:":menu",element:d.jsx(VC,{}),children:[d.jsxs(ie,{path:":id",element:d.jsx(ld,{prop:{page:"search"}}),children:[d.jsx(ie,{path:"poster/:nums",element:d.jsx(ol,{prop:{page:"search"}})}),d.jsx(ie,{path:"person/:nums",element:d.jsx(al,{prop:{page:"search"}})}),d.jsx(ie,{path:"videos/:nums",element:d.jsx(ll,{prop:{page:"search"}})})]}),d.jsx(ie,{path:":keyword",element:d.jsx(VC,{})})]})}),d.jsxs(ie,{path:"user",children:[d.jsx(ie,{path:"*",element:d.jsx(MC,{})}),d.jsx(ie,{path:"signin",element:d.jsx(_Y,{})}),d.jsx(ie,{path:"signout",element:d.jsx(yY,{})}),d.jsx(ie,{path:"signup",element:d.jsx(EY,{})}),d.jsx(ie,{path:":id",element:d.jsx(CY,{}),children:d.jsx(ie,{path:":menu",children:d.jsxs(ie,{path:":id",element:d.jsx(ld,{prop:{page:"search"}}),children:[d.jsx(ie,{path:"poster/:nums",element:d.jsx(ol,{})}),d.jsx(ie,{path:"person/:nums",element:d.jsx(al,{})}),d.jsx(ie,{path:"videos/:nums",element:d.jsx(ll,{})})]})})})]}),d.jsx(ie,{path:"snslogin",element:d.jsx(vY,{})})]}),d.jsxs(am,{children:[d.jsx(ie,{path:"home/*",element:d.jsx(uo,{})}),d.jsx(ie,{path:":menu/*",element:d.jsx(uo,{})}),d.jsx(ie,{path:"list/*",element:d.jsx(uo,{})}),d.jsx(ie,{path:"search/*",element:d.jsx(uo,{})}),d.jsx(ie,{path:"movie/*",element:d.jsx(uo,{})}),d.jsx(ie,{path:"user",children:d.jsx(ie,{path:":id",element:d.jsx(uo,{})})})]})]})})})}eg.createRoot(document.getElementById("root")).render(d.jsx(pe.StrictMode,{children:d.jsx(IY,{})}));

function WP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function PC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var LC={exports:{}},Wh={},OC={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kc=Symbol.for("react.element"),qP=Symbol.for("react.portal"),GP=Symbol.for("react.fragment"),KP=Symbol.for("react.strict_mode"),QP=Symbol.for("react.profiler"),YP=Symbol.for("react.provider"),XP=Symbol.for("react.context"),JP=Symbol.for("react.forward_ref"),ZP=Symbol.for("react.suspense"),eL=Symbol.for("react.memo"),tL=Symbol.for("react.lazy"),v0=Symbol.iterator;function nL(t){return t===null||typeof t!="object"?null:(t=v0&&t[v0]||t["@@iterator"],typeof t=="function"?t:null)}var DC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},MC=Object.assign,VC={};function va(t,e,n){this.props=t,this.context=e,this.refs=VC,this.updater=n||DC}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function jC(){}jC.prototype=va.prototype;function nv(t,e,n){this.props=t,this.context=e,this.refs=VC,this.updater=n||DC}var rv=nv.prototype=new jC;rv.constructor=nv;MC(rv,va.prototype);rv.isPureReactComponent=!0;var y0=Array.isArray,$C=Object.prototype.hasOwnProperty,sv={current:null},FC={key:!0,ref:!0,__self:!0,__source:!0};function UC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)$C.call(e,r)&&!FC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:kc,type:t,key:i,ref:o,props:s,_owner:sv.current}}function rL(t,e){return{$$typeof:kc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iv(t){return typeof t=="object"&&t!==null&&t.$$typeof===kc}function sL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var E0=/\/+/g;function kp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sL(""+t.key):e.toString(36)}function od(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case kc:case qP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+kp(o,0):r,y0(s)?(n="",t!=null&&(n=t.replace(E0,"$&/")+"/"),od(s,e,n,"",function(c){return c})):s!=null&&(iv(s)&&(s=rL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(E0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",y0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+kp(i,a);o+=od(i,e,n,l,s)}else if(l=nL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+kp(i,a++),o+=od(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eu(t,e,n){if(t==null)return t;var r=[],s=0;return od(t,r,"","",function(i){return e.call(n,i,s++)}),r}function iL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},ad={transition:null},oL={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:ad,ReactCurrentOwner:sv};Re.Children={map:Eu,forEach:function(t,e,n){Eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eu(t,function(){e++}),e},toArray:function(t){return Eu(t,function(e){return e})||[]},only:function(t){if(!iv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=va;Re.Fragment=GP;Re.Profiler=QP;Re.PureComponent=nv;Re.StrictMode=KP;Re.Suspense=ZP;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oL;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=MC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=sv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$C.call(e,l)&&!FC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:kc,type:t.type,key:s,ref:i,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:XP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:YP,_context:t},t.Consumer=t};Re.createElement=UC;Re.createFactory=function(t){var e=UC.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:JP,render:t}};Re.isValidElement=iv;Re.lazy=function(t){return{$$typeof:tL,_payload:{_status:-1,_result:t},_init:iL}};Re.memo=function(t,e){return{$$typeof:eL,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=ad.transition;ad.transition={};try{t()}finally{ad.transition=e}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(t,e){return ln.current.useCallback(t,e)};Re.useContext=function(t){return ln.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};Re.useEffect=function(t,e){return ln.current.useEffect(t,e)};Re.useId=function(){return ln.current.useId()};Re.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return ln.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};Re.useRef=function(t){return ln.current.useRef(t)};Re.useState=function(t){return ln.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return ln.current.useTransition()};Re.version="18.2.0";OC.exports=Re;var C=OC.exports;const pe=PC(C),S0=WP({__proto__:null,default:pe},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aL=C,lL=Symbol.for("react.element"),cL=Symbol.for("react.fragment"),uL=Object.prototype.hasOwnProperty,dL=aL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hL={key:!0,ref:!0,__self:!0,__source:!0};function BC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)uL.call(e,r)&&!hL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:lL,type:t,key:i,ref:o,props:s,_owner:dL.current}}Wh.Fragment=cL;Wh.jsx=BC;Wh.jsxs=BC;LC.exports=Wh;var d=LC.exports,Jm={},zC={exports:{}},bn={},HC={exports:{}},WC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,G){var $=j.length;j.push(G);e:for(;0<$;){var ee=$-1>>>1,R=j[ee];if(0<s(R,G))j[ee]=G,j[$]=R,$=ee;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var G=j[0],$=j.pop();if($!==G){j[0]=$;e:for(var ee=0,R=j.length,L=R>>>1;ee<L;){var V=2*(ee+1)-1,se=j[V],J=V+1,_e=j[J];if(0>s(se,$))J<R&&0>s(_e,se)?(j[ee]=_e,j[J]=$,ee=J):(j[ee]=se,j[V]=$,ee=V);else if(J<R&&0>s(_e,$))j[ee]=_e,j[J]=$,ee=J;else break e}}return G}function s(j,G){var $=j.sortIndex-G.sortIndex;return $!==0?$:j.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var G=n(c);G!==null;){if(G.callback===null)r(c);else if(G.startTime<=j)r(c),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(c)}}function S(j){if(g=!1,y(j),!m)if(n(l)!==null)m=!0,Ee(T);else{var G=n(c);G!==null&&we(S,G.startTime-j)}}function T(j,G){m=!1,g&&(g=!1,_(P),P=-1),p=!0;var $=f;try{for(y(G),h=n(l);h!==null&&(!(h.expirationTime>G)||j&&!k());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,f=h.priorityLevel;var R=ee(h.expirationTime<=G);G=t.unstable_now(),typeof R=="function"?h.callback=R:h===n(l)&&r(l),y(G)}else r(l);h=n(l)}if(h!==null)var L=!0;else{var V=n(c);V!==null&&we(S,V.startTime-G),L=!1}return L}finally{h=null,f=$,p=!1}}var w=!1,x=null,P=-1,W=5,O=-1;function k(){return!(t.unstable_now()-O<W)}function A(){if(x!==null){var j=t.unstable_now();O=j;var G=!0;try{G=x(!0,j)}finally{G?b():(w=!1,x=null)}}else w=!1}var b;if(typeof v=="function")b=function(){v(A)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ie=z.port2;z.port1.onmessage=A,b=function(){ie.postMessage(null)}}else b=function(){E(A,0)};function Ee(j){x=j,w||(w=!0,b())}function we(j,G){P=E(function(){j(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Ee(T))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var $=f;f=G;try{return j()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,G){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=f;f=j;try{return G()}finally{f=$}},t.unstable_scheduleCallback=function(j,G,$){var ee=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?ee+$:ee):$=ee,j){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=$+R,j={id:u++,callback:G,priorityLevel:j,startTime:$,expirationTime:R,sortIndex:-1},$>ee?(j.sortIndex=$,e(c,j),n(l)===null&&j===n(c)&&(g?(_(P),P=-1):g=!0,we(S,$-ee))):(j.sortIndex=R,e(l,j),m||p||(m=!0,Ee(T))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var G=f;return function(){var $=f;f=G;try{return j.apply(this,arguments)}finally{f=$}}}})(WC);HC.exports=WC;var fL=HC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qC=C,Nn=fL;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var GC=new Set,Bl={};function Wi(t,e){Go(t,e),Go(t+"Capture",e)}function Go(t,e){for(Bl[t]=e,t=0;t<e.length;t++)GC.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zm=Object.prototype.hasOwnProperty,pL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w0={},T0={};function mL(t){return Zm.call(T0,t)?!0:Zm.call(w0,t)?!1:pL.test(t)?T0[t]=!0:(w0[t]=!0,!1)}function gL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function _L(t,e,n,r){if(e===null||typeof e>"u"||gL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ov=/[\-:]([a-z])/g;function av(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ov,av);jt[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ov,av);jt[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ov,av);jt[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function lv(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(_L(e,n,s,r)&&(n=null),r||s===null?mL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var us=qC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),po=Symbol.for("react.portal"),mo=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),eg=Symbol.for("react.profiler"),KC=Symbol.for("react.provider"),QC=Symbol.for("react.context"),uv=Symbol.for("react.forward_ref"),tg=Symbol.for("react.suspense"),ng=Symbol.for("react.suspense_list"),dv=Symbol.for("react.memo"),vs=Symbol.for("react.lazy"),YC=Symbol.for("react.offscreen"),C0=Symbol.iterator;function Ua(t){return t===null||typeof t!="object"?null:(t=C0&&t[C0]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Pp;function al(t){if(Pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pp=e&&e[1]||""}return`
`+Pp+t}var Lp=!1;function Op(t,e){if(!t||Lp)return"";Lp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Lp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?al(t):""}function vL(t){switch(t.tag){case 5:return al(t.type);case 16:return al("Lazy");case 13:return al("Suspense");case 19:return al("SuspenseList");case 0:case 2:case 15:return t=Op(t.type,!1),t;case 11:return t=Op(t.type.render,!1),t;case 1:return t=Op(t.type,!0),t;default:return""}}function rg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case mo:return"Fragment";case po:return"Portal";case eg:return"Profiler";case cv:return"StrictMode";case tg:return"Suspense";case ng:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case QC:return(t.displayName||"Context")+".Consumer";case KC:return(t._context.displayName||"Context")+".Provider";case uv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dv:return e=t.displayName||null,e!==null?e:rg(t.type)||"Memo";case vs:e=t._payload,t=t._init;try{return rg(t(e))}catch{}}return null}function yL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rg(e);case 8:return e===cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function EL(t){var e=XC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wu(t){t._valueTracker||(t._valueTracker=EL(t))}function JC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=XC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sg(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function I0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function ZC(t,e){e=e.checked,e!=null&&lv(t,"checked",e,!1)}function ig(t,e){ZC(t,e);var n=Hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?og(t,e.type,n):e.hasOwnProperty("defaultValue")&&og(t,e.type,Hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function R0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function og(t,e,n){(e!=="number"||kd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ll=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ag(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function x0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ll(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hs(n)}}function eI(t,e){var n=Hs(e.value),r=Hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function N0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function tI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?tI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tu,nI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tu=Tu||document.createElement("div"),Tu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function zl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var El={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SL=["Webkit","ms","Moz","O"];Object.keys(El).forEach(function(t){SL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),El[e]=El[t]})});function rI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||El.hasOwnProperty(t)&&El[t]?(""+e).trim():e+"px"}function sI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=rI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var wL=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function cg(t,e){if(e){if(wL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function ug(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dg=null;function hv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hg=null,ko=null,Po=null;function A0(t){if(t=Oc(t)){if(typeof hg!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Yh(e),hg(t.stateNode,t.type,e))}}function iI(t){ko?Po?Po.push(t):Po=[t]:ko=t}function oI(){if(ko){var t=ko,e=Po;if(Po=ko=null,A0(t),e)for(t=0;t<e.length;t++)A0(e[t])}}function aI(t,e){return t(e)}function lI(){}var Dp=!1;function cI(t,e,n){if(Dp)return t(e,n);Dp=!0;try{return aI(t,e,n)}finally{Dp=!1,(ko!==null||Po!==null)&&(lI(),oI())}}function Hl(t,e){var n=t.stateNode;if(n===null)return null;var r=Yh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var fg=!1;if(Jr)try{var Ba={};Object.defineProperty(Ba,"passive",{get:function(){fg=!0}}),window.addEventListener("test",Ba,Ba),window.removeEventListener("test",Ba,Ba)}catch{fg=!1}function TL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var Sl=!1,Pd=null,Ld=!1,pg=null,CL={onError:function(t){Sl=!0,Pd=t}};function IL(t,e,n,r,s,i,o,a,l){Sl=!1,Pd=null,TL.apply(CL,arguments)}function RL(t,e,n,r,s,i,o,a,l){if(IL.apply(this,arguments),Sl){if(Sl){var c=Pd;Sl=!1,Pd=null}else throw Error(U(198));Ld||(Ld=!0,pg=c)}}function qi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function b0(t){if(qi(t)!==t)throw Error(U(188))}function xL(t){var e=t.alternate;if(!e){if(e=qi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return b0(s),t;if(i===r)return b0(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function dI(t){return t=xL(t),t!==null?hI(t):null}function hI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hI(t);if(e!==null)return e;t=t.sibling}return null}var fI=Nn.unstable_scheduleCallback,k0=Nn.unstable_cancelCallback,NL=Nn.unstable_shouldYield,AL=Nn.unstable_requestPaint,lt=Nn.unstable_now,bL=Nn.unstable_getCurrentPriorityLevel,fv=Nn.unstable_ImmediatePriority,pI=Nn.unstable_UserBlockingPriority,Od=Nn.unstable_NormalPriority,kL=Nn.unstable_LowPriority,mI=Nn.unstable_IdlePriority,qh=null,yr=null;function PL(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(qh,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:DL,LL=Math.log,OL=Math.LN2;function DL(t){return t>>>=0,t===0?32:31-(LL(t)/OL|0)|0}var Cu=64,Iu=4194304;function cl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=cl(a):(i&=o,i!==0&&(r=cl(i)))}else o=n&~s,o!==0?r=cl(o):i!==0&&(r=cl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),s=1<<n,r|=t[n],e&=~s;return r}function ML(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function VL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-sr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=ML(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function mg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gI(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function Mp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function jL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-sr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function pv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function _I(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vI,mv,yI,EI,SI,gg=!1,Ru=[],As=null,bs=null,ks=null,Wl=new Map,ql=new Map,Ss=[],$L="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function P0(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":Wl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function za(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Oc(e),e!==null&&mv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function FL(t,e,n,r,s){switch(e){case"focusin":return As=za(As,t,e,n,r,s),!0;case"dragenter":return bs=za(bs,t,e,n,r,s),!0;case"mouseover":return ks=za(ks,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Wl.set(i,za(Wl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,ql.set(i,za(ql.get(i)||null,t,e,n,r,s)),!0}return!1}function wI(t){var e=pi(t.target);if(e!==null){var n=qi(e);if(n!==null){if(e=n.tag,e===13){if(e=uI(n),e!==null){t.blockedOn=e,SI(t.priority,function(){yI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ld(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=_g(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dg=r,n.target.dispatchEvent(r),dg=null}else return e=Oc(n),e!==null&&mv(e),t.blockedOn=n,!1;e.shift()}return!0}function L0(t,e,n){ld(t)&&n.delete(e)}function UL(){gg=!1,As!==null&&ld(As)&&(As=null),bs!==null&&ld(bs)&&(bs=null),ks!==null&&ld(ks)&&(ks=null),Wl.forEach(L0),ql.forEach(L0)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,gg||(gg=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,UL)))}function Gl(t){function e(s){return Ha(s,t)}if(0<Ru.length){Ha(Ru[0],t);for(var n=1;n<Ru.length;n++){var r=Ru[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Ha(As,t),bs!==null&&Ha(bs,t),ks!==null&&Ha(ks,t),Wl.forEach(e),ql.forEach(e),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)wI(n),n.blockedOn===null&&Ss.shift()}var Lo=us.ReactCurrentBatchConfig,Md=!0;function BL(t,e,n,r){var s=Me,i=Lo.transition;Lo.transition=null;try{Me=1,gv(t,e,n,r)}finally{Me=s,Lo.transition=i}}function zL(t,e,n,r){var s=Me,i=Lo.transition;Lo.transition=null;try{Me=4,gv(t,e,n,r)}finally{Me=s,Lo.transition=i}}function gv(t,e,n,r){if(Md){var s=_g(t,e,n,r);if(s===null)qp(t,e,r,Vd,n),P0(t,r);else if(FL(s,t,e,n,r))r.stopPropagation();else if(P0(t,r),e&4&&-1<$L.indexOf(t)){for(;s!==null;){var i=Oc(s);if(i!==null&&vI(i),i=_g(t,e,n,r),i===null&&qp(t,e,r,Vd,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else qp(t,e,r,null,n)}}var Vd=null;function _g(t,e,n,r){if(Vd=null,t=hv(r),t=pi(t),t!==null)if(e=qi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vd=t,null}function TI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bL()){case fv:return 1;case pI:return 4;case Od:case kL:return 16;case mI:return 536870912;default:return 16}default:return 16}}var Ts=null,_v=null,cd=null;function CI(){if(cd)return cd;var t,e=_v,n=e.length,r,s="value"in Ts?Ts.value:Ts.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return cd=s.slice(t,1<r?1-r:void 0)}function ud(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xu(){return!0}function O0(){return!1}function kn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xu:O0,this.isPropagationStopped=O0,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),e}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vv=kn(ya),Lc=it({},ya,{view:0,detail:0}),HL=kn(Lc),Vp,jp,Wa,Gh=it({},Lc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(Vp=t.screenX-Wa.screenX,jp=t.screenY-Wa.screenY):jp=Vp=0,Wa=t),Vp)},movementY:function(t){return"movementY"in t?t.movementY:jp}}),D0=kn(Gh),WL=it({},Gh,{dataTransfer:0}),qL=kn(WL),GL=it({},Lc,{relatedTarget:0}),$p=kn(GL),KL=it({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),QL=kn(KL),YL=it({},ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),XL=kn(YL),JL=it({},ya,{data:0}),M0=kn(JL),ZL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=tO[t])?!!e[t]:!1}function yv(){return nO}var rO=it({},Lc,{key:function(t){if(t.key){var e=ZL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ud(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?eO[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yv,charCode:function(t){return t.type==="keypress"?ud(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ud(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sO=kn(rO),iO=it({},Gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V0=kn(iO),oO=it({},Lc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yv}),aO=kn(oO),lO=it({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),cO=kn(lO),uO=it({},Gh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),dO=kn(uO),hO=[9,13,27,32],Ev=Jr&&"CompositionEvent"in window,wl=null;Jr&&"documentMode"in document&&(wl=document.documentMode);var fO=Jr&&"TextEvent"in window&&!wl,II=Jr&&(!Ev||wl&&8<wl&&11>=wl),j0=String.fromCharCode(32),$0=!1;function RI(t,e){switch(t){case"keyup":return hO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var go=!1;function pO(t,e){switch(t){case"compositionend":return xI(e);case"keypress":return e.which!==32?null:($0=!0,j0);case"textInput":return t=e.data,t===j0&&$0?null:t;default:return null}}function mO(t,e){if(go)return t==="compositionend"||!Ev&&RI(t,e)?(t=CI(),cd=_v=Ts=null,go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return II&&e.locale!=="ko"?null:e.data;default:return null}}var gO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function F0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!gO[t.type]:e==="textarea"}function NI(t,e,n,r){iI(r),e=jd(e,"onChange"),0<e.length&&(n=new vv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Tl=null,Kl=null;function _O(t){$I(t,0)}function Kh(t){var e=yo(t);if(JC(e))return t}function vO(t,e){if(t==="change")return e}var AI=!1;if(Jr){var Fp;if(Jr){var Up="oninput"in document;if(!Up){var U0=document.createElement("div");U0.setAttribute("oninput","return;"),Up=typeof U0.oninput=="function"}Fp=Up}else Fp=!1;AI=Fp&&(!document.documentMode||9<document.documentMode)}function B0(){Tl&&(Tl.detachEvent("onpropertychange",bI),Kl=Tl=null)}function bI(t){if(t.propertyName==="value"&&Kh(Kl)){var e=[];NI(e,Kl,t,hv(t)),cI(_O,e)}}function yO(t,e,n){t==="focusin"?(B0(),Tl=e,Kl=n,Tl.attachEvent("onpropertychange",bI)):t==="focusout"&&B0()}function EO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Kh(Kl)}function SO(t,e){if(t==="click")return Kh(e)}function wO(t,e){if(t==="input"||t==="change")return Kh(e)}function TO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:TO;function Ql(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zm.call(e,s)||!ar(t[s],e[s]))return!1}return!0}function z0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function H0(t,e){var n=z0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=z0(n)}}function kI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?kI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function PI(){for(var t=window,e=kd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kd(t.document)}return e}function Sv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function CO(t){var e=PI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&kI(n.ownerDocument.documentElement,n)){if(r!==null&&Sv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=H0(n,i);var o=H0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var IO=Jr&&"documentMode"in document&&11>=document.documentMode,_o=null,vg=null,Cl=null,yg=!1;function W0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yg||_o==null||_o!==kd(r)||(r=_o,"selectionStart"in r&&Sv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cl&&Ql(Cl,r)||(Cl=r,r=jd(vg,"onSelect"),0<r.length&&(e=new vv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_o)))}function Nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},Bp={},LI={};Jr&&(LI=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function Qh(t){if(Bp[t])return Bp[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in LI)return Bp[t]=e[n];return t}var OI=Qh("animationend"),DI=Qh("animationiteration"),MI=Qh("animationstart"),VI=Qh("transitionend"),jI=new Map,q0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(t,e){jI.set(t,e),Wi(e,[t])}for(var zp=0;zp<q0.length;zp++){var Hp=q0[zp],RO=Hp.toLowerCase(),xO=Hp[0].toUpperCase()+Hp.slice(1);Xs(RO,"on"+xO)}Xs(OI,"onAnimationEnd");Xs(DI,"onAnimationIteration");Xs(MI,"onAnimationStart");Xs("dblclick","onDoubleClick");Xs("focusin","onFocus");Xs("focusout","onBlur");Xs(VI,"onTransitionEnd");Go("onMouseEnter",["mouseout","mouseover"]);Go("onMouseLeave",["mouseout","mouseover"]);Go("onPointerEnter",["pointerout","pointerover"]);Go("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ul));function G0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,RL(r,e,void 0,t),t.currentTarget=null}function $I(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;G0(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;G0(s,a,c),i=l}}}if(Ld)throw t=pg,Ld=!1,pg=null,t}function Be(t,e){var n=e[Cg];n===void 0&&(n=e[Cg]=new Set);var r=t+"__bubble";n.has(r)||(FI(e,t,2,!1),n.add(r))}function Wp(t,e,n){var r=0;e&&(r|=4),FI(n,t,r,e)}var Au="_reactListening"+Math.random().toString(36).slice(2);function Yl(t){if(!t[Au]){t[Au]=!0,GC.forEach(function(n){n!=="selectionchange"&&(NO.has(n)||Wp(n,!1,t),Wp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Au]||(e[Au]=!0,Wp("selectionchange",!1,e))}}function FI(t,e,n,r){switch(TI(e)){case 1:var s=BL;break;case 4:s=zL;break;default:s=gv}n=s.bind(null,e,n,t),s=void 0,!fg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function qp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=pi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}cI(function(){var c=i,u=hv(n),h=[];e:{var f=jI.get(t);if(f!==void 0){var p=vv,m=t;switch(t){case"keypress":if(ud(n)===0)break e;case"keydown":case"keyup":p=sO;break;case"focusin":m="focus",p=$p;break;case"focusout":m="blur",p=$p;break;case"beforeblur":case"afterblur":p=$p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=D0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=qL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=aO;break;case OI:case DI:case MI:p=QL;break;case VI:p=cO;break;case"scroll":p=HL;break;case"wheel":p=dO;break;case"copy":case"cut":case"paste":p=XL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=V0}var g=(e&4)!==0,E=!g&&t==="scroll",_=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,y;v!==null;){y=v;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,_!==null&&(S=Hl(v,_),S!=null&&g.push(Xl(v,S,y)))),E)break;v=v.return}0<g.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==dg&&(m=n.relatedTarget||n.fromElement)&&(pi(m)||m[Zr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?pi(m):null,m!==null&&(E=qi(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=D0,S="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=V0,S="onPointerLeave",_="onPointerEnter",v="pointer"),E=p==null?f:yo(p),y=m==null?f:yo(m),f=new g(S,v+"leave",p,n,u),f.target=E,f.relatedTarget=y,S=null,pi(u)===c&&(g=new g(_,v+"enter",m,n,u),g.target=y,g.relatedTarget=E,S=g),E=S,p&&m)t:{for(g=p,_=m,v=0,y=g;y;y=so(y))v++;for(y=0,S=_;S;S=so(S))y++;for(;0<v-y;)g=so(g),v--;for(;0<y-v;)_=so(_),y--;for(;v--;){if(g===_||_!==null&&g===_.alternate)break t;g=so(g),_=so(_)}g=null}else g=null;p!==null&&K0(h,f,p,g,!1),m!==null&&E!==null&&K0(h,E,m,g,!0)}}e:{if(f=c?yo(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var T=vO;else if(F0(f))if(AI)T=wO;else{T=EO;var w=yO}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=SO);if(T&&(T=T(t,c))){NI(h,T,n,u);break e}w&&w(t,f,c),t==="focusout"&&(w=f._wrapperState)&&w.controlled&&f.type==="number"&&og(f,"number",f.value)}switch(w=c?yo(c):window,t){case"focusin":(F0(w)||w.contentEditable==="true")&&(_o=w,vg=c,Cl=null);break;case"focusout":Cl=vg=_o=null;break;case"mousedown":yg=!0;break;case"contextmenu":case"mouseup":case"dragend":yg=!1,W0(h,n,u);break;case"selectionchange":if(IO)break;case"keydown":case"keyup":W0(h,n,u)}var x;if(Ev)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else go?RI(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(II&&n.locale!=="ko"&&(go||P!=="onCompositionStart"?P==="onCompositionEnd"&&go&&(x=CI()):(Ts=u,_v="value"in Ts?Ts.value:Ts.textContent,go=!0)),w=jd(c,P),0<w.length&&(P=new M0(P,t,null,n,u),h.push({event:P,listeners:w}),x?P.data=x:(x=xI(n),x!==null&&(P.data=x)))),(x=fO?pO(t,n):mO(t,n))&&(c=jd(c,"onBeforeInput"),0<c.length&&(u=new M0("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=x))}$I(h,e)})}function Xl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function jd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hl(t,n),i!=null&&r.unshift(Xl(t,i,s)),i=Hl(t,e),i!=null&&r.push(Xl(t,i,s))),t=t.return}return r}function so(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function K0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Hl(n,i),l!=null&&o.unshift(Xl(n,l,a))):s||(l=Hl(n,i),l!=null&&o.push(Xl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var AO=/\r\n?/g,bO=/\u0000|\uFFFD/g;function Q0(t){return(typeof t=="string"?t:""+t).replace(AO,`
`).replace(bO,"")}function bu(t,e,n){if(e=Q0(e),Q0(t)!==e&&n)throw Error(U(425))}function $d(){}var Eg=null,Sg=null;function wg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Tg=typeof setTimeout=="function"?setTimeout:void 0,kO=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,PO=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(t){return Y0.resolve(null).then(t).catch(LO)}:Tg;function LO(t){setTimeout(function(){throw t})}function Gp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gl(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function X0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ea=Math.random().toString(36).slice(2),hr="__reactFiber$"+Ea,Jl="__reactProps$"+Ea,Zr="__reactContainer$"+Ea,Cg="__reactEvents$"+Ea,OO="__reactListeners$"+Ea,DO="__reactHandles$"+Ea;function pi(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=X0(t);t!==null;){if(n=t[hr])return n;t=X0(t)}return e}t=n,n=t.parentNode}return null}function Oc(t){return t=t[hr]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Yh(t){return t[Jl]||null}var Ig=[],Eo=-1;function Js(t){return{current:t}}function Ke(t){0>Eo||(t.current=Ig[Eo],Ig[Eo]=null,Eo--)}function Ue(t,e){Eo++,Ig[Eo]=t.current,t.current=e}var Ws={},en=Js(Ws),pn=Js(!1),Ri=Ws;function Ko(t,e){var n=t.type.contextTypes;if(!n)return Ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mn(t){return t=t.childContextTypes,t!=null}function Fd(){Ke(pn),Ke(en)}function J0(t,e,n){if(en.current!==Ws)throw Error(U(168));Ue(en,e),Ue(pn,n)}function UI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,yL(t)||"Unknown",s));return it({},n,r)}function Ud(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ws,Ri=en.current,Ue(en,t),Ue(pn,pn.current),!0}function Z0(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=UI(t,e,Ri),r.__reactInternalMemoizedMergedChildContext=t,Ke(pn),Ke(en),Ue(en,t)):Ke(pn),Ue(pn,n)}var Mr=null,Xh=!1,Kp=!1;function BI(t){Mr===null?Mr=[t]:Mr.push(t)}function MO(t){Xh=!0,BI(t)}function Zs(){if(!Kp&&Mr!==null){Kp=!0;var t=0,e=Me;try{var n=Mr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,Xh=!1}catch(s){throw Mr!==null&&(Mr=Mr.slice(t+1)),fI(fv,Zs),s}finally{Me=e,Kp=!1}}return null}var So=[],wo=0,Bd=null,zd=0,On=[],Dn=0,xi=null,Ur=1,Br="";function li(t,e){So[wo++]=zd,So[wo++]=Bd,Bd=t,zd=e}function zI(t,e,n){On[Dn++]=Ur,On[Dn++]=Br,On[Dn++]=xi,xi=t;var r=Ur;t=Br;var s=32-sr(r)-1;r&=~(1<<s),n+=1;var i=32-sr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ur=1<<32-sr(e)+s|n<<s|r,Br=i+t}else Ur=1<<i|n<<s|r,Br=t}function wv(t){t.return!==null&&(li(t,1),zI(t,1,0))}function Tv(t){for(;t===Bd;)Bd=So[--wo],So[wo]=null,zd=So[--wo],So[wo]=null;for(;t===xi;)xi=On[--Dn],On[Dn]=null,Br=On[--Dn],On[Dn]=null,Ur=On[--Dn],On[Dn]=null}var Rn=null,In=null,tt=!1,Zn=null;function HI(t,e){var n=$n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function eS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,In=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=xi!==null?{id:Ur,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=$n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rn=t,In=null,!0):!1;default:return!1}}function Rg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function xg(t){if(tt){var e=In;if(e){var n=e;if(!eS(t,e)){if(Rg(t))throw Error(U(418));e=Ps(n.nextSibling);var r=Rn;e&&eS(t,e)?HI(r,n):(t.flags=t.flags&-4097|2,tt=!1,Rn=t)}}else{if(Rg(t))throw Error(U(418));t.flags=t.flags&-4097|2,tt=!1,Rn=t}}}function tS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function ku(t){if(t!==Rn)return!1;if(!tt)return tS(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wg(t.type,t.memoizedProps)),e&&(e=In)){if(Rg(t))throw WI(),Error(U(418));for(;e;)HI(t,e),e=Ps(e.nextSibling)}if(tS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=Ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=Rn?Ps(t.stateNode.nextSibling):null;return!0}function WI(){for(var t=In;t;)t=Ps(t.nextSibling)}function Qo(){In=Rn=null,tt=!1}function Cv(t){Zn===null?Zn=[t]:Zn.push(t)}var VO=us.ReactCurrentBatchConfig;function Xn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Hd=Js(null),Wd=null,To=null,Iv=null;function Rv(){Iv=To=Wd=null}function xv(t){var e=Hd.current;Ke(Hd),t._currentValue=e}function Ng(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Oo(t,e){Wd=t,Iv=To=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(Iv!==t)if(t={context:t,memoizedValue:e,next:null},To===null){if(Wd===null)throw Error(U(308));To=t,Wd.dependencies={lanes:0,firstContext:t}}else To=To.next=t;return e}var mi=null;function Nv(t){mi===null?mi=[t]:mi.push(t)}function qI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Nv(e)):(n.next=s.next,s.next=n),e.interleaved=n,es(t,r)}function es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ys=!1;function Av(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,es(t,n)}return s=r.interleaved,s===null?(e.next=e,Nv(r)):(e.next=s.next,s.next=e),r.interleaved=e,es(t,n)}function dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pv(t,n)}}function nS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function qd(t,e,n,r){var s=t.updateQueue;ys=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=it({},h,f);break e;case 2:ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ai|=o,t.lanes=o,t.memoizedState=h}}function rS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var KI=new qC.Component().refs;function Ag(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Jh={isMounted:function(t){return(t=t._reactInternals)?qi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ds(t),i=Gr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(ir(e,t,s,r),dd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ds(t),i=Gr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(ir(e,t,s,r),dd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Ds(t),s=Gr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ls(t,s,r),e!==null&&(ir(e,t,r,n),dd(e,t,r))}};function sS(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ql(n,r)||!Ql(s,i):!0}function QI(t,e,n){var r=!1,s=Ws,i=e.contextType;return typeof i=="object"&&i!==null?i=Hn(i):(s=mn(e)?Ri:en.current,r=e.contextTypes,i=(r=r!=null)?Ko(t,s):Ws),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Jh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function iS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Jh.enqueueReplaceState(e,e.state,null)}function bg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=KI,Av(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Hn(i):(i=mn(e)?Ri:en.current,s.context=Ko(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ag(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Jh.enqueueReplaceState(s,s.state,null),qd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function qa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===KI&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Pu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function oS(t){var e=t._init;return e(t._payload)}function YI(t){function e(_,v){if(t){var y=_.deletions;y===null?(_.deletions=[v],_.flags|=16):y.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=Ms(_,v),_.index=0,_.sibling=null,_}function i(_,v,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<v?(_.flags|=2,v):y):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,y,S){return v===null||v.tag!==6?(v=tm(y,_.mode,S),v.return=_,v):(v=s(v,y),v.return=_,v)}function l(_,v,y,S){var T=y.type;return T===mo?u(_,v,y.props.children,S,y.key):v!==null&&(v.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===vs&&oS(T)===v.type)?(S=s(v,y.props),S.ref=qa(_,v,y),S.return=_,S):(S=_d(y.type,y.key,y.props,null,_.mode,S),S.ref=qa(_,v,y),S.return=_,S)}function c(_,v,y,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=nm(y,_.mode,S),v.return=_,v):(v=s(v,y.children||[]),v.return=_,v)}function u(_,v,y,S,T){return v===null||v.tag!==7?(v=wi(y,_.mode,S,T),v.return=_,v):(v=s(v,y),v.return=_,v)}function h(_,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=tm(""+v,_.mode,y),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Su:return y=_d(v.type,v.key,v.props,null,_.mode,y),y.ref=qa(_,null,v),y.return=_,y;case po:return v=nm(v,_.mode,y),v.return=_,v;case vs:var S=v._init;return h(_,S(v._payload),y)}if(ll(v)||Ua(v))return v=wi(v,_.mode,y,null),v.return=_,v;Pu(_,v)}return null}function f(_,v,y,S){var T=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return T!==null?null:a(_,v,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Su:return y.key===T?l(_,v,y,S):null;case po:return y.key===T?c(_,v,y,S):null;case vs:return T=y._init,f(_,v,T(y._payload),S)}if(ll(y)||Ua(y))return T!==null?null:u(_,v,y,S,null);Pu(_,y)}return null}function p(_,v,y,S,T){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(y)||null,a(v,_,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Su:return _=_.get(S.key===null?y:S.key)||null,l(v,_,S,T);case po:return _=_.get(S.key===null?y:S.key)||null,c(v,_,S,T);case vs:var w=S._init;return p(_,v,y,w(S._payload),T)}if(ll(S)||Ua(S))return _=_.get(y)||null,u(v,_,S,T,null);Pu(v,S)}return null}function m(_,v,y,S){for(var T=null,w=null,x=v,P=v=0,W=null;x!==null&&P<y.length;P++){x.index>P?(W=x,x=null):W=x.sibling;var O=f(_,x,y[P],S);if(O===null){x===null&&(x=W);break}t&&x&&O.alternate===null&&e(_,x),v=i(O,v,P),w===null?T=O:w.sibling=O,w=O,x=W}if(P===y.length)return n(_,x),tt&&li(_,P),T;if(x===null){for(;P<y.length;P++)x=h(_,y[P],S),x!==null&&(v=i(x,v,P),w===null?T=x:w.sibling=x,w=x);return tt&&li(_,P),T}for(x=r(_,x);P<y.length;P++)W=p(x,_,P,y[P],S),W!==null&&(t&&W.alternate!==null&&x.delete(W.key===null?P:W.key),v=i(W,v,P),w===null?T=W:w.sibling=W,w=W);return t&&x.forEach(function(k){return e(_,k)}),tt&&li(_,P),T}function g(_,v,y,S){var T=Ua(y);if(typeof T!="function")throw Error(U(150));if(y=T.call(y),y==null)throw Error(U(151));for(var w=T=null,x=v,P=v=0,W=null,O=y.next();x!==null&&!O.done;P++,O=y.next()){x.index>P?(W=x,x=null):W=x.sibling;var k=f(_,x,O.value,S);if(k===null){x===null&&(x=W);break}t&&x&&k.alternate===null&&e(_,x),v=i(k,v,P),w===null?T=k:w.sibling=k,w=k,x=W}if(O.done)return n(_,x),tt&&li(_,P),T;if(x===null){for(;!O.done;P++,O=y.next())O=h(_,O.value,S),O!==null&&(v=i(O,v,P),w===null?T=O:w.sibling=O,w=O);return tt&&li(_,P),T}for(x=r(_,x);!O.done;P++,O=y.next())O=p(x,_,P,O.value,S),O!==null&&(t&&O.alternate!==null&&x.delete(O.key===null?P:O.key),v=i(O,v,P),w===null?T=O:w.sibling=O,w=O);return t&&x.forEach(function(A){return e(_,A)}),tt&&li(_,P),T}function E(_,v,y,S){if(typeof y=="object"&&y!==null&&y.type===mo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Su:e:{for(var T=y.key,w=v;w!==null;){if(w.key===T){if(T=y.type,T===mo){if(w.tag===7){n(_,w.sibling),v=s(w,y.props.children),v.return=_,_=v;break e}}else if(w.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===vs&&oS(T)===w.type){n(_,w.sibling),v=s(w,y.props),v.ref=qa(_,w,y),v.return=_,_=v;break e}n(_,w);break}else e(_,w);w=w.sibling}y.type===mo?(v=wi(y.props.children,_.mode,S,y.key),v.return=_,_=v):(S=_d(y.type,y.key,y.props,null,_.mode,S),S.ref=qa(_,v,y),S.return=_,_=S)}return o(_);case po:e:{for(w=y.key;v!==null;){if(v.key===w)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(_,v.sibling),v=s(v,y.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=nm(y,_.mode,S),v.return=_,_=v}return o(_);case vs:return w=y._init,E(_,v,w(y._payload),S)}if(ll(y))return m(_,v,y,S);if(Ua(y))return g(_,v,y,S);Pu(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,y),v.return=_,_=v):(n(_,v),v=tm(y,_.mode,S),v.return=_,_=v),o(_)):n(_,v)}return E}var Yo=YI(!0),XI=YI(!1),Dc={},Er=Js(Dc),Zl=Js(Dc),ec=Js(Dc);function gi(t){if(t===Dc)throw Error(U(174));return t}function bv(t,e){switch(Ue(ec,e),Ue(Zl,t),Ue(Er,Dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lg(e,t)}Ke(Er),Ue(Er,e)}function Xo(){Ke(Er),Ke(Zl),Ke(ec)}function JI(t){gi(ec.current);var e=gi(Er.current),n=lg(e,t.type);e!==n&&(Ue(Zl,t),Ue(Er,n))}function kv(t){Zl.current===t&&(Ke(Er),Ke(Zl))}var rt=Js(0);function Gd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qp=[];function Pv(){for(var t=0;t<Qp.length;t++)Qp[t]._workInProgressVersionPrimary=null;Qp.length=0}var hd=us.ReactCurrentDispatcher,Yp=us.ReactCurrentBatchConfig,Ni=0,st=null,gt=null,It=null,Kd=!1,Il=!1,tc=0,jO=0;function Ft(){throw Error(U(321))}function Lv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function Ov(t,e,n,r,s,i){if(Ni=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,hd.current=t===null||t.memoizedState===null?BO:zO,t=n(r,s),Il){i=0;do{if(Il=!1,tc=0,25<=i)throw Error(U(301));i+=1,It=gt=null,e.updateQueue=null,hd.current=HO,t=n(r,s)}while(Il)}if(hd.current=Qd,e=gt!==null&&gt.next!==null,Ni=0,It=gt=st=null,Kd=!1,e)throw Error(U(300));return t}function Dv(){var t=tc!==0;return tc=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?st.memoizedState=It=t:It=It.next=t,It}function Wn(){if(gt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=It===null?st.memoizedState:It.next;if(e!==null)It=e,gt=t;else{if(t===null)throw Error(U(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},It===null?st.memoizedState=It=t:It=It.next=t}return It}function nc(t,e){return typeof e=="function"?e(t):e}function Xp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Ni&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,st.lanes|=u,Ai|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ar(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,st.lanes|=i,Ai|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ar(i,e.memoizedState)||(hn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ZI(){}function eR(t,e){var n=st,r=Wn(),s=e(),i=!ar(r.memoizedState,s);if(i&&(r.memoizedState=s,hn=!0),r=r.queue,Mv(rR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,rc(9,nR.bind(null,n,r,s,e),void 0,null),Nt===null)throw Error(U(349));Ni&30||tR(n,e,s)}return s}function tR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function nR(t,e,n,r){e.value=n,e.getSnapshot=r,sR(e)&&iR(t)}function rR(t,e,n){return n(function(){sR(e)&&iR(t)})}function sR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function iR(t){var e=es(t,1);e!==null&&ir(e,t,1,-1)}function aS(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nc,lastRenderedState:t},e.queue=t,t=t.dispatch=UO.bind(null,st,t),[e.memoizedState,t]}function rc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function oR(){return Wn().memoizedState}function fd(t,e,n,r){var s=dr();st.flags|=t,s.memoizedState=rc(1|e,n,void 0,r===void 0?null:r)}function Zh(t,e,n,r){var s=Wn();r=r===void 0?null:r;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,r!==null&&Lv(r,o.deps)){s.memoizedState=rc(e,n,i,r);return}}st.flags|=t,s.memoizedState=rc(1|e,n,i,r)}function lS(t,e){return fd(8390656,8,t,e)}function Mv(t,e){return Zh(2048,8,t,e)}function aR(t,e){return Zh(4,2,t,e)}function lR(t,e){return Zh(4,4,t,e)}function cR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uR(t,e,n){return n=n!=null?n.concat([t]):null,Zh(4,4,cR.bind(null,e,t),n)}function Vv(){}function dR(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hR(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function fR(t,e,n){return Ni&21?(ar(n,e)||(n=gI(),st.lanes|=n,Ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function $O(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Yp.transition;Yp.transition={};try{t(!1),e()}finally{Me=n,Yp.transition=r}}function pR(){return Wn().memoizedState}function FO(t,e,n){var r=Ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},mR(t))gR(e,n);else if(n=qI(t,e,n,r),n!==null){var s=an();ir(n,t,r,s),_R(n,e,r)}}function UO(t,e,n){var r=Ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(mR(t))gR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=e.interleaved;l===null?(s.next=s,Nv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=qI(t,e,s,r),n!==null&&(s=an(),ir(n,t,r,s),_R(n,e,r))}}function mR(t){var e=t.alternate;return t===st||e!==null&&e===st}function gR(t,e){Il=Kd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _R(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,pv(t,n)}}var Qd={readContext:Hn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},BO={readContext:Hn,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:lS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,fd(4194308,4,cR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return fd(4194308,4,t,e)},useInsertionEffect:function(t,e){return fd(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=FO.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:aS,useDebugValue:Vv,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=aS(!1),e=t[0];return t=$O.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,s=dr();if(tt){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Nt===null)throw Error(U(349));Ni&30||tR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,lS(rR.bind(null,r,i,t),[t]),r.flags|=2048,rc(9,nR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dr(),e=Nt.identifierPrefix;if(tt){var n=Br,r=Ur;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=tc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=jO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zO={readContext:Hn,useCallback:dR,useContext:Hn,useEffect:Mv,useImperativeHandle:uR,useInsertionEffect:aR,useLayoutEffect:lR,useMemo:hR,useReducer:Xp,useRef:oR,useState:function(){return Xp(nc)},useDebugValue:Vv,useDeferredValue:function(t){var e=Wn();return fR(e,gt.memoizedState,t)},useTransition:function(){var t=Xp(nc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:ZI,useSyncExternalStore:eR,useId:pR,unstable_isNewReconciler:!1},HO={readContext:Hn,useCallback:dR,useContext:Hn,useEffect:Mv,useImperativeHandle:uR,useInsertionEffect:aR,useLayoutEffect:lR,useMemo:hR,useReducer:Jp,useRef:oR,useState:function(){return Jp(nc)},useDebugValue:Vv,useDeferredValue:function(t){var e=Wn();return gt===null?e.memoizedState=t:fR(e,gt.memoizedState,t)},useTransition:function(){var t=Jp(nc)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:ZI,useSyncExternalStore:eR,useId:pR,unstable_isNewReconciler:!1};function Jo(t,e){try{var n="",r=e;do n+=vL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Zp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var WO=typeof WeakMap=="function"?WeakMap:Map;function vR(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xd||(Xd=!0,Ug=r),kg(t,e)},n}function yR(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){kg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){kg(t,e),typeof r!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function cS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new WO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=iD.bind(null,t,e,n),e.then(t,t))}function uS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var qO=us.ReactCurrentOwner,hn=!1;function sn(t,e,n,r){e.child=t===null?XI(e,null,n,r):Yo(e,t.child,n,r)}function hS(t,e,n,r,s){n=n.render;var i=e.ref;return Oo(e,s),r=Ov(t,e,n,r,i,s),n=Dv(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(tt&&n&&wv(e),e.flags|=1,sn(t,e,r,s),e.child)}function fS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Wv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ER(t,e,i,r,s)):(t=_d(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ql,n(o,r)&&t.ref===e.ref)return ts(t,e,s)}return e.flags|=1,t=Ms(i,r),t.ref=e.ref,t.return=e,e.child=t}function ER(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ql(i,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,ts(t,e,s)}return Pg(t,e,n,r,s)}function SR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Io,Tn),Tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(Io,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ue(Io,Tn),Tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ue(Io,Tn),Tn|=r;return sn(t,e,s,n),e.child}function wR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pg(t,e,n,r,s){var i=mn(n)?Ri:en.current;return i=Ko(e,i),Oo(e,s),n=Ov(t,e,n,r,i,s),r=Dv(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(tt&&r&&wv(e),e.flags|=1,sn(t,e,n,s),e.child)}function pS(t,e,n,r,s){if(mn(n)){var i=!0;Ud(e)}else i=!1;if(Oo(e,s),e.stateNode===null)pd(t,e),QI(e,n,r),bg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Hn(c):(c=mn(n)?Ri:en.current,c=Ko(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&iS(e,o,r,c),ys=!1;var f=e.memoizedState;o.state=f,qd(e,r,o,s),l=e.memoizedState,a!==r||f!==l||pn.current||ys?(typeof u=="function"&&(Ag(e,n,u,r),l=e.memoizedState),(a=ys||sS(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,GI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Xn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=mn(n)?Ri:en.current,l=Ko(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&iS(e,o,r,l),ys=!1,f=e.memoizedState,o.state=f,qd(e,r,o,s);var m=e.memoizedState;a!==h||f!==m||pn.current||ys?(typeof p=="function"&&(Ag(e,n,p,r),m=e.memoizedState),(c=ys||sS(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Lg(t,e,n,r,i,s)}function Lg(t,e,n,r,s,i){wR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Z0(e,n,!1),ts(t,e,i);r=e.stateNode,qO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Yo(e,t.child,null,i),e.child=Yo(e,null,a,i)):sn(t,e,a,i),e.memoizedState=r.state,s&&Z0(e,n,!0),e.child}function TR(t){var e=t.stateNode;e.pendingContext?J0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&J0(t,e.context,!1),bv(t,e.containerInfo)}function mS(t,e,n,r,s){return Qo(),Cv(s),e.flags|=256,sn(t,e,n,r),e.child}var Og={dehydrated:null,treeContext:null,retryLane:0};function Dg(t){return{baseLanes:t,cachePool:null,transitions:null}}function CR(t,e,n){var r=e.pendingProps,s=rt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ue(rt,s&1),t===null)return xg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=nf(o,r,0,null),t=wi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Dg(n),e.memoizedState=Og,t):jv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return GO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ms(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ms(a,i):(i=wi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Dg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Og,r}return i=t.child,t=i.sibling,r=Ms(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function jv(t,e){return e=nf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lu(t,e,n,r){return r!==null&&Cv(r),Yo(e,t.child,null,n),t=jv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function GO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Zp(Error(U(422))),Lu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=nf({mode:"visible",children:r.children},s,0,null),i=wi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Yo(e,t.child,null,o),e.child.memoizedState=Dg(o),e.memoizedState=Og,i);if(!(e.mode&1))return Lu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=Zp(i,r,void 0),Lu(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=Nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,es(t,s),ir(r,t,s,-1))}return Hv(),r=Zp(Error(U(421))),Lu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=oD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,In=Ps(s.nextSibling),Rn=e,tt=!0,Zn=null,t!==null&&(On[Dn++]=Ur,On[Dn++]=Br,On[Dn++]=xi,Ur=t.id,Br=t.overflow,xi=e),e=jv(e,r.children),e.flags|=4096,e)}function gS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ng(t.return,e,n)}function em(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function IR(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(sn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gS(t,n,e);else if(t.tag===19)gS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Gd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),em(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Gd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}em(e,!0,n,null,i);break;case"together":em(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function KO(t,e,n){switch(e.tag){case 3:TR(e),Qo();break;case 5:JI(e);break;case 1:mn(e.type)&&Ud(e);break;case 4:bv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ue(Hd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?CR(t,e,n):(Ue(rt,rt.current&1),t=ts(t,e,n),t!==null?t.sibling:null);Ue(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return IR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,SR(t,e,n)}return ts(t,e,n)}var RR,Mg,xR,NR;RR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mg=function(){};xR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,gi(Er.current);var i=null;switch(n){case"input":s=sg(t,s),r=sg(t,r),i=[];break;case"select":s=it({},s,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":s=ag(t,s),r=ag(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$d)}cg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};NR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ga(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QO(t,e,n){var r=e.pendingProps;switch(Tv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return mn(e.type)&&Fd(),Ut(e),null;case 3:return r=e.stateNode,Xo(),Ke(pn),Ke(en),Pv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(Hg(Zn),Zn=null))),Mg(t,e),Ut(e),null;case 5:kv(e);var s=gi(ec.current);if(n=e.type,t!==null&&e.stateNode!=null)xR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Ut(e),null}if(t=gi(Er.current),ku(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hr]=e,r[Jl]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<ul.length;s++)Be(ul[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":I0(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":x0(r,i),Be("invalid",r)}cg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&bu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&bu(r.textContent,a,t),s=["children",""+a]):Bl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":wu(r),R0(r,i,!0);break;case"textarea":wu(r),N0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$d)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=tI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hr]=e,t[Jl]=r,RR(t,e,!1,!1),e.stateNode=t;e:{switch(o=ug(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<ul.length;s++)Be(ul[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":I0(t,r),s=sg(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=it({},r,{value:void 0}),Be("invalid",t);break;case"textarea":x0(t,r),s=ag(t,r),Be("invalid",t);break;default:s=r}cg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?sI(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&zl(t,l):typeof l=="number"&&zl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Bl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",t):l!=null&&lv(t,i,l,o))}switch(n){case"input":wu(t),R0(t,r,!1);break;case"textarea":wu(t),N0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?bo(t,!!r.multiple,i,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$d)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)NR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=gi(ec.current),gi(Er.current),ku(e)){if(r=e.stateNode,n=e.memoizedProps,r[hr]=e,(i=r.nodeValue!==n)&&(t=Rn,t!==null))switch(t.tag){case 3:bu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Ke(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&In!==null&&e.mode&1&&!(e.flags&128))WI(),Qo(),e.flags|=98560,i=!1;else if(i=ku(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[hr]=e}else Qo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else Zn!==null&&(Hg(Zn),Zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?_t===0&&(_t=3):Hv())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Xo(),Mg(t,e),t===null&&Yl(e.stateNode.containerInfo),Ut(e),null;case 10:return xv(e.type._context),Ut(e),null;case 17:return mn(e.type)&&Fd(),Ut(e),null;case 19:if(Ke(rt),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ga(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Gd(t),o!==null){for(e.flags|=128,Ga(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>Zo&&(e.flags|=128,r=!0,Ga(i,!1),e.lanes=4194304)}else{if(!r)if(t=Gd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ga(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return Ut(e),null}else 2*lt()-i.renderingStartTime>Zo&&n!==1073741824&&(e.flags|=128,r=!0,Ga(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=rt.current,Ue(rt,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return zv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function YO(t,e){switch(Tv(e),e.tag){case 1:return mn(e.type)&&Fd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xo(),Ke(pn),Ke(en),Pv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kv(e),null;case 13:if(Ke(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Qo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(rt),null;case 4:return Xo(),null;case 10:return xv(e.type._context),null;case 22:case 23:return zv(),null;case 24:return null;default:return null}}var Ou=!1,Ht=!1,XO=typeof WeakSet=="function"?WeakSet:Set,te=null;function Co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function Vg(t,e,n){try{n()}catch(r){ot(t,e,r)}}var _S=!1;function JO(t,e){if(Eg=Md,t=PI(),Sv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sg={focusedElem:t,selectionRange:n},Md=!1,te=e;te!==null;)if(e=te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,te=t;else for(;te!==null;){e=te;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,E=m.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:Xn(e.type,g),E);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){ot(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,te=t;break}te=e.return}return m=_S,_S=!1,m}function Rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Vg(e,n,i)}s=s.next}while(s!==r)}}function ef(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AR(t){var e=t.alternate;e!==null&&(t.alternate=null,AR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hr],delete e[Jl],delete e[Cg],delete e[OO],delete e[DO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function bR(t){return t.tag===5||t.tag===3||t.tag===4}function vS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||bR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$d));else if(r!==4&&(t=t.child,t!==null))for($g(t,e,n),t=t.sibling;t!==null;)$g(t,e,n),t=t.sibling}function Fg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fg(t,e,n),t=t.sibling;t!==null;)Fg(t,e,n),t=t.sibling}var Lt=null,Jn=!1;function ms(t,e,n){for(n=n.child;n!==null;)kR(t,e,n),n=n.sibling}function kR(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(qh,n)}catch{}switch(n.tag){case 5:Ht||Co(n,e);case 6:var r=Lt,s=Jn;Lt=null,ms(t,e,n),Lt=r,Jn=s,Lt!==null&&(Jn?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(Jn?(t=Lt,n=n.stateNode,t.nodeType===8?Gp(t.parentNode,n):t.nodeType===1&&Gp(t,n),Gl(t)):Gp(Lt,n.stateNode));break;case 4:r=Lt,s=Jn,Lt=n.stateNode.containerInfo,Jn=!0,ms(t,e,n),Lt=r,Jn=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Vg(n,e,o),s=s.next}while(s!==r)}ms(t,e,n);break;case 1:if(!Ht&&(Co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}ms(t,e,n);break;case 21:ms(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,ms(t,e,n),Ht=r):ms(t,e,n);break;default:ms(t,e,n)}}function yS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new XO),e.forEach(function(r){var s=aD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,Jn=!1;break e;case 3:Lt=a.stateNode.containerInfo,Jn=!0;break e;case 4:Lt=a.stateNode.containerInfo,Jn=!0;break e}a=a.return}if(Lt===null)throw Error(U(160));kR(i,o,s),Lt=null,Jn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ot(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)PR(e,t),e=e.sibling}function PR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),ur(t),r&4){try{Rl(3,t,t.return),ef(3,t)}catch(g){ot(t,t.return,g)}try{Rl(5,t,t.return)}catch(g){ot(t,t.return,g)}}break;case 1:Qn(e,t),ur(t),r&512&&n!==null&&Co(n,n.return);break;case 5:if(Qn(e,t),ur(t),r&512&&n!==null&&Co(n,n.return),t.flags&32){var s=t.stateNode;try{zl(s,"")}catch(g){ot(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&ZC(s,i),ug(a,o);var c=ug(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?sI(s,h):u==="dangerouslySetInnerHTML"?nI(s,h):u==="children"?zl(s,h):lv(s,u,h,c)}switch(a){case"input":ig(s,i);break;case"textarea":eI(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?bo(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?bo(s,!!i.multiple,i.defaultValue,!0):bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jl]=i}catch(g){ot(t,t.return,g)}}break;case 6:if(Qn(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){ot(t,t.return,g)}}break;case 3:if(Qn(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gl(e.containerInfo)}catch(g){ot(t,t.return,g)}break;case 4:Qn(e,t),ur(t);break;case 13:Qn(e,t),ur(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Uv=lt())),r&4&&yS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(c=Ht)||u,Qn(e,t),Ht=c):Qn(e,t),ur(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(te=t,u=t.child;u!==null;){for(h=te=u;te!==null;){switch(f=te,p=f.child,f.tag){case 0:case 11:case 14:case 15:Rl(4,f,f.return);break;case 1:Co(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ot(r,n,g)}}break;case 5:Co(f,f.return);break;case 22:if(f.memoizedState!==null){SS(h);continue}}p!==null?(p.return=f,te=p):SS(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=rI("display",o))}catch(g){ot(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){ot(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qn(e,t),ur(t),r&4&&yS(t);break;case 21:break;default:Qn(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(bR(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(zl(s,""),r.flags&=-33);var i=vS(t);Fg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=vS(t);$g(t,a,o);break;default:throw Error(U(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZO(t,e,n){te=t,LR(t)}function LR(t,e,n){for(var r=(t.mode&1)!==0;te!==null;){var s=te,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ou;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ht;a=Ou;var c=Ht;if(Ou=o,(Ht=l)&&!c)for(te=s;te!==null;)o=te,l=o.child,o.tag===22&&o.memoizedState!==null?wS(s):l!==null?(l.return=o,te=l):wS(s);for(;i!==null;)te=i,LR(i),i=i.sibling;te=s,Ou=a,Ht=c}ES(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,te=i):ES(t)}}function ES(t){for(;te!==null;){var e=te;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||ef(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Xn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&rS(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}rS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Gl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ht||e.flags&512&&jg(e)}catch(f){ot(e,e.return,f)}}if(e===t){te=null;break}if(n=e.sibling,n!==null){n.return=e.return,te=n;break}te=e.return}}function SS(t){for(;te!==null;){var e=te;if(e===t){te=null;break}var n=e.sibling;if(n!==null){n.return=e.return,te=n;break}te=e.return}}function wS(t){for(;te!==null;){var e=te;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ef(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ot(e,s,l)}}var i=e.return;try{jg(e)}catch(l){ot(e,i,l)}break;case 5:var o=e.return;try{jg(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){te=null;break}var a=e.sibling;if(a!==null){a.return=e.return,te=a;break}te=e.return}}var eD=Math.ceil,Yd=us.ReactCurrentDispatcher,$v=us.ReactCurrentOwner,Un=us.ReactCurrentBatchConfig,Le=0,Nt=null,ft=null,Mt=0,Tn=0,Io=Js(0),_t=0,sc=null,Ai=0,tf=0,Fv=0,xl=null,dn=null,Uv=0,Zo=1/0,Dr=null,Xd=!1,Ug=null,Os=null,Du=!1,Cs=null,Jd=0,Nl=0,Bg=null,md=-1,gd=0;function an(){return Le&6?lt():md!==-1?md:md=lt()}function Ds(t){return t.mode&1?Le&2&&Mt!==0?Mt&-Mt:VO.transition!==null?(gd===0&&(gd=gI()),gd):(t=Me,t!==0||(t=window.event,t=t===void 0?16:TI(t.type)),t):1}function ir(t,e,n,r){if(50<Nl)throw Nl=0,Bg=null,Error(U(185));Pc(t,n,r),(!(Le&2)||t!==Nt)&&(t===Nt&&(!(Le&2)&&(tf|=n),_t===4&&ws(t,Mt)),gn(t,r),n===1&&Le===0&&!(e.mode&1)&&(Zo=lt()+500,Xh&&Zs()))}function gn(t,e){var n=t.callbackNode;VL(t,e);var r=Dd(t,t===Nt?Mt:0);if(r===0)n!==null&&k0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&k0(n),e===1)t.tag===0?MO(TS.bind(null,t)):BI(TS.bind(null,t)),PO(function(){!(Le&6)&&Zs()}),n=null;else{switch(_I(r)){case 1:n=fv;break;case 4:n=pI;break;case 16:n=Od;break;case 536870912:n=mI;break;default:n=Od}n=UR(n,OR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function OR(t,e){if(md=-1,gd=0,Le&6)throw Error(U(327));var n=t.callbackNode;if(Do()&&t.callbackNode!==n)return null;var r=Dd(t,t===Nt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zd(t,r);else{e=r;var s=Le;Le|=2;var i=MR();(Nt!==t||Mt!==e)&&(Dr=null,Zo=lt()+500,Si(t,e));do try{rD();break}catch(a){DR(t,a)}while(1);Rv(),Yd.current=i,Le=s,ft!==null?e=0:(Nt=null,Mt=0,e=_t)}if(e!==0){if(e===2&&(s=mg(t),s!==0&&(r=s,e=zg(t,s))),e===1)throw n=sc,Si(t,0),ws(t,r),gn(t,lt()),n;if(e===6)ws(t,r);else{if(s=t.current.alternate,!(r&30)&&!tD(s)&&(e=Zd(t,r),e===2&&(i=mg(t),i!==0&&(r=i,e=zg(t,i))),e===1))throw n=sc,Si(t,0),ws(t,r),gn(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ci(t,dn,Dr);break;case 3:if(ws(t,r),(r&130023424)===r&&(e=Uv+500-lt(),10<e)){if(Dd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Tg(ci.bind(null,t,dn,Dr),e);break}ci(t,dn,Dr);break;case 4:if(ws(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-sr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*eD(r/1960))-r,10<r){t.timeoutHandle=Tg(ci.bind(null,t,dn,Dr),r);break}ci(t,dn,Dr);break;case 5:ci(t,dn,Dr);break;default:throw Error(U(329))}}}return gn(t,lt()),t.callbackNode===n?OR.bind(null,t):null}function zg(t,e){var n=xl;return t.current.memoizedState.isDehydrated&&(Si(t,e).flags|=256),t=Zd(t,e),t!==2&&(e=dn,dn=n,e!==null&&Hg(e)),t}function Hg(t){dn===null?dn=t:dn.push.apply(dn,t)}function tD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ws(t,e){for(e&=~Fv,e&=~tf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function TS(t){if(Le&6)throw Error(U(327));Do();var e=Dd(t,0);if(!(e&1))return gn(t,lt()),null;var n=Zd(t,e);if(t.tag!==0&&n===2){var r=mg(t);r!==0&&(e=r,n=zg(t,r))}if(n===1)throw n=sc,Si(t,0),ws(t,e),gn(t,lt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ci(t,dn,Dr),gn(t,lt()),null}function Bv(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Zo=lt()+500,Xh&&Zs())}}function bi(t){Cs!==null&&Cs.tag===0&&!(Le&6)&&Do();var e=Le;Le|=1;var n=Un.transition,r=Me;try{if(Un.transition=null,Me=1,t)return t()}finally{Me=r,Un.transition=n,Le=e,!(Le&6)&&Zs()}}function zv(){Tn=Io.current,Ke(Io)}function Si(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kO(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(Tv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fd();break;case 3:Xo(),Ke(pn),Ke(en),Pv();break;case 5:kv(r);break;case 4:Xo();break;case 13:Ke(rt);break;case 19:Ke(rt);break;case 10:xv(r.type._context);break;case 22:case 23:zv()}n=n.return}if(Nt=t,ft=t=Ms(t.current,null),Mt=Tn=e,_t=0,sc=null,Fv=tf=Ai=0,dn=xl=null,mi!==null){for(e=0;e<mi.length;e++)if(n=mi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}mi=null}return t}function DR(t,e){do{var n=ft;try{if(Rv(),hd.current=Qd,Kd){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Kd=!1}if(Ni=0,It=gt=st=null,Il=!1,tc=0,$v.current=null,n===null||n.return===null){_t=1,sc=e,ft=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=uS(o);if(p!==null){p.flags&=-257,dS(p,o,a,i,e),p.mode&1&&cS(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){cS(i,c,e),Hv();break e}l=Error(U(426))}}else if(tt&&a.mode&1){var E=uS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),dS(E,o,a,i,e),Cv(Jo(l,a));break e}}i=l=Jo(l,a),_t!==4&&(_t=2),xl===null?xl=[i]:xl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=vR(i,l,e);nS(i,_);break e;case 1:a=l;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Os===null||!Os.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=yR(i,a,e);nS(i,S);break e}}i=i.return}while(i!==null)}jR(n)}catch(T){e=T,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(1)}function MR(){var t=Yd.current;return Yd.current=Qd,t===null?Qd:t}function Hv(){(_t===0||_t===3||_t===2)&&(_t=4),Nt===null||!(Ai&268435455)&&!(tf&268435455)||ws(Nt,Mt)}function Zd(t,e){var n=Le;Le|=2;var r=MR();(Nt!==t||Mt!==e)&&(Dr=null,Si(t,e));do try{nD();break}catch(s){DR(t,s)}while(1);if(Rv(),Le=n,Yd.current=r,ft!==null)throw Error(U(261));return Nt=null,Mt=0,_t}function nD(){for(;ft!==null;)VR(ft)}function rD(){for(;ft!==null&&!NL();)VR(ft)}function VR(t){var e=FR(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?jR(t):ft=e,$v.current=null}function jR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=YO(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ft=null;return}}else if(n=QO(n,e,Tn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);_t===0&&(_t=5)}function ci(t,e,n){var r=Me,s=Un.transition;try{Un.transition=null,Me=1,sD(t,e,n,r)}finally{Un.transition=s,Me=r}return null}function sD(t,e,n,r){do Do();while(Cs!==null);if(Le&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(jL(t,i),t===Nt&&(ft=Nt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Du||(Du=!0,UR(Od,function(){return Do(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Un.transition,Un.transition=null;var o=Me;Me=1;var a=Le;Le|=4,$v.current=null,JO(t,n),PR(n,t),CO(Sg),Md=!!Eg,Sg=Eg=null,t.current=n,ZO(n),AL(),Le=a,Me=o,Un.transition=i}else t.current=n;if(Du&&(Du=!1,Cs=t,Jd=s),i=t.pendingLanes,i===0&&(Os=null),PL(n.stateNode),gn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Xd)throw Xd=!1,t=Ug,Ug=null,t;return Jd&1&&t.tag!==0&&Do(),i=t.pendingLanes,i&1?t===Bg?Nl++:(Nl=0,Bg=t):Nl=0,Zs(),null}function Do(){if(Cs!==null){var t=_I(Jd),e=Un.transition,n=Me;try{if(Un.transition=null,Me=16>t?16:t,Cs===null)var r=!1;else{if(t=Cs,Cs=null,Jd=0,Le&6)throw Error(U(331));var s=Le;for(Le|=4,te=t.current;te!==null;){var i=te,o=i.child;if(te.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(te=c;te!==null;){var u=te;switch(u.tag){case 0:case 11:case 15:Rl(8,u,i)}var h=u.child;if(h!==null)h.return=u,te=h;else for(;te!==null;){u=te;var f=u.sibling,p=u.return;if(AR(u),u===c){te=null;break}if(f!==null){f.return=p,te=f;break}te=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}te=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,te=o;else e:for(;te!==null;){if(i=te,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Rl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,te=_;break e}te=i.return}}var v=t.current;for(te=v;te!==null;){o=te;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,te=y;else e:for(o=v;te!==null;){if(a=te,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ef(9,a)}}catch(T){ot(a,a.return,T)}if(a===o){te=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,te=S;break e}te=a.return}}if(Le=s,Zs(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(qh,t)}catch{}r=!0}return r}finally{Me=n,Un.transition=e}}return!1}function CS(t,e,n){e=Jo(n,e),e=vR(t,e,1),t=Ls(t,e,1),e=an(),t!==null&&(Pc(t,1,e),gn(t,e))}function ot(t,e,n){if(t.tag===3)CS(t,t,n);else for(;e!==null;){if(e.tag===3){CS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Os===null||!Os.has(r))){t=Jo(n,t),t=yR(e,t,1),e=Ls(e,t,1),t=an(),e!==null&&(Pc(e,1,t),gn(e,t));break}}e=e.return}}function iD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Mt&n)===n&&(_t===4||_t===3&&(Mt&130023424)===Mt&&500>lt()-Uv?Si(t,0):Fv|=n),gn(t,e)}function $R(t,e){e===0&&(t.mode&1?(e=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):e=1);var n=an();t=es(t,e),t!==null&&(Pc(t,e,n),gn(t,n))}function oD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$R(t,n)}function aD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),$R(t,n)}var FR;FR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,KO(t,e,n);hn=!!(t.flags&131072)}else hn=!1,tt&&e.flags&1048576&&zI(e,zd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;pd(t,e),t=e.pendingProps;var s=Ko(e,en.current);Oo(e,n),s=Ov(null,e,r,t,s,n);var i=Dv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(i=!0,Ud(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Av(e),s.updater=Jh,e.stateNode=s,s._reactInternals=e,bg(e,r,t,n),e=Lg(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&wv(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(pd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=cD(r),t=Xn(r,t),s){case 0:e=Pg(null,e,r,t,n);break e;case 1:e=pS(null,e,r,t,n);break e;case 11:e=hS(null,e,r,t,n);break e;case 14:e=fS(null,e,r,Xn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),Pg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),pS(t,e,r,s,n);case 3:e:{if(TR(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,GI(t,e),qd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Jo(Error(U(423)),e),e=mS(t,e,r,n,s);break e}else if(r!==s){s=Jo(Error(U(424)),e),e=mS(t,e,r,n,s);break e}else for(In=Ps(e.stateNode.containerInfo.firstChild),Rn=e,tt=!0,Zn=null,n=XI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Qo(),r===s){e=ts(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return JI(e),t===null&&xg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,wg(r,s)?o=null:i!==null&&wg(r,i)&&(e.flags|=32),wR(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&xg(e),null;case 13:return CR(t,e,n);case 4:return bv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Yo(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),hS(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ue(Hd,r._currentValue),r._currentValue=o,i!==null)if(ar(i.value,o)){if(i.children===s.children&&!pn.current){e=ts(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Gr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ng(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ng(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Oo(e,n),s=Hn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=Xn(r,e.pendingProps),s=Xn(r.type,s),fS(t,e,r,s,n);case 15:return ER(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),pd(t,e),e.tag=1,mn(r)?(t=!0,Ud(e)):t=!1,Oo(e,n),QI(e,r,s),bg(e,r,s,n),Lg(null,e,r,!0,t,n);case 19:return IR(t,e,n);case 22:return SR(t,e,n)}throw Error(U(156,e.tag))};function UR(t,e){return fI(t,e)}function lD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,e,n,r){return new lD(t,e,n,r)}function Wv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function cD(t){if(typeof t=="function")return Wv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uv)return 11;if(t===dv)return 14}return 2}function Ms(t,e){var n=t.alternate;return n===null?(n=$n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _d(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Wv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case mo:return wi(n.children,s,i,e);case cv:o=8,s|=8;break;case eg:return t=$n(12,n,e,s|2),t.elementType=eg,t.lanes=i,t;case tg:return t=$n(13,n,e,s),t.elementType=tg,t.lanes=i,t;case ng:return t=$n(19,n,e,s),t.elementType=ng,t.lanes=i,t;case YC:return nf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KC:o=10;break e;case QC:o=9;break e;case uv:o=11;break e;case dv:o=14;break e;case vs:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=$n(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function wi(t,e,n,r){return t=$n(7,t,r,e),t.lanes=n,t}function nf(t,e,n,r){return t=$n(22,t,r,e),t.elementType=YC,t.lanes=n,t.stateNode={isHidden:!1},t}function tm(t,e,n){return t=$n(6,t,null,e),t.lanes=n,t}function nm(t,e,n){return e=$n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function uD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mp(0),this.expirationTimes=Mp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qv(t,e,n,r,s,i,o,a,l){return t=new uD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=$n(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Av(i),t}function dD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:po,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function BR(t){if(!t)return Ws;t=t._reactInternals;e:{if(qi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(mn(n))return UI(t,n,e)}return e}function zR(t,e,n,r,s,i,o,a,l){return t=qv(n,r,!0,t,s,i,o,a,l),t.context=BR(null),n=t.current,r=an(),s=Ds(n),i=Gr(r,s),i.callback=e??null,Ls(n,i,s),t.current.lanes=s,Pc(t,s,r),gn(t,r),t}function rf(t,e,n,r){var s=e.current,i=an(),o=Ds(s);return n=BR(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(s,e,o),t!==null&&(ir(t,s,o,i),dd(t,s,o)),o}function eh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function IS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gv(t,e){IS(t,e),(t=t.alternate)&&IS(t,e)}function hD(){return null}var HR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kv(t){this._internalRoot=t}sf.prototype.render=Kv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));rf(t,e,null,null)};sf.prototype.unmount=Kv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bi(function(){rf(null,t,null,null)}),e[Zr]=null}};function sf(t){this._internalRoot=t}sf.prototype.unstable_scheduleHydration=function(t){if(t){var e=EI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ss.length&&e!==0&&e<Ss[n].priority;n++);Ss.splice(n,0,t),n===0&&wI(t)}};function Qv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function of(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function RS(){}function fD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=eh(o);i.call(c)}}var o=zR(e,r,t,0,null,!1,!1,"",RS);return t._reactRootContainer=o,t[Zr]=o.current,Yl(t.nodeType===8?t.parentNode:t),bi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=eh(l);a.call(c)}}var l=qv(t,0,!1,null,null,!1,!1,"",RS);return t._reactRootContainer=l,t[Zr]=l.current,Yl(t.nodeType===8?t.parentNode:t),bi(function(){rf(e,l,n,r)}),l}function af(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=eh(o);a.call(l)}}rf(e,o,t,s)}else o=fD(n,e,t,s,r);return eh(o)}vI=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=cl(e.pendingLanes);n!==0&&(pv(e,n|1),gn(e,lt()),!(Le&6)&&(Zo=lt()+500,Zs()))}break;case 13:bi(function(){var r=es(t,1);if(r!==null){var s=an();ir(r,t,1,s)}}),Gv(t,1)}};mv=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var n=an();ir(e,t,134217728,n)}Gv(t,134217728)}};yI=function(t){if(t.tag===13){var e=Ds(t),n=es(t,e);if(n!==null){var r=an();ir(n,t,e,r)}Gv(t,e)}};EI=function(){return Me};SI=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};hg=function(t,e,n){switch(e){case"input":if(ig(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Yh(r);if(!s)throw Error(U(90));JC(r),ig(r,s)}}}break;case"textarea":eI(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};aI=Bv;lI=bi;var pD={usingClientEntryPoint:!1,Events:[Oc,yo,Yh,iI,oI,Bv]},Ka={findFiberByHostInstance:pi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},mD={bundleType:Ka.bundleType,version:Ka.version,rendererPackageName:Ka.rendererPackageName,rendererConfig:Ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=dI(t),t===null?null:t.stateNode},findFiberByHostInstance:Ka.findFiberByHostInstance||hD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{qh=Mu.inject(mD),yr=Mu}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pD;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qv(e))throw Error(U(200));return dD(t,e,null,n)};bn.createRoot=function(t,e){if(!Qv(t))throw Error(U(299));var n=!1,r="",s=HR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=qv(t,1,!1,null,null,n,!1,r,s),t[Zr]=e.current,Yl(t.nodeType===8?t.parentNode:t),new Kv(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=dI(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return bi(t)};bn.hydrate=function(t,e,n){if(!of(e))throw Error(U(200));return af(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!Qv(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=HR;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=zR(e,null,t,1,n??null,s,!1,i,o),t[Zr]=e.current,Yl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new sf(e)};bn.render=function(t,e,n){if(!of(e))throw Error(U(200));return af(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!of(t))throw Error(U(40));return t._reactRootContainer?(bi(function(){af(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};bn.unstable_batchedUpdates=Bv;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!of(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return af(t,e,n,!1,r)};bn.version="18.2.0-next-9e3b772b8-20220608";function WR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WR)}catch(t){console.error(t)}}WR(),zC.exports=bn;var qR=zC.exports;const gD=PC(qR);var xS=qR;Jm.createRoot=xS.createRoot,Jm.hydrateRoot=xS.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ic.apply(this,arguments)}var Is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Is||(Is={}));const NS="popstate";function _D(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Gi(s.location.hash.substr(1));return Wg("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:th(i))}function r(s,i){lf(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return yD(e,n,r,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function lf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vD(){return Math.random().toString(36).substr(2,8)}function AS(t,e){return{usr:t.state,key:t.key,idx:e}}function Wg(t,e,n,r){return n===void 0&&(n=null),ic({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gi(e):e,{state:n,key:e&&e.key||r||vD()})}function th(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Is.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(ic({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Is.Pop;let E=u(),_=E==null?null:E-c;c=E,l&&l({action:a,location:g.location,delta:_})}function f(E,_){a=Is.Push;let v=Wg(g.location,E,_);n&&n(v,E),c=u()+1;let y=AS(v,c),S=g.createHref(v);try{o.pushState(y,"",S)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function p(E,_){a=Is.Replace;let v=Wg(g.location,E,_);n&&n(v,E),c=u();let y=AS(v,c),S=g.createHref(v);o.replaceState(y,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function m(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:th(E);return ut(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let g={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(NS,h),l=E,()=>{s.removeEventListener(NS,h),l=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let _=m(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(E){return o.go(E)}};return g}var bS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bS||(bS={}));function ED(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Gi(e):e,s=Yv(r.pathname||"/",n);if(s==null)return null;let i=GR(t);SD(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=bD(i[a],LD(s));return o}function GR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Vs([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),GR(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:ND(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of KR(i.path))s(i,o,l)}),e}function KR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=KR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:AD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const wD=/^:\w+$/,TD=3,CD=2,ID=1,RD=10,xD=-2,kS=t=>t==="*";function ND(t,e){let n=t.split("/"),r=n.length;return n.some(kS)&&(r+=xD),e&&(r+=CD),n.filter(s=>!kS(s)).reduce((s,i)=>s+(wD.test(i)?TD:i===""?ID:RD),r)}function AD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function bD(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=kD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;i.push({params:r,pathname:Vs([s,u.pathname]),pathnameBase:VD(Vs([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Vs([s,u.pathnameBase]))}return i}function kD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{if(u==="*"){let f=a[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=OD(a[h]||"",u),c},{}),pathname:i,pathnameBase:o,pattern:t}}function PD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),lf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function LD(t){try{return decodeURI(t)}catch(e){return lf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function OD(t,e){try{return decodeURIComponent(t)}catch(n){return lf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Yv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Gi(t):t;return{pathname:n?n.startsWith("/")?n:MD(n,e):e,search:jD(r),hash:$D(s)}}function MD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function rm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Jv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Gi(t):(s=ic({},t),ut(!s.pathname||!s.pathname.includes("?"),rm("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),rm("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),rm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=DD(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Vs=t=>t.join("/").replace(/\/\/+/g,"/"),VD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$D=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const QR=["post","put","patch","delete"];new Set(QR);const UD=["get",...QR];new Set(UD);/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}const Zv=C.createContext(null),YR=C.createContext(null),Ki=C.createContext(null),cf=C.createContext(null),Rr=C.createContext({outlet:null,matches:[],isDataRoute:!1}),XR=C.createContext(null);function BD(t,e){let{relative:n}=e===void 0?{}:e;Sa()||ut(!1);let{basename:r,navigator:s}=C.useContext(Ki),{hash:i,pathname:o,search:a}=ey(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Vs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Sa(){return C.useContext(cf)!=null}function yn(){return Sa()||ut(!1),C.useContext(cf).location}function JR(t){C.useContext(Ki).static||C.useLayoutEffect(t)}function En(){let{isDataRoute:t}=C.useContext(Rr);return t?rM():zD()}function zD(){Sa()||ut(!1);let t=C.useContext(Zv),{basename:e,navigator:n}=C.useContext(Ki),{matches:r}=C.useContext(Rr),{pathname:s}=yn(),i=JSON.stringify(Xv(r).map(l=>l.pathnameBase)),o=C.useRef(!1);return JR(()=>{o.current=!0}),C.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=Jv(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Vs([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,s,t])}const HD=C.createContext(null);function WD(t){let e=C.useContext(Rr).outlet;return e&&C.createElement(HD.Provider,{value:t},e)}function Sn(){let{matches:t}=C.useContext(Rr),e=t[t.length-1];return e?e.params:{}}function ey(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=C.useContext(Rr),{pathname:s}=yn(),i=JSON.stringify(Xv(r).map(o=>o.pathnameBase));return C.useMemo(()=>Jv(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function qD(t,e){return GD(t,e)}function GD(t,e,n){Sa()||ut(!1);let{navigator:r}=C.useContext(Ki),{matches:s}=C.useContext(Rr),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=yn(),c;if(e){var u;let g=typeof e=="string"?Gi(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||ut(!1),c=g}else c=l;let h=c.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",p=ED(t,{pathname:f}),m=JD(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Vs([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Vs([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n);return e&&m?C.createElement(cf.Provider,{value:{location:nh({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Is.Pop}},m):m}function KD(){let t=nM(),e=FD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,i)}const QD=C.createElement(KD,null);class YD extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?C.createElement(Rr.Provider,{value:this.props.routeContext},C.createElement(XR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function XD(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(Zv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Rr.Provider,{value:e},r)}function JD(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ut(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||QD);let f=e.concat(i.slice(0,c+1)),p=()=>{let m;return u?m=h:l.route.Component?m=C.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,C.createElement(XD,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?C.createElement(YD,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var qg;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(qg||(qg={}));var oc;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(oc||(oc={}));function ZD(t){let e=C.useContext(Zv);return e||ut(!1),e}function eM(t){let e=C.useContext(YR);return e||ut(!1),e}function tM(t){let e=C.useContext(Rr);return e||ut(!1),e}function ZR(t){let e=tM(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function nM(){var t;let e=C.useContext(XR),n=eM(oc.UseRouteError),r=ZR(oc.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function rM(){let{router:t}=ZD(qg.UseNavigateStable),e=ZR(oc.UseNavigateStable),n=C.useRef(!1);return JR(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,nh({fromRouteId:e},i)))},[t,e])}function sM(t){let{to:e,replace:n,state:r,relative:s}=t;Sa()||ut(!1);let{matches:i}=C.useContext(Rr),{pathname:o}=yn(),a=En(),l=Jv(e,Xv(i).map(u=>u.pathnameBase),o,s==="path"),c=JSON.stringify(l);return C.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:s}),[a,c,s,n,r]),null}function ds(t){return WD(t.context)}function ce(t){ut(!1)}function iM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Is.Pop,navigator:i,static:o=!1}=t;Sa()&&ut(!1);let a=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Gi(r));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:p="default"}=r,m=C.useMemo(()=>{let g=Yv(c,a);return g==null?null:{location:{pathname:g,search:u,hash:h,state:f,key:p},navigationType:s}},[a,c,u,h,f,p,s]);return m==null?null:C.createElement(Ki.Provider,{value:l},C.createElement(cf.Provider,{children:n,value:m}))}function sm(t){let{children:e,location:n}=t;return qD(Gg(e),n)}var PS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(PS||(PS={}));new Promise(()=>{});function Gg(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,Gg(r.props.children,i));return}r.type!==ce&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Gg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rh.apply(this,arguments)}function e1(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function oM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function aM(t,e){return t.button===0&&(!e||e==="_self")&&!oM(t)}function Kg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function lM(t,e){let n=Kg(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)});return n}const cM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],uM=["aria-current","caseSensitive","className","end","style","to","children"],LS="startTransition";function dM(t){let{basename:e,children:n,window:r}=t,s=C.useRef();s.current==null&&(s.current=_D({window:r,v5Compat:!0}));let i=s.current,[o,a]=C.useState({action:i.action,location:i.location}),l=C.useCallback(c=>{LS in S0?S0[LS](()=>a(c)):a(c)},[a]);return C.useLayoutEffect(()=>i.listen(l),[i,l]),C.createElement(iM,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const hM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ct=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=e1(e,cM),{basename:f}=C.useContext(Ki),p,m=!1;if(typeof c=="string"&&fM.test(c)&&(p=c,hM))try{let v=new URL(window.location.href),y=c.startsWith("//")?new URL(v.protocol+c):new URL(c),S=Yv(y.pathname,f);y.origin===v.origin&&S!=null?c=S+y.search+y.hash:m=!0}catch{}let g=BD(c,{relative:s}),E=pM(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s});function _(v){r&&r(v),v.defaultPrevented||E(v)}return C.createElement("a",rh({},h,{href:p||g,onClick:m||i?r:_,ref:n,target:l}))}),Mn=C.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,children:c}=e,u=e1(e,uM),h=ey(l,{relative:u.relative}),f=yn(),p=C.useContext(YR),{navigator:m}=C.useContext(Ki),g=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,E=f.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(E=E.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase());let v=E===g||!o&&E.startsWith(g)&&E.charAt(g.length)==="/",y=_!=null&&(_===g||!o&&_.startsWith(g)&&_.charAt(g.length)==="/"),S=v?r:void 0,T;typeof i=="function"?T=i({isActive:v,isPending:y}):T=[i,v?"active":null,y?"pending":null].filter(Boolean).join(" ");let w=typeof a=="function"?a({isActive:v,isPending:y}):a;return C.createElement(ct,rh({},u,{"aria-current":S,className:T,ref:n,style:w,to:l}),typeof c=="function"?c({isActive:v,isPending:y}):c)});var OS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(OS||(OS={}));var DS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(DS||(DS={}));function pM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=En(),l=yn(),c=ey(t,{relative:o});return C.useCallback(u=>{if(aM(u,n)){u.preventDefault();let h=r!==void 0?r:th(l)===th(c);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,c,r,s,n,t,i,o])}function mM(t){let e=C.useRef(Kg(t)),n=C.useRef(!1),r=yn(),s=C.useMemo(()=>lM(r.search,n.current?null:e.current),[r.search]),i=En(),o=C.useCallback((a,l)=>{const c=Kg(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(t,e){if(!t)throw wa(e)},wa=function(t){return new Error("Firebase Database ("+t1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},gM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ty={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(n1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):gM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new _M;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _M extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const r1=function(t){const e=n1(t);return ty.encodeByteArray(e,!0)},sh=function(t){return r1(t).replace(/\./g,"")},ih=function(t){try{return ty.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(t){return s1(void 0,t)}function s1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!yM(n)||(t[n]=s1(t[n],e[n]));return t}function yM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SM=()=>EM().__FIREBASE_DEFAULTS__,wM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},TM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ih(t[1]);return e&&JSON.parse(e)},ny=()=>{try{return SM()||wM()||TM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},i1=t=>{var e,n;return(n=(e=ny())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},o1=t=>{const e=i1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},a1=()=>{var t;return(t=ny())===null||t===void 0?void 0:t.config},l1=t=>{var e;return(e=ny())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[sh(JSON.stringify(n)),sh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function CM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function u1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function IM(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function d1(){return t1.NODE_ADMIN===!0}function RM(){try{return typeof indexedDB=="object"}catch{return!1}}function xM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NM="FirebaseError";class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=NM,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Mc.prototype.create)}}class Mc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?AM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xr(s,a,r)}}function AM(t,e){return t.replace(bM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const bM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ac(t){return JSON.parse(t)}function Dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=ac(ih(i[0])||""),n=ac(ih(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},kM=function(t){const e=h1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},PM=function(t){const e=h1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ea(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Qg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function ah(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(MS(i)&&MS(o)){if(!ah(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function MS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ta(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function dl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function hl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):h<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function OM(t,e){const n=new DM(t,e);return n.subscribe.bind(n)}class DM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=im),s.error===void 0&&(s.error=im),s.complete===void 0&&(s.complete=im);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function im(){}function VM(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},uf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ry;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UM(e))try{this.getOrInitializeService({instanceIdentifier:di})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=di){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=di){return this.instances.has(e)}getOptions(e=di){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:FM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=di){return this.component?this.component.multipleInstances?e:di:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FM(t){return t===di?void 0:t}function UM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $M(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const zM={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},HM=ke.INFO,WM={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},qM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=WM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class df{constructor(e){this.name=e,this._logLevel=HM,this._logHandler=qM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const GM=(t,e)=>e.some(n=>t instanceof n);let VS,jS;function KM(){return VS||(VS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QM(){return jS||(jS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f1=new WeakMap,Yg=new WeakMap,p1=new WeakMap,om=new WeakMap,iy=new WeakMap;function YM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(js(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&f1.set(n,t)}).catch(()=>{}),iy.set(e,t),e}function XM(t){if(Yg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Yg.set(t,e)}let Xg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||p1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function JM(t){Xg=t(Xg)}function ZM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(am(this),e,...n);return p1.set(r,e.sort?e.sort():[e]),js(r)}:QM().includes(t)?function(...e){return t.apply(am(this),e),js(f1.get(this))}:function(...e){return js(t.apply(am(this),e))}}function eV(t){return typeof t=="function"?ZM(t):(t instanceof IDBTransaction&&XM(t),GM(t,KM())?new Proxy(t,Xg):t)}function js(t){if(t instanceof IDBRequest)return YM(t);if(om.has(t))return om.get(t);const e=eV(t);return e!==t&&(om.set(t,e),iy.set(e,t)),e}const am=t=>iy.get(t);function tV(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=js(o);return r&&o.addEventListener("upgradeneeded",l=>{r(js(o.result),l.oldVersion,l.newVersion,js(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const nV=["get","getKey","getAll","getAllKeys","count"],rV=["put","add","delete","clear"],lm=new Map;function $S(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=rV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||nV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return lm.set(e,i),i}JM(t=>({...t,get:(e,n,r)=>$S(e,n)||t.get(e,n,r),has:(e,n)=>!!$S(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(iV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function iV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jg="@firebase/app",FS="0.9.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new df("@firebase/app"),oV="@firebase/app-compat",aV="@firebase/analytics-compat",lV="@firebase/analytics",cV="@firebase/app-check-compat",uV="@firebase/app-check",dV="@firebase/auth",hV="@firebase/auth-compat",fV="@firebase/database",pV="@firebase/database-compat",mV="@firebase/functions",gV="@firebase/functions-compat",_V="@firebase/installations",vV="@firebase/installations-compat",yV="@firebase/messaging",EV="@firebase/messaging-compat",SV="@firebase/performance",wV="@firebase/performance-compat",TV="@firebase/remote-config",CV="@firebase/remote-config-compat",IV="@firebase/storage",RV="@firebase/storage-compat",xV="@firebase/firestore",NV="@firebase/firestore-compat",AV="firebase",bV="10.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="[DEFAULT]",kV={[Jg]:"fire-core",[oV]:"fire-core-compat",[lV]:"fire-analytics",[aV]:"fire-analytics-compat",[uV]:"fire-app-check",[cV]:"fire-app-check-compat",[dV]:"fire-auth",[hV]:"fire-auth-compat",[fV]:"fire-rtdb",[pV]:"fire-rtdb-compat",[mV]:"fire-fn",[gV]:"fire-fn-compat",[_V]:"fire-iid",[vV]:"fire-iid-compat",[yV]:"fire-fcm",[EV]:"fire-fcm-compat",[SV]:"fire-perf",[wV]:"fire-perf-compat",[TV]:"fire-rc",[CV]:"fire-rc-compat",[IV]:"fire-gcs",[RV]:"fire-gcs-compat",[xV]:"fire-fst",[NV]:"fire-fst-compat","fire-js":"fire-js",[AV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,e_=new Map;function PV(t,e){try{t.container.addComponent(e)}catch(n){ki.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(e_.has(e))return ki.debug(`There were multiple attempts to register component ${e}.`),!1;e_.set(e,t);for(const n of lh.values())PV(n,t);return!0}function hf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$s=new Mc("app","Firebase",LV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=bV;function m1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw $s.create("bad-app-name",{appName:String(s)});if(n||(n=a1()),!n)throw $s.create("no-options");const i=lh.get(s);if(i){if(ah(n,i.options)&&ah(r,i.config))return i;throw $s.create("duplicate-app",{appName:s})}const o=new BM(s);for(const l of e_.values())o.addComponent(l);const a=new OV(n,r,o);return lh.set(s,a),a}function oy(t=Zg){const e=lh.get(t);if(!e&&t===Zg&&a1())return m1();if(!e)throw $s.create("no-app",{appName:t});return e}function Bn(t,e,n){var r;let s=(r=kV[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ki.warn(a.join(" "));return}qs(new ns(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV="firebase-heartbeat-database",MV=1,lc="firebase-heartbeat-store";let cm=null;function g1(){return cm||(cm=tV(DV,MV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(lc)}}}).catch(t=>{throw $s.create("idb-open",{originalErrorMessage:t.message})})),cm}async function VV(t){try{return await(await g1()).transaction(lc).objectStore(lc).get(_1(t))}catch(e){if(e instanceof xr)ki.warn(e.message);else{const n=$s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ki.warn(n.message)}}}async function US(t,e){try{const r=(await g1()).transaction(lc,"readwrite");await r.objectStore(lc).put(e,_1(t)),await r.done}catch(n){if(n instanceof xr)ki.warn(n.message);else{const r=$s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ki.warn(r.message)}}}function _1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV=1024,$V=30*24*60*60*1e3;class FV{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new BV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=BS();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=$V}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=BS(),{heartbeatsToSend:n,unsentEntries:r}=UV(this._heartbeatsCache.heartbeats),s=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function BS(){return new Date().toISOString().substring(0,10)}function UV(t,e=jV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),zS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),zS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class BV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return RM()?xM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await VV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return US(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return US(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zS(t){return sh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zV(t){qs(new ns("platform-logger",e=>new sV(e),"PRIVATE")),qs(new ns("heartbeat",e=>new FV(e),"PRIVATE")),Bn(Jg,FS,t),Bn(Jg,FS,"esm2017"),Bn("fire-js","")}zV("");function ay(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function HS(t){return t!==void 0&&t.enterprise!==void 0}class HV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function v1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WV=v1,y1=new Mc("auth","Firebase",v1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new df("@firebase/auth");function qV(t,...e){ch.logLevel<=ke.WARN&&ch.warn(`Auth (${ei}): ${t}`,...e)}function vd(t,...e){ch.logLevel<=ke.ERROR&&ch.error(`Auth (${ei}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw ly(t,...e)}function Sr(t,...e){return ly(t,...e)}function E1(t,e,n){const r=Object.assign(Object.assign({},WV()),{[e]:n});return new Mc("auth","Firebase",r).create(e,{appName:t.name})}function GV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qn(t,"argument-error"),E1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ly(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return y1.create(t,...e)}function le(t,e,...n){if(!t)throw ly(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vd(e),new Error(e)}function rs(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function KV(){return WS()==="http:"||WS()==="https:"}function WS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KV()||CM()||"connection"in navigator)?navigator.onLine:!0}function YV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=sy()||u1()}get(){return QV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cy(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JV=new Vc(3e4,6e4);function ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ni(t,e,n,r,s={}){return w1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Ta(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),S1.fetch()(T1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function w1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},XV),e);try{const s=new ZV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Vu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Vu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Vu(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw E1(t,u,c);qn(t,u)}}catch(s){if(s instanceof xr)throw s;qn(t,"network-request-failed",{message:String(s)})}}async function jc(t,e,n,r,s={}){const i=await ni(t,e,n,r,s);return"mfaPendingCredential"in i&&qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function T1(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?cy(t.config,s):`${t.config.apiScheme}://${s}`}class ZV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),JV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sr(t,e,r);return s.customData._tokenResponse=n,s}async function ej(t,e){return ni(t,"GET","/v2/recaptchaConfig",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tj(t,e){return ni(t,"POST","/v1/accounts:delete",e)}async function nj(t,e){return ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Al(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function rj(t,e=!1){const n=yt(t),r=await n.getIdToken(e),s=uy(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Al(um(s.auth_time)),issuedAtTime:Al(um(s.iat)),expirationTime:Al(um(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function um(t){return Number(t)*1e3}function uy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vd("JWT malformed, contained fewer than 3 sections"),null;try{const s=ih(n);return s?JSON.parse(s):(vd("Failed to decode base64 JWT payload"),null)}catch(s){return vd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function sj(t){const e=uy(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xr&&ij(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function ij({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Al(this.lastLoginAt),this.creationTime=Al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await cc(t,nj(n,{idToken:r}));le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?cj(i.providerUserInfo):[],a=lj(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new C1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function aj(t){const e=yt(t);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function lj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function cj(t){return t.map(e=>{var{providerId:n}=e,r=ay(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uj(t,e){const n=await w1(t,{},async()=>{const r=Ta({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=T1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",S1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return le(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await uj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new uc;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uc,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ti{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=ay(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new oj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new C1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await cc(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return rj(this,e)}reload(){return aj(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await cc(this,tj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:S,isAnonymous:T,providerData:w,stsTokenManager:x}=n;le(y&&x,e,"internal-error");const P=uc.fromJSON(this.name,x);le(typeof y=="string",e,"internal-error"),gs(h,e.name),gs(f,e.name),le(typeof S=="boolean",e,"internal-error"),le(typeof T=="boolean",e,"internal-error"),gs(p,e.name),gs(m,e.name),gs(g,e.name),gs(E,e.name),gs(_,e.name),gs(v,e.name);const W=new Ti({uid:y,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:T,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:P,createdAt:_,lastLoginAt:v});return w&&Array.isArray(w)&&(W.providerData=w.map(O=>Object.assign({},O))),E&&(W._redirectEventId=E),W}static async _fromIdTokenResponse(e,n,r=!1){const s=new uc;s.updateFromServerResponse(n);const i=new Ti({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await uh(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qS=new Map;function Hr(t){rs(t instanceof Function,"Expected a class definition");let e=qS.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,qS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}I1.type="NONE";const GS=I1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yd(t,e,n){return`firebase:${t}:${e}:${n}`}class Mo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=yd(this.userKey,s.apiKey,i),this.fullPersistenceKey=yd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ti._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Mo(Hr(GS),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Hr(GS);const o=yd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Ti._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Mo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Mo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(N1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b1(e))return"Blackberry";if(k1(e))return"Webos";if(dy(e))return"Safari";if((e.includes("chrome/")||x1(e))&&!e.includes("edge/"))return"Chrome";if(A1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function R1(t=tn()){return/firefox\//i.test(t)}function dy(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function x1(t=tn()){return/crios\//i.test(t)}function N1(t=tn()){return/iemobile/i.test(t)}function A1(t=tn()){return/android/i.test(t)}function b1(t=tn()){return/blackberry/i.test(t)}function k1(t=tn()){return/webos/i.test(t)}function ff(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function dj(t=tn()){var e;return ff(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function hj(){return IM()&&document.documentMode===10}function P1(t=tn()){return ff(t)||A1(t)||k1(t)||b1(t)||/windows phone/i.test(t)||N1(t)}function fj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t,e=[]){let n;switch(t){case"Browser":n=KS(tn());break;case"Worker":n=`${KS(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ei}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mj(t,e={}){return ni(t,"GET","/v2/passwordPolicy",ti(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gj=6;class _j{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:gj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QS(this),this.idTokenSubscription=new QS(this),this.beforeStateQueue=new pj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Mo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=YV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?yt(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mj(this),n=new _j(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Mc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Mo.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=L1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fs(t){return yt(t)}class QS{constructor(e){this.auth=e,this.observer=null,this.addObserver=OM(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function O1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Sr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",yj().appendChild(r)})}function Ej(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Sj="https://www.google.com/recaptcha/enterprise.js?render=",wj="recaptcha-enterprise",Tj="NO_RECAPTCHA";class Cj{constructor(e){this.type=wj,this.auth=fs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{ej(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new HV(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;HS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(Tj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&HS(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}O1(Sj+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function dh(t,e,n,r=!1){const s=new Cj(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ij(t,e){const n=hf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ah(i,e??{}))return s;qn(s,"already-initialized")}return n.initialize({options:e})}function Rj(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function xj(t,e,n){const r=fs(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=D1(e),{host:o,port:a}=Nj(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||Aj()}function D1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Nj(t){const e=D1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:YS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:YS(o)}}}function YS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Aj(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function bj(t,e){return ni(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(t,e){return jc(t,"POST","/v1/accounts:signInWithPassword",ti(t,e))}async function kj(t,e){return ni(t,"POST","/v1/accounts:sendOobCode",ti(t,e))}async function Pj(t,e){return kj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lj(t,e){return jc(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}async function Oj(t,e){return jc(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends hy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new dc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new dc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await dh(e,r,"signInWithPassword");return dm(e,s)}else return dm(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await dh(e,r,"signInWithPassword");return dm(e,i)}else return Promise.reject(s)});case"emailLink":return Lj(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return bj(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return Oj(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(t,e){return jc(t,"POST","/v1/accounts:signInWithIdp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dj="http://localhost";class Pi extends hy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Pi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=ay(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Pi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Vo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Vo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Vo(e,n)}buildRequest(){const e={requestUri:Dj,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ta(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Vj(t){const e=dl(hl(t)).link,n=e?dl(hl(e)).deep_link_id:null,r=dl(hl(t)).deep_link_id;return(r?dl(hl(r)).link:null)||r||n||e||t}class fy{constructor(e){var n,r,s,i,o,a;const l=dl(hl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=Mj((s=l.mode)!==null&&s!==void 0?s:null);le(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=Vj(e);try{return new fy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{constructor(){this.providerId=Ca.PROVIDER_ID}static credential(e,n){return dc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=fy.parseLink(n);return le(r,"argument-error"),dc._fromEmailAndCode(e,r.code,r.tenantId)}}Ca.PROVIDER_ID="password";Ca.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ca.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends py{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends $c{constructor(){super("facebook.com")}static credential(e){return Pi._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Pi._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends $c{constructor(){super("github.com")}static credential(e){return Pi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.GITHUB_SIGN_IN_METHOD="github.com";$r.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends $c{constructor(){super("twitter.com")}static credential(e,n){return Pi._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hm(t,e){return jc(t,"POST","/v1/accounts:signUp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ti._fromIdTokenResponse(e,r,s),o=XS(r);return new Li({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=XS(r);return new Li({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function XS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh extends xr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,hh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new hh(e,n,r,s)}}function M1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?hh._fromErrorAndOperation(t,i,e,r):i})}async function jj(t,e,n=!1){const r=await cc(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Li._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $j(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await cc(t,M1(r,s,e,t),n);le(i.idToken,r,"internal-error");const o=uy(i.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),Li._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(t,e,n=!1){const r="signIn",s=await M1(t,r,e),i=await Li._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Fj(t,e){return V1(fs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(t,e,n){var r;le(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j1(t){const e=fs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bj(t,e,n){var r;const s=fs(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await dh(s,i,"signUpPassword");o=hm(s,c)}else o=hm(s,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await dh(s,i,"signUpPassword");return hm(s,u)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&j1(t),c}),l=await Li._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function JS(t,e,n){return Fj(yt(t),Ca.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&j1(t),r})}async function zj(t,e){const n=yt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Uj(n.auth,s,e);const{email:i}=await Pj(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hj(t,e){return yt(t).setPersistence(e)}function Wj(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function qj(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function pf(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function Gj(t){return yt(t).signOut()}const fh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fh,"1"),this.storage.removeItem(fh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(){const t=tn();return dy(t)||ff(t)}const Qj=1e3,Yj=10;class F1 extends $1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Kj()&&fj(),this.fallbackToPolling=P1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);hj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Yj):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Qj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F1.type="LOCAL";const Xj=F1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1 extends $1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}U1.type="SESSION";const my=U1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new mf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await Jj(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gy(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zj{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=gy("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function e$(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function t$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function n$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function r$(){return B1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="firebaseLocalStorageDb",s$=1,ph="firebaseLocalStorage",H1="fbase_key";class Fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function gf(t,e){return t.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function i$(){const t=indexedDB.deleteDatabase(z1);return new Fc(t).toPromise()}function n_(){const t=indexedDB.open(z1,s$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ph,{keyPath:H1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ph)?e(r):(r.close(),await i$(),e(await n_()))})})}async function ZS(t,e,n){const r=gf(t,!0).put({[H1]:e,value:n});return new Fc(r).toPromise()}async function o$(t,e){const n=gf(t,!1).get(e),r=await new Fc(n).toPromise();return r===void 0?null:r.value}function ew(t,e){const n=gf(t,!0).delete(e);return new Fc(n).toPromise()}const a$=800,l$=3;class W1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await n_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>l$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return B1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mf._getInstance(r$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await t$(),!this.activeServiceWorker)return;this.sender=new Zj(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||n$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await n_();return await ZS(e,fh,"1"),await ew(e,fh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>ZS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>o$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ew(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=gf(s,!1).getAll();return new Fc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),a$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W1.type="LOCAL";const c$=W1;new Vc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(t,e){return e?Hr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y extends hy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function u$(t){return V1(t.auth,new _y(t),t.bypassAuthState)}function d$(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),$j(n,new _y(t),t.bypassAuthState)}async function h$(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),jj(n,new _y(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return u$;case"linkViaPopup":case"linkViaRedirect":return h$;case"reauthViaPopup":case"reauthViaRedirect":return d$;default:qn(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f$=new Vc(2e3,1e4);class Ro extends G1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=gy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,f$.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$="pendingRedirect",Ed=new Map;class m$ extends G1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ed.get(this.auth._key());if(!e){try{const r=await g$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ed.set(this.auth._key(),e)}return this.bypassAuthState||Ed.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function g$(t,e){const n=Q1(e),r=K1(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function _$(t,e){return K1(t)._set(Q1(e),"true")}function v$(t,e){Ed.set(t._key(),e)}function K1(t){return Hr(t._redirectPersistence)}function Q1(t){return yd(p$,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t,e,n){return y$(t,e,n)}async function y$(t,e,n){const r=fs(t);GV(t,e,py),await r._initializationPromise;const s=q1(r,n);return await _$(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function Y1(t,e){return await fs(t)._initializationPromise,X1(t,e,!1)}async function X1(t,e,n=!1){const r=fs(t),s=q1(r,e),o=await new m$(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$=10*60*1e3;class S${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!J1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=E$&&this.cachedEventUids.clear(),this.cachedEventUids.has(tw(e))}saveEventToCache(e){this.cachedEventUids.add(tw(e)),this.lastProcessedEventTime=Date.now()}}function tw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function J1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function w$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T$(t,e={}){return ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,I$=/^https?/;async function R$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await T$(t);for(const n of e)try{if(x$(n))return}catch{}qn(t,"unauthorized-domain")}function x$(t){const e=t_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!I$.test(n))return!1;if(C$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=new Vc(3e4,6e4);function nw(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function A$(t){return new Promise((e,n)=>{var r,s,i;function o(){nw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{nw(),n(Sr(t,"network-request-failed"))},timeout:N$.get()})}if(!((s=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=wr().gapi)===null||i===void 0)&&i.load)o();else{const a=Ej("iframefcb");return wr()[a]=()=>{gapi.load?o():n(Sr(t,"network-request-failed"))},O1(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Sd=null,e})}let Sd=null;function b$(t){return Sd=Sd||A$(t),Sd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=new Vc(5e3,15e3),P$="__/auth/iframe",L$="emulator/auth/iframe",O$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},D$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M$(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?cy(e,L$):`https://${t.config.authDomain}/${P$}`,r={apiKey:e.apiKey,appName:t.name,v:ei},s=D$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Ta(r).slice(1)}`}async function V$(t){const e=await b$(t),n=wr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:M$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:O$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Sr(t,"network-request-failed"),a=wr().setTimeout(()=>{i(o)},k$.get());function l(){wr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},$$=500,F$=600,U$="_blank",B$="http://localhost";class rw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z$(t,e,n,r=$$,s=F$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},j$),{width:r.toString(),height:s.toString(),top:i,left:o}),c=tn().toLowerCase();n&&(a=x1(c)?U$:n),R1(c)&&(e=e||B$,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(dj(c)&&a!=="_self")return H$(e||"",a),new rw(null);const h=window.open(e||"",a,u);le(h,t,"popup-blocked");try{h.focus()}catch{}return new rw(h)}function H$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W$="__/auth/handler",q$="emulator/auth/handler",G$=encodeURIComponent("fac");async function sw(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ei,eventId:s};if(e instanceof py){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Qg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof $c){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${G$}=${encodeURIComponent(l)}`:"";return`${K$(t)}?${Ta(a).slice(1)}${c}`}function K$({config:t}){return t.emulator?cy(t,q$):`https://${t.authDomain}/${W$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class Q${constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=my,this._completeRedirectFn=X1,this._overrideRedirectResult=v$}async _openPopup(e,n,r,s){var i;rs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await sw(e,n,r,t_(),s);return z$(e,o,gy())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await sw(e,n,r,t_(),s);return e$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await V$(e),r=new S$(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[fm];o!==void 0&&n(!!o),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=R$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P1()||dy()||ff()}}const Y$=Q$;var iw="@firebase/auth",ow="1.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Z$(t){qs(new ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L1(t)},c=new vj(r,s,i,l);return Rj(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qs(new ns("auth-internal",e=>{const n=fs(e.getProvider("auth").getImmediate());return(r=>new X$(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(iw,ow,J$(t)),Bn(iw,ow,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=5*60,t2=l1("authIdTokenMaxAge")||e2;let aw=null;const n2=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>t2)return;const s=n==null?void 0:n.token;aw!==s&&(aw=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ss(t=oy()){const e=hf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Ij(t,{popupRedirectResolver:Y$,persistence:[c$,Xj,my]}),r=l1("authTokenSyncURL");if(r){const i=n2(r);qj(n,i,()=>i(n.currentUser)),Wj(n,o=>i(o))}const s=i1("auth");return s&&xj(n,`http://${s}`),n}Z$("Browser");function r2(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var s2=r2,Se=s2;function i2(t){return!!t&&typeof t.then=="function"}var Ge=i2;function o2(t,e){if(t!=null)return t;throw Se(e??"Got unexpected null or undefined")}var nt=o2;function ve(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class _f{getValue(){throw Se("BaseLoadable")}toPromise(){throw Se("BaseLoadable")}valueMaybe(){throw Se("BaseLoadable")}valueOrThrow(){throw Se(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Se("BaseLoadable")}promiseOrThrow(){throw Se(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Se("BaseLoadable")}errorOrThrow(){throw Se(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Se("BaseLoadable")}}class a2 extends _f{constructor(e){super(),ve(this,"state","hasValue"),ve(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Ge(n)?Oi(n):ta(n)?n:Uc(n)}catch(n){return Ge(n)?Oi(n.next(()=>this.map(e))):vf(n)}}}class l2 extends _f{constructor(e){super(),ve(this,"state","hasError"),ve(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class Z1 extends _f{constructor(e){super(),ve(this,"state","loading"),ve(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Oi(this.contents.then(n=>{const r=e(n);if(ta(r)){const s=r;switch(s.state){case"hasValue":return s.contents;case"hasError":throw s.contents;case"loading":return s.contents}}return r}).catch(n=>{if(Ge(n))return n.then(()=>this.map(e).contents);throw n}))}}function Uc(t){return Object.freeze(new a2(t))}function vf(t){return Object.freeze(new l2(t))}function Oi(t){return Object.freeze(new Z1(t))}function ex(){return Object.freeze(new Z1(new Promise(()=>{})))}function c2(t){return t.every(e=>e.state==="hasValue")?Uc(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?vf(nt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Oi(Promise.all(t.map(e=>e.contents)))}function tx(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(s=>t[s])).map(s=>ta(s)?s:Ge(s)?Oi(s):Uc(s)),r=c2(n);return Array.isArray(t)?r:r.map(s=>Object.getOwnPropertyNames(t).reduce((i,o,a)=>({...i,[o]:s[a]}),{}))}function ta(t){return t instanceof _f}const u2={of:t=>Ge(t)?Oi(t):ta(t)?t:Uc(t),error:t=>vf(t),loading:()=>ex(),all:tx,isLoadable:ta};var Qi={loadableWithValue:Uc,loadableWithError:vf,loadableWithPromise:Oi,loadableLoading:ex,loadableAll:tx,isLoadable:ta,RecoilLoadable:u2},d2=Qi.loadableWithValue,h2=Qi.loadableWithError,f2=Qi.loadableWithPromise,p2=Qi.loadableLoading,m2=Qi.loadableAll,g2=Qi.isLoadable,_2=Qi.RecoilLoadable,Bc=Object.freeze({__proto__:null,loadableWithValue:d2,loadableWithError:h2,loadableWithPromise:f2,loadableLoading:p2,loadableAll:m2,isLoadable:g2,RecoilLoadable:_2});const r_={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function v2(t,e){var n,r;const s=(n=process.env[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(s==null||s==="")return;if(!["true","false"].includes(s))throw Se(`({}).${t} value must be 'true', 'false', or empty: ${s}`);e(s==="true")}function y2(t,e){var n;const r=(n=process.env[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function E2(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(v2("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{r_.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),y2("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{r_.RECOIL_GKS_ENABLED.add(n)})}))}E2();var Ia=r_;function yf(t){return Ia.RECOIL_GKS_ENABLED.has(t)}yf.setPass=t=>{Ia.RECOIL_GKS_ENABLED.add(t)};yf.setFail=t=>{Ia.RECOIL_GKS_ENABLED.delete(t)};yf.clear=()=>{Ia.RECOIL_GKS_ENABLED.clear()};var Fe=yf;function S2(t,e,{error:n}={}){return null}var w2=S2,vy=w2,pm,mm,gm;const T2=(pm=pe.createMutableSource)!==null&&pm!==void 0?pm:pe.unstable_createMutableSource,nx=(mm=pe.useMutableSource)!==null&&mm!==void 0?mm:pe.unstable_useMutableSource,rx=(gm=pe.useSyncExternalStore)!==null&&gm!==void 0?gm:pe.unstable_useSyncExternalStore;function C2(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function I2(){return Fe("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Fe("recoil_sync_external_store")&&rx!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Fe("recoil_mutable_source")&&nx!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Fe("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Fe("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function R2(){return!1}var zc={createMutableSource:T2,useMutableSource:nx,useSyncExternalStore:rx,currentRendererSupportsUseSyncExternalStore:C2,reactMode:I2,isFastRefreshEnabled:R2};class yy{constructor(e){ve(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class sx extends yy{}class ix extends yy{}function x2(t){return t instanceof sx||t instanceof ix}var Ef={AbstractRecoilValue:yy,RecoilState:sx,RecoilValueReadOnly:ix,isRecoilValue:x2},N2=Ef.AbstractRecoilValue,A2=Ef.RecoilState,b2=Ef.RecoilValueReadOnly,k2=Ef.isRecoilValue,na=Object.freeze({__proto__:null,AbstractRecoilValue:N2,RecoilState:A2,RecoilValueReadOnly:b2,isRecoilValue:k2});function P2(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Sf=P2;class ox{}const L2=new ox,Di=new Map,Ey=new Map;function O2(t){return Sf(t,e=>nt(Ey.get(e)))}function D2(t){if(Di.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function M2(t){Ia.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&D2(t.key),Di.set(t.key,t);const e=t.set==null?new na.RecoilValueReadOnly(t.key):new na.RecoilState(t.key);return Ey.set(t.key,e),e}class ax extends Error{}function V2(t){const e=Di.get(t);if(e==null)throw new ax(`Missing definition for RecoilValue: "${t}""`);return e}function j2(t){return Di.get(t)}const mh=new Map;function $2(t){var e;if(!Fe("recoil_memory_managament_2020"))return;const n=Di.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Di.delete(t),(r=lx(t))===null||r===void 0||r(),mh.delete(t)}}function F2(t,e){Fe("recoil_memory_managament_2020")&&(e===void 0?mh.delete(t):mh.set(t,e))}function lx(t){return mh.get(t)}var wn={nodes:Di,recoilValues:Ey,registerNode:M2,getNode:V2,getNodeMaybe:j2,deleteNodeConfigIfPossible:$2,setConfigDeletionHandler:F2,getConfigDeletionHandler:lx,recoilValuesForKeys:O2,NodeMissingError:ax,DefaultValue:ox,DEFAULT_VALUE:L2};function U2(t,e){e()}var B2={enqueueExecution:U2};function z2(t,e){return e={exports:{}},t(e,e.exports),e.exports}var H2=z2(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},n={},r=5,s=Math.pow(2,r),i=s-1,o=s/2,a=s/4,l={},c=function(I){return function(){return I}},u=n.hash=function(N){var I=typeof N>"u"?"undefined":e(N);if(I==="number")return N;I!=="string"&&(N+="");for(var F=0,Y=0,X=N.length;Y<X;++Y){var ne=N.charCodeAt(Y);F=(F<<5)-F+ne|0}return F},h=function(I){return I-=I>>1&1431655765,I=(I&858993459)+(I>>2&858993459),I=I+(I>>4)&252645135,I+=I>>8,I+=I>>16,I&127},f=function(I,F){return F>>>I&i},p=function(I){return 1<<I},m=function(I,F){return h(I&F-1)},g=function(I,F,Y,X){var ne=X;if(!I){var he=X.length;ne=new Array(he);for(var ue=0;ue<he;++ue)ne[ue]=X[ue]}return ne[F]=Y,ne},E=function(I,F,Y){var X=Y.length-1,ne=0,he=0,ue=Y;if(I)ne=he=F;else for(ue=new Array(X);ne<F;)ue[he++]=Y[ne++];for(++ne;ne<=X;)ue[he++]=Y[ne++];return I&&(ue.length=X),ue},_=function(I,F,Y,X){var ne=X.length;if(I){for(var he=ne;he>=F;)X[he--]=X[he];return X[F]=Y,X}for(var ue=0,de=0,Ce=new Array(ne+1);ue<F;)Ce[de++]=X[ue++];for(Ce[F]=Y;ue<ne;)Ce[++de]=X[ue++];return Ce},v=1,y=2,S=3,T=4,w={__hamt_isEmpty:!0},x=function(I){return I===w||I&&I.__hamt_isEmpty},P=function(I,F,Y,X){return{type:v,edit:I,hash:F,key:Y,value:X,_modify:j}},W=function(I,F,Y){return{type:y,edit:I,hash:F,children:Y,_modify:G}},O=function(I,F,Y){return{type:S,edit:I,mask:F,children:Y,_modify:$}},k=function(I,F,Y){return{type:T,edit:I,size:F,children:Y,_modify:ee}},A=function(I){return I===w||I.type===v||I.type===y},b=function(I,F,Y,X,ne){for(var he=[],ue=X,de=0,Ce=0;ue;++Ce)ue&1&&(he[Ce]=ne[de++]),ue>>>=1;return he[F]=Y,k(I,de+1,he)},z=function(I,F,Y,X){for(var ne=new Array(F-1),he=0,ue=0,de=0,Ce=X.length;de<Ce;++de)if(de!==Y){var Ze=X[de];Ze&&!x(Ze)&&(ne[he++]=Ze,ue|=1<<de)}return O(I,ue,ne)},ie=function N(I,F,Y,X,ne,he){if(Y===ne)return W(I,Y,[he,X]);var ue=f(F,Y),de=f(F,ne);return O(I,p(ue)|p(de),ue===de?[N(I,F+r,Y,X,ne,he)]:ue<de?[X,he]:[he,X])},Ee=function(I,F,Y,X,ne,he,ue,de){for(var Ce=ne.length,Ze=0;Ze<Ce;++Ze){var un=ne[Ze];if(Y(ue,un.key)){var wt=un.value,Ln=he(wt);return Ln===wt?ne:Ln===l?(--de.value,E(I,Ze,ne)):g(I,Ze,P(F,X,ue,Ln),ne)}}var Kn=he();return Kn===l?ne:(++de.value,g(I,Ce,P(F,X,ue,Kn),ne))},we=function(I,F){return I===F.edit},j=function(I,F,Y,X,ne,he,ue){if(F(he,this.key)){var de=X(this.value);return de===this.value?this:de===l?(--ue.value,w):we(I,this)?(this.value=de,this):P(I,ne,he,de)}var Ce=X();return Ce===l?this:(++ue.value,ie(I,Y,this.hash,this,ne,P(I,ne,he,Ce)))},G=function(I,F,Y,X,ne,he,ue){if(ne===this.hash){var de=we(I,this),Ce=Ee(de,I,F,this.hash,this.children,X,he,ue);return Ce===this.children?this:Ce.length>1?W(I,this.hash,Ce):Ce[0]}var Ze=X();return Ze===l?this:(++ue.value,ie(I,Y,this.hash,this,ne,P(I,ne,he,Ze)))},$=function(I,F,Y,X,ne,he,ue){var de=this.mask,Ce=this.children,Ze=f(Y,ne),un=p(Ze),wt=m(de,un),Ln=de&un,Kn=Ln?Ce[wt]:w,ro=Kn._modify(I,F,Y+r,X,ne,he,ue);if(Kn===ro)return this;var yu=we(I,this),$a=de,Fa=void 0;if(Ln&&x(ro)){if($a&=~un,!$a)return w;if(Ce.length<=2&&A(Ce[wt^1]))return Ce[wt^1];Fa=E(yu,wt,Ce)}else if(!Ln&&!x(ro)){if(Ce.length>=o)return b(I,Ze,ro,de,Ce);$a|=un,Fa=_(yu,wt,ro,Ce)}else Fa=g(yu,wt,ro,Ce);return yu?(this.mask=$a,this.children=Fa,this):O(I,$a,Fa)},ee=function(I,F,Y,X,ne,he,ue){var de=this.size,Ce=this.children,Ze=f(Y,ne),un=Ce[Ze],wt=(un||w)._modify(I,F,Y+r,X,ne,he,ue);if(un===wt)return this;var Ln=we(I,this),Kn=void 0;if(x(un)&&!x(wt))++de,Kn=g(Ln,Ze,wt,Ce);else if(!x(un)&&x(wt)){if(--de,de<=a)return z(I,de,Ze,Ce);Kn=g(Ln,Ze,w,Ce)}else Kn=g(Ln,Ze,wt,Ce);return Ln?(this.size=de,this.children=Kn,this):k(I,de,Kn)};w._modify=function(N,I,F,Y,X,ne,he){var ue=Y();return ue===l?w:(++he.value,P(N,X,ne,ue))};function R(N,I,F,Y,X){this._editable=N,this._edit=I,this._config=F,this._root=Y,this._size=X}R.prototype.setTree=function(N,I){return this._editable?(this._root=N,this._size=I,this):N===this._root?this:new R(this._editable,this._edit,this._config,N,I)};var L=n.tryGetHash=function(N,I,F,Y){for(var X=Y._root,ne=0,he=Y._config.keyEq;;)switch(X.type){case v:return he(F,X.key)?X.value:N;case y:{if(I===X.hash)for(var ue=X.children,de=0,Ce=ue.length;de<Ce;++de){var Ze=ue[de];if(he(F,Ze.key))return Ze.value}return N}case S:{var un=f(ne,I),wt=p(un);if(X.mask&wt){X=X.children[m(X.mask,wt)],ne+=r;break}return N}case T:{if(X=X.children[f(ne,I)],X){ne+=r;break}return N}default:return N}};R.prototype.tryGetHash=function(N,I,F){return L(N,I,F,this)};var V=n.tryGet=function(N,I,F){return L(N,F._config.hash(I),I,F)};R.prototype.tryGet=function(N,I){return V(N,I,this)};var se=n.getHash=function(N,I,F){return L(void 0,N,I,F)};R.prototype.getHash=function(N,I){return se(N,I,this)},n.get=function(N,I){return L(void 0,I._config.hash(N),N,I)},R.prototype.get=function(N,I){return V(I,N,this)};var J=n.has=function(N,I,F){return L(l,N,I,F)!==l};R.prototype.hasHash=function(N,I){return J(N,I,this)};var _e=n.has=function(N,I){return J(I._config.hash(N),N,I)};R.prototype.has=function(N){return _e(N,this)};var Te=function(I,F){return I===F};n.make=function(N){return new R(0,0,{keyEq:N&&N.keyEq||Te,hash:N&&N.hash||u},w,0)},n.empty=n.make();var ae=n.isEmpty=function(N){return N&&!!x(N._root)};R.prototype.isEmpty=function(){return ae(this)};var Xe=n.modifyHash=function(N,I,F,Y){var X={value:Y._size},ne=Y._root._modify(Y._editable?Y._edit:NaN,Y._config.keyEq,0,N,I,F,X);return Y.setTree(ne,X.value)};R.prototype.modifyHash=function(N,I,F){return Xe(F,N,I,this)};var St=n.modify=function(N,I,F){return Xe(N,F._config.hash(I),I,F)};R.prototype.modify=function(N,I){return St(I,N,this)};var je=n.setHash=function(N,I,F,Y){return Xe(c(F),N,I,Y)};R.prototype.setHash=function(N,I,F){return je(N,I,F,this)};var Je=n.set=function(N,I,F){return je(F._config.hash(N),N,I,F)};R.prototype.set=function(N,I){return Je(N,I,this)};var Pn=c(l),Pr=n.removeHash=function(N,I,F){return Xe(Pn,N,I,F)};R.prototype.removeHash=R.prototype.deleteHash=function(N,I){return Pr(N,I,this)};var rn=n.remove=function(N,I){return Pr(I._config.hash(N),N,I)};R.prototype.remove=R.prototype.delete=function(N){return rn(N,this)};var $t=n.beginMutation=function(N){return new R(N._editable+1,N._edit+1,N._config,N._root,N._size)};R.prototype.beginMutation=function(){return $t(this)};var vu=n.endMutation=function(N){return N._editable=N._editable&&N._editable-1,N};R.prototype.endMutation=function(){return vu(this)};var DP=n.mutate=function(N,I){var F=$t(I);return N(F),vu(F)};R.prototype.mutate=function(N){return DP(N,this)};var Np=function(I){return I&&m0(I[0],I[1],I[2],I[3],I[4])},m0=function(I,F,Y,X,ne){for(;Y<I;){var he=F[Y++];if(he&&!x(he))return g0(he,X,[I,F,Y,X,ne])}return Np(ne)},g0=function(I,F,Y){switch(I.type){case v:return{value:F(I),rest:Y};case y:case T:case S:var X=I.children;return m0(X.length,X,0,F,Y);default:return Np(Y)}},MP={done:!0};function Ap(N){this.v=N}Ap.prototype.next=function(){if(!this.v)return MP;var N=this.v;return this.v=Np(N.rest),N},Ap.prototype[Symbol.iterator]=function(){return this};var bp=function(I,F){return new Ap(g0(I._root,F))},VP=function(I){return[I.key,I.value]},jP=n.entries=function(N){return bp(N,VP)};R.prototype.entries=R.prototype[Symbol.iterator]=function(){return jP(this)};var $P=function(I){return I.key},FP=n.keys=function(N){return bp(N,$P)};R.prototype.keys=function(){return FP(this)};var UP=function(I){return I.value},BP=n.values=R.prototype.values=function(N){return bp(N,UP)};R.prototype.values=function(){return BP(this)};var _0=n.fold=function(N,I,F){var Y=F._root;if(Y.type===v)return N(I,Y.value,Y.key);for(var X=[Y.children],ne=void 0;ne=X.pop();)for(var he=0,ue=ne.length;he<ue;){var de=ne[he++];de&&de.type&&(de.type===v?I=N(I,de.value,de.key):X.push(de.children))}return I};R.prototype.fold=function(N,I){return _0(N,I,this)};var zP=n.forEach=function(N,I){return _0(function(F,Y,X){return N(Y,X,I)},null,I)};R.prototype.forEach=function(N){return zP(N,this)};var HP=n.count=function(N){return N._size};R.prototype.count=function(){return HP(this)},Object.defineProperty(R.prototype,"size",{get:R.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class W2{constructor(e){ve(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return wy(this)}toMap(){return new Map(this._map)}}class Sy{constructor(e){if(ve(this,"_hamt",H2.empty.beginMutation()),e instanceof Sy){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return wy(this)}toMap(){return new Map(this._hamt)}}function wy(t){return Fe("recoil_hamt_2020")?new Sy(t):new W2(t)}var q2={persistentMap:wy},G2=q2.persistentMap,K2=Object.freeze({__proto__:null,persistentMap:G2});function Q2(t,...e){const n=new Set;e:for(const r of t){for(const s of e)if(s.has(r))continue e;n.add(r)}return n}var bl=Q2;function Y2(t,e){const n=new Map;return t.forEach((r,s)=>{n.set(s,e(r,s))}),n}var gh=Y2;function X2(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function J2(t){return{nodeDeps:gh(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:gh(t.nodeToNodeSubscriptions,e=>new Set(e))}}function _m(t,e,n,r){const{nodeDeps:s,nodeToNodeSubscriptions:i}=n,o=s.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;s.set(t,e);const a=o==null?e:bl(e,o);for(const l of a)i.has(l)||i.set(l,new Set),nt(i.get(l)).add(t);if(o){const l=bl(o,e);for(const c of l){if(!i.has(c))return;const u=nt(i.get(c));u.delete(t),u.size===0&&i.delete(c)}}}function Z2(t,e,n,r){var s,i,o,a;const l=n.getState();r===l.currentTree.version||r===((s=l.nextTree)===null||s===void 0?void 0:s.version)||((i=l.previousTree)===null||i===void 0||i.version);const c=n.getGraph(r);if(_m(t,e,c),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const h=n.getGraph(l.currentTree.version);_m(t,e,h,c)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var u;const h=(u=l.nextTree)===null||u===void 0?void 0:u.version;if(h!==void 0){const f=n.getGraph(h);_m(t,e,f,c)}}}var Hc={cloneGraph:J2,graph:X2,saveDepsToStore:Z2};let eF=0;const tF=()=>eF++;let nF=0;const rF=()=>nF++;let sF=0;const iF=()=>sF++;var wf={getNextTreeStateVersion:tF,getNextStoreID:rF,getNextComponentID:iF};const{persistentMap:lw}=K2,{graph:oF}=Hc,{getNextTreeStateVersion:cx}=wf;function ux(){const t=cx();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:lw(),nonvalidatedAtoms:lw()}}function aF(){const t=ux();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,oF()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var dx={makeEmptyTreeState:ux,makeEmptyStoreState:aF,getNextTreeStateVersion:cx};class hx{}function lF(){return new hx}var Tf={RetentionZone:hx,retentionZone:lF};function cF(t,e){const n=new Set(t);return n.add(e),n}function uF(t,e){const n=new Set(t);return n.delete(e),n}function dF(t,e,n){const r=new Map(t);return r.set(e,n),r}function hF(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function fF(t,e){const n=new Map(t);return n.delete(e),n}function pF(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var fx={setByAddingToSet:cF,setByDeletingFromSet:uF,mapBySettingInMap:dF,mapByUpdatingInMap:hF,mapByDeletingFromMap:fF,mapByDeletingMultipleFromMap:pF};function*mF(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var Ty=mF;function gF(t,e){return new Proxy(t,{get:(r,s)=>(!(s in r)&&s in e&&(r[s]=e[s]()),r[s]),ownKeys:r=>Object.keys(r)})}var px=gF;const{getNode:Wc,getNodeMaybe:_F,recoilValuesForKeys:cw}=wn,{RetentionZone:uw}=Tf,{setByAddingToSet:vF}=fx,yF=Object.freeze(new Set);class EF extends Error{}function SF(t,e,n){if(!Fe("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function s(i){let o=r.get(i);o||r.set(i,o=new Set),o.add(e)}if(n instanceof uw)s(n);else if(Array.isArray(n))for(const i of n)s(i);return()=>{if(!Fe("recoil_memory_managament_2020"))return;const{retention:i}=t.getState();function o(a){const l=i.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&i.nodesRetainedByZone.delete(a)}if(n instanceof uw)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function Cy(t,e,n,r){const s=t.getState();if(s.nodeCleanupFunctions.has(n))return;const i=Wc(n),o=SF(t,n,i.retainedBy),a=i.init(t,e,r);s.nodeCleanupFunctions.set(n,()=>{a(),o()})}function wF(t,e,n){Cy(t,t.getState().currentTree,e,n)}function TF(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function CF(t,e,n){return Cy(t,e,n,"get"),Wc(n).get(t,e)}function mx(t,e,n){return Wc(n).peek(t,e)}function IF(t,e,n){var r;const s=_F(e);return s==null||(r=s.invalidate)===null||r===void 0||r.call(s,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:vF(t.dirtyAtoms,e)}}function RF(t,e,n,r){const s=Wc(n);if(s.set==null)throw new EF(`Attempt to set read-only RecoilValue: ${n}`);const i=s.set;return Cy(t,e,n,"set"),i(t,e,r)}function xF(t,e,n){const r=t.getState(),s=t.getGraph(e.version),i=Wc(n).nodeType;return px({type:i},{loadable:()=>mx(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>i==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return cw((o=s.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:cw(Ty(gx(t,e,new Set([n])),l=>l!==n)),components:Sf((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function gx(t,e,n){const r=new Set,s=Array.from(n),i=t.getGraph(e.version);for(let a=s.pop();a;a=s.pop()){var o;r.add(a);const l=(o=i.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:yF;for(const c of l)r.has(c)||s.push(c)}return r}var ri={getNodeLoadable:CF,peekNodeLoadable:mx,setNodeValue:RF,initializeNode:wF,cleanUpNode:TF,setUnvalidatedAtomValue_DEPRECATED:IF,peekNodeInfo:xF,getDownstreamNodes:gx};let _x=null;function NF(t){_x=t}function AF(){var t;(t=_x)===null||t===void 0||t()}var vx={setInvalidateMemoizedSnapshot:NF,invalidateMemoizedSnapshot:AF};const{getDownstreamNodes:bF,getNodeLoadable:yx,setNodeValue:kF}=ri,{getNextComponentID:PF}=wf,{getNode:LF,getNodeMaybe:Ex}=wn,{DefaultValue:Iy}=wn,{reactMode:OF}=zc,{AbstractRecoilValue:DF,RecoilState:MF,RecoilValueReadOnly:VF,isRecoilValue:jF}=na,{invalidateMemoizedSnapshot:$F}=vx;function FF(t,{key:e},n=t.getState().currentTree){var r,s;const i=t.getState();n.version===i.currentTree.version||n.version===((r=i.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(s=i.previousTree)===null||s===void 0||s.version);const o=yx(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function UF(t,e){const n=t.clone();return e.forEach((r,s)=>{r.state==="hasValue"&&r.contents instanceof Iy?n.delete(s):n.set(s,r)}),n}function BF(t,e,{key:n},r){if(typeof r=="function"){const s=yx(t,e,n);if(s.state==="loading"){const i=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Se(i)}else if(s.state==="hasError")throw s.contents;return r(s.contents)}else return r}function zF(t,e,n){if(n.type==="set"){const{recoilValue:s,valueOrUpdater:i}=n,o=BF(t,e,s,i),a=kF(t,e,s.key,o);for(const[l,c]of a.entries())s_(e,l,c)}else if(n.type==="setLoadable"){const{recoilValue:{key:s},loadable:i}=n;s_(e,s,i)}else if(n.type==="markModified"){const{recoilValue:{key:s}}=n;e.dirtyAtoms.add(s)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:s},unvalidatedValue:i}=n,o=Ex(s);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(s),e.nonvalidatedAtoms.set(s,i),e.dirtyAtoms.add(s)}else vy(`Unknown action ${n.type}`)}function s_(t,e,n){n.state==="hasValue"&&n.contents instanceof Iy?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function Sx(t,e){t.replaceState(n=>{const r=wx(n);for(const s of e)zF(t,r,s);return Tx(t,r),$F(),r})}function Cf(t,e){if(kl.length){const n=kl[kl.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else Sx(t,[e])}const kl=[];function HF(){const t=new Map;return kl.push(t),()=>{for(const[e,n]of t)Sx(e,n);kl.pop()}}function wx(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function Tx(t,e){const n=bF(t,e,e.dirtyAtoms);for(const i of n){var r,s;(r=Ex(i))===null||r===void 0||(s=r.invalidate)===null||s===void 0||s.call(r,e)}}function Cx(t,e,n){Cf(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function WF(t,e,n){if(n instanceof Iy)return Cx(t,e,n);Cf(t,{type:"setLoadable",recoilValue:e,loadable:n})}function qF(t,e){Cf(t,{type:"markModified",recoilValue:e})}function GF(t,e,n){Cf(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function KF(t,{key:e},n,r=null){const s=PF(),i=t.getState();i.nodeToComponentSubscriptions.has(e)||i.nodeToComponentSubscriptions.set(e,new Map),nt(i.nodeToComponentSubscriptions.get(e)).set(s,[r??"<not captured>",n]);const o=OF();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(s)||(l.delete(s),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function QF(t,e){var n;const{currentTree:r}=t.getState(),s=LF(e.key);(n=s.clearCache)===null||n===void 0||n.call(s,t,r)}var Nr={RecoilValueReadOnly:VF,AbstractRecoilValue:DF,RecoilState:MF,getRecoilValueAsLoadable:FF,setRecoilValue:Cx,setRecoilValueLoadable:WF,markRecoilValueModified:qF,setUnvalidatedRecoilValue:GF,subscribeToRecoilValue:KF,isRecoilValue:jF,applyAtomValueWrites:UF,batchStart:HF,writeLoadableToTreeState:s_,invalidateDownstreams:Tx,copyTreeState:wx,refreshRecoilValue:QF};function YF(t,e,n){const r=t.entries();let s=r.next();for(;!s.done;){const i=s.value;if(e.call(n,i[1],i[0],t))return!0;s=r.next()}return!1}var XF=YF;const{cleanUpNode:JF}=ri,{deleteNodeConfigIfPossible:ZF,getNode:Ix}=wn,{RetentionZone:Rx}=Tf,eU=12e4,xx=new Set;function Nx(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const s=new Set;for(const o of e)if(o instanceof Rx)for(const a of sU(n,o))s.add(a);else s.add(o);const i=tU(t,s);for(const o of i)rU(t,r,o)}function tU(t,e){const n=t.getState(),r=n.currentTree,s=t.getGraph(r.version),i=new Set,o=new Set;return a(e),i;function a(l){const c=new Set,u=nU(t,r,l,i,o);for(const m of u){var h;if(Ix(m).retainedBy==="recoilRoot"){o.add(m);continue}if(((h=n.retention.referenceCounts.get(m))!==null&&h!==void 0?h:0)>0){o.add(m);continue}if(Ax(m).some(E=>n.retention.referenceCounts.get(E))){o.add(m);continue}const g=s.nodeToNodeSubscriptions.get(m);if(g&&XF(g,E=>o.has(E))){o.add(m);continue}i.add(m),c.add(m)}const f=new Set;for(const m of c)for(const g of(p=s.nodeDeps.get(m))!==null&&p!==void 0?p:xx){var p;i.has(g)||f.add(g)}f.size&&a(f)}}function nU(t,e,n,r,s){const i=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(nt(n.values().next().value));return o;function l(c){if(r.has(c)||s.has(c)){n.delete(c);return}if(a.has(c))return;const u=i.nodeToNodeSubscriptions.get(c);if(u)for(const h of u)l(h);a.add(c),n.delete(c),o.push(c)}}function rU(t,e,n){if(!Fe("recoil_memory_managament_2020"))return;JF(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const s=Ax(n);for(const l of s){var i;(i=r.retention.nodesRetainedByZone.get(l))===null||i===void 0||i.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const c of l){var a;(a=o.nodeToNodeSubscriptions.get(c))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}ZF(n)}function sU(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:xx}function Ax(t){const e=Ix(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof Rx?[e]:e}function iU(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):Nx(t,new Set([e]))}function oU(t,e,n){var r;if(!Fe("recoil_memory_managament_2020"))return;const s=t.getState().retention.referenceCounts,i=((r=s.get(e))!==null&&r!==void 0?r:0)+n;i===0?bx(t,e):s.set(e,i)}function bx(t,e){if(!Fe("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),iU(t,e)}function aU(t){if(!Fe("recoil_memory_managament_2020"))return;const e=t.getState();Nx(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function lU(t){return t===void 0?"recoilRoot":t}var Yi={SUSPENSE_TIMEOUT_MS:eU,updateRetainCount:oU,updateRetainCountToZero:bx,releaseScheduledRetainablesNow:aU,retainedByOptionWithDefault:lU};const{unstable_batchedUpdates:cU}=gD;var uU={unstable_batchedUpdates:cU};const{unstable_batchedUpdates:dU}=uU;var hU={unstable_batchedUpdates:dU};const{batchStart:fU}=Nr,{unstable_batchedUpdates:pU}=hU;let Ry=pU||(t=>t());const mU=t=>{Ry=t},gU=()=>Ry,_U=t=>{Ry(()=>{let e=()=>{};try{e=fU(),t()}finally{e()}})};var If={getBatcher:gU,setBatcher:mU,batchUpdates:_U};function*vU(t){for(const e of t)for(const n of e)yield n}var kx=vU;const Px=typeof Window>"u"||typeof window>"u",yU=t=>!Px&&(t===window||t instanceof Window),EU=typeof navigator<"u"&&navigator.product==="ReactNative";var Rf={isSSR:Px,isReactNative:EU,isWindow:yU};function SU(t,e){let n;return(...r)=>{n||(n={});const s=e(...r);return Object.hasOwnProperty.call(n,s)||(n[s]=t(...r)),n[s]}}function wU(t,e){let n,r;return(...s)=>{const i=e(...s);return n===i||(n=i,r=t(...s)),r}}function TU(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var CU={memoizeWithArgsHash:SU,memoizeOneWithArgsHash:wU,memoizeOneWithArgsHashAndInvalidation:TU};const{batchUpdates:i_}=If,{initializeNode:IU,peekNodeInfo:RU}=ri,{graph:xU}=Hc,{getNextStoreID:NU}=wf,{DEFAULT_VALUE:AU,recoilValues:dw,recoilValuesForKeys:hw}=wn,{AbstractRecoilValue:bU,getRecoilValueAsLoadable:kU,setRecoilValue:fw,setUnvalidatedRecoilValue:PU}=Nr,{updateRetainCount:wd}=Yi,{setInvalidateMemoizedSnapshot:LU}=vx,{getNextTreeStateVersion:OU,makeEmptyStoreState:DU}=dx,{isSSR:MU}=Rf,{memoizeOneWithArgsHashAndInvalidation:VU}=CU;class xf{constructor(e,n){ve(this,"_store",void 0),ve(this,"_refCount",1),ve(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),kU(this._store,r))),ve(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),ve(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return hw(o.dirtyAtoms)}const s=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?dw.values():r.isInitialized===!0?hw(kx([s,i])):Ty(dw.values(),({key:o})=>!s.has(o)&&!i.has(o))}),ve(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),RU(this._store,this._store.getState().currentTree,r))),ve(this,"map",r=>{this.checkRefCount_INTERNAL();const s=new o_(this,i_);return r(s),s}),ve(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const s=new o_(this,i_);return s.retain(),await r(s),s.autoRelease_INTERNAL(),s}),this._store={storeID:NU(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const s=e.graphsByVersion;if(s.has(r))return nt(s.get(r));const i=xU();return s.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Se("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)IU(this._store,r,"get"),wd(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){MU||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Fe("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Fe("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function Lx(t,e,n=!1){const r=t.getState(),s=n?OU():e.version;return{currentTree:{version:n?s:e.version,stateID:n?s:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(s,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Sf(r.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function jU(t){const e=new xf(DU());return t!=null?e.map(t):e}const[pw,Ox]=VU((t,e)=>{var n;const r=t.getState(),s=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:nt(r.previousTree);return new xf(Lx(t,s),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});LU(Ox);function $U(t,e="latest"){const n=pw(t,e);return n.isRetained()?n:(Ox(),pw(t,e))}class o_ extends xf{constructor(e,n){super(Lx(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),ve(this,"_batch",void 0),ve(this,"set",(r,s)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{wd(i,r.key,1),fw(this.getStore_INTERNAL(),r,s)})}),ve(this,"reset",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{wd(s,r.key,1),fw(this.getStore_INTERNAL(),r,AU)})}),ve(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();i_(()=>{for(const[i,o]of r.entries())wd(s,i,1),PU(s,new bU(i),o)})}),this._batch=n}}var Nf={Snapshot:xf,MutableSnapshot:o_,freshSnapshot:jU,cloneSnapshot:$U},FU=Nf.Snapshot,UU=Nf.MutableSnapshot,BU=Nf.freshSnapshot,zU=Nf.cloneSnapshot,Af=Object.freeze({__proto__:null,Snapshot:FU,MutableSnapshot:UU,freshSnapshot:BU,cloneSnapshot:zU});function HU(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var WU=HU;const{useRef:qU}=pe;function GU(t){const e=qU(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var mw=GU;const{getNextTreeStateVersion:KU,makeEmptyStoreState:Dx}=dx,{cleanUpNode:QU,getDownstreamNodes:YU,initializeNode:XU,setNodeValue:JU,setUnvalidatedAtomValue_DEPRECATED:ZU}=ri,{graph:e4}=Hc,{cloneGraph:t4}=Hc,{getNextStoreID:Mx}=wf,{createMutableSource:vm,reactMode:Vx}=zc,{applyAtomValueWrites:n4}=Nr,{releaseScheduledRetainablesNow:jx}=Yi,{freshSnapshot:r4}=Af,{useCallback:s4,useContext:$x,useEffect:a_,useMemo:i4,useRef:o4,useState:a4}=pe;function Qa(){throw Se("This component must be used inside a <RecoilRoot> component.")}const Fx=Object.freeze({storeID:Mx(),getState:Qa,replaceState:Qa,getGraph:Qa,subscribeToTransactions:Qa,addTransactionMetadata:Qa});let l_=!1;function gw(t){if(l_)throw Se("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Fe("recoil_memory_managament_2020")&&Fe("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&jx(t);const n=e.currentTree.version,r=KU();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,t4(nt(e.graphsByVersion.get(n))))}}const Ux=pe.createContext({current:Fx}),bf=()=>$x(Ux),Bx=pe.createContext(null);function l4(){return $x(Bx)}function xy(t,e,n){const r=YU(t,n,n.dirtyAtoms);for(const s of r){const i=e.nodeToComponentSubscriptions.get(s);if(i)for(const[o,[a,l]]of i)l(n)}}function zx(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[s,i]of e.nodeTransactionSubscriptions)if(r.has(s))for(const[o,a]of i)a(t);for(const[s,i]of e.transactionSubscriptions)i(t);(!Vx().early||e.suspendedComponentResolvers.size>0)&&(xy(t,e,n),e.suspendedComponentResolvers.forEach(s=>s()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(s=>s(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function c4(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,zx(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):vy("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Fe("recoil_memory_managament_2020")&&n==null&&jx(t)}finally{e.commitDepth--}}function u4({setNotifyBatcherOfChange:t}){const e=bf(),[,n]=a4([]);return t(()=>n({})),a_(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),a_(()=>{B2.enqueueExecution("Batcher",()=>{c4(e.current)})}),null}function d4(t,e){const n=Dx();return e({set:(r,s)=>{const i=n.currentTree,o=JU(t,i,r.key,s),a=new Set(o.keys()),l=i.nonvalidatedAtoms.clone();for(const c of a)l.delete(c);n.currentTree={...i,dirtyAtoms:WU(i.dirtyAtoms,a),atomValues:n4(i.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((s,i)=>{n.currentTree=ZU(n.currentTree,i,s)})}}),n}function h4(t){const e=r4(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let _w=0;function f4({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let s;const i=p=>{const m=s.current.graphsByVersion;if(m.has(p))return nt(m.get(p));const g=e4();return m.set(p,g),g},o=(p,m)=>{if(m==null){const{transactionSubscriptions:g}=h.current.getState(),E=_w++;return g.set(E,p),{release:()=>{g.delete(E)}}}else{const{nodeTransactionSubscriptions:g}=h.current.getState();g.has(m)||g.set(m,new Map);const E=_w++;return nt(g.get(m)).set(E,p),{release:()=>{const _=g.get(m);_&&(_.delete(E),_.size===0&&g.delete(m))}}}},a=p=>{gw(h.current);for(const m of Object.keys(p))nt(h.current.getState().nextTree).transactionMetadata[m]=p[m]},l=p=>{gw(h.current);const m=nt(s.current.nextTree);let g;try{l_=!0,g=p(m)}finally{l_=!1}g!==m&&(s.current.nextTree=g,Vx().early&&xy(h.current,s.current,g),nt(c.current)())},c=o4(null),u=s4(p=>{c.current=p},[c]),h=mw(()=>n??{storeID:Mx(),getState:()=>s.current,replaceState:l,getGraph:i,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(h.current=n),s=mw(()=>t!=null?d4(h.current,t):e!=null?h4(e):Dx());const f=i4(()=>vm==null?void 0:vm(s,()=>s.current.currentTree.version),[s]);return a_(()=>{const p=h.current;for(const m of new Set(p.getState().knownAtoms))XU(p,m,"get");return()=>{for(const m of p.getState().knownAtoms)QU(p,m)}},[h]),pe.createElement(Ux.Provider,{value:h},pe.createElement(Bx.Provider,{value:f},pe.createElement(u4,{setNotifyBatcherOfChange:u}),r))}function p4(t){const{override:e,...n}=t,r=bf();return e===!1&&r.current!==Fx?t.children:pe.createElement(f4,n)}function m4(){return bf().current.storeID}var ps={RecoilRoot:p4,useStoreRef:bf,useRecoilMutableSource:l4,useRecoilStoreID:m4,notifyComponents_FOR_TESTING:xy,sendEndOfBatchNotifications_FOR_TESTING:zx};function g4(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var _4=g4;const{useEffect:v4,useRef:y4}=pe;function E4(t){const e=y4();return v4(()=>{e.current=t}),e.current}var Hx=E4;const{useStoreRef:S4}=ps,{SUSPENSE_TIMEOUT_MS:w4}=Yi,{updateRetainCount:Ya}=Yi,{RetentionZone:T4}=Tf,{useEffect:C4,useRef:I4}=pe,{isSSR:vw}=Rf;function R4(t){if(Fe("recoil_memory_managament_2020"))return x4(t)}function x4(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof T4?o:o.key),r=S4();C4(()=>{if(!Fe("recoil_memory_managament_2020"))return;const o=r.current;if(s.current&&!vw)window.clearTimeout(s.current),s.current=null;else for(const a of n)Ya(o,a,1);return()=>{for(const a of n)Ya(o,a,-1)}},[r,...n]);const s=I4(),i=Hx(n);if(!vw&&(i===void 0||!_4(i,n))){const o=r.current;for(const a of n)Ya(o,a,1);if(i)for(const a of i)Ya(o,a,-1);s.current&&window.clearTimeout(s.current),s.current=window.setTimeout(()=>{s.current=null;for(const a of n)Ya(o,a,-1)},w4)}}var Ny=R4;function N4(){return"<component name not available>"}var qc=N4;const{batchUpdates:A4}=If,{DEFAULT_VALUE:Wx}=wn,{currentRendererSupportsUseSyncExternalStore:b4,reactMode:Ra,useMutableSource:k4,useSyncExternalStore:P4}=zc,{useRecoilMutableSource:L4,useStoreRef:Ar}=ps,{AbstractRecoilValue:c_,getRecoilValueAsLoadable:Gc,setRecoilValue:_h,setUnvalidatedRecoilValue:O4,subscribeToRecoilValue:ra}=Nr,{useCallback:_n,useEffect:sa,useMemo:qx,useRef:Pl,useState:Ay}=pe,{setByAddingToSet:D4}=fx,{isSSR:M4}=Rf;function by(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(s=>{const i=n.current.getState().suspendedComponentResolvers;i.add(s),M4&&Ge(t.contents)&&t.contents.finally(()=>{i.delete(s)})}):t.state==="hasError"?t.contents:Se(`Invalid value of loadable atom "${e.key}"`)}function V4(){const t=qc(),e=Ar(),[,n]=Ay([]),r=Pl(new Set);r.current=new Set;const s=Pl(new Set),i=Pl(new Map),o=_n(l=>{const c=i.current.get(l);c&&(c.release(),i.current.delete(l))},[i]),a=_n((l,c)=>{i.current.has(c)&&n([])},[]);return sa(()=>{const l=e.current;bl(r.current,s.current).forEach(c=>{if(i.current.has(c))return;const u=ra(l,new c_(c),f=>a(f,c),t);i.current.set(c,u),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),c)}):a(l.getState(),c)}),bl(s.current,r.current).forEach(c=>{o(c)}),s.current=r.current}),sa(()=>{const l=i.current;return bl(r.current,new Set(l.keys())).forEach(c=>{const u=ra(e.current,new c_(c),h=>a(h,c),t);l.set(c,u)}),()=>l.forEach((c,u)=>o(u))},[t,e,o,a]),qx(()=>{function l(m){return g=>{_h(e.current,m,g)}}function c(m){return()=>_h(e.current,m,Wx)}function u(m){var g;r.current.has(m.key)||(r.current=D4(r.current,m.key));const E=e.current.getState();return Gc(e.current,m,Ra().early&&(g=E.nextTree)!==null&&g!==void 0?g:E.currentTree)}function h(m){const g=u(m);return by(g,m,e)}function f(m){return[h(m),l(m)]}function p(m){return[u(m),l(m)]}return{getRecoilValue:h,getRecoilValueLoadable:u,getRecoilState:f,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:c}},[r,e])}const j4={current:0};function $4(t){const e=Ar(),n=qc(),r=_n(()=>{var a;const l=e.current,c=l.getState(),u=Ra().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return{loadable:Gc(l,t,u),key:t.key}},[e,t]),s=_n(a=>{let l;return()=>{var c,u;const h=a();return(c=l)!==null&&c!==void 0&&c.loadable.is(h.loadable)&&((u=l)===null||u===void 0?void 0:u.key)===h.key?l:(l=h,h)}},[]),i=qx(()=>s(r),[r,s]),o=_n(a=>{const l=e.current;return ra(l,t,a,n).release},[e,t,n]);return P4(o,i,i).loadable}function F4(t){const e=Ar(),n=_n(()=>{var c;const u=e.current,h=u.getState(),f=Ra().early&&(c=h.nextTree)!==null&&c!==void 0?c:h.currentTree;return Gc(u,t,f)},[e,t]),r=_n(()=>n(),[n]),s=qc(),i=_n((c,u)=>{const h=e.current;return ra(h,t,()=>{if(!Fe("recoil_suppress_rerender_in_callback"))return u();const p=n();l.current.is(p)||u(),l.current=p},s).release},[e,t,s,n]),o=L4();if(o==null)throw Se("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=k4(o,r,i),l=Pl(a);return sa(()=>{l.current=a}),a}function u_(t){const e=Ar(),n=qc(),r=_n(()=>{var l;const c=e.current,u=c.getState(),h=Ra().early&&(l=u.nextTree)!==null&&l!==void 0?l:u.currentTree;return Gc(c,t,h)},[e,t]),s=_n(()=>({loadable:r(),key:t.key}),[r,t.key]),i=_n(l=>{const c=s();return l.loadable.is(c.loadable)&&l.key===c.key?l:c},[s]);sa(()=>{const l=ra(e.current,t,c=>{a(i)},n);return a(i),l.release},[n,t,e,i]);const[o,a]=Ay(s);return o.key!==t.key?s().loadable:o.loadable}function U4(t){const e=Ar(),[,n]=Ay([]),r=qc(),s=_n(()=>{var a;const l=e.current,c=l.getState(),u=Ra().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return Gc(l,t,u)},[e,t]),i=s(),o=Pl(i);return sa(()=>{o.current=i}),sa(()=>{const a=e.current,l=a.getState(),c=ra(a,t,h=>{var f;if(!Fe("recoil_suppress_rerender_in_callback"))return n([]);const p=s();(f=o.current)!==null&&f!==void 0&&f.is(p)||n(p),o.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var u;if(!Fe("recoil_suppress_rerender_in_callback"))return n([]);const h=s();(u=o.current)!==null&&u!==void 0&&u.is(h)||n(h),o.current=h}return c.release},[r,s,t,e]),i}function ky(t){return Fe("recoil_memory_managament_2020")&&Ny(t),{TRANSITION_SUPPORT:u_,SYNC_EXTERNAL_STORE:b4()?$4:u_,MUTABLE_SOURCE:F4,LEGACY:U4}[Ra().mode](t)}function Gx(t){const e=Ar(),n=ky(t);return by(n,t,e)}function kf(t){const e=Ar();return _n(n=>{_h(e.current,t,n)},[e,t])}function B4(t){const e=Ar();return _n(()=>{_h(e.current,t,Wx)},[e,t])}function z4(t){return[Gx(t),kf(t)]}function H4(t){return[ky(t),kf(t)]}function W4(){const t=Ar();return(e,n={})=>{A4(()=>{t.current.addTransactionMetadata(n),e.forEach((r,s)=>O4(t.current,new c_(s),r))})}}function Kx(t){return Fe("recoil_memory_managament_2020")&&Ny(t),u_(t)}function Qx(t){const e=Ar(),n=Kx(t);return by(n,t,e)}function q4(t){return[Qx(t),kf(t)]}var G4={recoilComponentGetRecoilValueCount_FOR_TESTING:j4,useRecoilInterface:V4,useRecoilState:z4,useRecoilStateLoadable:H4,useRecoilValue:Gx,useRecoilValueLoadable:ky,useResetRecoilState:B4,useSetRecoilState:kf,useSetUnvalidatedAtomValues:W4,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Kx,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Qx,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:q4};function K4(t,e){const n=new Map;for(const[r,s]of t)e(s,r)&&n.set(r,s);return n}var Q4=K4;function Y4(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var X4=Y4;function J4(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let s;for(;!(s=r.next()).done;)e.set(s.value,t[n].get(s.value))}return e}var Z4=J4;const{batchUpdates:eB}=If,{DEFAULT_VALUE:tB,getNode:Yx,nodes:nB}=wn,{useStoreRef:Py}=ps,{AbstractRecoilValue:rB,setRecoilValueLoadable:sB}=Nr,{SUSPENSE_TIMEOUT_MS:iB}=Yi,{cloneSnapshot:vh}=Af,{useCallback:Pf,useEffect:Xx,useRef:yw,useState:oB}=pe,{isSSR:Ew}=Rf;function Lf(t){const e=Py();Xx(()=>e.current.subscribeToTransactions(t).release,[t,e])}function Sw(t){const e=t.atomValues.toMap(),n=gh(Q4(e,(r,s)=>{const o=Yx(s).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return Z4(t.nonvalidatedAtoms.toMap(),n)}function aB(t){Lf(Pf(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const s=Sw(r),i=Sw(n),o=gh(nB,l=>{var c,u,h,f;return{persistence_UNSTABLE:{type:(c=(u=l.persistence_UNSTABLE)===null||u===void 0?void 0:u.type)!==null&&c!==void 0?c:"none",backButton:(h=(f=l.persistence_UNSTABLE)===null||f===void 0?void 0:f.backButton)!==null&&h!==void 0?h:!1}}}),a=X4(r.dirtyAtoms,l=>s.has(l)||i.has(l));t({atomValues:s,previousAtomValues:i,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function lB(t){Lf(Pf(e=>{const n=vh(e,"latest"),r=vh(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function cB(){const t=Py(),[e,n]=oB(()=>vh(t.current)),r=Hx(e),s=yw(),i=yw();if(Lf(Pf(a=>n(vh(a)),[])),Xx(()=>{const a=e.retain();if(s.current&&!Ew){var l;window.clearTimeout(s.current),s.current=null,(l=i.current)===null||l===void 0||l.call(i),i.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!Ew){if(s.current){var o;window.clearTimeout(s.current),s.current=null,(o=i.current)===null||o===void 0||o.call(i),i.current=null}i.current=e.retain(),s.current=window.setTimeout(()=>{var a;s.current=null,(a=i.current)===null||a===void 0||a.call(i),i.current=null},iB)}return e}function Jx(t,e){var n;const r=t.getState(),s=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,i=e.getStore_INTERNAL().getState().currentTree;eB(()=>{const o=new Set;for(const c of[s.atomValues.keys(),i.atomValues.keys()])for(const u of c){var a,l;((a=s.atomValues.get(u))===null||a===void 0?void 0:a.contents)!==((l=i.atomValues.get(u))===null||l===void 0?void 0:l.contents)&&Yx(u).shouldRestoreFromSnapshots&&o.add(u)}o.forEach(c=>{sB(t,new rB(c),i.atomValues.has(c)?nt(i.atomValues.get(c)):tB)}),t.replaceState(c=>({...c,stateID:e.getID()}))})}function uB(){const t=Py();return Pf(e=>Jx(t.current,e),[t])}var Zx={useRecoilSnapshot:cB,gotoSnapshot:Jx,useGotoRecoilSnapshot:uB,useRecoilTransactionObserver:lB,useTransactionObservation_DEPRECATED:aB,useTransactionSubscription_DEPRECATED:Lf};const{peekNodeInfo:dB}=ri,{useStoreRef:hB}=ps;function fB(){const t=hB();return({key:e})=>dB(t.current,t.current.getState().currentTree,e)}var pB=fB;const{reactMode:mB}=zc,{RecoilRoot:gB,useStoreRef:_B}=ps,{useMemo:vB}=pe;function yB(){mB().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=_B().current;return vB(()=>{function e({children:n}){return pe.createElement(gB,{store_INTERNAL:t},n)}return e},[t])}var EB=yB;const{loadableWithValue:SB}=Bc,{initializeNode:wB}=ri,{DEFAULT_VALUE:TB,getNode:CB}=wn,{copyTreeState:IB,getRecoilValueAsLoadable:RB,invalidateDownstreams:xB,writeLoadableToTreeState:NB}=Nr;function ww(t){return CB(t.key).nodeType==="atom"}class AB{constructor(e,n){ve(this,"_store",void 0),ve(this,"_treeState",void 0),ve(this,"_changes",void 0),ve(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!ww(r))throw Se("Reading selectors within atomicUpdate is not supported");const s=RB(this._store,r,this._treeState);if(s.state==="hasValue")return s.contents;throw s.state==="hasError"?s.contents:Se(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),ve(this,"set",(r,s)=>{if(!ww(r))throw Se("Setting selectors within atomicUpdate is not supported");if(typeof s=="function"){const i=this.get(r);this._changes.set(r.key,s(i))}else wB(this._store,r.key,"set"),this._changes.set(r.key,s)}),ve(this,"reset",r=>{this.set(r,TB)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=IB(this._treeState);for(const[n,r]of this._changes)NB(e,n,SB(r));return xB(this._store,e),e}}function bB(t){return e=>{t.replaceState(n=>{const r=new AB(t,n);return e(r),r.newTreeState_INTERNAL()})}}var kB={atomicUpdater:bB},PB=kB.atomicUpdater,eN=Object.freeze({__proto__:null,atomicUpdater:PB});function LB(t,e){if(!t)throw new Error(e)}var OB=LB,pl=OB;const{atomicUpdater:DB}=eN,{batchUpdates:MB}=If,{DEFAULT_VALUE:VB}=wn,{useStoreRef:jB}=ps,{refreshRecoilValue:$B,setRecoilValue:Tw}=Nr,{cloneSnapshot:FB}=Af,{gotoSnapshot:UB}=Zx,{useCallback:BB}=pe;class tN{}const zB=new tN;function nN(t,e,n,r){let s=zB,i;if(MB(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Se(a);const l=px({...r??{},set:(u,h)=>Tw(t,u,h),reset:u=>Tw(t,u,VB),refresh:u=>$B(t,u),gotoSnapshot:u=>UB(t,u),transact_UNSTABLE:u=>DB(t)(u)},{snapshot:()=>{const u=FB(t);return i=u.retain(),u}}),c=e(l);if(typeof c!="function")throw Se(a);s=c(...n)}),s instanceof tN&&pl(!1),Ge(s))s=s.finally(()=>{var a;(a=i)===null||a===void 0||a()});else{var o;(o=i)===null||o===void 0||o()}return s}function HB(t,e){const n=jB();return BB((...r)=>nN(n.current,t,r),e!=null?[...e,n]:void 0)}var rN={recoilCallback:nN,useRecoilCallback:HB};const{useStoreRef:WB}=ps,{refreshRecoilValue:qB}=Nr,{useCallback:GB}=pe;function KB(t){const e=WB();return GB(()=>{const n=e.current;qB(n,t)},[t,e])}var QB=KB;const{atomicUpdater:YB}=eN,{useStoreRef:XB}=ps,{useMemo:JB}=pe;function ZB(t,e){const n=XB();return JB(()=>(...r)=>{YB(n.current)(i=>{t(i)(...r)})},e!=null?[...e,n]:void 0)}var ez=ZB;class tz{constructor(e){ve(this,"value",void 0),this.value=e}}var nz={WrappedValue:tz},rz=nz.WrappedValue,sN=Object.freeze({__proto__:null,WrappedValue:rz});const{isFastRefreshEnabled:sz}=zc;class Cw extends Error{}class iz{constructor(e){var n,r,s;ve(this,"_name",void 0),ve(this,"_numLeafs",void 0),ve(this,"_root",void 0),ve(this,"_onHit",void 0),ve(this,"_onSet",void 0),ve(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(s=e==null?void 0:e.mapNodeValue)!==null&&s!==void 0?s:i=>i}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const s=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(s)}}set(e,n,r){const s=()=>{var i,o,a,l;let c,u;for(const[E,_]of e){var h,f,p;const v=this._root;if((v==null?void 0:v.type)==="leaf")throw this.invalidCacheError();const y=c;if(c=y?y.branches.get(u):v,c=(h=c)!==null&&h!==void 0?h:{type:"branch",nodeKey:E,parent:y,branches:new Map,branchKey:u},c.type!=="branch"||c.nodeKey!==E)throw this.invalidCacheError();y==null||y.branches.set(u,c),r==null||(f=r.onNodeVisit)===null||f===void 0||f.call(r,c),u=this._mapNodeValue(_),this._root=(p=this._root)!==null&&p!==void 0?p:c}const m=c?(i=c)===null||i===void 0?void 0:i.branches.get(u):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==u))throw this.invalidCacheError();const g={type:"leaf",value:n,parent:c,branchKey:u};(o=c)===null||o===void 0||o.branches.set(u,g),this._root=(a=this._root)!==null&&a!==void 0?a:g,this._numLeafs++,this._onSet(g),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,g)};try{s()}catch(i){if(i instanceof Cw)this.clear(),s();else throw i}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,s=e.branchKey;for(;r;){var i;if(r.branches.delete(s),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;s=(i=r)===null||i===void 0?void 0:i.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=sz()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw vy(e+(this._name!=null?` - ${this._name}`:"")),new Cw}}var oz={TreeCache:iz},az=oz.TreeCache,iN=Object.freeze({__proto__:null,TreeCache:az});class lz{constructor(e){var n;ve(this,"_maxSize",void 0),ve(this,"_size",void 0),ve(this,"_head",void 0),ve(this,"_tail",void 0),ve(this,"_map",void 0),ve(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const i=this.head(),o={key:e,right:i,left:null,value:n};i?i.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=nt(this._map.get(n)),s=r.right,i=r.left;s&&(s.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=s),r===this.tail()&&(this._tail=i),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var cz={LRUCache:lz},uz=cz.LRUCache,oN=Object.freeze({__proto__:null,LRUCache:uz});const{LRUCache:dz}=oN,{TreeCache:hz}=iN;function fz({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new dz({maxSize:e}),s=new hz({name:t,mapNodeValue:n,onHit:i=>{r.set(i,!0)},onSet:i=>{const o=r.tail();r.set(i,!0),o&&s.size()>e&&s.delete(o.key)}});return s}var Iw=fz;function Yn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Se("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Ge(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((s,i)=>Yn(s,e,i.toString()))}]`;if(typeof t.toJSON=="function")return Yn(t.toJSON(n),e,n);if(t instanceof Map){const s={};for(const[i,o]of t)s[typeof i=="string"?i:Yn(i,e)]=o;return Yn(s,e,n)}return t instanceof Set?Yn(Array.from(t).sort((s,i)=>Yn(s,e).localeCompare(Yn(i,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Yn(Array.from(t),e,n):`{${Object.keys(t).filter(s=>t[s]!==void 0).sort().map(s=>`${Yn(s,e)}:${Yn(t[s],e,s)}`).join(",")}}`}function pz(t,e={allowFunctions:!1}){return Yn(t,e)}var Of=pz;const{TreeCache:mz}=iN,ju={equality:"reference",eviction:"keep-all",maxSize:1/0};function gz({equality:t=ju.equality,eviction:e=ju.eviction,maxSize:n=ju.maxSize}=ju,r){const s=_z(t);return vz(e,n,s,r)}function _z(t){switch(t){case"reference":return e=>e;case"value":return e=>Of(e)}throw Se(`Unrecognized equality policy ${t}`)}function vz(t,e,n,r){switch(t){case"keep-all":return new mz({name:r,mapNodeValue:n});case"lru":return Iw({name:r,maxSize:nt(e),mapNodeValue:n});case"most-recent":return Iw({name:r,maxSize:1,mapNodeValue:n})}throw Se(`Unrecognized eviction policy ${t}`)}var yz=gz;function Ez(t){return()=>null}var Sz={startPerfBlock:Ez};const{isLoadable:wz,loadableWithError:$u,loadableWithPromise:Tz,loadableWithValue:ym}=Bc,{WrappedValue:aN}=sN,{getNodeLoadable:Fu,peekNodeLoadable:Cz,setNodeValue:Iz}=ri,{saveDepsToStore:Rz}=Hc,{DEFAULT_VALUE:xz,getConfigDeletionHandler:Nz,getNode:Az,registerNode:Rw}=wn,{isRecoilValue:bz}=na,{markRecoilValueModified:xw}=Nr,{retainedByOptionWithDefault:kz}=Yi,{recoilCallback:Pz}=rN,{startPerfBlock:Lz}=Sz;class lN{}const Xa=new lN,Ja=[],Uu=new Map,Oz=(()=>{let t=0;return()=>t++})();function cN(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:s}=t,i=t.set!=null?t.set:void 0,o=new Set,a=yz(s??{equality:"reference",eviction:"keep-all"},n),l=kz(t.retainedBy_UNSTABLE),c=new Map;let u=0;function h(){return!Fe("recoil_memory_managament_2020")||u>0}function f(R){return R.getState().knownSelectors.add(n),u++,()=>{u--}}function p(){return Nz(n)!==void 0&&!h()}function m(R,L,V,se,J){Ee(L,se,J),g(R,V)}function g(R,L){z(R,L)&&b(R),_(L,!0)}function E(R,L){z(R,L)&&(nt(O(R)).stateVersions.clear(),_(L,!1))}function _(R,L){const V=Uu.get(R);if(V!=null){for(const se of V)xw(se,nt(e));L&&Uu.delete(R)}}function v(R,L){let V=Uu.get(L);V==null&&Uu.set(L,V=new Set),V.add(R)}function y(R,L,V,se,J,_e){return L.then(Te=>{if(!h())throw b(R),Xa;const ae=ym(Te);return m(R,V,J,ae,se),Te}).catch(Te=>{if(!h())throw b(R),Xa;if(Ge(Te))return S(R,Te,V,se,J,_e);const ae=$u(Te);throw m(R,V,J,ae,se),Te})}function S(R,L,V,se,J,_e){return L.then(Te=>{if(!h())throw b(R),Xa;_e.loadingDepKey!=null&&_e.loadingDepPromise===L?V.atomValues.set(_e.loadingDepKey,ym(Te)):R.getState().knownSelectors.forEach(je=>{V.atomValues.delete(je)});const ae=x(R,V);if(ae&&ae.state!=="loading"){if((z(R,J)||O(R)==null)&&g(R,J),ae.state==="hasValue")return ae.contents;throw ae.contents}if(!z(R,J)){const je=W(R,V);if(je!=null)return je.loadingLoadable.contents}const[Xe,St]=w(R,V,J);if(Xe.state!=="loading"&&m(R,V,J,Xe,St),Xe.state==="hasError")throw Xe.contents;return Xe.contents}).catch(Te=>{if(Te instanceof lN)throw Xa;if(!h())throw b(R),Xa;const ae=$u(Te);throw m(R,V,J,ae,se),Te})}function T(R,L,V,se){var J,_e,Te,ae;if(z(R,se)||L.version===((J=R.getState())===null||J===void 0||(_e=J.currentTree)===null||_e===void 0?void 0:_e.version)||L.version===((Te=R.getState())===null||Te===void 0||(ae=Te.nextTree)===null||ae===void 0?void 0:ae.version)){var Xe,St,je;Rz(n,V,R,(Xe=(St=R.getState())===null||St===void 0||(je=St.nextTree)===null||je===void 0?void 0:je.version)!==null&&Xe!==void 0?Xe:R.getState().currentTree.version)}for(const Je of V)o.add(Je)}function w(R,L,V){const se=Lz(n);let J=!0,_e=!0;const Te=()=>{se(),_e=!1};let ae,Xe=!1,St;const je={loadingDepKey:null,loadingDepPromise:null},Je=new Map;function Pn({key:rn}){const $t=Fu(R,L,rn);switch(Je.set(rn,$t),J||(T(R,L,new Set(Je.keys()),V),E(R,V)),$t.state){case"hasValue":return $t.contents;case"hasError":throw $t.contents;case"loading":throw je.loadingDepKey=rn,je.loadingDepPromise=$t.contents,$t.contents}throw Se("Invalid Loadable state")}const Pr=rn=>(...$t)=>{if(_e)throw Se("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&pl(!1),Pz(R,rn,$t,{node:e})};try{ae=r({get:Pn,getCallback:Pr}),ae=bz(ae)?Pn(ae):ae,wz(ae)&&(ae.state==="hasError"&&(Xe=!0),ae=ae.contents),Ge(ae)?ae=y(R,ae,L,Je,V,je).finally(Te):Te(),ae=ae instanceof aN?ae.value:ae}catch(rn){ae=rn,Ge(ae)?ae=S(R,ae,L,Je,V,je).finally(Te):(Xe=!0,Te())}return Xe?St=$u(ae):Ge(ae)?St=Tz(ae):St=ym(ae),J=!1,A(R,V,Je),T(R,L,new Set(Je.keys()),V),[St,Je]}function x(R,L){let V=L.atomValues.get(n);if(V!=null)return V;const se=new Set;try{V=a.get(_e=>(typeof _e!="string"&&pl(!1),Fu(R,L,_e).contents),{onNodeVisit:_e=>{_e.type==="branch"&&_e.nodeKey!==n&&se.add(_e.nodeKey)}})}catch(_e){throw Se(`Problem with cache lookup for selector "${n}": ${_e.message}`)}if(V){var J;L.atomValues.set(n,V),T(R,L,se,(J=O(R))===null||J===void 0?void 0:J.executionID)}return V}function P(R,L){const V=x(R,L);if(V!=null)return b(R),V;const se=W(R,L);if(se!=null){var J;return((J=se.loadingLoadable)===null||J===void 0?void 0:J.state)==="loading"&&v(R,se.executionID),se.loadingLoadable}const _e=Oz(),[Te,ae]=w(R,L,_e);return Te.state==="loading"?(k(R,_e,Te,ae,L),v(R,_e)):(b(R),Ee(L,Te,ae)),Te}function W(R,L){const V=kx([c.has(R)?[nt(c.get(R))]:[],Sf(Ty(c,([J])=>J!==R),([,J])=>J)]);function se(J){for(const[_e,Te]of J)if(!Fu(R,L,_e).is(Te))return!0;return!1}for(const J of V){if(J.stateVersions.get(L.version)||!se(J.depValuesDiscoveredSoFarDuringAsyncWork))return J.stateVersions.set(L.version,!0),J;J.stateVersions.set(L.version,!1)}}function O(R){return c.get(R)}function k(R,L,V,se,J){c.set(R,{depValuesDiscoveredSoFarDuringAsyncWork:se,executionID:L,loadingLoadable:V,stateVersions:new Map([[J.version,!0]])})}function A(R,L,V){if(z(R,L)){const se=O(R);se!=null&&(se.depValuesDiscoveredSoFarDuringAsyncWork=V)}}function b(R){c.delete(R)}function z(R,L){var V;return L===((V=O(R))===null||V===void 0?void 0:V.executionID)}function ie(R){return Array.from(R.entries()).map(([L,V])=>[L,V.contents])}function Ee(R,L,V){R.atomValues.set(n,L);try{a.set(ie(V),L)}catch(se){throw Se(`Problem with setting cache for selector "${n}": ${se.message}`)}}function we(R){if(Ja.includes(n)){const L=`Recoil selector has circular dependencies: ${Ja.slice(Ja.indexOf(n)).join(" → ")}`;return $u(Se(L))}Ja.push(n);try{return R()}finally{Ja.pop()}}function j(R,L){const V=L.atomValues.get(n);return V??a.get(se=>{var J;return typeof se!="string"&&pl(!1),(J=Cz(R,L,se))===null||J===void 0?void 0:J.contents})}function G(R,L){return we(()=>P(R,L))}function $(R){R.atomValues.delete(n)}function ee(R,L){e==null&&pl(!1);for(const se of o){var V;const J=Az(se);(V=J.clearCache)===null||V===void 0||V.call(J,R,L)}o.clear(),$(L),a.clear(),xw(R,e)}return i!=null?e=Rw({key:n,nodeType:"selector",peek:j,get:G,set:(L,V,se)=>{let J=!1;const _e=new Map;function Te({key:je}){if(J)throw Se("Recoil: Async selector sets are not currently supported.");const Je=Fu(L,V,je);if(Je.state==="hasValue")return Je.contents;if(Je.state==="loading"){const Pn=`Getting value of asynchronous atom or selector "${je}" in a pending state while setting selector "${n}" is not yet supported.`;throw Se(Pn)}else throw Je.contents}function ae(je,Je){if(J)throw Se("Recoil: Async selector sets are not currently supported.");const Pn=typeof Je=="function"?Je(Te(je)):Je;Iz(L,V,je.key,Pn).forEach((rn,$t)=>_e.set($t,rn))}function Xe(je){ae(je,xz)}const St=i({set:ae,get:Te,reset:Xe},se);if(St!==void 0)throw Ge(St)?Se("Recoil: Async selector sets are not currently supported."):Se("Recoil: selector set should be a void function.");return J=!0,_e},init:f,invalidate:$,clearCache:ee,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=Rw({key:n,nodeType:"selector",peek:j,get:G,init:f,invalidate:$,clearCache:ee,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}cN.value=t=>new aN(t);var ia=cN;const{isLoadable:Dz,loadableWithError:Em,loadableWithPromise:Sm,loadableWithValue:io}=Bc,{WrappedValue:uN}=sN,{peekNodeInfo:Mz}=ri,{DEFAULT_VALUE:fi,DefaultValue:Es,getConfigDeletionHandler:dN,registerNode:Vz,setConfigDeletionHandler:jz}=wn,{isRecoilValue:$z}=na,{getRecoilValueAsLoadable:Fz,markRecoilValueModified:Uz,setRecoilValue:Nw,setRecoilValueLoadable:Bz}=Nr,{retainedByOptionWithDefault:zz}=Yi,Za=t=>t instanceof uN?t.value:t;function Hz(t){const{key:e,persistence_UNSTABLE:n}=t,r=zz(t.retainedBy_UNSTABLE);let s=0;function i(v){return Sm(v.then(y=>(o=io(y),y)).catch(y=>{throw o=Em(y),y}))}let o=Ge(t.default)?i(t.default):Dz(t.default)?t.default.state==="loading"?i(t.default.contents):t.default:io(Za(t.default));o.contents;let a;const l=new Map;function c(v){return v}function u(v,y){const S=y.then(T=>{var w,x;return((x=((w=v.getState().nextTree)!==null&&w!==void 0?w:v.getState().currentTree).atomValues.get(e))===null||x===void 0?void 0:x.contents)===S&&Nw(v,_,T),T}).catch(T=>{var w,x;throw((x=((w=v.getState().nextTree)!==null&&w!==void 0?w:v.getState().currentTree).atomValues.get(e))===null||x===void 0?void 0:x.contents)===S&&Bz(v,_,Em(T)),T});return S}function h(v,y,S){var T;s++;const w=()=>{var b;s--,(b=l.get(v))===null||b===void 0||b.forEach(z=>z()),l.delete(v)};if(v.getState().knownAtoms.add(e),o.state==="loading"){const b=()=>{var z;((z=v.getState().nextTree)!==null&&z!==void 0?z:v.getState().currentTree).atomValues.has(e)||Uz(v,_)};o.contents.finally(b)}const x=(T=t.effects)!==null&&T!==void 0?T:t.effects_UNSTABLE;if(x!=null){let we=function(L){if(z&&L.key===e){const V=b;return V instanceof Es?f(v,y):Ge(V)?Sm(V.then(se=>se instanceof Es?o.toPromise():se)):io(V)}return Fz(v,L)},j=function(L){return we(L).toPromise()},G=function(L){var V;const se=Mz(v,(V=v.getState().nextTree)!==null&&V!==void 0?V:v.getState().currentTree,L.key);return z&&L.key===e&&!(b instanceof Es)?{...se,isSet:!0,loadable:we(L)}:se};var O=we,k=j,A=G;let b=fi,z=!0,ie=!1,Ee=null;const $=L=>V=>{if(z){const se=we(_),J=se.state==="hasValue"?se.contents:fi;b=typeof V=="function"?V(J):V,Ge(b)&&(b=b.then(_e=>(Ee={effect:L,value:_e},_e)))}else{if(Ge(V))throw Se("Setting atoms to async values is not implemented.");typeof V!="function"&&(Ee={effect:L,value:Za(V)}),Nw(v,_,typeof V=="function"?se=>{const J=Za(V(se));return Ee={effect:L,value:J},J}:Za(V))}},ee=L=>()=>$(L)(fi),R=L=>V=>{var se;const{release:J}=v.subscribeToTransactions(_e=>{var Te;let{currentTree:ae,previousTree:Xe}=_e.getState();Xe||(Xe=ae);const St=(Te=ae.atomValues.get(e))!==null&&Te!==void 0?Te:o;if(St.state==="hasValue"){var je,Je,Pn,Pr;const rn=St.contents,$t=(je=Xe.atomValues.get(e))!==null&&je!==void 0?je:o,vu=$t.state==="hasValue"?$t.contents:fi;((Je=Ee)===null||Je===void 0?void 0:Je.effect)!==L||((Pn=Ee)===null||Pn===void 0?void 0:Pn.value)!==rn?V(rn,vu,!ae.atomValues.has(e)):((Pr=Ee)===null||Pr===void 0?void 0:Pr.effect)===L&&(Ee=null)}},e);l.set(v,[...(se=l.get(v))!==null&&se!==void 0?se:[],J])};for(const L of x)try{const V=L({node:_,storeID:v.storeID,parentStoreID_UNSTABLE:v.parentStoreID,trigger:S,setSelf:$(L),resetSelf:ee(L),onSet:R(L),getPromise:j,getLoadable:we,getInfo_UNSTABLE:G});if(V!=null){var P;l.set(v,[...(P=l.get(v))!==null&&P!==void 0?P:[],V])}}catch(V){b=V,ie=!0}if(z=!1,!(b instanceof Es)){var W;const L=ie?Em(b):Ge(b)?Sm(u(v,b)):io(Za(b));L.contents,y.atomValues.set(e,L),(W=v.getState().nextTree)===null||W===void 0||W.atomValues.set(e,L)}}return w}function f(v,y){var S,T;return(S=(T=y.atomValues.get(e))!==null&&T!==void 0?T:a)!==null&&S!==void 0?S:o}function p(v,y){if(y.atomValues.has(e))return nt(y.atomValues.get(e));if(y.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const S=y.nonvalidatedAtoms.get(e),T=n.validator(S,fi);return a=T instanceof Es?o:io(T),a}else return o}function m(){a=void 0}function g(v,y,S){if(y.atomValues.has(e)){const T=nt(y.atomValues.get(e));if(T.state==="hasValue"&&S===T.contents)return new Map}else if(!y.nonvalidatedAtoms.has(e)&&S instanceof Es)return new Map;return a=void 0,new Map().set(e,io(S))}function E(){return dN(e)!==void 0&&s<=0}const _=Vz({key:e,nodeType:"atom",peek:f,get:p,set:g,init:h,invalidate:m,shouldDeleteConfigOnRelease:E,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return _}function Ly(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return $z(n)?Wz({...e,default:n}):Hz({...e,default:n})}function Wz(t){const e=Ly({...t,default:fi,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Es?r:nt(t.persistence_UNSTABLE).validator(r,fi)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=ia({key:`${t.key}__withFallback`,get:({get:r})=>{const s=r(e);return s instanceof Es?t.default:s},set:({set:r},s)=>r(e,s),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return jz(n.key,dN(t.key)),n}Ly.value=t=>new uN(t);var hN=Ly;class qz{constructor(e){var n;ve(this,"_map",void 0),ve(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Gz={MapCache:qz},Kz=Gz.MapCache,Qz=Object.freeze({__proto__:null,MapCache:Kz});const{LRUCache:Aw}=oN,{MapCache:Yz}=Qz,Bu={equality:"reference",eviction:"none",maxSize:1/0};function Xz({equality:t=Bu.equality,eviction:e=Bu.eviction,maxSize:n=Bu.maxSize}=Bu){const r=Jz(t);return Zz(e,n,r)}function Jz(t){switch(t){case"reference":return e=>e;case"value":return e=>Of(e)}throw Se(`Unrecognized equality policy ${t}`)}function Zz(t,e,n){switch(t){case"keep-all":return new Yz({mapKey:n});case"lru":return new Aw({mapKey:n,maxSize:nt(e)});case"most-recent":return new Aw({mapKey:n,maxSize:1})}throw Se(`Unrecognized eviction policy ${t}`)}var fN=Xz;const{setConfigDeletionHandler:e3}=wn;function t3(t){var e,n;const r=fN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i,o;const a=r.get(s);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...c}=t,u="default"in t?t.default:new Promise(()=>{}),h=hN({...c,key:`${t.key}__${(i=Of(s))!==null&&i!==void 0?i:"void"}`,default:typeof u=="function"?u(s):u,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(s):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(s):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(s,h),e3(h.key,()=>{r.delete(s)}),h}}var n3=t3;const{setConfigDeletionHandler:r3}=wn;let s3=0;function i3(t){var e,n;const r=fN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i;let o;try{o=r.get(s)}catch(f){throw Se(`Problem with cache lookup for selector ${t.key}: ${f.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(i=Of(s,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${s3++}`,l=f=>t.get(s)(f),c=t.cachePolicy_UNSTABLE,u=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const f=t.set;h=ia({key:a,get:l,set:(m,g)=>f(s)(m,g),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else h=ia({key:a,get:l,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(s,h),r3(h.key,()=>{r.delete(s)}),h}}var si=i3;const o3=si({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function a3(t){return o3(t)}var l3=a3;const c3=si({key:"__error",get:t=>()=>{throw Se(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function u3(t){return c3(t)}var d3=u3;function h3(t){return t}var f3=h3;const{loadableWithError:pN,loadableWithPromise:mN,loadableWithValue:gN}=Bc;function Df(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[s,i]of e.entries())try{n[s]=t(i)}catch(o){r[s]=o}return[n,r]}function p3(t){return t!=null&&!Ge(t)}function Mf(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function d_(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,s)=>({...n,[r]:e[s]}),{})}function jo(t,e,n){const r=n.map((s,i)=>s==null?gN(e[i]):Ge(s)?mN(s):pN(s));return d_(t,r)}function m3(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const g3=si({key:"__waitForNone",get:t=>({get:e})=>{const n=Mf(t),[r,s]=Df(e,n);return jo(t,r,s)},dangerouslyAllowMutability:!0}),_3=si({key:"__waitForAny",get:t=>({get:e})=>{const n=Mf(t),[r,s]=Df(e,n);return s.some(i=>!Ge(i))?jo(t,r,s):new Promise(i=>{for(const[o,a]of s.entries())Ge(a)&&a.then(l=>{r[o]=l,s[o]=void 0,i(jo(t,r,s))}).catch(l=>{s[o]=l,i(jo(t,r,s))})})},dangerouslyAllowMutability:!0}),v3=si({key:"__waitForAll",get:t=>({get:e})=>{const n=Mf(t),[r,s]=Df(e,n);if(s.every(o=>o==null))return d_(t,r);const i=s.find(p3);if(i!=null)throw i;return Promise.all(s).then(o=>d_(t,m3(r,o)))},dangerouslyAllowMutability:!0}),y3=si({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Mf(t),[r,s]=Df(e,n);return s.every(i=>!Ge(i))?jo(t,r,s):Promise.all(s.map((i,o)=>Ge(i)?i.then(a=>{r[o]=a,s[o]=void 0}).catch(a=>{r[o]=void 0,s[o]=a}):null)).then(()=>jo(t,r,s))},dangerouslyAllowMutability:!0}),E3=si({key:"__noWait",get:t=>({get:e})=>{try{return ia.value(gN(e(t)))}catch(n){return ia.value(Ge(n)?mN(n):pN(n))}},dangerouslyAllowMutability:!0});var S3={waitForNone:g3,waitForAny:_3,waitForAll:v3,waitForAllSettled:y3,noWait:E3};const{RecoilLoadable:w3}=Bc,{DefaultValue:T3}=wn,{RecoilRoot:C3,useRecoilStoreID:I3}=ps,{isRecoilValue:R3}=na,{retentionZone:x3}=Tf,{freshSnapshot:N3}=Af,{useRecoilState:A3,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:b3,useRecoilStateLoadable:k3,useRecoilValue:P3,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:L3,useRecoilValueLoadable:O3,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:D3,useResetRecoilState:M3,useSetRecoilState:V3}=G4,{useGotoRecoilSnapshot:j3,useRecoilSnapshot:$3,useRecoilTransactionObserver:F3}=Zx,{useRecoilCallback:U3}=rN,{noWait:B3,waitForAll:z3,waitForAllSettled:H3,waitForAny:W3,waitForNone:q3}=S3;var Oy={DefaultValue:T3,isRecoilValue:R3,RecoilLoadable:w3,RecoilEnv:Ia,RecoilRoot:C3,useRecoilStoreID:I3,useRecoilBridgeAcrossReactRoots_UNSTABLE:EB,atom:hN,selector:ia,atomFamily:n3,selectorFamily:si,constSelector:l3,errorSelector:d3,readOnlySelector:f3,noWait:B3,waitForNone:q3,waitForAny:W3,waitForAll:z3,waitForAllSettled:H3,useRecoilValue:P3,useRecoilValueLoadable:O3,useRecoilState:A3,useRecoilStateLoadable:k3,useSetRecoilState:V3,useResetRecoilState:M3,useGetRecoilValueInfo_UNSTABLE:pB,useRecoilRefresher_UNSTABLE:QB,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:D3,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:L3,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:b3,useRecoilCallback:U3,useRecoilTransaction_UNSTABLE:ez,useGotoRecoilSnapshot:j3,useRecoilSnapshot:$3,useRecoilTransactionObserver_UNSTABLE:F3,snapshot_UNSTABLE:N3,useRetain:Ny,retentionZone:x3},G3=Oy.RecoilRoot,Dy=Oy.atom,$o=Oy.useRecoilState;const H={init:function(){this.dpmode.init(),this.viewport.init.evt(),console.log("ui.init")},e:1,aaa:function(){console.log("dsfafsafdsffsafasfdfas")},error:{poster:t=>t.target.src="./img/common/non_poster.png",user:t=>t.target.src="./img/common/user.png"},iosx:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top").replace(/[^0-9]/g,""))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom").replace(/[^0-9]/g,""))||0},viewport:{init:{evt:function(){window.addEventListener("load",this.set),window.addEventListener("resize",this.set)},set:()=>document.documentElement.style.setProperty("--vh",window.innerHeight*.01+"px")},height:()=>parseInt(window.visualViewport?visualViewport.height:window.innerHeight),width:()=>parseInt(window.visualViewport?visualViewport.width:window.innerWidth),docHeight:()=>parseInt(document.documentElement.scrollHeight||document.body.clientHeight),scrollTop:()=>parseInt(document.documentElement.scrollTop)},dateForm:(t,e)=>(e=e===void 0?e="medium":null,new Intl.DateTimeFormat("ko-KR",{dateStyle:e,timeStyle:e}).format(t)),getSafe:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top"))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom"))||0,watch:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-watch"))||0},dpmode:{init:function(){setInterval(this.set,500)},set:function(){const t=window.matchMedia("(display-mode: fullscreen)").matches,e=window.matchMedia("(display-mode: standalone)").matches;t?document.documentElement.classList.add("is-pwa-fullscreen"):document.documentElement.classList.remove("is-pwa-fullscreen"),t?document.documentElement.style.setProperty("--safe-watch","24px"):document.documentElement.style.setProperty("--safe-watch","0px"),e?document.documentElement.classList.add("is-pwa-standalone"):document.documentElement.classList.remove("is-pwa-standalone")}},scrollTo:(t,e,n,r)=>{const s=document.querySelector(t);if(!s)return;console.log(s);const i=s.scrollTop||document.documentElement.scrollTop,o=e,a=performance.now(),l=c=>{const u=c-a,h=Math.min(u/n,1),f=h<.5?4*h*h*h:(h-1)*(2*h-2)*(2*h-2)+1,p=i+(o-i)*f;s===document.body?window.scrollTo(0,p):s.scrollTop=p,u<n?requestAnimationFrame(l):typeof r=="function"&&r()};requestAnimationFrame(l)},popup:{evt:function(){},resize:function(){var s,i;let t=document.querySelector(".pop-layer"),e=t.offsetHeight||0,n=((s=t.querySelector(".pbt"))==null?void 0:s.offsetHeight)||0,r=((i=t.querySelector(".phd"))==null?void 0:i.offsetHeight)||0;e=e-r||0,console.log(e),t.querySelector(".pct").style.maxHeight=e-n+"px"}},alert:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인"},e);if(document.querySelectorAll(".ui-alert").length)return;H.lock.using(!0);var r=`<article class="ui-alert ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-alert");s.classList.add("is-alert"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelectorAll(".btn-confirm, .btn-close").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-alert"),document.querySelectorAll(".pop-layer").length<1&&H.lock.using(!1)}},confirm:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인",ncb:"",nbt:"취소"},e);if(document.querySelectorAll(".ui-confrim").length)return;H.lock.using(!0);let r=`<article class="ui-confrim ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-cancel">${n.nbt}</button>
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-confrim");s.classList.add("is-confrim"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelector(".btn-cancel").addEventListener("click",()=>window.setTimeout(n.ncb)),i.querySelectorAll(".btn-confirm, .btn-close , .btn-cancel").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-confrim"),document.querySelectorAll(".pop-layer").length<1&&H.lock.using(!1)}},loading:{show:function(t){var e="";document.querySelectorAll("body>.ui-loading").length||(console.log(t),(t=="dot"||t==null)&&(e=`<div class="ui-loading ui-loading-dot">
                    <div class="bx"><em><i></i></em></div>
                </div>`),t=="glx"&&(e=`<span class="ui-loading ui-load-glx full">
                <span class="gbx">
                    <em class="bx">
                        <i></i> <i></i><i></i><i></i>
                    </em>
                </span>
              </span>`),document.querySelector("body").insertAdjacentHTML("afterbegin",e),document.querySelector("body").classList.add("is-loading"))},hide:function(){document.querySelectorAll(".ui-loading").forEach(t=>t.remove()),document.querySelector("body").classList.remove("is-loading")}},lock:{sct:0,stat:!1,els:".pop-layer  , .ui-confrim , .ui-alert",set:function(){document.querySelectorAll(this.els).length<=0&&this.using(!1)},using:function(t){const e=document.querySelectorAll("body , html"),n=document.querySelector("html");t===!0&&this.stat===!1&&(H.lock.stat=!0,H.lock.sct=window.scrollY,e.forEach(r=>r.classList.add("is-lock","is-lock-end")),n.style.top=-H.lock.sct+"px"),t===!1&&document.querySelectorAll(this.els).length<=0&&n.classList.contains("is-lock")&&(H.lock.stat=!1,e.forEach(r=>r.classList.remove("is-lock")),n.style.top="",window.scrollTo(0,H.lock.sct),setTimeout(()=>{e.forEach(r=>r.classList.remove("is-lock-end"))},50))}}};window.ui=H;var K3="firebase",Q3="10.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(K3,Q3,"app");var Y3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,My=My||{},me=Y3||self;function Vf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Kc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function X3(t){return Object.prototype.hasOwnProperty.call(t,wm)&&t[wm]||(t[wm]=++J3)}var wm="closure_uid_"+(1e9*Math.random()>>>0),J3=0;function Z3(t,e,n){return t.call.apply(t.bind,arguments)}function e9(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=Z3:Yt=e9,Yt.apply(null,arguments)}function zu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ii(){this.s=this.s,this.o=this.o}var t9=0;ii.prototype.s=!1;ii.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),t9!=0)&&X3(this)};ii.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _N=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Vy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function bw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Vf(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var n9=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function hc(t){return/^[\s\xa0]*$/.test(t)}function jf(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function pr(t){return jf().indexOf(t)!=-1}function jy(t){return jy[" "](t),t}jy[" "]=function(){};function r9(t,e){var n=Q9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var s9=pr("Opera"),oa=pr("Trident")||pr("MSIE"),vN=pr("Edge"),h_=vN||oa,yN=pr("Gecko")&&!(jf().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge"))&&!(pr("Trident")||pr("MSIE"))&&!pr("Edge"),i9=jf().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge");function EN(){var t=me.document;return t?t.documentMode:void 0}var f_;e:{var Tm="",Cm=function(){var t=jf();if(yN)return/rv:([^\);]+)(\)|;)/.exec(t);if(vN)return/Edge\/([\d\.]+)/.exec(t);if(oa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(i9)return/WebKit\/(\S+)/.exec(t);if(s9)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Cm&&(Tm=Cm?Cm[1]:""),oa){var Im=EN();if(Im!=null&&Im>parseFloat(Tm)){f_=String(Im);break e}}f_=Tm}var p_;if(me.document&&oa){var kw=EN();p_=kw||parseInt(f_,10)||void 0}else p_=void 0;var o9=p_;function fc(t,e){if(Xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yN){e:{try{jy(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:a9[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&fc.$.h.call(this)}}kt(fc,Xt);var a9={2:"touch",3:"pen",4:"mouse"};fc.prototype.h=function(){fc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Qc="closure_listenable_"+(1e6*Math.random()|0),l9=0;function c9(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++l9,this.fa=this.ia=!1}function $f(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $y(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function u9(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function SN(t){const e={};for(const n in t)e[n]=t[n];return e}const Pw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wN(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Pw.length;i++)n=Pw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Ff(t){this.src=t,this.g={},this.h=0}Ff.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=g_(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new c9(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function m_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=_N(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&($f(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function g_(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Fy="closure_lm_"+(1e6*Math.random()|0),Rm={};function TN(t,e,n,r,s){if(r&&r.once)return IN(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)TN(t,e[i],n,r,s);return null}return n=zy(n),t&&t[Qc]?t.O(e,n,Kc(r)?!!r.capture:!!r,s):CN(t,e,n,!1,r,s)}function CN(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Kc(s)?!!s.capture:!!s,a=By(t);if(a||(t[Fy]=a=new Ff(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=d9(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)n9||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(xN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function d9(){function t(n){return e.call(t.src,t.listener,n)}const e=h9;return t}function IN(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)IN(t,e[i],n,r,s);return null}return n=zy(n),t&&t[Qc]?t.P(e,n,Kc(r)?!!r.capture:!!r,s):CN(t,e,n,!0,r,s)}function RN(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)RN(t,e[i],n,r,s);else r=Kc(r)?!!r.capture:!!r,n=zy(n),t&&t[Qc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=g_(i,n,r,s),-1<n&&($f(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=By(t))&&(e=t.g[e.toString()],t=-1,e&&(t=g_(e,n,r,s)),(n=-1<t?e[t]:null)&&Uy(n))}function Uy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Qc])m_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(xN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=By(e))?(m_(n,t),n.h==0&&(n.src=null,e[Fy]=null)):$f(t)}}}function xN(t){return t in Rm?Rm[t]:Rm[t]="on"+t}function h9(t,e){if(t.fa)t=!0;else{e=new fc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Uy(t),t=n.call(r,e)}return t}function By(t){return t=t[Fy],t instanceof Ff?t:null}var xm="__closure_events_fn_"+(1e9*Math.random()>>>0);function zy(t){return typeof t=="function"?t:(t[xm]||(t[xm]=function(e){return t.handleEvent(e)}),t[xm])}function bt(){ii.call(this),this.i=new Ff(this),this.S=this,this.J=null}kt(bt,ii);bt.prototype[Qc]=!0;bt.prototype.removeEventListener=function(t,e,n,r){RN(this,t,e,n,r)};function Vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Xt(e,t);else if(e instanceof Xt)e.target=e.target||t;else{var s=e;e=new Xt(r,t),wN(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Hu(o,r,!0,e)&&s}if(o=e.g=t,s=Hu(o,r,!0,e)&&s,s=Hu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Hu(o,r,!1,e)&&s}bt.prototype.N=function(){if(bt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$f(n[r]);delete t.g[e],t.h--}}this.J=null};bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Hu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&m_(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Hy=me.JSON.stringify;class f9{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function p9(){var t=Wy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class m9{constructor(){this.h=this.g=null}add(e,n){const r=NN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var NN=new f9(()=>new g9,t=>t.reset());class g9{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function _9(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function v9(t){me.setTimeout(()=>{throw t},0)}let pc,mc=!1,Wy=new m9,AN=()=>{const t=me.Promise.resolve(void 0);pc=()=>{t.then(y9)}};var y9=()=>{for(var t;t=p9();){try{t.h.call(t.g)}catch(n){v9(n)}var e=NN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}mc=!1};function Uf(t,e){bt.call(this),this.h=t||1,this.g=e||me,this.j=Yt(this.qb,this),this.l=Date.now()}kt(Uf,bt);Q=Uf.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vt(this,"tick"),this.ga&&(qy(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function qy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){Uf.$.N.call(this),qy(this),delete this.g};function Gy(t,e,n){if(typeof t=="function")n&&(t=Yt(t,n));else if(t&&typeof t.handleEvent=="function")t=Yt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function bN(t){t.g=Gy(()=>{t.g=null,t.i&&(t.i=!1,bN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class E9 extends ii{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:bN(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gc(t){ii.call(this),this.h=t,this.g={}}kt(gc,ii);var Lw=[];function kN(t,e,n,r){Array.isArray(n)||(n&&(Lw[0]=n.toString()),n=Lw);for(var s=0;s<n.length;s++){var i=TN(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function PN(t){$y(t.g,function(e,n){this.g.hasOwnProperty(n)&&Uy(e)},t),t.g={}}gc.prototype.N=function(){gc.$.N.call(this),PN(this)};gc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Bf(){this.g=!0}Bf.prototype.Ea=function(){this.g=!1};function S9(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function w9(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function xo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+C9(t,n)+(r?" "+r:"")})}function T9(t,e){t.info(function(){return"TIMEOUT: "+e})}Bf.prototype.info=function(){};function C9(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Hy(n)}catch{return e}}var Xi={},Ow=null;function zf(){return Ow=Ow||new bt}Xi.Ta="serverreachability";function LN(t){Xt.call(this,Xi.Ta,t)}kt(LN,Xt);function _c(t){const e=zf();Vt(e,new LN(e))}Xi.STAT_EVENT="statevent";function ON(t,e){Xt.call(this,Xi.STAT_EVENT,t),this.stat=e}kt(ON,Xt);function on(t){const e=zf();Vt(e,new ON(e,t))}Xi.Ua="timingevent";function DN(t,e){Xt.call(this,Xi.Ua,t),this.size=e}kt(DN,Xt);function Yc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var Hf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},MN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ky(){}Ky.prototype.h=null;function Dw(t){return t.h||(t.h=t.i())}function VN(){}var Xc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Qy(){Xt.call(this,"d")}kt(Qy,Xt);function Yy(){Xt.call(this,"c")}kt(Yy,Xt);var __;function Wf(){}kt(Wf,Ky);Wf.prototype.g=function(){return new XMLHttpRequest};Wf.prototype.i=function(){return{}};__=new Wf;function Jc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new gc(this),this.P=I9,t=h_?125:void 0,this.V=new Uf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new jN}function jN(){this.i=null,this.g="",this.h=!1}var I9=45e3,v_={},yh={};Q=Jc.prototype;Q.setTimeout=function(t){this.P=t};function y_(t,e,n){t.L=1,t.v=Gf(is(e)),t.s=n,t.S=!0,$N(t,null)}function $N(t,e){t.G=Date.now(),Zc(t),t.A=is(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),GN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new jN,t.g=pA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new E9(Yt(t.Pa,t,t.g),t.O)),kN(t.U,t.g,"readystatechange",t.nb),e=t.I?SN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),_c(),S9(t.j,t.u,t.A,t.m,t.W,t.s)}Q.nb=function(t){t=t.target;const e=this.M;e&&mr(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const u=mr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||h_||this.g&&(this.h.h||this.g.ja()||$w(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?_c(3):_c(2)),qf(this);var n=this.g.da();this.ca=n;t:if(FN(this)){var r=$w(this.g);t="";var s=r.length,i=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),Ll(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,w9(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!hc(a)){var c=a;break t}}c=null}if(n=c)xo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,E_(this,n);else{this.i=!1,this.o=3,on(12),_i(this),Ll(this);break e}}this.S?(UN(this,u,o),h_&&this.i&&u==3&&(kN(this.U,this.V,"tick",this.mb),this.V.start())):(xo(this.j,this.m,o,null),E_(this,o)),u==4&&_i(this),this.i&&!this.J&&(u==4?uA(this.l,this):(this.i=!1,Zc(this)))}else q9(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,on(12)):(this.o=0,on(13)),_i(this),Ll(this)}}}catch{}finally{}};function FN(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function UN(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=R9(t,n),s==yh){e==4&&(t.o=4,on(14),r=!1),xo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==v_){t.o=4,on(15),xo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else xo(t.j,t.m,s,null),E_(t,s);FN(t)&&s!=yh&&s!=v_&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nE(e),e.M=!0,on(11))):(xo(t.j,t.m,n,"[Invalid Chunked Response]"),_i(t),Ll(t))}Q.mb=function(){if(this.g){var t=mr(this.g),e=this.g.ja();this.C<e.length&&(qf(this),UN(this,t,e),this.i&&t!=4&&Zc(this))}};function R9(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?yh:(n=Number(e.substring(n,r)),isNaN(n)?v_:(r+=1,r+n>e.length?yh:(e=e.slice(r,r+n),t.C=r+n,e)))}Q.cancel=function(){this.J=!0,_i(this)};function Zc(t){t.Y=Date.now()+t.P,BN(t,t.P)}function BN(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Yc(Yt(t.lb,t),e)}function qf(t){t.B&&(me.clearTimeout(t.B),t.B=null)}Q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(T9(this.j,this.A),this.L!=2&&(_c(),on(17)),_i(this),this.o=2,Ll(this)):BN(this,this.Y-t)};function Ll(t){t.l.H==0||t.J||uA(t.l,t)}function _i(t){qf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,qy(t.V),PN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function E_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||S_(n.i,t))){if(!t.K&&S_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)wh(n),Yf(n);else break e;tE(n),on(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Yc(Yt(n.ib,n),6e3));if(1>=YN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vi(n,11)}else if((t.K||n.g==t)&&wh(n),!hc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Xy(i,i.h),i.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,We(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=fA(r,r.J?r.pa:null,r.Y),o.K){XN(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(qf(a),Zc(a)),r.g=o}else lA(r);0<n.j.length&&Xf(n)}else c[0]!="stop"&&c[0]!="close"||vi(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?vi(n,7):eE(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}_c(4)}catch{}}function x9(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Vf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function N9(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Vf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function zN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Vf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=N9(t),r=x9(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var HN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function A9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ci(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ci){this.h=t.h,Eh(this,t.j),this.s=t.s,this.g=t.g,Sh(this,t.m),this.l=t.l;var e=t.i,n=new vc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Mw(this,n),this.o=t.o}else t&&(e=String(t).match(HN))?(this.h=!1,Eh(this,e[1]||"",!0),this.s=ml(e[2]||""),this.g=ml(e[3]||"",!0),Sh(this,e[4]),this.l=ml(e[5]||"",!0),Mw(this,e[6]||"",!0),this.o=ml(e[7]||"")):(this.h=!1,this.i=new vc(null,this.h))}Ci.prototype.toString=function(){var t=[],e=this.j;e&&t.push(gl(e,Vw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(gl(e,Vw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(gl(n,n.charAt(0)=="/"?P9:k9,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",gl(n,O9)),t.join("")};function is(t){return new Ci(t)}function Eh(t,e,n){t.j=n?ml(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Mw(t,e,n){e instanceof vc?(t.i=e,D9(t.i,t.h)):(n||(e=gl(e,L9)),t.i=new vc(e,t.h))}function We(t,e,n){t.i.set(e,n)}function Gf(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function ml(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function gl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,b9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function b9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Vw=/[#\/\?@]/g,k9=/[#\?:]/g,P9=/[#\?]/g,L9=/[#\?@]/g,O9=/#/g;function vc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function oi(t){t.g||(t.g=new Map,t.h=0,t.i&&A9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=vc.prototype;Q.add=function(t,e){oi(this),this.i=null,t=xa(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function WN(t,e){oi(t),e=xa(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function qN(t,e){return oi(t),e=xa(t,e),t.g.has(e)}Q.forEach=function(t,e){oi(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Q.ta=function(){oi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};Q.Z=function(t){oi(this);let e=[];if(typeof t=="string")qN(this,t)&&(e=e.concat(this.g.get(xa(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return oi(this),this.i=null,t=xa(this,t),qN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function GN(t,e,n){WN(t,e),0<n.length&&(t.i=null,t.g.set(xa(t,e),Vy(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function xa(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function D9(t,e){e&&!t.j&&(oi(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(WN(this,r),GN(this,s,n))},t)),t.j=e}var M9=class{constructor(t,e){this.g=t,this.map=e}};function KN(t){this.l=t||V9,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var V9=10;function QN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function YN(t){return t.h?1:t.g?t.g.size:0}function S_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Xy(t,e){t.g?t.g.add(e):t.h=e}function XN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}KN.prototype.cancel=function(){if(this.i=JN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function JN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Vy(t.i)}var j9=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function $9(){this.g=new j9}function F9(t,e,n){const r=n||"";try{zN(t,function(s,i){let o=s;Kc(s)&&(o=Hy(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function U9(t,e){const n=new Bf;if(me.Image){const r=new Image;r.onload=zu(Wu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zu(Wu,n,r,"TestLoadImage: error",!1,e),r.onabort=zu(Wu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zu(Wu,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Wu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function eu(t){this.l=t.fc||null,this.j=t.ob||!1}kt(eu,Ky);eu.prototype.g=function(){return new Kf(this.l,this.j)};eu.prototype.i=function(t){return function(){return t}}({});function Kf(t,e){bt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Jy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(Kf,bt);var Jy=0;Q=Kf.prototype;Q.open=function(t,e){if(this.readyState!=Jy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,yc(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,tu(this)),this.readyState=Jy};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,yc(this)),this.g&&(this.readyState=3,yc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ZN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ZN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?tu(this):yc(this),this.readyState==3&&ZN(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,tu(this))};Q.Ya=function(t){this.g&&(this.response=t,tu(this))};Q.ka=function(){this.g&&tu(this)};function tu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,yc(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function yc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Kf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var B9=me.JSON.parse;function at(t){bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=eA,this.L=this.M=!1}kt(at,bt);var eA="",z9=/^https?$/i,H9=["POST","PUT"];Q=at.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():__.g(),this.C=this.u?Dw(this.u):Dw(__),this.g.onreadystatechange=Yt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){jw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=me.FormData&&t instanceof me.FormData,!(0<=_N(H9,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{rA(this),0<this.B&&((this.L=W9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.ua,this)):this.A=Gy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){jw(this,i)}};function W9(t){return oa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof My<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))};function jw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,tA(t),Qf(t)}function tA(t){t.F||(t.F=!0,Vt(t,"complete"),Vt(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),Qf(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qf(this,!0)),at.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?nA(this):this.kb())};Q.kb=function(){nA(this)};function nA(t){if(t.h&&typeof My<"u"&&(!t.C[1]||mr(t)!=4||t.da()!=2)){if(t.v&&mr(t)==4)Gy(t.La,0,t);else if(Vt(t,"readystatechange"),mr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(HN)[1]||null;!s&&me.self&&me.self.location&&(s=me.self.location.protocol.slice(0,-1)),r=!z9.test(s?s.toLowerCase():"")}n=r}if(n)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var i=2<mr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",tA(t)}}finally{Qf(t)}}}}function Qf(t,e){if(t.g){rA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function rA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function mr(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),B9(e)}};function $w(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case eA:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function q9(t){const e={};t=(t.g&&2<=mr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(hc(t[r]))continue;var n=_9(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}u9(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function sA(t){let e="";return $y(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Zy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=sA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function el(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function iA(t){this.Ga=0,this.j=[],this.l=new Bf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=el("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=el("baseRetryDelayMs",5e3,t),this.hb=el("retryDelaySeedMs",1e4,t),this.eb=el("forwardChannelMaxRetries",2,t),this.xa=el("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new KN(t&&t.concurrentRequestLimit),this.Ja=new $9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=iA.prototype;Q.ra=8;Q.H=1;function eE(t){if(oA(t),t.H==3){var e=t.W++,n=is(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),nu(t,n),e=new Jc(t,t.l,e),e.L=2,e.v=Gf(is(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=pA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Zc(e)}hA(t)}function Yf(t){t.g&&(nE(t),t.g.cancel(),t.g=null)}function oA(t){Yf(t),t.u&&(me.clearTimeout(t.u),t.u=null),wh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function Xf(t){if(!QN(t.i)&&!t.m){t.m=!0;var e=t.Na;pc||AN(),mc||(pc(),mc=!0),Wy.add(e,t),t.C=0}}function G9(t,e){return YN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Yc(Yt(t.Na,t,e),dA(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Jc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=SN(i),wN(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=aA(this,s,e),n=is(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),nu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(sA(i)))+"&"+e:this.o&&Zy(n,this.o,i)),Xy(this.i,s),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),s.aa=!0,y_(s,n,null)):y_(s,n,e),this.H=2}}else this.H==3&&(t?Fw(this,t):this.j.length==0||QN(this.i)||Fw(this))};function Fw(t,e){var n;e?n=e.m:n=t.W++;const r=is(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),nu(t,r),t.o&&t.s&&Zy(r,t.o,t.s),n=new Jc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=aA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Xy(t.i,n),y_(n,r,e)}function nu(t,e){t.na&&$y(t.na,function(n,r){We(e,r,n)}),t.h&&zN({},function(n,r){We(e,r,n)})}function aA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Yt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{F9(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function lA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;pc||AN(),mc||(pc(),mc=!0),Wy.add(e,t),t.A=0}}function tE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Yc(Yt(t.Ma,t),dA(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,cA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Yc(Yt(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),Yf(this),cA(this))};function nE(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function cA(t){t.g=new Jc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=is(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),nu(t,e),t.o&&t.s&&Zy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Gf(is(e)),n.s=null,n.S=!0,$N(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Yf(this),tE(this),on(19))};function wh(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function uA(t,e){var n=null;if(t.g==e){wh(t),nE(t),t.g=null;var r=2}else if(S_(t.i,e))n=e.F,XN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=zf(),Vt(r,new DN(r,n)),Xf(t)}else lA(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&G9(t,e)||r==2&&tE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:vi(t,5);break;case 4:vi(t,10);break;case 3:vi(t,6);break;default:vi(t,2)}}}function dA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Yt(t.pb,t);n||(n=new Ci("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||Eh(n,"https"),Gf(n)),U9(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),hA(t),oA(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))};function hA(t){if(t.H=0,t.ma=[],t.h){const e=JN(t.i);(e.length!=0||t.j.length!=0)&&(bw(t.ma,e),bw(t.ma,t.j),t.i.i.length=0,Vy(t.j),t.j.length=0),t.h.ya()}}function fA(t,e,n){var r=n instanceof Ci?is(n):new Ci(n);if(r.g!="")e&&(r.g=e+"."+r.g),Sh(r,r.m);else{var s=me.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ci(null);r&&Eh(i,r),e&&(i.g=e),s&&Sh(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&We(r,n,e),We(r,"VER",t.ra),nu(t,r),r}function pA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new at(new eu({ob:!0})):new at(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function mA(){}Q=mA.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function Th(){if(oa&&!(10<=Number(o9)))throw Error("Environmental error: no available transport.")}Th.prototype.g=function(t,e){return new An(t,e)};function An(t,e){bt.call(this),this.g=new iA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!hc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!hc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Na(this)}kt(An,bt);An.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=fA(t,null,t.Y),Xf(t)};An.prototype.close=function(){eE(this.g)};An.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Hy(t),t=n);e.j.push(new M9(e.fb++,t)),e.H==3&&Xf(e)};An.prototype.N=function(){this.g.h=null,delete this.j,eE(this.g),delete this.g,An.$.N.call(this)};function gA(t){Qy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kt(gA,Qy);function _A(){Yy.call(this),this.status=1}kt(_A,Yy);function Na(t){this.g=t}kt(Na,mA);Na.prototype.Ba=function(){Vt(this.g,"a")};Na.prototype.Aa=function(t){Vt(this.g,new gA(t))};Na.prototype.za=function(t){Vt(this.g,new _A)};Na.prototype.ya=function(){Vt(this.g,"b")};function K9(){this.blockSize=-1}function lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kt(lr,K9);lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Nm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}lr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Nm(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Nm(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Nm(this,r),s=0;break}}this.h=s,this.i+=e};lr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var Q9={};function rE(t){return-128<=t&&128>t?r9(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function gr(t){if(isNaN(t)||!isFinite(t))return Fo;if(0>t)return Ot(gr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=w_;return new Ve(e,0)}function vA(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ot(vA(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gr(Math.pow(e,8)),r=Fo,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=gr(Math.pow(e,i)),r=r.R(i).add(gr(o))):(r=r.R(n),r=r.add(gr(o)))}return r}var w_=4294967296,Fo=rE(0),T_=rE(1),Uw=rE(16777216);Q=Ve.prototype;Q.ea=function(){if(Vn(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:w_+r)*e,e*=w_}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Wr(this))return"0";if(Vn(this))return"-"+Ot(this).toString(t);for(var e=gr(Math.pow(t,6)),n=this,r="";;){var s=Ih(n,e).g;n=Ch(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Wr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Wr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Vn(t){return t.h==-1}Q.X=function(t){return t=Ch(this,t),Vn(t)?-1:Wr(t)?0:1};function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(T_)}Q.abs=function(){return Vn(this)?Ot(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function Ch(t,e){return t.add(Ot(e))}Q.R=function(t){if(Wr(this)||Wr(t))return Fo;if(Vn(this))return Vn(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if(Vn(t))return Ot(this.R(Ot(t)));if(0>this.X(Uw)&&0>t.X(Uw))return gr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,qu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,qu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,qu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,qu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function qu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function tl(t,e){this.g=t,this.h=e}function Ih(t,e){if(Wr(e))throw Error("division by zero");if(Wr(t))return new tl(Fo,Fo);if(Vn(t))return e=Ih(Ot(t),e),new tl(Ot(e.g),Ot(e.h));if(Vn(e))return e=Ih(t,Ot(e)),new tl(Ot(e.g),e.h);if(30<t.g.length){if(Vn(t)||Vn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=T_,r=e;0>=r.X(t);)n=Bw(n),r=Bw(r);var s=oo(n,1),i=oo(r,1);for(r=oo(r,2),n=oo(n,2);!Wr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=oo(r,1),n=oo(n,1)}return e=Ch(t,s.R(e)),new tl(s,e)}for(s=Fo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=gr(n),o=i.R(e);Vn(o)||0<o.X(t);)n-=r,i=gr(n),o=i.R(e);Wr(i)&&(i=T_),s=s.add(i),t=Ch(t,o)}return new tl(s,t)}Q.gb=function(t){return Ih(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function Bw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function oo(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ve(s,t.h)}Th.prototype.createWebChannel=Th.prototype.g;An.prototype.send=An.prototype.u;An.prototype.open=An.prototype.m;An.prototype.close=An.prototype.close;Hf.NO_ERROR=0;Hf.TIMEOUT=8;Hf.HTTP_ERROR=6;MN.COMPLETE="complete";VN.EventType=Xc;Xc.OPEN="a";Xc.CLOSE="b";Xc.ERROR="c";Xc.MESSAGE="d";bt.prototype.listen=bt.prototype.O;at.prototype.listenOnce=at.prototype.P;at.prototype.getLastError=at.prototype.Sa;at.prototype.getLastErrorCode=at.prototype.Ia;at.prototype.getStatus=at.prototype.da;at.prototype.getResponseJson=at.prototype.Wa;at.prototype.getResponseText=at.prototype.ja;at.prototype.send=at.prototype.ha;at.prototype.setWithCredentials=at.prototype.Oa;lr.prototype.digest=lr.prototype.l;lr.prototype.reset=lr.prototype.reset;lr.prototype.update=lr.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=gr;Ve.fromString=vA;var Y9=function(){return new Th},X9=function(){return zf()},Am=Hf,J9=MN,Z9=Xi,zw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},e6=eu,Gu=VN,t6=at,n6=lr,Uo=Ve;const Hw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Aa="10.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi=new df("@firebase/firestore");function Ww(){return Mi.logLevel}function re(t,...e){if(Mi.logLevel<=ke.DEBUG){const n=e.map(sE);Mi.debug(`Firestore (${Aa}): ${t}`,...n)}}function os(t,...e){if(Mi.logLevel<=ke.ERROR){const n=e.map(sE);Mi.error(`Firestore (${Aa}): ${t}`,...n)}}function aa(t,...e){if(Mi.logLevel<=ke.WARN){const n=e.map(sE);Mi.warn(`Firestore (${Aa}): ${t}`,...n)}}function sE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Aa}) INTERNAL ASSERTION FAILED: `+t;throw os(e),new Error(e)}function Qe(t,e){t||fe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class r6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class s6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class i6{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Kr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Kr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new yA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new zt(e)}}class o6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class a6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new o6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class c6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new l6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EA{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=u6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function la(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Z(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new vt(0,0))}static max(){return new ge(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ec.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ec?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends Ec{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const d6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ec{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return d6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new Z(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Z(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new Z(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(qe.fromString(e))}static fromName(e){return new oe(qe.fromString(e).popFirst(5))}static empty(){return new oe(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new qe(e.slice()))}}function h6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Gs(s,oe.empty(),e)}function f6(t){return new Gs(t.readTime,t.key,-1)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(ge.min(),oe.empty(),-1)}static max(){return new Gs(ge.max(),oe.empty(),-1)}}function p6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class g6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ru(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==m6)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function su(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}iE.ae=-1;function Jf(t){return t==null}function Rh(t){return t===0&&1/t==-1/0}function _6(t){return typeof t=="number"&&Number.isInteger(t)&&!Rh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ba(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mt=class C_{constructor(e,n){this.comparator=e,this.root=n||Fs.EMPTY}insert(e,n){return new C_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fs.BLACK,null,null))}remove(e){return new C_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}},Ku=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fs=class Lr{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Lr.RED,this.left=s??Lr.EMPTY,this.right=i??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Lr(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}};Fs.EMPTY=null,Fs.RED=!0,Fs.BLACK=!1;Fs.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Fs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new tr([])}unionWith(e){let n=new Jt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new wA("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const v6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=v6.exec(t);if(Qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vi(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function aE(t){const e=t.mapValue.fields.__previous_value__;return oE(e)?aE(e):e}function Sc(t){const e=Ks(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y6{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class wc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new wc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof wc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?oE(t)?4:E6(t)?9007199254740991:10:fe()}function Cr(t,e){if(t===e)return!0;const n=ji(t);if(n!==ji(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Sc(t).isEqual(Sc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ks(s.timestampValue),a=Ks(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Vi(s.bytesValue).isEqual(Vi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),a=ht(i.doubleValue);return o===a?Rh(o)===Rh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return la(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(qw(o)!==qw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cr(o[l],a[l])))return!1;return!0}(t,e);default:return fe()}}function Tc(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function ca(t,e){if(t===e)return 0;const n=ji(t),r=ji(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ht(i.integerValue||i.doubleValue),l=ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Kw(t.timestampValue,e.timestampValue);case 4:return Kw(Sc(t),Sc(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Vi(i),l=Vi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Oe(a[c],l[c]);if(u!==0)return u}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(ht(i.latitude),ht(o.latitude));return a!==0?a:Oe(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=ca(a[c],l[c]);if(u)return u}return Oe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Qu.mapValue&&o===Qu.mapValue)return 0;if(i===Qu.mapValue)return 1;if(o===Qu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Oe(l[h],u[h]);if(f!==0)return f;const p=ca(a[l[h]],c[u[h]]);if(p!==0)return p}return Oe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw fe()}}function Kw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Ks(t),r=Ks(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function ua(t){return I_(t)}function I_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=I_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${I_(n.fields[o])}`;return s+"}"}(t.mapValue):fe()}function Qw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function R_(t){return!!t&&"integerValue"in t}function lE(t){return!!t&&"arrayValue"in t}function Yw(t){return!!t&&"nullValue"in t}function Xw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Td(t){return!!t&&"mapValue"in t}function Ol(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ba(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ol(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(t.arrayValue.values[n]);return e}return Object.assign({},t)}function E6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Td(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ol(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Td(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Td(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ba(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new jn(Ol(this.value))}}function TA(t){const e=[];return ba(t.fields,(n,r)=>{const s=new Kt([n]);if(Td(r)){const i=TA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,ge.min(),ge.min(),ge.min(),jn.empty(),0)}static newFoundDocument(e,n,r,s){return new Wt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new Wt(e,2,n,ge.min(),ge.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ge.min(),ge.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n){this.position=e,this.inclusive=n}}function Jw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=ca(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e,n="asc"){this.field=e,this.dir=n}}function S6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{}class pt extends CA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new T6(e,n,r):n==="array-contains"?new R6(e,r):n==="in"?new x6(e,r):n==="not-in"?new N6(e,r):n==="array-contains-any"?new A6(e,r):new pt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new C6(e,r):new I6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ca(n,this.value)):n!==null&&ji(this.value)===ji(n)&&this.matchesComparison(ca(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class cr extends CA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new cr(e,n)}matches(e){return IA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function IA(t){return t.op==="and"}function RA(t){return w6(t)&&IA(t)}function w6(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function x_(t){if(t instanceof pt)return t.field.canonicalString()+t.op.toString()+ua(t.value);if(RA(t))return t.filters.map(e=>x_(e)).join(",");{const e=t.filters.map(n=>x_(n)).join(",");return`${t.op}(${e})`}}function xA(t,e){return t instanceof pt?function(r,s){return s instanceof pt&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)}(t,e):t instanceof cr?function(r,s){return s instanceof cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&xA(o,s.filters[a]),!0):!1}(t,e):void fe()}function NA(t){return t instanceof pt?function(n){return`${n.field.canonicalString()} ${n.op} ${ua(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(NA).join(" ,")+"}"}(t):"Filter"}class T6 extends pt{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class C6 extends pt{constructor(e,n){super(e,"in",n),this.keys=AA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I6 extends pt{constructor(e,n){super(e,"not-in",n),this.keys=AA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class R6 extends pt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lE(n)&&Tc(n.arrayValue,this.value)}}class x6 extends pt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Tc(this.value.arrayValue,n)}}class N6 extends pt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Tc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Tc(this.value.arrayValue,n)}}class A6 extends pt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Tc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.he=null}}function eT(t,e=null,n=[],r=[],s=null,i=null,o=null){return new b6(t,e,n,r,s,i,o)}function cE(t){const e=ye(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>x_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Jf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ua(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ua(r)).join(",")),e.he=n}return e.he}function uE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!S6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!xA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Zw(t.startAt,e.startAt)&&Zw(t.endAt,e.endAt)}function N_(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function k6(t,e,n,r,s,i,o,a){return new ka(t,e,n,r,s,i,o,a)}function dE(t){return new ka(t)}function tT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function hE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Zf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function bA(t){return t.collectionGroup!==null}function Dl(t){const e=ye(t);if(e.Pe===null){e.Pe=[];const n=Zf(e),r=hE(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Bo(n)),e.Pe.push(new Bo(Kt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.Pe.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Bo(Kt.keyField(),i))}}}return e.Pe}function as(t){const e=ye(t);return e.Ie||(e.Ie=P6(e,Dl(t))),e.Ie}function P6(t,e){if(t.limitType==="F")return eT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Bo(s.field,i)});const n=t.endAt?new xh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new xh(t.startAt.position,t.startAt.inclusive):null;return eT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function A_(t,e){e.getFirstInequalityField(),Zf(t);const n=t.filters.concat([e]);return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Nh(t,e,n){return new ka(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ep(t,e){return uE(as(t),as(e))&&t.limitType===e.limitType}function kA(t){return`${cE(as(t))}|lt:${t.limitType}`}function b_(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>NA(s)).join(", ")}]`),Jf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ua(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ua(s)).join(",")),`Target(${r})`}(as(t))}; limitType=${t.limitType})`}function tp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Dl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Jw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Dl(r),s)||r.endAt&&!function(o,a,l){const c=Jw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Dl(r),s))}(t,e)}function L6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PA(t){return(e,n)=>{let r=!1;for(const s of Dl(t)){const i=O6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function O6(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?ca(l,c):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ba(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return SA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6=new mt(oe.comparator);function ls(){return D6}const LA=new mt(oe.comparator);function _l(...t){let e=LA;for(const n of t)e=e.insert(n.key,n);return e}function OA(t){let e=LA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function yi(){return Ml()}function DA(){return Ml()}function Ml(){return new Pa(t=>t.toString(),(t,e)=>t.isEqual(e))}const M6=new mt(oe.comparator),V6=new Jt(oe.comparator);function Ie(...t){let e=V6;for(const n of t)e=e.add(n);return e}const j6=new Jt(Oe);function $6(){return j6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Rh(e)?"-0":e}}function VA(t){return{integerValue:""+t}}function F6(t,e){return _6(e)?VA(e):MA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(){this._=void 0}}function U6(t,e,n){return t instanceof Ah?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&oE(i)&&(i=aE(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Cc?$A(t,e):t instanceof Ic?FA(t,e):function(s,i){const o=jA(s,i),a=nT(o)+nT(s.Ee);return R_(o)&&R_(s.Ee)?VA(a):MA(s.serializer,a)}(t,e)}function B6(t,e,n){return t instanceof Cc?$A(t,e):t instanceof Ic?FA(t,e):n}function jA(t,e){return t instanceof bh?function(r){return R_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Ah extends np{}class Cc extends np{constructor(e){super(),this.elements=e}}function $A(t,e){const n=UA(e);for(const r of t.elements)n.some(s=>Cr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Ic extends np{constructor(e){super(),this.elements=e}}function FA(t,e){let n=UA(e);for(const r of t.elements)n=n.filter(s=>!Cr(s,r));return{arrayValue:{values:n}}}class bh extends np{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function nT(t){return ht(t.integerValue||t.doubleValue)}function UA(t){return lE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function z6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Cc&&s instanceof Cc||r instanceof Ic&&s instanceof Ic?la(r.elements,s.elements,Cr):r instanceof bh&&s instanceof bh?Cr(r.Ee,s.Ee):r instanceof Ah&&s instanceof Ah}(t.transform,e.transform)}class H6{constructor(e,n){this.version=e,this.transformResults=n}}class Qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class rp{}function BA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new HA(t.key,Qr.none()):new iu(t.key,t.data,Qr.none());{const n=t.data,r=jn.empty();let s=new Jt(Kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ji(t.key,r,new tr(s.toArray()),Qr.none())}}function W6(t,e,n){t instanceof iu?function(s,i,o){const a=s.value.clone(),l=sT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ji?function(s,i,o){if(!Cd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=sT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(zA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Vl(t,e,n,r){return t instanceof iu?function(i,o,a,l){if(!Cd(i.precondition,o))return a;const c=i.value.clone(),u=iT(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ji?function(i,o,a,l){if(!Cd(i.precondition,o))return a;const c=iT(i.fieldTransforms,l,o),u=o.data;return u.setAll(zA(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Cd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function q6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=jA(r.transform,s||null);i!=null&&(n===null&&(n=jn.empty()),n.set(r.field,i))}return n||null}function rT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&la(r,s,(i,o)=>z6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class iu extends rp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ji extends rp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function zA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function sT(t,e,n){const r=new Map;Qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,B6(o,a,n[s]))}return r}function iT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,U6(i,o,e))}return r}class HA extends rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G6 extends rp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&W6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Vl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Vl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=DA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=BA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(n,r)=>rT(n,r))&&la(this.baseMutations,e.baseMutations,(n,r)=>rT(n,r))}}class fE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length);let s=function(){return M6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new fE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ne;function X6(t){switch(t){default:return fe();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function WA(t){if(t===void 0)return os("GRPC error has no .code"),M.UNKNOWN;switch(t){case dt.OK:return M.OK;case dt.CANCELLED:return M.CANCELLED;case dt.UNKNOWN:return M.UNKNOWN;case dt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case dt.INTERNAL:return M.INTERNAL;case dt.UNAVAILABLE:return M.UNAVAILABLE;case dt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case dt.NOT_FOUND:return M.NOT_FOUND;case dt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case dt.ABORTED:return M.ABORTED;case dt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case dt.DATA_LOSS:return M.DATA_LOSS;default:return fe()}}(Ne=dt||(dt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yu}static getOrCreateInstance(){return Yu===null&&(Yu=new pE),Yu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Yu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z6=new Uo([4294967295,4294967295],0);function oT(t){const e=J6().encode(t),n=new n6;return n.update(e),new Uint8Array(n.digest())}function aT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Uo([n,r],0),new Uo([s,i],0)]}class mE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new vl(`Invalid padding: ${n}`);if(r<0)throw new vl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new vl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new vl(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Uo.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(Uo.fromNumber(r)));return s.compare(Z6)===1&&(s=new Uo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=oT(e),[r,s]=aT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);if(!this.me(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new mE(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=oT(e),[r,s]=aT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class vl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sp(ge.min(),s,new mt(Oe),ls(),Ie())}}class ou{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ou(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class qA{constructor(e,n){this.targetId=e,this.ye=n}}class GA{constructor(e,n,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class lT{constructor(){this.we=0,this.Se=uT(),this.be=nn.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return this.we!==0}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=Ie(),n=Ie(),r=Ie();return this.Se.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe()}}),new ou(this.be,this.De,e,n,r)}Oe(){this.ve=!1,this.Se=uT()}Ne(e,n){this.ve=!0,this.Se=this.Se.insert(e,n)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class eH{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=ls(),this.Ue=cT(),this.We=new mt(Oe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){var n;const r=e.targetId,s=e.ye.count,i=this.et(r);if(i){const o=i.target;if(N_(o))if(s===0){const a=new oe(o.path);this.je(r,a,Wt.newNoDocument(a,ge.min()))}else Qe(s===1);else{const a=this.tt(r);if(a!==s){const l=this.nt(e),c=l?this.rt(l,e,a):1;if(c!==0){this.Ze(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(r,u)}(n=pE.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,p,m,g){var E,_,v,y,S,T;const w={localCacheCount:h,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},x=f.unchangedNames;return x&&(w.bloomFilter={applied:g===0,hashCount:(E=x==null?void 0:x.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(y=(v=(_=x==null?void 0:x.bits)===null||_===void 0?void 0:_.bitmap)===null||v===void 0?void 0:v.length)!==null&&y!==void 0?y:0,padding:(T=(S=x==null?void 0:x.bits)===null||S===void 0?void 0:S.padding)!==null&&T!==void 0?T:0,mightContain:P=>{var W;return(W=m==null?void 0:m.mightContain(P))!==null&&W!==void 0&&W}}),w}(a,e.ye,this.Qe.it(),l,c))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Vi(r).toUint8Array()}catch(l){if(l instanceof wA)return aa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new mE(o,s,i)}catch(l){return aa(l instanceof vl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Qe.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.je(n,i,null),s++)}),s}ot(e){const n=new Map;this.Ke.forEach((i,o)=>{const a=this.et(o);if(a){if(i.current&&N_(a.target)){const l=new oe(a.target.path);this.$e.get(l)!==null||this._t(o,l)||this.je(o,l,Wt.newNoDocument(l,e))}i.Fe&&(n.set(o,i.xe()),i.Oe())}});let r=Ie();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.et(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.$e.forEach((i,o)=>o.setReadTime(e));const s=new sp(e,n,this.We,this.$e,r);return this.$e=ls(),this.Ue=cT(),this.We=new mt(Oe),s}ze(e,n){if(!this.Ye(e))return;const r=this._t(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ut(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this._t(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ut(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new lT,this.Ke.set(e,n)),n}ut(e){let n=this.Ue.get(e);return n||(n=new Jt(Oe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.Ce?null:this.Qe.ct(e)}Ze(e){this.Ke.set(e,new lT),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}_t(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function cT(){return new mt(oe.comparator)}function uT(){return new mt(oe.comparator)}const tH=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),nH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),rH=(()=>({and:"AND",or:"OR"}))();class sH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function k_(t,e){return t.useProto3Json||Jf(e)?e:{value:e}}function kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function KA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function iH(t,e){return kh(t,e.toTimestamp())}function Tr(t){return Qe(!!t),ge.fromTimestamp(function(n){const r=Ks(n);return new vt(r.seconds,r.nanos)}(t))}function gE(t,e){return function(r){return new qe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function QA(t){const e=qe.fromString(t);return Qe(ZA(e)),e}function P_(t,e){return gE(t.databaseId,e.path)}function bm(t,e){const n=QA(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(YA(n))}function L_(t,e){return gE(t.databaseId,e)}function oH(t){const e=QA(t);return e.length===4?qe.emptyPath():YA(e)}function O_(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function YA(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dT(t,e,n){return{name:P_(t,e),fields:n.value.mapValue.fields}}function aH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Qe(u===void 0||typeof u=="string"),nn.fromBase64String(u||"")):(Qe(u===void 0||u instanceof Uint8Array),nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?M.UNKNOWN:WA(c.code);return new Z(u,c.message||"")}(o);n=new GA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=bm(t,r.document.name),i=Tr(r.document.updateTime),o=r.document.createTime?Tr(r.document.createTime):ge.min(),a=new jn({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Id(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=bm(t,r.document),i=r.readTime?Tr(r.readTime):ge.min(),o=Wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Id([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=bm(t,r.document),i=r.removedTargetIds||[];n=new Id([],i,s,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Y6(s,i),a=r.targetId;n=new qA(a,o)}}return n}function lH(t,e){let n;if(e instanceof iu)n={update:dT(t,e.key,e.value)};else if(e instanceof HA)n={delete:P_(t,e.key)};else if(e instanceof Ji)n={update:dT(t,e.key,e.data),updateMask:_H(e.fieldMask)};else{if(!(e instanceof G6))return fe();n={verify:P_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Ah)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Cc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ic)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bh)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:iH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.precondition)),n}function cH(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Tr(s.updateTime):Tr(i);return o.isEqual(ge.min())&&(o=Tr(i)),new H6(o,s.transformResults||[])}(n,e))):[]}function uH(t,e){return{documents:[L_(t,e.path)]}}function dH(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=L_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=L_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return JA(cr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:ho(h.field),direction:pH(h.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=k_(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function hH(t){let e=oH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=XA(h);return f instanceof cr&&RA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(m){return new Bo(fo(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Jf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new xh(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new xh(p,f)}(n.endAt)),k6(e,s,o,i,a,"F",l,c)}function fH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=fo(n.unaryFilter.field);return pt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=fo(n.unaryFilter.field);return pt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=fo(n.unaryFilter.field);return pt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=fo(n.unaryFilter.field);return pt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return pt.create(fo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>XA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function pH(t){return tH[t]}function mH(t){return nH[t]}function gH(t){return rH[t]}function ho(t){return{fieldPath:t.canonicalString()}}function fo(t){return Kt.fromServerFormat(t.fieldPath)}function JA(t){return t instanceof pt?function(n){if(n.op==="=="){if(Xw(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NAN"}};if(Yw(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Xw(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NAN"}};if(Yw(n.value))return{unaryFilter:{field:ho(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ho(n.field),op:mH(n.op),value:n.value}}}(t):t instanceof cr?function(n){const r=n.getFilters().map(s=>JA(s));return r.length===1?r[0]:{compositeFilter:{op:gH(n.op),filters:r}}}(t):fe()}function _H(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(e){this.lt=e}}function yH(t){const e=hH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(){this.on=new SH}addToCollectionParentIndex(e,n){return this.on.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Gs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class SH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Jt(qe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Jt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new da(0)}static Nn(){return new da(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(){this.changes=new Pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Vl(r.mutation,s,tr.empty(),vt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=yi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=_l();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=yi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ls();const o=Ml(),a=function(){return Ml()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Ji)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Vl(u.mutation,c,u.mutation.getFieldMask(),vt.now())):o.set(c.key,tr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new TH(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ml();let s=new mt((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||tr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=DA();u.forEach(f=>{if(!i.has(f)){const p=BA(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(yi());let a=-1,l=i;return o.next(c=>B.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?B.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ie())).next(u=>({batchId:a,changes:OA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=_l();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=_l();return this.indexManager.getCollectionParents(e,s).next(o=>B.forEach(o,a=>{const l=function(u,h){return new ka(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,Wt.newInvalidDocument(c)))});let o=_l();return i.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Vl(c.mutation,l,tr.empty(),vt.now()),tp(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return B.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Tr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:yH(s.bundledQuery),readTime:Tr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(){this.overlays=new mt(oe.comparator),this.lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=yi();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Pt(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=yi(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new mt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=yi(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=yi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return B.resolve(a)}Pt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Q6(n,r));let i=this.lr.get(n);i===void 0&&(i=Ie(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.hr=new Jt(Ct.Pr),this.Ir=new Jt(Ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ct(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new oe(new qe([])),r=new Ct(n,e),s=new Ct(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new oe(new qe([])),r=new Ct(n,e),s=new Ct(n,e+1);let i=Ie();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ct(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return oe.comparator(e.key,n.key)||Oe(e.gr,n.gr)}static Tr(e,n){return Oe(e.gr,n.gr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Jt(Ct.Pr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new K6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new Ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Oe);return n.forEach(s=>{const i=new Ct(s,0),o=new Ct(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),B.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new Ct(new oe(i),0);let a=new Jt(Oe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),B.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return B.forEach(n.mutations,s=>{const i=new Ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ct(n,0),s=this.yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.vr=e,this.docs=function(){return new mt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=ls();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ls();const o=n.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||p6(f6(u),r)<=0||(s.has(u.key)||tp(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe()}Cr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AH(this)}getSize(e){return B.resolve(this.size)}}class AH extends wH{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bH{constructor(e){this.persistence=e,this.Fr=new Pa(n=>cE(n),uE),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Mr=0,this.Or=new _E,this.targetCount=0,this.Nr=da.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),B.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new da(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.kn(n),B.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(e,n){this.Br={},this.overlays={},this.Lr=new iE(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new bH(this),this.indexManager=new EH,this.remoteDocumentCache=function(s){return new NH(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new vH(n),this.Kr=new IH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new RH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new xH(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new PH(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class PH extends g6{constructor(e){super(),this.currentSequenceNumber=e}}class vE{constructor(e){this.persistence=e,this.Gr=new _E,this.zr=null}static jr(e){return new vE(e)}get Hr(){if(this.zr)return this.zr;throw fe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,r=>{const s=oe.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return B.or([()=>B.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new yE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LH{constructor(){this.Ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ui(e,n).next(i=>i||this.Wi(e,n,s,r)).next(i=>i||this.Gi(e,n))}Ui(e,n){if(tT(n))return B.resolve(null);let r=as(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Nh(n,null,"F"),r=as(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.zi(n,a);return this.ji(n,c,o,l.readTime)?this.Ui(e,Nh(n,null,"F")):this.Hi(e,c,n,l)}))})))}Wi(e,n,r,s){return tT(n)||s.isEqual(ge.min())?this.Gi(e,n):this.$i.getDocuments(e,r).next(i=>{const o=this.zi(n,i);return this.ji(n,o,r,s)?this.Gi(e,n):(Ww()<=ke.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),b_(n)),this.Hi(e,o,n,h6(s,-1)))})}zi(e,n){let r=new Jt(PA(e));return n.forEach((s,i)=>{tp(e,i)&&(r=r.add(i))}),r}ji(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Gi(e,n){return Ww()<=ke.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",b_(n)),this.$i.getDocumentsMatchingQuery(e,n,Gs.min())}Hi(e,n,r,s){return this.$i.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{constructor(e,n,r,s){this.persistence=e,this.Ji=n,this.serializer=s,this.Yi=new mt(Oe),this.Zi=new Pa(i=>cE(i),uE),this.Xi=new Map,this.es=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.ts(r)}ts(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CH(this.es,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.es.setIndexManager(this.indexManager),this.Ji.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Yi))}}function DH(t,e,n,r){return new OH(t,e,n,r)}async function eb(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ts(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function MH(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.es.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=B.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const E=c.docVersions.get(m);Qe(E!==null),g.version.compareTo(E)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function tb(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function VH(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.Yi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.es.newChangeBuffer({trackRemovals:!0});s=n.Yi;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(nn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(g,E,_){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,u)&&a.push(n.qr.updateTargetData(i,p))});let l=ls(),c=Ie();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(jH(i,o,e.documentUpdates).next(u=>{l=u.rs,c=u.ss})),!r.isEqual(ge.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Yi=s,i))}function jH(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ls();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{rs:o,ss:s}})}function $H(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function FH(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Rs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Yi.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Yi=n.Yi.insert(r.targetId,r),n.Zi.set(e,r.targetId)),r})}async function D_(t,e,n){const r=ye(t),s=r.Yi.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!su(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Yi=r.Yi.remove(e),r.Zi.delete(s.target)}function hT(t,e,n){const r=ye(t);let s=ge.min(),i=Ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,c,u){const h=ye(l),f=h.Zi.get(u);return f!==void 0?B.resolve(h.Yi.get(f)):h.qr.getTargetData(c,u)}(r,o,as(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ji.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Ie())).next(a=>(UH(r,L6(e),a),{documents:a,os:i})))}function UH(t,e,n){let r=t.Xi.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class fT{constructor(){this.activeTargetIds=$6()}Ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}Is(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BH{constructor(){this.Js=new fT,this.Ys={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Js.Ps(e),this.Ys[e]||"not-current"}updateQueryState(e,n,r){this.Ys[e]=n}removeLocalQueryTarget(e){this.Js.Is(e)}isLocalQueryTarget(e){return this.Js.activeTargetIds.has(e)}clearQueryState(e){delete this.Ys[e]}getAllActiveQueryTargets(){return this.Js.activeTargetIds}isActiveQueryTarget(e){return this.Js.activeTargetIds.has(e)}start(){return this.Js=new fT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{Zs(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{constructor(){this.Xs=()=>this.eo(),this.no=()=>this.ro(),this.io=[],this.so()}Zs(e){this.io.push(e)}shutdown(){window.removeEventListener("online",this.Xs),window.removeEventListener("offline",this.no)}so(){window.addEventListener("online",this.Xs),window.addEventListener("offline",this.no)}eo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.io)e(0)}ro(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.io)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function km(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH{constructor(e){this.oo=e.oo,this._o=e._o}ao(e){this.uo=e}co(e){this.lo=e}onMessage(e){this.ho=e}close(){this._o()}send(e){this.oo(e)}Po(){this.uo()}Io(e){this.lo(e)}To(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class qH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Eo=r+"://"+n.host,this.Ao=`projects/${s}/databases/${i}`,this.Ro=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Vo(){return!1}mo(n,r,s,i,o){const a=km(),l=this.fo(n,r);re("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ao,"x-goog-request-params":this.Ro};return this.po(c,i,o),this.yo(n,l,c,s).then(u=>(re("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw aa("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}wo(n,r,s,i,o,a){return this.mo(n,r,s,i,o)}po(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Aa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}fo(n,r){const s=HH[n];return`${this.Eo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}yo(e,n,r,s){const i=km();return new Promise((o,a)=>{const l=new t6;l.setWithCredentials(!0),l.listenOnce(J9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Am.NO_ERROR:const u=l.getResponseJson();re(Bt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Am.TIMEOUT:re(Bt,`RPC '${e}' ${i} timed out`),a(new Z(M.DEADLINE_EXCEEDED,"Request time out"));break;case Am.HTTP_ERROR:const h=l.getStatus();if(re(Bt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(_)>=0?_:M.UNKNOWN}(p.status);a(new Z(m,p.message))}else a(new Z(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Z(M.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{re(Bt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);re(Bt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}So(e,n,r){const s=km(),i=[this.Eo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Y9(),a=X9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new e6({})),this.po(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");re(Bt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const m=new WH({oo:E=>{p?re(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(re(Bt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),re(Bt,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},_o:()=>h.close()}),g=(E,_,v)=>{E.listen(_,y=>{try{v(y)}catch(S){setTimeout(()=>{throw S},0)}})};return g(h,Gu.EventType.OPEN,()=>{p||re(Bt,`RPC '${e}' stream ${s} transport opened.`)}),g(h,Gu.EventType.CLOSE,()=>{p||(p=!0,re(Bt,`RPC '${e}' stream ${s} transport closed`),m.Io())}),g(h,Gu.EventType.ERROR,E=>{p||(p=!0,aa(Bt,`RPC '${e}' stream ${s} transport errored:`,E),m.Io(new Z(M.UNAVAILABLE,"The operation could not be completed")))}),g(h,Gu.EventType.MESSAGE,E=>{var _;if(!p){const v=E.data[0];Qe(!!v);const y=v,S=y.error||((_=y[0])===null||_===void 0?void 0:_.error);if(S){re(Bt,`RPC '${e}' stream ${s} received error:`,S);const T=S.status;let w=function(W){const O=dt[W];if(O!==void 0)return WA(O)}(T),x=S.message;w===void 0&&(w=M.INTERNAL,x="Unknown error status: "+T+" with message "+S.message),p=!0,m.Io(new Z(w,x)),h.close()}else re(Bt,`RPC '${e}' stream ${s} received:`,v),m.To(v)}}),g(a,Z9.STAT_EVENT,E=>{E.stat===zw.PROXY?re(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===zw.NOPROXY&&re(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Po()},0),m}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t){return new sH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.bo=r,this.Do=s,this.vo=i,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}reset(){this.Co=0}xo(){this.Co=this.vo}Oo(e){this.cancel();const n=Math.floor(this.Co+this.No()),r=Math.max(0,Date.now()-this.Mo),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Co} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Fo=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Mo=Date.now(),e())),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}Bo(){this.Fo!==null&&(this.Fo.skipDelay(),this.Fo=null)}cancel(){this.Fo!==null&&(this.Fo.cancel(),this.Fo=null)}No(){return(Math.random()-.5)*this.Co}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Lo=r,this.ko=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.qo=0,this.Qo=null,this.Ko=null,this.stream=null,this.$o=new nb(e,n)}Uo(){return this.state===1||this.state===5||this.Wo()}Wo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}zo(){this.state=0,this.$o.reset()}jo(){this.Wo()&&this.Qo===null&&(this.Qo=this.si.enqueueAfterDelay(this.Lo,6e4,()=>this.Ho()))}Jo(e){this.Yo(),this.stream.send(e)}async Ho(){if(this.Wo())return this.close(0)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}async close(e,n){this.Yo(),this.Zo(),this.$o.cancel(),this.qo++,e!==4?this.$o.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.$o.xo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Xo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Xo(){}auth(){this.state=1;const e=this.e_(this.qo),n=this.qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.qo===n&&this.t_(r,s)},r=>{e(()=>{const s=new Z(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.n_(s)})})}t_(e,n){const r=this.e_(this.qo);this.stream=this.r_(e,n),this.stream.ao(()=>{r(()=>(this.state=2,this.Ko=this.si.enqueueAfterDelay(this.ko,1e4,()=>(this.Wo()&&(this.state=3),Promise.resolve())),this.listener.ao()))}),this.stream.co(s=>{r(()=>this.n_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.$o.Oo(async()=>{this.state=0,this.start()})}n_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}e_(e){return n=>{this.si.enqueueAndForget(()=>this.qo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class GH extends rb{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}r_(e,n){return this.connection.So("Listen",e,n)}onMessage(e){this.$o.reset();const n=aH(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Tr(o.readTime):ge.min()}(e);return this.listener.i_(n,r)}s_(e){const n={};n.database=O_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=N_(l)?{documents:uH(i,l)}:{query:dH(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=KA(i,o.resumeToken);const c=k_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=kh(i,o.snapshotVersion.toTimestamp());const c=k_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=fH(this.serializer,e);r&&(n.labels=r),this.Jo(n)}o_(e){const n={};n.database=O_(this.serializer),n.removeTarget=e,this.Jo(n)}}class KH extends rb{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.__=!1}get a_(){return this.__}start(){this.__=!1,this.lastStreamToken=void 0,super.start()}Xo(){this.__&&this.u_([])}r_(e,n){return this.connection.So("Write",e,n)}onMessage(e){if(Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.__){this.$o.reset();const n=cH(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.c_(r,n)}return Qe(!e.writeResults||e.writeResults.length===0),this.__=!0,this.listener.l_()}h_(){const e={};e.database=O_(this.serializer),this.Jo(e)}u_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>lH(this.serializer,r))};this.Jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.P_=!1}I_(){if(this.P_)throw new Z(M.FAILED_PRECONDITION,"The client has already been terminated.")}mo(e,n,r){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.mo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Z(M.UNKNOWN,s.toString())})}wo(e,n,r,s){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(M.UNKNOWN,i.toString())})}terminate(){this.P_=!0}}class YH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.E_=0,this.d_=null,this.A_=!0}R_(){this.E_===0&&(this.V_("Unknown"),this.d_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.d_=null,this.m_("Backend didn't respond within 10 seconds."),this.V_("Offline"),Promise.resolve())))}f_(e){this.state==="Online"?this.V_("Unknown"):(this.E_++,this.E_>=1&&(this.g_(),this.m_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.V_("Offline")))}set(e){this.g_(),this.E_=0,e==="Online"&&(this.A_=!1),this.V_(e)}V_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}m_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.A_?(os(n),this.A_=!1):re("OnlineStateTracker",n)}g_(){this.d_!==null&&(this.d_.cancel(),this.d_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.p_=[],this.y_=new Map,this.w_=new Set,this.S_=[],this.b_=i,this.b_.Zs(o=>{r.enqueueAndForget(async()=>{Zi(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.w_.add(4),await au(c),c.D_.set("Unknown"),c.w_.delete(4),await op(c)}(this))})}),this.D_=new YH(r,s)}}async function op(t){if(Zi(t))for(const e of t.S_)await e(!0)}async function au(t){for(const e of t.S_)await e(!1)}function sb(t,e){const n=ye(t);n.y_.has(e.targetId)||(n.y_.set(e.targetId,e),wE(n)?SE(n):La(n).Wo()&&EE(n,e))}function ib(t,e){const n=ye(t),r=La(n);n.y_.delete(e),r.Wo()&&ob(n,e),n.y_.size===0&&(r.Wo()?r.jo():Zi(n)&&n.D_.set("Unknown"))}function EE(t,e){if(t.v_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}La(t).s_(e)}function ob(t,e){t.v_.Le(e),La(t).o_(e)}function SE(t){t.v_=new eH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ct:e=>t.y_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),La(t).start(),t.D_.R_()}function wE(t){return Zi(t)&&!La(t).Uo()&&t.y_.size>0}function Zi(t){return ye(t).w_.size===0}function ab(t){t.v_=void 0}async function JH(t){t.y_.forEach((e,n)=>{EE(t,e)})}async function ZH(t,e){ab(t),wE(t)?(t.D_.f_(e),SE(t)):t.D_.set("Unknown")}async function eW(t,e,n){if(t.D_.set("Online"),e instanceof GA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.y_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.y_.delete(a),s.v_.removeTarget(a))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ph(t,r)}else if(e instanceof Id?t.v_.Ge(e):e instanceof qA?t.v_.Xe(e):t.v_.He(e),!n.isEqual(ge.min()))try{const r=await tb(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.v_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.y_.get(c);u&&i.y_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.y_.get(l);if(!u)return;i.y_.set(l,u.withResumeToken(nn.EMPTY_BYTE_STRING,u.snapshotVersion)),ob(i,l);const h=new Rs(u.target,l,c,u.sequenceNumber);EE(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await Ph(t,r)}}async function Ph(t,e,n){if(!su(e))throw e;t.w_.add(1),await au(t),t.D_.set("Offline"),n||(n=()=>tb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.w_.delete(1),await op(t)})}function lb(t,e){return e().catch(n=>Ph(t,n,e))}async function ap(t){const e=ye(t),n=Qs(e);let r=e.p_.length>0?e.p_[e.p_.length-1].batchId:-1;for(;tW(e);)try{const s=await $H(e.localStore,r);if(s===null){e.p_.length===0&&n.jo();break}r=s.batchId,nW(e,s)}catch(s){await Ph(e,s)}cb(e)&&ub(e)}function tW(t){return Zi(t)&&t.p_.length<10}function nW(t,e){t.p_.push(e);const n=Qs(t);n.Wo()&&n.a_&&n.u_(e.mutations)}function cb(t){return Zi(t)&&!Qs(t).Uo()&&t.p_.length>0}function ub(t){Qs(t).start()}async function rW(t){Qs(t).h_()}async function sW(t){const e=Qs(t);for(const n of t.p_)e.u_(n.mutations)}async function iW(t,e,n){const r=t.p_.shift(),s=fE.from(r,e,n);await lb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ap(t)}async function oW(t,e){e&&Qs(t).a_&&await async function(r,s){if(function(o){return X6(o)&&o!==M.ABORTED}(s.code)){const i=r.p_.shift();Qs(r).zo(),await lb(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ap(r)}}(t,e),cb(t)&&ub(t)}async function mT(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.w_.add(3),await au(n),r&&n.D_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.w_.delete(3),await op(n)}async function aW(t,e){const n=ye(t);e?(n.w_.delete(2),await op(n)):e||(n.w_.add(2),await au(n),n.D_.set("Unknown"))}function La(t){return t.C_||(t.C_=function(n,r,s){const i=ye(n);return i.I_(),new GH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:JH.bind(null,t),co:ZH.bind(null,t),i_:eW.bind(null,t)}),t.S_.push(async e=>{e?(t.C_.zo(),wE(t)?SE(t):t.D_.set("Unknown")):(await t.C_.stop(),ab(t))})),t.C_}function Qs(t){return t.F_||(t.F_=function(n,r,s){const i=ye(n);return i.I_(),new KH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:rW.bind(null,t),co:oW.bind(null,t),l_:sW.bind(null,t),c_:iW.bind(null,t)}),t.S_.push(async e=>{e?(t.F_.zo(),await ap(t)):(await t.F_.stop(),t.p_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.p_.length} pending writes`),t.p_=[]))})),t.F_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new TE(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function CE(t,e){if(os("AsyncQueue",`${e}: ${t}`),su(t))return new Z(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=_l(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new zo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new zo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.M_=new mt(oe.comparator)}track(e){const n=e.doc.key,r=this.M_.get(n);r?e.type!==0&&r.type===3?this.M_=this.M_.insert(n,e):e.type===3&&r.type!==1?this.M_=this.M_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.M_=this.M_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.M_=this.M_.remove(n):e.type===1&&r.type===2?this.M_=this.M_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):fe():this.M_=this.M_.insert(n,e)}x_(){const e=[];return this.M_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ha{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ha(e,n,zo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ep(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lW{constructor(){this.O_=void 0,this.listeners=[]}}class cW{constructor(){this.queries=new Pa(e=>kA(e),ep),this.onlineState="Unknown",this.N_=new Set}}async function db(t,e){const n=ye(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new lW),s)try{i.O_=await n.onListen(r)}catch(o){const a=CE(o,`Initialization of query '${b_(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.B_(n.onlineState),i.O_&&e.L_(i.O_)&&IE(n)}async function hb(t,e){const n=ye(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function uW(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.L_(s)&&(r=!0);o.O_=s}}r&&IE(n)}function dW(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function IE(t){t.N_.forEach(e=>{e.next()})}class fb{constructor(e,n,r){this.query=e,this.k_=n,this.q_=!1,this.Q_=null,this.onlineState="Unknown",this.options=r||{}}L_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ha(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.q_?this.K_(e)&&(this.k_.next(e),n=!0):this.U_(e,this.onlineState)&&(this.W_(e),n=!0),this.Q_=e,n}onError(e){this.k_.error(e)}B_(e){this.onlineState=e;let n=!1;return this.Q_&&!this.q_&&this.U_(this.Q_,e)&&(this.W_(this.Q_),n=!0),n}U_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.G_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}K_(e){if(e.docChanges.length>0)return!0;const n=this.Q_&&this.Q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}W_(e){e=ha.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.q_=!0,this.k_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.key=e}}class mb{constructor(e){this.key=e}}class hW{constructor(e,n){this.query=e,this.ea=n,this.ta=null,this.hasCachedResults=!1,this.current=!1,this.na=Ie(),this.mutatedKeys=Ie(),this.ra=PA(e),this.ia=new zo(this.ra)}get sa(){return this.ea}oa(e,n){const r=n?n._a:new gT,s=n?n.ia:this.ia;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=tp(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),E=!0):this.aa(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ra(p,l)>0||c&&this.ra(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ia:o,_a:r,ji:a,mutatedKeys:i}}aa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ia;this.ia=e.ia,this.mutatedKeys=e.mutatedKeys;const i=e._a.x_();i.sort((c,u)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return m(f)-m(p)}(c.type,u.type)||this.ra(c.doc,u.doc)),this.ua(r);const o=n?this.ca():[],a=this.na.size===0&&this.current?1:0,l=a!==this.ta;return this.ta=a,i.length!==0||l?{snapshot:new ha(this.query,e.ia,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),la:o}:{la:o}}B_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ia:this.ia,_a:new gT,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{la:[]}}ha(e){return!this.ea.has(e)&&!!this.ia.has(e)&&!this.ia.get(e).hasLocalMutations}ua(e){e&&(e.addedDocuments.forEach(n=>this.ea=this.ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ea=this.ea.delete(n)),this.current=e.current)}ca(){if(!this.current)return[];const e=this.na;this.na=Ie(),this.ia.forEach(r=>{this.ha(r.key)&&(this.na=this.na.add(r.key))});const n=[];return e.forEach(r=>{this.na.has(r)||n.push(new mb(r))}),this.na.forEach(r=>{e.has(r)||n.push(new pb(r))}),n}Pa(e){this.ea=e.os,this.na=Ie();const n=this.oa(e.documents);return this.applyChanges(n,!0)}Ia(){return ha.fromInitialDocuments(this.query,this.ia,this.mutatedKeys,this.ta===0,this.hasCachedResults)}}class fW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pW{constructor(e){this.key=e,this.Ta=!1}}class mW{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ea={},this.da=new Pa(a=>kA(a),ep),this.Aa=new Map,this.Ra=new Set,this.Va=new mt(oe.comparator),this.ma=new Map,this.fa=new _E,this.ga={},this.pa=new Map,this.ya=da.Nn(),this.onlineState="Unknown",this.wa=void 0}get isPrimaryClient(){return this.wa===!0}}async function gW(t,e){const n=RW(t);let r,s;const i=n.da.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Ia();else{const o=await FH(n.localStore,as(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await _W(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&sb(n.remoteStore,o)}return s}async function _W(t,e,n,r,s){t.Sa=(h,f,p)=>async function(g,E,_,v){let y=E.view.oa(_);y.ji&&(y=await hT(g.localStore,E.query,!1).then(({documents:w})=>E.view.oa(w,y)));const S=v&&v.targetChanges.get(E.targetId),T=E.view.applyChanges(y,g.isPrimaryClient,S);return vT(g,E.targetId,T.la),T.snapshot}(t,h,f,p);const i=await hT(t.localStore,e,!0),o=new hW(e,i.os),a=o.oa(i.documents),l=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);vT(t,n,c.la);const u=new fW(e,n,o);return t.da.set(e,u),t.Aa.has(n)?t.Aa.get(n).push(e):t.Aa.set(n,[e]),c.snapshot}async function vW(t,e){const n=ye(t),r=n.da.get(e),s=n.Aa.get(r.targetId);if(s.length>1)return n.Aa.set(r.targetId,s.filter(i=>!ep(i,e))),void n.da.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await D_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ib(n.remoteStore,r.targetId),M_(n,r.targetId)}).catch(ru)):(M_(n,r.targetId),await D_(n.localStore,r.targetId,!0))}async function yW(t,e,n){const r=xW(t);try{const s=await function(o,a){const l=ye(o),c=vt.now(),u=a.reduce((p,m)=>p.add(m.key),Ie());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=ls(),g=Ie();return l.es.getEntries(p,u).next(E=>{m=E,m.forEach((_,v)=>{v.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(E=>{h=E;const _=[];for(const v of a){const y=q6(v,h.get(v.key).overlayedDocument);y!=null&&_.push(new Ji(v.key,y,TA(y.value.mapValue),Qr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(E=>{f=E;const _=E.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,E.batchId,_)})}).then(()=>({batchId:f.batchId,changes:OA(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.ga[o.currentUser.toKey()];c||(c=new mt(Oe)),c=c.insert(a,l),o.ga[o.currentUser.toKey()]=c}(r,s.batchId,n),await lu(r,s.changes),await ap(r.remoteStore)}catch(s){const i=CE(s,"Failed to persist write");n.reject(i)}}async function gb(t,e){const n=ye(t);try{const r=await VH(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ma.get(i);o&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ta=!0:s.modifiedDocuments.size>0?Qe(o.Ta):s.removedDocuments.size>0&&(Qe(o.Ta),o.Ta=!1))}),await lu(n,r,e)}catch(r){await ru(r)}}function _T(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.da.forEach((i,o)=>{const a=o.view.B_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.B_(a)&&(c=!0)}),c&&IE(l)}(r.eventManager,e),s.length&&r.Ea.i_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EW(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ma.get(e),i=s&&s.key;if(i){let o=new mt(oe.comparator);o=o.insert(i,Wt.newNoDocument(i,ge.min()));const a=Ie().add(i),l=new sp(ge.min(),new Map,new mt(Oe),o,a);await gb(r,l),r.Va=r.Va.remove(i),r.ma.delete(e),RE(r)}else await D_(r.localStore,e,!1).then(()=>M_(r,e,n)).catch(ru)}async function SW(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await MH(n.localStore,e);vb(n,r,null),_b(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await lu(n,s)}catch(s){await ru(s)}}async function wW(t,e,n){const r=ye(t);try{const s=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Qe(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);vb(r,e,n),_b(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await lu(r,s)}catch(s){await ru(s)}}function _b(t,e){(t.pa.get(e)||[]).forEach(n=>{n.resolve()}),t.pa.delete(e)}function vb(t,e,n){const r=ye(t);let s=r.ga[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.ga[r.currentUser.toKey()]=s}}function M_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Aa.get(e))t.da.delete(r),n&&t.Ea.ba(r,n);t.Aa.delete(e),t.isPrimaryClient&&t.fa.Rr(e).forEach(r=>{t.fa.containsKey(r)||yb(t,r)})}function yb(t,e){t.Ra.delete(e.path.canonicalString());const n=t.Va.get(e);n!==null&&(ib(t.remoteStore,n),t.Va=t.Va.remove(e),t.ma.delete(n),RE(t))}function vT(t,e,n){for(const r of n)r instanceof pb?(t.fa.addReference(r.key,e),TW(t,r)):r instanceof mb?(re("SyncEngine","Document no longer in limbo: "+r.key),t.fa.removeReference(r.key,e),t.fa.containsKey(r.key)||yb(t,r.key)):fe()}function TW(t,e){const n=e.key,r=n.path.canonicalString();t.Va.get(n)||t.Ra.has(r)||(re("SyncEngine","New document in limbo: "+n),t.Ra.add(r),RE(t))}function RE(t){for(;t.Ra.size>0&&t.Va.size<t.maxConcurrentLimboResolutions;){const e=t.Ra.values().next().value;t.Ra.delete(e);const n=new oe(qe.fromString(e)),r=t.ya.next();t.ma.set(r,new pW(n)),t.Va=t.Va.insert(n,r),sb(t.remoteStore,new Rs(as(dE(n.path)),r,"TargetPurposeLimboResolution",iE.ae))}}async function lu(t,e,n){const r=ye(t),s=[],i=[],o=[];r.da.isEmpty()||(r.da.forEach((a,l)=>{o.push(r.Sa(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=yE.Qi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.Ea.i_(s),await async function(l,c){const u=ye(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(c,f=>B.forEach(f.ki,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>B.forEach(f.qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!su(h))throw h;re("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.Yi.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.Yi=u.Yi.insert(f,g)}}}(r.localStore,i))}async function CW(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await eb(n.localStore,e);n.currentUser=e,function(i,o){i.pa.forEach(a=>{a.forEach(l=>{l.reject(new Z(M.CANCELLED,o))})}),i.pa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await lu(n,r.ns)}}function IW(t,e){const n=ye(t),r=n.ma.get(e);if(r&&r.Ta)return Ie().add(r.key);{let s=Ie();const i=n.Aa.get(e);if(!i)return s;for(const o of i){const a=n.da.get(o);s=s.unionWith(a.view.sa)}return s}}function RW(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=gb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=IW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EW.bind(null,e),e.Ea.i_=uW.bind(null,e.eventManager),e.Ea.ba=dW.bind(null,e.eventManager),e}function xW(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=SW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wW.bind(null,e),e}class yT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=ip(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return DH(this.persistence,new LH,e.initialUser,this.serializer)}createPersistence(e){return new kH(vE.jr,this.serializer)}createSharedClientState(e){return new BH}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class NW{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>_T(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=CW.bind(null,this.syncEngine),await aW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cW}()}createDatastore(e){const n=ip(e.databaseInfo.databaseId),r=function(i){return new qH(i)}(e.databaseInfo);return function(i,o,a,l){return new QH(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new XH(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>_T(this.syncEngine,n,0),function(){return pT.v()?new pT:new zH}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new mW(s,i,o,a,l,c);return u&&(h.wa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ye(n);re("RemoteStore","RemoteStore shutting down."),r.w_.add(5),await au(r),r.b_.shutdown(),r.D_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ca(this.observer.next,e)}error(e){this.observer.error?this.Ca(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString())}Fa(){this.muted=!0}Ca(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AW{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=EA.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{re("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(re("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Z(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=CE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lm(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await eb(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function ET(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kW(t);re("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>mT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>mT(e.remoteStore,i)),t._onlineComponents=e}function bW(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function kW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!bW(n))throw n;aa("Error using user provided cache. Falling back to memory cache: "+n),await Lm(t,new yT)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Lm(t,new yT);return t._offlineComponents}async function Sb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await ET(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await ET(t,new NW))),t._onlineComponents}function PW(t){return Sb(t).then(e=>e.syncEngine)}async function wb(t){const e=await Sb(t),n=e.eventManager;return n.onListen=gW.bind(null,e.syncEngine),n.onUnlisten=vW.bind(null,e.syncEngine),n}function LW(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Eb({next:f=>{o.enqueueAndForget(()=>hb(i,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new Z(M.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new Z(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new fb(dE(a.path),u,{includeMetadataChanges:!0,G_:!0});return db(i,h)}(await wb(t),t.asyncQueue,e,n,r)),r.promise}function OW(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new Eb({next:f=>{o.enqueueAndForget(()=>hb(i,h)),f.fromCache&&l.source==="server"?c.reject(new Z(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new fb(a,u,{includeMetadataChanges:!0,G_:!0});return db(i,h)}(await wb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t,e,n){if(!n)throw new Z(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DW(t,e,n,r){if(e===!0&&r===!0)throw new Z(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function wT(t){if(!oe.isDocumentKey(t))throw new Z(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function TT(t){if(oe.isDocumentKey(t))throw new Z(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function lp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function $i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=lp(t);throw new Z(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function MW(t,e){if(e<=0)throw new Z(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Z(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Tb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Z(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Z(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Z(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new r6;switch(r.type){case"firstParty":return new a6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ST.get(n);r&&(re("ComponentProvider","Removing Datastore"),ST.delete(n),r.terminate())}(this),Promise.resolve()}}function VW(t,e,n,r={}){var s;const i=(t=$i(t,cp))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=zt.MOCK_USER;else{a=c1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Z(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new zt(c)}t._authCredentials=new s6(new yA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ai(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Us extends ai{constructor(e,n,r){super(e,n,dE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new oe(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function jW(t,e,...n){if(t=yt(t),Cb("collection","path",e),t instanceof cp){const r=qe.fromString(e,...n);return TT(r),new Us(t,null,r)}{if(!(t instanceof vn||t instanceof Us))throw new Z(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return TT(r),new Us(t.firestore,null,r)}}function Oa(t,e,...n){if(t=yt(t),arguments.length===1&&(e=EA.V()),Cb("doc","path",e),t instanceof cp){const r=qe.fromString(e,...n);return wT(r),new vn(t,null,new oe(r))}{if(!(t instanceof vn||t instanceof Us))throw new Z(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return wT(r),new vn(t.firestore,t instanceof Us?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $W{constructor(){this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new nb(this,"async_queue_retry"),this.eu=()=>{const n=Pm();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.$o.Bo()};const e=Pm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.eu)}get isShuttingDown(){return this.ja}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.tu(),this.nu(e)}enterRestrictedMode(e){if(!this.ja){this.ja=!0,this.Za=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.eu)}}enqueue(e){if(this.tu(),this.ja)return new Promise(()=>{});const n=new Kr;return this.nu(()=>this.ja&&this.Za?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.za.push(e),this.ru()))}async ru(){if(this.za.length!==0){try{await this.za[0](),this.za.shift(),this.$o.reset()}catch(e){if(!su(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.za.length>0&&this.$o.Oo(()=>this.ru())}}nu(e){const n=this.Ga.then(()=>(this.Ya=!0,e().catch(r=>{this.Ja=r,this.Ya=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw os("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ya=!1,r))));return this.Ga=n,n}enqueueAfterDelay(e,n,r){this.tu(),this.Xa.indexOf(e)>-1&&(n=0);const s=TE.createAndSchedule(this,e,n,r,i=>this.iu(i));return this.Ha.push(s),s}tu(){this.Ja&&fe()}verifyOperationInProgress(){}async su(){let e;do e=this.Ga,await e;while(e!==this.Ga)}ou(e){for(const n of this.Ha)if(n.timerId===e)return!0;return!1}_u(e){return this.su().then(()=>{this.Ha.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Ha)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.su()})}au(e){this.Xa.push(e)}iu(e){const n=this.Ha.indexOf(e);this.Ha.splice(n,1)}}class up extends cp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new $W}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Ib(this),this._firestoreClient.terminate()}}function FW(t,e){const n=typeof t=="object"?t:oy(),r=typeof t=="string"?t:e||"(default)",s=hf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=o1("firestore");i&&VW(s,...i)}return s}function xE(t){return t._firestoreClient||Ib(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Ib(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new y6(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Tb(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new AW(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fa(nn.fromBase64String(e))}catch(n){throw new Z(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fa(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UW=/^__.*__$/;class BW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new iu(e,this.data,n,this.fieldTransforms)}}function xb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class bE{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.uu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get cu(){return this.settings.cu}lu(e){return new bE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}hu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.Iu(e),s}Tu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.uu(),s}Eu(e){return this.lu({path:void 0,Pu:!0})}du(e){return Lh(e,this.settings.methodName,this.settings.Au||!1,this.path,this.settings.Ru)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}uu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Iu(this.path.get(e))}Iu(e){if(e.length===0)throw this.du("Document fields must not be empty");if(xb(this.cu)&&UW.test(e))throw this.du('Document fields cannot begin and end with "__"')}}class zW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ip(e)}Vu(e,n,r,s=!1){return new bE({cu:e,methodName:n,Ru:r,path:Kt.emptyPath(),Pu:!1,Au:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nb(t){const e=t._freezeSettings(),n=ip(t._databaseId);return new zW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function HW(t,e,n,r,s,i={}){const o=t.Vu(i.merge||i.mergeFields?2:0,e,n,s);kb("Data must be an object, but it was:",o,r);const a=Ab(r,o);let l,c;if(i.merge)l=new tr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=qW(e,h,n);if(!o.contains(f))throw new Z(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);KW(u,f)||u.push(f)}l=new tr(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new BW(new jn(a),l,c)}function WW(t,e,n,r=!1){return kE(n,t.Vu(r?4:3,e))}function kE(t,e){if(bb(t=yt(t)))return kb("Unsupported field value:",e,t),Ab(t,e);if(t instanceof Rb)return function(r,s){if(!xb(s.cu))throw s.du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Pu&&e.cu!==4)throw e.du("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=kE(a,s.Eu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return F6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=vt.fromDate(r);return{timestampValue:kh(s.serializer,i)}}if(r instanceof vt){const i=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(s.serializer,i)}}if(r instanceof AE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof fa)return{bytesValue:KA(s.serializer,r._byteString)};if(r instanceof vn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:gE(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.du(`Unsupported field value: ${lp(r)}`)}(t,e)}function Ab(t,e){const n={};return SA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ba(t,(r,s)=>{const i=kE(s,e.hu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function bb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof AE||t instanceof fa||t instanceof vn||t instanceof Rb)}function kb(t,e,n){if(!bb(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=lp(n);throw r==="an object"?e.du(t+" a custom object"):e.du(t+" "+r)}}function qW(t,e,n){if((e=yt(e))instanceof NE)return e._internalPath;if(typeof e=="string")return Pb(t,e);throw Lh("Field path arguments must be of type string or ",t,!1,void 0,n)}const GW=new RegExp("[~\\*/\\[\\]]");function Pb(t,e,n){if(e.search(GW)>=0)throw Lh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new NE(...e.split("."))._internalPath}catch{throw Lh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Lh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new Z(M.INVALID_ARGUMENT,a+t+l)}function KW(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(PE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class QW extends Lb{data(){return super.data()}}function PE(t,e){return typeof e=="string"?Pb(t,e):e instanceof NE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Z(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class LE{}class OE extends LE{}function XW(t,e,...n){let r=[];e instanceof LE&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof ME).length,a=i.filter(l=>l instanceof DE).length;if(o>1||o>0&&a>0)throw new Z(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class DE extends OE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new DE(e,n,r)}_apply(e){const n=this._parse(e);return Ob(e._query,n),new ai(e.firestore,e.converter,A_(e._query,n))}_parse(e){const n=Nb(e.firestore);return function(i,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Z(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){RT(h,u);const p=[];for(const m of h)p.push(IT(l,i,m));f={arrayValue:{values:p}}}else f=IT(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||RT(h,u),f=WW(a,o,h,u==="in"||u==="not-in");return pt.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class ME extends LE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new ME(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Ob(o,l),o=A_(o,l)}(e._query,n),new ai(e.firestore,e.converter,A_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class VE extends OE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new VE(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new Z(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new Z(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Bo(i,o);return function(c,u){if(hE(c)===null){const h=Zf(c);h!==null&&Db(c,h,u.field)}}(s,a),a}(e._query,this._field,this._direction);return new ai(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ka(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function JW(t,e="asc"){const n=e,r=PE("orderBy",t);return VE._create(r,n)}class jE extends OE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new jE(e,n,r)}_apply(e){return new ai(e.firestore,e.converter,Nh(e._query,this._limit,this._limitType))}}function ZW(t){return MW("limit",t),jE._create("limit",t,"F")}function IT(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new Z(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!bA(e)&&n.indexOf("/")!==-1)throw new Z(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!oe.isDocumentKey(r))throw new Z(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qw(t,new oe(r))}if(n instanceof vn)return Qw(t,n._key);throw new Z(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${lp(n)}.`)}function RT(t,e){if(!Array.isArray(t)||t.length===0)throw new Z(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ob(t,e){if(e.isInequality()){const r=Zf(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new Z(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=hE(t);i!==null&&Db(t,s,i)}const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Z(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Z(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Db(t,e,n){if(!n.isEqual(e))throw new Z(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class e5{convertValue(e,n="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ba(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new AE(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=aE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Sc(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Qe(ZA(r));const s=new wc(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||os(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t5(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mb extends Lb{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(PE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Rd extends Mb{data(e={}){return super.data(e)}}class n5{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new yl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Rd(this._firestore,this._userDataWriter,r.key,r,new yl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Z(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Rd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new yl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Rd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new yl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:r5(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function r5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){t=$i(t,vn);const e=$i(t.firestore,up);return LW(xE(e),t._key).then(n=>o5(e,t,n))}class Vb extends e5{constructor(e){super(),this.firestore=e}convertBytes(e){return new fa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function s5(t){t=$i(t,ai);const e=$i(t.firestore,up),n=xE(e),r=new Vb(e);return YW(t._query),OW(n,t._query).then(s=>new n5(e,r,t,s))}function FE(t,e,n){t=$i(t,vn);const r=$i(t.firestore,up),s=t5(t.converter,e,n);return i5(r,[HW(Nb(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Qr.none())])}function i5(t,e){return function(r,s){const i=new Kr;return r.asyncQueue.enqueueAndForget(async()=>yW(await PW(r),s,i)),i.promise}(xE(t),e)}function o5(t,e,n){const r=n.docs.get(e._key),s=new Vb(t);return new Mb(t,s,e._key,r,new yl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Aa=s})(ei),qs(new ns("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new up(new i6(r.getProvider("auth-internal")),new c6(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wc(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Bn(Hw,"4.1.1",e),Bn(Hw,"4.1.1","esm2017")})();const xT="@firebase/database",NT="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jb="";function a5(t){jb=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ac(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return hs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new l5(e)}}catch{}return new c5},Ei=$b("localStorage"),V_=$b("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=new df("@firebase/database"),u5=function(){let t=1;return function(){return t++}}(),Fb=function(t){const e=jM(t),n=new LM;n.update(e);const r=n.digest();return ty.encodeByteArray(r)},cu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=cu.apply(null,r):typeof r=="object"?e+=Dt(r):e+=r,e+=" "}return e};let Ii=null,AT=!0;const d5=function(t,e){K(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Ho.logLevel=ke.VERBOSE,Ii=Ho.log.bind(Ho),e&&V_.set("logging_enabled",!0)):typeof t=="function"?Ii=t:(Ii=null,V_.remove("logging_enabled"))},qt=function(...t){if(AT===!0&&(AT=!1,Ii===null&&V_.get("logging_enabled")===!0&&d5(!0)),Ii){const e=cu.apply(null,t);Ii(e)}},uu=function(t){return function(...e){qt(t,...e)}},j_=function(...t){const e="FIREBASE INTERNAL ERROR: "+cu(...t);Ho.error(e)},cs=function(...t){const e=`FIREBASE FATAL ERROR: ${cu(...t)}`;throw Ho.error(e),new Error(e)},xn=function(...t){const e="FIREBASE WARNING: "+cu(...t);Ho.warn(e)},h5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ub=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},f5=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},pa="[MIN_NAME]",Fi="[MAX_NAME]",Da=function(t,e){if(t===e)return 0;if(t===pa||e===Fi)return-1;if(e===pa||t===Fi)return 1;{const n=bT(t),r=bT(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},p5=function(t,e){return t===e?0:t<e?-1:1},nl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Dt(e))},UE=function(t){if(typeof t!="object"||t===null)return Dt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Dt(e[r]),n+=":",n+=UE(t[e[r]]);return n+="}",n},Bb=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Gn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const zb=function(t){K(!Ub(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},m5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},g5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},_5=new RegExp("^-?(0*)\\d{1,10}$"),v5=-2147483648,y5=2147483647,bT=function(t){if(_5.test(t)){const e=Number(t);if(e>=v5&&e<=y5)return e}return null},du=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw xn("Exception was thrown by user callback.",n),e},Math.floor(0))}},E5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},jl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S5{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xn(e)}}class Wo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Wo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="5",Hb="v",Wb="s",qb="r",Gb="f",Kb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Qb="ls",Yb="p",$_="ac",Xb="websocket",Jb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ei.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ei.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function T5(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function ek(t,e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");let r;if(e===Xb)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Jb)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);T5(t)&&(n.ns=t.namespace);const s=[];return Gn(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(){this.counters_={}}incrementCounter(e,n=1){hs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return vM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om={},Dm={};function zE(t){const e=t.toString();return Om[e]||(Om[e]=new C5),Om[e]}function I5(t,e){const n=t.toString();return Dm[n]||(Dm[n]=e()),Dm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&du(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="start",x5="close",N5="pLPCommand",A5="pRTLPCB",tk="id",nk="pw",rk="ser",b5="cb",k5="seg",P5="ts",L5="d",O5="dframe",sk=1870,ik=30,D5=sk-ik,M5=25e3,V5=3e4;class No{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=uu(e),this.stats_=zE(n),this.urlFn=l=>(this.appCheckToken&&(l[$_]=this.appCheckToken),ek(n,Jb,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new R5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(V5)),f5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new HE((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===kT)this.id=a,this.password=l;else if(o===x5)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[kT]="t",r[rk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[b5]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Hb]=BE,this.transportSessionId&&(r[Wb]=this.transportSessionId),this.lastSessionId&&(r[Qb]=this.lastSessionId),this.applicationId&&(r[Yb]=this.applicationId),this.appCheckToken&&(r[$_]=this.appCheckToken),typeof location<"u"&&location.hostname&&Kb.test(location.hostname)&&(r[qb]=Gb);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){No.forceAllow_=!0}static forceDisallow(){No.forceDisallow_=!0}static isAvailable(){return No.forceAllow_?!0:!No.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!m5()&&!g5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=r1(n),s=Bb(r,D5);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[O5]="t",r[tk]=e,r[nk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class HE{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=u5(),window[N5+this.uniqueCallbackIdentifier]=e,window[A5+this.uniqueCallbackIdentifier]=n,this.myIFrame=HE.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qt("frame writing exception"),a.stack&&qt(a.stack),qt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[tk]=this.myID,e[nk]=this.myPW,e[rk]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ik+r.length<=sk;){const o=this.pendingSegs.shift();r=r+"&"+k5+s+"="+o.seg+"&"+P5+s+"="+o.ts+"&"+L5+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(M5)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j5=16384,$5=45e3;let Oh=null;typeof MozWebSocket<"u"?Oh=MozWebSocket:typeof WebSocket<"u"&&(Oh=WebSocket);class er{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=uu(this.connId),this.stats_=zE(n),this.connURL=er.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[Hb]=BE,typeof location<"u"&&location.hostname&&Kb.test(location.hostname)&&(o[qb]=Gb),n&&(o[Wb]=n),r&&(o[Qb]=r),s&&(o[$_]=s),i&&(o[Yb]=i),ek(e,Xb,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ei.set("previous_websocket_failure",!0);try{let r;d1(),this.mySock=new Oh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){er.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Oh!==null&&!er.forceDisallow_}static previouslyFailed(){return Ei.isInMemoryStorage||Ei.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ei.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ac(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Bb(n,j5);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($5))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}er.responsesRequiredToBeHealthy=2;er.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[No,er]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=er&&er.isAvailable();let r=n&&!er.previouslyFailed();if(e.webSocketOnly&&(n||xn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[er];else{const s=this.transports_=[];for(const i of Rc.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Rc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=6e4,U5=5e3,B5=10*1024,z5=100*1024,Mm="t",PT="d",H5="s",LT="r",W5="e",OT="o",DT="a",MT="n",VT="p",q5="h";class G5{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=uu("c:"+this.id+":"),this.transportManager_=new Rc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=jl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>z5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>B5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Mm in e){const n=e[Mm];n===DT?this.upgradeIfSecondaryHealthy_():n===LT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===OT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=nl("t",e),r=nl("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:VT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:DT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:MT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=nl("t",e),r=nl("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=nl(Mm,e);if(PT in e){const r=e[PT];if(n===q5){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===MT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===H5?this.onConnectionShutdown_(r):n===LT?this.onReset_(r):n===W5?j_("Server Error: "+r):n===OT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):j_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),BE!==r&&xn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),jl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(F5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(U5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:VT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ei.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){K(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends ak{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!sy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Dh}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT=32,$T=768;class Ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $e(){return new Ye("")}function Ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ys(t){return t.pieces_.length-t.pieceNum_}function He(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ye(t.pieces_,e)}function lk(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function K5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function ck(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function uk(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ye(e,0)}function xt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ye(n,0)}function xe(t){return t.pieceNum_>=t.pieces_.length}function Fn(t,e){const n=Ae(t),r=Ae(e);if(n===null)return e;if(n===r)return Fn(He(t),He(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function dk(t,e){if(Ys(t)!==Ys(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function nr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ys(t)>Ys(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Q5{constructor(e,n){this.errorPrefix_=n,this.parts_=ck(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=uf(this.parts_[r]);hk(this)}}function Y5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=uf(e),hk(t)}function X5(t){const e=t.parts_.pop();t.byteLength_-=uf(e),t.parts_.length>0&&(t.byteLength_-=1)}function hk(t){if(t.byteLength_>$T)throw new Error(t.errorPrefix_+"has a key path longer than "+$T+" bytes ("+t.byteLength_+").");if(t.parts_.length>jT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+jT+") or object contains a cycle "+hi(t))}function hi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE extends ak{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new WE}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rl=1e3,J5=60*5*1e3,FT=30*1e3,Z5=1.3,eq=3e4,tq="server_kill",UT=3;class Yr extends ok{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Yr.nextPersistentConnectionId_++,this.log_=uu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=rl,this.maxReconnectDelay_=J5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!d1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");WE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Dh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Dt(i)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new ry,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Yr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&hs(e,"w")){const r=ea(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();xn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||PM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=FT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=kM(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Dt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):j_("Unrecognized action received from server: "+Dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>eq&&(this.reconnectDelay_=rl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Z5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Yr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){K(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new G5(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{xn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(tq)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&xn(h),l())}}}interrupt(e){qt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Qg(this.interruptReasons_)&&(this.reconnectDelay_=rl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>UE(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ye(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){qt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=UT&&(this.reconnectDelay_=FT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=UT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+jb.replace(/\./g,"-")]=1,sy()?e["framework.cordova"]=1:u1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Dh.getInstance().currentlyOnline();return Qg(this.interruptReasons_)&&e}}Yr.nextPersistentConnectionId_=0;Yr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new be(pa,e),s=new be(pa,n);return this.compare(r,s)!==0}minPost(){return be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju;class fk extends dp{static get __EMPTY_NODE(){return Ju}static set __EMPTY_NODE(e){Ju=e}compare(e,n){return Da(e.name,n.name)}isDefinedOn(e){throw wa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return be.MIN}maxPost(){return new be(Fi,Ju)}makePost(e,n){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new be(e,Ju)}toString(){return".key"}}const qo=new fk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??fn.EMPTY_NODE,this.right=i??fn.EMPTY_NODE}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return fn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return fn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Rt.RED=!0;Rt.BLACK=!1;class nq{copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class fn{constructor(e,n=fn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new fn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))}remove(e){return new fn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zu(this.root_,null,this.comparator_,!0,e)}}fn.EMPTY_NODE=new nq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t,e){return Da(t.name,e.name)}function qE(t,e){return Da(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F_;function sq(t){F_=t}const pk=function(t){return typeof t=="number"?"number:"+zb(t):"string:"+t},mk=function(t){if(t.isLeafNode()){const e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hs(e,".sv"),"Priority must be a string or number.")}else K(t===F_||t.isEmpty(),"priority of unexpected type.");K(t===F_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BT;class Tt{constructor(e,n=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),mk(this.priorityNode_)}static set __childrenNodeConstructor(e){BT=e}static get __childrenNodeConstructor(){return BT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:Ae(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||Ys(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+pk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=zb(this.value_):e+=this.value_,this.lazyHash_=Fb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Tt.VALUE_TYPE_ORDER.indexOf(n),i=Tt.VALUE_TYPE_ORDER.indexOf(r);return K(s>=0,"Unknown leaf type: "+n),K(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gk,_k;function iq(t){gk=t}function oq(t){_k=t}class aq extends dp{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Da(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return be.MIN}maxPost(){return new be(Fi,new Tt("[PRIORITY-POST]",_k))}makePost(e,n){const r=gk(e);return new be(n,new Tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qt=new aq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lq=Math.log(2);class cq{constructor(e){const n=i=>parseInt(Math.log(i)/lq,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Mh=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new Rt(f,h.node,Rt.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=s(l,p),g=s(p+1,c);return h=t[p],f=n?n(h):h,new Rt(f,h.node,Rt.BLACK,m,g)}},i=function(l){let c=null,u=null,h=t.length;const f=function(m,g){const E=h-m,_=h;h-=m;const v=s(E+1,_),y=t[E],S=n?n(y):y;p(new Rt(S,y.node,g,null,v))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));g?f(E,Rt.BLACK):(f(E,Rt.BLACK),f(E,Rt.RED))}return u},o=new cq(t.length),a=i(o);return new fn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm;const ao={};class qr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return K(ao&&Qt,"ChildrenNode.ts has not been loaded"),Vm=Vm||new qr({".priority":ao},{".priority":Qt}),Vm}get(e){const n=ea(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof fn?n:null}hasIndex(e){return hs(this.indexSet_,e.toString())}addIndex(e,n){K(e!==qo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(be.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Mh(r,e.getCompare()):a=ao;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new qr(u,c)}addToIndexes(e,n){const r=oh(this.indexes_,(s,i)=>{const o=ea(this.indexSet_,i);if(K(o,"Missing index implementation for "+i),s===ao)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(be.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Mh(a,o.getCompare())}else return ao;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new be(e.name,a))),l.insert(e,e.node)}});return new qr(r,this.indexSet_)}removeFromIndexes(e,n){const r=oh(this.indexes_,s=>{if(s===ao)return s;{const i=n.get(e.name);return i?s.remove(new be(e.name,i)):s}});return new qr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sl;class De{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&mk(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return sl||(sl=new De(new fn(qE),null,qr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sl}updatePriority(e){return this.children_.isEmpty()?this:new De(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?sl:n}}getChild(e){const n=Ae(e);return n===null?this:this.getImmediateChild(n).getChild(He(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new be(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?sl:this.priorityNode_;return new De(s,o,i)}}updateChild(e,n){const r=Ae(e);if(r===null)return n;{K(Ae(e)!==".priority"||Ys(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(He(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Qt,(o,a)=>{n[o]=a.val(e),r++,i&&De.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+pk(this.getPriority().val())+":"),this.forEachChild(Qt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Fb(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new be(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,be.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===hu?-1:0}withIndex(e){if(e===qo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new De(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===qo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Qt),s=n.getIterator(Qt);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===qo?null:this.indexMap_.get(e.toString())}}De.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class uq extends De{constructor(){super(new fn(qE),De.EMPTY_NODE,qr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return De.EMPTY_NODE}isEmpty(){return!1}}const hu=new uq;Object.defineProperties(be,{MIN:{value:new be(pa,De.EMPTY_NODE)},MAX:{value:new be(Fi,hu)}});fk.__EMPTY_NODE=De.EMPTY_NODE;Tt.__childrenNodeConstructor=De;sq(hu);oq(hu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=!0;function Gt(t,e=null){if(t===null)return De.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tt(n,Gt(e))}if(!(t instanceof Array)&&dq){const n=[];let r=!1;if(Gn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Gt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new be(o,l)))}}),n.length===0)return De.EMPTY_NODE;const i=Mh(n,rq,o=>o.name,qE);if(r){const o=Mh(n,Qt.getCompare());return new De(i,Gt(e),new qr({".priority":o},{".priority":Qt}))}else return new De(i,Gt(e),qr.Default)}else{let n=De.EMPTY_NODE;return Gn(t,(r,s)=>{if(hs(t,r)&&r.substring(0,1)!=="."){const i=Gt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Gt(e))}}iq(Gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq extends dp{constructor(e){super(),this.indexPath_=e,K(!xe(e)&&Ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Da(e.name,n.name):i}makePost(e,n){const r=Gt(e),s=De.EMPTY_NODE.updateChild(this.indexPath_,r);return new be(n,s)}maxPost(){const e=De.EMPTY_NODE.updateChild(this.indexPath_,hu);return new be(Fi,e)}toString(){return ck(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fq extends dp{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Da(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(e,n){const r=Gt(e);return new be(n,r)}toString(){return".value"}}const pq=new fq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mq(t){return{type:"value",snapshotNode:t}}function gq(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function _q(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function zT(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function vq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:pa}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const e=new GE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function HT(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Qt?n="$priority":t.index_===pq?n="$value":t.index_===qo?n="$key":(K(t.index_ instanceof hq,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Dt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Dt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Dt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Dt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function WT(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Qt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends ok{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=uu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Vh.getListenId_(e,r),a={};this.listens_[o]=a;const l=HT(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),ea(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Vh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=HT(e._queryParams),r=e._path.toString(),s=new ry;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Ta(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ac(a.responseText)}catch{xn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&xn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(){this.rootNode_=De.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jh(){return{value:null,children:new Map}}function vk(t,e,n){if(xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ae(e);t.children.has(r)||t.children.set(r,jh());const s=t.children.get(r);e=He(e),vk(s,e,n)}}function U_(t,e,n){t.value!==null?n(e,t.value):Eq(t,(r,s)=>{const i=new Ye(e.toString()+"/"+r);U_(s,i,n)})}function Eq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Gn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT=10*1e3,wq=30*1e3,Tq=5*60*1e3;class Cq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Sq(e);const r=qT+(wq-qT)*Math.random();jl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Gn(e,(s,i)=>{i>0&&hs(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),jl(this.reportStats_.bind(this),Math.floor(Math.random()*2*Tq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_r||(_r={}));function yk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Ek(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Sk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=_r.ACK_USER_WRITE,this.source=yk()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ye(e));return new $h($e(),n,this.revert)}}else return K(Ae(this.path)===e,"operationForChild called for unrelated child."),new $h(He(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=_r.OVERWRITE}operationForChild(e){return xe(this.path)?new Ui(this.source,$e(),this.snap.getImmediateChild(e)):new Ui(this.source,He(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=_r.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new Ye(e));return n.isEmpty()?null:n.value?new Ui(this.source,$e(),n.value):new xc(this.source,$e(),n)}else return K(Ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new xc(this.source,He(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Iq(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(vq(o.childName,o.snapshotNode))}),il(t,s,"child_removed",e,r,n),il(t,s,"child_added",e,r,n),il(t,s,"child_moved",i,r,n),il(t,s,"child_changed",e,r,n),il(t,s,"value",e,r,n),s}function il(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>xq(t,a,l)),o.forEach(a=>{const l=Rq(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Rq(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function xq(t,e,n){if(e.childName==null||n.childName==null)throw wa("Should only compare child_ events.");const r=new be(e.childName,e.snapshotNode),s=new be(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e){return{eventCache:t,serverCache:e}}function $l(t,e,n,r){return wk(new KE(e,n,r),t.serverCache)}function Tk(t,e,n,r){return wk(t.eventCache,new KE(e,n,r))}function B_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Bi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm;const Nq=()=>(jm||(jm=new fn(p5)),jm);class ze{constructor(e,n=Nq()){this.value=e,this.children=n}static fromObject(e){let n=new ze(null);return Gn(e,(r,s)=>{n=n.set(new Ye(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$e(),value:this.value};if(xe(e))return null;{const r=Ae(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(He(e),n);return i!=null?{path:xt(new Ye(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=Ae(e),r=this.children.get(n);return r!==null?r.subtree(He(e)):new ze(null)}}set(e,n){if(xe(e))return new ze(n,this.children);{const r=Ae(e),i=(this.children.get(r)||new ze(null)).set(He(e),n),o=this.children.insert(r,i);return new ze(this.value,o)}}remove(e){if(xe(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=Ae(e),r=this.children.get(n);if(r){const s=r.remove(He(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ze(null):new ze(this.value,i)}else return this}}get(e){if(xe(e))return this.value;{const n=Ae(e),r=this.children.get(n);return r?r.get(He(e)):null}}setTree(e,n){if(xe(e))return n;{const r=Ae(e),i=(this.children.get(r)||new ze(null)).setTree(He(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ze(this.value,o)}}fold(e){return this.fold_($e(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(xt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,$e(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(xe(e))return null;{const i=Ae(e),o=this.children.get(i);return o?o.findOnPath_(He(e),xt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$e(),n)}foreachOnPath_(e,n,r){if(xe(e))return this;{this.value&&r(n,this.value);const s=Ae(e),i=this.children.get(s);return i?i.foreachOnPath_(He(e),xt(n,s),r):new ze(null)}}foreach(e){this.foreach_($e(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(xt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.writeTree_=e}static empty(){return new or(new ze(null))}}function Fl(t,e,n){if(xe(e))return new or(new ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Fn(s,e);return i=i.updateChild(o,n),new or(t.writeTree_.set(s,i))}else{const s=new ze(n),i=t.writeTree_.setTree(e,s);return new or(i)}}}function GT(t,e,n){let r=t;return Gn(n,(s,i)=>{r=Fl(r,xt(e,s),i)}),r}function KT(t,e){if(xe(e))return or.empty();{const n=t.writeTree_.setTree(e,new ze(null));return new or(n)}}function z_(t,e){return eo(t,e)!=null}function eo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Fn(n.path,e)):null}function QT(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qt,(r,s)=>{e.push(new be(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new be(r,s.value))}),e}function Bs(t,e){if(xe(e))return t;{const n=eo(t,e);return n!=null?new or(new ze(n)):new or(t.writeTree_.subtree(e))}}function H_(t){return t.writeTree_.isEmpty()}function ma(t,e){return Ck($e(),t.writeTree_,e)}function Ck(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(K(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Ck(xt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(xt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t,e){return bk(e,t)}function Aq(t,e,n,r,s){K(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Fl(t.visibleWrites,e,n)),t.lastWriteId=r}function bq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function kq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);K(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Pq(a,r.path)?s=!1:nr(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return Lq(t),!0;if(r.snap)t.visibleWrites=KT(t.visibleWrites,r.path);else{const a=r.children;Gn(a,l=>{t.visibleWrites=KT(t.visibleWrites,xt(r.path,l))})}return!0}else return!1}function Pq(t,e){if(t.snap)return nr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&nr(xt(t.path,n),e))return!0;return!1}function Lq(t){t.visibleWrites=Rk(t.allWrites,Oq,$e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Oq(t){return t.visible}function Rk(t,e,n){let r=or.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)nr(n,o)?(a=Fn(n,o),r=Fl(r,a,i.snap)):nr(o,n)&&(a=Fn(o,n),r=Fl(r,$e(),i.snap.getChild(a)));else if(i.children){if(nr(n,o))a=Fn(n,o),r=GT(r,a,i.children);else if(nr(o,n))if(a=Fn(o,n),xe(a))r=GT(r,$e(),i.children);else{const l=ea(i.children,Ae(a));if(l){const c=l.getChild(He(a));r=Fl(r,$e(),c)}}}else throw wa("WriteRecord should have .snap or .children")}}return r}function xk(t,e,n,r,s){if(!r&&!s){const i=eo(t.visibleWrites,e);if(i!=null)return i;{const o=Bs(t.visibleWrites,e);if(H_(o))return n;if(n==null&&!z_(o,$e()))return null;{const a=n||De.EMPTY_NODE;return ma(o,a)}}}else{const i=Bs(t.visibleWrites,e);if(!s&&H_(i))return n;if(!s&&n==null&&!z_(i,$e()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(nr(c.path,e)||nr(e,c.path))},a=Rk(t.allWrites,o,e),l=n||De.EMPTY_NODE;return ma(a,l)}}}function Dq(t,e,n){let r=De.EMPTY_NODE;const s=eo(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Qt,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Bs(t.visibleWrites,e);return n.forEachChild(Qt,(o,a)=>{const l=ma(Bs(i,new Ye(o)),a);r=r.updateImmediateChild(o,l)}),QT(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Bs(t.visibleWrites,e);return QT(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Mq(t,e,n,r,s){K(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=xt(e,n);if(z_(t.visibleWrites,i))return null;{const o=Bs(t.visibleWrites,i);return H_(o)?s.getChild(n):ma(o,s.getChild(n))}}function Vq(t,e,n,r){const s=xt(e,n),i=eo(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Bs(t.visibleWrites,s);return ma(o,r.getNode().getImmediateChild(n))}else return null}function jq(t,e){return eo(t.visibleWrites,e)}function $q(t,e,n,r,s,i,o){let a;const l=Bs(t.visibleWrites,e),c=eo(l,$e());if(c!=null)a=c;else if(n!=null)a=ma(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<s;)h(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function Fq(){return{visibleWrites:or.empty(),allWrites:[],lastWriteId:-1}}function W_(t,e,n,r){return xk(t.writeTree,t.treePath,e,n,r)}function Nk(t,e){return Dq(t.writeTree,t.treePath,e)}function YT(t,e,n,r){return Mq(t.writeTree,t.treePath,e,n,r)}function Fh(t,e){return jq(t.writeTree,xt(t.treePath,e))}function Uq(t,e,n,r,s,i){return $q(t.writeTree,t.treePath,e,n,r,s,i)}function QE(t,e,n){return Vq(t.writeTree,t.treePath,e,n)}function Ak(t,e){return bk(xt(t.treePath,e),t.writeTree)}function bk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,zT(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,_q(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,gq(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,zT(r,e.snapshotNode,s.oldSnap));else throw wa("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const kk=new zq;class YE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new KE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return QE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bi(this.viewCache_),i=Uq(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function Hq(t,e){K(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Wq(t,e,n,r,s){const i=new Bq;let o,a;if(n.type===_r.OVERWRITE){const c=n;c.source.fromUser?o=q_(t,e,c.path,c.snap,r,s,i):(K(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xe(c.path),o=Uh(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===_r.MERGE){const c=n;c.source.fromUser?o=Gq(t,e,c.path,c.children,r,s,i):(K(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=G_(t,e,c.path,c.children,r,s,a,i))}else if(n.type===_r.ACK_USER_WRITE){const c=n;c.revert?o=Yq(t,e,c.path,r,s,i):o=Kq(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===_r.LISTEN_COMPLETE)o=Qq(t,e,n.path,r,i);else throw wa("Unknown operation type: "+n.type);const l=i.getChanges();return qq(e,o,l),{viewCache:o,changes:l}}function qq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=B_(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(mq(B_(e)))}}function Pk(t,e,n,r,s,i){const o=e.eventCache;if(Fh(r,n)!=null)return e;{let a,l;if(xe(n))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Bi(e),u=c instanceof De?c:De.EMPTY_NODE,h=Nk(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=W_(r,Bi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Ae(n);if(c===".priority"){K(Ys(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=YT(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=He(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=YT(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=QE(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,i):a=o.getNode()}}return $l(e,a,o.isFullyInitialized()||xe(n),t.filter.filtersNodes())}}function Uh(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(xe(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=Ae(n);if(!l.isCompleteForPath(n)&&Ys(n)>1)return e;const m=He(n),E=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,m,kk,null)}const h=Tk(e,c,l.isFullyInitialized()||xe(n),u.filtersNodes()),f=new YE(s,h,i);return Pk(t,h,n,s,f,a)}function q_(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new YE(s,e,i);if(xe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=$l(e,c,!0,t.filter.filtersNodes());else{const h=Ae(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=$l(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=He(n),p=a.getNode().getImmediateChild(h);let m;if(xe(f))m=r;else{const g=u.getCompleteChild(h);g!=null?lk(f)===".priority"&&g.getChild(uk(f)).isEmpty()?m=g:m=g.updateChild(f,r):m=De.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),h,m,f,u,o);l=$l(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function XT(t,e){return t.eventCache.isCompleteForChild(e)}function Gq(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=xt(n,l);XT(e,Ae(u))&&(a=q_(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=xt(n,l);XT(e,Ae(u))||(a=q_(t,a,u,c,s,i,o))}),a}function JT(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function G_(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;xe(n)?c=r:c=new ze(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),m=JT(t,p,f);l=Uh(t,l,new Ye(h),m,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!p){const m=e.serverCache.getNode().getImmediateChild(h),g=JT(t,m,f);l=Uh(t,l,new Ye(h),g,s,i,o,a)}}),l}function Kq(t,e,n,r,s,i,o){if(Fh(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Uh(t,e,n,l.getNode().getChild(n),s,i,a,o);if(xe(n)){let c=new ze(null);return l.getNode().forEachChild(qo,(u,h)=>{c=c.set(new Ye(u),h)}),G_(t,e,n,c,s,i,a,o)}else return e}else{let c=new ze(null);return r.foreach((u,h)=>{const f=xt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),G_(t,e,n,c,s,i,a,o)}}function Qq(t,e,n,r,s){const i=e.serverCache,o=Tk(e,i.getNode(),i.isFullyInitialized()||xe(n),i.isFiltered());return Pk(t,o,n,r,kk,s)}function Yq(t,e,n,r,s,i){let o;if(Fh(r,n)!=null)return e;{const a=new YE(r,e,s),l=e.eventCache.getNode();let c;if(xe(n)||Ae(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=W_(r,Bi(e));else{const h=e.serverCache.getNode();K(h instanceof De,"serverChildren would be complete if leaf node"),u=Nk(r,h)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=Ae(n);let h=QE(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,He(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,De.EMPTY_NODE,He(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=W_(r,Bi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||Fh(r,$e())!=null,$l(e,c,o,t.filter.filtersNodes())}}function Xq(t,e){const n=Bi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(Ae(e)).isEmpty())?n.getChild(e):null}function ZT(t,e,n,r){e.type===_r.MERGE&&e.source.queryId!==null&&(K(Bi(t.viewCache_),"We should always have a full cache before handling merges"),K(B_(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=Wq(t.processor_,s,e,n,r);return Hq(t.processor_,i.viewCache),K(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Jq(t,i.changes,i.viewCache.eventCache.getNode(),null)}function Jq(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Iq(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eC;function Zq(t){K(!eC,"__referenceConstructor has already been defined"),eC=t}function XE(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return K(i!=null,"SyncTree gave us an op for an invalid query."),ZT(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(ZT(o,e,n,r));return i}}function JE(t,e){let n=null;for(const r of t.views.values())n=n||Xq(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tC;function eG(t){K(!tC,"__referenceConstructor has already been defined"),tC=t}class nC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=Fq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function tG(t,e,n,r,s){return Aq(t.pendingWriteTree_,e,n,r,s),s?fp(t,new Ui(yk(),e,n)):[]}function Ao(t,e,n=!1){const r=bq(t.pendingWriteTree_,e);if(kq(t.pendingWriteTree_,e)){let i=new ze(null);return r.snap!=null?i=i.set($e(),!0):Gn(r.children,o=>{i=i.set(new Ye(o),!0)}),fp(t,new $h(r.path,i,n))}else return[]}function hp(t,e,n){return fp(t,new Ui(Ek(),e,n))}function nG(t,e,n){const r=ze.fromObject(n);return fp(t,new xc(Ek(),e,r))}function rG(t,e,n,r){const s=Mk(t,r);if(s!=null){const i=Vk(s),o=i.path,a=i.queryId,l=Fn(o,e),c=new Ui(Sk(a),l,n);return jk(t,o,c)}else return[]}function sG(t,e,n,r){const s=Mk(t,r);if(s){const i=Vk(s),o=i.path,a=i.queryId,l=Fn(o,e),c=ze.fromObject(n),u=new xc(Sk(a),l,c);return jk(t,o,u)}else return[]}function Lk(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Fn(o,e),c=JE(a,l);if(c)return c});return xk(s,e,i,n,!0)}function fp(t,e){return Ok(e,t.syncPointTree_,null,Ik(t.pendingWriteTree_,$e()))}function Ok(t,e,n,r){if(xe(t.path))return Dk(t,e,n,r);{const s=e.get($e());n==null&&s!=null&&(n=JE(s,$e()));let i=[];const o=Ae(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Ak(r,o);i=i.concat(Ok(a,l,c,u))}return s&&(i=i.concat(XE(s,t,r,n))),i}}function Dk(t,e,n,r){const s=e.get($e());n==null&&s!=null&&(n=JE(s,$e()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Ak(r,o),u=t.operationForChild(o);u&&(i=i.concat(Dk(u,a,l,c)))}),s&&(i=i.concat(XE(s,t,r,n))),i}function Mk(t,e){return t.tagToQueryMap.get(e)}function Vk(t){const e=t.indexOf("$");return K(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ye(t.substr(0,e))}}function jk(t,e,n){const r=t.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");const s=Ik(t.pendingWriteTree_,e);return XE(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new ZE(n)}node(){return this.node_}}class e0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xt(this.path_,e);return new e0(this.syncTree_,n)}node(){return Lk(this.syncTree_,this.path_)}}const iG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},rC=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return oG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return aG(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},oG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},aG=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);const s=e.node();if(K(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},lG=function(t,e,n,r){return t0(e,new e0(n,t),r)},cG=function(t,e,n){return t0(t,new ZE(e),n)};function t0(t,e,n){const r=t.getPriority().val(),s=rC(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=rC(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Tt(a,Gt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Tt(s))),o.forEachChild(Qt,(a,l)=>{const c=t0(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function r0(t,e){let n=e instanceof Ye?e:new Ye(e),r=t,s=Ae(n);for(;s!==null;){const i=ea(r.node.children,s)||{children:{},childCount:0};r=new n0(s,r,i),n=He(n),s=Ae(n)}return r}function Ma(t){return t.node.value}function $k(t,e){t.node.value=e,K_(t)}function Fk(t){return t.node.childCount>0}function uG(t){return Ma(t)===void 0&&!Fk(t)}function pp(t,e){Gn(t.node.children,(n,r)=>{e(new n0(n,t,r))})}function Uk(t,e,n,r){n&&!r&&e(t),pp(t,s=>{Uk(s,e,!0,r)}),n&&r&&e(t)}function dG(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function fu(t){return new Ye(t.parent===null?t.name:fu(t.parent)+"/"+t.name)}function K_(t){t.parent!==null&&hG(t.parent,t.name,t)}function hG(t,e,n){const r=uG(n),s=hs(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,K_(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,K_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=/[\[\].#$\/\u0000-\u001F\u007F]/,pG=/[\[\].#$\u0000-\u001F\u007F]/,$m=10*1024*1024,Bk=function(t){return typeof t=="string"&&t.length!==0&&!fG.test(t)},mG=function(t){return typeof t=="string"&&t.length!==0&&!pG.test(t)},gG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),mG(t)},zk=function(t,e,n){const r=n instanceof Ye?new Q5(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+hi(r));if(typeof e=="function")throw new Error(t+"contains a function "+hi(r)+" with contents = "+e.toString());if(Ub(e))throw new Error(t+"contains "+e.toString()+" "+hi(r));if(typeof e=="string"&&e.length>$m/3&&uf(e)>$m)throw new Error(t+"contains a string greater than "+$m+" utf8 bytes "+hi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Gn(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Bk(o)))throw new Error(t+" contains an invalid key ("+o+") "+hi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Y5(r,o),zk(t,a,r),X5(r)}),s&&i)throw new Error(t+' contains ".value" child '+hi(r)+" in addition to actual children.")}},_G=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Bk(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!gG(n))throw new Error(VM(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function yG(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!dk(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function to(t,e,n){yG(t,n),EG(t,r=>nr(r,e)||nr(e,r))}function EG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(SG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function SG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ii&&qt("event: "+n.toString()),du(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wG="repo_interrupt",TG=25;class CG{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new vG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=jh(),this.transactionQueueTree_=new n0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IG(t,e,n){if(t.stats_=zE(t.repoInfo_),t.forceRestClient_||E5())t.server_=new Vh(t.repoInfo_,(r,s,i,o)=>{sC(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>iC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Dt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Yr(t.repoInfo_,e,(r,s,i,o)=>{sC(t,r,s,i,o)},r=>{iC(t,r)},r=>{xG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=I5(t.repoInfo_,()=>new Cq(t.stats_,t.server_)),t.infoData_=new yq,t.infoSyncTree_=new nC({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=hp(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),s0(t,"connected",!1),t.serverSyncTree_=new nC({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);to(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function RG(t){const n=t.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Hk(t){return iG({timestamp:RG(t)})}function sC(t,e,n,r,s){t.dataUpdateCount++;const i=new Ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=oh(n,c=>Gt(c));o=sG(t.serverSyncTree_,i,l,s)}else{const l=Gt(n);o=rG(t.serverSyncTree_,i,l,s)}else if(r){const l=oh(n,c=>Gt(c));o=nG(t.serverSyncTree_,i,l)}else{const l=Gt(n);o=hp(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=o0(t,i)),to(t.eventQueue_,a,o)}function iC(t,e){s0(t,"connected",e),e===!1&&AG(t)}function xG(t,e){Gn(e,(n,r)=>{s0(t,n,r)})}function s0(t,e,n){const r=new Ye("/.info/"+e),s=Gt(n);t.infoData_.updateSnapshot(r,s);const i=hp(t.infoSyncTree_,r,s);to(t.eventQueue_,r,i)}function NG(t){return t.nextWriteId_++}function AG(t){Wk(t,"onDisconnectEvents");const e=Hk(t),n=jh();U_(t.onDisconnect_,$e(),(s,i)=>{const o=lG(s,i,t.serverSyncTree_,e);vk(n,s,o)});let r=[];U_(n,$e(),(s,i)=>{r=r.concat(hp(t.serverSyncTree_,s,i));const o=LG(t,s);o0(t,o)}),t.onDisconnect_=jh(),to(t.eventQueue_,$e(),r)}function bG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(wG)}function Wk(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qt(n,...e)}function qk(t,e,n){return Lk(t.serverSyncTree_,e,n)||De.EMPTY_NODE}function i0(t,e=t.transactionQueueTree_){if(e||mp(t,e),Ma(e)){const n=Kk(t,e);K(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&kG(t,fu(e),n)}else Fk(e)&&pp(e,n=>{i0(t,n)})}function kG(t,e,n){const r=n.map(c=>c.currentWriteId),s=qk(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];K(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Fn(e,u.path);i=i.updateChild(h,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Wk(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Ao(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();mp(t,r0(t.transactionQueueTree_,e)),i0(t,t.transactionQueueTree_),to(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)du(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{xn("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}o0(t,e)}},o)}function o0(t,e){const n=Gk(t,e),r=fu(n),s=Kk(t,n);return PG(t,s,r),r}function PG(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Fn(n,l.path);let u=!1,h;if(K(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(Ao(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=TG)u=!0,h="maxretry",s=s.concat(Ao(t.serverSyncTree_,l.currentWriteId,!0));else{const f=qk(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){zk("transaction failed: Data returned ",p,l.path);let m=Gt(p);typeof p=="object"&&p!=null&&hs(p,".priority")||(m=m.updatePriority(f.getPriority()));const E=l.currentWriteId,_=Hk(t),v=cG(m,f,_);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=v,l.currentWriteId=NG(t),o.splice(o.indexOf(E),1),s=s.concat(tG(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),s=s.concat(Ao(t.serverSyncTree_,E,!0))}else u=!0,h="nodata",s=s.concat(Ao(t.serverSyncTree_,l.currentWriteId,!0))}to(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}mp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)du(r[a]);i0(t,t.transactionQueueTree_)}function Gk(t,e){let n,r=t.transactionQueueTree_;for(n=Ae(e);n!==null&&Ma(r)===void 0;)r=r0(r,n),e=He(e),n=Ae(e);return r}function Kk(t,e){const n=[];return Qk(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Qk(t,e,n){const r=Ma(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);pp(e,s=>{Qk(t,s,n)})}function mp(t,e){const n=Ma(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,$k(e,n.length>0?n:void 0)}pp(e,r=>{mp(t,r)})}function LG(t,e){const n=fu(Gk(t,e)),r=r0(t.transactionQueueTree_,e);return dG(r,s=>{Fm(t,s)}),Fm(t,r),Uk(r,s=>{Fm(t,s)}),n}function Fm(t,e){const n=Ma(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(K(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(K(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Ao(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?$k(e,void 0):n.length=i+1,to(t.eventQueue_,fu(e),s);for(let o=0;o<r.length;o++)du(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function DG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xn(`Invalid query segment '${n}' in query '${t}'`)}return e}const oC=function(t,e){const n=MG(t),r=n.namespace;n.domain==="firebase.com"&&cs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&cs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||h5();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Zb(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ye(n.pathString)}},MG=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=OG(t.substring(u,h)));const f=DG(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return xe(this._path)?null:lk(this._path)}get ref(){return new Va(this._repo,this._path)}get _queryIdentifier(){const e=WT(this._queryParams),n=UE(e);return n==="{}"?"default":n}get _queryObject(){return WT(this._queryParams)}isEqual(e){if(e=yt(e),!(e instanceof a0))return!1;const n=this._repo===e._repo,r=dk(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+K5(this._path)}}class Va extends a0{constructor(e,n){super(e,n,new GE,!1)}get parent(){const e=uk(this._path);return e===null?null:new Va(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Zq(Va);eG(Va);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VG="FIREBASE_DATABASE_EMULATOR_HOST",Q_={};let jG=!1;function $G(t,e,n,r){t.repoInfo_=new Zb(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function FG(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||cs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=oC(i,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[VG]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=oC(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Wo(Wo.OWNER):new w5(t.name,t.options,e);_G("Invalid Firebase Database URL",o),xe(o.path)||cs("Database URL must point to the root of a Firebase Database (not including a child path).");const h=BG(a,t,u,new S5(t.name,n));return new zG(h,t)}function UG(t,e){const n=Q_[e];(!n||n[t.key]!==t)&&cs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),bG(t),delete n[t.key]}function BG(t,e,n,r){let s=Q_[e.name];s||(s={},Q_[e.name]=s);let i=s[t.toURLString()];return i&&cs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new CG(t,jG,n,r),s[t.toURLString()]=i,i}class zG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Va(this._repo,$e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(UG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&cs("Cannot call "+e+" on a deleted database.")}}function HG(t=oy(),e){const n=hf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=o1("database");r&&WG(n,...r)}return n}function WG(t,e,n,r={}){t=yt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&cs("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&cs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Wo(Wo.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:c1(r.mockUserToken,t.app.options.projectId);i=new Wo(o)}$G(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qG(t){a5(ei),qs(new ns("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return FG(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Bn(xT,NT,t),Bn(xT,NT,"esm2017")}Yr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Yr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};qG();const GG={apiKey:"AIzaSyBSaPFkAnkoc_uu_xR9LUvHL1Cc8mOWcyc",authDomain:"mybbs-5642f.firebaseapp.com",projectId:"mybbs-5642f",storageBucket:"mybbs-5642f.appspot.com",messagingSenderId:"210742350834",appId:"1:210742350834:web:a65b2a1d7d470593a3516b",databaseURL:"https://mybbs-5642f-default-rtdb.asia-southeast1.firebasedatabase.app/",measurementId:"G-SZ9V5BHSER"},Yk=m1(GG),no=FW(Yk),KG=HG(Yk);console.log(KG);const QG=Dy({key:"textState",default:"2312312"}),YG=Dy({key:"sss",default:{a:1,b:2}}),gp=Dy({key:"atomStore",default:{state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"],todos:"fdsssssss",saying:"sssssssss",count:0}}}),et={state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"],todos:"fdsssssss",saying:"sssssssss",count:0},authState:()=>{const t=ss();pf(t,n=>{if(n){e(n),sessionStorage.setItem("user",JSON.stringify(n));return}sessionStorage.removeItem("user"),et.state.userInfo={},et.state.userInfo.stat=!1,console.log("logout 된 상태",et.state.userInfo),console.table(et.state.userInfo)});const e=async n=>{const r=Oa(no,"member",n.uid);try{const s=await $E(r);et.state.userInfo.stat=!0,et.state.userInfo.email=s.data().email,et.state.userInfo.avatar=s.data().avatar,et.state.userInfo.nick=s.data().nick,et.state.userInfo.displayName=s.data().nick,et.state.userInfo.uid=n.uid,et.state.userInfo.liked=s.data().liked||[];const i=JSON.parse(sessionStorage.getItem("user"));i.avatar=s.data().avatar,i.photoURL=s.data().photoURL,i.displayName=s.data().nick,i.nick=s.data().nick,i.liked=s.data().liked||[],i.stat=!0,sessionStorage.setItem("user",JSON.stringify(i)),et.state.userInfo=i}catch(s){console.log(s)}}}};et.authState();window.store=et;const XG=async()=>{let t={},e;if(sessionStorage!=null&&sessionStorage.user)e=JSON.parse(sessionStorage==null?void 0:sessionStorage.user).uid;else{const r=ss();if(!e)return;pf(r,s=>{e=s.uid})}const n=Oa(no,"member",e);try{t=(await $E(n)).data(),t.uid=e,t.stat=!0}catch(r){console.error(r)}return t};function lo({prop:t}){let e=Sn();const n=yn(),r=En();n.pathname;const[s,i]=C.useState({});C.useEffect(()=>(i(sessionStorage.user&&JSON.parse(sessionStorage.user)),XG().then(a=>{console.log(a),i(l=>({...l,...a}))}),()=>{}),[s==null?void 0:s.uid,s==null?void 0:s.nick,s==null?void 0:s.displayName,s==null?void 0:s.stat]),console.log(s);const o=()=>{H.confirm("리액트 보다 쀼가 짱입니까?",{ycb:function(){console.log("컴펌 예"),window.location.href="https://kimkee.github.io/vue"},ncb:function(){console.log("컴펌 아뇨")},ybt:"마자요!",nbt:"아니오!"})};return d.jsx("header",{className:`header ${t.headerType}`,children:d.jsxs("div",{className:"inr",children:[d.jsxs("div",{className:"ldt",children:[t.headerType=="main"?d.jsxs("h1",{className:"logo",children:[" ",d.jsx(ct,{to:"/home/",className:"btlogo",children:d.jsx("i",{className:"fa-brands fa-vuejs"})})]}):d.jsxs("button",{type:"button",className:"bt back",onClick:()=>r(-1),children:[d.jsx("i",{className:"fa-regular fa-arrow-left"}),"뒤로"]}),e.id?d.jsx("h3",{className:"htit",children:et.state.userInfo.nick}):null]}),d.jsxs("div",{className:"rdt",children:[((s==null?void 0:s.stat)||(s==null?void 0:s.uid))&&d.jsxs(Mn,{to:`/user/${s==null?void 0:s.uid}`,className:"user",children:[d.jsx("span",{className:"pic",children:d.jsx("img",{alt:"",className:"img",src:et.state.avatar[s.avatar]||s.photoURL})}),d.jsx("span",{className:"txt",children:s.nick||s.displayName})]}),!(s!=null&&s.uid)&&d.jsxs(Mn,{to:"/user/signin",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Login"})]}),d.jsxs("button",{type:"button",onClick:o,className:"bt gnb",children:[d.jsx("i",{className:"fa-regular fa-bars"}),d.jsx("b",{children:"메뉴"})]})]})]})})}function co(){const t=yn(),e=c=>t.pathname.includes(`${c}`)?"active":"",[n,r]=C.useState(""),s=()=>{H.lock.stat||(H.viewport.scrollTop()>50?r(!0):r(!1))},i=()=>{H.scrollTo("body",0,200)},o=ss(),[a,l]=C.useState({});return C.useEffect(()=>(window.addEventListener("scroll",s),l(sessionStorage.user&&JSON.parse(sessionStorage.user)),pf(o,c=>{l(c?u=>({...u,...JSON.parse(sessionStorage.user)}):{})}),()=>{window.removeEventListener("scroll",s)}),[a==null?void 0:a.uid]),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`floatnav ${n?"on-top":""}`,children:d.jsxs("button",{type:"button",className:"bt top",onClick:i,children:[d.jsx("i",{className:"fa-solid fa-arrow-up"}),d.jsx("em",{children:"위로"})]})}),d.jsx("nav",{id:"menubar",className:"menubar",children:d.jsx("div",{className:"inr",children:d.jsxs("ul",{className:"menu",children:[d.jsx("li",{className:e("home"),children:d.jsxs(Mn,{to:"/home/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-house"}),d.jsx("em",{children:"Home"})]})}),d.jsx("li",{className:e("list/movie"),children:d.jsxs(Mn,{to:"/list/movie/0/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-clapperboard-play"}),d.jsx("em",{children:"Movie"})]})}),d.jsx("li",{className:e("list/tv"),children:d.jsxs(Mn,{to:"/list/tv/0/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-tv-retro"}),d.jsx("em",{children:"TV"})]})}),d.jsx("li",{className:e("search/movie"),children:d.jsxs(Mn,{to:"/search/movie/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-search"}),d.jsx("em",{children:"Search"})]})}),d.jsxs("li",{className:e("user/"),children:[(et.state.userInfo.stat||(a==null?void 0:a.uid))&&d.jsxs(Mn,{to:`/user/${a.uid}`,className:"bt",children:[" ",d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Mypage"})]}),!(a!=null&&a.uid)&&d.jsxs(Mn,{to:"/user/signin",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Login"})]})]})]})})})]})}function Xk(t,e){return function(){return t.apply(e,arguments)}}const{toString:JG}=Object.prototype,{getPrototypeOf:l0}=Object,_p=(t=>e=>{const n=JG.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),br=t=>(t=t.toLowerCase(),e=>_p(e)===t),vp=t=>e=>typeof e===t,{isArray:ja}=Array,Nc=vp("undefined");function ZG(t){return t!==null&&!Nc(t)&&t.constructor!==null&&!Nc(t.constructor)&&zn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Jk=br("ArrayBuffer");function e8(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Jk(t.buffer),e}const t8=vp("string"),zn=vp("function"),Zk=vp("number"),yp=t=>t!==null&&typeof t=="object",n8=t=>t===!0||t===!1,xd=t=>{if(_p(t)!=="object")return!1;const e=l0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},r8=br("Date"),s8=br("File"),i8=br("Blob"),o8=br("FileList"),a8=t=>yp(t)&&zn(t.pipe),l8=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zn(t.append)&&((e=_p(t))==="formdata"||e==="object"&&zn(t.toString)&&t.toString()==="[object FormData]"))},c8=br("URLSearchParams"),u8=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),ja(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function eP(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const tP=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),nP=t=>!Nc(t)&&t!==tP;function Y_(){const{caseless:t}=nP(this)&&this||{},e={},n=(r,s)=>{const i=t&&eP(e,s)||s;xd(e[i])&&xd(r)?e[i]=Y_(e[i],r):xd(r)?e[i]=Y_({},r):ja(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&pu(arguments[r],n);return e}const d8=(t,e,n,{allOwnKeys:r}={})=>(pu(e,(s,i)=>{n&&zn(s)?t[i]=Xk(s,n):t[i]=s},{allOwnKeys:r}),t),h8=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),f8=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},p8=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&l0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},m8=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},g8=t=>{if(!t)return null;if(ja(t))return t;let e=t.length;if(!Zk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},_8=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&l0(Uint8Array)),v8=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},y8=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},E8=br("HTMLFormElement"),S8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),aC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),w8=br("RegExp"),rP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};pu(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},T8=t=>{rP(t,(e,n)=>{if(zn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(zn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},C8=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return ja(t)?r(t):r(String(t).split(e)),n},I8=()=>{},R8=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Um="abcdefghijklmnopqrstuvwxyz",lC="0123456789",sP={DIGIT:lC,ALPHA:Um,ALPHA_DIGIT:Um+Um.toUpperCase()+lC},x8=(t=16,e=sP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function N8(t){return!!(t&&zn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const A8=t=>{const e=new Array(10),n=(r,s)=>{if(yp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=ja(r)?[]:{};return pu(r,(o,a)=>{const l=n(o,s+1);!Nc(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},b8=br("AsyncFunction"),k8=t=>t&&(yp(t)||zn(t))&&zn(t.then)&&zn(t.catch),D={isArray:ja,isArrayBuffer:Jk,isBuffer:ZG,isFormData:l8,isArrayBufferView:e8,isString:t8,isNumber:Zk,isBoolean:n8,isObject:yp,isPlainObject:xd,isUndefined:Nc,isDate:r8,isFile:s8,isBlob:i8,isRegExp:w8,isFunction:zn,isStream:a8,isURLSearchParams:c8,isTypedArray:_8,isFileList:o8,forEach:pu,merge:Y_,extend:d8,trim:u8,stripBOM:h8,inherits:f8,toFlatObject:p8,kindOf:_p,kindOfTest:br,endsWith:m8,toArray:g8,forEachEntry:v8,matchAll:y8,isHTMLForm:E8,hasOwnProperty:aC,hasOwnProp:aC,reduceDescriptors:rP,freezeMethods:T8,toObjectSet:C8,toCamelCase:S8,noop:I8,toFiniteNumber:R8,findKey:eP,global:tP,isContextDefined:nP,ALPHABET:sP,generateString:x8,isSpecCompliantForm:N8,toJSONObject:A8,isAsyncFn:b8,isThenable:k8};function Pe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}D.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const iP=Pe.prototype,oP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{oP[t]={value:t}});Object.defineProperties(Pe,oP);Object.defineProperty(iP,"isAxiosError",{value:!0});Pe.from=(t,e,n,r,s,i)=>{const o=Object.create(iP);return D.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Pe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const P8=null;function X_(t){return D.isPlainObject(t)||D.isArray(t)}function aP(t){return D.endsWith(t,"[]")?t.slice(0,-2):t}function cC(t,e,n){return t?t.concat(e).map(function(s,i){return s=aP(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function L8(t){return D.isArray(t)&&!t.some(X_)}const O8=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function Ep(t,e,n){if(!D.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,E){return!D.isUndefined(E[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(D.isDate(m))return m.toISOString();if(!l&&D.isBlob(m))throw new Pe("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(m)||D.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,E){let _=m;if(m&&!E&&typeof m=="object"){if(D.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(D.isArray(m)&&L8(m)||(D.isFileList(m)||D.endsWith(g,"[]"))&&(_=D.toArray(m)))return g=aP(g),_.forEach(function(y,S){!(D.isUndefined(y)||y===null)&&e.append(o===!0?cC([g],S,i):o===null?g:g+"[]",c(y))}),!1}return X_(m)?!0:(e.append(cC(E,g,i),c(m)),!1)}const h=[],f=Object.assign(O8,{defaultVisitor:u,convertValue:c,isVisitable:X_});function p(m,g){if(!D.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(m),D.forEach(m,function(_,v){(!(D.isUndefined(_)||_===null)&&s.call(e,_,D.isString(v)?v.trim():v,g,f))===!0&&p(_,g?g.concat(v):[v])}),h.pop()}}if(!D.isObject(t))throw new TypeError("data must be an object");return p(t),e}function uC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function c0(t,e){this._pairs=[],t&&Ep(t,this,e)}const lP=c0.prototype;lP.append=function(e,n){this._pairs.push([e,n])};lP.toString=function(e){const n=e?function(r){return e.call(this,r,uC)}:uC;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function D8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function cP(t,e,n){if(!e)return t;const r=n&&n.encode||D8,s=n&&n.serialize;let i;if(s?i=s(e,n):i=D.isURLSearchParams(e)?e.toString():new c0(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class M8{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(r){r!==null&&e(r)})}}const dC=M8,uP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},V8=typeof URLSearchParams<"u"?URLSearchParams:c0,j8=typeof FormData<"u"?FormData:null,$8=typeof Blob<"u"?Blob:null,F8=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),U8=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vr={isBrowser:!0,classes:{URLSearchParams:V8,FormData:j8,Blob:$8},isStandardBrowserEnv:F8,isStandardBrowserWebWorkerEnv:U8,protocols:["http","https","file","blob","url","data"]};function B8(t,e){return Ep(t,new vr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return vr.isNode&&D.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function z8(t){return D.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function H8(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function dP(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&D.isArray(s)?s.length:o,l?(D.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!D.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&D.isArray(s[o])&&(s[o]=H8(s[o])),!a)}if(D.isFormData(t)&&D.isFunction(t.entries)){const n={};return D.forEachEntry(t,(r,s)=>{e(z8(r),s,n,0)}),n}return null}const W8={"Content-Type":void 0};function q8(t,e,n){if(D.isString(t))try{return(e||JSON.parse)(t),D.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Sp={transitional:uP,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=D.isObject(e);if(i&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return s&&s?JSON.stringify(dP(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return B8(e,this.formSerializer).toString();if((a=D.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ep(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),q8(e)):e}],transformResponse:[function(e){const n=this.transitional||Sp.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&D.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Pe.from(a,Pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vr.classes.FormData,Blob:vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};D.forEach(["delete","get","head"],function(e){Sp.headers[e]={}});D.forEach(["post","put","patch"],function(e){Sp.headers[e]=D.merge(W8)});const u0=Sp,G8=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),K8=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&G8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},hC=Symbol("internals");function ol(t){return t&&String(t).trim().toLowerCase()}function Nd(t){return t===!1||t==null?t:D.isArray(t)?t.map(Nd):String(t)}function Q8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const Y8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Bm(t,e,n,r,s){if(D.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!D.isString(e)){if(D.isString(r))return e.indexOf(r)!==-1;if(D.isRegExp(r))return r.test(e)}}function X8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function J8(t,e){const n=D.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class wp{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=ol(l);if(!u)throw new Error("header name must be a non-empty string");const h=D.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=Nd(a))}const o=(a,l)=>D.forEach(a,(c,u)=>i(c,u,l));return D.isPlainObject(e)||e instanceof this.constructor?o(e,n):D.isString(e)&&(e=e.trim())&&!Y8(e)?o(K8(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=ol(e),e){const r=D.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return Q8(s);if(D.isFunction(n))return n.call(this,s,r);if(D.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ol(e),e){const r=D.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Bm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=ol(o),o){const a=D.findKey(r,o);a&&(!n||Bm(r,r[a],a,n))&&(delete r[a],s=!0)}}return D.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Bm(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return D.forEach(this,(s,i)=>{const o=D.findKey(r,i);if(o){n[o]=Nd(s),delete n[i];return}const a=e?X8(i):String(i).trim();a!==i&&delete n[i],n[a]=Nd(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return D.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&D.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[hC]=this[hC]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=ol(o);r[a]||(J8(s,o),r[a]=!0)}return D.isArray(e)?e.forEach(i):i(e),this}}wp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.freezeMethods(wp.prototype);D.freezeMethods(wp);const Xr=wp;function zm(t,e){const n=this||u0,r=e||n,s=Xr.from(r.headers);let i=r.data;return D.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function hP(t){return!!(t&&t.__CANCEL__)}function mu(t,e,n){Pe.call(this,t??"canceled",Pe.ERR_CANCELED,e,n),this.name="CanceledError"}D.inherits(mu,Pe,{__CANCEL__:!0});function Z8(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const eK=vr.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),D.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),D.isString(i)&&l.push("path="+i),D.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function tK(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function nK(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function fP(t,e){return t&&!tK(e)?nK(t,e):e}const rK=vr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=D.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function sK(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function iK(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let h=i,f=0;for(;h!==s;)f+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function fC(t,e){let n=0;const r=iK(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),c=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const oK=typeof XMLHttpRequest<"u",aK=oK&&function(t){return new Promise(function(n,r){let s=t.data;const i=Xr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}D.isFormData(s)&&(vr.isStandardBrowserEnv||vr.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+m))}const u=fP(t.baseURL,t.url);c.open(t.method.toUpperCase(),cP(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!c)return;const p=Xr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};Z8(function(_){n(_),l()},function(_){r(_),l()},g),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(r(new Pe("Request aborted",Pe.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Pe("Network Error",Pe.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||uP;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Pe(m,g.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,t,c)),c=null},vr.isStandardBrowserEnv){const p=(t.withCredentials||rK(u))&&t.xsrfCookieName&&eK.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}s===void 0&&i.setContentType(null),"setRequestHeader"in c&&D.forEach(i.toJSON(),function(m,g){c.setRequestHeader(g,m)}),D.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",fC(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",fC(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{c&&(r(!p||p.type?new mu(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=sK(u);if(f&&vr.protocols.indexOf(f)===-1){r(new Pe("Unsupported protocol "+f+":",Pe.ERR_BAD_REQUEST,t));return}c.send(s||null)})},Ad={http:P8,xhr:aK};D.forEach(Ad,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lK={getAdapter:t=>{t=D.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=D.isString(n)?Ad[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new Pe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(D.hasOwnProp(Ad,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!D.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Ad};function Hm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new mu(null,t)}function pC(t){return Hm(t),t.headers=Xr.from(t.headers),t.data=zm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),lK.getAdapter(t.adapter||u0.adapter)(t).then(function(r){return Hm(t),r.data=zm.call(t,t.transformResponse,r),r.headers=Xr.from(r.headers),r},function(r){return hP(r)||(Hm(t),r&&r.response&&(r.response.data=zm.call(t,t.transformResponse,r.response),r.response.headers=Xr.from(r.response.headers))),Promise.reject(r)})}const mC=t=>t instanceof Xr?t.toJSON():t;function ga(t,e){e=e||{};const n={};function r(c,u,h){return D.isPlainObject(c)&&D.isPlainObject(u)?D.merge.call({caseless:h},c,u):D.isPlainObject(u)?D.merge({},u):D.isArray(u)?u.slice():u}function s(c,u,h){if(D.isUndefined(u)){if(!D.isUndefined(c))return r(void 0,c,h)}else return r(c,u,h)}function i(c,u){if(!D.isUndefined(u))return r(void 0,u)}function o(c,u){if(D.isUndefined(u)){if(!D.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(mC(c),mC(u),!0)};return D.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||s,f=h(t[u],e[u],u);D.isUndefined(f)&&h!==a||(n[u]=f)}),n}const pP="1.4.0",d0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{d0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const gC={};d0.transitional=function(e,n,r){function s(i,o){return"[Axios v"+pP+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Pe(s(o," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!gC[o]&&(gC[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function cK(t,e,n){if(typeof t!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Pe("option "+i+" must be "+l,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+i,Pe.ERR_BAD_OPTION)}}const J_={assertOptions:cK,validators:d0},_s=J_.validators;class Bh{constructor(e){this.defaults=e,this.interceptors={request:new dC,response:new dC}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ga(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&J_.assertOptions(r,{silentJSONParsing:_s.transitional(_s.boolean),forcedJSONParsing:_s.transitional(_s.boolean),clarifyTimeoutError:_s.transitional(_s.boolean)},!1),s!=null&&(D.isFunction(s)?n.paramsSerializer={serialize:s}:J_.assertOptions(s,{encode:_s.function,serialize:_s.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&D.merge(i.common,i[n.method]),o&&D.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Xr.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!l){const m=[pC.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=a.length;let p=n;for(h=0;h<f;){const m=a[h++],g=a[h++];try{p=m(p)}catch(E){g.call(this,E);break}}try{u=pC.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=ga(this.defaults,e);const n=fP(e.baseURL,e.url);return cP(n,e.params,e.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(e){Bh.prototype[e]=function(n,r){return this.request(ga(r||{},{method:e,url:n,data:(r||{}).data}))}});D.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(ga(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Bh.prototype[e]=n(),Bh.prototype[e+"Form"]=n(!0)});const bd=Bh;class h0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new mu(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new h0(function(s){e=s}),cancel:e}}}const uK=h0;function dK(t){return function(n){return t.apply(null,n)}}function hK(t){return D.isObject(t)&&t.isAxiosError===!0}const Z_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Z_).forEach(([t,e])=>{Z_[e]=t});const fK=Z_;function mP(t){const e=new bd(t),n=Xk(bd.prototype.request,e);return D.extend(n,bd.prototype,e,{allOwnKeys:!0}),D.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return mP(ga(t,s))},n}const Et=mP(u0);Et.Axios=bd;Et.CanceledError=mu;Et.CancelToken=uK;Et.isCancel=hP;Et.VERSION=pP;Et.toFormData=Ep;Et.AxiosError=Pe;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=dK;Et.isAxiosError=hK;Et.mergeConfig=ga;Et.AxiosHeaders=Xr;Et.formToJSON=t=>dP(D.isHTMLForm(t)?new FormData(t):t);Et.HttpStatusCode=fK;Et.default=Et;const Zt=Et;function _C(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function f0(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:_C(e[n])&&_C(t[n])&&Object.keys(e[n]).length>0&&f0(t[n],e[n])})}const gP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function At(){const t=typeof document<"u"?document:{};return f0(t,gP),t}const pK={document:gP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Pt(){const t=typeof window<"u"?window:{};return f0(t,pK),t}function mK(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class xs extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),mK(this))}}function gu(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...gu(n)):e.push(n)}),e}function _P(t,e){return Array.prototype.filter.call(t,e)}function gK(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function _K(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let s=0;s<r.length;s+=1)n.push(r[s]);return n}function q(t,e){const n=Pt(),r=At();let s=[];if(!e&&t instanceof xs)return t;if(!t)return new xs(s);if(typeof t=="string"){const i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let o="div";i.indexOf("<li")===0&&(o="ul"),i.indexOf("<tr")===0&&(o="tbody"),(i.indexOf("<td")===0||i.indexOf("<th")===0)&&(o="tr"),i.indexOf("<tbody")===0&&(o="table"),i.indexOf("<option")===0&&(o="select");const a=r.createElement(o);a.innerHTML=i;for(let l=0;l<a.childNodes.length;l+=1)s.push(a.childNodes[l])}else s=_K(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof xs)return t;s=t}return new xs(gK(s))}q.fn=xs.prototype;function vK(...t){const e=gu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function yK(...t){const e=gu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function EK(...t){const e=gu(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function SK(...t){const e=gu(t.map(n=>n.split(" ")));return _P(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function wK(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function TK(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function CK(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function IK(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function RK(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);function i(c){const u=c.target;if(!u)return;const h=c.target.dom7EventData||[];if(h.indexOf(c)<0&&h.unshift(c),q(u).is(n))r.apply(u,h);else{const f=q(u).parents();for(let p=0;p<f.length;p+=1)q(f[p]).is(n)&&r.apply(f[p],h)}}function o(c){const u=c&&c.target?c.target.dom7EventData||[]:[];u.indexOf(c)<0&&u.unshift(c),r.apply(this,u)}const a=e.split(" ");let l;for(let c=0;c<this.length;c+=1){const u=this[c];if(n)for(l=0;l<a.length;l+=1){const h=a[l];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[h]||(u.dom7LiveListeners[h]=[]),u.dom7LiveListeners[h].push({listener:r,proxyListener:i}),u.addEventListener(h,i,s)}else for(l=0;l<a.length;l+=1){const h=a[l];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[h]||(u.dom7Listeners[h]=[]),u.dom7Listeners[h].push({listener:r,proxyListener:o}),u.addEventListener(h,o,s)}}return this}function xK(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);const i=e.split(" ");for(let o=0;o<i.length;o+=1){const a=i[o];for(let l=0;l<this.length;l+=1){const c=this[l];let u;if(!n&&c.dom7Listeners?u=c.dom7Listeners[a]:n&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[a]),u&&u.length)for(let h=u.length-1;h>=0;h-=1){const f=u[h];r&&f.listener===r||r&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===r?(c.removeEventListener(a,f.proxyListener,s),u.splice(h,1)):r||(c.removeEventListener(a,f.proxyListener,s),u.splice(h,1))}}}return this}function NK(...t){const e=Pt(),n=t[0].split(" "),r=t[1];for(let s=0;s<n.length;s+=1){const i=n[s];for(let o=0;o<this.length;o+=1){const a=this[o];if(e.CustomEvent){const l=new e.CustomEvent(i,{detail:r,bubbles:!0,cancelable:!0});a.dom7EventData=t.filter((c,u)=>u>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function AK(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function bK(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function kK(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function PK(){if(this.length>0){const t=Pt(),e=At(),n=this[0],r=n.getBoundingClientRect(),s=e.body,i=n.clientTop||s.clientTop||0,o=n.clientLeft||s.clientLeft||0,a=n===t?t.scrollY:n.scrollTop,l=n===t?t.scrollX:n.scrollLeft;return{top:r.top+a-i,left:r.left+l-o}}return null}function LK(){const t=Pt();return this[0]?t.getComputedStyle(this[0],null):{}}function OK(t,e){const n=Pt();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const s in t)this[r].style[s]=t[s];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function DK(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function MK(t){const e=_P(this,t);return q(e)}function VK(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function jK(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function $K(t){const e=Pt(),n=At(),r=this[0];let s,i;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=q(t),i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof xs){for(s=t.nodeType?[t]:t,i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}return!1}function FK(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function UK(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return q([]);if(t<0){const n=e+t;return n<0?q([]):q([this[n]])}return q([this[t]])}function BK(...t){let e;const n=At();for(let r=0;r<t.length;r+=1){e=t[r];for(let s=0;s<this.length;s+=1)if(typeof e=="string"){const i=n.createElement("div");for(i.innerHTML=e;i.firstChild;)this[s].appendChild(i.firstChild)}else if(e instanceof xs)for(let i=0;i<e.length;i+=1)this[s].appendChild(e[i]);else this[s].appendChild(e)}return this}function zK(t){const e=At();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const s=e.createElement("div");for(s.innerHTML=t,r=s.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(s.childNodes[r],this[n].childNodes[0])}else if(t instanceof xs)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function HK(t){return this.length>0?t?this[0].nextElementSibling&&q(this[0].nextElementSibling).is(t)?q([this[0].nextElementSibling]):q([]):this[0].nextElementSibling?q([this[0].nextElementSibling]):q([]):q([])}function WK(t){const e=[];let n=this[0];if(!n)return q([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?q(r).is(t)&&e.push(r):e.push(r),n=r}return q(e)}function qK(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&q(e.previousElementSibling).is(t)?q([e.previousElementSibling]):q([]):e.previousElementSibling?q([e.previousElementSibling]):q([])}return q([])}function GK(t){const e=[];let n=this[0];if(!n)return q([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?q(r).is(t)&&e.push(r):e.push(r),n=r}return q(e)}function KK(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?q(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return q(e)}function QK(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?q(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return q(e)}function YK(t){let e=this;return typeof t>"u"?q([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function XK(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let s=0;s<r.length;s+=1)e.push(r[s])}return q(e)}function JK(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let s=0;s<r.length;s+=1)(!t||q(r[s]).is(t))&&e.push(r[s])}return q(e)}function ZK(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const vC={addClass:vK,removeClass:yK,hasClass:SK,toggleClass:EK,attr:wK,removeAttr:TK,transform:CK,transition:IK,on:RK,off:xK,trigger:NK,transitionEnd:AK,outerWidth:bK,outerHeight:kK,styles:LK,offset:PK,css:OK,each:DK,html:VK,text:jK,is:$K,index:FK,eq:UK,append:BK,prepend:zK,next:HK,nextAll:WK,prev:qK,prevAll:GK,parent:KK,parents:QK,closest:YK,find:XK,children:JK,filter:MK,remove:ZK};Object.keys(vC).forEach(t=>{Object.defineProperty(q.fn,t,{value:vC[t],writable:!0})});function e7(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Ac(t,e=0){return setTimeout(t,e)}function bc(){return Date.now()}function t7(t){const e=Pt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function n7(t,e="x"){const n=Pt();let r,s,i;const o=t7(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function ed(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function r7(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Cn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!r7(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,a=i.length;o<a;o+=1){const l=i[o],c=Object.getOwnPropertyDescriptor(s,l);c!==void 0&&c.enumerable&&(ed(e[l])&&ed(s[l])?s[l].__swiper__?e[l]=s[l]:Cn(e[l],s[l]):!ed(e[l])&&ed(s[l])?(e[l]={},s[l].__swiper__?e[l]=s[l]:Cn(e[l],s[l])):e[l]=s[l])}}}return e}function td(t,e,n){t.style.setProperty(e,n)}function vP({swiper:t,targetPosition:e,side:n}){const r=Pt(),s=-t.translate;let i=null,o;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const l=e>s?"next":"prev",c=(h,f)=>l==="next"&&h>=f||l==="prev"&&h<=f,u=()=>{o=new Date().getTime(),i===null&&(i=o);const h=Math.max(Math.min((o-i)/a,1),0),f=.5-Math.cos(h*Math.PI)/2;let p=s+f*(e-s);if(c(p,e)&&(p=e),t.wrapperEl.scrollTo({[n]:p}),c(p,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(u)};u()}let Wm;function s7(){const t=Pt(),e=At();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const s=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,s)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function yP(){return Wm||(Wm=s7()),Wm}let qm;function i7({userAgent:t}={}){const e=yP(),n=Pt(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const u=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=r==="Win32";let p=r==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&p&&e.touch&&m.indexOf(`${o}x${a}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!f&&(i.os="android",i.android=!0),(c||h||u)&&(i.os="ios",i.ios=!0),i}function o7(t={}){return qm||(qm=i7(t)),qm}let Gm;function a7(){const t=Pt();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function l7(){return Gm||(Gm=a7()),Gm}function c7({swiper:t,on:e,emit:n}){const r=Pt();let s=null,i=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(u=>{i=r.requestAnimationFrame(()=>{const{width:h,height:f}=t;let p=h,m=f;u.forEach(({contentBoxSize:g,contentRect:E,target:_})=>{_&&_!==t.el||(p=E?E.width:(g[0]||g).inlineSize,m=E?E.height:(g[0]||g).blockSize)}),(p!==h||m!==f)&&o()})}),s.observe(t.el))},l=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},c=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",c)}),e("destroy",()=>{l(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",c)})}function u7({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=Pt(),o=(c,u={})=>{const h=i.MutationObserver||i.WebkitMutationObserver,f=new h(p=>{if(p.length===1){r("observerUpdate",p[0]);return}const m=function(){r("observerUpdate",p[0])};i.requestAnimationFrame?i.requestAnimationFrame(m):i.setTimeout(m,0)});f.observe(c,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:typeof u.childList>"u"?!0:u.childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),s.push(f)},a=()=>{if(t.params.observer){if(t.params.observeParents){const c=t.$el.parents();for(let u=0;u<c.length;u+=1)o(c[u])}o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}},l=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}const d7={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(s,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(a=>{a.apply(s,r)})}),e}};function h7(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function f7(){const t=this;function e(O){return t.isHorizontal()?O:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[O]}function n(O,k){return parseFloat(O.getPropertyValue(e(k))||0)}const r=t.params,{$wrapperEl:s,size:i,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&r.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=s.children(`.${t.params.slideClass}`),h=l?t.virtual.slides.length:u.length;let f=[];const p=[],m=[];let g=r.slidesOffsetBefore;typeof g=="function"&&(g=r.slidesOffsetBefore.call(t));let E=r.slidesOffsetAfter;typeof E=="function"&&(E=r.slidesOffsetAfter.call(t));const _=t.snapGrid.length,v=t.slidesGrid.length;let y=r.spaceBetween,S=-g,T=0,w=0;if(typeof i>"u")return;typeof y=="string"&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*i),t.virtualSize=-y,o?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(td(t.wrapperEl,"--swiper-centered-offset-before",""),td(t.wrapperEl,"--swiper-centered-offset-after",""));const x=r.grid&&r.grid.rows>1&&t.grid;x&&t.grid.initSlides(h);let P;const W=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(O=>typeof r.breakpoints[O].slidesPerView<"u").length>0;for(let O=0;O<h;O+=1){P=0;const k=u.eq(O);if(x&&t.grid.updateSlide(O,k,h,e),k.css("display")!=="none"){if(r.slidesPerView==="auto"){W&&(u[O].style[e("width")]="");const A=getComputedStyle(k[0]),b=k[0].style.transform,z=k[0].style.webkitTransform;if(b&&(k[0].style.transform="none"),z&&(k[0].style.webkitTransform="none"),r.roundLengths)P=t.isHorizontal()?k.outerWidth(!0):k.outerHeight(!0);else{const ie=n(A,"width"),Ee=n(A,"padding-left"),we=n(A,"padding-right"),j=n(A,"margin-left"),G=n(A,"margin-right"),$=A.getPropertyValue("box-sizing");if($&&$==="border-box")P=ie+j+G;else{const{clientWidth:ee,offsetWidth:R}=k[0];P=ie+Ee+we+j+G+(R-ee)}}b&&(k[0].style.transform=b),z&&(k[0].style.webkitTransform=z),r.roundLengths&&(P=Math.floor(P))}else P=(i-(r.slidesPerView-1)*y)/r.slidesPerView,r.roundLengths&&(P=Math.floor(P)),u[O]&&(u[O].style[e("width")]=`${P}px`);u[O]&&(u[O].swiperSlideSize=P),m.push(P),r.centeredSlides?(S=S+P/2+T/2+y,T===0&&O!==0&&(S=S-i/2-y),O===0&&(S=S-i/2-y),Math.abs(S)<1/1e3&&(S=0),r.roundLengths&&(S=Math.floor(S)),w%r.slidesPerGroup===0&&f.push(S),p.push(S)):(r.roundLengths&&(S=Math.floor(S)),(w-Math.min(t.params.slidesPerGroupSkip,w))%t.params.slidesPerGroup===0&&f.push(S),p.push(S),S=S+P+y),t.virtualSize+=P+y,T=P,w+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+E,o&&a&&(r.effect==="slide"||r.effect==="coverflow")&&s.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&s.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),x&&t.grid.updateWrapperSize(P,f,e),!r.centeredSlides){const O=[];for(let k=0;k<f.length;k+=1){let A=f[k];r.roundLengths&&(A=Math.floor(A)),f[k]<=t.virtualSize-i&&O.push(A)}f=O,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(f.length===0&&(f=[0]),r.spaceBetween!==0){const O=t.isHorizontal()&&o?"marginLeft":e("marginRight");u.filter((k,A)=>r.cssMode?A!==u.length-1:!0).css({[O]:`${y}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let O=0;m.forEach(A=>{O+=A+(r.spaceBetween?r.spaceBetween:0)}),O-=r.spaceBetween;const k=O-i;f=f.map(A=>A<0?-g:A>k?k+E:A)}if(r.centerInsufficientSlides){let O=0;if(m.forEach(k=>{O+=k+(r.spaceBetween?r.spaceBetween:0)}),O-=r.spaceBetween,O<i){const k=(i-O)/2;f.forEach((A,b)=>{f[b]=A-k}),p.forEach((A,b)=>{p[b]=A+k})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:m}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){td(t.wrapperEl,"--swiper-centered-offset-before",`${-f[0]}px`),td(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const O=-t.snapGrid[0],k=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(A=>A+O),t.slidesGrid=t.slidesGrid.map(A=>A+k)}if(h!==c&&t.emit("slidesLengthChange"),f.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==v&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const O=`${r.containerModifierClass}backface-hidden`,k=t.$el.hasClass(O);h<=r.maxBackfaceHiddenSlides?k||t.$el.addClass(O):k&&t.$el.removeClass(O)}}function p7(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||q([])).each(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&e.$wrapperEl.css("height",`${s}px`)}function m7(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function g7(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<r.length;a+=1){const l=r[a];let c=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const u=(o+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),h=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),f=-(o-c),p=f+e.slidesSizesGrid[a];(f>=0&&f<e.size-1||p>1&&p<=e.size||f<=0&&p>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass)),l.progress=s?-u:u,l.originalProgress=s?-h:h}e.visibleSlides=q(e.visibleSlides)}function _7(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o}=e;const a=i,l=o;r===0?(s=0,i=!0,o=!0):(s=(t-e.minTranslate())/r,i=s<=0,o=s>=1),Object.assign(e,{progress:s,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!a&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(a&&!i||l&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function v7(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:s,realIndex:i}=t,o=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let a;o?a=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${s}"]`):a=e.eq(s),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass));let l=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&l.length===0&&(l=e.eq(0),l.addClass(n.slideNextClass));let c=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&c.length===0&&(c=e.eq(-1),c.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function y7(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:s,params:i,activeIndex:o,realIndex:a,snapIndex:l}=e;let c=t,u;if(typeof c>"u"){for(let f=0;f<r.length;f+=1)typeof r[f+1]<"u"?n>=r[f]&&n<r[f+1]-(r[f+1]-r[f])/2?c=f:n>=r[f]&&n<r[f+1]&&(c=f+1):n>=r[f]&&(c=f);i.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0)}if(s.indexOf(n)>=0)u=s.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,c);u=f+Math.floor((c-f)/i.slidesPerGroup)}if(u>=s.length&&(u=s.length-1),c===o){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}const h=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(e,{snapIndex:u,realIndex:h,previousIndex:o,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==h&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function E7(t){const e=this,n=e.params,r=q(t).closest(`.${n.slideClass}`)[0];let s=!1,i;if(r){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===r){s=!0,i=o;break}}if(r&&s)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(q(r).attr("data-swiper-slide-index"),10):e.clickedIndex=i;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const S7={updateSize:h7,updateSlides:f7,updateAutoHeight:p7,updateSlidesOffset:m7,updateSlidesProgress:g7,updateProgress:_7,updateSlidesClasses:v7,updateActiveIndex:y7,updateClickedSlide:E7};function w7(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,$wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=n7(i[0],t);return r&&(o=-o),o||0}function T7(t,e){const n=this,{rtlTranslate:r,params:s,$wrapperEl:i,wrapperEl:o,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||i.transform(`translate3d(${l}px, ${c}px, ${u}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c;let h;const f=n.maxTranslate()-n.minTranslate();f===0?h=0:h=(t-n.minTranslate())/f,h!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function C7(){return-this.snapGrid[0]}function I7(){return-this.snapGrid[this.snapGrid.length-1]}function R7(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let u;if(r&&t>l?u=l:r&&t<c?u=c:u=t,i.updateProgress(u),o.cssMode){const h=i.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return vP({swiper:i,targetPosition:-u,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}const x7={getTranslate:w7,setTranslate:T7,minTranslate:C7,maxTranslate:I7,translateTo:R7};function N7(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function EP({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let o=n;if(o||(s>i?o="next":s<i?o="prev":o="reset"),t.emit(`transition${r}`),e&&s!==i){if(o==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function A7(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),EP({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function b7(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),EP({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const k7={setTransition:N7,transitionStart:A7,transitionEnd:b7};function P7(t=0,e=this.params.speed,n=!0,r,s){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const y=parseInt(t,10);if(!isFinite(y))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=y}const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:m}=i;if(i.animating&&a.preventInteractionOnTransition||!m&&!r&&!s)return!1;const g=Math.min(i.params.slidesPerGroupSkip,o);let E=g+Math.floor((o-g)/i.params.slidesPerGroup);E>=l.length&&(E=l.length-1);const _=-l[E];if(a.normalizeSlideIndex)for(let y=0;y<c.length;y+=1){const S=-Math.floor(_*100),T=Math.floor(c[y]*100),w=Math.floor(c[y+1]*100);typeof c[y+1]<"u"?S>=T&&S<w-(w-T)/2?o=y:S>=T&&S<w&&(o=y+1):S>=T&&(o=y)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&_<i.translate&&_<i.minTranslate()||!i.allowSlidePrev&&_>i.translate&&_>i.maxTranslate()&&(h||0)!==o))return!1;o!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(_);let v;if(o>h?v="next":o<h?v="prev":v="reset",f&&-_===i.translate||!f&&_===i.translate)return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(_),v!=="reset"&&(i.transitionStart(n,v),i.transitionEnd(n,v)),!1;if(a.cssMode){const y=i.isHorizontal(),S=f?_:-_;if(e===0){const T=i.virtual&&i.params.virtual.enabled;T&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),p[y?"scrollLeft":"scrollTop"]=S,T&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._swiperImmediateVirtual=!1})}else{if(!i.support.smoothScroll)return vP({swiper:i,targetPosition:S,side:y?"left":"top"}),!0;p.scrollTo({[y?"left":"top"]:S,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(_),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,v),e===0?i.transitionEnd(n,v):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(S){!i||i.destroyed||S.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,v))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd)),!0}function L7(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const o=parseInt(t,10);if(!isFinite(o))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=o}const s=this;let i=t;return s.params.loop&&(i+=s.loopedSlides),s.slideTo(i,e,n,r)}function O7(t=this.params.speed,e=!0,n){const r=this,{animating:s,enabled:i,params:o}=r;if(!i)return r;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(s&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function D7(t=this.params.speed,e=!0,n){const r=this,{params:s,animating:i,snapGrid:o,slidesGrid:a,rtlTranslate:l,enabled:c}=r;if(!c)return r;if(s.loop){if(i&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const u=l?r.translate:-r.translate;function h(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const f=h(u),p=o.map(E=>h(E));let m=o[p.indexOf(f)-1];if(typeof m>"u"&&s.cssMode){let E;o.forEach((_,v)=>{f>=_&&(E=v)}),typeof E<"u"&&(m=o[E>0?E-1:E])}let g=0;if(typeof m<"u"&&(g=a.indexOf(m),g<0&&(g=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,t,e,n)}return r.slideTo(g,t,e,n)}function M7(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function V7(t=this.params.speed,e=!0,n,r=.5){const s=this;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],u=s.snapGrid[a+1];l-c>(u-c)*r&&(i+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],u=s.snapGrid[a];l-c<=(u-c)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function j7(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;if(e.loop){if(t.animating)return;i=parseInt(q(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Ac(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Ac(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}const $7={slideTo:P7,slideToLoop:L7,slideNext:O7,slidePrev:D7,slideReset:M7,slideToClosest:V7,slideToClickedSlide:j7};function F7(){const t=this,e=At(),{params:n,$wrapperEl:r}=t,s=r.children().length>0?q(r.children()[0].parentNode):r;s.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let i=s.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-i.length%n.slidesPerGroup;if(l!==n.slidesPerGroup){for(let c=0;c<l;c+=1){const u=q(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);s.append(u)}i=s.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>i.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=i.length);const o=[],a=[];i.each((l,c)=>{q(l).attr("data-swiper-slide-index",c)});for(let l=0;l<t.loopedSlides;l+=1){const c=l-Math.floor(l/i.length)*i.length;a.push(i.eq(c)[0]),o.unshift(i.eq(i.length-c-1)[0])}for(let l=0;l<a.length;l+=1)s.append(q(a[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let l=o.length-1;l>=0;l-=1)s.prepend(q(o[l].cloneNode(!0)).addClass(n.slideDuplicateClass))}function U7(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:s,allowSlideNext:i,snapGrid:o,rtlTranslate:a}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const u=-o[e]-t.getTranslate();e<r?(l=n.length-r*3+e,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)):e>=n.length-r&&(l=-n.length+e+r,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)),t.allowSlidePrev=s,t.allowSlideNext=i,t.emit("loopFix")}function B7(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const z7={loopCreate:F7,loopFix:U7,loopDestroy:B7};function H7(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function W7(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const q7={setGrabCursor:H7,unsetGrabCursor:W7};function G7(t,e=this){function n(r){if(!r||r===At()||r===Pt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function K7(t){const e=this,n=At(),r=Pt(),s=e.touchEventsData,{params:i,touches:o,enabled:a}=e;if(!a||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let c=q(l.target);if(i.touchEventsTarget==="wrapper"&&!c.closest(e.wrapperEl).length||(s.isTouchEvent=l.type==="touchstart",!s.isTouchEvent&&"which"in l&&l.which===3)||!s.isTouchEvent&&"button"in l&&l.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",h=t.composedPath?t.composedPath():t.path;u&&l.target&&l.target.shadowRoot&&h&&(c=q(h[0]));const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(i.noSwiping&&(p?G7(f,c[0]):c.closest(f)[0])){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler)[0])return;o.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,o.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const m=o.currentX,g=o.currentY,E=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,_=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(E&&(m<=_||m>=r.innerWidth-_))if(E==="prevent")t.preventDefault();else return;if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,s.touchStartTime=bc(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1),l.type!=="touchstart"){let v=!0;c.is(s.focusableElements)&&(v=!1,c[0].nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&q(n.activeElement).is(s.focusableElements)&&n.activeElement!==c[0]&&n.activeElement.blur();const y=v&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||y)&&!c[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function Q7(t){const e=At(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}if(r.isTouchEvent&&l.type!=="touchmove")return;const c=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u=l.type==="touchmove"?c.pageX:l.pageX,h=l.type==="touchmove"?c.pageY:l.pageY;if(l.preventedByNestedSwiper){i.startX=u,i.startY=h;return}if(!n.allowTouchMove){q(l.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h}),r.touchStartTime=bc());return}if(r.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&q(l.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;i.currentX=u,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let _;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(_=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?_>s.touchAngle:90-_>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),r.isMoved||(s.loop&&!s.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let m=n.isHorizontal()?f:p;i.diff=m,m*=s.touchRatio,o&&(m=-m),n.swipeDirection=m>0?"prev":"next",r.currentTranslate=m+r.startTranslate;let g=!0,E=s.resistanceRatio;if(s.touchReleaseOnEdges&&(E=0),m>0&&r.currentTranslate>n.minTranslate()?(g=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+m)**E)):m<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-m)**E)),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(m)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Y7(t){const e=this,n=e.touchEventsData,{params:r,touches:s,rtlTranslate:i,slidesGrid:o,enabled:a}=e;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=bc(),u=c-n.touchStartTime;if(e.allowClick){const v=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(v&&v[0]||l.target),e.emit("tap click",l),u<300&&c-n.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(n.lastClickTime=bc(),Ac(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(r.followFinger?h=i?e.translate:-e.translate:h=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let f=0,p=e.slidesSizesGrid[0];for(let v=0;v<o.length;v+=v<r.slidesPerGroupSkip?1:r.slidesPerGroup){const y=v<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof o[v+y]<"u"?h>=o[v]&&h<o[v+y]&&(f=v,p=o[v+y]-o[v]):h>=o[v]&&(f=v,p=o[o.length-1]-o[o.length-2])}let m=null,g=null;r.rewind&&(e.isBeginning?g=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const E=(h-o[f])/p,_=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?m:f+_):e.slideTo(f)),e.swipeDirection==="prev"&&(E>1-r.longSwipesRatio?e.slideTo(f+_):g!==null&&E<0&&Math.abs(E)>r.longSwipesRatio?e.slideTo(g):e.slideTo(f))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(f+_):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:f+_),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:f))}}function yC(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function X7(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function J7(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let EC=!1;function Z7(){}const SP=(t,e)=>{const n=At(),{params:r,touchEvents:s,el:i,wrapperEl:o,device:a,support:l}=t,c=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",h=e;if(!l.touch)i[u](s.start,t.onTouchStart,!1),n[u](s.move,t.onTouchMove,c),n[u](s.end,t.onTouchEnd,!1);else{const f=s.start==="touchstart"&&l.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;i[u](s.start,t.onTouchStart,f),i[u](s.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),i[u](s.end,t.onTouchEnd,f),s.cancel&&i[u](s.cancel,t.onTouchEnd,f)}(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&o[u]("scroll",t.onScroll),r.updateOnWindowResize?t[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",yC,!0):t[h]("observerUpdate",yC,!0)};function eQ(){const t=this,e=At(),{params:n,support:r}=t;t.onTouchStart=K7.bind(t),t.onTouchMove=Q7.bind(t),t.onTouchEnd=Y7.bind(t),n.cssMode&&(t.onScroll=J7.bind(t)),t.onClick=X7.bind(t),r.touch&&!EC&&(e.addEventListener("touchstart",Z7),EC=!0),SP(t,"on")}function tQ(){SP(this,"off")}const nQ={attachEvents:eQ,detachEvents:tQ},SC=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function rQ(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:s,$el:i}=t,o=s.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in o?o[a]:void 0)||t.originalParams,u=SC(t,s),h=SC(t,c),f=s.enabled;u&&!h?(i.removeClass(`${s.containerModifierClass}grid ${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&h&&(i.addClass(`${s.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&s.grid.fill==="column")&&i.addClass(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{const _=s[E]&&s[E].enabled,v=c[E]&&c[E].enabled;_&&!v&&t[E].disable(),!_&&v&&t[E].enable()});const p=c.direction&&c.direction!==s.direction,m=s.loop&&(c.slidesPerView!==s.slidesPerView||p);p&&n&&t.changeDirection(),Cn(t.params,c);const g=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!g?t.disable():!f&&g&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),m&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",c)}function sQ(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=Pt(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}const iQ={setBreakpoint:rQ,getBreakpoint:sQ};function oQ(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function aQ(){const t=this,{classNames:e,params:n,rtl:r,$el:s,device:i,support:o}=t,a=oQ(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.addClass([...e].join(" ")),t.emitContainerClasses()}function lQ(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const cQ={addClasses:aQ,removeClasses:lQ};function uQ(t,e,n,r,s,i){const o=Pt();let a;function l(){i&&i()}!q(t).parent("picture")[0]&&(!t.complete||!s)&&e?(a=new o.Image,a.onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):l()}function dQ(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const hQ={loadImage:uQ,preloadImages:dQ};function fQ(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const pQ={checkOverflow:fQ},wC={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function mQ(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Cn(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&t[s]===!0&&(t[s]={auto:!0}),!(s in t&&"enabled"in i)){Cn(e,r);return}t[s]===!0&&(t[s]={enabled:!0}),typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Cn(e,r)}}const Km={eventsEmitter:d7,update:S7,translate:x7,transition:k7,slide:$7,loop:z7,grabCursor:q7,events:nQ,breakpoints:iQ,checkOverflow:pQ,classes:cQ,images:hQ},Qm={};let _a=class Or{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Cn({},r),n&&!r.el&&(r.el=n),r.el&&q(r.el).length>1){const a=[];return q(r.el).each(l=>{const c=Cn({},r,{el:l});a.push(new Or(c))}),a}const s=this;s.__swiper__=!0,s.support=yP(),s.device=o7({userAgent:r.userAgent}),s.browser=l7(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const i={};s.modules.forEach(a=>{a({swiper:s,extendParams:mQ(r,i),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const o=Cn({},wC,i);return s.params=Cn({},o,Qm,r),s.originalParams=Cn({},s.params),s.passedParams=Cn({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(a=>{s.on(a,s.params.on[a])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=q,Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:q(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const l=["touchstart","touchmove","touchend","touchcancel"],c=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},s.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:bc(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(s.centeredSlides){let h=i[c].swiperSlideSize,f;for(let p=c+1;p<i.length;p+=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>l&&(f=!0));for(let p=c-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>l&&(f=!0))}else if(e==="current")for(let h=c+1;h<i.length;h+=1)(n?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(u+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;e.params.freeMode&&e.params.freeMode.enabled?(s(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?i=e.slideTo(e.slides.length-1,0,!1,!0):i=e.slideTo(e.activeIndex,0,!1,!0),i||s()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${s}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=q(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const a=q(e.shadowRoot.querySelector(s()));return a.children=l=>r.children(l),a}return r.children?r.children(s()):q(r).children(s())})();if(o.length===0&&n.params.createElements){const l=At().createElement("div");o=q(l),l.className=n.params.wrapperClass,r.append(l),r.children(`.${n.params.slideClass}`).each(c=>{o.append(c)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:o.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:s,$el:i,$wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.$el[0].swiper=null,e7(r)),r.destroyed=!0),null}static extendDefaults(e){Cn(Qm,e)}static get extendedDefaults(){return Qm}static get defaults(){return wC}static installModule(e){Or.prototype.__modules__||(Or.prototype.__modules__=[]);const n=Or.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Or.installModule(n)),Or):(Or.installModule(e),Or)}};Object.keys(Km).forEach(t=>{Object.keys(Km[t]).forEach(e=>{_a.prototype[e]=Km[t][e]})});_a.use([c7,u7]);function p0(t,e,n,r){const s=At();return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=t.$el.children(`.${r[i]}`)[0];o||(o=s.createElement("div"),o.className=r[i],t.$el.append(o)),n[i]=o,e[i]=o}}),n}function Tp({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function s(p){let m;return p&&(m=q(p),t.params.uniqueNavElements&&typeof p=="string"&&m.length>1&&t.$el.find(p).length===1&&(m=t.$el.find(p))),m}function i(p,m){const g=t.params.navigation;p&&p.length>0&&(p[m?"addClass":"removeClass"](g.disabledClass),p[0]&&p[0].tagName==="BUTTON"&&(p[0].disabled=m),t.params.watchOverflow&&t.enabled&&p[t.isLocked?"addClass":"removeClass"](g.lockClass))}function o(){if(t.params.loop)return;const{$nextEl:p,$prevEl:m}=t.navigation;i(m,t.isBeginning&&!t.params.rewind),i(p,t.isEnd&&!t.params.rewind)}function a(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function l(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function c(){const p=t.params.navigation;if(t.params.navigation=p0(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;const m=s(p.nextEl),g=s(p.prevEl);m&&m.length>0&&m.on("click",l),g&&g.length>0&&g.on("click",a),Object.assign(t.navigation,{$nextEl:m,nextEl:m&&m[0],$prevEl:g,prevEl:g&&g[0]}),t.enabled||(m&&m.addClass(p.lockClass),g&&g.addClass(p.lockClass))}function u(){const{$nextEl:p,$prevEl:m}=t.navigation;p&&p.length&&(p.off("click",l),p.removeClass(t.params.navigation.disabledClass)),m&&m.length&&(m.off("click",a),m.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?f():(c(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{u()}),n("enable disable",()=>{const{$nextEl:p,$prevEl:m}=t.navigation;p&&p[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),m&&m[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(p,m)=>{const{$nextEl:g,$prevEl:E}=t.navigation,_=m.target;if(t.params.navigation.hideOnClick&&!q(_).is(E)&&!q(_).is(g)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===_||t.pagination.el.contains(_)))return;let v;g?v=g.hasClass(t.params.navigation.hiddenClass):E&&(v=E.hasClass(t.params.navigation.hiddenClass)),r(v===!0?"navigationShow":"navigationHide"),g&&g.toggleClass(t.params.navigation.hiddenClass),E&&E.toggleClass(t.params.navigation.hiddenClass)}});const h=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),c(),o()},f=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),u()};Object.assign(t.navigation,{enable:h,disable:f,update:o,init:c,destroy:u})}function Vr(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function Cp({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let i,o=0;function a(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function l(g,E){const{bulletActiveClass:_}=t.params.pagination;g[E]().addClass(`${_}-${E}`)[E]().addClass(`${_}-${E}-${E}`)}function c(){const g=t.rtl,E=t.params.pagination;if(a())return;const _=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,v=t.pagination.$el;let y;const S=t.params.loop?Math.ceil((_-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(y=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),y>_-1-t.loopedSlides*2&&(y-=_-t.loopedSlides*2),y>S-1&&(y-=S),y<0&&t.params.paginationType!=="bullets"&&(y=S+y)):typeof t.snapIndex<"u"?y=t.snapIndex:y=t.activeIndex||0,E.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const T=t.pagination.bullets;let w,x,P;if(E.dynamicBullets&&(i=T.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),v.css(t.isHorizontal()?"width":"height",`${i*(E.dynamicMainBullets+4)}px`),E.dynamicMainBullets>1&&t.previousIndex!==void 0&&(o+=y-(t.previousIndex-t.loopedSlides||0),o>E.dynamicMainBullets-1?o=E.dynamicMainBullets-1:o<0&&(o=0)),w=Math.max(y-o,0),x=w+(Math.min(T.length,E.dynamicMainBullets)-1),P=(x+w)/2),T.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(W=>`${E.bulletActiveClass}${W}`).join(" ")),v.length>1)T.each(W=>{const O=q(W),k=O.index();k===y&&O.addClass(E.bulletActiveClass),E.dynamicBullets&&(k>=w&&k<=x&&O.addClass(`${E.bulletActiveClass}-main`),k===w&&l(O,"prev"),k===x&&l(O,"next"))});else{const W=T.eq(y),O=W.index();if(W.addClass(E.bulletActiveClass),E.dynamicBullets){const k=T.eq(w),A=T.eq(x);for(let b=w;b<=x;b+=1)T.eq(b).addClass(`${E.bulletActiveClass}-main`);if(t.params.loop)if(O>=T.length){for(let b=E.dynamicMainBullets;b>=0;b-=1)T.eq(T.length-b).addClass(`${E.bulletActiveClass}-main`);T.eq(T.length-E.dynamicMainBullets-1).addClass(`${E.bulletActiveClass}-prev`)}else l(k,"prev"),l(A,"next");else l(k,"prev"),l(A,"next")}}if(E.dynamicBullets){const W=Math.min(T.length,E.dynamicMainBullets+4),O=(i*W-i)/2-P*i,k=g?"right":"left";T.css(t.isHorizontal()?k:"top",`${O}px`)}}if(E.type==="fraction"&&(v.find(Vr(E.currentClass)).text(E.formatFractionCurrent(y+1)),v.find(Vr(E.totalClass)).text(E.formatFractionTotal(S))),E.type==="progressbar"){let T;E.progressbarOpposite?T=t.isHorizontal()?"vertical":"horizontal":T=t.isHorizontal()?"horizontal":"vertical";const w=(y+1)/S;let x=1,P=1;T==="horizontal"?x=w:P=w,v.find(Vr(E.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${x}) scaleY(${P})`).transition(t.params.speed)}E.type==="custom"&&E.renderCustom?(v.html(E.renderCustom(t,y+1,S)),r("paginationRender",v[0])):r("paginationUpdate",v[0]),t.params.watchOverflow&&t.enabled&&v[t.isLocked?"addClass":"removeClass"](E.lockClass)}function u(){const g=t.params.pagination;if(a())return;const E=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,_=t.pagination.$el;let v="";if(g.type==="bullets"){let y=t.params.loop?Math.ceil((E-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&y>E&&(y=E);for(let S=0;S<y;S+=1)g.renderBullet?v+=g.renderBullet.call(t,S,g.bulletClass):v+=`<${g.bulletElement} class="${g.bulletClass}"></${g.bulletElement}>`;_.html(v),t.pagination.bullets=_.find(Vr(g.bulletClass))}g.type==="fraction"&&(g.renderFraction?v=g.renderFraction.call(t,g.currentClass,g.totalClass):v=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`,_.html(v)),g.type==="progressbar"&&(g.renderProgressbar?v=g.renderProgressbar.call(t,g.progressbarFillClass):v=`<span class="${g.progressbarFillClass}"></span>`,_.html(v)),g.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function h(){t.params.pagination=p0(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const g=t.params.pagination;if(!g.el)return;let E=q(g.el);E.length!==0&&(t.params.uniqueNavElements&&typeof g.el=="string"&&E.length>1&&(E=t.$el.find(g.el),E.length>1&&(E=E.filter(_=>q(_).parents(".swiper")[0]===t.el))),g.type==="bullets"&&g.clickable&&E.addClass(g.clickableClass),E.addClass(g.modifierClass+g.type),E.addClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(E.addClass(`${g.modifierClass}${g.type}-dynamic`),o=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&E.addClass(g.progressbarOppositeClass),g.clickable&&E.on("click",Vr(g.bulletClass),function(v){v.preventDefault();let y=q(this).index()*t.params.slidesPerGroup;t.params.loop&&(y+=t.loopedSlides),t.slideTo(y)}),Object.assign(t.pagination,{$el:E,el:E[0]}),t.enabled||E.addClass(g.lockClass))}function f(){const g=t.params.pagination;if(a())return;const E=t.pagination.$el;E.removeClass(g.hiddenClass),E.removeClass(g.modifierClass+g.type),E.removeClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(g.bulletActiveClass),g.clickable&&E.off("click",Vr(g.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?m():(h(),u(),c())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&c()}),n("snapIndexChange",()=>{t.params.loop||c()}),n("slidesLengthChange",()=>{t.params.loop&&(u(),c())}),n("snapGridLengthChange",()=>{t.params.loop||(u(),c())}),n("destroy",()=>{f()}),n("enable disable",()=>{const{$el:g}=t.pagination;g&&g[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{c()}),n("click",(g,E)=>{const _=E.target,{$el:v}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&v&&v.length>0&&!q(_).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&_===t.navigation.nextEl||t.navigation.prevEl&&_===t.navigation.prevEl))return;const y=v.hasClass(t.params.pagination.hiddenClass);r(y===!0?"paginationShow":"paginationHide"),v.toggleClass(t.params.pagination.hiddenClass)}});const p=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),h(),u(),c()},m=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),f()};Object.assign(t.pagination,{enable:p,disable:m,render:u,update:c,init:h,destroy:f})}function Ip({swiper:t,extendParams:e,on:n,emit:r}){const s=At();let i=!1,o=null,a=null,l,c,u,h;e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:k,rtlTranslate:A,progress:b}=t,{$dragEl:z,$el:ie}=k,Ee=t.params.scrollbar;let we=c,j=(u-c)*b;A?(j=-j,j>0?(we=c-j,j=0):-j+c>u&&(we=u+j)):j<0?(we=c+j,j=0):j+c>u&&(we=u-j),t.isHorizontal()?(z.transform(`translate3d(${j}px, 0, 0)`),z[0].style.width=`${we}px`):(z.transform(`translate3d(0px, ${j}px, 0)`),z[0].style.height=`${we}px`),Ee.hide&&(clearTimeout(o),ie[0].style.opacity=1,o=setTimeout(()=>{ie[0].style.opacity=0,ie.transition(400)},1e3))}function p(k){!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(k)}function m(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:k}=t,{$dragEl:A,$el:b}=k;A[0].style.width="",A[0].style.height="",u=t.isHorizontal()?b[0].offsetWidth:b[0].offsetHeight,h=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?c=u*h:c=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?A[0].style.width=`${c}px`:A[0].style.height=`${c}px`,h>=1?b[0].style.display="none":b[0].style.display="",t.params.scrollbar.hide&&(b[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&k.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function g(k){return t.isHorizontal()?k.type==="touchstart"||k.type==="touchmove"?k.targetTouches[0].clientX:k.clientX:k.type==="touchstart"||k.type==="touchmove"?k.targetTouches[0].clientY:k.clientY}function E(k){const{scrollbar:A,rtlTranslate:b}=t,{$el:z}=A;let ie;ie=(g(k)-z.offset()[t.isHorizontal()?"left":"top"]-(l!==null?l:c/2))/(u-c),ie=Math.max(Math.min(ie,1),0),b&&(ie=1-ie);const Ee=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*ie;t.updateProgress(Ee),t.setTranslate(Ee),t.updateActiveIndex(),t.updateSlidesClasses()}function _(k){const A=t.params.scrollbar,{scrollbar:b,$wrapperEl:z}=t,{$el:ie,$dragEl:Ee}=b;i=!0,l=k.target===Ee[0]||k.target===Ee?g(k)-k.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,k.preventDefault(),k.stopPropagation(),z.transition(100),Ee.transition(100),E(k),clearTimeout(a),ie.transition(0),A.hide&&ie.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),r("scrollbarDragStart",k)}function v(k){const{scrollbar:A,$wrapperEl:b}=t,{$el:z,$dragEl:ie}=A;i&&(k.preventDefault?k.preventDefault():k.returnValue=!1,E(k),b.transition(0),z.transition(0),ie.transition(0),r("scrollbarDragMove",k))}function y(k){const A=t.params.scrollbar,{scrollbar:b,$wrapperEl:z}=t,{$el:ie}=b;i&&(i=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),z.transition("")),A.hide&&(clearTimeout(a),a=Ac(()=>{ie.css("opacity",0),ie.transition(400)},1e3)),r("scrollbarDragEnd",k),A.snapOnRelease&&t.slideToClosest())}function S(k){const{scrollbar:A,touchEventsTouch:b,touchEventsDesktop:z,params:ie,support:Ee}=t,we=A.$el;if(!we)return;const j=we[0],G=Ee.passiveListener&&ie.passiveListeners?{passive:!1,capture:!1}:!1,$=Ee.passiveListener&&ie.passiveListeners?{passive:!0,capture:!1}:!1;if(!j)return;const ee=k==="on"?"addEventListener":"removeEventListener";Ee.touch?(j[ee](b.start,_,G),j[ee](b.move,v,G),j[ee](b.end,y,$)):(j[ee](z.start,_,G),s[ee](z.move,v,G),s[ee](z.end,y,$))}function T(){!t.params.scrollbar.el||!t.scrollbar.el||S("on")}function w(){!t.params.scrollbar.el||!t.scrollbar.el||S("off")}function x(){const{scrollbar:k,$el:A}=t;t.params.scrollbar=p0(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const b=t.params.scrollbar;if(!b.el)return;let z=q(b.el);t.params.uniqueNavElements&&typeof b.el=="string"&&z.length>1&&A.find(b.el).length===1&&(z=A.find(b.el)),z.addClass(t.isHorizontal()?b.horizontalClass:b.verticalClass);let ie=z.find(`.${t.params.scrollbar.dragClass}`);ie.length===0&&(ie=q(`<div class="${t.params.scrollbar.dragClass}"></div>`),z.append(ie)),Object.assign(k,{$el:z,el:z[0],$dragEl:ie,dragEl:ie[0]}),b.draggable&&T(),z&&z[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function P(){const k=t.params.scrollbar,A=t.scrollbar.$el;A&&A.removeClass(t.isHorizontal()?k.horizontalClass:k.verticalClass),w()}n("init",()=>{t.params.scrollbar.enabled===!1?O():(x(),m(),f())}),n("update resize observerUpdate lock unlock",()=>{m()}),n("setTranslate",()=>{f()}),n("setTransition",(k,A)=>{p(A)}),n("enable disable",()=>{const{$el:k}=t.scrollbar;k&&k[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),n("destroy",()=>{P()});const W=()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),x(),m(),f()},O=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),P()};Object.assign(t.scrollbar,{enable:W,disable:O,updateSize:m,setTranslate:f,init:x,destroy:P})}function Rp({swiper:t,extendParams:e,on:n}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let r=null;function s(A){const b=r;b.length!==0&&(b.html(""),b.html(A))}function i(A=16){const b=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(A).replace(/x/g,b)}function o(A){A.attr("tabIndex","0")}function a(A){A.attr("tabIndex","-1")}function l(A,b){A.attr("role",b)}function c(A,b){A.attr("aria-roledescription",b)}function u(A,b){A.attr("aria-controls",b)}function h(A,b){A.attr("aria-label",b)}function f(A,b){A.attr("id",b)}function p(A,b){A.attr("aria-live",b)}function m(A){A.attr("aria-disabled",!0)}function g(A){A.attr("aria-disabled",!1)}function E(A){if(A.keyCode!==13&&A.keyCode!==32)return;const b=t.params.a11y,z=q(A.target);t.navigation&&t.navigation.$nextEl&&z.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?s(b.lastSlideMessage):s(b.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&z.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?s(b.firstSlideMessage):s(b.prevSlideMessage)),t.pagination&&z.is(Vr(t.params.pagination.bulletClass))&&z[0].click()}function _(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:A,$prevEl:b}=t.navigation;b&&b.length>0&&(t.isBeginning?(m(b),a(b)):(g(b),o(b))),A&&A.length>0&&(t.isEnd?(m(A),a(A)):(g(A),o(A)))}function v(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function y(){return v()&&t.params.pagination.clickable}function S(){const A=t.params.a11y;v()&&t.pagination.bullets.each(b=>{const z=q(b);t.params.pagination.clickable&&(o(z),t.params.pagination.renderBullet||(l(z,"button"),h(z,A.paginationBulletMessage.replace(/\{\{index\}\}/,z.index()+1)))),z.is(`.${t.params.pagination.bulletActiveClass}`)?z.attr("aria-current","true"):z.removeAttr("aria-current")})}const T=(A,b,z)=>{o(A),A[0].tagName!=="BUTTON"&&(l(A,"button"),A.on("keydown",E)),h(A,z),u(A,b)},w=()=>{t.a11y.clicked=!0},x=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},P=A=>{if(t.a11y.clicked)return;const b=A.target.closest(`.${t.params.slideClass}`);if(!b||!t.slides.includes(b))return;const z=t.slides.indexOf(b)===t.activeIndex,ie=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(b);z||ie||A.sourceCapabilities&&A.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(b),0))},W=()=>{const A=t.params.a11y;A.itemRoleDescriptionMessage&&c(q(t.slides),A.itemRoleDescriptionMessage),A.slideRole&&l(q(t.slides),A.slideRole);const b=t.params.loop?t.slides.filter(z=>!z.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;A.slideLabelMessage&&t.slides.each((z,ie)=>{const Ee=q(z),we=t.params.loop?parseInt(Ee.attr("data-swiper-slide-index"),10):ie,j=A.slideLabelMessage.replace(/\{\{index\}\}/,we+1).replace(/\{\{slidesLength\}\}/,b);h(Ee,j)})},O=()=>{const A=t.params.a11y;t.$el.append(r);const b=t.$el;A.containerRoleDescriptionMessage&&c(b,A.containerRoleDescriptionMessage),A.containerMessage&&h(b,A.containerMessage);const z=t.$wrapperEl,ie=A.id||z.attr("id")||`swiper-wrapper-${i(16)}`,Ee=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";f(z,ie),p(z,Ee),W();let we,j;t.navigation&&t.navigation.$nextEl&&(we=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(j=t.navigation.$prevEl),we&&we.length&&T(we,ie,A.nextSlideMessage),j&&j.length&&T(j,ie,A.prevSlideMessage),y()&&t.pagination.$el.on("keydown",Vr(t.params.pagination.bulletClass),E),t.$el.on("focus",P,!0),t.$el.on("pointerdown",w,!0),t.$el.on("pointerup",x,!0)};function k(){r&&r.length>0&&r.remove();let A,b;t.navigation&&t.navigation.$nextEl&&(A=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(b=t.navigation.$prevEl),A&&A.off("keydown",E),b&&b.off("keydown",E),y()&&t.pagination.$el.off("keydown",Vr(t.params.pagination.bulletClass),E),t.$el.off("focus",P,!0),t.$el.off("pointerdown",w,!0),t.$el.off("pointerup",x,!0)}n("beforeInit",()=>{r=q(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),n("afterInit",()=>{t.params.a11y.enabled&&O()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&W()}),n("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&_()}),n("paginationUpdate",()=>{t.params.a11y.enabled&&S()}),n("destroy",()=>{t.params.a11y.enabled&&k()})}function xp({swiper:t,extendParams:e,on:n,emit:r}){let s;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function i(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const g=t.slides.eq(t.activeIndex);let E=t.params.autoplay.delay;g.attr("data-swiper-autoplay")&&(E=g.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(s),s=Ac(()=>{let _;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),_=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?a():(_=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(_=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),_=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?a():(_=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(_=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||_===!1)&&i()},E)}function o(){return typeof s<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),i(),!0)}function a(){return!t.autoplay.running||typeof s>"u"?!1:(s&&(clearTimeout(s),s=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function l(g){t.autoplay.running&&(t.autoplay.paused||(s&&clearTimeout(s),t.autoplay.paused=!0,g===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,i()):["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].addEventListener(E,u)})))}function c(){const g=At();g.visibilityState==="hidden"&&t.autoplay.running&&l(),g.visibilityState==="visible"&&t.autoplay.paused&&(i(),t.autoplay.paused=!1)}function u(g){!t||t.destroyed||!t.$wrapperEl||g.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].removeEventListener(E,u)}),t.autoplay.paused=!1,t.autoplay.running?i():a())}function h(){t.params.autoplay.disableOnInteraction?a():(r("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach(g=>{t.$wrapperEl[0].removeEventListener(g,u)})}function f(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),i())}function p(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",h),t.$el.on("mouseleave",f))}function m(){t.$el.off("mouseenter",h),t.$el.off("mouseleave",f)}n("init",()=>{t.params.autoplay.enabled&&(o(),At().addEventListener("visibilitychange",c),p())}),n("beforeTransitionStart",(g,E,_)=>{t.autoplay.running&&(_||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(E):a())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?a():l())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&i()}),n("destroy",()=>{m(),t.autoplay.running&&a(),At().removeEventListener("visibilitychange",c)}),Object.assign(t.autoplay,{pause:l,run:i,start:o,stop:a})}function gQ(t){const{effect:e,swiper:n,on:r,setTranslate:s,setTransition:i,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;r("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const h=o?o():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),r("setTranslate",()=>{n.params.effect===e&&s()}),r("setTransition",(h,f)=>{n.params.effect===e&&i(f)}),r("transitionEnd",()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.each(h=>{n.$(h).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}});let u;r("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(s(),u=!1)}))})}function _Q(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function vQ({swiper:t,duration:e,transformEl:n,allSlides:r}){const{slides:s,activeIndex:i,$wrapperEl:o}=t;if(t.params.virtualTranslate&&e!==0){let a=!1,l;r?l=n?s.find(n):s:l=n?s.eq(i).find(n):s.eq(i),l.transitionEnd(()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const c=["webkitTransitionEnd","transitionend"];for(let u=0;u<c.length;u+=1)o.trigger(c[u])})}}function wP({swiper:t,extendParams:e,on:n}){e({fadeEffect:{crossFade:!1,transformEl:null}}),gQ({effect:"fade",swiper:t,on:n,setTranslate:()=>{const{slides:i}=t,o=t.params.fadeEffect;for(let a=0;a<i.length;a+=1){const l=t.slides.eq(a);let u=-l[0].swiperSlideOffset;t.params.virtualTranslate||(u-=t.translate);let h=0;t.isHorizontal()||(h=u,u=0);const f=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(l[0].progress),0):1+Math.min(Math.max(l[0].progress,-1),0);_Q(o,l).css({opacity:f}).transform(`translate3d(${u}px, ${h}px, 0px)`)}},setTransition:i=>{const{transformEl:o}=t.params.fadeEffect;(o?t.slides.find(o):t.slides).transition(i),vQ({swiper:t,duration:i,transformEl:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function zi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Ns(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:zi(e[r])&&zi(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Ns(t[r],e[r]):t[r]=e[r]})}function TP(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function CP(t={}){return t.pagination&&typeof t.pagination.el>"u"}function IP(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function RP(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const xP=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function yQ(t={},e=!0){const n={on:{}},r={},s={};Ns(n,_a.defaults),Ns(n,_a.extendedDefaults),n._emitClasses=!0,n.init=!1;const i={},o=xP.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?zi(t[l])?(n[l]={},s[l]={},Ns(n[l],t[l]),Ns(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:i[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:r}}function EQ({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){TP(o)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),CP(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),IP(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}const NP=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const s=_a.prototype.getBreakpoint(e.breakpoints),i=s in e.breakpoints?e.breakpoints[s]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function SQ(t,e,n){const r=e.map((l,c)=>pe.cloneElement(l,{swiper:t,"data-swiper-slide-index":c}));function s(l,c,u){return pe.cloneElement(l,{key:`${l.key}-duplicate-${c}-${u}`,className:`${l.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-r.length%n.slidesPerGroup;if(l!==n.slidesPerGroup)for(let c=0;c<l;c+=1){const u=pe.createElement("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(u)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const i=NP(r,n),o=[],a=[];for(let l=0;l<i;l+=1){const c=l-Math.floor(l/r.length)*r.length;a.push(s(r[c],l,"append")),o.unshift(s(r[r.length-c-1],l,"prepend"))}return t&&(t.loopedSlides=i),[...o,...r,...a]}function wQ(t,e,n,r,s){const i=[];if(!e)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(s),c=n.map(s);l.join("")!==c.join("")&&o("children"),r.length!==n.length&&o("children")}return xP.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(zi(t[l])&&zi(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),u.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),i}function AP(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function bP(t){const e=[];return pe.Children.toArray(t).forEach(n=>{AP(n)?e.push(n):n.props&&n.props.children&&bP(n.props.children).forEach(r=>e.push(r))}),e}function TQ(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return pe.Children.toArray(t).forEach(r=>{if(AP(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=bP(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function CQ({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:a}){const l=r.filter(T=>T!=="children"&&T!=="direction"),{params:c,pagination:u,navigation:h,scrollbar:f,virtual:p,thumbs:m}=t;let g,E,_,v,y;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(g=!0),r.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(E=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(c.pagination||c.pagination===!1)&&u&&!u.el&&(_=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&f&&!f.el&&(v=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(y=!0);const S=T=>{t[T]&&(t[T].destroy(),T==="navigation"?(c[T].prevEl=void 0,c[T].nextEl=void 0,t[T].prevEl=void 0,t[T].nextEl=void 0):(c[T].el=void 0,t[T].el=void 0))};l.forEach(T=>{if(zi(c[T])&&zi(n[T]))Ns(c[T],n[T]);else{const w=n[T];(w===!0||w===!1)&&(T==="navigation"||T==="pagination"||T==="scrollbar")?w===!1&&S(T):c[T]=n[T]}}),l.includes("controller")&&!E&&t.controller&&t.controller.control&&c.controller&&c.controller.control&&(t.controller.control=c.controller.control),r.includes("children")&&e&&p&&c.virtual.enabled?(p.slides=e,p.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),g&&m.init()&&m.update(!0),E&&(t.controller.control=c.controller.control),_&&(a&&(c.pagination.el=a),u.init(),u.render(),u.update()),v&&(o&&(c.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),y&&(s&&(c.navigation.nextEl=s),i&&(c.navigation.prevEl=i),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function IQ(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((s,i)=>i>=n.from&&i<=n.to).map(s=>pe.cloneElement(s,{swiper:t,style:r}))}const RQ=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Ul(t,e){return typeof window>"u"?C.useEffect(t,e):C.useLayoutEffect(t,e)}const xQ=C.createContext(null),NQ=C.createContext(null);function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}const _u=C.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,u]=C.useState("swiper"),[h,f]=C.useState(null),[p,m]=C.useState(!1),g=C.useRef(!1),E=C.useRef(null),_=C.useRef(null),v=C.useRef(null),y=C.useRef(null),S=C.useRef(null),T=C.useRef(null),w=C.useRef(null),x=C.useRef(null),{params:P,passedParams:W,rest:O,events:k}=yQ(a),{slides:A,slots:b}=TQ(i),z=()=>{m(!p)};Object.assign(P.on,{_containerClasses(G,$){u($)}});const ie=()=>{if(Object.assign(P.on,k),l=!0,_.current=new _a(P),_.current.loopCreate=()=>{},_.current.loopDestroy=()=>{},P.loop&&(_.current.loopedSlides=NP(A,P)),_.current.virtual&&_.current.params.virtual.enabled){_.current.virtual.slides=A;const G={cache:!1,slides:A,renderExternal:f,renderExternalUpdate:!1};Ns(_.current.params.virtual,G),Ns(_.current.originalParams.virtual,G)}};E.current||ie(),_.current&&_.current.on("_beforeBreakpoint",z);const Ee=()=>{l||!k||!_.current||Object.keys(k).forEach(G=>{_.current.on(G,k[G])})},we=()=>{!k||!_.current||Object.keys(k).forEach(G=>{_.current.off(G,k[G])})};C.useEffect(()=>()=>{_.current&&_.current.off("_beforeBreakpoint",z)}),C.useEffect(()=>{!g.current&&_.current&&(_.current.emitSlidesClasses(),g.current=!0)}),Ul(()=>{if(e&&(e.current=E.current),!!E.current)return _.current.destroyed&&ie(),EQ({el:E.current,nextEl:S.current,prevEl:T.current,paginationEl:w.current,scrollbarEl:x.current,swiper:_.current},P),o&&o(_.current),()=>{_.current&&!_.current.destroyed&&_.current.destroy(!0,!1)}},[]),Ul(()=>{Ee();const G=wQ(W,v.current,A,y.current,$=>$.key);return v.current=W,y.current=A,G.length&&_.current&&!_.current.destroyed&&CQ({swiper:_.current,slides:A,passedParams:W,changedParams:G,nextEl:S.current,prevEl:T.current,scrollbarEl:x.current,paginationEl:w.current}),()=>{we()}}),Ul(()=>{RQ(_.current)},[h]);function j(){return P.virtual?IQ(_.current,A,h):!P.loop||_.current&&_.current.destroyed?A.map(G=>pe.cloneElement(G,{swiper:_.current})):SQ(_.current,A,P)}return pe.createElement(r,ev({ref:E,className:RP(`${c}${n?` ${n}`:""}`)},O),pe.createElement(NQ.Provider,{value:_.current},b["container-start"],pe.createElement(s,{className:"swiper-wrapper"},b["wrapper-start"],j(),b["wrapper-end"]),TP(P)&&pe.createElement(pe.Fragment,null,pe.createElement("div",{ref:T,className:"swiper-button-prev"}),pe.createElement("div",{ref:S,className:"swiper-button-next"})),IP(P)&&pe.createElement("div",{ref:x,className:"swiper-scrollbar"}),CP(P)&&pe.createElement("div",{ref:w,className:"swiper-pagination"}),b["container-end"]))});_u.displayName="Swiper";function tv(){return tv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tv.apply(this,arguments)}const zs=C.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,virtualIndex:a,...l}=t===void 0?{}:t;const c=C.useRef(null),[u,h]=C.useState("swiper-slide");function f(g,E,_){E===c.current&&h(_)}Ul(()=>{if(e&&(e.current=c.current),!(!c.current||!i)){if(i.destroyed){u!=="swiper-slide"&&h("swiper-slide");return}return i.on("_slideClass",f),()=>{i&&i.off("_slideClass",f)}}}),Ul(()=>{i&&c.current&&!i.destroyed&&h(i.getSlideClasses(c.current))},[i]);const p={isActive:u.indexOf("swiper-slide-active")>=0||u.indexOf("swiper-slide-duplicate-active")>=0,isVisible:u.indexOf("swiper-slide-visible")>=0,isDuplicate:u.indexOf("swiper-slide-duplicate")>=0,isPrev:u.indexOf("swiper-slide-prev")>=0||u.indexOf("swiper-slide-duplicate-prev")>=0,isNext:u.indexOf("swiper-slide-next")>=0||u.indexOf("swiper-slide-duplicate-next")>=0},m=()=>typeof r=="function"?r(p):r;return pe.createElement(n,tv({ref:c,className:RP(`${u}${s?` ${s}`:""}`),"data-swiper-slide-index":a},l),pe.createElement(xQ.Provider,{value:p},o?pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},m()):m()))});zs.displayName="SwiperSlide";function Hi({point:t}){const[e,n]=C.useState(null),r=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],s=()=>{let i=(Math.round(t*100)/100).toFixed(1)/2,o=0;r.reverse().forEach(a=>i<=a?o=a:null),n(o)};return C.useEffect(()=>{s()},[e]),d.jsxs("em",{className:"ui-star",children:[e===0&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"})]}),e===5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"})]})]})}function AQ({opts:t}){let e=Math.floor(Math.random()*3)+1;const[n,r]=C.useState([]),s=h=>{H.loading.show("glx");const f=`https://api.themoviedb.org/3/${t.media}/now_playing?language=ko&region=kr&page=${h}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(f).then(p=>{var m;console.log(p.data),r(g=>[...g,...p.data.results]),console.log(h+"=== "+p.data.total_pages),H.loading.hide(),p.data.total_pages<=h&&((m=document.querySelector(".ui-loadmore"))==null||m.classList.add("hide"))}).catch(p=>{var m;console.log(p),H.loading.hide(),(m=document.querySelector(".ui-loadmore"))==null||m.classList.add("error")})},[i,o]=C.useState(null),a=()=>{i==null||i.slideTo(Math.floor(Math.random()*10),0)};C.useEffect(()=>(s(e),a(),window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}),[]);const[l,c]=C.useState(0),u=()=>c(parseInt(H.viewport.scrollTop()*.2));return d.jsx(d.Fragment,{children:d.jsx("section",{className:"sect mnTop",children:d.jsx("div",{className:"inr",id:"slide",children:d.jsx(_u,{className:"swiper-wrapper swiper slide",modules:[Tp,Cp,Ip,xp,Rp],spaceBetween:0,slidesPerView:1,loop:!0,effect:"fade",autoplay:{delay:3e3,waitForTransition:!1,pauseOnMouseEnter:!0,disableOnInteraction:!1},wrapperTag:"ul",pagination:{clickable:!0},autoHeight:!1,onSwiper:h=>{console.log("initialize swiper",h),o(h),h.slideTo(Math.floor(Math.random()*10))},onSlideChange:()=>{},children:n==null?void 0:n.filter((h,f)=>f<10).map((h,f)=>{const p=`//image.tmdb.org/t/p/w780${h.poster_path}`;return d.jsx(zs,{tag:"li",className:"swiper-slide pbox",children:d.jsxs(ct,{className:"box",to:`${t.media}/${h.id}`,children:[d.jsx("div",{className:"pics",style:{transform:"translate3D(0rem , 0"+l+"rem , 0rem)"},children:d.jsx("img",{src:`${p}`,alt:"",className:"img",onError:H.error.poster})}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"star",children:d.jsx(Hi,{point:h.vote_average})}),d.jsx("div",{className:"tit",children:h.title})]}),d.jsx("div",{className:"screen"})]})},f)})})})})})}function uo({opts:t}){const[e,n]=C.useState([]);console.log(t);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=i=>{H.loading.show(),console.log("로드 ");const o=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(o).then(a=>{var l;console.log(a.data),n(c=>[...c,...a.data.results]),console.log(i+"=== "+a.data.total_pages),H.loading.hide(),a.data.total_pages<=i&&((l=document.querySelector(".ui-loadmore"))==null||l.classList.add("hide"))}).catch(a=>{var l;console.log(a),H.loading.hide(),(l=document.querySelector(".ui-loadmore"))==null||l.classList.add("error")})};return C.useEffect(()=>(s(1),()=>{}),[]),d.jsx(d.Fragment,{children:d.jsxs("section",{className:"sect mnList",children:[d.jsxs(ct,{to:`/list/${t.media}/${t.cate||0}`,className:"hbox",children:[d.jsx("h3",{className:"stit",children:t.title}),d.jsx("span",{className:"more",children:d.jsx("i",{className:"fa-regular fa-chevron-right"})})]}),d.jsx("div",{className:"inr",children:d.jsx("div",{className:"slide",children:d.jsx("ul",{children:e==null?void 0:e.filter((i,o)=>o<20).map((i,o)=>{const a=`//image.tmdb.org/t/p/w154${i.poster_path}`,l=i.title||i.name;return d.jsx("li",{className:"pbox",children:d.jsxs(ct,{className:"box",to:`${t.media}/${i.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${a}`,alt:l,className:"img",onError:H.error.poster})}),d.jsx("div",{className:"info"})]})},o)})})})})]})})}function TC({opts:t}){const[e,n]=C.useState([]);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=()=>{console.log("로드 ");const i=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(i).then(o=>{console.log(o.data),n(a=>[...a,...o.data.results])}).catch(o=>{console.log(o)})};return C.useEffect(()=>(s(),()=>{}),[]),d.jsx(d.Fragment,{children:d.jsxs("section",{className:"sect mnList topic",children:[d.jsx("div",{className:"hbox",children:d.jsx("h3",{className:"stit",children:t.title})}),d.jsx("div",{className:"inr",children:d.jsx("div",{className:"slide",children:d.jsx("ul",{children:e==null?void 0:e.filter((i,o)=>o<20).map((i,o)=>{const a=`//image.tmdb.org/t/p/w154${i.poster_path}`,l=i.title||i.name;return d.jsx("li",{className:"pbox",children:d.jsxs(ct,{className:"box",to:`${t.media}/${i.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${a}`,alt:l,className:"img",onError:H.error.poster})}),d.jsx("div",{className:"info",children:d.jsx(Hi,{point:i.vote_average})})]})},o)})})})})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP="firebasestorage.googleapis.com",bQ="storageBucket",kQ=2*60*1e3,PQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends xr{constructor(e,n,r=0){super(Ym(e),`Firebase Storage: ${n} (${Ym(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ir;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ir||(Ir={}));function Ym(t){return"storage/"+t}function LQ(){const t="An unknown error occurred, please check the error payload for server response.";return new kr(Ir.UNKNOWN,t)}function OQ(){return new kr(Ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function DQ(){return new kr(Ir.CANCELED,"User canceled the upload/download.")}function MQ(t){return new kr(Ir.INVALID_URL,"Invalid URL '"+t+"'.")}function VQ(t){return new kr(Ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function CC(t){return new kr(Ir.INVALID_ARGUMENT,t)}function PP(){return new kr(Ir.APP_DELETED,"The Firebase app was deleted.")}function jQ(t){return new kr(Ir.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=rr.makeFromUrl(e,n)}catch{return new rr(e,"")}if(r.path==="")return r;throw VQ(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},g=n===kP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${g}/${s}/${E}`,"i"),y=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<y.length;S++){const T=y[S],w=T.regex.exec(e);if(w){const x=w[T.indices.bucket];let P=w[T.indices.path];P||(P=""),r=new rr(x,P),T.postModify(r);break}}if(r==null)throw MQ(e);return r}}class $Q{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQ(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(p,l())},E)}function f(){i&&clearTimeout(i)}function p(E,..._){if(c){f();return}if(E){f(),u.call(null,E,..._);return}if(l()||o){f(),u.call(null,E,..._);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let m=!1;function g(E){m||(m=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function UQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(t){return t!==void 0}function IC(t,e,n,r){if(r<e)throw CC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw CC(`Invalid value for '${t}'. Expected ${n} or less.`)}function zQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(zh||(zh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HQ(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e,n,r,s,i,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new nd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===zh.NO_ERROR,l=i.getStatus();if(!a||HQ(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===zh.ABORT;r(!1,new nd(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new nd(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());BQ(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=LQ();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?PP():DQ();o(l)}else{const l=OQ();o(l)}};this.canceled_?n(!1,new nd(!1,null,!0)):this.backoffId_=FQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function GQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function KQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function QQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function YQ(t,e,n,r,s,i,o=!0){const a=zQ(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return KQ(c,e),qQ(c,n),GQ(c,i),QQ(c,r),new WQ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function JQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Hh(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JQ(this._location.path)}get storage(){return this._service}get parent(){const e=XQ(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new Hh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw jQ(e)}}function RC(t,e){const n=e==null?void 0:e[bQ];return n==null?null:rr.makeFromBucketSpec(n,t)}class ZQ{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=kP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=kQ,this._maxUploadRetryTime=PQ,this._requests=new Set,s!=null?this._bucket=rr.makeFromBucketSpec(s,this._host):this._bucket=RC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=RC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){IC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){IC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Hh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new $Q(PP());{const o=YQ(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const xC="@firebase/storage",NC="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eY="storage";function tY(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new ZQ(n,r,s,e,ei)}function nY(){qs(new ns(eY,tY,"PUBLIC").setMultipleInstances(!0)),Bn(xC,NC,""),Bn(xC,NC,"esm2017")}nY();function AC(){const t=()=>{const n=document.querySelector(".header"),r=parseInt(H.viewport.scrollTop());H.lock.stat||(r>100?n.classList.add("trans"):n.classList.remove("trans"))},e=async n=>{const r=XW(jW(no,"bbs"),JW("timestamp","desc"),ZW(n));(await s5(r)).forEach(i=>{})};return C.useEffect(()=>{window.scrollTo(0,0);const n=document.querySelector(".header");return n.classList.add("home"),window.addEventListener("scroll",t),e(10),()=>{n.classList.remove("home"),window.removeEventListener("scroll",t)}},[]),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page home",children:d.jsxs("main",{className:"contents",children:[d.jsx(AQ,{opts:{media:"movie"}}),d.jsx(TC,{opts:{media:"movie",list:"/trending/movie/week",cate:"0",title:"Weekly 영화 TOP 20"}}),d.jsx(uo,{opts:{media:"movie",list:"discover/movie",cate:"16",title:"영화/애니메이션"}}),d.jsx(uo,{opts:{media:"movie",list:"discover/movie",cate:"10402",title:"영화/음악"}}),d.jsx(uo,{opts:{media:"movie",list:"discover/movie",cate:"99",title:"영화/다큐멘터리"}}),d.jsx(TC,{opts:{media:"tv",list:"/trending/tv/week",cate:"0",title:"Weekly TV TOP 20"}}),d.jsx(uo,{opts:{media:"tv",list:"discover/tv",cate:"16",title:"TV/애니메이션"}}),d.jsx(uo,{opts:{media:"tv",list:"discover/tv",cate:"10764",title:"TV/Reality"}}),d.jsx(uo,{opts:{media:"tv",list:"discover/tv",cate:"80",title:"TV/범죄"}})]})})]})}function bC(){return C.useEffect(()=>()=>{},[]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"container page n404",children:d.jsx("main",{className:"contents",children:"404"})})})}function LP({opts:t}){const e=[];if(t.type=="movie-list")for(let n=0;n<=t.num;n++)e.push(d.jsx("li",{children:d.jsxs("div",{className:"box",children:[d.jsx("div",{className:"cont",children:d.jsx("div",{className:"pics"})}),d.jsx("div",{className:"tits"})]})},n));return t.type=="movie-detail"&&e.push(d.jsxs("div",{className:"m-info skelt",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[d.jsx("p",{className:"tit",children:" "}),d.jsx("p",{className:"sit",children:" "}),d.jsx("p",{className:"tio",children:" "}),d.jsx("div",{className:"star",children:" "}),d.jsx("div",{className:"cate",children:" "}),d.jsxs("ul",{className:"lst",children:[d.jsx("li",{className:"vot",children:" "}),d.jsx("li",{className:"opn",children:" "}),d.jsx("li",{className:"tim",children:" "})]})]}),d.jsx("div",{className:"thum",children:d.jsx("div",{className:"pics"})})]}),d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts"}),d.jsxs("div",{className:"lst",children:[d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]})]})]}),d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts"}),d.jsxs("div",{className:"lst",children:[d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]})]})]})]},"i")),e}function rY({data:t,cate:e}){const n=`//image.tmdb.org/t/p/w200/${t.poster_path}`,r=t.title||t.name;return d.jsx(d.Fragment,{children:d.jsxs(ct,{className:"box",to:""+t.id,children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${n}`,alt:r,className:"img",onError:ui.error.poster})}),d.jsx("div",{className:"desc",children:d.jsx(Hi,{point:t.vote_average})})]}),d.jsx("div",{className:"tits",children:r})]})})}function sY({menu:t,opts:e}){let n=Sn();const[r,s]=C.useState(0),i=a=>{const l=document.querySelector(".cate-box>.inr"),c=l.offsetWidth*.5,u=document.querySelector(".cate-box ul>li .bt.active"),h=u==null?void 0:u.offsetLeft,f=(u==null?void 0:u.offsetWidth)*.5,p=h-c+f;l.scrollTo(p,0),s(a),console.log("slideActive == "+r+"  "+h)},o=n.cate;return C.useEffect(()=>(i(r),()=>{}),[o,r,t,e]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"cate-box "+o,children:d.jsx("div",{className:"inr",children:d.jsxs("ul",{className:"list",children:[d.jsx("li",{"data-index":"0",className:o==="0"?"active":null,children:d.jsx(Mn,{type:"button",className:"bt",to:`/list/${e}/0`,children:"전체"})}),t.map((a,l)=>d.jsx("li",{"data-index":l+1,cate:a.id,className:a.id.toString()===o?"active":null,children:d.jsxs(Mn,{type:"button",className:"bt",to:`/list/${e}/${a.id}`,children:[" ",a.name," "]})},a.id))]})})})})}function iY(){let t=Sn();console.log(t);let e=yn(),n=En(),r=t.menu;const s=t.cate;s===void 0&&n(`/${r}/0`),console.log(t,e.pathname);let i;i=s!=="0"?`&with_genres=${s}`:"",console.log(i);const[o,a]=C.useState([]),[l,c]=C.useState([]);let u=1;const[h,f]=C.useState({}),p=async()=>{let W={genr:{}};await Zt.get(`https://api.themoviedb.org/3/genre/${r}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(O=>{O.data.genres.forEach(k=>W.genr[k.id]=k.name),c(O.data.genres)}).then(O=>{f(W),console.log(W)})},[m,g]=C.useState({pge:0,tot:0}),[E,_]=C.useState(""),[v,y]=C.useState(""),[S,T]=C.useState(""),w=W=>{console.log("로드 "+W);const O=`https://api.themoviedb.org/3/discover/${r}?${i}&page=${W}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(O).then(k=>{console.log(k.data),a(A=>[...A,...k.data.results]),console.log(`callStat : ${x} , page : ${W} , res.data.total_pages :  ${k.data.total_pages} `),x=!0,console.log(`callStat : ${x} , page : ${W} , res.data.total_pages :  ${k.data.total_pages} `),T(""),g({pge:k.data.page,tot:k.data.total_pages}),k.data.total_pages<=W?(x=!1,y("hide")):y(""),_("")}).catch(k=>{console.log(k),x=!0,T("error")})};console.log(o),C.useEffect(()=>(a([]),window.scrollTo(0,0),w(u),p(),document.querySelector(".header").classList.remove("trans"),window.addEventListener("scroll",P),()=>{window.removeEventListener("scroll",P)}),[s,r]);let x=!0;const P=()=>{const W=H.viewport.height(),O=H.viewport.docHeight(),k=H.viewport.scrollTop()+W+300;if(console.log(x+" =  "+u),O<=k&&x===!0){if(console.log("바닥도착"),_("active"),x=!1,console.log(x),H.lock.stat){x=!0;return}setTimeout(()=>{u=u+1,w(u)},400)}};return d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page movie list",children:d.jsxs("main",{className:"contents",children:[d.jsx("div",{className:"poster-list",children:o.length?d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"list",children:o.map((W,O)=>d.jsx("li",{"data-id":W.id+"_"+O,children:d.jsx(rY,{data:W,cate:h,opts:r})},W.id+"_"+O))}),d.jsxs("div",{className:`ui-loadmore ${E} ${v}  ${S}`,children:[d.jsx("em",{children:d.jsx("i",{className:"fa-duotone fa-spinner"})}),d.jsx("button",{onClick:W=>{x=!0,w(u)},type:"button",className:"btn-load",children:d.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]}):d.jsx("ul",{className:"list skelt",children:d.jsx(LP,{opts:{type:"movie-list",num:20}})})}),d.jsx("div",{className:"page-set",children:m.tot>0&&d.jsx("div",{className:"inr",children:d.jsxs("div",{className:"pg",children:[m.pge," / ",m.tot]})})})]})}),d.jsx(sY,{menu:l,opts:r})]})}function oY({overview:t}){C.useEffect(()=>(e.set(),()=>{}),[]);const e={evt:n=>{const r=n.currentTarget,s=r.closest("[data-ui='elips']"),i=r.querySelector(".btn-tog");s.classList.contains("open")?(i.innerHTML='<span>더보기</span> <i class="fa-solid fa-caret-down"></i>',s.classList.remove("open")):(i.innerHTML='<i class="fa-solid fa-caret-up"></i> <span>숨기기</span>',s.classList.add("open"))},set:n=>{const r=document.querySelector("[data-ui='elips']"),s=r.querySelector(".txt"),i=s.offsetHeight,o=s.scrollHeight;console.log("scrollHeight == ",o,".txtHeight == ",i),i<o&&r.classList.add("elips")}};return d.jsx("div",{className:"vinf","data-ui":"elips",onClick:e.evt,onKeyUp:n=>n.key==="Enter"?e.evt(n):null,tabIndex:0,children:d.jsxs("div",{className:"txt",children:[t,d.jsxs("span",{className:"btn-tog",children:[d.jsx("span",{children:"더보기"})," ",d.jsx("i",{className:"fa-solid fa-caret-down"})]})]})})}function aY({postID:t,opts:e}){const[n,r]=C.useState(null),s=`https://api.themoviedb.org/3/${e}/${t}/reviews?api_key=f76021076e8162ea929bd2cea62c6646`,i=()=>{Zt.get(s).then(a=>{console.log("리뷰들",a.data),r(a.data)}).catch(a=>{console.log(a)})},o={evt:a=>{console.log(a.currentTarget);const c=a.currentTarget.closest("[data-ui='elips']");c.classList.contains("open")?c.classList.remove("open"):c.classList.add("open")},set:a=>{document.querySelectorAll(".ut-reply ul.rlist>li .rpset .ment").forEach(c=>{const u=c.offsetHeight,h=c.scrollHeight;u<h?c.closest("[data-ui='elips']").classList.add("elips"):c.closest("[data-ui='elips']").classList.remove("elips")})}};return C.useEffect(()=>(i(),()=>{}),[]),n?(o.set(),d.jsx(d.Fragment,{children:n.results.length?d.jsxs("div",{className:"sect revw",children:[d.jsx("h4",{className:"tts",children:"리뷰"}),d.jsx("div",{className:"ut-reply",children:d.jsx("div",{className:"rplist",children:d.jsx("ul",{className:"rlist a",children:n.results&&n.results.map((a,l)=>{const u="//image.tmdb.org/t/p/w45_and_h45_face/"+(a.author_details.avatar_path||"");return d.jsx("li",{children:d.jsxs("div",{className:"rpset",children:[d.jsx("div",{className:"user",children:d.jsx("span",{className:"pic",children:d.jsx("img",{src:u,alt:"사진",className:"img",onError:H.error.user})})}),d.jsxs("div",{className:"infs",children:[d.jsx("div",{className:"name",children:d.jsx("em",{className:"nm",children:a.author_details.name||a.author_details.username})}),d.jsx("div",{className:"desc",children:d.jsx("em",{className:"time",children:H.dateForm(new Date(a.created_at))})}),d.jsx("div",{"data-ui":"elips",className:"mbox",children:d.jsx("div",{className:"ment txt",onClick:o.evt,children:a.content})})]})]})},l)})})})})]}):null})):d.jsx("div",{children:"Loading..."})}function lY({opts:t}){return d.jsxs(d.Fragment,{children:[t.type=="glx"&&d.jsx("span",{className:`ui-loading ui-load-glx full ${t.cls}`,children:d.jsx("span",{className:"gbx",children:d.jsxs("em",{className:"bx",children:[d.jsx("i",{})," ",d.jsx("i",{}),d.jsx("i",{})," ",d.jsx("i",{})]})})}),t.type=="dot"&&d.jsx("span",{className:`ui-loading ui-loading-dot ${t.cls}`,children:d.jsx("div",{class:"bx",children:d.jsx("em",{children:d.jsx("i",{})})})})]})}function OP({postID:t,popTitle:e}){let n=Sn(),r=n.menu;const[s,i]=C.useState(null),[o,a]=C.useState(null),[l,c]=C.useState(null),[u,h]=C.useState(""),f=`https://api.themoviedb.org/3/${r}/${t}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,p=()=>{Zt.get(f).then(w=>{console.log("영화정보",w.data),i(w.data);let x=w.data.backdrop_path?w.data.backdrop_path:w.data.poster_path;h("https://image.tmdb.org/t/p/w780"+x),e(w.data.title||w.data.name),document.querySelector('[property="og:description"]').content=w.data.title||w.data.name}).catch(w=>{console.log(w)})},m=`https://api.themoviedb.org/3/${r}/${t}/credits?&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,g=()=>{Zt.get(m).then(w=>{console.log("출연,제작",w.data),a(w.data)}).catch(w=>{console.log(w)})},E=`https://api.themoviedb.org/3/${r}/${t}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,_=()=>{Zt.get(E).then(w=>{console.log("영상",w.data),c(w.data)}).catch(w=>{console.log(w)})},v=()=>{const w=`${location.origin+location.pathname}#/${n.menu}/${t}`;navigator.clipboard.writeText(w);const x=s.title||s.name;navigator.share?navigator.share({title:x,text:x+" 를 공유합니다.",url:w}).then(()=>{console.log("공유 성공")}).catch(P=>{console.error("공유 실패:",P)}):(H.alert(`<b>${x}</b><br> URL 주소를 복사했습니다 <br> <a class="under" href="${w}" target="_blank">${w}</a>`),console.log("Web Share API를 지원하지 않습니다."))},y=w=>{console.log(w.currentTarget);const x=w.currentTarget;H.alert("준비 중 입니다.",{ycb:()=>x.classList.toggle("on")})},S=w=>{H.alert("준비 중 입니다.",{ycb:()=>{}})},T=()=>{H.scrollTo(".popup.movie .pct",0,200)};return C.useEffect(()=>(T(),p(),g(),_(),()=>{}),[n.id]),d.jsx(d.Fragment,{children:d.jsxs("div",{className:"movie-detail",children:[d.jsx("div",{className:"bgs",style:{backgroundImage:`url(${u}) `}}),!s&&!o&&!l&&d.jsx(LP,{opts:{type:"movie-detail"}}),s&&o&&l&&d.jsxs("div",{className:"m-info",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[s.title&&d.jsx("p",{className:"tit",children:s.title}),s.tagline&&d.jsx("p",{className:"sit",children:s.tagline}),s.original_title&&d.jsx("p",{className:"tio",children:s.original_title}),s.name&&d.jsx("p",{className:"tit",children:s.name}),s.original_name&&d.jsx("p",{className:"tio",children:s.original_name}),d.jsx("div",{className:"star",children:d.jsx(Hi,{point:s.vote_average})}),d.jsx("div",{className:"cate",children:s.genres.map(w=>d.jsxs("em",{className:"ico",children:[" ",w.name]},w.id))}),d.jsxs("ul",{className:"lst",children:[d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-thumbs-up"})," ",d.jsx("b",{children:"평점"})," : ",s.vote_average," / 10"]}),s.release_date&&d.jsxs("li",{className:"opn",children:[d.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",d.jsx("b",{children:"개봉"})," : ",s.release_date]}),s.first_air_date&&d.jsxs("li",{className:"opn",children:[d.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",s.first_air_date," ~ ",s.last_air_date]}),s.runtime&&d.jsxs("li",{className:"tim",children:[d.jsx("i",{className:"fa-regular fa-timer"})," ",d.jsx("b",{children:"시간"})," : ",s.runtime," 분"]}),s.number_of_seasons&&d.jsxs("li",{className:"tim",children:[d.jsx("i",{className:"fa-regular fa-timer"})," ",d.jsx("b",{children:"시즌"})," : ",s.number_of_seasons,"개  - ",d.jsx("b",{children:"에피소드"})," : ",s.number_of_episodes,"개"]}),s.homepage&&d.jsxs("li",{className:"web",children:[d.jsx("i",{className:"fa-regular fa-globe"})," ",d.jsx("a",{className:"lk",href:s.homepage,target:"_blank",rel:"noopener noreferrer",children:s.homepage})]})]})]}),d.jsx("div",{className:"thum",children:d.jsx(ct,{to:"./poster/0",className:"pics",children:d.jsx("img",{src:"//image.tmdb.org/t/p/w300"+s.poster_path,alt:s.title||s.name,className:"img",onError:H.error.poster})})})]}),d.jsxs("div",{className:"dins",children:[d.jsxs("button",{type:"button",onClick:y,className:"bt bt-scrap",children:[d.jsx("i",{className:"fa-regular fa-bookmark"}),d.jsx("em",{children:"스크랩"})]}),d.jsxs("button",{type:"button",onClick:S,className:"bt bt-reply",children:[d.jsx("i",{className:"fa-regular fa-pen-to-square"}),d.jsx("em",{children:"리뷰"})]}),d.jsxs("button",{type:"button",onClick:v,className:"bt bt-shar",children:[d.jsx("i",{className:"fa-regular fa-share-nodes"}),d.jsx("em",{children:"공유하기"})]})]}),s.overview&&d.jsx(oY,{overview:s.overview}),o.cast.length?d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts",children:"출연진"}),d.jsx("div",{className:"lst",children:o.cast.filter((w,x)=>x<999).map(w=>d.jsxs(ct,{to:`./person/${w.id}`,className:"profile",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w92${w.profile_path}`,alt:w.name,className:"img",onError:H.error.user,loading:"lazy"})}),d.jsx("div",{className:"name",children:w.name}),d.jsx("div",{className:"carc",children:w.character})]},w.credit_id))})]}):null,l.results.length>0?d.jsxs("div",{className:"sect movs",children:[d.jsx("h4",{className:"tts",children:"영상"}),d.jsx("div",{className:"lst",children:l.results.filter((w,x)=>x<100).reverse().map((w,x)=>d.jsx("div",{className:"box",children:d.jsxs(ct,{to:`./videos/${x+1}`,className:"pic",children:[d.jsx("span",{className:"msg",children:d.jsx("span",{className:"tit",children:w.name})}),d.jsx("i",{className:"ico fa-solid fa-play"}),d.jsx("img",{className:"img",src:`//i.ytimg.com/vi/${w.key}/sddefault.jpg`,alt:w.name,loading:"lazy"})]})},w.id))})]}):null,o.crew.length?d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts",children:"제작진"}),d.jsx("div",{className:"lst",children:o.crew.filter((w,x)=>x<999).map(w=>d.jsxs(ct,{to:`./person/${w.id}`,className:"profile",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w92${w.profile_path}`,alt:w.name,className:"img",onError:H.error.user,loading:"lazy"})}),d.jsx("div",{className:"name",children:w.name}),d.jsx("div",{className:"carc",children:w.known_for_department})]},w.credit_id))})]}):null,s.images.posters.length?d.jsxs("div",{className:"sect post",children:[d.jsxs("h4",{className:"tts",children:["포스터 : ",s.images.posters.length+1]}),d.jsxs("div",{className:"lst",children:[d.jsx("div",{className:"box","data-index":0,children:d.jsx(ct,{to:"./poster/0",className:"pic",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w300${s.poster_path}`,alt:s.title,className:"img",onError:H.error.poster,loading:"lazy"})})}),s.images.posters.map((w,x)=>d.jsx("div",{className:"box","data-index":x+1,children:d.jsx(ct,{to:`./poster/${x+1}`,className:"pic",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w300${w.file_path}`,alt:w.name,className:"img",onError:H.error.poster,loading:"lazy"})})},x))]})]}):null,d.jsx(aY,{postID:t,opts:r}),s.production_companies.length?d.jsx(d.Fragment,{children:d.jsx("div",{className:"sect comp",children:s.production_companies.map(w=>w.logo_path?d.jsx("span",{className:"logo",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w92${w.logo_path}`,alt:w.name,className:"img"})},w.id):d.jsx("span",{className:"logo",children:w.name},w.id))})}):null]})]})})}function Xm({prop:t}){let e=Sn(),n=En();t.page=t.page||"page";const r=e.id,[s,i]=C.useState(0),o=m=>i(parseInt(m.target.scrollTop)),a=()=>t.page==="list"||t.page==="search"||t.page==="home",l=()=>{H.scrollTo(".popup.movie .pct",0,200)};C.useEffect(()=>(H.loading.show("glx"),l(),u(),window.addEventListener("resize",u),c.current.classList.add("ani","on"),H.lock.using(!0),()=>{window.removeEventListener("resize",u),console.log("컴포넌트가 화면에서 사라짐"),H.lock.using(!1)}),[e.id]);const c=C.useRef(),u=()=>{const m=c.current,g=m.offsetHeight,E=m.querySelector(".phd").offsetHeight;console.log(g,E),m.querySelector(".pct").style.height=g-E+"px"},[h,f]=C.useState(""),p=m=>f(m);return h&&setTimeout(()=>H.loading.hide(),500),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("article",{ref:c,className:`pop-layer a bottom popup movie view ${a()?"":"page"} `,children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:`phd ${s>50?"trans":""}`,children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:h})})}),a()?d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{n(-1)},children:d.jsx("i",{className:"fa-regular fa-arrow-left"})}):d.jsx("button",{type:"button",className:"btn-pop-close home",onClick:()=>{n("/home/")},children:d.jsx("i",{className:"fa-solid fa-house"})}),d.jsx("div",{className:"pct",onScroll:o,children:d.jsx("main",{className:"poptents",children:d.jsx(OP,{postID:r,popTitle:p})})}),d.jsx("div",{className:`floatpop ${s>50?"on-top":""}`,children:d.jsxs("button",{type:"button",className:"bt top",onClick:l,children:[d.jsx("i",{className:"fa-solid fa-arrow-up"}),d.jsx("em",{children:"위로"})]})})]})})]})}function cY(){const e=Sn().id;return C.useEffect(()=>(window.scrollTo(0,0),()=>{}),[]),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page detail",children:d.jsx("main",{className:"contents",children:d.jsx(OP,{postID:e})})})]})}function rd({prop:t}){let e=En(),n=Sn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var y,S;let g=document.querySelector(".popup.poster"),E=g.offsetHeight||0,_=((y=g.querySelector(".pbt"))==null?void 0:y.offsetHeight)||0,v=((S=g.querySelector(".phd"))==null?void 0:S.offsetHeight)||0;E=E-v||0,console.log(E),g.querySelector(".pct").style.maxHeight=E-_+"px"},[o,a]=C.useState(null),[l,c]=C.useState(""),[u,h]=C.useState(""),f=()=>o.images.posters.length>1,p=`https://api.themoviedb.org/3/${r}/${s}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,m=()=>{Zt.get(p).then(g=>{console.log("영화정보",g.data),a(g.data);let E=g.data.poster_path?g.data.poster_path:g.data.backdrop_path;c("//image.tmdb.org/t/p/w780"+E),h(g.data.title||g.data.name)}).catch(g=>{console.log(g)})};return C.useEffect(()=>(console.log(document.querySelector(".popup.poster .pct").offsetHeight),m(),i(),window.addEventListener("resize",i),document.querySelector(".popup.poster").classList.add("ani","on"),H.lock.using(!0),()=>{window.removeEventListener("resize",i),H.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer c bottom popup poster",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:u})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsx("main",{className:"poptents",children:d.jsx("div",{className:"poster-box",children:o&&o.images.posters?d.jsxs(_u,{className:"swiper-wrapper swiper slide",modules:[Tp,Cp,Ip,xp,wP,Rp],spaceBetween:20,slidesPerView:1,loop:f(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},autoHeight:!0,onSwiper:g=>{console.log("initialize swiper",g),g.slideToLoop(n.nums,0)},onSlideChange:()=>{},children:[d.jsx(zs,{tag:"li",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsx("img",{src:l,className:"img",alt:`${u}_Poster[1]`,onError:H.error.poster,loading:"lazy"}),d.jsx("div",{className:"lazy-preloader",children:d.jsx("i",{className:"fa-duotone fa-spinner"})})]})})}),o.images.posters.map((g,E)=>{const _=`//image.tmdb.org/t/p/w780${g.file_path}`;return d.jsx(zs,{tag:"li",className:"swiper-slide pbox",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsx("img",{src:`${_}`,alt:`${u}_Poster[${E+2}]`,className:"img",onError:H.error.poster,loading:"lazy"}),d.jsx("div",{className:"lazy-preloader",children:d.jsx("i",{className:"fa-duotone fa-spinner"})})]})})},E)})]}):null})})})]})})})}function sd(){let t=Sn(),e=En();const n=t.opts;console.log(t);const r=t.nums,s=()=>{var T,w;let _=document.querySelector(".popup.person"),v=_.offsetHeight||0,y=((T=_.querySelector(".pbt"))==null?void 0:T.offsetHeight)||0,S=((w=_.querySelector(".phd"))==null?void 0:w.offsetHeight)||0;v=v-S||0,_.querySelector(".pct").style.maxHeight=v-H.getSafe.top()-H.getSafe.watch()-y-10+"px",console.log(v)},[i,o]=C.useState(null),[a,l]=C.useState(null),[c,u]=C.useState(null),h=`https://api.themoviedb.org/3/person/${r}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,f=()=>{Zt.get(h).then(_=>{console.log("인물 정보",_.data),o(_.data)}).catch(_=>{console.log(_)})},p=`https://api.themoviedb.org/3/person/${r}/movie_credits?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,m=()=>{Zt.get(p).then(_=>{console.log("인물 출연작",_.data),l(_.data)}).catch(_=>{console.log(_)})},g=`https://api.themoviedb.org/3/person/${r}/images?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,E=()=>{Zt.get(g).then(_=>{console.log("인물 사진",_.data),u(_.data)}).catch(_=>{console.log(_)})};return C.useEffect(()=>(console.log(document.querySelector(".popup.person .pct").offsetHeight),f(),m(),E(),s(),window.addEventListener("resize",s),document.querySelector(".popup.person").classList.add("ani","on"),H.lock.using(!0),()=>{window.removeEventListener("resize",s),H.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer c bottom popup person",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit"})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsxs("main",{className:"poptents",children:[!i&&!a&&!c&&d.jsx("div",{className:"m-info",children:d.jsx(lY,{opts:{type:"glx",cls:"abs"}})}),i&&a&&c&&d.jsxs("div",{className:"m-info",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[i.title&&d.jsx("p",{className:"tit",children:i.title}),i.original_title&&d.jsx("p",{className:"tio",children:i.original_title}),i.name&&d.jsx("p",{className:"tit",children:i.name}),i.known_for_department&&d.jsx("p",{className:"tio",children:i.known_for_department}),i.original_name&&d.jsx("p",{className:"tio",children:i.original_name}),d.jsxs("ul",{className:"lst",children:[i.birthday&&d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"}),"  ",i.birthday]}),i.place_of_birth&&d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-location-dot"}),"  ",i.place_of_birth]}),d.jsxs("li",{className:"vot",children:[" ",d.jsx("i",{className:"fa-regular fa-star"})," ",i.popularity," / 100 "]}),i.homepage&&d.jsxs("li",{className:"web",children:[d.jsx("i",{className:"fa-regular fa-globe"})," ",d.jsx("a",{className:"lk",href:i.homepage,target:"_blank",rel:"noopener noreferrer",children:i.homepage})]})]})]}),d.jsx("div",{className:"thum",children:d.jsx("div",{className:"pics",children:d.jsx("img",{src:`https://image.tmdb.org/t/p/w780${i.profile_path}`,alt:i.title,className:"img",onError:_=>{_.target.src="./img/common/user.png"}})})})]}),a.cast.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"출연작 "}),d.jsx("div",{className:"lst",children:a.cast.map((_,v)=>d.jsx("div",{className:"box","data-index":v+1,children:d.jsx(ct,{to:`/movie/${_.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.poster_path,alt:_.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null,a.crew.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"제작참여 "}),d.jsx("div",{className:"lst",children:a.crew.map((_,v)=>d.jsx("div",{className:"box","data-index":v+1,children:d.jsx(ct,{to:`/movie/${_.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.poster_path,alt:_.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null,c.profiles.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"사진 "}),d.jsx("div",{className:"lst",children:c.profiles.map((_,v)=>d.jsx("div",{className:"box","data-index":v+1,children:d.jsx("div",{to:`/list/${n}/0/${_.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.file_path,alt:_.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null]})]})})]})})})}function id({prop:t}){let e=En(),n=Sn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var g,E;let h=document.querySelector(".popup.videos"),f=h.offsetHeight||0,p=((g=h.querySelector(".pbt"))==null?void 0:g.offsetHeight)||0,m=((E=h.querySelector(".phd"))==null?void 0:E.offsetHeight)||0;f=f-m||0,console.log(f),h.querySelector(".pct").style.maxHeight=f-p+"px"},[o,a]=C.useState(null),l=()=>o.results.length>1,c=`https://api.themoviedb.org/3/${r}/${s}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,u=()=>{Zt.get(c).then(h=>{console.log("영상",h.data),a(h.data)}).catch(h=>{console.log(h)})};return C.useEffect(()=>(console.log(document.querySelector(".popup.videos .pct").offsetHeight),u(),i(),window.addEventListener("resize",i),document.querySelector(".popup.videos").classList.add("ani","on"),H.lock.using(!0),()=>{window.removeEventListener("resize",i),H.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer b bottom popup videos",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:(o==null?void 0:o.title)||(o==null?void 0:o.name)})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsx("main",{className:"poptents",children:d.jsx("div",{className:"videos-box",children:o&&o.results.length?d.jsx(_u,{className:"swiper-wrapper swiper slide",modules:[Tp,Cp,Ip,xp,wP,Rp],spaceBetween:20,slidesPerView:1,navigation:!0,loop:l(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},observeParents:!0,observeSlideChildren:!0,observer:!0,wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},onSwiper:h=>{console.log("initialize swiper",h),h.slideTo(n.nums,0)},onSlideChange:()=>{},children:o.results.filter((h,f)=>f<100).reverse().map((h,f)=>d.jsx(zs,{tag:"li",className:"swiper-slide pbox",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsxs("span",{className:"ui-load-glx full",children:[" ",d.jsxs("span",{className:"gbx",children:[" ",d.jsxs("em",{className:"bx",children:[" ",d.jsx("i",{})," ",d.jsx("i",{})," ",d.jsx("i",{})," ",d.jsx("i",{})," "]})," "]})," "]}),d.jsx("iframe",{className:"iframe",title:h.name,src:"//www.youtube.com/embed/"+h.key,allow:"autoplay; encrypted-media",allowFullScreen:!0,loading:"lazy"})]})})},f))}):null})})})]})})})}function uY({data:t,cate:e,opts:n}){console.log(t),console.log(e.genr);const r="//image.tmdb.org/t/p/w200",s=r+t.poster_path,i=t.backdrop_path?r+t.backdrop_path:r+t.poster_path,o=t.title||t.name;return d.jsx(d.Fragment,{children:d.jsxs(ct,{className:"box",to:`/search/${n}/${t.id}`,children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${s}`,alt:o,onError:ui.error.poster,className:"img"})}),d.jsxs("div",{className:"desc",children:[d.jsx("div",{className:"tits",children:o}),d.jsx("div",{className:"text",children:t.overview})]})]}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"dd",children:d.jsx("div",{className:"cate",children:d.jsx("span",{className:"txt",children:t.genre_ids.map(a=>d.jsxs("em",{className:"ico",children:[" ",e.genr?e.genr[a]:null," "]},a))})})}),d.jsxs("div",{className:"dd",children:[d.jsxs("div",{className:"hits",children:[d.jsx(Hi,{point:t.vote_average}),d.jsxs("em",{children:[d.jsx("i",{className:"fa-regular fa-heart"})," ",d.jsx("b",{children:t.vote_average})]})]}),d.jsxs("div",{className:"date",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," ",d.jsx("b",{children:t.release_date||t.first_air_date})]})]})]}),d.jsx("div",{className:"bgs",style:{backgroundImage:`url(${i})`}})]})})}function kC(){var G;const[t]=mM();let e=Sn();console.log(e);const n=e.menu;let[r,s]=C.useState(t.get("search"));const[i,o]=C.useState([]);let a=1;const[l,c]=C.useState({}),u=async()=>{let $={genr:{}};await Zt.get(`https://api.themoviedb.org/3/genre/${n}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(ee=>{ee.data.genres.forEach(R=>$.genr[R.id]=R.name)}).then(ee=>{c($),console.log($)}).catch(ee=>{console.log(ee),c(null)})},[h,f]=C.useState({pge:0,tot:0}),[p,m]=C.useState(""),[g,E]=C.useState(""),[_,v]=C.useState(""),y=C.useRef(),S=($,ee)=>{console.log("검색어 "+r),console.log("로드 "+$),y.current.value=r,ee=r;let R=`https://api.themoviedb.org/3/search/${n}?language=ko&region=kr&page=${$}&query=${ee}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;if(r==null){R="",H.loading.hide();return}Zt.get(R).then(L=>{console.log(L.data),o(V=>[...V,...L.data.results]),console.log($+"=== "+L.data.total_pages),w=!0,console.log(w),H.loading.hide(),f({pge:L.data.page,tot:L.data.total_pages}),L.data.total_pages<=$?(w=!1,E("hide")):E(""),m("")}).catch(L=>{console.log(L),H.loading.hide(),v("error")})};C.useEffect(()=>(u(),H.loading.show(),S(a),document.querySelector(".header").classList.add("hide"),o([]),!r&&!document.querySelector(".pop-layer")&&y.current.focus(),window.addEventListener("scroll",x),window.scrollTo(0,0),Ee(),document.querySelectorAll("*").forEach($=>$.addEventListener("focus",T)),document.addEventListener("touchstart",T),()=>{document.querySelector(".header").classList.remove("hide"),window.removeEventListener("scroll",x),document.querySelectorAll("*").forEach($=>$.removeEventListener("focus",T)),document.removeEventListener("touchstart",T)}),[r,n]);const T=$=>{$.target.closest(".schs-form")};let w=!0;const x=()=>{const $=H.viewport.height(),ee=H.viewport.docHeight(),R=H.viewport.scrollTop()+$+10;if(console.log(w+" =  "+a),ee<=R&&w===!0){if(console.log("바닥도착"),m("active"),w=!1,H.lock.stat){w=!0;return}setTimeout(()=>{a=a+1,S(a)},400)}},P=$=>{var ee,R,L;s((ee=y.current)==null?void 0:ee.value),window.history.replaceState(null,null,`#/search/${n}?search=${(R=y.current)==null?void 0:R.value}`),o([]),S(1),$.preventDefault(),document.querySelector(".movie-list").focus(),ie((L=y.current)==null?void 0:L.value)},W=$=>{y.current.value=$,s($),window.history.replaceState(null,null,`#/search/${n}?search=${$}`),new URL(window.location).searchParams.set("search",$)},O=$=>{s($.target.value),o([]);const ee=new URL(window.location);ee.searchParams.set("search",$.target.value),console.log(ee),window.history.replaceState(null,null,`#/search/${n}?search=${$.target.value}`)},k=C.useRef(),A=C.useRef(),[b,z]=C.useState([]),ie=$=>{let ee=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]');$.trim()!==""&&ee.unshift($);let R=[...new Set(ee)].slice(0,10);localStorage.setItem("keyword",JSON.stringify(R)),z(R)},Ee=$=>{var L,V;let ee=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]'),R=[...new Set(ee)];z(R),(L=A.current)==null||L.classList.add("open"),(V=b.current)==null||V.classList.add("open")},we=($,ee)=>{const R=b.filter(V=>V!==ee);let L=[...new Set(R)];return localStorage.setItem("keyword",JSON.stringify(L)),z(L),k.current.classList.add("open"),setTimeout(()=>y.current.focus()),$.preventDefault(),!1},j=($,ee)=>{console.log($),y.current.value="",y.current.focus()};return console.log((G=y.current)==null?void 0:G.value),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page movie search",children:d.jsxs("main",{className:"contents",children:[d.jsx("div",{className:"schs-form",ref:A,children:d.jsx("div",{className:"inr",children:d.jsxs("form",{className:"form",onSubmit:P,children:[d.jsxs("div",{className:"bts",children:[d.jsx(Mn,{className:"bt",to:`/search/movie?search=${r}`,children:"Movie"}),d.jsx(Mn,{className:"bt",to:`/search/tv?search=${r}`,children:"TV"})]}),d.jsxs("span",{className:"input",children:[d.jsx("input",{type:"text",placeholder:"검색어를 입력하세요.",ref:y,required:!0,maxLength:12,onMouseDown:Ee,onChange:O,onInvalid:$=>$.preventDefault()}),d.jsx("button",{type:"button",className:"btdel",title:"삭제",onClick:j,children:d.jsx("i",{className:"fa-regular fa-xmark"})})]}),d.jsx("button",{type:"submit",className:"bt-sch",children:d.jsx("i",{className:"fa-regular fa-search"})})]})})}),d.jsx("div",{className:b.length>0?"recent-kwds open":"recent-kwds",ref:k,children:b.length<1?"":d.jsx("ul",{className:"lst",children:b.map($=>d.jsxs("li",{children:[d.jsx("button",{className:"kwd",type:"button",onClick:()=>W($),children:$}),d.jsx("button",{className:"del",type:"button",onClick:ee=>we(ee,$),children:d.jsx("i",{className:"fa-regular fa-xmark"})})]},$))})}),d.jsx("div",{className:"movie-list",tabIndex:"-1",children:i.length<=0?d.jsxs("div",{className:"nodata",children:[d.jsx("i",{className:"fa-solid fa-file-magnifying-glass"}),r?d.jsxs("p",{children:[" ‟",r,"” 검색 결과가 없습니다."]}):null]}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"list",children:i.map(($,ee)=>d.jsx("li",{"data-id":$.id+"_"+ee,children:d.jsx(uY,{data:$,cate:l,opts:n})},$.id+"_"+ee))}),i.length>0&&d.jsxs("div",{className:`ui-loadmore ${p} ${g}  ${_}`,children:[d.jsx("em",{children:d.jsx("i",{className:"fa-duotone fa-spinner"})}),d.jsx("button",{onClick:$=>{w=!0,S(a,$)},type:"button",className:"btn-load",title:"불러오기",children:d.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]})}),d.jsx("div",{className:"page-set",children:i.length>0&&d.jsx("div",{className:"inr",children:d.jsxs("div",{className:"pg",children:[h.pge," / ",h.tot]})})})]})})]})}function dY(){let t=Sn();console.log(t),yn();let e=En();t.menu;const n={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/missing-email":"정확한 이메일을 입력하세요","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},r=C.useRef(),s=C.useRef(),i=C.useRef(),o=async()=>{const m=r.current.value,g=s.current.value,E=ss();H.loading.show(),console.log(m,g,E),await JS(E,m,g).then(_=>{const v=_.user;console.log(v.email),H.loading.hide(),H.alert(""+v.email+"<br> 로그인 성공!",{ycb:()=>{e("/")}})}).catch(_=>{console.log(_.code,_);const v=n[_.code];H.loading.hide(),H.alert(v,{tit:"로그인 실패"})}),i.current.checked==!1&&Hj(E,my).then(()=>JS(E,m,g)).catch(_=>{const v=_.code,y=_.message;console.log(v,"====",y)})},a=ss(),l=()=>{const m=new fr;fl(a,m)},c=()=>{const m=new $r;fl(a,m)},u=()=>{const m=new jr;fl(a,m)},h=()=>{const m=new Fr;fl(a,m)},f=()=>{const m=i.current.checked;if(console.log(m),m){const g=`
        자동로그인을 사용하시면<br> 
        다음부터 회원아이디와 비밀번호를<br>
        입력하실 필요가 없습니다.<br><br>
        공공장소에서는 개인정보가 유출될 수 있으니 사용을 자제하여 주십시오.<br><br>
        자동로그인을 사용하시겠습니까?
      `;H.confirm(g,{tit:"로그인 설정",ycb:()=>{i.current.checked=!0},ncb:()=>{i.current.checked=!1},ybt:"예",nbt:"아니오"})}},p=async(m,g)=>{await FE(Oa(no,"member",m.uid),{id:m.uid,email:m.email||m.providerData.email,nick:m.displayName,avatar:null,photoURL:m.photoURL,liked:[],date:new Date}).then(()=>{e("/"),console.log("멤버 생성: ")}).catch(E=>{console.error("멤버 생성 Error : ",E)})};return C.useEffect(()=>(window.scrollTo(0,0),Y1(a).then(m=>{m.user&&(console.log("Google 로그인 성공:",m.user),p(m.user))}).catch(m=>{console.log("Google 로그인 실패:"),console.log(m)}),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page user sign in",children:d.jsx("main",{className:"contents",children:d.jsxs("div",{className:"sign-form",children:[d.jsxs("div",{className:"sns form",children:[d.jsx("div",{className:"tit",children:d.jsx("em",{className:"t",children:"SNS 로그인"})}),d.jsxs("div",{className:"bts",children:[d.jsxs("button",{type:"button",className:"btn",onClick:l,children:[d.jsx("i",{className:"fa-brands fa-google"}),d.jsx("em",{children:"Google "})]}),d.jsxs("button",{type:"button",className:"btn",onClick:c,children:[d.jsx("i",{className:"fa-brands fa-github"}),d.jsx("em",{children:"Github "})]}),d.jsxs("button",{type:"button",className:"btn",onClick:u,children:[d.jsx("i",{className:"fa-brands fa-facebook"}),d.jsx("em",{children:"Facebook "})]}),d.jsxs("button",{type:"button",className:"btn",onClick:h,children:[d.jsx("i",{className:"fa-brands fa-twitter"}),d.jsx("em",{children:"Twitter "})]})]})]}),d.jsxs("div",{className:"eml form",children:[d.jsx("div",{className:"tit",children:d.jsx("em",{className:"t",children:"Email 계정 로그인"})}),d.jsxs("ul",{className:"list",children:[d.jsx("li",{children:d.jsx("div",{className:"dd",children:d.jsx("span",{className:"input",children:d.jsx("input",{type:"email",ref:r,placeholder:"이메일 (user@test.com)"})})})}),d.jsx("li",{children:d.jsx("div",{className:"dd",children:d.jsx("span",{className:"input",children:d.jsx("input",{type:"password",ref:s,placeholder:"비밀번호 (123456)"})})})})]}),d.jsxs("div",{className:"savelogin",children:[d.jsxs(ct,{className:"bt",to:"/user/signup",children:["회원가입하러 가기 ",d.jsx("i",{className:"fa-regular fa-chevron-right"})]}),d.jsxs("label",{className:"checkbox",children:[d.jsx("input",{type:"checkbox",ref:i,onChange:f}),d.jsx("span",{className:"txt",children:"자동 로그인"})]})]}),d.jsx("div",{className:"btsbox btn-set",children:d.jsxs("button",{type:"button",className:"btn",onClick:o,children:[d.jsx("i",{className:"fa-regular fa-right-to-bracket"}),d.jsx("em",{children:"로그인"})]})})]})]})})})]})}function hY(){let t=Sn();console.log(t),yn();let e=En();t.menu;const n=ss(),r=new fr,s=async(i,o)=>{await FE(Oa(no,"member",i.uid),{id:i.uid,email:i.email,nick:i.displayName,avatar:0,liked:[],date:new Date}).then(()=>{H.loading.show(),console.log("멤버 생성: "),e(o)}).catch(a=>{console.error("멤버 생성 Error : ",a)})};return C.useEffect(()=>(fl(n,r),Y1(n).then(i=>{i.user&&(console.log("Google 로그인 성공:",i.user),s(i.user,"/"),e(-1))}).catch(i=>{console.error("Google 로그인 실패:",i)}),()=>{})),d.jsx(d.Fragment,{children:d.jsx("div",{className:"container page user sign in",children:d.jsx("main",{className:"contents",children:"ssssssssssssss"})})})}function fY(){let t=En();C.useRef(),C.useRef(),C.useRef();const e=async()=>{const n=ss();Gj(n).then(()=>{t("/")}).catch(r=>{console.log(r)})};return C.useEffect(()=>(window.scrollTo(0,0),e(),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page user sign out",children:d.jsx("main",{className:"contents"})})]})}function pY(){let t=Sn();yn();let e=En();t.menu;const[n,r,s,i]=[C.useRef(),C.useRef(),C.useRef(),C.useRef()],o={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},[a,l]=C.useState({isMail:!1,isPwds:!1,isNick:!1});console.log(a);const c=h=>{const f={mail:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,pass:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,15}$/,nick:/^[a-zA-Z0-9가-힣]{1,15}$/};switch(h.name){case"email":l(p=>({...p,isMail:f.mail.test(h.value)}));break;case"password":l(p=>({...p,isPwds:f.pass.test(h.value)}));break;case"nickname":l(p=>({...p,isNick:f.nick.test(h.value)}));break}},u={joinReq:async()=>{console.log(document.querySelector('[name="avatar"]:checked').value),console.log(n.current.value),console.log(r.current.value),console.log(s.current.value),H.loading.show();const h=n.current.value,f=r.current.value,p=ss();Bj(p,h,f).then(m=>{const g=m.user;console.log(g),console.log("uid : "+g.uid),console.log("액세스토큰: "+g.accessToken);const E="/";u.addMember(g,E)}).catch(m=>{H.loading.hide(),console.log(m.code);const g=o[m.code];H.alert(g)}),await zj(user).then(()=>{H.alert(`[${h}] 으로 인증 이메일이 전송되었습니다. `)}).catch(m=>{})},addMember:async(h,f)=>{await FE(Oa(no,"member",h.uid),{id:h.uid,email:h.email,nick:s.current.value,avatar:document.querySelector('[name="avatar"]:checked').value,liked:[],date:new Date}).then(()=>{H.loading.show(),console.log("멤버 생성: "),H.alert("가입되었습니다.",{ycb:()=>{e(f)}})}).catch(p=>{console.error("멤버 생성 Error : ",p)})}};return console.log(a.isMail,a.isPwds,a.isNick,a.isMail&&a.isPwds&&a.isNick),C.useEffect(()=>(window.scrollTo(0,0),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page user sign up",children:d.jsx("main",{className:"contents",children:d.jsxs("div",{className:"sign-form",children:[d.jsx("div",{className:"hdt",children:"회원가입"}),d.jsx("div",{className:"join form",children:d.jsxs("ul",{className:"list",children:[d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"아바타"}),d.jsx("div",{className:"dd",children:d.jsx("div",{className:"ut-avata",children:et.state.avatar.map((h,f)=>d.jsxs("label",{children:[d.jsx("input",{type:"radio",name:"avatar",ref:i,value:f,defaultChecked:f==0}),d.jsx("span",{className:"txt",children:d.jsx("img",{className:"img",src:h,alt:""})})]},f))})})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"이메일"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:n,name:"email",type:"email",placeholder:"예) test@naver.com",onInput:h=>c(h.currentTarget),"data-webkit-autofill":!0})}),a.isMail?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"이메일 형식에 맞게 입력해주세요."})]})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"비밀번호"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:r,name:"password",type:"password",placeholder:"예) abc123",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isPwds?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"문자,숫자 포함 6자리 이상 입력해주세요."})]})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"닉네임"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:s,name:"nickname",type:"text",placeholder:"입력하세요",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isNick?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"특수문자 제외하고 입력해주세요."})]})]})]})}),d.jsx("div",{className:"btsbox btn-set",children:d.jsxs("button",{type:"button",className:"btn",disabled:!(a.isMail&&a.isPwds&&a.isNick),onClick:u.joinReq,children:[d.jsx("i",{className:"fa-regular fa-right-to-bracket"}),d.jsx("em",{children:"회원가입"})]})}),d.jsxs("div",{className:"link",children:["이미 회원이신가요? ",d.jsxs(ct,{className:"bt",to:"/user/signin",children:["로그인 하러가기 ",d.jsx("i",{className:"fa-regular fa-chevron-right"})]})]})]})})})]})}function mY(){function t(){const[e,n]=$o(QG),[r,s]=$o(YG),i=o=>{n(o.target.value)};return d.jsxs("div",{children:[d.jsx("input",{type:"text",value:e,onChange:i}),d.jsx("br",{}),"Echo: ",e,d.jsx("br",{})," ",r.a,d.jsx("br",{})," ",r.b]})}return $o(gp),C.useEffect(()=>()=>{}),d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"내 글"}),d.jsx("p",{children:"댓글"})," ",d.jsx(t,{}),d.jsx("p",{children:et.state.userInfo.stat==!0?d.jsxs(ct,{to:"/user/signout",className:"btn logout",children:[d.jsx("i",{className:"fa-regular fa-right-from-bracket"}),"Logout"]}):null})]})}function gY(){return $o(gp),C.useEffect(()=>()=>{}),d.jsx(d.Fragment,{children:d.jsx("div",{className:"movie-list user",children:d.jsxs("ul",{className:"list",children:[d.jsx("li",{children:d.jsxs(ct,{className:"box",to:"/search/",children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:"//image.tmdb.org/t/p/w200//1uHRkB2Q00Y4i7I7KNd0jGi4OmY.jpg",alt:1,onError:H.error.poster,className:"img"})}),d.jsxs("div",{className:"desc",children:[d.jsx("div",{className:"tits",children:"베니스 유령 살인사건"}),d.jsx("div",{className:"text",children:"세계적 명탐정 '에르큘 포와로'는 오랜 탐정 생활에서 은퇴하여 아름다운 도시 베니스에서 평범한 삶을 살아가고 있다. 그런 그에게 오랜 친구이자 베스트셀러 작가인 '아리아드네 올리버'가 찾아와 죽은 영혼을 부를 수 있다고 알려진 영험한 심령술사의 실체를 밝혀달라고 부탁하게 된다.핼러윈 밤, 베니스 운하 위 위치한 고풍스러운 저택의 주인이자 1년 전 사랑하는 딸을 잃고 깊은 상실에 빠진 '로웨나 드레이크'의 초대로 교령회에 참석한 이들은 미스터리한 심령술사 '조이스 레이놀즈'가 죽은 영혼의 목소리를 전하는 광경을 보며 혼란에 빠지게 된다. 갑자기 발생한 끔찍한 살인 사건에 실체 없는 용의자를 쫓던 '에르큘 포와로'는  자신의 모든 믿음이 흔들리는 경험을 하며 충격에 빠지게 되는데...."})]})]}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"dd",children:d.jsx("div",{className:"cate",children:d.jsxs("span",{className:"txt",children:[d.jsx("em",{className:"ico",children:" 코미디 "}),d.jsx("em",{className:"ico",children:" 드라마 "}),d.jsx("em",{className:"ico",children:" 로맨스 "})]})})}),d.jsxs("div",{className:"dd",children:[d.jsxs("div",{className:"hits",children:[d.jsx(Hi,{point:8.4}),d.jsxs("em",{children:[d.jsx("i",{className:"fa-regular fa-heart"})," ",d.jsx("b",{children:10})]})]}),d.jsxs("div",{className:"date",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," ",d.jsx("b",{children:1132312})]})]})]})]})}),d.jsx("li",{children:d.jsxs(ct,{className:"box",to:"/search/",children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:"//image.tmdb.org/t/p/w200//1uHRkB2Q00Y4i7I7KNd0jGi4OmY.jpg",alt:1,onError:H.error.poster,className:"img"})}),d.jsxs("div",{className:"desc",children:[d.jsx("div",{className:"tits",children:"베니스 유령 살인사건"}),d.jsx("div",{className:"text",children:"세계적 명탐정 '에르큘 포와로'는 오랜 탐정 생활에서 은퇴하여 아름다운 도시 베니스에서 평범한 삶을 살아가고 있다. 그런 그에게 오랜 친구이자 베스트셀러 작가인 '아리아드네 올리버'가 찾아와 죽은 영혼을 부를 수 있다고 알려진 영험한 심령술사의 실체를 밝혀달라고 부탁하게 된다.핼러윈 밤, 베니스 운하 위 위치한 고풍스러운 저택의 주인이자 1년 전 사랑하는 딸을 잃고 깊은 상실에 빠진 '로웨나 드레이크'의 초대로 교령회에 참석한 이들은 미스터리한 심령술사 '조이스 레이놀즈'가 죽은 영혼의 목소리를 전하는 광경을 보며 혼란에 빠지게 된다. 갑자기 발생한 끔찍한 살인 사건에 실체 없는 용의자를 쫓던 '에르큘 포와로'는  자신의 모든 믿음이 흔들리는 경험을 하며 충격에 빠지게 되는데...."})]})]}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"dd",children:d.jsx("div",{className:"cate",children:d.jsxs("span",{className:"txt",children:[d.jsx("em",{className:"ico",children:" 코미디 "}),d.jsx("em",{className:"ico",children:" 드라마 "}),d.jsx("em",{className:"ico",children:" 로맨스 "})]})})}),d.jsxs("div",{className:"dd",children:[d.jsxs("div",{className:"hits",children:[d.jsx(Hi,{point:5}),d.jsxs("em",{children:[d.jsx("i",{className:"fa-regular fa-heart"})," ",d.jsx("b",{children:10})]})]}),d.jsxs("div",{className:"date",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," ",d.jsx("b",{children:1132312})]})]})]})]})})]})})})}function _Y(){const[t,e]=$o(gp);return C.useEffect(()=>()=>{}),d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"팔로우"}),d.jsx("p",{children:"팔로워"}),d.jsx("p",{children:t.state.avatar.map(n=>d.jsx("span",{style:{width:"33%",display:"inline-flex"},children:d.jsx("img",{style:{width:"100%",display:"inline-flex"},src:n})},n))})]})}function vY(){let t=Sn();yn(),En();let e=t.id;const[n,r]=C.useState({});$o(gp);const s=async u=>{var p;H.loading.show();const h=Oa(no,"member",u),f=await $E(h);f.exists()?r({id:f.id,uid:f.data().uid,nick:f.data().nick,avatar:f.data().avatar,photoURL:f.data().photoURL,email:f.data().email,date:H.dateForm(f.data().date.toDate()),liked:f.data().liked.length}):console.log("No such document!"),(p=document.querySelector(".page.user"))==null||p.classList.add("load"),document.querySelector(".header .htit").innerText=n.nick||"",H.loading.hide()},[i,o]=C.useState(null),[a,l]=C.useState(null),c=u=>{console.log(u),i.slideToLoop(u)};return C.useEffect(()=>(window.scrollTo(0,0),s(e),()=>{}),[n.nick]),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page user view",children:d.jsxs("main",{className:"contents",children:[et!=null&&et.state?d.jsxs("div",{className:"profile",children:[d.jsxs("div",{className:"user",children:[d.jsx("span",{className:"pic",children:d.jsx("img",{src:et.state.avatar[n.avatar]||n.photoURL,className:"img"})}),d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"num b",children:[d.jsx("b",{className:"n",children:n.bbsNum||0}),d.jsx("p",{className:"t",children:"Post"})]}),d.jsxs("div",{className:"num p",children:[d.jsx("b",{className:"n",children:n.photoNum||0}),d.jsx("p",{className:"t",children:"Reply"})]}),d.jsxs("div",{className:"num l",children:[d.jsx("b",{className:"n",children:n.liked||0}),d.jsx("p",{className:"t",children:"Liked"})]})]})]}),d.jsxs("div",{className:"desc",children:[d.jsxs("span",{className:"txt",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," Join : ",n.date]}),n.email&&d.jsxs("span",{className:"txt",children:[d.jsx("i",{className:"fa-regular fa-envelope"})," ",n.email]})]})]}):null,d.jsxs("div",{className:"user-post",children:[d.jsxs("ul",{className:"menu",children:[d.jsx("li",{className:a==0?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(0),children:d.jsx("span",{children:d.jsx("i",{className:"fa-regular fa-list"})})})}),d.jsx("li",{className:a==1?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(1),children:d.jsx("span",{children:d.jsx("i",{className:"fa-regular fa-popcorn"})})})}),d.jsx("li",{className:a==2?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(2),children:d.jsx("span",{children:d.jsx("i",{className:"fa-solid fa-users"})})})})]}),d.jsxs(_u,{className:"swiper-wrapper swiper pctn ",modules:[Tp,Cp,Ip,xp,Rp],spaceBetween:0,slidesPerView:1,loop:!0,autoplay:!1,wrapperTag:"div",initialSlide:0,autoHeight:!0,onSwiper:u=>{console.log("initialize swiper",u),o(u),l(0)},onSlideChange:u=>{console.log("slide change",u.realIndex,u.activeIndex),l(u.realIndex)},children:[d.jsx(zs,{tag:"section",className:"ctn post",children:d.jsx(mY,{})}),d.jsx(zs,{tag:"section",className:"ctn like",children:d.jsx(gY,{})}),d.jsx(zs,{tag:"section",className:"ctn repl",children:d.jsx(_Y,{})})]})]})]})})]})}function yY(){return et.authState(),C.useEffect(()=>{const t=ss();return pf(t,e=>{e&&JSON.parse(sessionStorage.getItem("user"))}),()=>{}},[]),d.jsx(d.Fragment,{children:d.jsx(G3,{children:d.jsxs(dM,{children:[d.jsxs(sm,{children:[d.jsx(ce,{path:"home/*",element:d.jsx(lo,{prop:{headerType:"main"}})}),d.jsx(ce,{path:":menu/*",element:d.jsx(lo,{prop:{headerType:"main"}})}),d.jsx(ce,{path:"list/*",element:d.jsx(lo,{prop:{headerType:"main"}})}),d.jsx(ce,{path:"search/*",element:d.jsx(lo,{prop:{headerType:"main"}})}),d.jsx(ce,{path:"movie/*",element:d.jsx(lo,{prop:{headerType:"main"}})}),d.jsx(ce,{path:"user",children:d.jsx(ce,{path:":id",element:d.jsx(lo,{prop:{headerType:"sub"}})})})]}),d.jsxs(sm,{children:[d.jsx(ce,{path:"/",element:d.jsx(sM,{to:"/home/"})}),d.jsx(ce,{path:"home",element:d.jsx(AC,{})}),d.jsx(ce,{path:"home/:menu",element:d.jsx(AC,{}),children:d.jsxs(ce,{path:":id",element:d.jsx(Xm,{prop:{page:"home"}}),children:[d.jsx(ce,{path:"poster/:nums",element:d.jsx(rd,{})}),d.jsx(ce,{path:"person/:nums",element:d.jsx(sd,{})}),d.jsx(ce,{path:"videos/:nums",element:d.jsx(id,{})})]})}),d.jsx(ce,{path:"list",children:d.jsx(ce,{path:":menu",children:d.jsx(ce,{path:":cate",element:d.jsx(iY,{}),children:d.jsxs(ce,{path:":id",element:d.jsx(Xm,{prop:{page:"search"}}),children:[d.jsx(ce,{path:"poster/:nums",element:d.jsx(rd,{})}),d.jsx(ce,{path:"person/:nums",element:d.jsx(sd,{})}),d.jsx(ce,{path:"videos/:nums",element:d.jsx(id,{})})]})})})}),d.jsxs(ce,{path:":menu",children:[d.jsx(ce,{path:"*",element:d.jsx(bC,{})}),d.jsxs(ce,{path:":id",element:d.jsx(cY,{prop:{page:"page"}}),children:[d.jsx(ce,{path:"poster/:nums",element:d.jsx(rd,{})}),d.jsx(ce,{path:"person/:nums",element:d.jsx(sd,{})}),d.jsx(ce,{path:"videos/:nums",element:d.jsx(id,{})})]})]}),d.jsx(ce,{path:"search",children:d.jsxs(ce,{path:":menu",element:d.jsx(kC,{}),children:[d.jsxs(ce,{path:":id",element:d.jsx(Xm,{prop:{page:"search"}}),children:[d.jsx(ce,{path:"poster/:nums",element:d.jsx(rd,{prop:{page:"search"}})}),d.jsx(ce,{path:"person/:nums",element:d.jsx(sd,{prop:{page:"search"}})}),d.jsx(ce,{path:"videos/:nums",element:d.jsx(id,{prop:{page:"search"}})})]}),d.jsx(ce,{path:":keyword",element:d.jsx(kC,{})})]})}),d.jsxs(ce,{path:"user",children:[d.jsx(ce,{path:"*",element:d.jsx(bC,{})}),d.jsx(ce,{path:"signin",element:d.jsx(dY,{})}),d.jsx(ce,{path:"signout",element:d.jsx(fY,{})}),d.jsx(ce,{path:"signup",element:d.jsx(pY,{})}),d.jsx(ce,{path:":id",element:d.jsx(vY,{})})]}),d.jsx(ce,{path:"snslogin",element:d.jsx(hY,{})})]}),d.jsxs(sm,{children:[d.jsx(ce,{path:"home/*",element:d.jsx(co,{})}),d.jsx(ce,{path:":menu/*",element:d.jsx(co,{})}),d.jsx(ce,{path:"list/*",element:d.jsx(co,{})}),d.jsx(ce,{path:"search/*",element:d.jsx(co,{})}),d.jsx(ce,{path:"movie/*",element:d.jsx(co,{})}),d.jsx(ce,{path:"user",children:d.jsx(ce,{path:":id",element:d.jsx(co,{})})})]})]})})})}Jm.createRoot(document.getElementById("root")).render(d.jsx(pe.StrictMode,{children:d.jsx(yY,{})}));

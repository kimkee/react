function xP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function SC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wC={exports:{}},Bh={},TC={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),NP=Symbol.for("react.portal"),bP=Symbol.for("react.fragment"),AP=Symbol.for("react.strict_mode"),kP=Symbol.for("react.profiler"),PP=Symbol.for("react.provider"),LP=Symbol.for("react.context"),OP=Symbol.for("react.forward_ref"),DP=Symbol.for("react.suspense"),MP=Symbol.for("react.memo"),jP=Symbol.for("react.lazy"),dE=Symbol.iterator;function $P(t){return t===null||typeof t!="object"?null:(t=dE&&t[dE]||t["@@iterator"],typeof t=="function"?t:null)}var CC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},RC=Object.assign,IC={};function ga(t,e,n){this.props=t,this.context=e,this.refs=IC,this.updater=n||CC}ga.prototype.isReactComponent={};ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function xC(){}xC.prototype=ga.prototype;function t_(t,e,n){this.props=t,this.context=e,this.refs=IC,this.updater=n||CC}var n_=t_.prototype=new xC;n_.constructor=t_;RC(n_,ga.prototype);n_.isPureReactComponent=!0;var hE=Array.isArray,NC=Object.prototype.hasOwnProperty,r_={current:null},bC={key:!0,ref:!0,__self:!0,__source:!0};function AC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)NC.call(e,r)&&!bC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ac,type:t,key:i,ref:o,props:s,_owner:r_.current}}function VP(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function s_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function FP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fE=/\/+/g;function Ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FP(""+t.key):e.toString(36)}function sd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ac:case NP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ap(o,0):r,hE(s)?(n="",t!=null&&(n=t.replace(fE,"$&/")+"/"),sd(s,e,n,"",function(c){return c})):s!=null&&(s_(s)&&(s=VP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",hE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Ap(i,a);o+=sd(i,e,n,l,s)}else if(l=$P(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Ap(i,a++),o+=sd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eu(t,e,n){if(t==null)return t;var r=[],s=0;return sd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function UP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},id={transition:null},BP={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:id,ReactCurrentOwner:r_};Ie.Children={map:Eu,forEach:function(t,e,n){Eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eu(t,function(){e++}),e},toArray:function(t){return Eu(t,function(e){return e})||[]},only:function(t){if(!s_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=ga;Ie.Fragment=bP;Ie.Profiler=kP;Ie.PureComponent=t_;Ie.StrictMode=AP;Ie.Suspense=DP;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BP;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=RC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=r_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)NC.call(e,l)&&!bC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ac,type:t.type,key:s,ref:i,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:LP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:PP,_context:t},t.Consumer=t};Ie.createElement=AC;Ie.createFactory=function(t){var e=AC.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:OP,render:t}};Ie.isValidElement=s_;Ie.lazy=function(t){return{$$typeof:jP,_payload:{_status:-1,_result:t},_init:UP}};Ie.memo=function(t,e){return{$$typeof:MP,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=id.transition;id.transition={};try{t()}finally{id.transition=e}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(t,e){return ln.current.useCallback(t,e)};Ie.useContext=function(t){return ln.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return ln.current.useEffect(t,e)};Ie.useId=function(){return ln.current.useId()};Ie.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return ln.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};Ie.useRef=function(t){return ln.current.useRef(t)};Ie.useState=function(t){return ln.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return ln.current.useTransition()};Ie.version="18.2.0";TC.exports=Ie;var T=TC.exports;const fe=SC(T),pE=xP({__proto__:null,default:fe},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP=T,HP=Symbol.for("react.element"),WP=Symbol.for("react.fragment"),qP=Object.prototype.hasOwnProperty,GP=zP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function kC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qP.call(e,r)&&!KP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:HP,type:t,key:i,ref:o,props:s,_owner:GP.current}}Bh.Fragment=WP;Bh.jsx=kC;Bh.jsxs=kC;wC.exports=Bh;var u=wC.exports,Ym={},PC={exports:{}},Pn={},LC={exports:{}},OC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,O){var W=M.length;M.push(O);e:for(;0<W;){var ie=W-1>>>1,R=M[ie];if(0<s(R,O))M[ie]=O,M[W]=R,W=ie;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var O=M[0],W=M.pop();if(W!==O){M[0]=W;e:for(var ie=0,R=M.length,j=R>>>1;ie<j;){var $=2*(ie+1)-1,ne=M[$],J=$+1,ve=M[J];if(0>s(ne,W))J<R&&0>s(ve,ne)?(M[ie]=ve,M[J]=W,ie=J):(M[ie]=ne,M[$]=W,ie=$);else if(J<R&&0>s(ve,W))M[ie]=ve,M[J]=W,ie=J;else break e}}return O}function s(M,O){var W=M.sortIndex-O.sortIndex;return W!==0?W:M.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var O=n(c);O!==null;){if(O.callback===null)r(c);else if(O.startTime<=M)r(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=n(c)}}function S(M){if(g=!1,y(M),!m)if(n(l)!==null)m=!0,Ee(w);else{var O=n(c);O!==null&&we(S,O.startTime-M)}}function w(M,O){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var W=f;try{for(y(O),h=n(l);h!==null&&(!(h.expirationTime>O)||M&&!P());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var R=ie(h.expirationTime<=O);O=t.unstable_now(),typeof R=="function"?h.callback=R:h===n(l)&&r(l),y(O)}else r(l);h=n(l)}if(h!==null)var j=!0;else{var $=n(c);$!==null&&we(S,$.startTime-O),j=!1}return j}finally{h=null,f=W,p=!1}}var N=!1,b=null,k=-1,G=5,D=-1;function P(){return!(t.unstable_now()-D<G)}function x(){if(b!==null){var M=t.unstable_now();D=M;var O=!0;try{O=b(!0,M)}finally{O?A():(N=!1,b=null)}}else N=!1}var A;if(typeof _=="function")A=function(){_(x)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,re=H.port2;H.port1.onmessage=x,A=function(){re.postMessage(null)}}else A=function(){E(x,0)};function Ee(M){b=M,N||(N=!0,A())}function we(M,O){k=E(function(){M(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Ee(w))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var O=3;break;default:O=f}var W=f;f=O;try{return M()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,O){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=f;f=M;try{return O()}finally{f=W}},t.unstable_scheduleCallback=function(M,O,W){var ie=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ie+W:ie):W=ie,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=W+R,M={id:d++,callback:O,priorityLevel:M,startTime:W,expirationTime:R,sortIndex:-1},W>ie?(M.sortIndex=W,e(c,M),n(l)===null&&M===n(c)&&(g?(v(k),k=-1):g=!0,we(S,W-ie))):(M.sortIndex=R,e(l,M),m||p||(m=!0,Ee(w))),M},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(M){var O=f;return function(){var W=f;f=O;try{return M.apply(this,arguments)}finally{f=W}}}})(OC);LC.exports=OC;var QP=LC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var DC=T,An=QP;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var MC=new Set,Fl={};function Wi(t,e){Wo(t,e),Wo(t+"Capture",e)}function Wo(t,e){for(Fl[t]=e,t=0;t<e.length;t++)MC.add(e[t])}var Xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xm=Object.prototype.hasOwnProperty,YP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mE={},gE={};function XP(t){return Xm.call(gE,t)?!0:Xm.call(mE,t)?!1:YP.test(t)?gE[t]=!0:(mE[t]=!0,!1)}function JP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZP(t,e,n,r){if(e===null||typeof e>"u"||JP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var i_=/[\-:]([a-z])/g;function o_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(i_,o_);$t[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(i_,o_);$t[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(i_,o_);$t[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function a_(t,e,n,r){var s=$t.hasOwnProperty(e)?$t[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZP(e,n,s,r)&&(n=null),r||s===null?XP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var cs=DC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),fo=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),l_=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),jC=Symbol.for("react.provider"),$C=Symbol.for("react.context"),c_=Symbol.for("react.forward_ref"),Zm=Symbol.for("react.suspense"),eg=Symbol.for("react.suspense_list"),u_=Symbol.for("react.memo"),vs=Symbol.for("react.lazy"),VC=Symbol.for("react.offscreen"),vE=Symbol.iterator;function Ma(t){return t===null||typeof t!="object"?null:(t=vE&&t[vE]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,kp;function il(t){if(kp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kp=e&&e[1]||""}return`
`+kp+t}var Pp=!1;function Lp(t,e){if(!t||Pp)return"";Pp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?il(t):""}function eL(t){switch(t.tag){case 5:return il(t.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return t=Lp(t.type,!1),t;case 11:return t=Lp(t.type.render,!1),t;case 1:return t=Lp(t.type,!0),t;default:return""}}function tg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case po:return"Fragment";case fo:return"Portal";case Jm:return"Profiler";case l_:return"StrictMode";case Zm:return"Suspense";case eg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $C:return(t.displayName||"Context")+".Consumer";case jC:return(t._context.displayName||"Context")+".Provider";case c_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case u_:return e=t.displayName||null,e!==null?e:tg(t.type)||"Memo";case vs:e=t._payload,t=t._init;try{return tg(t(e))}catch{}}return null}function tL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return tg(e);case 8:return e===l_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function FC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nL(t){var e=FC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wu(t){t._valueTracker||(t._valueTracker=nL(t))}function UC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=FC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ng(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _E(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function BC(t,e){e=e.checked,e!=null&&a_(t,"checked",e,!1)}function rg(t,e){BC(t,e);var n=zs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sg(t,e.type,n):e.hasOwnProperty("defaultValue")&&sg(t,e.type,zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function yE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function sg(t,e,n){(e!=="number"||Nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ol=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ig(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function EE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ol(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zs(n)}}function zC(t,e){var n=zs(e.value),r=zs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function SE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function HC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function og(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?HC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tu,WC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tu=Tu||document.createElement("div"),Tu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rL=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(t){rL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vl[e]=vl[t]})});function qC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vl.hasOwnProperty(t)&&vl[t]?(""+e).trim():e+"px"}function GC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=qC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sL=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ag(t,e){if(e){if(sL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function lg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cg=null;function d_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ug=null,Ao=null,ko=null;function wE(t){if(t=Lc(t)){if(typeof ug!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Gh(e),ug(t.stateNode,t.type,e))}}function KC(t){Ao?ko?ko.push(t):ko=[t]:Ao=t}function QC(){if(Ao){var t=Ao,e=ko;if(ko=Ao=null,wE(t),e)for(t=0;t<e.length;t++)wE(e[t])}}function YC(t,e){return t(e)}function XC(){}var Op=!1;function JC(t,e,n){if(Op)return t(e,n);Op=!0;try{return YC(t,e,n)}finally{Op=!1,(Ao!==null||ko!==null)&&(XC(),QC())}}function Bl(t,e){var n=t.stateNode;if(n===null)return null;var r=Gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var dg=!1;if(Xr)try{var ja={};Object.defineProperty(ja,"passive",{get:function(){dg=!0}}),window.addEventListener("test",ja,ja),window.removeEventListener("test",ja,ja)}catch{dg=!1}function iL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var _l=!1,bd=null,Ad=!1,hg=null,oL={onError:function(t){_l=!0,bd=t}};function aL(t,e,n,r,s,i,o,a,l){_l=!1,bd=null,iL.apply(oL,arguments)}function lL(t,e,n,r,s,i,o,a,l){if(aL.apply(this,arguments),_l){if(_l){var c=bd;_l=!1,bd=null}else throw Error(U(198));Ad||(Ad=!0,hg=c)}}function qi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function ZC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function TE(t){if(qi(t)!==t)throw Error(U(188))}function cL(t){var e=t.alternate;if(!e){if(e=qi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return TE(s),t;if(i===r)return TE(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function eR(t){return t=cL(t),t!==null?tR(t):null}function tR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=tR(t);if(e!==null)return e;t=t.sibling}return null}var nR=An.unstable_scheduleCallback,CE=An.unstable_cancelCallback,uL=An.unstable_shouldYield,dL=An.unstable_requestPaint,ct=An.unstable_now,hL=An.unstable_getCurrentPriorityLevel,h_=An.unstable_ImmediatePriority,rR=An.unstable_UserBlockingPriority,kd=An.unstable_NormalPriority,fL=An.unstable_LowPriority,sR=An.unstable_IdlePriority,zh=null,_r=null;function pL(t){if(_r&&typeof _r.onCommitFiberRoot=="function")try{_r.onCommitFiberRoot(zh,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:vL,mL=Math.log,gL=Math.LN2;function vL(t){return t>>>=0,t===0?32:31-(mL(t)/gL|0)|0}var Cu=64,Ru=4194304;function al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=al(a):(i&=o,i!==0&&(r=al(i)))}else o=n&~s,o!==0?r=al(o):i!==0&&(r=al(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),s=1<<n,r|=t[n],e&=~s;return r}function _L(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-sr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=_L(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function fg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iR(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function Dp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function EL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-sr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function f_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function oR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var aR,p_,lR,cR,uR,pg=!1,Iu=[],Ns=null,bs=null,As=null,zl=new Map,Hl=new Map,Es=[],SL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function RE(t,e){switch(t){case"focusin":case"focusout":Ns=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(e.pointerId)}}function $a(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Lc(e),e!==null&&p_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wL(t,e,n,r,s){switch(e){case"focusin":return Ns=$a(Ns,t,e,n,r,s),!0;case"dragenter":return bs=$a(bs,t,e,n,r,s),!0;case"mouseover":return As=$a(As,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return zl.set(i,$a(zl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hl.set(i,$a(Hl.get(i)||null,t,e,n,r,s)),!0}return!1}function dR(t){var e=mi(t.target);if(e!==null){var n=qi(e);if(n!==null){if(e=n.tag,e===13){if(e=ZC(n),e!==null){t.blockedOn=e,uR(t.priority,function(){lR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function od(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=mg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);cg=r,n.target.dispatchEvent(r),cg=null}else return e=Lc(n),e!==null&&p_(e),t.blockedOn=n,!1;e.shift()}return!0}function IE(t,e,n){od(t)&&n.delete(e)}function TL(){pg=!1,Ns!==null&&od(Ns)&&(Ns=null),bs!==null&&od(bs)&&(bs=null),As!==null&&od(As)&&(As=null),zl.forEach(IE),Hl.forEach(IE)}function Va(t,e){t.blockedOn===e&&(t.blockedOn=null,pg||(pg=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,TL)))}function Wl(t){function e(s){return Va(s,t)}if(0<Iu.length){Va(Iu[0],t);for(var n=1;n<Iu.length;n++){var r=Iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ns!==null&&Va(Ns,t),bs!==null&&Va(bs,t),As!==null&&Va(As,t),zl.forEach(e),Hl.forEach(e),n=0;n<Es.length;n++)r=Es[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Es.length&&(n=Es[0],n.blockedOn===null);)dR(n),n.blockedOn===null&&Es.shift()}var Po=cs.ReactCurrentBatchConfig,Ld=!0;function CL(t,e,n,r){var s=Me,i=Po.transition;Po.transition=null;try{Me=1,m_(t,e,n,r)}finally{Me=s,Po.transition=i}}function RL(t,e,n,r){var s=Me,i=Po.transition;Po.transition=null;try{Me=4,m_(t,e,n,r)}finally{Me=s,Po.transition=i}}function m_(t,e,n,r){if(Ld){var s=mg(t,e,n,r);if(s===null)Wp(t,e,r,Od,n),RE(t,r);else if(wL(s,t,e,n,r))r.stopPropagation();else if(RE(t,r),e&4&&-1<SL.indexOf(t)){for(;s!==null;){var i=Lc(s);if(i!==null&&aR(i),i=mg(t,e,n,r),i===null&&Wp(t,e,r,Od,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wp(t,e,r,null,n)}}var Od=null;function mg(t,e,n,r){if(Od=null,t=d_(r),t=mi(t),t!==null)if(e=qi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=ZC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Od=t,null}function hR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hL()){case h_:return 1;case rR:return 4;case kd:case fL:return 16;case sR:return 536870912;default:return 16}default:return 16}}var ws=null,g_=null,ad=null;function fR(){if(ad)return ad;var t,e=g_,n=e.length,r,s="value"in ws?ws.value:ws.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ad=s.slice(t,1<r?1-r:void 0)}function ld(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xu(){return!0}function xE(){return!1}function Ln(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xu:xE,this.isPropagationStopped=xE,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),e}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},v_=Ln(va),Pc=st({},va,{view:0,detail:0}),IL=Ln(Pc),Mp,jp,Fa,Hh=st({},Pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:__,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Fa&&(Fa&&t.type==="mousemove"?(Mp=t.screenX-Fa.screenX,jp=t.screenY-Fa.screenY):jp=Mp=0,Fa=t),Mp)},movementY:function(t){return"movementY"in t?t.movementY:jp}}),NE=Ln(Hh),xL=st({},Hh,{dataTransfer:0}),NL=Ln(xL),bL=st({},Pc,{relatedTarget:0}),$p=Ln(bL),AL=st({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),kL=Ln(AL),PL=st({},va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LL=Ln(PL),OL=st({},va,{data:0}),bE=Ln(OL),DL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ML={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $L(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jL[t])?!!e[t]:!1}function __(){return $L}var VL=st({},Pc,{key:function(t){if(t.key){var e=DL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ld(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ML[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:__,charCode:function(t){return t.type==="keypress"?ld(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ld(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FL=Ln(VL),UL=st({},Hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),AE=Ln(UL),BL=st({},Pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:__}),zL=Ln(BL),HL=st({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),WL=Ln(HL),qL=st({},Hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GL=Ln(qL),KL=[9,13,27,32],y_=Xr&&"CompositionEvent"in window,yl=null;Xr&&"documentMode"in document&&(yl=document.documentMode);var QL=Xr&&"TextEvent"in window&&!yl,pR=Xr&&(!y_||yl&&8<yl&&11>=yl),kE=String.fromCharCode(32),PE=!1;function mR(t,e){switch(t){case"keyup":return KL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function gR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mo=!1;function YL(t,e){switch(t){case"compositionend":return gR(e);case"keypress":return e.which!==32?null:(PE=!0,kE);case"textInput":return t=e.data,t===kE&&PE?null:t;default:return null}}function XL(t,e){if(mo)return t==="compositionend"||!y_&&mR(t,e)?(t=fR(),ad=g_=ws=null,mo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return pR&&e.locale!=="ko"?null:e.data;default:return null}}var JL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function LE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JL[t.type]:e==="textarea"}function vR(t,e,n,r){KC(r),e=Dd(e,"onChange"),0<e.length&&(n=new v_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var El=null,ql=null;function ZL(t){NR(t,0)}function Wh(t){var e=_o(t);if(UC(e))return t}function eO(t,e){if(t==="change")return e}var _R=!1;if(Xr){var Vp;if(Xr){var Fp="oninput"in document;if(!Fp){var OE=document.createElement("div");OE.setAttribute("oninput","return;"),Fp=typeof OE.oninput=="function"}Vp=Fp}else Vp=!1;_R=Vp&&(!document.documentMode||9<document.documentMode)}function DE(){El&&(El.detachEvent("onpropertychange",yR),ql=El=null)}function yR(t){if(t.propertyName==="value"&&Wh(ql)){var e=[];vR(e,ql,t,d_(t)),JC(ZL,e)}}function tO(t,e,n){t==="focusin"?(DE(),El=e,ql=n,El.attachEvent("onpropertychange",yR)):t==="focusout"&&DE()}function nO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wh(ql)}function rO(t,e){if(t==="click")return Wh(e)}function sO(t,e){if(t==="input"||t==="change")return Wh(e)}function iO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:iO;function Gl(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Xm.call(e,s)||!ar(t[s],e[s]))return!1}return!0}function ME(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jE(t,e){var n=ME(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ME(n)}}function ER(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ER(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function SR(){for(var t=window,e=Nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nd(t.document)}return e}function E_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oO(t){var e=SR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ER(n.ownerDocument.documentElement,n)){if(r!==null&&E_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=jE(n,i);var o=jE(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aO=Xr&&"documentMode"in document&&11>=document.documentMode,go=null,gg=null,Sl=null,vg=!1;function $E(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vg||go==null||go!==Nd(r)||(r=go,"selectionStart"in r&&E_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sl&&Gl(Sl,r)||(Sl=r,r=Dd(gg,"onSelect"),0<r.length&&(e=new v_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=go)))}function Nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},Up={},wR={};Xr&&(wR=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function qh(t){if(Up[t])return Up[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in wR)return Up[t]=e[n];return t}var TR=qh("animationend"),CR=qh("animationiteration"),RR=qh("animationstart"),IR=qh("transitionend"),xR=new Map,VE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ys(t,e){xR.set(t,e),Wi(e,[t])}for(var Bp=0;Bp<VE.length;Bp++){var zp=VE[Bp],lO=zp.toLowerCase(),cO=zp[0].toUpperCase()+zp.slice(1);Ys(lO,"on"+cO)}Ys(TR,"onAnimationEnd");Ys(CR,"onAnimationIteration");Ys(RR,"onAnimationStart");Ys("dblclick","onDoubleClick");Ys("focusin","onFocus");Ys("focusout","onBlur");Ys(IR,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);Wi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function FE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lL(r,e,void 0,t),t.currentTarget=null}function NR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;FE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;FE(s,a,c),i=l}}}if(Ad)throw t=hg,Ad=!1,hg=null,t}function ze(t,e){var n=e[wg];n===void 0&&(n=e[wg]=new Set);var r=t+"__bubble";n.has(r)||(bR(e,t,2,!1),n.add(r))}function Hp(t,e,n){var r=0;e&&(r|=4),bR(n,t,r,e)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Kl(t){if(!t[bu]){t[bu]=!0,MC.forEach(function(n){n!=="selectionchange"&&(uO.has(n)||Hp(n,!1,t),Hp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bu]||(e[bu]=!0,Hp("selectionchange",!1,e))}}function bR(t,e,n,r){switch(hR(e)){case 1:var s=CL;break;case 4:s=RL;break;default:s=m_}n=s.bind(null,e,n,t),s=void 0,!dg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Wp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=mi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}JC(function(){var c=i,d=d_(n),h=[];e:{var f=xR.get(t);if(f!==void 0){var p=v_,m=t;switch(t){case"keypress":if(ld(n)===0)break e;case"keydown":case"keyup":p=FL;break;case"focusin":m="focus",p=$p;break;case"focusout":m="blur",p=$p;break;case"beforeblur":case"afterblur":p=$p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=NE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zL;break;case TR:case CR:case RR:p=kL;break;case IR:p=WL;break;case"scroll":p=IL;break;case"wheel":p=GL;break;case"copy":case"cut":case"paste":p=LL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=AE}var g=(e&4)!==0,E=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var _=c,y;_!==null;){y=_;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,v!==null&&(S=Bl(_,v),S!=null&&g.push(Ql(_,S,y)))),E)break;_=_.return}0<g.length&&(f=new p(f,m,null,n,d),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==cg&&(m=n.relatedTarget||n.fromElement)&&(mi(m)||m[Jr]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?mi(m):null,m!==null&&(E=qi(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=NE,S="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=AE,S="onPointerLeave",v="onPointerEnter",_="pointer"),E=p==null?f:_o(p),y=m==null?f:_o(m),f=new g(S,_+"leave",p,n,d),f.target=E,f.relatedTarget=y,S=null,mi(d)===c&&(g=new g(v,_+"enter",m,n,d),g.target=y,g.relatedTarget=E,S=g),E=S,p&&m)t:{for(g=p,v=m,_=0,y=g;y;y=ro(y))_++;for(y=0,S=v;S;S=ro(S))y++;for(;0<_-y;)g=ro(g),_--;for(;0<y-_;)v=ro(v),y--;for(;_--;){if(g===v||v!==null&&g===v.alternate)break t;g=ro(g),v=ro(v)}g=null}else g=null;p!==null&&UE(h,f,p,g,!1),m!==null&&E!==null&&UE(h,E,m,g,!0)}}e:{if(f=c?_o(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=eO;else if(LE(f))if(_R)w=sO;else{w=nO;var N=tO}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=rO);if(w&&(w=w(t,c))){vR(h,w,n,d);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&sg(f,"number",f.value)}switch(N=c?_o(c):window,t){case"focusin":(LE(N)||N.contentEditable==="true")&&(go=N,gg=c,Sl=null);break;case"focusout":Sl=gg=go=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,$E(h,n,d);break;case"selectionchange":if(aO)break;case"keydown":case"keyup":$E(h,n,d)}var b;if(y_)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else mo?mR(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(pR&&n.locale!=="ko"&&(mo||k!=="onCompositionStart"?k==="onCompositionEnd"&&mo&&(b=fR()):(ws=d,g_="value"in ws?ws.value:ws.textContent,mo=!0)),N=Dd(c,k),0<N.length&&(k=new bE(k,t,null,n,d),h.push({event:k,listeners:N}),b?k.data=b:(b=gR(n),b!==null&&(k.data=b)))),(b=QL?YL(t,n):XL(t,n))&&(c=Dd(c,"onBeforeInput"),0<c.length&&(d=new bE("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=b))}NR(h,e)})}function Ql(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bl(t,n),i!=null&&r.unshift(Ql(t,i,s)),i=Bl(t,e),i!=null&&r.push(Ql(t,i,s))),t=t.return}return r}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function UE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Bl(n,i),l!=null&&o.unshift(Ql(n,l,a))):s||(l=Bl(n,i),l!=null&&o.push(Ql(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dO=/\r\n?/g,hO=/\u0000|\uFFFD/g;function BE(t){return(typeof t=="string"?t:""+t).replace(dO,`
`).replace(hO,"")}function Au(t,e,n){if(e=BE(e),BE(t)!==e&&n)throw Error(U(425))}function Md(){}var _g=null,yg=null;function Eg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sg=typeof setTimeout=="function"?setTimeout:void 0,fO=typeof clearTimeout=="function"?clearTimeout:void 0,zE=typeof Promise=="function"?Promise:void 0,pO=typeof queueMicrotask=="function"?queueMicrotask:typeof zE<"u"?function(t){return zE.resolve(null).then(t).catch(mO)}:Sg;function mO(t){setTimeout(function(){throw t})}function qp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Wl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wl(e)}function ks(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function HE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var _a=Math.random().toString(36).slice(2),dr="__reactFiber$"+_a,Yl="__reactProps$"+_a,Jr="__reactContainer$"+_a,wg="__reactEvents$"+_a,gO="__reactListeners$"+_a,vO="__reactHandles$"+_a;function mi(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=HE(t);t!==null;){if(n=t[dr])return n;t=HE(t)}return e}t=n,n=t.parentNode}return null}function Lc(t){return t=t[dr]||t[Jr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Gh(t){return t[Yl]||null}var Tg=[],yo=-1;function Xs(t){return{current:t}}function Ke(t){0>yo||(t.current=Tg[yo],Tg[yo]=null,yo--)}function Be(t,e){yo++,Tg[yo]=t.current,t.current=e}var Hs={},en=Xs(Hs),vn=Xs(!1),xi=Hs;function qo(t,e){var n=t.type.contextTypes;if(!n)return Hs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _n(t){return t=t.childContextTypes,t!=null}function jd(){Ke(vn),Ke(en)}function WE(t,e,n){if(en.current!==Hs)throw Error(U(168));Be(en,e),Be(vn,n)}function AR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,tL(t)||"Unknown",s));return st({},n,r)}function $d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Hs,xi=en.current,Be(en,t),Be(vn,vn.current),!0}function qE(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=AR(t,e,xi),r.__reactInternalMemoizedMergedChildContext=t,Ke(vn),Ke(en),Be(en,t)):Ke(vn),Be(vn,n)}var jr=null,Kh=!1,Gp=!1;function kR(t){jr===null?jr=[t]:jr.push(t)}function _O(t){Kh=!0,kR(t)}function Js(){if(!Gp&&jr!==null){Gp=!0;var t=0,e=Me;try{var n=jr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}jr=null,Kh=!1}catch(s){throw jr!==null&&(jr=jr.slice(t+1)),nR(h_,Js),s}finally{Me=e,Gp=!1}}return null}var Eo=[],So=0,Vd=null,Fd=0,Mn=[],jn=0,Ni=null,Br=1,zr="";function ci(t,e){Eo[So++]=Fd,Eo[So++]=Vd,Vd=t,Fd=e}function PR(t,e,n){Mn[jn++]=Br,Mn[jn++]=zr,Mn[jn++]=Ni,Ni=t;var r=Br;t=zr;var s=32-sr(r)-1;r&=~(1<<s),n+=1;var i=32-sr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Br=1<<32-sr(e)+s|n<<s|r,zr=i+t}else Br=1<<i|n<<s|r,zr=t}function S_(t){t.return!==null&&(ci(t,1),PR(t,1,0))}function w_(t){for(;t===Vd;)Vd=Eo[--So],Eo[So]=null,Fd=Eo[--So],Eo[So]=null;for(;t===Ni;)Ni=Mn[--jn],Mn[jn]=null,zr=Mn[--jn],Mn[jn]=null,Br=Mn[--jn],Mn[jn]=null}var xn=null,Rn=null,et=!1,er=null;function LR(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function GE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,Rn=ks(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ni!==null?{id:Br,overflow:zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xn=t,Rn=null,!0):!1;default:return!1}}function Cg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rg(t){if(et){var e=Rn;if(e){var n=e;if(!GE(t,e)){if(Cg(t))throw Error(U(418));e=ks(n.nextSibling);var r=xn;e&&GE(t,e)?LR(r,n):(t.flags=t.flags&-4097|2,et=!1,xn=t)}}else{if(Cg(t))throw Error(U(418));t.flags=t.flags&-4097|2,et=!1,xn=t}}}function KE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function ku(t){if(t!==xn)return!1;if(!et)return KE(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Eg(t.type,t.memoizedProps)),e&&(e=Rn)){if(Cg(t))throw OR(),Error(U(418));for(;e;)LR(t,e),e=ks(e.nextSibling)}if(KE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=ks(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=xn?ks(t.stateNode.nextSibling):null;return!0}function OR(){for(var t=Rn;t;)t=ks(t.nextSibling)}function Go(){Rn=xn=null,et=!1}function T_(t){er===null?er=[t]:er.push(t)}var yO=cs.ReactCurrentBatchConfig;function Jn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ud=Xs(null),Bd=null,wo=null,C_=null;function R_(){C_=wo=Bd=null}function I_(t){var e=Ud.current;Ke(Ud),t._currentValue=e}function Ig(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lo(t,e){Bd=t,C_=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(C_!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(Bd===null)throw Error(U(308));wo=t,Bd.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var gi=null;function x_(t){gi===null?gi=[t]:gi.push(t)}function DR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,x_(e)):(n.next=s.next,s.next=n),e.interleaved=n,Zr(t,r)}function Zr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _s=!1;function N_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Kr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Zr(t,n)}return s=r.interleaved,s===null?(e.next=e,x_(r)):(e.next=s.next,s.next=e),r.interleaved=e,Zr(t,n)}function cd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,f_(t,n)}}function QE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zd(t,e,n,r){var s=t.updateQueue;_s=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=st({},h,f);break e;case 2:_s=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ai|=o,t.lanes=o,t.memoizedState=h}}function YE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var jR=new DC.Component().refs;function xg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qh={isMounted:function(t){return(t=t._reactInternals)?qi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=Os(t),i=Kr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(ir(e,t,s,r),cd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=Os(t),i=Kr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ps(t,i,s),e!==null&&(ir(e,t,s,r),cd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Os(t),s=Kr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ps(t,s,r),e!==null&&(ir(e,t,r,n),cd(e,t,r))}};function XE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Gl(n,r)||!Gl(s,i):!0}function $R(t,e,n){var r=!1,s=Hs,i=e.contextType;return typeof i=="object"&&i!==null?i=Wn(i):(s=_n(e)?xi:en.current,r=e.contextTypes,i=(r=r!=null)?qo(t,s):Hs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function JE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qh.enqueueReplaceState(e,e.state,null)}function Ng(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=jR,N_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Wn(i):(i=_n(e)?xi:en.current,s.context=qo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(xg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qh.enqueueReplaceState(s,s.state,null),zd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ua(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===jR&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Pu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ZE(t){var e=t._init;return e(t._payload)}function VR(t){function e(v,_){if(t){var y=v.deletions;y===null?(v.deletions=[_],v.flags|=16):y.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=Ds(v,_),v.index=0,v.sibling=null,v}function i(v,_,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<_?(v.flags|=2,_):y):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,y,S){return _===null||_.tag!==6?(_=em(y,v.mode,S),_.return=v,_):(_=s(_,y),_.return=v,_)}function l(v,_,y,S){var w=y.type;return w===po?d(v,_,y.props.children,S,y.key):_!==null&&(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===vs&&ZE(w)===_.type)?(S=s(_,y.props),S.ref=Ua(v,_,y),S.return=v,S):(S=md(y.type,y.key,y.props,null,v.mode,S),S.ref=Ua(v,_,y),S.return=v,S)}function c(v,_,y,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=tm(y,v.mode,S),_.return=v,_):(_=s(_,y.children||[]),_.return=v,_)}function d(v,_,y,S,w){return _===null||_.tag!==7?(_=Ti(y,v.mode,S,w),_.return=v,_):(_=s(_,y),_.return=v,_)}function h(v,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=em(""+_,v.mode,y),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Su:return y=md(_.type,_.key,_.props,null,v.mode,y),y.ref=Ua(v,null,_),y.return=v,y;case fo:return _=tm(_,v.mode,y),_.return=v,_;case vs:var S=_._init;return h(v,S(_._payload),y)}if(ol(_)||Ma(_))return _=Ti(_,v.mode,y,null),_.return=v,_;Pu(v,_)}return null}function f(v,_,y,S){var w=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:a(v,_,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Su:return y.key===w?l(v,_,y,S):null;case fo:return y.key===w?c(v,_,y,S):null;case vs:return w=y._init,f(v,_,w(y._payload),S)}if(ol(y)||Ma(y))return w!==null?null:d(v,_,y,S,null);Pu(v,y)}return null}function p(v,_,y,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(y)||null,a(_,v,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Su:return v=v.get(S.key===null?y:S.key)||null,l(_,v,S,w);case fo:return v=v.get(S.key===null?y:S.key)||null,c(_,v,S,w);case vs:var N=S._init;return p(v,_,y,N(S._payload),w)}if(ol(S)||Ma(S))return v=v.get(y)||null,d(_,v,S,w,null);Pu(_,S)}return null}function m(v,_,y,S){for(var w=null,N=null,b=_,k=_=0,G=null;b!==null&&k<y.length;k++){b.index>k?(G=b,b=null):G=b.sibling;var D=f(v,b,y[k],S);if(D===null){b===null&&(b=G);break}t&&b&&D.alternate===null&&e(v,b),_=i(D,_,k),N===null?w=D:N.sibling=D,N=D,b=G}if(k===y.length)return n(v,b),et&&ci(v,k),w;if(b===null){for(;k<y.length;k++)b=h(v,y[k],S),b!==null&&(_=i(b,_,k),N===null?w=b:N.sibling=b,N=b);return et&&ci(v,k),w}for(b=r(v,b);k<y.length;k++)G=p(b,v,k,y[k],S),G!==null&&(t&&G.alternate!==null&&b.delete(G.key===null?k:G.key),_=i(G,_,k),N===null?w=G:N.sibling=G,N=G);return t&&b.forEach(function(P){return e(v,P)}),et&&ci(v,k),w}function g(v,_,y,S){var w=Ma(y);if(typeof w!="function")throw Error(U(150));if(y=w.call(y),y==null)throw Error(U(151));for(var N=w=null,b=_,k=_=0,G=null,D=y.next();b!==null&&!D.done;k++,D=y.next()){b.index>k?(G=b,b=null):G=b.sibling;var P=f(v,b,D.value,S);if(P===null){b===null&&(b=G);break}t&&b&&P.alternate===null&&e(v,b),_=i(P,_,k),N===null?w=P:N.sibling=P,N=P,b=G}if(D.done)return n(v,b),et&&ci(v,k),w;if(b===null){for(;!D.done;k++,D=y.next())D=h(v,D.value,S),D!==null&&(_=i(D,_,k),N===null?w=D:N.sibling=D,N=D);return et&&ci(v,k),w}for(b=r(v,b);!D.done;k++,D=y.next())D=p(b,v,k,D.value,S),D!==null&&(t&&D.alternate!==null&&b.delete(D.key===null?k:D.key),_=i(D,_,k),N===null?w=D:N.sibling=D,N=D);return t&&b.forEach(function(x){return e(v,x)}),et&&ci(v,k),w}function E(v,_,y,S){if(typeof y=="object"&&y!==null&&y.type===po&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Su:e:{for(var w=y.key,N=_;N!==null;){if(N.key===w){if(w=y.type,w===po){if(N.tag===7){n(v,N.sibling),_=s(N,y.props.children),_.return=v,v=_;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===vs&&ZE(w)===N.type){n(v,N.sibling),_=s(N,y.props),_.ref=Ua(v,N,y),_.return=v,v=_;break e}n(v,N);break}else e(v,N);N=N.sibling}y.type===po?(_=Ti(y.props.children,v.mode,S,y.key),_.return=v,v=_):(S=md(y.type,y.key,y.props,null,v.mode,S),S.ref=Ua(v,_,y),S.return=v,v=S)}return o(v);case fo:e:{for(N=y.key;_!==null;){if(_.key===N)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(v,_.sibling),_=s(_,y.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=tm(y,v.mode,S),_.return=v,v=_}return o(v);case vs:return N=y._init,E(v,_,N(y._payload),S)}if(ol(y))return m(v,_,y,S);if(Ma(y))return g(v,_,y,S);Pu(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(v,_.sibling),_=s(_,y),_.return=v,v=_):(n(v,_),_=em(y,v.mode,S),_.return=v,v=_),o(v)):n(v,_)}return E}var Ko=VR(!0),FR=VR(!1),Oc={},yr=Xs(Oc),Xl=Xs(Oc),Jl=Xs(Oc);function vi(t){if(t===Oc)throw Error(U(174));return t}function b_(t,e){switch(Be(Jl,e),Be(Xl,t),Be(yr,Oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:og(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=og(e,t)}Ke(yr),Be(yr,e)}function Qo(){Ke(yr),Ke(Xl),Ke(Jl)}function UR(t){vi(Jl.current);var e=vi(yr.current),n=og(e,t.type);e!==n&&(Be(Xl,t),Be(yr,n))}function A_(t){Xl.current===t&&(Ke(yr),Ke(Xl))}var nt=Xs(0);function Hd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kp=[];function k_(){for(var t=0;t<Kp.length;t++)Kp[t]._workInProgressVersionPrimary=null;Kp.length=0}var ud=cs.ReactCurrentDispatcher,Qp=cs.ReactCurrentBatchConfig,bi=0,rt=null,gt=null,Rt=null,Wd=!1,wl=!1,Zl=0,EO=0;function Ft(){throw Error(U(321))}function P_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function L_(t,e,n,r,s,i){if(bi=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ud.current=t===null||t.memoizedState===null?CO:RO,t=n(r,s),wl){i=0;do{if(wl=!1,Zl=0,25<=i)throw Error(U(301));i+=1,Rt=gt=null,e.updateQueue=null,ud.current=IO,t=n(r,s)}while(wl)}if(ud.current=qd,e=gt!==null&&gt.next!==null,bi=0,Rt=gt=rt=null,Wd=!1,e)throw Error(U(300));return t}function O_(){var t=Zl!==0;return Zl=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?rt.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function qn(){if(gt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Rt===null?rt.memoizedState:Rt.next;if(e!==null)Rt=e,gt=t;else{if(t===null)throw Error(U(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Rt===null?rt.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function ec(t,e){return typeof e=="function"?e(t):e}function Yp(t){var e=qn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((bi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,rt.lanes|=d,Ai|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ar(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,Ai|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xp(t){var e=qn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ar(i,e.memoizedState)||(mn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function BR(){}function zR(t,e){var n=rt,r=qn(),s=e(),i=!ar(r.memoizedState,s);if(i&&(r.memoizedState=s,mn=!0),r=r.queue,D_(qR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,tc(9,WR.bind(null,n,r,s,e),void 0,null),Nt===null)throw Error(U(349));bi&30||HR(n,e,s)}return s}function HR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function WR(t,e,n,r){e.value=n,e.getSnapshot=r,GR(e)&&KR(t)}function qR(t,e,n){return n(function(){GR(e)&&KR(t)})}function GR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function KR(t){var e=Zr(t,1);e!==null&&ir(e,t,1,-1)}function eS(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:t},e.queue=t,t=t.dispatch=TO.bind(null,rt,t),[e.memoizedState,t]}function tc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function QR(){return qn().memoizedState}function dd(t,e,n,r){var s=ur();rt.flags|=t,s.memoizedState=tc(1|e,n,void 0,r===void 0?null:r)}function Yh(t,e,n,r){var s=qn();r=r===void 0?null:r;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,r!==null&&P_(r,o.deps)){s.memoizedState=tc(e,n,i,r);return}}rt.flags|=t,s.memoizedState=tc(1|e,n,i,r)}function tS(t,e){return dd(8390656,8,t,e)}function D_(t,e){return Yh(2048,8,t,e)}function YR(t,e){return Yh(4,2,t,e)}function XR(t,e){return Yh(4,4,t,e)}function JR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ZR(t,e,n){return n=n!=null?n.concat([t]):null,Yh(4,4,JR.bind(null,e,t),n)}function M_(){}function eI(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function tI(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&P_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function nI(t,e,n){return bi&21?(ar(n,e)||(n=iR(),rt.lanes|=n,Ai|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function SO(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Qp.transition;Qp.transition={};try{t(!1),e()}finally{Me=n,Qp.transition=r}}function rI(){return qn().memoizedState}function wO(t,e,n){var r=Os(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sI(t))iI(e,n);else if(n=DR(t,e,n,r),n!==null){var s=an();ir(n,t,r,s),oI(n,e,r)}}function TO(t,e,n){var r=Os(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sI(t))iI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=e.interleaved;l===null?(s.next=s,x_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=DR(t,e,s,r),n!==null&&(s=an(),ir(n,t,r,s),oI(n,e,r))}}function sI(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function iI(t,e){wl=Wd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function oI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,f_(t,n)}}var qd={readContext:Wn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},CO={readContext:Wn,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:tS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dd(4194308,4,JR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dd(4194308,4,t,e)},useInsertionEffect:function(t,e){return dd(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wO.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:eS,useDebugValue:M_,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=eS(!1),e=t[0];return t=SO.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=ur();if(et){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Nt===null)throw Error(U(349));bi&30||HR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,tS(qR.bind(null,r,i,t),[t]),r.flags|=2048,tc(9,WR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ur(),e=Nt.identifierPrefix;if(et){var n=zr,r=Br;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RO={readContext:Wn,useCallback:eI,useContext:Wn,useEffect:D_,useImperativeHandle:ZR,useInsertionEffect:YR,useLayoutEffect:XR,useMemo:tI,useReducer:Yp,useRef:QR,useState:function(){return Yp(ec)},useDebugValue:M_,useDeferredValue:function(t){var e=qn();return nI(e,gt.memoizedState,t)},useTransition:function(){var t=Yp(ec)[0],e=qn().memoizedState;return[t,e]},useMutableSource:BR,useSyncExternalStore:zR,useId:rI,unstable_isNewReconciler:!1},IO={readContext:Wn,useCallback:eI,useContext:Wn,useEffect:D_,useImperativeHandle:ZR,useInsertionEffect:YR,useLayoutEffect:XR,useMemo:tI,useReducer:Xp,useRef:QR,useState:function(){return Xp(ec)},useDebugValue:M_,useDeferredValue:function(t){var e=qn();return gt===null?e.memoizedState=t:nI(e,gt.memoizedState,t)},useTransition:function(){var t=Xp(ec)[0],e=qn().memoizedState;return[t,e]},useMutableSource:BR,useSyncExternalStore:zR,useId:rI,unstable_isNewReconciler:!1};function Yo(t,e){try{var n="",r=e;do n+=eL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Jp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xO=typeof WeakMap=="function"?WeakMap:Map;function aI(t,e,n){n=Kr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kd||(Kd=!0,Vg=r),bg(t,e)},n}function lI(t,e,n){n=Kr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){bg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bg(t,e),typeof r!="function"&&(Ls===null?Ls=new Set([this]):Ls.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function nS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=UO.bind(null,t,e,n),e.then(t,t))}function rS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function sS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Kr(-1,1),e.tag=2,Ps(n,e,1))),n.lanes|=1),t)}var NO=cs.ReactCurrentOwner,mn=!1;function sn(t,e,n,r){e.child=t===null?FR(e,null,n,r):Ko(e,t.child,n,r)}function iS(t,e,n,r,s){n=n.render;var i=e.ref;return Lo(e,s),r=L_(t,e,n,r,i,s),n=O_(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,es(t,e,s)):(et&&n&&S_(e),e.flags|=1,sn(t,e,r,s),e.child)}function oS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!H_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,cI(t,e,i,r,s)):(t=md(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(o,r)&&t.ref===e.ref)return es(t,e,s)}return e.flags|=1,t=Ds(i,r),t.ref=e.ref,t.return=e,e.child=t}function cI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Gl(i,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,es(t,e,s)}return Ag(t,e,n,r,s)}function uI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Co,Tn),Tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Co,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(Co,Tn),Tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(Co,Tn),Tn|=r;return sn(t,e,s,n),e.child}function dI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ag(t,e,n,r,s){var i=_n(n)?xi:en.current;return i=qo(e,i),Lo(e,s),n=L_(t,e,n,r,i,s),r=O_(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,es(t,e,s)):(et&&r&&S_(e),e.flags|=1,sn(t,e,n,s),e.child)}function aS(t,e,n,r,s){if(_n(n)){var i=!0;$d(e)}else i=!1;if(Lo(e,s),e.stateNode===null)hd(t,e),$R(e,n,r),Ng(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wn(c):(c=_n(n)?xi:en.current,c=qo(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&JE(e,o,r,c),_s=!1;var f=e.memoizedState;o.state=f,zd(e,r,o,s),l=e.memoizedState,a!==r||f!==l||vn.current||_s?(typeof d=="function"&&(xg(e,n,d,r),l=e.memoizedState),(a=_s||XE(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,MR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Jn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=_n(n)?xi:en.current,l=qo(e,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&JE(e,o,r,l),_s=!1,f=e.memoizedState,o.state=f,zd(e,r,o,s);var m=e.memoizedState;a!==h||f!==m||vn.current||_s?(typeof p=="function"&&(xg(e,n,p,r),m=e.memoizedState),(c=_s||XE(e,n,c,r,f,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return kg(t,e,n,r,i,s)}function kg(t,e,n,r,s,i){dI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&qE(e,n,!1),es(t,e,i);r=e.stateNode,NO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ko(e,t.child,null,i),e.child=Ko(e,null,a,i)):sn(t,e,a,i),e.memoizedState=r.state,s&&qE(e,n,!0),e.child}function hI(t){var e=t.stateNode;e.pendingContext?WE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&WE(t,e.context,!1),b_(t,e.containerInfo)}function lS(t,e,n,r,s){return Go(),T_(s),e.flags|=256,sn(t,e,n,r),e.child}var Pg={dehydrated:null,treeContext:null,retryLane:0};function Lg(t){return{baseLanes:t,cachePool:null,transitions:null}}function fI(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(nt,s&1),t===null)return Rg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zh(o,r,0,null),t=Ti(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Lg(n),e.memoizedState=Pg,t):j_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return bO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ds(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ds(a,i):(i=Ti(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Lg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Pg,r}return i=t.child,t=i.sibling,r=Ds(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function j_(t,e){return e=Zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lu(t,e,n,r){return r!==null&&T_(r),Ko(e,t.child,null,n),t=j_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Jp(Error(U(422))),Lu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zh({mode:"visible",children:r.children},s,0,null),i=Ti(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ko(e,t.child,null,o),e.child.memoizedState=Lg(o),e.memoizedState=Pg,i);if(!(e.mode&1))return Lu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=Jp(i,r,void 0),Lu(t,e,o,r)}if(a=(o&t.childLanes)!==0,mn||a){if(r=Nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Zr(t,s),ir(r,t,s,-1))}return z_(),r=Jp(Error(U(421))),Lu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=BO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rn=ks(s.nextSibling),xn=e,et=!0,er=null,t!==null&&(Mn[jn++]=Br,Mn[jn++]=zr,Mn[jn++]=Ni,Br=t.id,zr=t.overflow,Ni=e),e=j_(e,r.children),e.flags|=4096,e)}function cS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ig(t.return,e,n)}function Zp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function pI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(sn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cS(t,n,e);else if(t.tag===19)cS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Hd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Hd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zp(e,!0,n,null,i);break;case"together":Zp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function es(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ai|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Ds(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ds(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AO(t,e,n){switch(e.tag){case 3:hI(e),Go();break;case 5:UR(e);break;case 1:_n(e.type)&&$d(e);break;case 4:b_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(Ud,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?fI(t,e,n):(Be(nt,nt.current&1),t=es(t,e,n),t!==null?t.sibling:null);Be(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return pI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,uI(t,e,n)}return es(t,e,n)}var mI,Og,gI,vI;mI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Og=function(){};gI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,vi(yr.current);var i=null;switch(n){case"input":s=ng(t,s),r=ng(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=ig(t,s),r=ig(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Md)}ag(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};vI=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ba(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kO(t,e,n){var r=e.pendingProps;switch(w_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return _n(e.type)&&jd(),Ut(e),null;case 3:return r=e.stateNode,Qo(),Ke(vn),Ke(en),k_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(Bg(er),er=null))),Og(t,e),Ut(e),null;case 5:A_(e);var s=vi(Jl.current);if(n=e.type,t!==null&&e.stateNode!=null)gI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Ut(e),null}if(t=vi(yr.current),ku(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[dr]=e,r[Yl]=i,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<ll.length;s++)ze(ll[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":_E(r,i),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ze("invalid",r);break;case"textarea":EE(r,i),ze("invalid",r)}ag(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",""+a]):Fl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":wu(r),yE(r,i,!0);break;case"textarea":wu(r),SE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Md)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=HC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dr]=e,t[Yl]=r,mI(t,e,!1,!1),e.stateNode=t;e:{switch(o=lg(n,r),n){case"dialog":ze("cancel",t),ze("close",t),s=r;break;case"iframe":case"object":case"embed":ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<ll.length;s++)ze(ll[s],t);s=r;break;case"source":ze("error",t),s=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),s=r;break;case"details":ze("toggle",t),s=r;break;case"input":_E(t,r),s=ng(t,r),ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),ze("invalid",t);break;case"textarea":EE(t,r),s=ig(t,r),ze("invalid",t);break;default:s=r}ag(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?GC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&WC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ul(t,l):typeof l=="number"&&Ul(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ze("scroll",t):l!=null&&a_(t,i,l,o))}switch(n){case"input":wu(t),yE(t,r,!1);break;case"textarea":wu(t),SE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?bo(t,!!r.multiple,i,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Md)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)vI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=vi(Jl.current),vi(yr.current),ku(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(i=r.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:Au(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Ke(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Rn!==null&&e.mode&1&&!(e.flags&128))OR(),Go(),e.flags|=98560,i=!1;else if(i=ku(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[dr]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else er!==null&&(Bg(er),er=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?_t===0&&(_t=3):z_())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Qo(),Og(t,e),t===null&&Kl(e.stateNode.containerInfo),Ut(e),null;case 10:return I_(e.type._context),Ut(e),null;case 17:return _n(e.type)&&jd(),Ut(e),null;case 19:if(Ke(nt),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Ba(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hd(t),o!==null){for(e.flags|=128,Ba(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ct()>Xo&&(e.flags|=128,r=!0,Ba(i,!1),e.lanes=4194304)}else{if(!r)if(t=Hd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ba(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return Ut(e),null}else 2*ct()-i.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,Ba(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ct(),e.sibling=null,n=nt.current,Be(nt,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return B_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function PO(t,e){switch(w_(e),e.tag){case 1:return _n(e.type)&&jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),Ke(vn),Ke(en),k_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return A_(e),null;case 13:if(Ke(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(nt),null;case 4:return Qo(),null;case 10:return I_(e.type._context),null;case 22:case 23:return B_(),null;case 24:return null;default:return null}}var Ou=!1,Ht=!1,LO=typeof WeakSet=="function"?WeakSet:Set,Z=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function Dg(t,e,n){try{n()}catch(r){it(t,e,r)}}var uS=!1;function OO(t,e){if(_g=Ld,t=SR(),E_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yg={focusedElem:t,selectionRange:n},Ld=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,E=m.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Jn(e.type,g),E);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){it(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return m=uS,uS=!1,m}function Tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Dg(e,n,i)}s=s.next}while(s!==r)}}function Xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Mg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function _I(t){var e=t.alternate;e!==null&&(t.alternate=null,_I(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[Yl],delete e[wg],delete e[gO],delete e[vO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yI(t){return t.tag===5||t.tag===3||t.tag===4}function dS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Md));else if(r!==4&&(t=t.child,t!==null))for(jg(t,e,n),t=t.sibling;t!==null;)jg(t,e,n),t=t.sibling}function $g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($g(t,e,n),t=t.sibling;t!==null;)$g(t,e,n),t=t.sibling}var Lt=null,Zn=!1;function ps(t,e,n){for(n=n.child;n!==null;)EI(t,e,n),n=n.sibling}function EI(t,e,n){if(_r&&typeof _r.onCommitFiberUnmount=="function")try{_r.onCommitFiberUnmount(zh,n)}catch{}switch(n.tag){case 5:Ht||To(n,e);case 6:var r=Lt,s=Zn;Lt=null,ps(t,e,n),Lt=r,Zn=s,Lt!==null&&(Zn?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(Zn?(t=Lt,n=n.stateNode,t.nodeType===8?qp(t.parentNode,n):t.nodeType===1&&qp(t,n),Wl(t)):qp(Lt,n.stateNode));break;case 4:r=Lt,s=Zn,Lt=n.stateNode.containerInfo,Zn=!0,ps(t,e,n),Lt=r,Zn=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Dg(n,e,o),s=s.next}while(s!==r)}ps(t,e,n);break;case 1:if(!Ht&&(To(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}ps(t,e,n);break;case 21:ps(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,ps(t,e,n),Ht=r):ps(t,e,n);break;default:ps(t,e,n)}}function hS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LO),e.forEach(function(r){var s=zO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,Zn=!1;break e;case 3:Lt=a.stateNode.containerInfo,Zn=!0;break e;case 4:Lt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(Lt===null)throw Error(U(160));EI(i,o,s),Lt=null,Zn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){it(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)SI(e,t),e=e.sibling}function SI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),cr(t),r&4){try{Tl(3,t,t.return),Xh(3,t)}catch(g){it(t,t.return,g)}try{Tl(5,t,t.return)}catch(g){it(t,t.return,g)}}break;case 1:Yn(e,t),cr(t),r&512&&n!==null&&To(n,n.return);break;case 5:if(Yn(e,t),cr(t),r&512&&n!==null&&To(n,n.return),t.flags&32){var s=t.stateNode;try{Ul(s,"")}catch(g){it(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&BC(s,i),lg(a,o);var c=lg(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?GC(s,h):d==="dangerouslySetInnerHTML"?WC(s,h):d==="children"?Ul(s,h):a_(s,d,h,c)}switch(a){case"input":rg(s,i);break;case"textarea":zC(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?bo(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?bo(s,!!i.multiple,i.defaultValue,!0):bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Yl]=i}catch(g){it(t,t.return,g)}}break;case 6:if(Yn(e,t),cr(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){it(t,t.return,g)}}break;case 3:if(Yn(e,t),cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wl(e.containerInfo)}catch(g){it(t,t.return,g)}break;case 4:Yn(e,t),cr(t);break;case 13:Yn(e,t),cr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(F_=ct())),r&4&&hS(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(c=Ht)||d,Yn(e,t),Ht=c):Yn(e,t),cr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Z=t,d=t.child;d!==null;){for(h=Z=d;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:Tl(4,f,f.return);break;case 1:To(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){it(r,n,g)}}break;case 5:To(f,f.return);break;case 22:if(f.memoizedState!==null){pS(h);continue}}p!==null?(p.return=f,Z=p):pS(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=qC("display",o))}catch(g){it(t,t.return,g)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){it(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yn(e,t),cr(t),r&4&&hS(t);break;case 21:break;default:Yn(e,t),cr(t)}}function cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yI(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ul(s,""),r.flags&=-33);var i=dS(t);$g(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dS(t);jg(t,a,o);break;default:throw Error(U(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DO(t,e,n){Z=t,wI(t)}function wI(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ou;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ht;a=Ou;var c=Ht;if(Ou=o,(Ht=l)&&!c)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?mS(s):l!==null?(l.return=o,Z=l):mS(s);for(;i!==null;)Z=i,wI(i),i=i.sibling;Z=s,Ou=a,Ht=c}fS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):fS(t)}}function fS(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&YE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}YE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Wl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ht||e.flags&512&&Mg(e)}catch(f){it(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function pS(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function mS(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xh(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){it(e,s,l)}}var i=e.return;try{Mg(e)}catch(l){it(e,i,l)}break;case 5:var o=e.return;try{Mg(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var MO=Math.ceil,Gd=cs.ReactCurrentDispatcher,$_=cs.ReactCurrentOwner,Bn=cs.ReactCurrentBatchConfig,Le=0,Nt=null,ft=null,Mt=0,Tn=0,Co=Xs(0),_t=0,nc=null,Ai=0,Jh=0,V_=0,Cl=null,fn=null,F_=0,Xo=1/0,Mr=null,Kd=!1,Vg=null,Ls=null,Du=!1,Ts=null,Qd=0,Rl=0,Fg=null,fd=-1,pd=0;function an(){return Le&6?ct():fd!==-1?fd:fd=ct()}function Os(t){return t.mode&1?Le&2&&Mt!==0?Mt&-Mt:yO.transition!==null?(pd===0&&(pd=iR()),pd):(t=Me,t!==0||(t=window.event,t=t===void 0?16:hR(t.type)),t):1}function ir(t,e,n,r){if(50<Rl)throw Rl=0,Fg=null,Error(U(185));kc(t,n,r),(!(Le&2)||t!==Nt)&&(t===Nt&&(!(Le&2)&&(Jh|=n),_t===4&&Ss(t,Mt)),yn(t,r),n===1&&Le===0&&!(e.mode&1)&&(Xo=ct()+500,Kh&&Js()))}function yn(t,e){var n=t.callbackNode;yL(t,e);var r=Pd(t,t===Nt?Mt:0);if(r===0)n!==null&&CE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&CE(n),e===1)t.tag===0?_O(gS.bind(null,t)):kR(gS.bind(null,t)),pO(function(){!(Le&6)&&Js()}),n=null;else{switch(oR(r)){case 1:n=h_;break;case 4:n=rR;break;case 16:n=kd;break;case 536870912:n=sR;break;default:n=kd}n=AI(n,TI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function TI(t,e){if(fd=-1,pd=0,Le&6)throw Error(U(327));var n=t.callbackNode;if(Oo()&&t.callbackNode!==n)return null;var r=Pd(t,t===Nt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yd(t,r);else{e=r;var s=Le;Le|=2;var i=RI();(Nt!==t||Mt!==e)&&(Mr=null,Xo=ct()+500,wi(t,e));do try{VO();break}catch(a){CI(t,a)}while(1);R_(),Gd.current=i,Le=s,ft!==null?e=0:(Nt=null,Mt=0,e=_t)}if(e!==0){if(e===2&&(s=fg(t),s!==0&&(r=s,e=Ug(t,s))),e===1)throw n=nc,wi(t,0),Ss(t,r),yn(t,ct()),n;if(e===6)Ss(t,r);else{if(s=t.current.alternate,!(r&30)&&!jO(s)&&(e=Yd(t,r),e===2&&(i=fg(t),i!==0&&(r=i,e=Ug(t,i))),e===1))throw n=nc,wi(t,0),Ss(t,r),yn(t,ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:di(t,fn,Mr);break;case 3:if(Ss(t,r),(r&130023424)===r&&(e=F_+500-ct(),10<e)){if(Pd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Sg(di.bind(null,t,fn,Mr),e);break}di(t,fn,Mr);break;case 4:if(Ss(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-sr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MO(r/1960))-r,10<r){t.timeoutHandle=Sg(di.bind(null,t,fn,Mr),r);break}di(t,fn,Mr);break;case 5:di(t,fn,Mr);break;default:throw Error(U(329))}}}return yn(t,ct()),t.callbackNode===n?TI.bind(null,t):null}function Ug(t,e){var n=Cl;return t.current.memoizedState.isDehydrated&&(wi(t,e).flags|=256),t=Yd(t,e),t!==2&&(e=fn,fn=n,e!==null&&Bg(e)),t}function Bg(t){fn===null?fn=t:fn.push.apply(fn,t)}function jO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ss(t,e){for(e&=~V_,e&=~Jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function gS(t){if(Le&6)throw Error(U(327));Oo();var e=Pd(t,0);if(!(e&1))return yn(t,ct()),null;var n=Yd(t,e);if(t.tag!==0&&n===2){var r=fg(t);r!==0&&(e=r,n=Ug(t,r))}if(n===1)throw n=nc,wi(t,0),Ss(t,e),yn(t,ct()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,di(t,fn,Mr),yn(t,ct()),null}function U_(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Xo=ct()+500,Kh&&Js())}}function ki(t){Ts!==null&&Ts.tag===0&&!(Le&6)&&Oo();var e=Le;Le|=1;var n=Bn.transition,r=Me;try{if(Bn.transition=null,Me=1,t)return t()}finally{Me=r,Bn.transition=n,Le=e,!(Le&6)&&Js()}}function B_(){Tn=Co.current,Ke(Co)}function wi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fO(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(w_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:Qo(),Ke(vn),Ke(en),k_();break;case 5:A_(r);break;case 4:Qo();break;case 13:Ke(nt);break;case 19:Ke(nt);break;case 10:I_(r.type._context);break;case 22:case 23:B_()}n=n.return}if(Nt=t,ft=t=Ds(t.current,null),Mt=Tn=e,_t=0,nc=null,V_=Jh=Ai=0,fn=Cl=null,gi!==null){for(e=0;e<gi.length;e++)if(n=gi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}gi=null}return t}function CI(t,e){do{var n=ft;try{if(R_(),ud.current=qd,Wd){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wd=!1}if(bi=0,Rt=gt=rt=null,wl=!1,Zl=0,$_.current=null,n===null||n.return===null){_t=1,nc=e,ft=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=rS(o);if(p!==null){p.flags&=-257,sS(p,o,a,i,e),p.mode&1&&nS(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){nS(i,c,e),z_();break e}l=Error(U(426))}}else if(et&&a.mode&1){var E=rS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),sS(E,o,a,i,e),T_(Yo(l,a));break e}}i=l=Yo(l,a),_t!==4&&(_t=2),Cl===null?Cl=[i]:Cl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=aI(i,l,e);QE(i,v);break e;case 1:a=l;var _=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ls===null||!Ls.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=lI(i,a,e);QE(i,S);break e}}i=i.return}while(i!==null)}xI(n)}catch(w){e=w,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(1)}function RI(){var t=Gd.current;return Gd.current=qd,t===null?qd:t}function z_(){(_t===0||_t===3||_t===2)&&(_t=4),Nt===null||!(Ai&268435455)&&!(Jh&268435455)||Ss(Nt,Mt)}function Yd(t,e){var n=Le;Le|=2;var r=RI();(Nt!==t||Mt!==e)&&(Mr=null,wi(t,e));do try{$O();break}catch(s){CI(t,s)}while(1);if(R_(),Le=n,Gd.current=r,ft!==null)throw Error(U(261));return Nt=null,Mt=0,_t}function $O(){for(;ft!==null;)II(ft)}function VO(){for(;ft!==null&&!uL();)II(ft)}function II(t){var e=bI(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?xI(t):ft=e,$_.current=null}function xI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PO(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ft=null;return}}else if(n=kO(n,e,Tn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);_t===0&&(_t=5)}function di(t,e,n){var r=Me,s=Bn.transition;try{Bn.transition=null,Me=1,FO(t,e,n,r)}finally{Bn.transition=s,Me=r}return null}function FO(t,e,n,r){do Oo();while(Ts!==null);if(Le&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(EL(t,i),t===Nt&&(ft=Nt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Du||(Du=!0,AI(kd,function(){return Oo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bn.transition,Bn.transition=null;var o=Me;Me=1;var a=Le;Le|=4,$_.current=null,OO(t,n),SI(n,t),oO(yg),Ld=!!_g,yg=_g=null,t.current=n,DO(n),dL(),Le=a,Me=o,Bn.transition=i}else t.current=n;if(Du&&(Du=!1,Ts=t,Qd=s),i=t.pendingLanes,i===0&&(Ls=null),pL(n.stateNode),yn(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kd)throw Kd=!1,t=Vg,Vg=null,t;return Qd&1&&t.tag!==0&&Oo(),i=t.pendingLanes,i&1?t===Fg?Rl++:(Rl=0,Fg=t):Rl=0,Js(),null}function Oo(){if(Ts!==null){var t=oR(Qd),e=Bn.transition,n=Me;try{if(Bn.transition=null,Me=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,Qd=0,Le&6)throw Error(U(331));var s=Le;for(Le|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var d=Z;switch(d.tag){case 0:case 11:case 15:Tl(8,d,i)}var h=d.child;if(h!==null)h.return=d,Z=h;else for(;Z!==null;){d=Z;var f=d.sibling,p=d.return;if(_I(d),d===c){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Z=v;break e}Z=i.return}}var _=t.current;for(Z=_;Z!==null;){o=Z;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Z=y;else e:for(o=_;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xh(9,a)}}catch(w){it(a,a.return,w)}if(a===o){Z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Z=S;break e}Z=a.return}}if(Le=s,Js(),_r&&typeof _r.onPostCommitFiberRoot=="function")try{_r.onPostCommitFiberRoot(zh,t)}catch{}r=!0}return r}finally{Me=n,Bn.transition=e}}return!1}function vS(t,e,n){e=Yo(n,e),e=aI(t,e,1),t=Ps(t,e,1),e=an(),t!==null&&(kc(t,1,e),yn(t,e))}function it(t,e,n){if(t.tag===3)vS(t,t,n);else for(;e!==null;){if(e.tag===3){vS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ls===null||!Ls.has(r))){t=Yo(n,t),t=lI(e,t,1),e=Ps(e,t,1),t=an(),e!==null&&(kc(e,1,t),yn(e,t));break}}e=e.return}}function UO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Mt&n)===n&&(_t===4||_t===3&&(Mt&130023424)===Mt&&500>ct()-F_?wi(t,0):V_|=n),yn(t,e)}function NI(t,e){e===0&&(t.mode&1?(e=Ru,Ru<<=1,!(Ru&130023424)&&(Ru=4194304)):e=1);var n=an();t=Zr(t,e),t!==null&&(kc(t,e,n),yn(t,n))}function BO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),NI(t,n)}function zO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),NI(t,n)}var bI;bI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,AO(t,e,n);mn=!!(t.flags&131072)}else mn=!1,et&&e.flags&1048576&&PR(e,Fd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hd(t,e),t=e.pendingProps;var s=qo(e,en.current);Lo(e,n),s=L_(null,e,r,t,s,n);var i=O_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(r)?(i=!0,$d(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,N_(e),s.updater=Qh,e.stateNode=s,s._reactInternals=e,Ng(e,r,t,n),e=kg(null,e,r,!0,i,n)):(e.tag=0,et&&i&&S_(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=WO(r),t=Jn(r,t),s){case 0:e=Ag(null,e,r,t,n);break e;case 1:e=aS(null,e,r,t,n);break e;case 11:e=iS(null,e,r,t,n);break e;case 14:e=oS(null,e,r,Jn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),Ag(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),aS(t,e,r,s,n);case 3:e:{if(hI(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,MR(t,e),zd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yo(Error(U(423)),e),e=lS(t,e,r,n,s);break e}else if(r!==s){s=Yo(Error(U(424)),e),e=lS(t,e,r,n,s);break e}else for(Rn=ks(e.stateNode.containerInfo.firstChild),xn=e,et=!0,er=null,n=FR(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===s){e=es(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return UR(e),t===null&&Rg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Eg(r,s)?o=null:i!==null&&Eg(r,i)&&(e.flags|=32),dI(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&Rg(e),null;case 13:return fI(t,e,n);case 4:return b_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),iS(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(Ud,r._currentValue),r._currentValue=o,i!==null)if(ar(i.value,o)){if(i.children===s.children&&!vn.current){e=es(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Kr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Ig(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ig(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Lo(e,n),s=Wn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=Jn(r,e.pendingProps),s=Jn(r.type,s),oS(t,e,r,s,n);case 15:return cI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),hd(t,e),e.tag=1,_n(r)?(t=!0,$d(e)):t=!1,Lo(e,n),$R(e,r,s),Ng(e,r,s,n),kg(null,e,r,!0,t,n);case 19:return pI(t,e,n);case 22:return uI(t,e,n)}throw Error(U(156,e.tag))};function AI(t,e){return nR(t,e)}function HO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new HO(t,e,n,r)}function H_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WO(t){if(typeof t=="function")return H_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===c_)return 11;if(t===u_)return 14}return 2}function Ds(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function md(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")H_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case po:return Ti(n.children,s,i,e);case l_:o=8,s|=8;break;case Jm:return t=Fn(12,n,e,s|2),t.elementType=Jm,t.lanes=i,t;case Zm:return t=Fn(13,n,e,s),t.elementType=Zm,t.lanes=i,t;case eg:return t=Fn(19,n,e,s),t.elementType=eg,t.lanes=i,t;case VC:return Zh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jC:o=10;break e;case $C:o=9;break e;case c_:o=11;break e;case u_:o=14;break e;case vs:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Fn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ti(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function Zh(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=VC,t.lanes=n,t.stateNode={isHidden:!1},t}function em(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function tm(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dp(0),this.expirationTimes=Dp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function W_(t,e,n,r,s,i,o,a,l){return t=new qO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},N_(i),t}function GO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function kI(t){if(!t)return Hs;t=t._reactInternals;e:{if(qi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(_n(n))return AR(t,n,e)}return e}function PI(t,e,n,r,s,i,o,a,l){return t=W_(n,r,!0,t,s,i,o,a,l),t.context=kI(null),n=t.current,r=an(),s=Os(n),i=Kr(r,s),i.callback=e??null,Ps(n,i,s),t.current.lanes=s,kc(t,s,r),yn(t,r),t}function ef(t,e,n,r){var s=e.current,i=an(),o=Os(s);return n=kI(n),e.context===null?e.context=n:e.pendingContext=n,e=Kr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ps(s,e,o),t!==null&&(ir(t,s,o,i),cd(t,s,o)),o}function Xd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _S(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function q_(t,e){_S(t,e),(t=t.alternate)&&_S(t,e)}function KO(){return null}var LI=typeof reportError=="function"?reportError:function(t){console.error(t)};function G_(t){this._internalRoot=t}tf.prototype.render=G_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));ef(t,e,null,null)};tf.prototype.unmount=G_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ki(function(){ef(null,t,null,null)}),e[Jr]=null}};function tf(t){this._internalRoot=t}tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=cR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Es.length&&e!==0&&e<Es[n].priority;n++);Es.splice(n,0,t),n===0&&dR(t)}};function K_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function yS(){}function QO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Xd(o);i.call(c)}}var o=PI(e,r,t,0,null,!1,!1,"",yS);return t._reactRootContainer=o,t[Jr]=o.current,Kl(t.nodeType===8?t.parentNode:t),ki(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Xd(l);a.call(c)}}var l=W_(t,0,!1,null,null,!1,!1,"",yS);return t._reactRootContainer=l,t[Jr]=l.current,Kl(t.nodeType===8?t.parentNode:t),ki(function(){ef(e,l,n,r)}),l}function rf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Xd(o);a.call(l)}}ef(e,o,t,s)}else o=QO(n,e,t,s,r);return Xd(o)}aR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=al(e.pendingLanes);n!==0&&(f_(e,n|1),yn(e,ct()),!(Le&6)&&(Xo=ct()+500,Js()))}break;case 13:ki(function(){var r=Zr(t,1);if(r!==null){var s=an();ir(r,t,1,s)}}),q_(t,1)}};p_=function(t){if(t.tag===13){var e=Zr(t,134217728);if(e!==null){var n=an();ir(e,t,134217728,n)}q_(t,134217728)}};lR=function(t){if(t.tag===13){var e=Os(t),n=Zr(t,e);if(n!==null){var r=an();ir(n,t,e,r)}q_(t,e)}};cR=function(){return Me};uR=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};ug=function(t,e,n){switch(e){case"input":if(rg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gh(r);if(!s)throw Error(U(90));UC(r),rg(r,s)}}}break;case"textarea":zC(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};YC=U_;XC=ki;var YO={usingClientEntryPoint:!1,Events:[Lc,_o,Gh,KC,QC,U_]},za={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XO={bundleType:za.bundleType,version:za.version,rendererPackageName:za.rendererPackageName,rendererConfig:za.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=eR(t),t===null?null:t.stateNode},findFiberByHostInstance:za.findFiberByHostInstance||KO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{zh=Mu.inject(XO),_r=Mu}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YO;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!K_(e))throw Error(U(200));return GO(t,e,null,n)};Pn.createRoot=function(t,e){if(!K_(t))throw Error(U(299));var n=!1,r="",s=LI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=W_(t,1,!1,null,null,n,!1,r,s),t[Jr]=e.current,Kl(t.nodeType===8?t.parentNode:t),new G_(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=eR(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return ki(t)};Pn.hydrate=function(t,e,n){if(!nf(e))throw Error(U(200));return rf(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!K_(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=LI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=PI(e,null,t,1,n??null,s,!1,i,o),t[Jr]=e.current,Kl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tf(e)};Pn.render=function(t,e,n){if(!nf(e))throw Error(U(200));return rf(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!nf(t))throw Error(U(40));return t._reactRootContainer?(ki(function(){rf(null,null,t,!1,function(){t._reactRootContainer=null,t[Jr]=null})}),!0):!1};Pn.unstable_batchedUpdates=U_;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nf(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return rf(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";function OI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(OI)}catch(t){console.error(t)}}OI(),PC.exports=Pn;var DI=PC.exports;const JO=SC(DI);var ES=DI;Ym.createRoot=ES.createRoot,Ym.hydrateRoot=ES.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}var Cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cs||(Cs={}));const SS="popstate";function ZO(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Gi(s.location.hash.substr(1));return zg("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Jd(i))}function r(s,i){sf(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return tD(e,n,r,t)}function ut(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eD(){return Math.random().toString(36).substr(2,8)}function wS(t,e){return{usr:t.state,key:t.key,idx:e}}function zg(t,e,n,r){return n===void 0&&(n=null),rc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Gi(e):e,{state:n,key:e&&e.key||r||eD()})}function Jd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Gi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Cs.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(rc({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Cs.Pop;let E=d(),v=E==null?null:E-c;c=E,l&&l({action:a,location:g.location,delta:v})}function f(E,v){a=Cs.Push;let _=zg(g.location,E,v);n&&n(_,E),c=d()+1;let y=wS(_,c),S=g.createHref(_);try{o.pushState(y,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function p(E,v){a=Cs.Replace;let _=zg(g.location,E,v);n&&n(_,E),c=d();let y=wS(_,c),S=g.createHref(_);o.replaceState(y,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function m(E){let v=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof E=="string"?E:Jd(E);return ut(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let g={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(SS,h),l=E,()=>{s.removeEventListener(SS,h),l=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let v=m(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(E){return o.go(E)}};return g}var TS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(TS||(TS={}));function nD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Gi(e):e,s=Q_(r.pathname||"/",n);if(s==null)return null;let i=MI(t);rD(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=hD(i[a],mD(s));return o}function MI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Ms([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(ut(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),MI(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:uD(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of jI(i.path))s(i,o,l)}),e}function jI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=jI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function rD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sD=/^:\w+$/,iD=3,oD=2,aD=1,lD=10,cD=-2,CS=t=>t==="*";function uD(t,e){let n=t.split("/"),r=n.length;return n.some(CS)&&(r+=cD),e&&(r+=oD),n.filter(s=>!CS(s)).reduce((s,i)=>s+(sD.test(i)?iD:i===""?aD:lD),r)}function dD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function hD(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=fD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!d)return null;Object.assign(r,d.params);let h=a.route;i.push({params:r,pathname:Ms([s,d.pathname]),pathnameBase:yD(Ms([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=Ms([s,d.pathnameBase]))}return i}function fD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{if(d==="*"){let f=a[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return c[d]=gD(a[h]||"",d),c},{}),pathname:i,pathnameBase:o,pattern:t}}function pD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function mD(t){try{return decodeURI(t)}catch(e){return sf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function gD(t,e){try{return decodeURIComponent(t)}catch(n){return sf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Q_(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function vD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Gi(t):t;return{pathname:n?n.startsWith("/")?n:_D(n,e):e,search:ED(r),hash:SD(s)}}function _D(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function nm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Y_(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function X_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Gi(t):(s=rc({},t),ut(!s.pathname||!s.pathname.includes("?"),nm("?","pathname","search",s)),ut(!s.pathname||!s.pathname.includes("#"),nm("#","pathname","hash",s)),ut(!s.search||!s.search.includes("#"),nm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=vD(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Ms=t=>t.join("/").replace(/\/\/+/g,"/"),yD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ED=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,SD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const $I=["post","put","patch","delete"];new Set($I);const TD=["get",...$I];new Set(TD);/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}const J_=T.createContext(null),VI=T.createContext(null),Ki=T.createContext(null),of=T.createContext(null),xr=T.createContext({outlet:null,matches:[],isDataRoute:!1}),FI=T.createContext(null);function CD(t,e){let{relative:n}=e===void 0?{}:e;ya()||ut(!1);let{basename:r,navigator:s}=T.useContext(Ki),{hash:i,pathname:o,search:a}=Z_(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Ms([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ya(){return T.useContext(of)!=null}function Sn(){return ya()||ut(!1),T.useContext(of).location}function UI(t){T.useContext(Ki).static||T.useLayoutEffect(t)}function un(){let{isDataRoute:t}=T.useContext(xr);return t?VD():RD()}function RD(){ya()||ut(!1);let t=T.useContext(J_),{basename:e,navigator:n}=T.useContext(Ki),{matches:r}=T.useContext(xr),{pathname:s}=Sn(),i=JSON.stringify(Y_(r).map(l=>l.pathnameBase)),o=T.useRef(!1);return UI(()=>{o.current=!0}),T.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let d=X_(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ms([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,i,s,t])}const ID=T.createContext(null);function xD(t){let e=T.useContext(xr).outlet;return e&&T.createElement(ID.Provider,{value:t},e)}function dn(){let{matches:t}=T.useContext(xr),e=t[t.length-1];return e?e.params:{}}function Z_(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=T.useContext(xr),{pathname:s}=Sn(),i=JSON.stringify(Y_(r).map(o=>o.pathnameBase));return T.useMemo(()=>X_(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function ND(t,e){return bD(t,e)}function bD(t,e,n){ya()||ut(!1);let{navigator:r}=T.useContext(Ki),{matches:s}=T.useContext(xr),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Sn(),c;if(e){var d;let g=typeof e=="string"?Gi(e):e;a==="/"||(d=g.pathname)!=null&&d.startsWith(a)||ut(!1),c=g}else c=l;let h=c.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",p=nD(t,{pathname:f}),m=OD(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Ms([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Ms([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n);return e&&m?T.createElement(of.Provider,{value:{location:Zd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Cs.Pop}},m):m}function AD(){let t=$D(),e=wD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,i)}const kD=T.createElement(AD,null);class PD extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(xr.Provider,{value:this.props.routeContext},T.createElement(FI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LD(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(J_);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(xr.Provider,{value:e},r)}function OD(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ut(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let d=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||kD);let f=e.concat(i.slice(0,c+1)),p=()=>{let m;return d?m=h:l.route.Component?m=T.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,T.createElement(LD,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?T.createElement(PD,{location:n.location,revalidation:n.revalidation,component:h,error:d,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var Hg;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Hg||(Hg={}));var sc;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(sc||(sc={}));function DD(t){let e=T.useContext(J_);return e||ut(!1),e}function MD(t){let e=T.useContext(VI);return e||ut(!1),e}function jD(t){let e=T.useContext(xr);return e||ut(!1),e}function BI(t){let e=jD(),n=e.matches[e.matches.length-1];return n.route.id||ut(!1),n.route.id}function $D(){var t;let e=T.useContext(FI),n=MD(sc.UseRouteError),r=BI(sc.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function VD(){let{router:t}=DD(Hg.UseNavigateStable),e=BI(sc.UseNavigateStable),n=T.useRef(!1);return UI(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zd({fromRouteId:e},i)))},[t,e])}function FD(t){let{to:e,replace:n,state:r,relative:s}=t;ya()||ut(!1);let{matches:i}=T.useContext(xr),{pathname:o}=Sn(),a=un(),l=X_(e,Y_(i).map(d=>d.pathnameBase),o,s==="path"),c=JSON.stringify(l);return T.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:s}),[a,c,s,n,r]),null}function us(t){return xD(t.context)}function se(t){ut(!1)}function UD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Cs.Pop,navigator:i,static:o=!1}=t;ya()&&ut(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Gi(r));let{pathname:c="/",search:d="",hash:h="",state:f=null,key:p="default"}=r,m=T.useMemo(()=>{let g=Q_(c,a);return g==null?null:{location:{pathname:g,search:d,hash:h,state:f,key:p},navigationType:s}},[a,c,d,h,f,p,s]);return m==null?null:T.createElement(Ki.Provider,{value:l},T.createElement(of.Provider,{children:n,value:m}))}function rm(t){let{children:e,location:n}=t;return ND(Wg(e),n)}var RS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(RS||(RS={}));new Promise(()=>{});function Wg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,Wg(r.props.children,i));return}r.type!==se&&ut(!1),!r.props.index||!r.props.children||ut(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Wg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(this,arguments)}function zI(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function BD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zD(t,e){return t.button===0&&(!e||e==="_self")&&!BD(t)}function qg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function HD(t,e){let n=qg(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)});return n}const WD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],qD=["aria-current","caseSensitive","className","end","style","to","children"],IS="startTransition";function GD(t){let{basename:e,children:n,window:r}=t,s=T.useRef();s.current==null&&(s.current=ZO({window:r,v5Compat:!0}));let i=s.current,[o,a]=T.useState({action:i.action,location:i.location}),l=T.useCallback(c=>{IS in pE?pE[IS](()=>a(c)):a(c)},[a]);return T.useLayoutEffect(()=>i.listen(l),[i,l]),T.createElement(UD,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const KD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ot=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d}=e,h=zI(e,WD),{basename:f}=T.useContext(Ki),p,m=!1;if(typeof c=="string"&&QD.test(c)&&(p=c,KD))try{let _=new URL(window.location.href),y=c.startsWith("//")?new URL(_.protocol+c):new URL(c),S=Q_(y.pathname,f);y.origin===_.origin&&S!=null?c=S+y.search+y.hash:m=!0}catch{}let g=CD(c,{relative:s}),E=YD(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s});function v(_){r&&r(_),_.defaultPrevented||E(_)}return T.createElement("a",eh({},h,{href:p||g,onClick:m||i?r:v,ref:n,target:l}))}),$n=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,children:c}=e,d=zI(e,qD),h=Z_(l,{relative:d.relative}),f=Sn(),p=T.useContext(VI),{navigator:m}=T.useContext(Ki),g=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,E=f.pathname,v=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(E=E.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase());let _=E===g||!o&&E.startsWith(g)&&E.charAt(g.length)==="/",y=v!=null&&(v===g||!o&&v.startsWith(g)&&v.charAt(g.length)==="/"),S=_?r:void 0,w;typeof i=="function"?w=i({isActive:_,isPending:y}):w=[i,_?"active":null,y?"pending":null].filter(Boolean).join(" ");let N=typeof a=="function"?a({isActive:_,isPending:y}):a;return T.createElement(ot,eh({},d,{"aria-current":S,className:w,ref:n,style:N,to:l}),typeof c=="function"?c({isActive:_,isPending:y}):c)});var xS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(xS||(xS={}));var NS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(NS||(NS={}));function YD(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=un(),l=Sn(),c=Z_(t,{relative:o});return T.useCallback(d=>{if(zD(d,n)){d.preventDefault();let h=r!==void 0?r:Jd(l)===Jd(c);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,c,r,s,n,t,i,o])}function XD(t){let e=T.useRef(qg(t)),n=T.useRef(!1),r=Sn(),s=T.useMemo(()=>HD(r.search,n.current?null:e.current),[r.search]),i=un(),o=T.useCallback((a,l)=>{const c=qg(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(t,e){if(!t)throw Ea(e)},Ea=function(t){return new Error("Firebase Database ("+HI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},JD=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ey={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,d=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[d],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(WI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):JD(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new ZD;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZD extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qI=function(t){const e=WI(t);return ey.encodeByteArray(e,!0)},th=function(t){return qI(t).replace(/\./g,"")},nh=function(t){try{return ey.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eM(t){return GI(void 0,t)}function GI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!tM(n)||(t[n]=GI(t[n],e[n]));return t}function tM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rM=()=>nM().__FIREBASE_DEFAULTS__,sM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},iM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nh(t[1]);return e&&JSON.parse(e)},ty=()=>{try{return rM()||sM()||iM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},KI=t=>{var e,n;return(n=(e=ty())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},QI=t=>{const e=KI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},YI=()=>{var t;return(t=ty())===null||t===void 0?void 0:t.config},XI=t=>{var e;return(e=ty())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[th(JSON.stringify(n)),th(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ry(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function oM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function ZI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aM(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ex(){return HI.NODE_ADMIN===!0}function lM(){try{return typeof indexedDB=="object"}catch{return!1}}function cM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=uM,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?dM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Nr(s,a,r)}}function dM(t,e){return t.replace(hM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){return JSON.parse(t)}function Dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=ic(nh(i[0])||""),n=ic(nh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},fM=function(t){const e=tx(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},pM=function(t){const e=tx(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Gg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(bS(i)&&bS(o)){if(!sh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function bS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ul(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,d;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),d=1518500249):(c=i^o^a,d=1859775393):h<60?(c=i&o|a&(i|o),d=2400959708):(c=i^o^a,d=3395469782);const f=(s<<5|s>>>27)+c+l+d+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function gM(t,e){const n=new vM(t,e);return n.subscribe.bind(n)}class vM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_M(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=sm),s.error===void 0&&(s.error=sm),s.complete===void 0&&(s.complete=sm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _M(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sm(){}function yM(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},af=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ny;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TM(e))try{this.getOrInitializeService({instanceIdentifier:hi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=hi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=hi){return this.instances.has(e)}getOptions(e=hi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=hi){return this.component?this.component.multipleInstances?e:hi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function wM(t){return t===hi?void 0:t}function TM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const RM={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},IM=ke.INFO,xM={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},NM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=xM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lf{constructor(e){this.name=e,this._logLevel=IM,this._logHandler=NM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const bM=(t,e)=>e.some(n=>t instanceof n);let AS,kS;function AM(){return AS||(AS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kM(){return kS||(kS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nx=new WeakMap,Kg=new WeakMap,rx=new WeakMap,im=new WeakMap,sy=new WeakMap;function PM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(js(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&nx.set(n,t)}).catch(()=>{}),sy.set(e,t),e}function LM(t){if(Kg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Kg.set(t,e)}let Qg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Kg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return js(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function OM(t){Qg=t(Qg)}function DM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(om(this),e,...n);return rx.set(r,e.sort?e.sort():[e]),js(r)}:kM().includes(t)?function(...e){return t.apply(om(this),e),js(nx.get(this))}:function(...e){return js(t.apply(om(this),e))}}function MM(t){return typeof t=="function"?DM(t):(t instanceof IDBTransaction&&LM(t),bM(t,AM())?new Proxy(t,Qg):t)}function js(t){if(t instanceof IDBRequest)return PM(t);if(im.has(t))return im.get(t);const e=MM(t);return e!==t&&(im.set(t,e),sy.set(e,t)),e}const om=t=>sy.get(t);function jM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=js(o);return r&&o.addEventListener("upgradeneeded",l=>{r(js(o.result),l.oldVersion,l.newVersion,js(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const $M=["get","getKey","getAll","getAllKeys","count"],VM=["put","add","delete","clear"],am=new Map;function PS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=VM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$M.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return am.set(e,i),i}OM(t=>({...t,get:(e,n,r)=>PS(e,n)||t.get(e,n,r),has:(e,n)=>!!PS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(UM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function UM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yg="@firebase/app",LS="0.9.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new lf("@firebase/app"),BM="@firebase/app-compat",zM="@firebase/analytics-compat",HM="@firebase/analytics",WM="@firebase/app-check-compat",qM="@firebase/app-check",GM="@firebase/auth",KM="@firebase/auth-compat",QM="@firebase/database",YM="@firebase/database-compat",XM="@firebase/functions",JM="@firebase/functions-compat",ZM="@firebase/installations",ej="@firebase/installations-compat",tj="@firebase/messaging",nj="@firebase/messaging-compat",rj="@firebase/performance",sj="@firebase/performance-compat",ij="@firebase/remote-config",oj="@firebase/remote-config-compat",aj="@firebase/storage",lj="@firebase/storage-compat",cj="@firebase/firestore",uj="@firebase/firestore-compat",dj="firebase",hj="10.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="[DEFAULT]",fj={[Yg]:"fire-core",[BM]:"fire-core-compat",[HM]:"fire-analytics",[zM]:"fire-analytics-compat",[qM]:"fire-app-check",[WM]:"fire-app-check-compat",[GM]:"fire-auth",[KM]:"fire-auth-compat",[QM]:"fire-rtdb",[YM]:"fire-rtdb-compat",[XM]:"fire-fn",[JM]:"fire-fn-compat",[ZM]:"fire-iid",[ej]:"fire-iid-compat",[tj]:"fire-fcm",[nj]:"fire-fcm-compat",[rj]:"fire-perf",[sj]:"fire-perf-compat",[ij]:"fire-rc",[oj]:"fire-rc-compat",[aj]:"fire-gcs",[lj]:"fire-gcs-compat",[cj]:"fire-fst",[uj]:"fire-fst-compat","fire-js":"fire-js",[dj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,Jg=new Map;function pj(t,e){try{t.container.addComponent(e)}catch(n){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ws(t){const e=t.name;if(Jg.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;Jg.set(e,t);for(const n of ih.values())pj(n,t);return!0}function cf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},$s=new Dc("app","Firebase",mj);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=hj;function sx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Xg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw $s.create("bad-app-name",{appName:String(s)});if(n||(n=YI()),!n)throw $s.create("no-options");const i=ih.get(s);if(i){if(sh(n,i.options)&&sh(r,i.config))return i;throw $s.create("duplicate-app",{appName:s})}const o=new CM(s);for(const l of Jg.values())o.addComponent(l);const a=new gj(n,r,o);return ih.set(s,a),a}function iy(t=Xg){const e=ih.get(t);if(!e&&t===Xg&&YI())return sx();if(!e)throw $s.create("no-app",{appName:t});return e}function zn(t,e,n){var r;let s=(r=fj[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(a.join(" "));return}Ws(new ts(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vj="firebase-heartbeat-database",_j=1,oc="firebase-heartbeat-store";let lm=null;function ix(){return lm||(lm=jM(vj,_j,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oc)}}}).catch(t=>{throw $s.create("idb-open",{originalErrorMessage:t.message})})),lm}async function yj(t){try{return await(await ix()).transaction(oc).objectStore(oc).get(ox(t))}catch(e){if(e instanceof Nr)Pi.warn(e.message);else{const n=$s.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(n.message)}}}async function OS(t,e){try{const r=(await ix()).transaction(oc,"readwrite");await r.objectStore(oc).put(e,ox(t)),await r.done}catch(n){if(n instanceof Nr)Pi.warn(n.message);else{const r=$s.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pi.warn(r.message)}}}function ox(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej=1024,Sj=30*24*60*60*1e3;class wj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Cj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=DS();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=Sj}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=DS(),{heartbeatsToSend:n,unsentEntries:r}=Tj(this._heartbeatsCache.heartbeats),s=th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function DS(){return new Date().toISOString().substring(0,10)}function Tj(t,e=Ej){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),MS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),MS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Cj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lM()?cM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await yj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return OS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return OS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function MS(t){return th(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rj(t){Ws(new ts("platform-logger",e=>new FM(e),"PRIVATE")),Ws(new ts("heartbeat",e=>new wj(e),"PRIVATE")),zn(Yg,LS,t),zn(Yg,LS,"esm2017"),zn("fire-js","")}Rj("");function oy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function jS(t){return t!==void 0&&t.enterprise!==void 0}class Ij{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function ax(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xj=ax,lx=new Dc("auth","Firebase",ax());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new lf("@firebase/auth");function Nj(t,...e){oh.logLevel<=ke.WARN&&oh.warn(`Auth (${Zs}): ${t}`,...e)}function gd(t,...e){oh.logLevel<=ke.ERROR&&oh.error(`Auth (${Zs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw ay(t,...e)}function Er(t,...e){return ay(t,...e)}function cx(t,e,n){const r=Object.assign(Object.assign({},xj()),{[e]:n});return new Dc("auth","Firebase",r).create(e,{appName:t.name})}function bj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(t,"argument-error"),cx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ay(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lx.create(t,...e)}function ce(t,e,...n){if(!t)throw ay(e,...n)}function Hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gd(e),new Error(e)}function ns(t,e){t||Hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Aj(){return $S()==="http:"||$S()==="https:"}function $S(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Aj()||oM()||"connection"in navigator)?navigator.onLine:!0}function Pj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,ns(n>e,"Short delay should be less than long delay!"),this.isMobile=ry()||ZI()}get(){return kj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e){ns(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oj=new Mc(3e4,6e4);function ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ti(t,e,n,r,s={}){return dx(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Sa(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),ux.fetch()(hx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function dx(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Lj),e);try{const s=new Dj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ju(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ju(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ju(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw cx(t,d,c);Gn(t,d)}}catch(s){if(s instanceof Nr)throw s;Gn(t,"network-request-failed",{message:String(s)})}}async function jc(t,e,n,r,s={}){const i=await ti(t,e,n,r,s);return"mfaPendingCredential"in i&&Gn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function hx(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ly(t.config,s):`${t.config.apiScheme}://${s}`}class Dj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Er(this.auth,"network-request-failed")),Oj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Er(t,e,r);return s.customData._tokenResponse=n,s}async function Mj(t,e){return ti(t,"GET","/v2/recaptchaConfig",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jj(t,e){return ti(t,"POST","/v1/accounts:delete",e)}async function $j(t,e){return ti(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Vj(t,e=!1){const n=pt(t),r=await n.getIdToken(e),s=cy(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Il(cm(s.auth_time)),issuedAtTime:Il(cm(s.iat)),expirationTime:Il(cm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function cm(t){return Number(t)*1e3}function cy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{const s=nh(n);return s?JSON.parse(s):(gd("Failed to decode base64 JWT payload"),null)}catch(s){return gd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Fj(t){const e=cy(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&Uj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Uj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ac(t,$j(n,{idToken:r}));ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Wj(i.providerUserInfo):[],a=Hj(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new fx(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function zj(t){const e=pt(t);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Hj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Wj(t){return t.map(e=>{var{providerId:n}=e,r=oy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qj(t,e){const n=await dx(t,{},async()=>{const r=Sa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=hx(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ux.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await qj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new lc;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lc,this.toJSON())}_performRefresh(){return Hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ci{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=oy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Bj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Vj(this,e)}reload(){return zj(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ci(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ac(this,jj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:y,emailVerified:S,isAnonymous:w,providerData:N,stsTokenManager:b}=n;ce(y&&b,e,"internal-error");const k=lc.fromJSON(this.name,b);ce(typeof y=="string",e,"internal-error"),ms(h,e.name),ms(f,e.name),ce(typeof S=="boolean",e,"internal-error"),ce(typeof w=="boolean",e,"internal-error"),ms(p,e.name),ms(m,e.name),ms(g,e.name),ms(E,e.name),ms(v,e.name),ms(_,e.name);const G=new Ci({uid:y,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:w,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:k,createdAt:v,lastLoginAt:_});return N&&Array.isArray(N)&&(G.providerData=N.map(D=>Object.assign({},D))),E&&(G._redirectEventId=E),G}static async _fromIdTokenResponse(e,n,r=!1){const s=new lc;s.updateFromServerResponse(n);const i=new Ci({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ah(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VS=new Map;function Wr(t){ns(t instanceof Function,"Expected a class definition");let e=VS.get(t);return e?(ns(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,VS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}px.type="NONE";const FS=px;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=vd(this.userKey,s.apiKey,i),this.fullPersistenceKey=vd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ci._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Do(Wr(FS),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Wr(FS);const o=vd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){const h=Ci._fromJSON(e,d);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Do(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Do(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(yx(e))return"Blackberry";if(Ex(e))return"Webos";if(uy(e))return"Safari";if((e.includes("chrome/")||gx(e))&&!e.includes("edge/"))return"Chrome";if(_x(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function mx(t=tn()){return/firefox\//i.test(t)}function uy(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gx(t=tn()){return/crios\//i.test(t)}function vx(t=tn()){return/iemobile/i.test(t)}function _x(t=tn()){return/android/i.test(t)}function yx(t=tn()){return/blackberry/i.test(t)}function Ex(t=tn()){return/webos/i.test(t)}function uf(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Gj(t=tn()){var e;return uf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kj(){return aM()&&document.documentMode===10}function Sx(t=tn()){return uf(t)||_x(t)||Ex(t)||yx(t)||/windows phone/i.test(t)||vx(t)}function Qj(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(t,e=[]){let n;switch(t){case"Browser":n=US(tn());break;case"Worker":n=`${US(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yj{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e={}){return ti(t,"GET","/v2/passwordPolicy",ei(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj=6;class Zj{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Jj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new BS(this),this.idTokenSubscription=new BS(this),this.beforeStateQueue=new Yj(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Pj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?pt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Wr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Xj(this),n=new Zj(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wr(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=wx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Nj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function hs(t){return pt(t)}class BS{constructor(e){this.auth=e,this.observer=null,this.addObserver=gM(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Tx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Er("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",t$().appendChild(r)})}function n$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const r$="https://www.google.com/recaptcha/enterprise.js?render=",s$="recaptcha-enterprise",i$="NO_RECAPTCHA";class o${constructor(e){this.type=s$,this.auth=hs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Mj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Ij(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;jS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(i$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&jS(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Tx(r$+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function lh(t,e,n,r=!1){const s=new o$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a$(t,e){const n=cf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(sh(i,e??{}))return s;Gn(s,"already-initialized")}return n.initialize({options:e})}function l$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Wr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function c$(t,e,n){const r=hs(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Cx(e),{host:o,port:a}=u$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||d$()}function Cx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function u$(t){const e=Cx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:zS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:zS(o)}}}function zS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function d$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Hr("not implemented")}_getIdTokenResponse(e){return Hr("not implemented")}_linkToIdToken(e,n){return Hr("not implemented")}_getReauthenticationResolver(e){return Hr("not implemented")}}async function h$(t,e){return ti(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(t,e){return jc(t,"POST","/v1/accounts:signInWithPassword",ei(t,e))}async function f$(t,e){return ti(t,"POST","/v1/accounts:sendOobCode",ei(t,e))}async function p$(t,e){return f$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m$(t,e){return jc(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))}async function g$(t,e){return jc(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends dy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await lh(e,r,"signInWithPassword");return um(e,s)}else return um(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await lh(e,r,"signInWithPassword");return um(e,i)}else return Promise.reject(s)});case"emailLink":return m$(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return h$(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return g$(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(t,e){return jc(t,"POST","/v1/accounts:signInWithIdp",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$="http://localhost";class Li extends dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Li(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=oy(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Li(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mo(e,n)}buildRequest(){const e={requestUri:v$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function y$(t){const e=cl(ul(t)).link,n=e?cl(ul(e)).deep_link_id:null,r=cl(ul(t)).deep_link_id;return(r?cl(ul(r)).link:null)||r||n||e||t}class hy{constructor(e){var n,r,s,i,o,a;const l=cl(ul(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,d=(r=l.oobCode)!==null&&r!==void 0?r:null,h=_$((s=l.mode)!==null&&s!==void 0?s:null);ce(c&&d&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=d,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=y$(e);try{return new hy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,n){return cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hy.parseLink(n);return ce(r,"argument-error"),cc._fromEmailAndCode(e,r.code,r.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends fy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends $c{constructor(){super("facebook.com")}static credential(e){return Li._fromParams({providerId:Vr.PROVIDER_ID,signInMethod:Vr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vr.credentialFromTaggedObject(e)}static credentialFromError(e){return Vr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vr.credential(e.oauthAccessToken)}catch{return null}}}Vr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Li._fromParams({providerId:hr.PROVIDER_ID,signInMethod:hr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return hr.credentialFromTaggedObject(e)}static credentialFromError(e){return hr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return hr.credential(n,r)}catch{return null}}}hr.GOOGLE_SIGN_IN_METHOD="google.com";hr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends $c{constructor(){super("github.com")}static credential(e){return Li._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fr.credential(e.oauthAccessToken)}catch{return null}}}Fr.GITHUB_SIGN_IN_METHOD="github.com";Fr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur extends $c{constructor(){super("twitter.com")}static credential(e,n){return Li._fromParams({providerId:Ur.PROVIDER_ID,signInMethod:Ur.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ur.credentialFromTaggedObject(e)}static credentialFromError(e){return Ur.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ur.credential(n,r)}catch{return null}}}Ur.TWITTER_SIGN_IN_METHOD="twitter.com";Ur.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(t,e){return jc(t,"POST","/v1/accounts:signUp",ei(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ci._fromIdTokenResponse(e,r,s),o=HS(r);return new Oi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=HS(r);return new Oi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function HS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends Nr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ch(e,n,r,s)}}function Rx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(t,i,e,r):i})}async function E$(t,e,n=!1){const r=await ac(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S$(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await ac(t,Rx(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=cy(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Oi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(t,e,n=!1){const r="signIn",s=await Rx(t,r,e),i=await Oi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function w$(t,e){return Ix(hs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t,e,n){var r;ce(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ce(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ce(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ce(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xx(t){const e=hs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C$(t,e,n){var r;const s=hs(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await lh(s,i,"signUpPassword");o=dm(s,c)}else o=dm(s,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const d=await lh(s,i,"signUpPassword");return dm(s,d)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&xx(t),c}),l=await Oi._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function WS(t,e,n){return w$(pt(t),wa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xx(t),r})}async function R$(t,e){const n=pt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&T$(n.auth,s,e);const{email:i}=await p$(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I$(t,e){return pt(t).setPersistence(e)}function x$(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function N$(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function df(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function b$(t){return pt(t).signOut()}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A$(){const t=tn();return uy(t)||uf(t)}const k$=1e3,P$=10;class bx extends Nx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=A$()&&Qj(),this.fallbackToPolling=Sx(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Kj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,P$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},k$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}bx.type="LOCAL";const L$=bx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax extends Nx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Ax.type="SESSION";const py=Ax;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new hf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await O$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}hf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=my("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(d),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sr(){return window}function M$(t){Sr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(){return typeof Sr().WorkerGlobalScope<"u"&&typeof Sr().importScripts=="function"}async function j$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function V$(){return kx()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firebaseLocalStorageDb",F$=1,dh="firebaseLocalStorage",Lx="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function ff(t,e){return t.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function U$(){const t=indexedDB.deleteDatabase(Px);return new Vc(t).toPromise()}function ev(){const t=indexedDB.open(Px,F$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dh,{keyPath:Lx})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await U$(),e(await ev()))})})}async function qS(t,e,n){const r=ff(t,!0).put({[Lx]:e,value:n});return new Vc(r).toPromise()}async function B$(t,e){const n=ff(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function GS(t,e){const n=ff(t,!0).delete(e);return new Vc(n).toPromise()}const z$=800,H$=3;class Ox{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ev(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>H$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=hf._getInstance(V$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await j$(),!this.activeServiceWorker)return;this.sender=new D$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ev();return await qS(e,uh,"1"),await GS(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>qS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>B$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>GS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=ff(s,!1).getAll();return new Vc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),z$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ox.type="LOCAL";const W$=Ox;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t,e){return e?Wr(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function q$(t){return Ix(t.auth,new gy(t),t.bypassAuthState)}function G$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),S$(n,new gy(t),t.bypassAuthState)}async function K$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),E$(n,new gy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return q$;case"linkViaPopup":case"linkViaRedirect":return K$;case"reauthViaPopup":case"reauthViaRedirect":return G$;default:Gn(this.auth,"internal-error")}}resolve(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q$=new Mc(2e3,1e4);class Ro extends Mx{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const e=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Er(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Er(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Er(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q$.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$="pendingRedirect",_d=new Map;class X$ extends Mx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const r=await J$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function J$(t,e){const n=$x(e),r=jx(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function Z$(t,e){return jx(t)._set($x(e),"true")}function eV(t,e){_d.set(t._key(),e)}function jx(t){return Wr(t._redirectPersistence)}function $x(t){return vd(Y$,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t,e,n){return tV(t,e,n)}async function tV(t,e,n){const r=hs(t);bj(t,e,fy),await r._initializationPromise;const s=Dx(r,n);return await Z$(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function Vx(t,e){return await hs(t)._initializationPromise,Fx(t,e,!1)}async function Fx(t,e,n=!1){const r=hs(t),s=Dx(r,e),o=await new X$(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nV=10*60*1e3;class rV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ux(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Er(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nV&&this.cachedEventUids.clear(),this.cachedEventUids.has(KS(e))}saveEventToCache(e){this.cachedEventUids.add(KS(e)),this.lastProcessedEventTime=Date.now()}}function KS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ux({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ux(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iV(t,e={}){return ti(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aV=/^https?/;async function lV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iV(t);for(const n of e)try{if(cV(n))return}catch{}Gn(t,"unauthorized-domain")}function cV(t){const e=Zg(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!aV.test(n))return!1;if(oV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=new Mc(3e4,6e4);function QS(){const t=Sr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function dV(t){return new Promise((e,n)=>{var r,s,i;function o(){QS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{QS(),n(Er(t,"network-request-failed"))},timeout:uV.get()})}if(!((s=(r=Sr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Sr().gapi)===null||i===void 0)&&i.load)o();else{const a=n$("iframefcb");return Sr()[a]=()=>{gapi.load?o():n(Er(t,"network-request-failed"))},Tx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yd=null,e})}let yd=null;function hV(t){return yd=yd||dV(t),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=new Mc(5e3,15e3),pV="__/auth/iframe",mV="emulator/auth/iframe",gV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _V(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ly(e,mV):`https://${t.config.authDomain}/${pV}`,r={apiKey:e.apiKey,appName:t.name,v:Zs},s=vV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Sa(r).slice(1)}`}async function yV(t){const e=await hV(t),n=Sr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:_V(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Er(t,"network-request-failed"),a=Sr().setTimeout(()=>{i(o)},fV.get());function l(){Sr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SV=500,wV=600,TV="_blank",CV="http://localhost";class YS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RV(t,e,n,r=SV,s=wV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},EV),{width:r.toString(),height:s.toString(),top:i,left:o}),c=tn().toLowerCase();n&&(a=gx(c)?TV:n),mx(c)&&(e=e||CV,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(Gj(c)&&a!=="_self")return IV(e||"",a),new YS(null);const h=window.open(e||"",a,d);ce(h,t,"popup-blocked");try{h.focus()}catch{}return new YS(h)}function IV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xV="__/auth/handler",NV="emulator/auth/handler",bV=encodeURIComponent("fac");async function XS(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zs,eventId:s};if(e instanceof fy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Gg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries(i||{}))o[d]=h}if(e instanceof $c){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${bV}=${encodeURIComponent(l)}`:"";return`${AV(t)}?${Sa(a).slice(1)}${c}`}function AV({config:t}){return t.emulator?ly(t,NV):`https://${t.authDomain}/${xV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class kV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=py,this._completeRedirectFn=Fx,this._overrideRedirectResult=eV}async _openPopup(e,n,r,s){var i;ns((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await XS(e,n,r,Zg(),s);return RV(e,o,my())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await XS(e,n,r,Zg(),s);return M$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ns(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yV(e),r=new rV(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[hm];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Sx()||uy()||uf()}}const PV=kV;var JS="@firebase/auth",ZS="1.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function DV(t){Ws(new ts("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wx(t)},c=new e$(r,s,i,l);return l$(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ws(new ts("auth-internal",e=>{const n=hs(e.getProvider("auth").getImmediate());return(r=>new LV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(JS,ZS,OV(t)),zn(JS,ZS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=5*60,jV=XI("authIdTokenMaxAge")||MV;let ew=null;const $V=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>jV)return;const s=n==null?void 0:n.token;ew!==s&&(ew=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function rs(t=iy()){const e=cf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=a$(t,{popupRedirectResolver:PV,persistence:[W$,L$,py]}),r=XI("authTokenSyncURL");if(r){const i=$V(r);N$(n,i,()=>i(n.currentUser)),x$(n,o=>i(o))}const s=KI("auth");return s&&c$(n,`http://${s}`),n}DV("Browser");function VV(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var FV=VV,Se=FV;function UV(t){return!!t&&typeof t.then=="function"}var Ge=UV;function BV(t,e){if(t!=null)return t;throw Se(e??"Got unexpected null or undefined")}var tt=BV;function _e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class pf{getValue(){throw Se("BaseLoadable")}toPromise(){throw Se("BaseLoadable")}valueMaybe(){throw Se("BaseLoadable")}valueOrThrow(){throw Se(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Se("BaseLoadable")}promiseOrThrow(){throw Se(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Se("BaseLoadable")}errorOrThrow(){throw Se(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Se("BaseLoadable")}}class zV extends pf{constructor(e){super(),_e(this,"state","hasValue"),_e(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Ge(n)?Di(n):Zo(n)?n:Fc(n)}catch(n){return Ge(n)?Di(n.next(()=>this.map(e))):mf(n)}}}class HV extends pf{constructor(e){super(),_e(this,"state","hasError"),_e(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class Bx extends pf{constructor(e){super(),_e(this,"state","loading"),_e(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Di(this.contents.then(n=>{const r=e(n);if(Zo(r)){const s=r;switch(s.state){case"hasValue":return s.contents;case"hasError":throw s.contents;case"loading":return s.contents}}return r}).catch(n=>{if(Ge(n))return n.then(()=>this.map(e).contents);throw n}))}}function Fc(t){return Object.freeze(new zV(t))}function mf(t){return Object.freeze(new HV(t))}function Di(t){return Object.freeze(new Bx(t))}function zx(){return Object.freeze(new Bx(new Promise(()=>{})))}function WV(t){return t.every(e=>e.state==="hasValue")?Fc(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?mf(tt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Di(Promise.all(t.map(e=>e.contents)))}function Hx(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(s=>t[s])).map(s=>Zo(s)?s:Ge(s)?Di(s):Fc(s)),r=WV(n);return Array.isArray(t)?r:r.map(s=>Object.getOwnPropertyNames(t).reduce((i,o,a)=>({...i,[o]:s[a]}),{}))}function Zo(t){return t instanceof pf}const qV={of:t=>Ge(t)?Di(t):Zo(t)?t:Fc(t),error:t=>mf(t),loading:()=>zx(),all:Hx,isLoadable:Zo};var Qi={loadableWithValue:Fc,loadableWithError:mf,loadableWithPromise:Di,loadableLoading:zx,loadableAll:Hx,isLoadable:Zo,RecoilLoadable:qV},GV=Qi.loadableWithValue,KV=Qi.loadableWithError,QV=Qi.loadableWithPromise,YV=Qi.loadableLoading,XV=Qi.loadableAll,JV=Qi.isLoadable,ZV=Qi.RecoilLoadable,Uc=Object.freeze({__proto__:null,loadableWithValue:GV,loadableWithError:KV,loadableWithPromise:QV,loadableLoading:YV,loadableAll:XV,isLoadable:JV,RecoilLoadable:ZV});const tv={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function e2(t,e){var n,r;const s=(n=process.env[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(s==null||s==="")return;if(!["true","false"].includes(s))throw Se(`({}).${t} value must be 'true', 'false', or empty: ${s}`);e(s==="true")}function t2(t,e){var n;const r=(n=process.env[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function n2(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(e2("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{tv.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),t2("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{tv.RECOIL_GKS_ENABLED.add(n)})}))}n2();var Ta=tv;function gf(t){return Ta.RECOIL_GKS_ENABLED.has(t)}gf.setPass=t=>{Ta.RECOIL_GKS_ENABLED.add(t)};gf.setFail=t=>{Ta.RECOIL_GKS_ENABLED.delete(t)};gf.clear=()=>{Ta.RECOIL_GKS_ENABLED.clear()};var Ue=gf;function r2(t,e,{error:n}={}){return null}var s2=r2,vy=s2,fm,pm,mm;const i2=(fm=fe.createMutableSource)!==null&&fm!==void 0?fm:fe.unstable_createMutableSource,Wx=(pm=fe.useMutableSource)!==null&&pm!==void 0?pm:fe.unstable_useMutableSource,qx=(mm=fe.useSyncExternalStore)!==null&&mm!==void 0?mm:fe.unstable_useSyncExternalStore;function o2(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function a2(){return Ue("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ue("recoil_sync_external_store")&&qx!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ue("recoil_mutable_source")&&Wx!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ue("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ue("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function l2(){return!1}var Bc={createMutableSource:i2,useMutableSource:Wx,useSyncExternalStore:qx,currentRendererSupportsUseSyncExternalStore:o2,reactMode:a2,isFastRefreshEnabled:l2};class _y{constructor(e){_e(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class Gx extends _y{}class Kx extends _y{}function c2(t){return t instanceof Gx||t instanceof Kx}var vf={AbstractRecoilValue:_y,RecoilState:Gx,RecoilValueReadOnly:Kx,isRecoilValue:c2},u2=vf.AbstractRecoilValue,d2=vf.RecoilState,h2=vf.RecoilValueReadOnly,f2=vf.isRecoilValue,ea=Object.freeze({__proto__:null,AbstractRecoilValue:u2,RecoilState:d2,RecoilValueReadOnly:h2,isRecoilValue:f2});function p2(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var _f=p2;class Qx{}const m2=new Qx,Mi=new Map,yy=new Map;function g2(t){return _f(t,e=>tt(yy.get(e)))}function v2(t){if(Mi.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function _2(t){Ta.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&v2(t.key),Mi.set(t.key,t);const e=t.set==null?new ea.RecoilValueReadOnly(t.key):new ea.RecoilState(t.key);return yy.set(t.key,e),e}class Yx extends Error{}function y2(t){const e=Mi.get(t);if(e==null)throw new Yx(`Missing definition for RecoilValue: "${t}""`);return e}function E2(t){return Mi.get(t)}const hh=new Map;function S2(t){var e;if(!Ue("recoil_memory_managament_2020"))return;const n=Mi.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Mi.delete(t),(r=Xx(t))===null||r===void 0||r(),hh.delete(t)}}function w2(t,e){Ue("recoil_memory_managament_2020")&&(e===void 0?hh.delete(t):hh.set(t,e))}function Xx(t){return hh.get(t)}var wn={nodes:Mi,recoilValues:yy,registerNode:_2,getNode:y2,getNodeMaybe:E2,deleteNodeConfigIfPossible:S2,setConfigDeletionHandler:w2,getConfigDeletionHandler:Xx,recoilValuesForKeys:g2,NodeMissingError:Yx,DefaultValue:Qx,DEFAULT_VALUE:m2};function T2(t,e){e()}var C2={enqueueExecution:T2};function R2(t,e){return e={exports:{}},t(e,e.exports),e.exports}var I2=R2(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},n={},r=5,s=Math.pow(2,r),i=s-1,o=s/2,a=s/4,l={},c=function(C){return function(){return C}},d=n.hash=function(I){var C=typeof I>"u"?"undefined":e(I);if(C==="number")return I;C!=="string"&&(I+="");for(var V=0,Y=0,X=I.length;Y<X;++Y){var ee=I.charCodeAt(Y);V=(V<<5)-V+ee|0}return V},h=function(C){return C-=C>>1&1431655765,C=(C&858993459)+(C>>2&858993459),C=C+(C>>4)&252645135,C+=C>>8,C+=C>>16,C&127},f=function(C,V){return V>>>C&i},p=function(C){return 1<<C},m=function(C,V){return h(C&V-1)},g=function(C,V,Y,X){var ee=X;if(!C){var he=X.length;ee=new Array(he);for(var ue=0;ue<he;++ue)ee[ue]=X[ue]}return ee[V]=Y,ee},E=function(C,V,Y){var X=Y.length-1,ee=0,he=0,ue=Y;if(C)ee=he=V;else for(ue=new Array(X);ee<V;)ue[he++]=Y[ee++];for(++ee;ee<=X;)ue[he++]=Y[ee++];return C&&(ue.length=X),ue},v=function(C,V,Y,X){var ee=X.length;if(C){for(var he=ee;he>=V;)X[he--]=X[he];return X[V]=Y,X}for(var ue=0,de=0,Ce=new Array(ee+1);ue<V;)Ce[de++]=X[ue++];for(Ce[V]=Y;ue<ee;)Ce[++de]=X[ue++];return Ce},_=1,y=2,S=3,w=4,N={__hamt_isEmpty:!0},b=function(C){return C===N||C&&C.__hamt_isEmpty},k=function(C,V,Y,X){return{type:_,edit:C,hash:V,key:Y,value:X,_modify:M}},G=function(C,V,Y){return{type:y,edit:C,hash:V,children:Y,_modify:O}},D=function(C,V,Y){return{type:S,edit:C,mask:V,children:Y,_modify:W}},P=function(C,V,Y){return{type:w,edit:C,size:V,children:Y,_modify:ie}},x=function(C){return C===N||C.type===_||C.type===y},A=function(C,V,Y,X,ee){for(var he=[],ue=X,de=0,Ce=0;ue;++Ce)ue&1&&(he[Ce]=ee[de++]),ue>>>=1;return he[V]=Y,P(C,de+1,he)},H=function(C,V,Y,X){for(var ee=new Array(V-1),he=0,ue=0,de=0,Ce=X.length;de<Ce;++de)if(de!==Y){var Ze=X[de];Ze&&!b(Ze)&&(ee[he++]=Ze,ue|=1<<de)}return D(C,ue,ee)},re=function I(C,V,Y,X,ee,he){if(Y===ee)return G(C,Y,[he,X]);var ue=f(V,Y),de=f(V,ee);return D(C,p(ue)|p(de),ue===de?[I(C,V+r,Y,X,ee,he)]:ue<de?[X,he]:[he,X])},Ee=function(C,V,Y,X,ee,he,ue,de){for(var Ce=ee.length,Ze=0;Ze<Ce;++Ze){var hn=ee[Ze];if(Y(ue,hn.key)){var wt=hn.value,Dn=he(wt);return Dn===wt?ee:Dn===l?(--de.value,E(C,Ze,ee)):g(C,Ze,k(V,X,ue,Dn),ee)}}var Qn=he();return Qn===l?ee:(++de.value,g(C,Ce,k(V,X,ue,Qn),ee))},we=function(C,V){return C===V.edit},M=function(C,V,Y,X,ee,he,ue){if(V(he,this.key)){var de=X(this.value);return de===this.value?this:de===l?(--ue.value,N):we(C,this)?(this.value=de,this):k(C,ee,he,de)}var Ce=X();return Ce===l?this:(++ue.value,re(C,Y,this.hash,this,ee,k(C,ee,he,Ce)))},O=function(C,V,Y,X,ee,he,ue){if(ee===this.hash){var de=we(C,this),Ce=Ee(de,C,V,this.hash,this.children,X,he,ue);return Ce===this.children?this:Ce.length>1?G(C,this.hash,Ce):Ce[0]}var Ze=X();return Ze===l?this:(++ue.value,re(C,Y,this.hash,this,ee,k(C,ee,he,Ze)))},W=function(C,V,Y,X,ee,he,ue){var de=this.mask,Ce=this.children,Ze=f(Y,ee),hn=p(Ze),wt=m(de,hn),Dn=de&hn,Qn=Dn?Ce[wt]:N,no=Qn._modify(C,V,Y+r,X,ee,he,ue);if(Qn===no)return this;var yu=we(C,this),Oa=de,Da=void 0;if(Dn&&b(no)){if(Oa&=~hn,!Oa)return N;if(Ce.length<=2&&x(Ce[wt^1]))return Ce[wt^1];Da=E(yu,wt,Ce)}else if(!Dn&&!b(no)){if(Ce.length>=o)return A(C,Ze,no,de,Ce);Oa|=hn,Da=v(yu,wt,no,Ce)}else Da=g(yu,wt,no,Ce);return yu?(this.mask=Oa,this.children=Da,this):D(C,Oa,Da)},ie=function(C,V,Y,X,ee,he,ue){var de=this.size,Ce=this.children,Ze=f(Y,ee),hn=Ce[Ze],wt=(hn||N)._modify(C,V,Y+r,X,ee,he,ue);if(hn===wt)return this;var Dn=we(C,this),Qn=void 0;if(b(hn)&&!b(wt))++de,Qn=g(Dn,Ze,wt,Ce);else if(!b(hn)&&b(wt)){if(--de,de<=a)return H(C,de,Ze,Ce);Qn=g(Dn,Ze,N,Ce)}else Qn=g(Dn,Ze,wt,Ce);return Dn?(this.size=de,this.children=Qn,this):P(C,de,Qn)};N._modify=function(I,C,V,Y,X,ee,he){var ue=Y();return ue===l?N:(++he.value,k(I,X,ee,ue))};function R(I,C,V,Y,X){this._editable=I,this._edit=C,this._config=V,this._root=Y,this._size=X}R.prototype.setTree=function(I,C){return this._editable?(this._root=I,this._size=C,this):I===this._root?this:new R(this._editable,this._edit,this._config,I,C)};var j=n.tryGetHash=function(I,C,V,Y){for(var X=Y._root,ee=0,he=Y._config.keyEq;;)switch(X.type){case _:return he(V,X.key)?X.value:I;case y:{if(C===X.hash)for(var ue=X.children,de=0,Ce=ue.length;de<Ce;++de){var Ze=ue[de];if(he(V,Ze.key))return Ze.value}return I}case S:{var hn=f(ee,C),wt=p(hn);if(X.mask&wt){X=X.children[m(X.mask,wt)],ee+=r;break}return I}case w:{if(X=X.children[f(ee,C)],X){ee+=r;break}return I}default:return I}};R.prototype.tryGetHash=function(I,C,V){return j(I,C,V,this)};var $=n.tryGet=function(I,C,V){return j(I,V._config.hash(C),C,V)};R.prototype.tryGet=function(I,C){return $(I,C,this)};var ne=n.getHash=function(I,C,V){return j(void 0,I,C,V)};R.prototype.getHash=function(I,C){return ne(I,C,this)},n.get=function(I,C){return j(void 0,C._config.hash(I),I,C)},R.prototype.get=function(I,C){return $(C,I,this)};var J=n.has=function(I,C,V){return j(l,I,C,V)!==l};R.prototype.hasHash=function(I,C){return J(I,C,this)};var ve=n.has=function(I,C){return J(C._config.hash(I),I,C)};R.prototype.has=function(I){return ve(I,this)};var Te=function(C,V){return C===V};n.make=function(I){return new R(0,0,{keyEq:I&&I.keyEq||Te,hash:I&&I.hash||d},N,0)},n.empty=n.make();var oe=n.isEmpty=function(I){return I&&!!b(I._root)};R.prototype.isEmpty=function(){return oe(this)};var Xe=n.modifyHash=function(I,C,V,Y){var X={value:Y._size},ee=Y._root._modify(Y._editable?Y._edit:NaN,Y._config.keyEq,0,I,C,V,X);return Y.setTree(ee,X.value)};R.prototype.modifyHash=function(I,C,V){return Xe(V,I,C,this)};var St=n.modify=function(I,C,V){return Xe(I,V._config.hash(C),C,V)};R.prototype.modify=function(I,C){return St(C,I,this)};var $e=n.setHash=function(I,C,V,Y){return Xe(c(V),I,C,Y)};R.prototype.setHash=function(I,C,V){return $e(I,C,V,this)};var Je=n.set=function(I,C,V){return $e(V._config.hash(I),I,C,V)};R.prototype.set=function(I,C){return Je(I,C,this)};var On=c(l),Lr=n.removeHash=function(I,C,V){return Xe(On,I,C,V)};R.prototype.removeHash=R.prototype.deleteHash=function(I,C){return Lr(I,C,this)};var rn=n.remove=function(I,C){return Lr(C._config.hash(I),I,C)};R.prototype.remove=R.prototype.delete=function(I){return rn(I,this)};var Vt=n.beginMutation=function(I){return new R(I._editable+1,I._edit+1,I._config,I._root,I._size)};R.prototype.beginMutation=function(){return Vt(this)};var _u=n.endMutation=function(I){return I._editable=I._editable&&I._editable-1,I};R.prototype.endMutation=function(){return _u(this)};var vP=n.mutate=function(I,C){var V=Vt(C);return I(V),_u(V)};R.prototype.mutate=function(I){return vP(I,this)};var xp=function(C){return C&&lE(C[0],C[1],C[2],C[3],C[4])},lE=function(C,V,Y,X,ee){for(;Y<C;){var he=V[Y++];if(he&&!b(he))return cE(he,X,[C,V,Y,X,ee])}return xp(ee)},cE=function(C,V,Y){switch(C.type){case _:return{value:V(C),rest:Y};case y:case w:case S:var X=C.children;return lE(X.length,X,0,V,Y);default:return xp(Y)}},_P={done:!0};function Np(I){this.v=I}Np.prototype.next=function(){if(!this.v)return _P;var I=this.v;return this.v=xp(I.rest),I},Np.prototype[Symbol.iterator]=function(){return this};var bp=function(C,V){return new Np(cE(C._root,V))},yP=function(C){return[C.key,C.value]},EP=n.entries=function(I){return bp(I,yP)};R.prototype.entries=R.prototype[Symbol.iterator]=function(){return EP(this)};var SP=function(C){return C.key},wP=n.keys=function(I){return bp(I,SP)};R.prototype.keys=function(){return wP(this)};var TP=function(C){return C.value},CP=n.values=R.prototype.values=function(I){return bp(I,TP)};R.prototype.values=function(){return CP(this)};var uE=n.fold=function(I,C,V){var Y=V._root;if(Y.type===_)return I(C,Y.value,Y.key);for(var X=[Y.children],ee=void 0;ee=X.pop();)for(var he=0,ue=ee.length;he<ue;){var de=ee[he++];de&&de.type&&(de.type===_?C=I(C,de.value,de.key):X.push(de.children))}return C};R.prototype.fold=function(I,C){return uE(I,C,this)};var RP=n.forEach=function(I,C){return uE(function(V,Y,X){return I(Y,X,C)},null,C)};R.prototype.forEach=function(I){return RP(I,this)};var IP=n.count=function(I){return I._size};R.prototype.count=function(){return IP(this)},Object.defineProperty(R.prototype,"size",{get:R.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class x2{constructor(e){_e(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Sy(this)}toMap(){return new Map(this._map)}}class Ey{constructor(e){if(_e(this,"_hamt",I2.empty.beginMutation()),e instanceof Ey){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Sy(this)}toMap(){return new Map(this._hamt)}}function Sy(t){return Ue("recoil_hamt_2020")?new Ey(t):new x2(t)}var N2={persistentMap:Sy},b2=N2.persistentMap,A2=Object.freeze({__proto__:null,persistentMap:b2});function k2(t,...e){const n=new Set;e:for(const r of t){for(const s of e)if(s.has(r))continue e;n.add(r)}return n}var xl=k2;function P2(t,e){const n=new Map;return t.forEach((r,s)=>{n.set(s,e(r,s))}),n}var fh=P2;function L2(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function O2(t){return{nodeDeps:fh(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:fh(t.nodeToNodeSubscriptions,e=>new Set(e))}}function gm(t,e,n,r){const{nodeDeps:s,nodeToNodeSubscriptions:i}=n,o=s.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;s.set(t,e);const a=o==null?e:xl(e,o);for(const l of a)i.has(l)||i.set(l,new Set),tt(i.get(l)).add(t);if(o){const l=xl(o,e);for(const c of l){if(!i.has(c))return;const d=tt(i.get(c));d.delete(t),d.size===0&&i.delete(c)}}}function D2(t,e,n,r){var s,i,o,a;const l=n.getState();r===l.currentTree.version||r===((s=l.nextTree)===null||s===void 0?void 0:s.version)||((i=l.previousTree)===null||i===void 0||i.version);const c=n.getGraph(r);if(gm(t,e,c),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const h=n.getGraph(l.currentTree.version);gm(t,e,h,c)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var d;const h=(d=l.nextTree)===null||d===void 0?void 0:d.version;if(h!==void 0){const f=n.getGraph(h);gm(t,e,f,c)}}}var zc={cloneGraph:O2,graph:L2,saveDepsToStore:D2};let M2=0;const j2=()=>M2++;let $2=0;const V2=()=>$2++;let F2=0;const U2=()=>F2++;var yf={getNextTreeStateVersion:j2,getNextStoreID:V2,getNextComponentID:U2};const{persistentMap:tw}=A2,{graph:B2}=zc,{getNextTreeStateVersion:Jx}=yf;function Zx(){const t=Jx();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:tw(),nonvalidatedAtoms:tw()}}function z2(){const t=Zx();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,B2()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var e1={makeEmptyTreeState:Zx,makeEmptyStoreState:z2,getNextTreeStateVersion:Jx};class t1{}function H2(){return new t1}var Ef={RetentionZone:t1,retentionZone:H2};function W2(t,e){const n=new Set(t);return n.add(e),n}function q2(t,e){const n=new Set(t);return n.delete(e),n}function G2(t,e,n){const r=new Map(t);return r.set(e,n),r}function K2(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function Q2(t,e){const n=new Map(t);return n.delete(e),n}function Y2(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var n1={setByAddingToSet:W2,setByDeletingFromSet:q2,mapBySettingInMap:G2,mapByUpdatingInMap:K2,mapByDeletingFromMap:Q2,mapByDeletingMultipleFromMap:Y2};function*X2(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var wy=X2;function J2(t,e){return new Proxy(t,{get:(r,s)=>(!(s in r)&&s in e&&(r[s]=e[s]()),r[s]),ownKeys:r=>Object.keys(r)})}var r1=J2;const{getNode:Hc,getNodeMaybe:Z2,recoilValuesForKeys:nw}=wn,{RetentionZone:rw}=Ef,{setByAddingToSet:eF}=n1,tF=Object.freeze(new Set);class nF extends Error{}function rF(t,e,n){if(!Ue("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function s(i){let o=r.get(i);o||r.set(i,o=new Set),o.add(e)}if(n instanceof rw)s(n);else if(Array.isArray(n))for(const i of n)s(i);return()=>{if(!Ue("recoil_memory_managament_2020"))return;const{retention:i}=t.getState();function o(a){const l=i.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&i.nodesRetainedByZone.delete(a)}if(n instanceof rw)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function Ty(t,e,n,r){const s=t.getState();if(s.nodeCleanupFunctions.has(n))return;const i=Hc(n),o=rF(t,n,i.retainedBy),a=i.init(t,e,r);s.nodeCleanupFunctions.set(n,()=>{a(),o()})}function sF(t,e,n){Ty(t,t.getState().currentTree,e,n)}function iF(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function oF(t,e,n){return Ty(t,e,n,"get"),Hc(n).get(t,e)}function s1(t,e,n){return Hc(n).peek(t,e)}function aF(t,e,n){var r;const s=Z2(e);return s==null||(r=s.invalidate)===null||r===void 0||r.call(s,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:eF(t.dirtyAtoms,e)}}function lF(t,e,n,r){const s=Hc(n);if(s.set==null)throw new nF(`Attempt to set read-only RecoilValue: ${n}`);const i=s.set;return Ty(t,e,n,"set"),i(t,e,r)}function cF(t,e,n){const r=t.getState(),s=t.getGraph(e.version),i=Hc(n).nodeType;return r1({type:i},{loadable:()=>s1(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>i==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return nw((o=s.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:nw(wy(i1(t,e,new Set([n])),l=>l!==n)),components:_f((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function i1(t,e,n){const r=new Set,s=Array.from(n),i=t.getGraph(e.version);for(let a=s.pop();a;a=s.pop()){var o;r.add(a);const l=(o=i.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:tF;for(const c of l)r.has(c)||s.push(c)}return r}var ni={getNodeLoadable:oF,peekNodeLoadable:s1,setNodeValue:lF,initializeNode:sF,cleanUpNode:iF,setUnvalidatedAtomValue_DEPRECATED:aF,peekNodeInfo:cF,getDownstreamNodes:i1};let o1=null;function uF(t){o1=t}function dF(){var t;(t=o1)===null||t===void 0||t()}var a1={setInvalidateMemoizedSnapshot:uF,invalidateMemoizedSnapshot:dF};const{getDownstreamNodes:hF,getNodeLoadable:l1,setNodeValue:fF}=ni,{getNextComponentID:pF}=yf,{getNode:mF,getNodeMaybe:c1}=wn,{DefaultValue:Cy}=wn,{reactMode:gF}=Bc,{AbstractRecoilValue:vF,RecoilState:_F,RecoilValueReadOnly:yF,isRecoilValue:EF}=ea,{invalidateMemoizedSnapshot:SF}=a1;function wF(t,{key:e},n=t.getState().currentTree){var r,s;const i=t.getState();n.version===i.currentTree.version||n.version===((r=i.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(s=i.previousTree)===null||s===void 0||s.version);const o=l1(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function TF(t,e){const n=t.clone();return e.forEach((r,s)=>{r.state==="hasValue"&&r.contents instanceof Cy?n.delete(s):n.set(s,r)}),n}function CF(t,e,{key:n},r){if(typeof r=="function"){const s=l1(t,e,n);if(s.state==="loading"){const i=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Se(i)}else if(s.state==="hasError")throw s.contents;return r(s.contents)}else return r}function RF(t,e,n){if(n.type==="set"){const{recoilValue:s,valueOrUpdater:i}=n,o=CF(t,e,s,i),a=fF(t,e,s.key,o);for(const[l,c]of a.entries())nv(e,l,c)}else if(n.type==="setLoadable"){const{recoilValue:{key:s},loadable:i}=n;nv(e,s,i)}else if(n.type==="markModified"){const{recoilValue:{key:s}}=n;e.dirtyAtoms.add(s)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:s},unvalidatedValue:i}=n,o=c1(s);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(s),e.nonvalidatedAtoms.set(s,i),e.dirtyAtoms.add(s)}else vy(`Unknown action ${n.type}`)}function nv(t,e,n){n.state==="hasValue"&&n.contents instanceof Cy?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function u1(t,e){t.replaceState(n=>{const r=d1(n);for(const s of e)RF(t,r,s);return h1(t,r),SF(),r})}function Sf(t,e){if(Nl.length){const n=Nl[Nl.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else u1(t,[e])}const Nl=[];function IF(){const t=new Map;return Nl.push(t),()=>{for(const[e,n]of t)u1(e,n);Nl.pop()}}function d1(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function h1(t,e){const n=hF(t,e,e.dirtyAtoms);for(const i of n){var r,s;(r=c1(i))===null||r===void 0||(s=r.invalidate)===null||s===void 0||s.call(r,e)}}function f1(t,e,n){Sf(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function xF(t,e,n){if(n instanceof Cy)return f1(t,e,n);Sf(t,{type:"setLoadable",recoilValue:e,loadable:n})}function NF(t,e){Sf(t,{type:"markModified",recoilValue:e})}function bF(t,e,n){Sf(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function AF(t,{key:e},n,r=null){const s=pF(),i=t.getState();i.nodeToComponentSubscriptions.has(e)||i.nodeToComponentSubscriptions.set(e,new Map),tt(i.nodeToComponentSubscriptions.get(e)).set(s,[r??"<not captured>",n]);const o=gF();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(s)||(l.delete(s),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function kF(t,e){var n;const{currentTree:r}=t.getState(),s=mF(e.key);(n=s.clearCache)===null||n===void 0||n.call(s,t,r)}var br={RecoilValueReadOnly:yF,AbstractRecoilValue:vF,RecoilState:_F,getRecoilValueAsLoadable:wF,setRecoilValue:f1,setRecoilValueLoadable:xF,markRecoilValueModified:NF,setUnvalidatedRecoilValue:bF,subscribeToRecoilValue:AF,isRecoilValue:EF,applyAtomValueWrites:TF,batchStart:IF,writeLoadableToTreeState:nv,invalidateDownstreams:h1,copyTreeState:d1,refreshRecoilValue:kF};function PF(t,e,n){const r=t.entries();let s=r.next();for(;!s.done;){const i=s.value;if(e.call(n,i[1],i[0],t))return!0;s=r.next()}return!1}var LF=PF;const{cleanUpNode:OF}=ni,{deleteNodeConfigIfPossible:DF,getNode:p1}=wn,{RetentionZone:m1}=Ef,MF=12e4,g1=new Set;function v1(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const s=new Set;for(const o of e)if(o instanceof m1)for(const a of FF(n,o))s.add(a);else s.add(o);const i=jF(t,s);for(const o of i)VF(t,r,o)}function jF(t,e){const n=t.getState(),r=n.currentTree,s=t.getGraph(r.version),i=new Set,o=new Set;return a(e),i;function a(l){const c=new Set,d=$F(t,r,l,i,o);for(const m of d){var h;if(p1(m).retainedBy==="recoilRoot"){o.add(m);continue}if(((h=n.retention.referenceCounts.get(m))!==null&&h!==void 0?h:0)>0){o.add(m);continue}if(_1(m).some(E=>n.retention.referenceCounts.get(E))){o.add(m);continue}const g=s.nodeToNodeSubscriptions.get(m);if(g&&LF(g,E=>o.has(E))){o.add(m);continue}i.add(m),c.add(m)}const f=new Set;for(const m of c)for(const g of(p=s.nodeDeps.get(m))!==null&&p!==void 0?p:g1){var p;i.has(g)||f.add(g)}f.size&&a(f)}}function $F(t,e,n,r,s){const i=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(tt(n.values().next().value));return o;function l(c){if(r.has(c)||s.has(c)){n.delete(c);return}if(a.has(c))return;const d=i.nodeToNodeSubscriptions.get(c);if(d)for(const h of d)l(h);a.add(c),n.delete(c),o.push(c)}}function VF(t,e,n){if(!Ue("recoil_memory_managament_2020"))return;OF(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const s=_1(n);for(const l of s){var i;(i=r.retention.nodesRetainedByZone.get(l))===null||i===void 0||i.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const c of l){var a;(a=o.nodeToNodeSubscriptions.get(c))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}DF(n)}function FF(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:g1}function _1(t){const e=p1(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof m1?[e]:e}function UF(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):v1(t,new Set([e]))}function BF(t,e,n){var r;if(!Ue("recoil_memory_managament_2020"))return;const s=t.getState().retention.referenceCounts,i=((r=s.get(e))!==null&&r!==void 0?r:0)+n;i===0?y1(t,e):s.set(e,i)}function y1(t,e){if(!Ue("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),UF(t,e)}function zF(t){if(!Ue("recoil_memory_managament_2020"))return;const e=t.getState();v1(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function HF(t){return t===void 0?"recoilRoot":t}var Yi={SUSPENSE_TIMEOUT_MS:MF,updateRetainCount:BF,updateRetainCountToZero:y1,releaseScheduledRetainablesNow:zF,retainedByOptionWithDefault:HF};const{unstable_batchedUpdates:WF}=JO;var qF={unstable_batchedUpdates:WF};const{unstable_batchedUpdates:GF}=qF;var KF={unstable_batchedUpdates:GF};const{batchStart:QF}=br,{unstable_batchedUpdates:YF}=KF;let Ry=YF||(t=>t());const XF=t=>{Ry=t},JF=()=>Ry,ZF=t=>{Ry(()=>{let e=()=>{};try{e=QF(),t()}finally{e()}})};var wf={getBatcher:JF,setBatcher:XF,batchUpdates:ZF};function*eU(t){for(const e of t)for(const n of e)yield n}var E1=eU;const S1=typeof Window>"u"||typeof window>"u",tU=t=>!S1&&(t===window||t instanceof Window),nU=typeof navigator<"u"&&navigator.product==="ReactNative";var Tf={isSSR:S1,isReactNative:nU,isWindow:tU};function rU(t,e){let n;return(...r)=>{n||(n={});const s=e(...r);return Object.hasOwnProperty.call(n,s)||(n[s]=t(...r)),n[s]}}function sU(t,e){let n,r;return(...s)=>{const i=e(...s);return n===i||(n=i,r=t(...s)),r}}function iU(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var oU={memoizeWithArgsHash:rU,memoizeOneWithArgsHash:sU,memoizeOneWithArgsHashAndInvalidation:iU};const{batchUpdates:rv}=wf,{initializeNode:aU,peekNodeInfo:lU}=ni,{graph:cU}=zc,{getNextStoreID:uU}=yf,{DEFAULT_VALUE:dU,recoilValues:sw,recoilValuesForKeys:iw}=wn,{AbstractRecoilValue:hU,getRecoilValueAsLoadable:fU,setRecoilValue:ow,setUnvalidatedRecoilValue:pU}=br,{updateRetainCount:Ed}=Yi,{setInvalidateMemoizedSnapshot:mU}=a1,{getNextTreeStateVersion:gU,makeEmptyStoreState:vU}=e1,{isSSR:_U}=Tf,{memoizeOneWithArgsHashAndInvalidation:yU}=oU;class Cf{constructor(e,n){_e(this,"_store",void 0),_e(this,"_refCount",1),_e(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),fU(this._store,r))),_e(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),_e(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return iw(o.dirtyAtoms)}const s=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?sw.values():r.isInitialized===!0?iw(E1([s,i])):wy(sw.values(),({key:o})=>!s.has(o)&&!i.has(o))}),_e(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),lU(this._store,this._store.getState().currentTree,r))),_e(this,"map",r=>{this.checkRefCount_INTERNAL();const s=new sv(this,rv);return r(s),s}),_e(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const s=new sv(this,rv);return s.retain(),await r(s),s.autoRelease_INTERNAL(),s}),this._store={storeID:uU(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const s=e.graphsByVersion;if(s.has(r))return tt(s.get(r));const i=cU();return s.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Se("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)aU(this._store,r,"get"),Ed(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){_U||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Ue("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Ue("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function w1(t,e,n=!1){const r=t.getState(),s=n?gU():e.version;return{currentTree:{version:n?s:e.version,stateID:n?s:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(s,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(_f(r.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function EU(t){const e=new Cf(vU());return t!=null?e.map(t):e}const[aw,T1]=yU((t,e)=>{var n;const r=t.getState(),s=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:tt(r.previousTree);return new Cf(w1(t,s),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});mU(T1);function SU(t,e="latest"){const n=aw(t,e);return n.isRetained()?n:(T1(),aw(t,e))}class sv extends Cf{constructor(e,n){super(w1(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),_e(this,"_batch",void 0),_e(this,"set",(r,s)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Ed(i,r.key,1),ow(this.getStore_INTERNAL(),r,s)})}),_e(this,"reset",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Ed(s,r.key,1),ow(this.getStore_INTERNAL(),r,dU)})}),_e(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();rv(()=>{for(const[i,o]of r.entries())Ed(s,i,1),pU(s,new hU(i),o)})}),this._batch=n}}var Rf={Snapshot:Cf,MutableSnapshot:sv,freshSnapshot:EU,cloneSnapshot:SU},wU=Rf.Snapshot,TU=Rf.MutableSnapshot,CU=Rf.freshSnapshot,RU=Rf.cloneSnapshot,If=Object.freeze({__proto__:null,Snapshot:wU,MutableSnapshot:TU,freshSnapshot:CU,cloneSnapshot:RU});function IU(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var xU=IU;const{useRef:NU}=fe;function bU(t){const e=NU(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var lw=bU;const{getNextTreeStateVersion:AU,makeEmptyStoreState:C1}=e1,{cleanUpNode:kU,getDownstreamNodes:PU,initializeNode:LU,setNodeValue:OU,setUnvalidatedAtomValue_DEPRECATED:DU}=ni,{graph:MU}=zc,{cloneGraph:jU}=zc,{getNextStoreID:R1}=yf,{createMutableSource:vm,reactMode:I1}=Bc,{applyAtomValueWrites:$U}=br,{releaseScheduledRetainablesNow:x1}=Yi,{freshSnapshot:VU}=If,{useCallback:FU,useContext:N1,useEffect:iv,useMemo:UU,useRef:BU,useState:zU}=fe;function Ha(){throw Se("This component must be used inside a <RecoilRoot> component.")}const b1=Object.freeze({storeID:R1(),getState:Ha,replaceState:Ha,getGraph:Ha,subscribeToTransactions:Ha,addTransactionMetadata:Ha});let ov=!1;function cw(t){if(ov)throw Se("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Ue("recoil_memory_managament_2020")&&Ue("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&x1(t);const n=e.currentTree.version,r=AU();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,jU(tt(e.graphsByVersion.get(n))))}}const A1=fe.createContext({current:b1}),xf=()=>N1(A1),k1=fe.createContext(null);function HU(){return N1(k1)}function Iy(t,e,n){const r=PU(t,n,n.dirtyAtoms);for(const s of r){const i=e.nodeToComponentSubscriptions.get(s);if(i)for(const[o,[a,l]]of i)l(n)}}function P1(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[s,i]of e.nodeTransactionSubscriptions)if(r.has(s))for(const[o,a]of i)a(t);for(const[s,i]of e.transactionSubscriptions)i(t);(!I1().early||e.suspendedComponentResolvers.size>0)&&(Iy(t,e,n),e.suspendedComponentResolvers.forEach(s=>s()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(s=>s(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function WU(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,P1(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):vy("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Ue("recoil_memory_managament_2020")&&n==null&&x1(t)}finally{e.commitDepth--}}function qU({setNotifyBatcherOfChange:t}){const e=xf(),[,n]=zU([]);return t(()=>n({})),iv(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),iv(()=>{C2.enqueueExecution("Batcher",()=>{WU(e.current)})}),null}function GU(t,e){const n=C1();return e({set:(r,s)=>{const i=n.currentTree,o=OU(t,i,r.key,s),a=new Set(o.keys()),l=i.nonvalidatedAtoms.clone();for(const c of a)l.delete(c);n.currentTree={...i,dirtyAtoms:xU(i.dirtyAtoms,a),atomValues:$U(i.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((s,i)=>{n.currentTree=DU(n.currentTree,i,s)})}}),n}function KU(t){const e=VU(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let uw=0;function QU({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let s;const i=p=>{const m=s.current.graphsByVersion;if(m.has(p))return tt(m.get(p));const g=MU();return m.set(p,g),g},o=(p,m)=>{if(m==null){const{transactionSubscriptions:g}=h.current.getState(),E=uw++;return g.set(E,p),{release:()=>{g.delete(E)}}}else{const{nodeTransactionSubscriptions:g}=h.current.getState();g.has(m)||g.set(m,new Map);const E=uw++;return tt(g.get(m)).set(E,p),{release:()=>{const v=g.get(m);v&&(v.delete(E),v.size===0&&g.delete(m))}}}},a=p=>{cw(h.current);for(const m of Object.keys(p))tt(h.current.getState().nextTree).transactionMetadata[m]=p[m]},l=p=>{cw(h.current);const m=tt(s.current.nextTree);let g;try{ov=!0,g=p(m)}finally{ov=!1}g!==m&&(s.current.nextTree=g,I1().early&&Iy(h.current,s.current,g),tt(c.current)())},c=BU(null),d=FU(p=>{c.current=p},[c]),h=lw(()=>n??{storeID:R1(),getState:()=>s.current,replaceState:l,getGraph:i,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(h.current=n),s=lw(()=>t!=null?GU(h.current,t):e!=null?KU(e):C1());const f=UU(()=>vm==null?void 0:vm(s,()=>s.current.currentTree.version),[s]);return iv(()=>{const p=h.current;for(const m of new Set(p.getState().knownAtoms))LU(p,m,"get");return()=>{for(const m of p.getState().knownAtoms)kU(p,m)}},[h]),fe.createElement(A1.Provider,{value:h},fe.createElement(k1.Provider,{value:f},fe.createElement(qU,{setNotifyBatcherOfChange:d}),r))}function YU(t){const{override:e,...n}=t,r=xf();return e===!1&&r.current!==b1?t.children:fe.createElement(QU,n)}function XU(){return xf().current.storeID}var fs={RecoilRoot:YU,useStoreRef:xf,useRecoilMutableSource:HU,useRecoilStoreID:XU,notifyComponents_FOR_TESTING:Iy,sendEndOfBatchNotifications_FOR_TESTING:P1};function JU(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var ZU=JU;const{useEffect:e4,useRef:t4}=fe;function n4(t){const e=t4();return e4(()=>{e.current=t}),e.current}var L1=n4;const{useStoreRef:r4}=fs,{SUSPENSE_TIMEOUT_MS:s4}=Yi,{updateRetainCount:Wa}=Yi,{RetentionZone:i4}=Ef,{useEffect:o4,useRef:a4}=fe,{isSSR:dw}=Tf;function l4(t){if(Ue("recoil_memory_managament_2020"))return c4(t)}function c4(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof i4?o:o.key),r=r4();o4(()=>{if(!Ue("recoil_memory_managament_2020"))return;const o=r.current;if(s.current&&!dw)window.clearTimeout(s.current),s.current=null;else for(const a of n)Wa(o,a,1);return()=>{for(const a of n)Wa(o,a,-1)}},[r,...n]);const s=a4(),i=L1(n);if(!dw&&(i===void 0||!ZU(i,n))){const o=r.current;for(const a of n)Wa(o,a,1);if(i)for(const a of i)Wa(o,a,-1);s.current&&window.clearTimeout(s.current),s.current=window.setTimeout(()=>{s.current=null;for(const a of n)Wa(o,a,-1)},s4)}}var xy=l4;function u4(){return"<component name not available>"}var Wc=u4;const{batchUpdates:d4}=wf,{DEFAULT_VALUE:O1}=wn,{currentRendererSupportsUseSyncExternalStore:h4,reactMode:Ca,useMutableSource:f4,useSyncExternalStore:p4}=Bc,{useRecoilMutableSource:m4,useStoreRef:Ar}=fs,{AbstractRecoilValue:av,getRecoilValueAsLoadable:qc,setRecoilValue:ph,setUnvalidatedRecoilValue:g4,subscribeToRecoilValue:ta}=br,{useCallback:En,useEffect:na,useMemo:D1,useRef:bl,useState:Ny}=fe,{setByAddingToSet:v4}=n1,{isSSR:_4}=Tf;function by(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(s=>{const i=n.current.getState().suspendedComponentResolvers;i.add(s),_4&&Ge(t.contents)&&t.contents.finally(()=>{i.delete(s)})}):t.state==="hasError"?t.contents:Se(`Invalid value of loadable atom "${e.key}"`)}function y4(){const t=Wc(),e=Ar(),[,n]=Ny([]),r=bl(new Set);r.current=new Set;const s=bl(new Set),i=bl(new Map),o=En(l=>{const c=i.current.get(l);c&&(c.release(),i.current.delete(l))},[i]),a=En((l,c)=>{i.current.has(c)&&n([])},[]);return na(()=>{const l=e.current;xl(r.current,s.current).forEach(c=>{if(i.current.has(c))return;const d=ta(l,new av(c),f=>a(f,c),t);i.current.set(c,d),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),c)}):a(l.getState(),c)}),xl(s.current,r.current).forEach(c=>{o(c)}),s.current=r.current}),na(()=>{const l=i.current;return xl(r.current,new Set(l.keys())).forEach(c=>{const d=ta(e.current,new av(c),h=>a(h,c),t);l.set(c,d)}),()=>l.forEach((c,d)=>o(d))},[t,e,o,a]),D1(()=>{function l(m){return g=>{ph(e.current,m,g)}}function c(m){return()=>ph(e.current,m,O1)}function d(m){var g;r.current.has(m.key)||(r.current=v4(r.current,m.key));const E=e.current.getState();return qc(e.current,m,Ca().early&&(g=E.nextTree)!==null&&g!==void 0?g:E.currentTree)}function h(m){const g=d(m);return by(g,m,e)}function f(m){return[h(m),l(m)]}function p(m){return[d(m),l(m)]}return{getRecoilValue:h,getRecoilValueLoadable:d,getRecoilState:f,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:c}},[r,e])}const E4={current:0};function S4(t){const e=Ar(),n=Wc(),r=En(()=>{var a;const l=e.current,c=l.getState(),d=Ca().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return{loadable:qc(l,t,d),key:t.key}},[e,t]),s=En(a=>{let l;return()=>{var c,d;const h=a();return(c=l)!==null&&c!==void 0&&c.loadable.is(h.loadable)&&((d=l)===null||d===void 0?void 0:d.key)===h.key?l:(l=h,h)}},[]),i=D1(()=>s(r),[r,s]),o=En(a=>{const l=e.current;return ta(l,t,a,n).release},[e,t,n]);return p4(o,i,i).loadable}function w4(t){const e=Ar(),n=En(()=>{var c;const d=e.current,h=d.getState(),f=Ca().early&&(c=h.nextTree)!==null&&c!==void 0?c:h.currentTree;return qc(d,t,f)},[e,t]),r=En(()=>n(),[n]),s=Wc(),i=En((c,d)=>{const h=e.current;return ta(h,t,()=>{if(!Ue("recoil_suppress_rerender_in_callback"))return d();const p=n();l.current.is(p)||d(),l.current=p},s).release},[e,t,s,n]),o=m4();if(o==null)throw Se("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=f4(o,r,i),l=bl(a);return na(()=>{l.current=a}),a}function lv(t){const e=Ar(),n=Wc(),r=En(()=>{var l;const c=e.current,d=c.getState(),h=Ca().early&&(l=d.nextTree)!==null&&l!==void 0?l:d.currentTree;return qc(c,t,h)},[e,t]),s=En(()=>({loadable:r(),key:t.key}),[r,t.key]),i=En(l=>{const c=s();return l.loadable.is(c.loadable)&&l.key===c.key?l:c},[s]);na(()=>{const l=ta(e.current,t,c=>{a(i)},n);return a(i),l.release},[n,t,e,i]);const[o,a]=Ny(s);return o.key!==t.key?s().loadable:o.loadable}function T4(t){const e=Ar(),[,n]=Ny([]),r=Wc(),s=En(()=>{var a;const l=e.current,c=l.getState(),d=Ca().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return qc(l,t,d)},[e,t]),i=s(),o=bl(i);return na(()=>{o.current=i}),na(()=>{const a=e.current,l=a.getState(),c=ta(a,t,h=>{var f;if(!Ue("recoil_suppress_rerender_in_callback"))return n([]);const p=s();(f=o.current)!==null&&f!==void 0&&f.is(p)||n(p),o.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var d;if(!Ue("recoil_suppress_rerender_in_callback"))return n([]);const h=s();(d=o.current)!==null&&d!==void 0&&d.is(h)||n(h),o.current=h}return c.release},[r,s,t,e]),i}function Ay(t){return Ue("recoil_memory_managament_2020")&&xy(t),{TRANSITION_SUPPORT:lv,SYNC_EXTERNAL_STORE:h4()?S4:lv,MUTABLE_SOURCE:w4,LEGACY:T4}[Ca().mode](t)}function M1(t){const e=Ar(),n=Ay(t);return by(n,t,e)}function Nf(t){const e=Ar();return En(n=>{ph(e.current,t,n)},[e,t])}function C4(t){const e=Ar();return En(()=>{ph(e.current,t,O1)},[e,t])}function R4(t){return[M1(t),Nf(t)]}function I4(t){return[Ay(t),Nf(t)]}function x4(){const t=Ar();return(e,n={})=>{d4(()=>{t.current.addTransactionMetadata(n),e.forEach((r,s)=>g4(t.current,new av(s),r))})}}function j1(t){return Ue("recoil_memory_managament_2020")&&xy(t),lv(t)}function $1(t){const e=Ar(),n=j1(t);return by(n,t,e)}function N4(t){return[$1(t),Nf(t)]}var b4={recoilComponentGetRecoilValueCount_FOR_TESTING:E4,useRecoilInterface:y4,useRecoilState:R4,useRecoilStateLoadable:I4,useRecoilValue:M1,useRecoilValueLoadable:Ay,useResetRecoilState:C4,useSetRecoilState:Nf,useSetUnvalidatedAtomValues:x4,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:j1,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:$1,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:N4};function A4(t,e){const n=new Map;for(const[r,s]of t)e(s,r)&&n.set(r,s);return n}var k4=A4;function P4(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var L4=P4;function O4(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let s;for(;!(s=r.next()).done;)e.set(s.value,t[n].get(s.value))}return e}var D4=O4;const{batchUpdates:M4}=wf,{DEFAULT_VALUE:j4,getNode:V1,nodes:$4}=wn,{useStoreRef:ky}=fs,{AbstractRecoilValue:V4,setRecoilValueLoadable:F4}=br,{SUSPENSE_TIMEOUT_MS:U4}=Yi,{cloneSnapshot:mh}=If,{useCallback:bf,useEffect:F1,useRef:hw,useState:B4}=fe,{isSSR:fw}=Tf;function Af(t){const e=ky();F1(()=>e.current.subscribeToTransactions(t).release,[t,e])}function pw(t){const e=t.atomValues.toMap(),n=fh(k4(e,(r,s)=>{const o=V1(s).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return D4(t.nonvalidatedAtoms.toMap(),n)}function z4(t){Af(bf(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const s=pw(r),i=pw(n),o=fh($4,l=>{var c,d,h,f;return{persistence_UNSTABLE:{type:(c=(d=l.persistence_UNSTABLE)===null||d===void 0?void 0:d.type)!==null&&c!==void 0?c:"none",backButton:(h=(f=l.persistence_UNSTABLE)===null||f===void 0?void 0:f.backButton)!==null&&h!==void 0?h:!1}}}),a=L4(r.dirtyAtoms,l=>s.has(l)||i.has(l));t({atomValues:s,previousAtomValues:i,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function H4(t){Af(bf(e=>{const n=mh(e,"latest"),r=mh(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function W4(){const t=ky(),[e,n]=B4(()=>mh(t.current)),r=L1(e),s=hw(),i=hw();if(Af(bf(a=>n(mh(a)),[])),F1(()=>{const a=e.retain();if(s.current&&!fw){var l;window.clearTimeout(s.current),s.current=null,(l=i.current)===null||l===void 0||l.call(i),i.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!fw){if(s.current){var o;window.clearTimeout(s.current),s.current=null,(o=i.current)===null||o===void 0||o.call(i),i.current=null}i.current=e.retain(),s.current=window.setTimeout(()=>{var a;s.current=null,(a=i.current)===null||a===void 0||a.call(i),i.current=null},U4)}return e}function U1(t,e){var n;const r=t.getState(),s=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,i=e.getStore_INTERNAL().getState().currentTree;M4(()=>{const o=new Set;for(const c of[s.atomValues.keys(),i.atomValues.keys()])for(const d of c){var a,l;((a=s.atomValues.get(d))===null||a===void 0?void 0:a.contents)!==((l=i.atomValues.get(d))===null||l===void 0?void 0:l.contents)&&V1(d).shouldRestoreFromSnapshots&&o.add(d)}o.forEach(c=>{F4(t,new V4(c),i.atomValues.has(c)?tt(i.atomValues.get(c)):j4)}),t.replaceState(c=>({...c,stateID:e.getID()}))})}function q4(){const t=ky();return bf(e=>U1(t.current,e),[t])}var B1={useRecoilSnapshot:W4,gotoSnapshot:U1,useGotoRecoilSnapshot:q4,useRecoilTransactionObserver:H4,useTransactionObservation_DEPRECATED:z4,useTransactionSubscription_DEPRECATED:Af};const{peekNodeInfo:G4}=ni,{useStoreRef:K4}=fs;function Q4(){const t=K4();return({key:e})=>G4(t.current,t.current.getState().currentTree,e)}var Y4=Q4;const{reactMode:X4}=Bc,{RecoilRoot:J4,useStoreRef:Z4}=fs,{useMemo:eB}=fe;function tB(){X4().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=Z4().current;return eB(()=>{function e({children:n}){return fe.createElement(J4,{store_INTERNAL:t},n)}return e},[t])}var nB=tB;const{loadableWithValue:rB}=Uc,{initializeNode:sB}=ni,{DEFAULT_VALUE:iB,getNode:oB}=wn,{copyTreeState:aB,getRecoilValueAsLoadable:lB,invalidateDownstreams:cB,writeLoadableToTreeState:uB}=br;function mw(t){return oB(t.key).nodeType==="atom"}class dB{constructor(e,n){_e(this,"_store",void 0),_e(this,"_treeState",void 0),_e(this,"_changes",void 0),_e(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!mw(r))throw Se("Reading selectors within atomicUpdate is not supported");const s=lB(this._store,r,this._treeState);if(s.state==="hasValue")return s.contents;throw s.state==="hasError"?s.contents:Se(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),_e(this,"set",(r,s)=>{if(!mw(r))throw Se("Setting selectors within atomicUpdate is not supported");if(typeof s=="function"){const i=this.get(r);this._changes.set(r.key,s(i))}else sB(this._store,r.key,"set"),this._changes.set(r.key,s)}),_e(this,"reset",r=>{this.set(r,iB)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=aB(this._treeState);for(const[n,r]of this._changes)uB(e,n,rB(r));return cB(this._store,e),e}}function hB(t){return e=>{t.replaceState(n=>{const r=new dB(t,n);return e(r),r.newTreeState_INTERNAL()})}}var fB={atomicUpdater:hB},pB=fB.atomicUpdater,z1=Object.freeze({__proto__:null,atomicUpdater:pB});function mB(t,e){if(!t)throw new Error(e)}var gB=mB,hl=gB;const{atomicUpdater:vB}=z1,{batchUpdates:_B}=wf,{DEFAULT_VALUE:yB}=wn,{useStoreRef:EB}=fs,{refreshRecoilValue:SB,setRecoilValue:gw}=br,{cloneSnapshot:wB}=If,{gotoSnapshot:TB}=B1,{useCallback:CB}=fe;class H1{}const RB=new H1;function W1(t,e,n,r){let s=RB,i;if(_B(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Se(a);const l=r1({...r??{},set:(d,h)=>gw(t,d,h),reset:d=>gw(t,d,yB),refresh:d=>SB(t,d),gotoSnapshot:d=>TB(t,d),transact_UNSTABLE:d=>vB(t)(d)},{snapshot:()=>{const d=wB(t);return i=d.retain(),d}}),c=e(l);if(typeof c!="function")throw Se(a);s=c(...n)}),s instanceof H1&&hl(!1),Ge(s))s=s.finally(()=>{var a;(a=i)===null||a===void 0||a()});else{var o;(o=i)===null||o===void 0||o()}return s}function IB(t,e){const n=EB();return CB((...r)=>W1(n.current,t,r),e!=null?[...e,n]:void 0)}var q1={recoilCallback:W1,useRecoilCallback:IB};const{useStoreRef:xB}=fs,{refreshRecoilValue:NB}=br,{useCallback:bB}=fe;function AB(t){const e=xB();return bB(()=>{const n=e.current;NB(n,t)},[t,e])}var kB=AB;const{atomicUpdater:PB}=z1,{useStoreRef:LB}=fs,{useMemo:OB}=fe;function DB(t,e){const n=LB();return OB(()=>(...r)=>{PB(n.current)(i=>{t(i)(...r)})},e!=null?[...e,n]:void 0)}var MB=DB;class jB{constructor(e){_e(this,"value",void 0),this.value=e}}var $B={WrappedValue:jB},VB=$B.WrappedValue,G1=Object.freeze({__proto__:null,WrappedValue:VB});const{isFastRefreshEnabled:FB}=Bc;class vw extends Error{}class UB{constructor(e){var n,r,s;_e(this,"_name",void 0),_e(this,"_numLeafs",void 0),_e(this,"_root",void 0),_e(this,"_onHit",void 0),_e(this,"_onSet",void 0),_e(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(s=e==null?void 0:e.mapNodeValue)!==null&&s!==void 0?s:i=>i}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const s=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(s)}}set(e,n,r){const s=()=>{var i,o,a,l;let c,d;for(const[E,v]of e){var h,f,p;const _=this._root;if((_==null?void 0:_.type)==="leaf")throw this.invalidCacheError();const y=c;if(c=y?y.branches.get(d):_,c=(h=c)!==null&&h!==void 0?h:{type:"branch",nodeKey:E,parent:y,branches:new Map,branchKey:d},c.type!=="branch"||c.nodeKey!==E)throw this.invalidCacheError();y==null||y.branches.set(d,c),r==null||(f=r.onNodeVisit)===null||f===void 0||f.call(r,c),d=this._mapNodeValue(v),this._root=(p=this._root)!==null&&p!==void 0?p:c}const m=c?(i=c)===null||i===void 0?void 0:i.branches.get(d):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==d))throw this.invalidCacheError();const g={type:"leaf",value:n,parent:c,branchKey:d};(o=c)===null||o===void 0||o.branches.set(d,g),this._root=(a=this._root)!==null&&a!==void 0?a:g,this._numLeafs++,this._onSet(g),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,g)};try{s()}catch(i){if(i instanceof vw)this.clear(),s();else throw i}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,s=e.branchKey;for(;r;){var i;if(r.branches.delete(s),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;s=(i=r)===null||i===void 0?void 0:i.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=FB()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw vy(e+(this._name!=null?` - ${this._name}`:"")),new vw}}var BB={TreeCache:UB},zB=BB.TreeCache,K1=Object.freeze({__proto__:null,TreeCache:zB});class HB{constructor(e){var n;_e(this,"_maxSize",void 0),_e(this,"_size",void 0),_e(this,"_head",void 0),_e(this,"_tail",void 0),_e(this,"_map",void 0),_e(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const i=this.head(),o={key:e,right:i,left:null,value:n};i?i.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=tt(this._map.get(n)),s=r.right,i=r.left;s&&(s.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=s),r===this.tail()&&(this._tail=i),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var WB={LRUCache:HB},qB=WB.LRUCache,Q1=Object.freeze({__proto__:null,LRUCache:qB});const{LRUCache:GB}=Q1,{TreeCache:KB}=K1;function QB({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new GB({maxSize:e}),s=new KB({name:t,mapNodeValue:n,onHit:i=>{r.set(i,!0)},onSet:i=>{const o=r.tail();r.set(i,!0),o&&s.size()>e&&s.delete(o.key)}});return s}var _w=QB;function Xn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Se("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Ge(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((s,i)=>Xn(s,e,i.toString()))}]`;if(typeof t.toJSON=="function")return Xn(t.toJSON(n),e,n);if(t instanceof Map){const s={};for(const[i,o]of t)s[typeof i=="string"?i:Xn(i,e)]=o;return Xn(s,e,n)}return t instanceof Set?Xn(Array.from(t).sort((s,i)=>Xn(s,e).localeCompare(Xn(i,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Xn(Array.from(t),e,n):`{${Object.keys(t).filter(s=>t[s]!==void 0).sort().map(s=>`${Xn(s,e)}:${Xn(t[s],e,s)}`).join(",")}}`}function YB(t,e={allowFunctions:!1}){return Xn(t,e)}var kf=YB;const{TreeCache:XB}=K1,$u={equality:"reference",eviction:"keep-all",maxSize:1/0};function JB({equality:t=$u.equality,eviction:e=$u.eviction,maxSize:n=$u.maxSize}=$u,r){const s=ZB(t);return ez(e,n,s,r)}function ZB(t){switch(t){case"reference":return e=>e;case"value":return e=>kf(e)}throw Se(`Unrecognized equality policy ${t}`)}function ez(t,e,n,r){switch(t){case"keep-all":return new XB({name:r,mapNodeValue:n});case"lru":return _w({name:r,maxSize:tt(e),mapNodeValue:n});case"most-recent":return _w({name:r,maxSize:1,mapNodeValue:n})}throw Se(`Unrecognized eviction policy ${t}`)}var tz=JB;function nz(t){return()=>null}var rz={startPerfBlock:nz};const{isLoadable:sz,loadableWithError:Vu,loadableWithPromise:iz,loadableWithValue:_m}=Uc,{WrappedValue:Y1}=G1,{getNodeLoadable:Fu,peekNodeLoadable:oz,setNodeValue:az}=ni,{saveDepsToStore:lz}=zc,{DEFAULT_VALUE:cz,getConfigDeletionHandler:uz,getNode:dz,registerNode:yw}=wn,{isRecoilValue:hz}=ea,{markRecoilValueModified:Ew}=br,{retainedByOptionWithDefault:fz}=Yi,{recoilCallback:pz}=q1,{startPerfBlock:mz}=rz;class X1{}const qa=new X1,Ga=[],Uu=new Map,gz=(()=>{let t=0;return()=>t++})();function J1(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:s}=t,i=t.set!=null?t.set:void 0,o=new Set,a=tz(s??{equality:"reference",eviction:"keep-all"},n),l=fz(t.retainedBy_UNSTABLE),c=new Map;let d=0;function h(){return!Ue("recoil_memory_managament_2020")||d>0}function f(R){return R.getState().knownSelectors.add(n),d++,()=>{d--}}function p(){return uz(n)!==void 0&&!h()}function m(R,j,$,ne,J){Ee(j,ne,J),g(R,$)}function g(R,j){H(R,j)&&A(R),v(j,!0)}function E(R,j){H(R,j)&&(tt(D(R)).stateVersions.clear(),v(j,!1))}function v(R,j){const $=Uu.get(R);if($!=null){for(const ne of $)Ew(ne,tt(e));j&&Uu.delete(R)}}function _(R,j){let $=Uu.get(j);$==null&&Uu.set(j,$=new Set),$.add(R)}function y(R,j,$,ne,J,ve){return j.then(Te=>{if(!h())throw A(R),qa;const oe=_m(Te);return m(R,$,J,oe,ne),Te}).catch(Te=>{if(!h())throw A(R),qa;if(Ge(Te))return S(R,Te,$,ne,J,ve);const oe=Vu(Te);throw m(R,$,J,oe,ne),Te})}function S(R,j,$,ne,J,ve){return j.then(Te=>{if(!h())throw A(R),qa;ve.loadingDepKey!=null&&ve.loadingDepPromise===j?$.atomValues.set(ve.loadingDepKey,_m(Te)):R.getState().knownSelectors.forEach($e=>{$.atomValues.delete($e)});const oe=b(R,$);if(oe&&oe.state!=="loading"){if((H(R,J)||D(R)==null)&&g(R,J),oe.state==="hasValue")return oe.contents;throw oe.contents}if(!H(R,J)){const $e=G(R,$);if($e!=null)return $e.loadingLoadable.contents}const[Xe,St]=N(R,$,J);if(Xe.state!=="loading"&&m(R,$,J,Xe,St),Xe.state==="hasError")throw Xe.contents;return Xe.contents}).catch(Te=>{if(Te instanceof X1)throw qa;if(!h())throw A(R),qa;const oe=Vu(Te);throw m(R,$,J,oe,ne),Te})}function w(R,j,$,ne){var J,ve,Te,oe;if(H(R,ne)||j.version===((J=R.getState())===null||J===void 0||(ve=J.currentTree)===null||ve===void 0?void 0:ve.version)||j.version===((Te=R.getState())===null||Te===void 0||(oe=Te.nextTree)===null||oe===void 0?void 0:oe.version)){var Xe,St,$e;lz(n,$,R,(Xe=(St=R.getState())===null||St===void 0||($e=St.nextTree)===null||$e===void 0?void 0:$e.version)!==null&&Xe!==void 0?Xe:R.getState().currentTree.version)}for(const Je of $)o.add(Je)}function N(R,j,$){const ne=mz(n);let J=!0,ve=!0;const Te=()=>{ne(),ve=!1};let oe,Xe=!1,St;const $e={loadingDepKey:null,loadingDepPromise:null},Je=new Map;function On({key:rn}){const Vt=Fu(R,j,rn);switch(Je.set(rn,Vt),J||(w(R,j,new Set(Je.keys()),$),E(R,$)),Vt.state){case"hasValue":return Vt.contents;case"hasError":throw Vt.contents;case"loading":throw $e.loadingDepKey=rn,$e.loadingDepPromise=Vt.contents,Vt.contents}throw Se("Invalid Loadable state")}const Lr=rn=>(...Vt)=>{if(ve)throw Se("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&hl(!1),pz(R,rn,Vt,{node:e})};try{oe=r({get:On,getCallback:Lr}),oe=hz(oe)?On(oe):oe,sz(oe)&&(oe.state==="hasError"&&(Xe=!0),oe=oe.contents),Ge(oe)?oe=y(R,oe,j,Je,$,$e).finally(Te):Te(),oe=oe instanceof Y1?oe.value:oe}catch(rn){oe=rn,Ge(oe)?oe=S(R,oe,j,Je,$,$e).finally(Te):(Xe=!0,Te())}return Xe?St=Vu(oe):Ge(oe)?St=iz(oe):St=_m(oe),J=!1,x(R,$,Je),w(R,j,new Set(Je.keys()),$),[St,Je]}function b(R,j){let $=j.atomValues.get(n);if($!=null)return $;const ne=new Set;try{$=a.get(ve=>(typeof ve!="string"&&hl(!1),Fu(R,j,ve).contents),{onNodeVisit:ve=>{ve.type==="branch"&&ve.nodeKey!==n&&ne.add(ve.nodeKey)}})}catch(ve){throw Se(`Problem with cache lookup for selector "${n}": ${ve.message}`)}if($){var J;j.atomValues.set(n,$),w(R,j,ne,(J=D(R))===null||J===void 0?void 0:J.executionID)}return $}function k(R,j){const $=b(R,j);if($!=null)return A(R),$;const ne=G(R,j);if(ne!=null){var J;return((J=ne.loadingLoadable)===null||J===void 0?void 0:J.state)==="loading"&&_(R,ne.executionID),ne.loadingLoadable}const ve=gz(),[Te,oe]=N(R,j,ve);return Te.state==="loading"?(P(R,ve,Te,oe,j),_(R,ve)):(A(R),Ee(j,Te,oe)),Te}function G(R,j){const $=E1([c.has(R)?[tt(c.get(R))]:[],_f(wy(c,([J])=>J!==R),([,J])=>J)]);function ne(J){for(const[ve,Te]of J)if(!Fu(R,j,ve).is(Te))return!0;return!1}for(const J of $){if(J.stateVersions.get(j.version)||!ne(J.depValuesDiscoveredSoFarDuringAsyncWork))return J.stateVersions.set(j.version,!0),J;J.stateVersions.set(j.version,!1)}}function D(R){return c.get(R)}function P(R,j,$,ne,J){c.set(R,{depValuesDiscoveredSoFarDuringAsyncWork:ne,executionID:j,loadingLoadable:$,stateVersions:new Map([[J.version,!0]])})}function x(R,j,$){if(H(R,j)){const ne=D(R);ne!=null&&(ne.depValuesDiscoveredSoFarDuringAsyncWork=$)}}function A(R){c.delete(R)}function H(R,j){var $;return j===(($=D(R))===null||$===void 0?void 0:$.executionID)}function re(R){return Array.from(R.entries()).map(([j,$])=>[j,$.contents])}function Ee(R,j,$){R.atomValues.set(n,j);try{a.set(re($),j)}catch(ne){throw Se(`Problem with setting cache for selector "${n}": ${ne.message}`)}}function we(R){if(Ga.includes(n)){const j=`Recoil selector has circular dependencies: ${Ga.slice(Ga.indexOf(n)).join(" → ")}`;return Vu(Se(j))}Ga.push(n);try{return R()}finally{Ga.pop()}}function M(R,j){const $=j.atomValues.get(n);return $??a.get(ne=>{var J;return typeof ne!="string"&&hl(!1),(J=oz(R,j,ne))===null||J===void 0?void 0:J.contents})}function O(R,j){return we(()=>k(R,j))}function W(R){R.atomValues.delete(n)}function ie(R,j){e==null&&hl(!1);for(const ne of o){var $;const J=dz(ne);($=J.clearCache)===null||$===void 0||$.call(J,R,j)}o.clear(),W(j),a.clear(),Ew(R,e)}return i!=null?e=yw({key:n,nodeType:"selector",peek:M,get:O,set:(j,$,ne)=>{let J=!1;const ve=new Map;function Te({key:$e}){if(J)throw Se("Recoil: Async selector sets are not currently supported.");const Je=Fu(j,$,$e);if(Je.state==="hasValue")return Je.contents;if(Je.state==="loading"){const On=`Getting value of asynchronous atom or selector "${$e}" in a pending state while setting selector "${n}" is not yet supported.`;throw Se(On)}else throw Je.contents}function oe($e,Je){if(J)throw Se("Recoil: Async selector sets are not currently supported.");const On=typeof Je=="function"?Je(Te($e)):Je;az(j,$,$e.key,On).forEach((rn,Vt)=>ve.set(Vt,rn))}function Xe($e){oe($e,cz)}const St=i({set:oe,get:Te,reset:Xe},ne);if(St!==void 0)throw Ge(St)?Se("Recoil: Async selector sets are not currently supported."):Se("Recoil: selector set should be a void function.");return J=!0,ve},init:f,invalidate:W,clearCache:ie,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=yw({key:n,nodeType:"selector",peek:M,get:O,init:f,invalidate:W,clearCache:ie,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}J1.value=t=>new Y1(t);var ra=J1;const{isLoadable:vz,loadableWithError:ym,loadableWithPromise:Em,loadableWithValue:so}=Uc,{WrappedValue:Z1}=G1,{peekNodeInfo:_z}=ni,{DEFAULT_VALUE:pi,DefaultValue:ys,getConfigDeletionHandler:eN,registerNode:yz,setConfigDeletionHandler:Ez}=wn,{isRecoilValue:Sz}=ea,{getRecoilValueAsLoadable:wz,markRecoilValueModified:Tz,setRecoilValue:Sw,setRecoilValueLoadable:Cz}=br,{retainedByOptionWithDefault:Rz}=Yi,Ka=t=>t instanceof Z1?t.value:t;function Iz(t){const{key:e,persistence_UNSTABLE:n}=t,r=Rz(t.retainedBy_UNSTABLE);let s=0;function i(_){return Em(_.then(y=>(o=so(y),y)).catch(y=>{throw o=ym(y),y}))}let o=Ge(t.default)?i(t.default):vz(t.default)?t.default.state==="loading"?i(t.default.contents):t.default:so(Ka(t.default));o.contents;let a;const l=new Map;function c(_){return _}function d(_,y){const S=y.then(w=>{var N,b;return((b=((N=_.getState().nextTree)!==null&&N!==void 0?N:_.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===S&&Sw(_,v,w),w}).catch(w=>{var N,b;throw((b=((N=_.getState().nextTree)!==null&&N!==void 0?N:_.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===S&&Cz(_,v,ym(w)),w});return S}function h(_,y,S){var w;s++;const N=()=>{var A;s--,(A=l.get(_))===null||A===void 0||A.forEach(H=>H()),l.delete(_)};if(_.getState().knownAtoms.add(e),o.state==="loading"){const A=()=>{var H;((H=_.getState().nextTree)!==null&&H!==void 0?H:_.getState().currentTree).atomValues.has(e)||Tz(_,v)};o.contents.finally(A)}const b=(w=t.effects)!==null&&w!==void 0?w:t.effects_UNSTABLE;if(b!=null){let we=function(j){if(H&&j.key===e){const $=A;return $ instanceof ys?f(_,y):Ge($)?Em($.then(ne=>ne instanceof ys?o.toPromise():ne)):so($)}return wz(_,j)},M=function(j){return we(j).toPromise()},O=function(j){var $;const ne=_z(_,($=_.getState().nextTree)!==null&&$!==void 0?$:_.getState().currentTree,j.key);return H&&j.key===e&&!(A instanceof ys)?{...ne,isSet:!0,loadable:we(j)}:ne};var D=we,P=M,x=O;let A=pi,H=!0,re=!1,Ee=null;const W=j=>$=>{if(H){const ne=we(v),J=ne.state==="hasValue"?ne.contents:pi;A=typeof $=="function"?$(J):$,Ge(A)&&(A=A.then(ve=>(Ee={effect:j,value:ve},ve)))}else{if(Ge($))throw Se("Setting atoms to async values is not implemented.");typeof $!="function"&&(Ee={effect:j,value:Ka($)}),Sw(_,v,typeof $=="function"?ne=>{const J=Ka($(ne));return Ee={effect:j,value:J},J}:Ka($))}},ie=j=>()=>W(j)(pi),R=j=>$=>{var ne;const{release:J}=_.subscribeToTransactions(ve=>{var Te;let{currentTree:oe,previousTree:Xe}=ve.getState();Xe||(Xe=oe);const St=(Te=oe.atomValues.get(e))!==null&&Te!==void 0?Te:o;if(St.state==="hasValue"){var $e,Je,On,Lr;const rn=St.contents,Vt=($e=Xe.atomValues.get(e))!==null&&$e!==void 0?$e:o,_u=Vt.state==="hasValue"?Vt.contents:pi;((Je=Ee)===null||Je===void 0?void 0:Je.effect)!==j||((On=Ee)===null||On===void 0?void 0:On.value)!==rn?$(rn,_u,!oe.atomValues.has(e)):((Lr=Ee)===null||Lr===void 0?void 0:Lr.effect)===j&&(Ee=null)}},e);l.set(_,[...(ne=l.get(_))!==null&&ne!==void 0?ne:[],J])};for(const j of b)try{const $=j({node:v,storeID:_.storeID,parentStoreID_UNSTABLE:_.parentStoreID,trigger:S,setSelf:W(j),resetSelf:ie(j),onSet:R(j),getPromise:M,getLoadable:we,getInfo_UNSTABLE:O});if($!=null){var k;l.set(_,[...(k=l.get(_))!==null&&k!==void 0?k:[],$])}}catch($){A=$,re=!0}if(H=!1,!(A instanceof ys)){var G;const j=re?ym(A):Ge(A)?Em(d(_,A)):so(Ka(A));j.contents,y.atomValues.set(e,j),(G=_.getState().nextTree)===null||G===void 0||G.atomValues.set(e,j)}}return N}function f(_,y){var S,w;return(S=(w=y.atomValues.get(e))!==null&&w!==void 0?w:a)!==null&&S!==void 0?S:o}function p(_,y){if(y.atomValues.has(e))return tt(y.atomValues.get(e));if(y.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const S=y.nonvalidatedAtoms.get(e),w=n.validator(S,pi);return a=w instanceof ys?o:so(w),a}else return o}function m(){a=void 0}function g(_,y,S){if(y.atomValues.has(e)){const w=tt(y.atomValues.get(e));if(w.state==="hasValue"&&S===w.contents)return new Map}else if(!y.nonvalidatedAtoms.has(e)&&S instanceof ys)return new Map;return a=void 0,new Map().set(e,so(S))}function E(){return eN(e)!==void 0&&s<=0}const v=yz({key:e,nodeType:"atom",peek:f,get:p,set:g,init:h,invalidate:m,shouldDeleteConfigOnRelease:E,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return v}function Py(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return Sz(n)?xz({...e,default:n}):Iz({...e,default:n})}function xz(t){const e=Py({...t,default:pi,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof ys?r:tt(t.persistence_UNSTABLE).validator(r,pi)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=ra({key:`${t.key}__withFallback`,get:({get:r})=>{const s=r(e);return s instanceof ys?t.default:s},set:({set:r},s)=>r(e,s),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return Ez(n.key,eN(t.key)),n}Py.value=t=>new Z1(t);var tN=Py;class Nz{constructor(e){var n;_e(this,"_map",void 0),_e(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var bz={MapCache:Nz},Az=bz.MapCache,kz=Object.freeze({__proto__:null,MapCache:Az});const{LRUCache:ww}=Q1,{MapCache:Pz}=kz,Bu={equality:"reference",eviction:"none",maxSize:1/0};function Lz({equality:t=Bu.equality,eviction:e=Bu.eviction,maxSize:n=Bu.maxSize}=Bu){const r=Oz(t);return Dz(e,n,r)}function Oz(t){switch(t){case"reference":return e=>e;case"value":return e=>kf(e)}throw Se(`Unrecognized equality policy ${t}`)}function Dz(t,e,n){switch(t){case"keep-all":return new Pz({mapKey:n});case"lru":return new ww({mapKey:n,maxSize:tt(e)});case"most-recent":return new ww({mapKey:n,maxSize:1})}throw Se(`Unrecognized eviction policy ${t}`)}var nN=Lz;const{setConfigDeletionHandler:Mz}=wn;function jz(t){var e,n;const r=nN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i,o;const a=r.get(s);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...c}=t,d="default"in t?t.default:new Promise(()=>{}),h=tN({...c,key:`${t.key}__${(i=kf(s))!==null&&i!==void 0?i:"void"}`,default:typeof d=="function"?d(s):d,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(s):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(s):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(s,h),Mz(h.key,()=>{r.delete(s)}),h}}var $z=jz;const{setConfigDeletionHandler:Vz}=wn;let Fz=0;function Uz(t){var e,n;const r=nN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i;let o;try{o=r.get(s)}catch(f){throw Se(`Problem with cache lookup for selector ${t.key}: ${f.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(i=kf(s,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${Fz++}`,l=f=>t.get(s)(f),c=t.cachePolicy_UNSTABLE,d=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const f=t.set;h=ra({key:a,get:l,set:(m,g)=>f(s)(m,g),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:d})}else h=ra({key:a,get:l,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:d});return r.set(s,h),Vz(h.key,()=>{r.delete(s)}),h}}var ri=Uz;const Bz=ri({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function zz(t){return Bz(t)}var Hz=zz;const Wz=ri({key:"__error",get:t=>()=>{throw Se(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function qz(t){return Wz(t)}var Gz=qz;function Kz(t){return t}var Qz=Kz;const{loadableWithError:rN,loadableWithPromise:sN,loadableWithValue:iN}=Uc;function Pf(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[s,i]of e.entries())try{n[s]=t(i)}catch(o){r[s]=o}return[n,r]}function Yz(t){return t!=null&&!Ge(t)}function Lf(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function cv(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,s)=>({...n,[r]:e[s]}),{})}function jo(t,e,n){const r=n.map((s,i)=>s==null?iN(e[i]):Ge(s)?sN(s):rN(s));return cv(t,r)}function Xz(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const Jz=ri({key:"__waitForNone",get:t=>({get:e})=>{const n=Lf(t),[r,s]=Pf(e,n);return jo(t,r,s)},dangerouslyAllowMutability:!0}),Zz=ri({key:"__waitForAny",get:t=>({get:e})=>{const n=Lf(t),[r,s]=Pf(e,n);return s.some(i=>!Ge(i))?jo(t,r,s):new Promise(i=>{for(const[o,a]of s.entries())Ge(a)&&a.then(l=>{r[o]=l,s[o]=void 0,i(jo(t,r,s))}).catch(l=>{s[o]=l,i(jo(t,r,s))})})},dangerouslyAllowMutability:!0}),e3=ri({key:"__waitForAll",get:t=>({get:e})=>{const n=Lf(t),[r,s]=Pf(e,n);if(s.every(o=>o==null))return cv(t,r);const i=s.find(Yz);if(i!=null)throw i;return Promise.all(s).then(o=>cv(t,Xz(r,o)))},dangerouslyAllowMutability:!0}),t3=ri({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Lf(t),[r,s]=Pf(e,n);return s.every(i=>!Ge(i))?jo(t,r,s):Promise.all(s.map((i,o)=>Ge(i)?i.then(a=>{r[o]=a,s[o]=void 0}).catch(a=>{r[o]=void 0,s[o]=a}):null)).then(()=>jo(t,r,s))},dangerouslyAllowMutability:!0}),n3=ri({key:"__noWait",get:t=>({get:e})=>{try{return ra.value(iN(e(t)))}catch(n){return ra.value(Ge(n)?sN(n):rN(n))}},dangerouslyAllowMutability:!0});var r3={waitForNone:Jz,waitForAny:Zz,waitForAll:e3,waitForAllSettled:t3,noWait:n3};const{RecoilLoadable:s3}=Uc,{DefaultValue:i3}=wn,{RecoilRoot:o3,useRecoilStoreID:a3}=fs,{isRecoilValue:l3}=ea,{retentionZone:c3}=Ef,{freshSnapshot:u3}=If,{useRecoilState:d3,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:h3,useRecoilStateLoadable:f3,useRecoilValue:p3,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:m3,useRecoilValueLoadable:g3,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:v3,useResetRecoilState:_3,useSetRecoilState:y3}=b4,{useGotoRecoilSnapshot:E3,useRecoilSnapshot:S3,useRecoilTransactionObserver:w3}=B1,{useRecoilCallback:T3}=q1,{noWait:C3,waitForAll:R3,waitForAllSettled:I3,waitForAny:x3,waitForNone:N3}=r3;var Ly={DefaultValue:i3,isRecoilValue:l3,RecoilLoadable:s3,RecoilEnv:Ta,RecoilRoot:o3,useRecoilStoreID:a3,useRecoilBridgeAcrossReactRoots_UNSTABLE:nB,atom:tN,selector:ra,atomFamily:$z,selectorFamily:ri,constSelector:Hz,errorSelector:Gz,readOnlySelector:Qz,noWait:C3,waitForNone:N3,waitForAny:x3,waitForAll:R3,waitForAllSettled:I3,useRecoilValue:p3,useRecoilValueLoadable:g3,useRecoilState:d3,useRecoilStateLoadable:f3,useSetRecoilState:y3,useResetRecoilState:_3,useGetRecoilValueInfo_UNSTABLE:Y4,useRecoilRefresher_UNSTABLE:kB,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:v3,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:m3,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:h3,useRecoilCallback:T3,useRecoilTransaction_UNSTABLE:MB,useGotoRecoilSnapshot:E3,useRecoilSnapshot:S3,useRecoilTransactionObserver_UNSTABLE:w3,snapshot_UNSTABLE:u3,useRetain:xy,retentionZone:c3},b3=Ly.RecoilRoot,Of=Ly.atom,$o=Ly.useRecoilState;const B={init:function(){this.dpmode.init(),this.viewport.init.evt(),console.log("ui.init")},e:1,aaa:function(){console.log("dsfafsafdsffsafasfdfas")},error:{poster:t=>t.target.src="./img/common/non_poster.png",user:t=>t.target.src="./img/common/user.png"},iosx:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top").replace(/[^0-9]/g,""))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom").replace(/[^0-9]/g,""))||0},viewport:{init:{evt:function(){window.addEventListener("load",this.set),window.addEventListener("resize",this.set)},set:()=>document.documentElement.style.setProperty("--vh",window.innerHeight*.01+"px")},height:()=>parseInt(window.visualViewport?visualViewport.height:window.innerHeight),width:()=>parseInt(window.visualViewport?visualViewport.width:window.innerWidth),docHeight:()=>parseInt(document.documentElement.scrollHeight||document.body.clientHeight),scrollTop:()=>parseInt(document.documentElement.scrollTop)},dateForm:(t,e)=>(e=e===void 0?e="medium":null,new Intl.DateTimeFormat("ko-KR",{dateStyle:e,timeStyle:e}).format(t)),getSafe:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top"))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom"))||0,watch:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-watch"))||0},commas:{add:t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),del:t=>parseInt(t.replace(/,/g,""))},numToCommaHan:function(t){var e=["영","일","이","삼","사","오","육","칠","팔","구"];t=t+"",e=parseInt(t.replace(/,/gi,""));let n=e<0?!1:e,r=["","만","억","조","경"],s=1e4,i=r.length,o=[],a="";for(let l=0;l<i;l++){let c=n%Math.pow(s,l+1)/Math.pow(s,l);c=Math.floor(c),c>0&&(o[l]=c)}for(let l=0;l<o.length;l++){if(!o[l])continue;let c=o[l].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");a=String(c)+r[l]+a}return a},makeHan:function(t){for(var e=["영","일","이","삼","사","오","육","칠","팔","구"],n=["천","백","십",""],r="",s=0;s<t.length;s++){var i=t[s];i!="0"&&(r+=e[i]+n[s])}return r},dpmode:{init:function(){setInterval(this.set,500)},set:function(){const t=window.matchMedia("(display-mode: fullscreen)").matches,e=window.matchMedia("(display-mode: standalone)").matches;t?document.documentElement.classList.add("is-pwa-fullscreen"):document.documentElement.classList.remove("is-pwa-fullscreen"),t?document.documentElement.style.setProperty("--safe-watch","24px"):document.documentElement.style.setProperty("--safe-watch","0px"),e?document.documentElement.classList.add("is-pwa-standalone"):document.documentElement.classList.remove("is-pwa-standalone")}},scrollTo:(t,e,n,r)=>{const s=document.querySelector(t);if(!s)return;console.log(s);const i=s.scrollTop||document.documentElement.scrollTop,o=e,a=performance.now(),l=c=>{const d=c-a,h=Math.min(d/n,1),f=h<.5?4*h*h*h:(h-1)*(2*h-2)*(2*h-2)+1,p=i+(o-i)*f;s===document.body?window.scrollTo(0,p):s.scrollTop=p,d<n?requestAnimationFrame(l):typeof r=="function"&&r()};requestAnimationFrame(l)},popup:{evt:function(){},resize:function(){var s,i;let t=document.querySelector(".pop-layer"),e=t.offsetHeight||0,n=((s=t.querySelector(".pbt"))==null?void 0:s.offsetHeight)||0,r=((i=t.querySelector(".phd"))==null?void 0:i.offsetHeight)||0;e=e-r||0,console.log(e),t.querySelector(".pct").style.maxHeight=e-n+"px"}},alert:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인"},e);if(document.querySelectorAll(".ui-alert").length)return;B.lock.using(!0);var r=`<article class="ui-alert ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-alert");s.classList.add("is-alert"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelectorAll(".btn-confirm, .btn-close").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-alert"),document.querySelectorAll(".pop-layer").length<1&&B.lock.using(!1)}},confirm:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인",ncb:"",nbt:"취소"},e);if(document.querySelectorAll(".ui-confirm").length)return;B.lock.using(!0);let r=`<article class="ui-confirm ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-cancel">${n.nbt}</button>
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-confirm");s.classList.add("is-confrim"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelector(".btn-cancel").addEventListener("click",()=>window.setTimeout(n.ncb)),i.querySelectorAll(".btn-confirm, .btn-close , .btn-cancel").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-confrim"),document.querySelectorAll(".pop-layer").length<1&&B.lock.using(!1)}},loading:{show:function(t){var e="";document.querySelectorAll("body>.ui-loading").length||(console.log(t),(t=="dot"||t==null)&&(e=`<div class="ui-loading ui-loading-dot">
                    <div class="bx"><em><i></i></em></div>
                </div>`),t=="glx"&&(e=`<span class="ui-loading ui-load-glx full">
                <span class="gbx">
                    <em class="bx">
                        <i></i> <i></i><i></i><i></i>
                    </em>
                </span>
              </span>`),document.querySelector("body").insertAdjacentHTML("afterbegin",e),document.querySelector("body").classList.add("is-loading"))},hide:function(){document.querySelectorAll("body>.ui-loading.full").forEach(t=>t.remove()),document.querySelector("body").classList.remove("is-loading")}},lock:{sct:0,gap:()=>window.innerWidth-document.body.clientWidth,stat:!1,els:".pop-layer  , .ui-confirm , .ui-alert",set:function(){document.querySelectorAll(this.els).length<=0&&this.using(!1)},using:function(t){const e=document.querySelectorAll("body , html"),n=document.querySelector("html");t===!0&&this.stat===!1&&(document.documentElement.style.setProperty("--scrPad",`${this.gap()}rem`),B.lock.stat=!0,B.lock.sct=window.scrollY,e.forEach(r=>r.classList.add("is-lock","is-lock-end")),n.style.top=-B.lock.sct+"px"),t===!1&&document.querySelectorAll(this.els).length<=0&&n.classList.contains("is-lock")&&(B.lock.stat=!1,e.forEach(r=>r.classList.remove("is-lock")),n.style.top="",window.scrollTo(0,B.lock.sct),setTimeout(()=>{e.forEach(r=>r.classList.remove("is-lock-end"))},50),document.documentElement.style.setProperty("--scrPad","0rem"))}}};window.ui=B;var A3="firebase",k3="10.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(A3,k3,"app");var P3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,Oy=Oy||{},pe=P3||self;function Df(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Gc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function L3(t){return Object.prototype.hasOwnProperty.call(t,Sm)&&t[Sm]||(t[Sm]=++O3)}var Sm="closure_uid_"+(1e9*Math.random()>>>0),O3=0;function D3(t,e,n){return t.call.apply(t.bind,arguments)}function M3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=D3:Yt=M3,Yt.apply(null,arguments)}function zu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function si(){this.s=this.s,this.o=this.o}var j3=0;si.prototype.s=!1;si.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),j3!=0)&&L3(this)};si.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const oN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Dy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Tw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Df(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var $3=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pe.addEventListener("test",()=>{},e),pe.removeEventListener("test",()=>{},e)}catch{}return t}();function uc(t){return/^[\s\xa0]*$/.test(t)}function Mf(){var t=pe.navigator;return t&&(t=t.userAgent)?t:""}function fr(t){return Mf().indexOf(t)!=-1}function My(t){return My[" "](t),t}My[" "]=function(){};function V3(t,e){var n=k9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var F3=fr("Opera"),sa=fr("Trident")||fr("MSIE"),aN=fr("Edge"),uv=aN||sa,lN=fr("Gecko")&&!(Mf().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge"))&&!(fr("Trident")||fr("MSIE"))&&!fr("Edge"),U3=Mf().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge");function cN(){var t=pe.document;return t?t.documentMode:void 0}var dv;e:{var wm="",Tm=function(){var t=Mf();if(lN)return/rv:([^\);]+)(\)|;)/.exec(t);if(aN)return/Edge\/([\d\.]+)/.exec(t);if(sa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(U3)return/WebKit\/(\S+)/.exec(t);if(F3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Tm&&(wm=Tm?Tm[1]:""),sa){var Cm=cN();if(Cm!=null&&Cm>parseFloat(wm)){dv=String(Cm);break e}}dv=wm}var hv;if(pe.document&&sa){var Cw=cN();hv=Cw||parseInt(dv,10)||void 0}else hv=void 0;var B3=hv;function dc(t,e){if(Xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(lN){e:{try{My(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:z3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dc.$.h.call(this)}}kt(dc,Xt);var z3={2:"touch",3:"pen",4:"mouse"};dc.prototype.h=function(){dc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kc="closure_listenable_"+(1e6*Math.random()|0),H3=0;function W3(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++H3,this.fa=this.ia=!1}function jf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function q3(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function uN(t){const e={};for(const n in t)e[n]=t[n];return e}const Rw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function dN(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Rw.length;i++)n=Rw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function $f(t){this.src=t,this.g={},this.h=0}$f.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=pv(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new W3(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function fv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=oN(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(jf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function pv(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var $y="closure_lm_"+(1e6*Math.random()|0),Rm={};function hN(t,e,n,r,s){if(r&&r.once)return pN(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)hN(t,e[i],n,r,s);return null}return n=Uy(n),t&&t[Kc]?t.O(e,n,Gc(r)?!!r.capture:!!r,s):fN(t,e,n,!1,r,s)}function fN(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Gc(s)?!!s.capture:!!s,a=Fy(t);if(a||(t[$y]=a=new $f(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=G3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$3||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(gN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function G3(){function t(n){return e.call(t.src,t.listener,n)}const e=K3;return t}function pN(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)pN(t,e[i],n,r,s);return null}return n=Uy(n),t&&t[Kc]?t.P(e,n,Gc(r)?!!r.capture:!!r,s):fN(t,e,n,!0,r,s)}function mN(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)mN(t,e[i],n,r,s);else r=Gc(r)?!!r.capture:!!r,n=Uy(n),t&&t[Kc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=pv(i,n,r,s),-1<n&&(jf(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Fy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=pv(e,n,r,s)),(n=-1<t?e[t]:null)&&Vy(n))}function Vy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Kc])fv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(gN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fy(e))?(fv(n,t),n.h==0&&(n.src=null,e[$y]=null)):jf(t)}}}function gN(t){return t in Rm?Rm[t]:Rm[t]="on"+t}function K3(t,e){if(t.fa)t=!0;else{e=new dc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Vy(t),t=n.call(r,e)}return t}function Fy(t){return t=t[$y],t instanceof $f?t:null}var Im="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uy(t){return typeof t=="function"?t:(t[Im]||(t[Im]=function(e){return t.handleEvent(e)}),t[Im])}function At(){si.call(this),this.i=new $f(this),this.S=this,this.J=null}kt(At,si);At.prototype[Kc]=!0;At.prototype.removeEventListener=function(t,e,n,r){mN(this,t,e,n,r)};function jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Xt(e,t);else if(e instanceof Xt)e.target=e.target||t;else{var s=e;e=new Xt(r,t),dN(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Hu(o,r,!0,e)&&s}if(o=e.g=t,s=Hu(o,r,!0,e)&&s,s=Hu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Hu(o,r,!1,e)&&s}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)jf(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Hu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&fv(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var By=pe.JSON.stringify;class Q3{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Y3(){var t=zy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class X3{constructor(){this.h=this.g=null}add(e,n){const r=vN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var vN=new Q3(()=>new J3,t=>t.reset());class J3{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Z3(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function e9(t){pe.setTimeout(()=>{throw t},0)}let hc,fc=!1,zy=new X3,_N=()=>{const t=pe.Promise.resolve(void 0);hc=()=>{t.then(t9)}};var t9=()=>{for(var t;t=Y3();){try{t.h.call(t.g)}catch(n){e9(n)}var e=vN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fc=!1};function Vf(t,e){At.call(this),this.h=t||1,this.g=e||pe,this.j=Yt(this.qb,this),this.l=Date.now()}kt(Vf,At);Q=Vf.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jt(this,"tick"),this.ga&&(Hy(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Hy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){Vf.$.N.call(this),Hy(this),delete this.g};function Wy(t,e,n){if(typeof t=="function")n&&(t=Yt(t,n));else if(t&&typeof t.handleEvent=="function")t=Yt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pe.setTimeout(t,e||0)}function yN(t){t.g=Wy(()=>{t.g=null,t.i&&(t.i=!1,yN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class n9 extends si{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:yN(this)}N(){super.N(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pc(t){si.call(this),this.h=t,this.g={}}kt(pc,si);var Iw=[];function EN(t,e,n,r){Array.isArray(n)||(n&&(Iw[0]=n.toString()),n=Iw);for(var s=0;s<n.length;s++){var i=hN(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function SN(t){jy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vy(e)},t),t.g={}}pc.prototype.N=function(){pc.$.N.call(this),SN(this)};pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Ff(){this.g=!0}Ff.prototype.Ea=function(){this.g=!1};function r9(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var d=c[0];c=c[1];var h=d.split("_");o=2<=h.length&&h[1]=="type"?o+(d+"="+c+"&"):o+(d+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function s9(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Io(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+o9(t,n)+(r?" "+r:"")})}function i9(t,e){t.info(function(){return"TIMEOUT: "+e})}Ff.prototype.info=function(){};function o9(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return By(n)}catch{return e}}var Xi={},xw=null;function Uf(){return xw=xw||new At}Xi.Ta="serverreachability";function wN(t){Xt.call(this,Xi.Ta,t)}kt(wN,Xt);function mc(t){const e=Uf();jt(e,new wN(e))}Xi.STAT_EVENT="statevent";function TN(t,e){Xt.call(this,Xi.STAT_EVENT,t),this.stat=e}kt(TN,Xt);function on(t){const e=Uf();jt(e,new TN(e,t))}Xi.Ua="timingevent";function CN(t,e){Xt.call(this,Xi.Ua,t),this.size=e}kt(CN,Xt);function Qc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){t()},e)}var Bf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},RN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qy(){}qy.prototype.h=null;function Nw(t){return t.h||(t.h=t.i())}function IN(){}var Yc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gy(){Xt.call(this,"d")}kt(Gy,Xt);function Ky(){Xt.call(this,"c")}kt(Ky,Xt);var mv;function zf(){}kt(zf,qy);zf.prototype.g=function(){return new XMLHttpRequest};zf.prototype.i=function(){return{}};mv=new zf;function Xc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new pc(this),this.P=a9,t=uv?125:void 0,this.V=new Vf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new xN}function xN(){this.i=null,this.g="",this.h=!1}var a9=45e3,gv={},gh={};Q=Xc.prototype;Q.setTimeout=function(t){this.P=t};function vv(t,e,n){t.L=1,t.v=Wf(ss(e)),t.s=n,t.S=!0,NN(t,null)}function NN(t,e){t.G=Date.now(),Jc(t),t.A=ss(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),MN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new xN,t.g=rb(t.l,n?e:null,!t.s),0<t.O&&(t.M=new n9(Yt(t.Pa,t,t.g),t.O)),EN(t.U,t.g,"readystatechange",t.nb),e=t.I?uN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),mc(),r9(t.j,t.u,t.A,t.m,t.W,t.s)}Q.nb=function(t){t=t.target;const e=this.M;e&&pr(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const d=pr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>d)&&(d!=3||uv||this.g&&(this.h.h||this.g.ja()||Pw(this.g)))){this.J||d!=4||e==7||(e==8||0>=h?mc(3):mc(2)),Hf(this);var n=this.g.da();this.ca=n;t:if(bN(this)){var r=Pw(this.g);t="";var s=r.length,i=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_i(this),Al(this);var o="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,s9(this.j,this.u,this.A,this.m,this.W,d,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uc(a)){var c=a;break t}}c=null}if(n=c)Io(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_v(this,n);else{this.i=!1,this.o=3,on(12),_i(this),Al(this);break e}}this.S?(AN(this,d,o),uv&&this.i&&d==3&&(EN(this.U,this.V,"tick",this.mb),this.V.start())):(Io(this.j,this.m,o,null),_v(this,o)),d==4&&_i(this),this.i&&!this.J&&(d==4?ZN(this.l,this):(this.i=!1,Jc(this)))}else N9(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,on(12)):(this.o=0,on(13)),_i(this),Al(this)}}}catch{}finally{}};function bN(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function AN(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=l9(t,n),s==gh){e==4&&(t.o=4,on(14),r=!1),Io(t.j,t.m,null,"[Incomplete Response]");break}else if(s==gv){t.o=4,on(15),Io(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Io(t.j,t.m,s,null),_v(t,s);bN(t)&&s!=gh&&s!=gv&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),e0(e),e.M=!0,on(11))):(Io(t.j,t.m,n,"[Invalid Chunked Response]"),_i(t),Al(t))}Q.mb=function(){if(this.g){var t=pr(this.g),e=this.g.ja();this.C<e.length&&(Hf(this),AN(this,t,e),this.i&&t!=4&&Jc(this))}};function l9(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?gh:(n=Number(e.substring(n,r)),isNaN(n)?gv:(r+=1,r+n>e.length?gh:(e=e.slice(r,r+n),t.C=r+n,e)))}Q.cancel=function(){this.J=!0,_i(this)};function Jc(t){t.Y=Date.now()+t.P,kN(t,t.P)}function kN(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Qc(Yt(t.lb,t),e)}function Hf(t){t.B&&(pe.clearTimeout(t.B),t.B=null)}Q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(i9(this.j,this.A),this.L!=2&&(mc(),on(17)),_i(this),this.o=2,Al(this)):kN(this,this.Y-t)};function Al(t){t.l.H==0||t.J||ZN(t.l,t)}function _i(t){Hf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Hy(t.V),SN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function _v(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||yv(n.i,t))){if(!t.K&&yv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)yh(n),Kf(n);else break e;Zy(n),on(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Qc(Yt(n.ib,n),6e3));if(1>=VN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else yi(n,11)}else if((t.K||n.g==t)&&yh(n),!uc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const d=c[3];d!=null&&(n.ra=d,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Qy(i,i.h),i.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,qe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=nb(r,r.J?r.pa:null,r.Y),o.K){FN(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Hf(a),Jc(a)),r.g=o}else XN(r);0<n.j.length&&Qf(n)}else c[0]!="stop"&&c[0]!="close"||yi(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?yi(n,7):Jy(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}mc(4)}catch{}}function c9(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Df(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function u9(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Df(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function PN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Df(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=u9(t),r=c9(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var LN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function d9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ri(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ri){this.h=t.h,vh(this,t.j),this.s=t.s,this.g=t.g,_h(this,t.m),this.l=t.l;var e=t.i,n=new gc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),bw(this,n),this.o=t.o}else t&&(e=String(t).match(LN))?(this.h=!1,vh(this,e[1]||"",!0),this.s=fl(e[2]||""),this.g=fl(e[3]||"",!0),_h(this,e[4]),this.l=fl(e[5]||"",!0),bw(this,e[6]||"",!0),this.o=fl(e[7]||"")):(this.h=!1,this.i=new gc(null,this.h))}Ri.prototype.toString=function(){var t=[],e=this.j;e&&t.push(pl(e,Aw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(pl(e,Aw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(pl(n,n.charAt(0)=="/"?p9:f9,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",pl(n,g9)),t.join("")};function ss(t){return new Ri(t)}function vh(t,e,n){t.j=n?fl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _h(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function bw(t,e,n){e instanceof gc?(t.i=e,v9(t.i,t.h)):(n||(e=pl(e,m9)),t.i=new gc(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function Wf(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,h9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function h9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Aw=/[#\/\?@]/g,f9=/[#\?:]/g,p9=/[#\?]/g,m9=/[#\?@]/g,g9=/#/g;function gc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ii(t){t.g||(t.g=new Map,t.h=0,t.i&&d9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=gc.prototype;Q.add=function(t,e){ii(this),this.i=null,t=Ra(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function ON(t,e){ii(t),e=Ra(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function DN(t,e){return ii(t),e=Ra(t,e),t.g.has(e)}Q.forEach=function(t,e){ii(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Q.ta=function(){ii(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};Q.Z=function(t){ii(this);let e=[];if(typeof t=="string")DN(this,t)&&(e=e.concat(this.g.get(Ra(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return ii(this),this.i=null,t=Ra(this,t),DN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function MN(t,e,n){ON(t,e),0<n.length&&(t.i=null,t.g.set(Ra(t,e),Dy(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Ra(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function v9(t,e){e&&!t.j&&(ii(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(ON(this,r),MN(this,s,n))},t)),t.j=e}var _9=class{constructor(t,e){this.g=t,this.map=e}};function jN(t){this.l=t||y9,pe.PerformanceNavigationTiming?(t=pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pe.g&&pe.g.Ka&&pe.g.Ka()&&pe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var y9=10;function $N(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function VN(t){return t.h?1:t.g?t.g.size:0}function yv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qy(t,e){t.g?t.g.add(e):t.h=e}function FN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}jN.prototype.cancel=function(){if(this.i=UN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function UN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Dy(t.i)}var E9=class{stringify(t){return pe.JSON.stringify(t,void 0)}parse(t){return pe.JSON.parse(t,void 0)}};function S9(){this.g=new E9}function w9(t,e,n){const r=n||"";try{PN(t,function(s,i){let o=s;Gc(s)&&(o=By(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function T9(t,e){const n=new Ff;if(pe.Image){const r=new Image;r.onload=zu(Wu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zu(Wu,n,r,"TestLoadImage: error",!1,e),r.onabort=zu(Wu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zu(Wu,n,r,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Wu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Zc(t){this.l=t.fc||null,this.j=t.ob||!1}kt(Zc,qy);Zc.prototype.g=function(){return new qf(this.l,this.j)};Zc.prototype.i=function(t){return function(){return t}}({});function qf(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Yy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(qf,At);var Yy=0;Q=qf.prototype;Q.open=function(t,e){if(this.readyState!=Yy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,vc(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,eu(this)),this.readyState=Yy};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,vc(this)),this.g&&(this.readyState=3,vc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function BN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?eu(this):vc(this),this.readyState==3&&BN(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,eu(this))};Q.Ya=function(t){this.g&&(this.response=t,eu(this))};Q.ka=function(){this.g&&eu(this)};function eu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,vc(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function vc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(qf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var C9=pe.JSON.parse;function lt(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=zN,this.L=this.M=!1}kt(lt,At);var zN="",R9=/^https?$/i,I9=["POST","PUT"];Q=lt.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():mv.g(),this.C=this.u?Nw(this.u):Nw(mv),this.g.onreadystatechange=Yt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){kw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=pe.FormData&&t instanceof pe.FormData,!(0<=oN(I9,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{qN(this),0<this.B&&((this.L=x9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.ua,this)):this.A=Wy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){kw(this,i)}};function x9(t){return sa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof Oy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))};function kw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,HN(t),Gf(t)}function HN(t){t.F||(t.F=!0,jt(t,"complete"),jt(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),Gf(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Gf(this,!0)),lt.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?WN(this):this.kb())};Q.kb=function(){WN(this)};function WN(t){if(t.h&&typeof Oy<"u"&&(!t.C[1]||pr(t)!=4||t.da()!=2)){if(t.v&&pr(t)==4)Wy(t.La,0,t);else if(jt(t,"readystatechange"),pr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(LN)[1]||null;!s&&pe.self&&pe.self.location&&(s=pe.self.location.protocol.slice(0,-1)),r=!R9.test(s?s.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var i=2<pr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",HN(t)}}finally{Gf(t)}}}}function Gf(t,e){if(t.g){qN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function qN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(pe.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function pr(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),C9(e)}};function Pw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case zN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function N9(t){const e={};t=(t.g&&2<=pr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(uc(t[r]))continue;var n=Z3(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}q3(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function GN(t){let e="";return jy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Xy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=GN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function Qa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function KN(t){this.Ga=0,this.j=[],this.l=new Ff,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Qa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Qa("baseRetryDelayMs",5e3,t),this.hb=Qa("retryDelaySeedMs",1e4,t),this.eb=Qa("forwardChannelMaxRetries",2,t),this.xa=Qa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new jN(t&&t.concurrentRequestLimit),this.Ja=new S9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=KN.prototype;Q.ra=8;Q.H=1;function Jy(t){if(QN(t),t.H==3){var e=t.W++,n=ss(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),tu(t,n),e=new Xc(t,t.l,e),e.L=2,e.v=Wf(ss(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon)try{n=pe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&pe.Image&&(new Image().src=e.v,n=!0),n||(e.g=rb(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Jc(e)}tb(t)}function Kf(t){t.g&&(e0(t),t.g.cancel(),t.g=null)}function QN(t){Kf(t),t.u&&(pe.clearTimeout(t.u),t.u=null),yh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&pe.clearTimeout(t.m),t.m=null)}function Qf(t){if(!$N(t.i)&&!t.m){t.m=!0;var e=t.Na;hc||_N(),fc||(hc(),fc=!0),zy.add(e,t),t.C=0}}function b9(t,e){return VN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Qc(Yt(t.Na,t,e),eb(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Xc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=uN(i),dN(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=YN(this,s,e),n=ss(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),tu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(GN(i)))+"&"+e:this.o&&Xy(n,this.o,i)),Qy(this.i,s),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),s.aa=!0,vv(s,n,null)):vv(s,n,e),this.H=2}}else this.H==3&&(t?Lw(this,t):this.j.length==0||$N(this.i)||Lw(this))};function Lw(t,e){var n;e?n=e.m:n=t.W++;const r=ss(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),tu(t,r),t.o&&t.s&&Xy(r,t.o,t.s),n=new Xc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=YN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Qy(t.i,n),vv(n,r,e)}function tu(t,e){t.na&&jy(t.na,function(n,r){qe(e,r,n)}),t.h&&PN({},function(n,r){qe(e,r,n)})}function YN(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Yt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const d=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{w9(d,o,"req"+c+"_")}catch{r&&r(d)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function XN(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;hc||_N(),fc||(hc(),fc=!0),zy.add(e,t),t.A=0}}function Zy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Qc(Yt(t.Ma,t),eb(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,JN(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qc(Yt(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),Kf(this),JN(this))};function e0(t){t.B!=null&&(pe.clearTimeout(t.B),t.B=null)}function JN(t){t.g=new Xc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ss(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),tu(t,e),t.o&&t.s&&Xy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Wf(ss(e)),n.s=null,n.S=!0,NN(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Kf(this),Zy(this),on(19))};function yh(t){t.v!=null&&(pe.clearTimeout(t.v),t.v=null)}function ZN(t,e){var n=null;if(t.g==e){yh(t),e0(t),t.g=null;var r=2}else if(yv(t.i,e))n=e.F,FN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Uf(),jt(r,new CN(r,n)),Qf(t)}else XN(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&b9(t,e)||r==2&&Zy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:yi(t,5);break;case 4:yi(t,10);break;case 3:yi(t,6);break;default:yi(t,2)}}}function eb(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function yi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Yt(t.pb,t);n||(n=new Ri("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||vh(n,"https"),Wf(n)),T9(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),tb(t),QN(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))};function tb(t){if(t.H=0,t.ma=[],t.h){const e=UN(t.i);(e.length!=0||t.j.length!=0)&&(Tw(t.ma,e),Tw(t.ma,t.j),t.i.i.length=0,Dy(t.j),t.j.length=0),t.h.ya()}}function nb(t,e,n){var r=n instanceof Ri?ss(n):new Ri(n);if(r.g!="")e&&(r.g=e+"."+r.g),_h(r,r.m);else{var s=pe.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ri(null);r&&vh(i,r),e&&(i.g=e),s&&_h(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.ra),tu(t,r),r}function rb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new lt(new Zc({ob:!0})):new lt(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function sb(){}Q=sb.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function Eh(){if(sa&&!(10<=Number(B3)))throw Error("Environmental error: no available transport.")}Eh.prototype.g=function(t,e){return new kn(t,e)};function kn(t,e){At.call(this),this.g=new KN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!uc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ia(this)}kt(kn,At);kn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=nb(t,null,t.Y),Qf(t)};kn.prototype.close=function(){Jy(this.g)};kn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=By(t),t=n);e.j.push(new _9(e.fb++,t)),e.H==3&&Qf(e)};kn.prototype.N=function(){this.g.h=null,delete this.j,Jy(this.g),delete this.g,kn.$.N.call(this)};function ib(t){Gy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kt(ib,Gy);function ob(){Ky.call(this),this.status=1}kt(ob,Ky);function Ia(t){this.g=t}kt(Ia,sb);Ia.prototype.Ba=function(){jt(this.g,"a")};Ia.prototype.Aa=function(t){jt(this.g,new ib(t))};Ia.prototype.za=function(t){jt(this.g,new ob)};Ia.prototype.ya=function(){jt(this.g,"b")};function A9(){this.blockSize=-1}function lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kt(lr,A9);lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function xm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}lr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)xm(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){xm(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){xm(this,r),s=0;break}}this.h=s,this.i+=e};lr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function je(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var k9={};function t0(t){return-128<=t&&128>t?V3(t,function(e){return new je([e|0],0>e?-1:0)}):new je([t|0],0>t?-1:0)}function mr(t){if(isNaN(t)||!isFinite(t))return Vo;if(0>t)return Ot(mr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ev;return new je(e,0)}function ab(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ot(ab(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mr(Math.pow(e,8)),r=Vo,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=mr(Math.pow(e,i)),r=r.R(i).add(mr(o))):(r=r.R(n),r=r.add(mr(o)))}return r}var Ev=4294967296,Vo=t0(0),Sv=t0(1),Ow=t0(16777216);Q=je.prototype;Q.ea=function(){if(Vn(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ev+r)*e,e*=Ev}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(qr(this))return"0";if(Vn(this))return"-"+Ot(this).toString(t);for(var e=mr(Math.pow(t,6)),n=this,r="";;){var s=wh(n,e).g;n=Sh(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,qr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function qr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Vn(t){return t.h==-1}Q.X=function(t){return t=Sh(this,t),Vn(t)?-1:qr(t)?0:1};function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new je(n,~t.h).add(Sv)}Q.abs=function(){return Vn(this)?Ot(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new je(n,n[n.length-1]&-2147483648?-1:0)};function Sh(t,e){return t.add(Ot(e))}Q.R=function(t){if(qr(this)||qr(t))return Vo;if(Vn(this))return Vn(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if(Vn(t))return Ot(this.R(Ot(t)));if(0>this.X(Ow)&&0>t.X(Ow))return mr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,qu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,qu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,qu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,qu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new je(n,0)};function qu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ya(t,e){this.g=t,this.h=e}function wh(t,e){if(qr(e))throw Error("division by zero");if(qr(t))return new Ya(Vo,Vo);if(Vn(t))return e=wh(Ot(t),e),new Ya(Ot(e.g),Ot(e.h));if(Vn(e))return e=wh(t,Ot(e)),new Ya(Ot(e.g),e.h);if(30<t.g.length){if(Vn(t)||Vn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Sv,r=e;0>=r.X(t);)n=Dw(n),r=Dw(r);var s=io(n,1),i=io(r,1);for(r=io(r,2),n=io(n,2);!qr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=io(r,1),n=io(n,1)}return e=Sh(t,s.R(e)),new Ya(s,e)}for(s=Vo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=mr(n),o=i.R(e);Vn(o)||0<o.X(t);)n-=r,i=mr(n),o=i.R(e);qr(i)&&(i=Sv),s=s.add(i),t=Sh(t,o)}return new Ya(s,t)}Q.gb=function(t){return wh(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new je(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new je(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new je(n,this.h^t.h)};function Dw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new je(n,t.h)}function io(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new je(s,t.h)}Eh.prototype.createWebChannel=Eh.prototype.g;kn.prototype.send=kn.prototype.u;kn.prototype.open=kn.prototype.m;kn.prototype.close=kn.prototype.close;Bf.NO_ERROR=0;Bf.TIMEOUT=8;Bf.HTTP_ERROR=6;RN.COMPLETE="complete";IN.EventType=Yc;Yc.OPEN="a";Yc.CLOSE="b";Yc.ERROR="c";Yc.MESSAGE="d";At.prototype.listen=At.prototype.O;lt.prototype.listenOnce=lt.prototype.P;lt.prototype.getLastError=lt.prototype.Sa;lt.prototype.getLastErrorCode=lt.prototype.Ia;lt.prototype.getStatus=lt.prototype.da;lt.prototype.getResponseJson=lt.prototype.Wa;lt.prototype.getResponseText=lt.prototype.ja;lt.prototype.send=lt.prototype.ha;lt.prototype.setWithCredentials=lt.prototype.Oa;lr.prototype.digest=lr.prototype.l;lr.prototype.reset=lr.prototype.reset;lr.prototype.update=lr.prototype.j;je.prototype.add=je.prototype.add;je.prototype.multiply=je.prototype.R;je.prototype.modulo=je.prototype.gb;je.prototype.compare=je.prototype.X;je.prototype.toNumber=je.prototype.ea;je.prototype.toString=je.prototype.toString;je.prototype.getBits=je.prototype.D;je.fromNumber=mr;je.fromString=ab;var P9=function(){return new Eh},L9=function(){return Uf()},Nm=Bf,O9=RN,D9=Xi,Mw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},M9=Zc,Gu=IN,j9=lt,$9=lr,Fo=je;const jw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="10.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new lf("@firebase/firestore");function $w(){return ji.logLevel}function te(t,...e){if(ji.logLevel<=ke.DEBUG){const n=e.map(n0);ji.debug(`Firestore (${xa}): ${t}`,...n)}}function is(t,...e){if(ji.logLevel<=ke.ERROR){const n=e.map(n0);ji.error(`Firestore (${xa}): ${t}`,...n)}}function ia(t,...e){if(ji.logLevel<=ke.WARN){const n=e.map(n0);ji.warn(`Firestore (${xa}): ${t}`,...n)}}function n0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: `+t;throw is(e),new Error(e)}function Qe(t,e){t||me()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class V9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class F9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class U9{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Vs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Vs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Vs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new lb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new zt(e)}}class B9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class z9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new B9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class H9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class W9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new H9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=q9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function oa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new yt(0,0))}static max(){return new ge(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _c.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _c?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class at extends _c{construct(e,n,r){return new at(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new at(n)}static emptyPath(){return new at([])}}const G9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends _c{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return G9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ae(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ae(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ae(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(at.fromString(e))}static fromName(e){return new le(at.fromString(e).popFirst(5))}static empty(){return new le(at.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&at.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return at.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new at(e.slice()))}}function K9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new qs(s,le.empty(),e)}function Q9(t){return new qs(t.readTime,t.key,-1)}class qs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qs(ge.min(),le.empty(),-1)}static max(){return new qs(ge.max(),le.empty(),-1)}}function Y9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class J9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==X9)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===i&&r(o)},d=>s(d))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ru(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}r0.ae=-1;function Yf(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function Z9(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ub(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mt=class wv{constructor(e,n){this.comparator=e,this.root=n||Fs.EMPTY}insert(e,n){return new wv(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fs.BLACK,null,null))}remove(e){return new wv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}},Ku=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fs=class Or{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Or.RED,this.left=s??Or.EMPTY,this.right=i??Or.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Or(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Or.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Or.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Or.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Or.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}};Fs.EMPTY=null,Fs.RED=!0,Fs.BLACK=!1;Fs.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Fs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fw(this.data.getIterator())}getIteratorFrom(e){return new Fw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class Fw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Jt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new db("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const e6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Gs(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=e6.exec(t);if(Qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $i(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function i0(t){const e=t.mapValue.fields.__previous_value__;return s0(e)?i0(e):e}function yc(t){const e=Gs(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ec{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s0(t)?4:n6(t)?9007199254740991:10:me()}function Cr(t,e){if(t===e)return!0;const n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yc(t).isEqual(yc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Gs(s.timestampValue),a=Gs(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return $i(s.bytesValue).isEqual($i(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),a=ht(i.doubleValue);return o===a?Th(o)===Th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Vw(o)!==Vw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cr(o[l],a[l])))return!1;return!0}(t,e);default:return me()}}function Sc(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function aa(t,e){if(t===e)return 0;const n=Vi(t),r=Vi(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ht(i.integerValue||i.doubleValue),l=ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Uw(t.timestampValue,e.timestampValue);case 4:return Uw(yc(t),yc(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=$i(i),l=$i(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=Oe(a[c],l[c]);if(d!==0)return d}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(ht(i.latitude),ht(o.latitude));return a!==0?a:Oe(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=aa(a[c],l[c]);if(d)return d}return Oe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Qu.mapValue&&o===Qu.mapValue)return 0;if(i===Qu.mapValue)return 1;if(o===Qu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=Oe(l[h],d[h]);if(f!==0)return f;const p=aa(a[l[h]],c[d[h]]);if(p!==0)return p}return Oe(l.length,d.length)}(t.mapValue,e.mapValue);default:throw me()}}function Uw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Gs(t),r=Gs(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function la(t){return Tv(t)}function Tv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Gs(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $i(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Tv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Tv(n.fields[o])}`;return s+"}"}(t.mapValue):me()}function Cv(t){return!!t&&"integerValue"in t}function o0(t){return!!t&&"arrayValue"in t}function Bw(t){return!!t&&"nullValue"in t}function zw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sd(t){return!!t&&"mapValue"in t}function kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function n6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=Kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=kl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Sd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ji(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new pn(kl(this.value))}}function hb(t){const e=[];return Ji(t.fields,(n,r)=>{const s=new Kt([n]);if(Sd(r)){const i=hb(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,ge.min(),ge.min(),ge.min(),pn.empty(),0)}static newFoundDocument(e,n,r,s){return new Wt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new Wt(e,2,n,ge.min(),ge.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ge.min(),ge.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function Hw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=aa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ww(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n="asc"){this.field=e,this.dir=n}}function r6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{}class vt extends fb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new i6(e,n,r):n==="array-contains"?new l6(e,r):n==="in"?new c6(e,r):n==="not-in"?new u6(e,r):n==="array-contains-any"?new d6(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new o6(e,r):new a6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(aa(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Rr extends fb{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Rr(e,n)}matches(e){return pb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function pb(t){return t.op==="and"}function mb(t){return s6(t)&&pb(t)}function s6(t){for(const e of t.filters)if(e instanceof Rr)return!1;return!0}function Rv(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+la(t.value);if(mb(t))return t.filters.map(e=>Rv(e)).join(",");{const e=t.filters.map(n=>Rv(n)).join(",");return`${t.op}(${e})`}}function gb(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)}(t,e):t instanceof Rr?function(r,s){return s instanceof Rr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&gb(o,s.filters[a]),!0):!1}(t,e):void me()}function vb(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(vb).join(" ,")+"}"}(t):"Filter"}class i6 extends vt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class o6 extends vt{constructor(e,n){super(e,"in",n),this.keys=_b("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class a6 extends vt{constructor(e,n){super(e,"not-in",n),this.keys=_b("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _b(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class l6 extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return o0(n)&&Sc(n.arrayValue,this.value)}}class c6 extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class u6 extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sc(this.value.arrayValue,n)}}class d6 extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!o0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.he=null}}function qw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new h6(t,e,n,r,s,i,o)}function a0(t){const e=ye(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Rv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Yf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.he=n}return e.he}function l0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!r6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ww(t.startAt,e.startAt)&&Ww(t.endAt,e.endAt)}function Iv(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xf{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function f6(t,e,n,r,s,i,o,a){return new Xf(t,e,n,r,s,i,o,a)}function c0(t){return new Xf(t)}function Gw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function p6(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function m6(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function g6(t){return t.collectionGroup!==null}function Ll(t){const e=ye(t);if(e.Pe===null){e.Pe=[];const n=m6(e),r=p6(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Pl(n)),e.Pe.push(new Pl(Kt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.Pe.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Pl(Kt.keyField(),i))}}}return e.Pe}function os(t){const e=ye(t);return e.Ie||(e.Ie=v6(e,Ll(t))),e.Ie}function v6(t,e){if(t.limitType==="F")return qw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Pl(s.field,i)});const n=t.endAt?new Ch(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ch(t.startAt.position,t.startAt.inclusive):null;return qw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function xv(t,e,n){return new Xf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Jf(t,e){return l0(os(t),os(e))&&t.limitType===e.limitType}function yb(t){return`${a0(os(t))}|lt:${t.limitType}`}function Nv(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>vb(s)).join(", ")}]`),Yf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>la(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>la(s)).join(",")),`Target(${r})`}(os(t))}; limitType=${t.limitType})`}function Zf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ll(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Hw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ll(r),s)||r.endAt&&!function(o,a,l){const c=Hw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ll(r),s))}(t,e)}function _6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Eb(t){return(e,n)=>{let r=!1;for(const s of Ll(t)){const i=y6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function y6(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?aa(l,c):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return ub(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=new mt(le.comparator);function as(){return E6}const Sb=new mt(le.comparator);function ml(...t){let e=Sb;for(const n of t)e=e.insert(n.key,n);return e}function wb(t){let e=Sb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ei(){return Ol()}function Tb(){return Ol()}function Ol(){return new Na(t=>t.toString(),(t,e)=>t.isEqual(e))}const S6=new mt(le.comparator),w6=new Jt(le.comparator);function Re(...t){let e=w6;for(const n of t)e=e.add(n);return e}const T6=new Jt(Oe);function C6(){return T6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function Rb(t){return{integerValue:""+t}}function R6(t,e){return Z9(e)?Rb(e):Cb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this._=void 0}}function I6(t,e,n){return t instanceof Rh?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&s0(i)&&(i=i0(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof wc?xb(t,e):t instanceof Tc?Nb(t,e):function(s,i){const o=Ib(s,i),a=Kw(o)+Kw(s.Ee);return Cv(o)&&Cv(s.Ee)?Rb(a):Cb(s.serializer,a)}(t,e)}function x6(t,e,n){return t instanceof wc?xb(t,e):t instanceof Tc?Nb(t,e):n}function Ib(t,e){return t instanceof Ih?function(r){return Cv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Rh extends ep{}class wc extends ep{constructor(e){super(),this.elements=e}}function xb(t,e){const n=bb(e);for(const r of t.elements)n.some(s=>Cr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Tc extends ep{constructor(e){super(),this.elements=e}}function Nb(t,e){let n=bb(e);for(const r of t.elements)n=n.filter(s=>!Cr(s,r));return{arrayValue:{values:n}}}class Ih extends ep{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function Kw(t){return ht(t.integerValue||t.doubleValue)}function bb(t){return o0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function N6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof wc&&s instanceof wc||r instanceof Tc&&s instanceof Tc?oa(r.elements,s.elements,Cr):r instanceof Ih&&s instanceof Ih?Cr(r.Ee,s.Ee):r instanceof Rh&&s instanceof Rh}(t.transform,e.transform)}class b6{constructor(e,n){this.version=e,this.transformResults=n}}class wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new wr}static exists(e){return new wr(void 0,e)}static updateTime(e){return new wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tp{}function Ab(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Pb(t.key,wr.none()):new su(t.key,t.data,wr.none());{const n=t.data,r=pn.empty();let s=new Jt(Kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new oi(t.key,r,new In(s.toArray()),wr.none())}}function A6(t,e,n){t instanceof su?function(s,i,o){const a=s.value.clone(),l=Yw(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof oi?function(s,i,o){if(!wd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Yw(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(kb(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Dl(t,e,n,r){return t instanceof su?function(i,o,a,l){if(!wd(i.precondition,o))return a;const c=i.value.clone(),d=Xw(i.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof oi?function(i,o,a,l){if(!wd(i.precondition,o))return a;const c=Xw(i.fieldTransforms,l,o),d=o.data;return d.setAll(kb(i)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return wd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function k6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Ib(r.transform,s||null);i!=null&&(n===null&&(n=pn.empty()),n.set(r.field,i))}return n||null}function Qw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oa(r,s,(i,o)=>N6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class su extends tp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class oi extends tp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function kb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Yw(t,e,n){const r=new Map;Qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,x6(o,a,n[s]))}return r}function Xw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,I6(i,o,e))}return r}class Pb extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class P6 extends tp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&A6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Tb();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=Ab(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(n,r)=>Qw(n,r))&&oa(this.baseMutations,e.baseMutations,(n,r)=>Qw(n,r))}}class u0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length);let s=function(){return S6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new u0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ne;function M6(t){switch(t){default:return me();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function Lb(t){if(t===void 0)return is("GRPC error has no .code"),F.UNKNOWN;switch(t){case dt.OK:return F.OK;case dt.CANCELLED:return F.CANCELLED;case dt.UNKNOWN:return F.UNKNOWN;case dt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case dt.INTERNAL:return F.INTERNAL;case dt.UNAVAILABLE:return F.UNAVAILABLE;case dt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case dt.NOT_FOUND:return F.NOT_FOUND;case dt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case dt.ABORTED:return F.ABORTED;case dt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case dt.DATA_LOSS:return F.DATA_LOSS;default:return me()}}(Ne=dt||(dt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yu}static getOrCreateInstance(){return Yu===null&&(Yu=new d0),Yu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Yu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=new Fo([4294967295,4294967295],0);function Jw(t){const e=j6().encode(t),n=new $9;return n.update(e),new Uint8Array(n.digest())}function Zw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([s,i],0)]}class h0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gl(`Invalid padding: ${n}`);if(r<0)throw new gl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gl(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Fo.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(Fo.fromNumber(r)));return s.compare($6)===1&&(s=new Fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=Jw(e),[r,s]=Zw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);if(!this.me(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new h0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=Jw(e),[r,s]=Zw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new np(ge.min(),s,new mt(Oe),as(),Re())}}class iu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new iu(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class Ob{constructor(e,n){this.targetId=e,this.ye=n}}class Db{constructor(e,n,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class eT{constructor(){this.we=0,this.Se=nT(),this.be=nn.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return this.we!==0}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=Re(),n=Re(),r=Re();return this.Se.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:me()}}),new iu(this.be,this.De,e,n,r)}Oe(){this.ve=!1,this.Se=nT()}Ne(e,n){this.ve=!0,this.Se=this.Se.insert(e,n)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class V6{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=as(),this.Ue=tT(),this.We=new mt(Oe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){var n;const r=e.targetId,s=e.ye.count,i=this.et(r);if(i){const o=i.target;if(Iv(o))if(s===0){const a=new le(o.path);this.je(r,a,Wt.newNoDocument(a,ge.min()))}else Qe(s===1);else{const a=this.tt(r);if(a!==s){const l=this.nt(e),c=l?this.rt(l,e,a):1;if(c!==0){this.Ze(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(r,d)}(n=d0.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,p,m,g){var E,v,_,y,S,w;const N={localCacheCount:h,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},b=f.unchangedNames;return b&&(N.bloomFilter={applied:g===0,hashCount:(E=b==null?void 0:b.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(y=(_=(v=b==null?void 0:b.bits)===null||v===void 0?void 0:v.bitmap)===null||_===void 0?void 0:_.length)!==null&&y!==void 0?y:0,padding:(w=(S=b==null?void 0:b.bits)===null||S===void 0?void 0:S.padding)!==null&&w!==void 0?w:0,mightContain:k=>{var G;return(G=m==null?void 0:m.mightContain(k))!==null&&G!==void 0&&G}}),N}(a,e.ye,this.Qe.it(),l,c))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=$i(r).toUint8Array()}catch(l){if(l instanceof db)return ia("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new h0(o,s,i)}catch(l){return ia(l instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Qe.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.je(n,i,null),s++)}),s}ot(e){const n=new Map;this.Ke.forEach((i,o)=>{const a=this.et(o);if(a){if(i.current&&Iv(a.target)){const l=new le(a.target.path);this.$e.get(l)!==null||this._t(o,l)||this.je(o,l,Wt.newNoDocument(l,e))}i.Fe&&(n.set(o,i.xe()),i.Oe())}});let r=Re();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.et(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.$e.forEach((i,o)=>o.setReadTime(e));const s=new np(e,n,this.We,this.$e,r);return this.$e=as(),this.Ue=tT(),this.We=new mt(Oe),s}ze(e,n){if(!this.Ye(e))return;const r=this._t(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ut(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this._t(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ut(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new eT,this.Ke.set(e,n)),n}ut(e){let n=this.Ue.get(e);return n||(n=new Jt(Oe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.Ce?null:this.Qe.ct(e)}Ze(e){this.Ke.set(e,new eT),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}_t(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function tT(){return new mt(le.comparator)}function nT(){return new mt(le.comparator)}const F6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),U6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),B6=(()=>({and:"AND",or:"OR"}))();class z6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bv(t,e){return t.useProto3Json||Yf(e)?e:{value:e}}function xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function H6(t,e){return xh(t,e.toTimestamp())}function Tr(t){return Qe(!!t),ge.fromTimestamp(function(n){const r=Gs(n);return new yt(r.seconds,r.nanos)}(t))}function f0(t,e){return function(r){return new at(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function jb(t){const e=at.fromString(t);return Qe(Ub(e)),e}function Av(t,e){return f0(t.databaseId,e.path)}function bm(t,e){const n=jb(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le($b(n))}function kv(t,e){return f0(t.databaseId,e)}function W6(t){const e=jb(t);return e.length===4?at.emptyPath():$b(e)}function Pv(t){return new at(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $b(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function rT(t,e,n){return{name:Av(t,e),fields:n.value.mapValue.fields}}function q6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,d){return c.useProto3Json?(Qe(d===void 0||typeof d=="string"),nn.fromBase64String(d||"")):(Qe(d===void 0||d instanceof Uint8Array),nn.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?F.UNKNOWN:Lb(c.code);return new ae(d,c.message||"")}(o);n=new Db(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=bm(t,r.document.name),i=Tr(r.document.updateTime),o=r.document.createTime?Tr(r.document.createTime):ge.min(),a=new pn({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(s,i,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Td(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=bm(t,r.document),i=r.readTime?Tr(r.readTime):ge.min(),o=Wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Td([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=bm(t,r.document),i=r.removedTargetIds||[];n=new Td([],i,s,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new D6(s,i),a=r.targetId;n=new Ob(a,o)}}return n}function G6(t,e){let n;if(e instanceof su)n={update:rT(t,e.key,e.value)};else if(e instanceof Pb)n={delete:Av(t,e.key)};else if(e instanceof oi)n={update:rT(t,e.key,e.data),updateMask:nH(e.fieldMask)};else{if(!(e instanceof P6))return me();n={verify:Av(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ih)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:H6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:me()}(t,e.precondition)),n}function K6(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Tr(s.updateTime):Tr(i);return o.isEqual(ge.min())&&(o=Tr(i)),new b6(o,s.transformResults||[])}(n,e))):[]}function Q6(t,e){return{documents:[kv(t,e.path)]}}function Y6(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=kv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=kv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return Fb(Rr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:uo(h.field),direction:Z6(h.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=bv(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function X6(t){let e=W6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1);const d=n.from[0];d.allDescendants?s=d.collectionId:e=e.child(d.collectionId)}let i=[];n.where&&(i=function(h){const f=Vb(h);return f instanceof Rr&&mb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(m){return new Pl(ho(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Yf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Ch(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new Ch(p,f)}(n.endAt)),f6(e,s,o,i,a,"F",l,c)}function J6(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Vb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ho(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ho(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ho(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(ho(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>Vb(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(t):me()}function Z6(t){return F6[t]}function eH(t){return U6[t]}function tH(t){return B6[t]}function uo(t){return{fieldPath:t.canonicalString()}}function ho(t){return Kt.fromServerFormat(t.fieldPath)}function Fb(t){return t instanceof vt?function(n){if(n.op==="=="){if(zw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(Bw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(zw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(Bw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:eH(n.op),value:n.value}}}(t):t instanceof Rr?function(n){const r=n.getFilters().map(s=>Fb(s));return r.length===1?r[0]:{compositeFilter:{op:tH(n.op),filters:r}}}(t):me()}function nH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ub(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rH{constructor(e){this.lt=e}}function sH(t){const e=X6({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iH{constructor(){this.on=new oH}addToCollectionParentIndex(e,n){return this.on.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(qs.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(qs.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class oH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Jt(at.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Jt(at.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ca(0)}static Nn(){return new ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aH{constructor(){this.changes=new Na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Dl(r.mutation,s,In.empty(),yt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const s=Ei();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ml();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ei();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=as();const o=Ol(),a=function(){return Ol()}();return n.forEach((l,c)=>{const d=r.get(c.key);s.has(c.key)&&(d===void 0||d.mutation instanceof oi)?i=i.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),Dl(d.mutation,c,d.mutation.getFieldMask(),yt.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new lH(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ol();let s=new mt((o,a)=>o-a),i=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||In.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(s.get(a.batchId)||Re()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=Tb();d.forEach(f=>{if(!i.has(f)){const p=Ab(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):g6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Ei());let a=-1,l=i;return o.next(c=>z.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(d)?z.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Re())).next(d=>({batchId:a,changes:wb(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let s=ml();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=ml();return this.indexManager.getCollectionParents(e,s).next(o=>z.forEach(o,a=>{const l=function(d,h){return new Xf(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((d,h)=>{i=i.insert(d,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,Wt.newInvalidDocument(c)))});let o=ml();return i.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Dl(c.mutation,l,In.empty(),yt.now()),Zf(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uH{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return z.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Tr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:sH(s.bundledQuery),readTime:Tr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(){this.overlays=new mt(le.comparator),this.lr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ei();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Pt(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Ei(),i=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new mt((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=i.get(c.largestBatchId);d===null&&(d=Ei(),i=i.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Ei(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=s)););return z.resolve(a)}Pt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new O6(n,r));let i=this.lr.get(n);i===void 0&&(i=Re(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.hr=new Jt(Ct.Pr),this.Ir=new Jt(Ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ct(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new le(new at([])),r=new Ct(n,e),s=new Ct(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new le(new at([])),r=new Ct(n,e),s=new Ct(n,e+1);let i=Re();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ct(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return le.comparator(e.key,n.key)||Oe(e.gr,n.gr)}static Tr(e,n){return Oe(e.gr,n.gr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Jt(Ct.Pr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new L6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new Ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Oe);return n.forEach(s=>{const i=new Ct(s,0),o=new Ct(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),z.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;le.isDocumentKey(i)||(i=i.child(""));const o=new Ct(new le(i),0);let a=new Jt(Oe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),z.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return z.forEach(n.mutations,s=>{const i=new Ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ct(n,0),s=this.yr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e){this.vr=e,this.docs=function(){return new mt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=as();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=as();const o=n.path,a=new le(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Y9(Q9(d),r)<=0||(s.has(d.key)||Zf(n,d))&&(i=i.insert(d.key,d.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){me()}Cr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new pH(this)}getSize(e){return z.resolve(this.size)}}class pH extends aH{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e){this.persistence=e,this.Fr=new Na(n=>a0(n),l0),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Mr=0,this.Or=new p0,this.targetCount=0,this.Nr=ca.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),z.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.kn(n),z.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e,n){this.Br={},this.overlays={},this.Lr=new r0(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new mH(this),this.indexManager=new iH,this.remoteDocumentCache=function(s){return new fH(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new rH(n),this.Kr=new uH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new dH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new hH(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new vH(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class vH extends J9{constructor(e){super(),this.currentSequenceNumber=e}}class m0{constructor(e){this.persistence=e,this.Gr=new p0,this.zr=null}static jr(e){return new m0(e)}get Hr(){if(this.zr)return this.zr;throw me()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Hr,r=>{const s=le.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return z.or([()=>z.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=Re(),s=Re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new g0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(){this.Ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ui(e,n).next(i=>i||this.Wi(e,n,s,r)).next(i=>i||this.Gi(e,n))}Ui(e,n){if(Gw(n))return z.resolve(null);let r=os(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=xv(n,null,"F"),r=os(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Re(...i);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.zi(n,a);return this.ji(n,c,o,l.readTime)?this.Ui(e,xv(n,null,"F")):this.Hi(e,c,n,l)}))})))}Wi(e,n,r,s){return Gw(n)||s.isEqual(ge.min())?this.Gi(e,n):this.$i.getDocuments(e,r).next(i=>{const o=this.zi(n,i);return this.ji(n,o,r,s)?this.Gi(e,n):($w()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Nv(n)),this.Hi(e,o,n,K9(s,-1)))})}zi(e,n){let r=new Jt(Eb(e));return n.forEach((s,i)=>{Zf(e,i)&&(r=r.add(i))}),r}ji(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Gi(e,n){return $w()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Nv(n)),this.$i.getDocumentsMatchingQuery(e,n,qs.min())}Hi(e,n,r,s){return this.$i.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e,n,r,s){this.persistence=e,this.Ji=n,this.serializer=s,this.Yi=new mt(Oe),this.Zi=new Na(i=>a0(i),l0),this.Xi=new Map,this.es=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.ts(r)}ts(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cH(this.es,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.es.setIndexManager(this.indexManager),this.Ji.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Yi))}}function EH(t,e,n,r){return new yH(t,e,n,r)}async function Bb(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ts(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Re();for(const c of s){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of i){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function SH(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.es.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let p=z.resolve();return f.forEach(m=>{p=p.next(()=>d.getEntry(l,m)).next(g=>{const E=c.docVersions.get(m);Qe(E!==null),g.version.compareTo(E)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),d.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function zb(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function wH(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.Yi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.es.newChangeBuffer({trackRemovals:!0});s=n.Yi;const a=[];e.targetChanges.forEach((d,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,d.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,d.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(nn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),s=s.insert(h,p),function(g,E,v){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,d)&&a.push(n.qr.updateTargetData(i,p))});let l=as(),c=Re();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,d))}),a.push(TH(i,o,e.documentUpdates).next(d=>{l=d.rs,c=d.ss})),!r.isEqual(ge.min())){const d=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(d)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Yi=s,i))}function TH(t,e,n){let r=Re(),s=Re();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=as();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{rs:o,ss:s}})}function CH(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function RH(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Rs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Yi.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Yi=n.Yi.insert(r.targetId,r),n.Zi.set(e,r.targetId)),r})}async function Lv(t,e,n){const r=ye(t),s=r.Yi.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ru(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Yi=r.Yi.remove(e),r.Zi.delete(s.target)}function sT(t,e,n){const r=ye(t);let s=ge.min(),i=Re();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,c,d){const h=ye(l),f=h.Zi.get(d);return f!==void 0?z.resolve(h.Yi.get(f)):h.qr.getTargetData(c,d)}(r,o,os(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ji.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Re())).next(a=>(IH(r,_6(e),a),{documents:a,os:i})))}function IH(t,e,n){let r=t.Xi.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class iT{constructor(){this.activeTargetIds=C6()}Ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}Is(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class xH{constructor(){this.Js=new iT,this.Ys={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Js.Ps(e),this.Ys[e]||"not-current"}updateQueryState(e,n,r){this.Ys[e]=n}removeLocalQueryTarget(e){this.Js.Is(e)}isLocalQueryTarget(e){return this.Js.activeTargetIds.has(e)}clearQueryState(e){delete this.Ys[e]}getAllActiveQueryTargets(){return this.Js.activeTargetIds}isActiveQueryTarget(e){return this.Js.activeTargetIds.has(e)}start(){return this.Js=new iT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{Zs(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.Xs=()=>this.eo(),this.no=()=>this.ro(),this.io=[],this.so()}Zs(e){this.io.push(e)}shutdown(){window.removeEventListener("online",this.Xs),window.removeEventListener("offline",this.no)}so(){window.addEventListener("online",this.Xs),window.addEventListener("offline",this.no)}eo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.io)e(0)}ro(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.io)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function Am(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e){this.oo=e.oo,this._o=e._o}ao(e){this.uo=e}co(e){this.lo=e}onMessage(e){this.ho=e}close(){this._o()}send(e){this.oo(e)}Po(){this.uo()}Io(e){this.lo(e)}To(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class kH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Eo=r+"://"+n.host,this.Ao=`projects/${s}/databases/${i}`,this.Ro=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Vo(){return!1}mo(n,r,s,i,o){const a=Am(),l=this.fo(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ao,"x-goog-request-params":this.Ro};return this.po(c,i,o),this.yo(n,l,c,s).then(d=>(te("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw ia("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",s),d})}wo(n,r,s,i,o,a){return this.mo(n,r,s,i,o)}po(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}fo(n,r){const s=bH[n];return`${this.Eo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}yo(e,n,r,s){const i=Am();return new Promise((o,a)=>{const l=new j9;l.setWithCredentials(!0),l.listenOnce(O9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Nm.NO_ERROR:const d=l.getResponseJson();te(Bt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(d)),o(d);break;case Nm.TIMEOUT:te(Bt,`RPC '${e}' ${i} timed out`),a(new ae(F.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const h=l.getStatus();if(te(Bt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(v)>=0?v:F.UNKNOWN}(p.status);a(new ae(m,p.message))}else a(new ae(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(F.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{te(Bt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);te(Bt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}So(e,n,r){const s=Am(),i=[this.Eo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=P9(),a=L9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new M9({})),this.po(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=i.join("");te(Bt,`Creating RPC '${e}' stream ${s}: ${d}`,l);const h=o.createWebChannel(d,l);let f=!1,p=!1;const m=new AH({oo:E=>{p?te(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(te(Bt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),te(Bt,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},_o:()=>h.close()}),g=(E,v,_)=>{E.listen(v,y=>{try{_(y)}catch(S){setTimeout(()=>{throw S},0)}})};return g(h,Gu.EventType.OPEN,()=>{p||te(Bt,`RPC '${e}' stream ${s} transport opened.`)}),g(h,Gu.EventType.CLOSE,()=>{p||(p=!0,te(Bt,`RPC '${e}' stream ${s} transport closed`),m.Io())}),g(h,Gu.EventType.ERROR,E=>{p||(p=!0,ia(Bt,`RPC '${e}' stream ${s} transport errored:`,E),m.Io(new ae(F.UNAVAILABLE,"The operation could not be completed")))}),g(h,Gu.EventType.MESSAGE,E=>{var v;if(!p){const _=E.data[0];Qe(!!_);const y=_,S=y.error||((v=y[0])===null||v===void 0?void 0:v.error);if(S){te(Bt,`RPC '${e}' stream ${s} received error:`,S);const w=S.status;let N=function(G){const D=dt[G];if(D!==void 0)return Lb(D)}(w),b=S.message;N===void 0&&(N=F.INTERNAL,b="Unknown error status: "+w+" with message "+S.message),p=!0,m.Io(new ae(N,b)),h.close()}else te(Bt,`RPC '${e}' stream ${s} received:`,_),m.To(_)}}),g(a,D9.STAT_EVENT,E=>{E.stat===Mw.PROXY?te(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Mw.NOPROXY&&te(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Po()},0),m}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(t){return new z6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.bo=r,this.Do=s,this.vo=i,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}reset(){this.Co=0}xo(){this.Co=this.vo}Oo(e){this.cancel();const n=Math.floor(this.Co+this.No()),r=Math.max(0,Date.now()-this.Mo),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Co} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Fo=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Mo=Date.now(),e())),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}Bo(){this.Fo!==null&&(this.Fo.skipDelay(),this.Fo=null)}cancel(){this.Fo!==null&&(this.Fo.cancel(),this.Fo=null)}No(){return(Math.random()-.5)*this.Co}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Lo=r,this.ko=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.qo=0,this.Qo=null,this.Ko=null,this.stream=null,this.$o=new Hb(e,n)}Uo(){return this.state===1||this.state===5||this.Wo()}Wo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}zo(){this.state=0,this.$o.reset()}jo(){this.Wo()&&this.Qo===null&&(this.Qo=this.si.enqueueAfterDelay(this.Lo,6e4,()=>this.Ho()))}Jo(e){this.Yo(),this.stream.send(e)}async Ho(){if(this.Wo())return this.close(0)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}async close(e,n){this.Yo(),this.Zo(),this.$o.cancel(),this.qo++,e!==4?this.$o.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(is(n.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.$o.xo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Xo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Xo(){}auth(){this.state=1;const e=this.e_(this.qo),n=this.qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.qo===n&&this.t_(r,s)},r=>{e(()=>{const s=new ae(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.n_(s)})})}t_(e,n){const r=this.e_(this.qo);this.stream=this.r_(e,n),this.stream.ao(()=>{r(()=>(this.state=2,this.Ko=this.si.enqueueAfterDelay(this.ko,1e4,()=>(this.Wo()&&(this.state=3),Promise.resolve())),this.listener.ao()))}),this.stream.co(s=>{r(()=>this.n_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.$o.Oo(async()=>{this.state=0,this.start()})}n_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}e_(e){return n=>{this.si.enqueueAndForget(()=>this.qo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PH extends Wb{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}r_(e,n){return this.connection.So("Listen",e,n)}onMessage(e){this.$o.reset();const n=q6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Tr(o.readTime):ge.min()}(e);return this.listener.i_(n,r)}s_(e){const n={};n.database=Pv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Iv(l)?{documents:Q6(i,l)}:{query:Y6(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Mb(i,o.resumeToken);const c=bv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=xh(i,o.snapshotVersion.toTimestamp());const c=bv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=J6(this.serializer,e);r&&(n.labels=r),this.Jo(n)}o_(e){const n={};n.database=Pv(this.serializer),n.removeTarget=e,this.Jo(n)}}class LH extends Wb{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.__=!1}get a_(){return this.__}start(){this.__=!1,this.lastStreamToken=void 0,super.start()}Xo(){this.__&&this.u_([])}r_(e,n){return this.connection.So("Write",e,n)}onMessage(e){if(Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.__){this.$o.reset();const n=K6(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.c_(r,n)}return Qe(!e.writeResults||e.writeResults.length===0),this.__=!0,this.listener.l_()}h_(){const e={};e.database=Pv(this.serializer),this.Jo(e)}u_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>G6(this.serializer,r))};this.Jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.P_=!1}I_(){if(this.P_)throw new ae(F.FAILED_PRECONDITION,"The client has already been terminated.")}mo(e,n,r){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.mo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(F.UNKNOWN,s.toString())})}wo(e,n,r,s){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(F.UNKNOWN,i.toString())})}terminate(){this.P_=!0}}class DH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.E_=0,this.d_=null,this.A_=!0}R_(){this.E_===0&&(this.V_("Unknown"),this.d_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.d_=null,this.m_("Backend didn't respond within 10 seconds."),this.V_("Offline"),Promise.resolve())))}f_(e){this.state==="Online"?this.V_("Unknown"):(this.E_++,this.E_>=1&&(this.g_(),this.m_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.V_("Offline")))}set(e){this.g_(),this.E_=0,e==="Online"&&(this.A_=!1),this.V_(e)}V_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}m_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.A_?(is(n),this.A_=!1):te("OnlineStateTracker",n)}g_(){this.d_!==null&&(this.d_.cancel(),this.d_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.p_=[],this.y_=new Map,this.w_=new Set,this.S_=[],this.b_=i,this.b_.Zs(o=>{r.enqueueAndForget(async()=>{Zi(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.w_.add(4),await ou(c),c.D_.set("Unknown"),c.w_.delete(4),await sp(c)}(this))})}),this.D_=new DH(r,s)}}async function sp(t){if(Zi(t))for(const e of t.S_)await e(!0)}async function ou(t){for(const e of t.S_)await e(!1)}function qb(t,e){const n=ye(t);n.y_.has(e.targetId)||(n.y_.set(e.targetId,e),y0(n)?_0(n):ba(n).Wo()&&v0(n,e))}function Gb(t,e){const n=ye(t),r=ba(n);n.y_.delete(e),r.Wo()&&Kb(n,e),n.y_.size===0&&(r.Wo()?r.jo():Zi(n)&&n.D_.set("Unknown"))}function v0(t,e){if(t.v_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ba(t).s_(e)}function Kb(t,e){t.v_.Le(e),ba(t).o_(e)}function _0(t){t.v_=new V6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ct:e=>t.y_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ba(t).start(),t.D_.R_()}function y0(t){return Zi(t)&&!ba(t).Uo()&&t.y_.size>0}function Zi(t){return ye(t).w_.size===0}function Qb(t){t.v_=void 0}async function jH(t){t.y_.forEach((e,n)=>{v0(t,e)})}async function $H(t,e){Qb(t),y0(t)?(t.D_.f_(e),_0(t)):t.D_.set("Unknown")}async function VH(t,e,n){if(t.D_.set("Online"),e instanceof Db&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.y_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.y_.delete(a),s.v_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nh(t,r)}else if(e instanceof Td?t.v_.Ge(e):e instanceof Ob?t.v_.Xe(e):t.v_.He(e),!n.isEqual(ge.min()))try{const r=await zb(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.v_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=i.y_.get(c);d&&i.y_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=i.y_.get(l);if(!d)return;i.y_.set(l,d.withResumeToken(nn.EMPTY_BYTE_STRING,d.snapshotVersion)),Kb(i,l);const h=new Rs(d.target,l,c,d.sequenceNumber);v0(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Nh(t,r)}}async function Nh(t,e,n){if(!ru(e))throw e;t.w_.add(1),await ou(t),t.D_.set("Offline"),n||(n=()=>zb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.w_.delete(1),await sp(t)})}function Yb(t,e){return e().catch(n=>Nh(t,n,e))}async function ip(t){const e=ye(t),n=Ks(e);let r=e.p_.length>0?e.p_[e.p_.length-1].batchId:-1;for(;FH(e);)try{const s=await CH(e.localStore,r);if(s===null){e.p_.length===0&&n.jo();break}r=s.batchId,UH(e,s)}catch(s){await Nh(e,s)}Xb(e)&&Jb(e)}function FH(t){return Zi(t)&&t.p_.length<10}function UH(t,e){t.p_.push(e);const n=Ks(t);n.Wo()&&n.a_&&n.u_(e.mutations)}function Xb(t){return Zi(t)&&!Ks(t).Uo()&&t.p_.length>0}function Jb(t){Ks(t).start()}async function BH(t){Ks(t).h_()}async function zH(t){const e=Ks(t);for(const n of t.p_)e.u_(n.mutations)}async function HH(t,e,n){const r=t.p_.shift(),s=u0.from(r,e,n);await Yb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ip(t)}async function WH(t,e){e&&Ks(t).a_&&await async function(r,s){if(function(o){return M6(o)&&o!==F.ABORTED}(s.code)){const i=r.p_.shift();Ks(r).zo(),await Yb(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ip(r)}}(t,e),Xb(t)&&Jb(t)}async function aT(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.w_.add(3),await ou(n),r&&n.D_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.w_.delete(3),await sp(n)}async function qH(t,e){const n=ye(t);e?(n.w_.delete(2),await sp(n)):e||(n.w_.add(2),await ou(n),n.D_.set("Unknown"))}function ba(t){return t.C_||(t.C_=function(n,r,s){const i=ye(n);return i.I_(),new PH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:jH.bind(null,t),co:$H.bind(null,t),i_:VH.bind(null,t)}),t.S_.push(async e=>{e?(t.C_.zo(),y0(t)?_0(t):t.D_.set("Unknown")):(await t.C_.stop(),Qb(t))})),t.C_}function Ks(t){return t.F_||(t.F_=function(n,r,s){const i=ye(n);return i.I_(),new LH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:BH.bind(null,t),co:WH.bind(null,t),l_:zH.bind(null,t),c_:HH.bind(null,t)}),t.S_.push(async e=>{e?(t.F_.zo(),await ip(t)):(await t.F_.stop(),t.p_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.p_.length} pending writes`),t.p_=[]))})),t.F_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Vs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new E0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S0(t,e){if(is("AsyncQueue",`${e}: ${t}`),ru(t))return new ae(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=ml(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new Uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.M_=new mt(le.comparator)}track(e){const n=e.doc.key,r=this.M_.get(n);r?e.type!==0&&r.type===3?this.M_=this.M_.insert(n,e):e.type===3&&r.type!==1?this.M_=this.M_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.M_=this.M_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.M_=this.M_.remove(n):e.type===1&&r.type===2?this.M_=this.M_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):me():this.M_=this.M_.insert(n,e)}x_(){const e=[];return this.M_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ua(e,n,Uo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH{constructor(){this.O_=void 0,this.listeners=[]}}class KH{constructor(){this.queries=new Na(e=>yb(e),Jf),this.onlineState="Unknown",this.N_=new Set}}async function QH(t,e){const n=ye(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new GH),s)try{i.O_=await n.onListen(r)}catch(o){const a=S0(o,`Initialization of query '${Nv(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.B_(n.onlineState),i.O_&&e.L_(i.O_)&&w0(n)}async function YH(t,e){const n=ye(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function XH(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.L_(s)&&(r=!0);o.O_=s}}r&&w0(n)}function JH(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function w0(t){t.N_.forEach(e=>{e.next()})}class ZH{constructor(e,n,r){this.query=e,this.k_=n,this.q_=!1,this.Q_=null,this.onlineState="Unknown",this.options=r||{}}L_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.q_?this.K_(e)&&(this.k_.next(e),n=!0):this.U_(e,this.onlineState)&&(this.W_(e),n=!0),this.Q_=e,n}onError(e){this.k_.error(e)}B_(e){this.onlineState=e;let n=!1;return this.Q_&&!this.q_&&this.U_(this.Q_,e)&&(this.W_(this.Q_),n=!0),n}U_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.G_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}K_(e){if(e.docChanges.length>0)return!0;const n=this.Q_&&this.Q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}W_(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.q_=!0,this.k_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e){this.key=e}}class eA{constructor(e){this.key=e}}class eW{constructor(e,n){this.query=e,this.ea=n,this.ta=null,this.hasCachedResults=!1,this.current=!1,this.na=Re(),this.mutatedKeys=Re(),this.ra=Eb(e),this.ia=new Uo(this.ra)}get sa(){return this.ea}oa(e,n){const r=n?n._a:new lT,s=n?n.ia:this.ia;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((d,h)=>{const f=s.get(d),p=Zf(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),E=!0):this.aa(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ra(p,l)>0||c&&this.ra(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),i=g?i.add(d):i.delete(d)):(o=o.delete(d),i=i.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),i=i.delete(d.key),r.track({type:1,doc:d})}return{ia:o,_a:r,ji:a,mutatedKeys:i}}aa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ia;this.ia=e.ia,this.mutatedKeys=e.mutatedKeys;const i=e._a.x_();i.sort((c,d)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return m(f)-m(p)}(c.type,d.type)||this.ra(c.doc,d.doc)),this.ua(r);const o=n?this.ca():[],a=this.na.size===0&&this.current?1:0,l=a!==this.ta;return this.ta=a,i.length!==0||l?{snapshot:new ua(this.query,e.ia,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),la:o}:{la:o}}B_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ia:this.ia,_a:new lT,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{la:[]}}ha(e){return!this.ea.has(e)&&!!this.ia.has(e)&&!this.ia.get(e).hasLocalMutations}ua(e){e&&(e.addedDocuments.forEach(n=>this.ea=this.ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ea=this.ea.delete(n)),this.current=e.current)}ca(){if(!this.current)return[];const e=this.na;this.na=Re(),this.ia.forEach(r=>{this.ha(r.key)&&(this.na=this.na.add(r.key))});const n=[];return e.forEach(r=>{this.na.has(r)||n.push(new eA(r))}),this.na.forEach(r=>{e.has(r)||n.push(new Zb(r))}),n}Pa(e){this.ea=e.os,this.na=Re();const n=this.oa(e.documents);return this.applyChanges(n,!0)}Ia(){return ua.fromInitialDocuments(this.query,this.ia,this.mutatedKeys,this.ta===0,this.hasCachedResults)}}class tW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class nW{constructor(e){this.key=e,this.Ta=!1}}class rW{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ea={},this.da=new Na(a=>yb(a),Jf),this.Aa=new Map,this.Ra=new Set,this.Va=new mt(le.comparator),this.ma=new Map,this.fa=new p0,this.ga={},this.pa=new Map,this.ya=ca.Nn(),this.onlineState="Unknown",this.wa=void 0}get isPrimaryClient(){return this.wa===!0}}async function sW(t,e){const n=pW(t);let r,s;const i=n.da.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Ia();else{const o=await RH(n.localStore,os(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await iW(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&qb(n.remoteStore,o)}return s}async function iW(t,e,n,r,s){t.Sa=(h,f,p)=>async function(g,E,v,_){let y=E.view.oa(v);y.ji&&(y=await sT(g.localStore,E.query,!1).then(({documents:N})=>E.view.oa(N,y)));const S=_&&_.targetChanges.get(E.targetId),w=E.view.applyChanges(y,g.isPrimaryClient,S);return uT(g,E.targetId,w.la),w.snapshot}(t,h,f,p);const i=await sT(t.localStore,e,!0),o=new eW(e,i.os),a=o.oa(i.documents),l=iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);uT(t,n,c.la);const d=new tW(e,n,o);return t.da.set(e,d),t.Aa.has(n)?t.Aa.get(n).push(e):t.Aa.set(n,[e]),c.snapshot}async function oW(t,e){const n=ye(t),r=n.da.get(e),s=n.Aa.get(r.targetId);if(s.length>1)return n.Aa.set(r.targetId,s.filter(i=>!Jf(i,e))),void n.da.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Lv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Gb(n.remoteStore,r.targetId),Ov(n,r.targetId)}).catch(nu)):(Ov(n,r.targetId),await Lv(n.localStore,r.targetId,!0))}async function aW(t,e,n){const r=mW(t);try{const s=await function(o,a){const l=ye(o),c=yt.now(),d=a.reduce((p,m)=>p.add(m.key),Re());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=as(),g=Re();return l.es.getEntries(p,d).next(E=>{m=E,m.forEach((v,_)=>{_.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(E=>{h=E;const v=[];for(const _ of a){const y=k6(_,h.get(_.key).overlayedDocument);y!=null&&v.push(new oi(_.key,y,hb(y.value.mapValue),wr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,a)}).next(E=>{f=E;const v=E.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,E.batchId,v)})}).then(()=>({batchId:f.batchId,changes:wb(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.ga[o.currentUser.toKey()];c||(c=new mt(Oe)),c=c.insert(a,l),o.ga[o.currentUser.toKey()]=c}(r,s.batchId,n),await au(r,s.changes),await ip(r.remoteStore)}catch(s){const i=S0(s,"Failed to persist write");n.reject(i)}}async function tA(t,e){const n=ye(t);try{const r=await wH(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ma.get(i);o&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ta=!0:s.modifiedDocuments.size>0?Qe(o.Ta):s.removedDocuments.size>0&&(Qe(o.Ta),o.Ta=!1))}),await au(n,r,e)}catch(r){await nu(r)}}function cT(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.da.forEach((i,o)=>{const a=o.view.B_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.listeners)f.B_(a)&&(c=!0)}),c&&w0(l)}(r.eventManager,e),s.length&&r.Ea.i_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function lW(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ma.get(e),i=s&&s.key;if(i){let o=new mt(le.comparator);o=o.insert(i,Wt.newNoDocument(i,ge.min()));const a=Re().add(i),l=new np(ge.min(),new Map,new mt(Oe),o,a);await tA(r,l),r.Va=r.Va.remove(i),r.ma.delete(e),T0(r)}else await Lv(r.localStore,e,!1).then(()=>Ov(r,e,n)).catch(nu)}async function cW(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await SH(n.localStore,e);rA(n,r,null),nA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await au(n,s)}catch(s){await nu(s)}}async function uW(t,e,n){const r=ye(t);try{const s=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Qe(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);rA(r,e,n),nA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await au(r,s)}catch(s){await nu(s)}}function nA(t,e){(t.pa.get(e)||[]).forEach(n=>{n.resolve()}),t.pa.delete(e)}function rA(t,e,n){const r=ye(t);let s=r.ga[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.ga[r.currentUser.toKey()]=s}}function Ov(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Aa.get(e))t.da.delete(r),n&&t.Ea.ba(r,n);t.Aa.delete(e),t.isPrimaryClient&&t.fa.Rr(e).forEach(r=>{t.fa.containsKey(r)||sA(t,r)})}function sA(t,e){t.Ra.delete(e.path.canonicalString());const n=t.Va.get(e);n!==null&&(Gb(t.remoteStore,n),t.Va=t.Va.remove(e),t.ma.delete(n),T0(t))}function uT(t,e,n){for(const r of n)r instanceof Zb?(t.fa.addReference(r.key,e),dW(t,r)):r instanceof eA?(te("SyncEngine","Document no longer in limbo: "+r.key),t.fa.removeReference(r.key,e),t.fa.containsKey(r.key)||sA(t,r.key)):me()}function dW(t,e){const n=e.key,r=n.path.canonicalString();t.Va.get(n)||t.Ra.has(r)||(te("SyncEngine","New document in limbo: "+n),t.Ra.add(r),T0(t))}function T0(t){for(;t.Ra.size>0&&t.Va.size<t.maxConcurrentLimboResolutions;){const e=t.Ra.values().next().value;t.Ra.delete(e);const n=new le(at.fromString(e)),r=t.ya.next();t.ma.set(r,new nW(n)),t.Va=t.Va.insert(n,r),qb(t.remoteStore,new Rs(os(c0(n.path)),r,"TargetPurposeLimboResolution",r0.ae))}}async function au(t,e,n){const r=ye(t),s=[],i=[],o=[];r.da.isEmpty()||(r.da.forEach((a,l)=>{o.push(r.Sa(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const d=g0.Qi(l.targetId,c);i.push(d)}}))}),await Promise.all(o),r.Ea.i_(s),await async function(l,c){const d=ye(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(c,f=>z.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>z.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!ru(h))throw h;te("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=d.Yi.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);d.Yi=d.Yi.insert(f,g)}}}(r.localStore,i))}async function hW(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await Bb(n.localStore,e);n.currentUser=e,function(i,o){i.pa.forEach(a=>{a.forEach(l=>{l.reject(new ae(F.CANCELLED,o))})}),i.pa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await au(n,r.ns)}}function fW(t,e){const n=ye(t),r=n.ma.get(e);if(r&&r.Ta)return Re().add(r.key);{let s=Re();const i=n.Aa.get(e);if(!i)return s;for(const o of i){const a=n.da.get(o);s=s.unionWith(a.view.sa)}return s}}function pW(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=tA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=fW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=lW.bind(null,e),e.Ea.i_=XH.bind(null,e.eventManager),e.Ea.ba=JH.bind(null,e.eventManager),e}function mW(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uW.bind(null,e),e}class dT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=rp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return EH(this.persistence,new _H,e.initialUser,this.serializer)}createPersistence(e){return new gH(m0.jr,this.serializer)}createSharedClientState(e){return new xH}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class gW{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>cT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hW.bind(null,this.syncEngine),await qH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new KH}()}createDatastore(e){const n=rp(e.databaseInfo.databaseId),r=function(i){return new kH(i)}(e.databaseInfo);return function(i,o,a,l){return new OH(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new MH(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>cT(this.syncEngine,n,0),function(){return oT.v()?new oT:new NH}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,d){const h=new rW(s,i,o,a,l,c);return d&&(h.wa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ye(n);te("RemoteStore","RemoteStore shutting down."),r.w_.add(5),await ou(r),r.b_.shutdown(),r.D_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vW{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ca(this.observer.next,e)}error(e){this.observer.error?this.Ca(this.observer.error,e):is("Uncaught Error in snapshot listener:",e.toString())}Fa(){this.muted=!0}Ca(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _W{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=cb.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{te("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(te("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Vs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pm(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Bb(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function hT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EW(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>aT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>aT(e.remoteStore,i)),t._onlineComponents=e}function yW(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function EW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!yW(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await Pm(t,new dT)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Pm(t,new dT);return t._offlineComponents}async function iA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await hT(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await hT(t,new gW))),t._onlineComponents}function SW(t){return iA(t).then(e=>e.syncEngine)}async function wW(t){const e=await iA(t),n=e.eventManager;return n.onListen=sW.bind(null,e.syncEngine),n.onUnlisten=oW.bind(null,e.syncEngine),n}function TW(t,e,n={}){const r=new Vs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const d=new vW({next:f=>{o.enqueueAndForget(()=>YH(i,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new ae(F.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new ae(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new ZH(c0(a.path),d,{includeMetadataChanges:!0,G_:!0});return QH(i,h)}(await wW(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CW(t,e,n){if(!n)throw new ae(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function RW(t,e,n,r){if(e===!0&&r===!0)throw new ae(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function pT(t){if(!le.isDocumentKey(t))throw new ae(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function Fi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C0(t);throw new ae(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}RW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class R0{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new V9;switch(r.type){case"firstParty":return new z9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=fT.get(n);r&&(te("ComponentProvider","Removing Datastore"),fT.delete(n),r.terminate())}(this),Promise.resolve()}}function IW(t,e,n,r={}){var s;const i=(t=Fi(t,R0))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=zt.MOCK_USER;else{a=JI(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ae(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new zt(c)}t._authCredentials=new F9(new lb(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new I0(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Cc extends I0{constructor(e,n,r){super(e,n,c0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new le(e))}withConverter(e){return new Cc(this.firestore,e,this._path)}}function ai(t,e,...n){if(t=pt(t),arguments.length===1&&(e=cb.V()),CW("doc","path",e),t instanceof R0){const r=at.fromString(e,...n);return pT(r),new Nn(t,null,new le(r))}{if(!(t instanceof Nn||t instanceof Cc))throw new ae(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(at.fromString(e,...n));return pT(r),new Nn(t.firestore,t instanceof Cc?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(){this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new Hb(this,"async_queue_retry"),this.eu=()=>{const n=km();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.$o.Bo()};const e=km();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.eu)}get isShuttingDown(){return this.ja}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.tu(),this.nu(e)}enterRestrictedMode(e){if(!this.ja){this.ja=!0,this.Za=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.eu)}}enqueue(e){if(this.tu(),this.ja)return new Promise(()=>{});const n=new Vs;return this.nu(()=>this.ja&&this.Za?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.za.push(e),this.ru()))}async ru(){if(this.za.length!==0){try{await this.za[0](),this.za.shift(),this.$o.reset()}catch(e){if(!ru(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.za.length>0&&this.$o.Oo(()=>this.ru())}}nu(e){const n=this.Ga.then(()=>(this.Ya=!0,e().catch(r=>{this.Ja=r,this.Ya=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw is("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ya=!1,r))));return this.Ga=n,n}enqueueAfterDelay(e,n,r){this.tu(),this.Xa.indexOf(e)>-1&&(n=0);const s=E0.createAndSchedule(this,e,n,r,i=>this.iu(i));return this.Ha.push(s),s}tu(){this.Ja&&me()}verifyOperationInProgress(){}async su(){let e;do e=this.Ga,await e;while(e!==this.Ga)}ou(e){for(const n of this.Ha)if(n.timerId===e)return!0;return!1}_u(e){return this.su().then(()=>{this.Ha.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Ha)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.su()})}au(e){this.Xa.push(e)}iu(e){const n=this.Ha.indexOf(e);this.Ha.splice(n,1)}}class op extends R0{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new xW}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||lA(this),this._firestoreClient.terminate()}}function NW(t,e){const n=typeof t=="object"?t:iy(),r=typeof t=="string"?t:e||"(default)",s=cf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=QI("firestore");i&&IW(s,...i)}return s}function aA(t){return t._firestoreClient||lA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lA(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,d){return new t6(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,oA(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new _W(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(nn.fromBase64String(e))}catch(n){throw new ae(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new da(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bW=/^__.*__$/;class AW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class cA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new oi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function uA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class b0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.uu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get cu(){return this.settings.cu}lu(e){return new b0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}hu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.Iu(e),s}Tu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.uu(),s}Eu(e){return this.lu({path:void 0,Pu:!0})}du(e){return bh(e,this.settings.methodName,this.settings.Au||!1,this.path,this.settings.Ru)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}uu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Iu(this.path.get(e))}Iu(e){if(e.length===0)throw this.du("Document fields must not be empty");if(uA(this.cu)&&bW.test(e))throw this.du('Document fields cannot begin and end with "__"')}}class kW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rp(e)}Vu(e,n,r,s=!1){return new b0({cu:e,methodName:n,Ru:r,path:Kt.emptyPath(),Pu:!1,Au:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dA(t){const e=t._freezeSettings(),n=rp(t._databaseId);return new kW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function PW(t,e,n,r,s,i={}){const o=t.Vu(i.merge||i.mergeFields?2:0,e,n,s);A0("Data must be an object, but it was:",o,r);const a=hA(r,o);let l,c;if(i.merge)l=new In(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const d=[];for(const h of i.mergeFields){const f=Dv(e,h,n);if(!o.contains(f))throw new ae(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);pA(d,f)||d.push(f)}l=new In(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new AW(new pn(a),l,c)}class lp extends x0{_toFieldTransform(e){if(e.cu!==2)throw e.cu===1?e.du(`${this._methodName}() can only appear at the top level of your update data`):e.du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lp}}function LW(t,e,n,r){const s=t.Vu(1,e,n);A0("Data must be an object, but it was:",s,r);const i=[],o=pn.empty();Ji(r,(l,c)=>{const d=k0(e,l,n);c=pt(c);const h=s.Tu(d);if(c instanceof lp)i.push(d);else{const f=cp(c,h);f!=null&&(i.push(d),o.set(d,f))}});const a=new In(i);return new cA(o,a,s.fieldTransforms)}function OW(t,e,n,r,s,i){const o=t.Vu(1,e,n),a=[Dv(e,r,n)],l=[s];if(i.length%2!=0)throw new ae(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Dv(e,i[f])),l.push(i[f+1]);const c=[],d=pn.empty();for(let f=a.length-1;f>=0;--f)if(!pA(c,a[f])){const p=a[f];let m=l[f];m=pt(m);const g=o.Tu(p);if(m instanceof lp)c.push(p);else{const E=cp(m,g);E!=null&&(c.push(p),d.set(p,E))}}const h=new In(c);return new cA(d,h,o.fieldTransforms)}function cp(t,e){if(fA(t=pt(t)))return A0("Unsupported field value:",e,t),hA(t,e);if(t instanceof x0)return function(r,s){if(!uA(s.cu))throw s.du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Pu&&e.cu!==4)throw e.du("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=cp(a,s.Eu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return R6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=yt.fromDate(r);return{timestampValue:xh(s.serializer,i)}}if(r instanceof yt){const i=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(s.serializer,i)}}if(r instanceof N0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:Mb(s.serializer,r._byteString)};if(r instanceof Nn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:f0(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.du(`Unsupported field value: ${C0(r)}`)}(t,e)}function hA(t,e){const n={};return ub(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(t,(r,s)=>{const i=cp(s,e.hu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function fA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof N0||t instanceof da||t instanceof Nn||t instanceof x0)}function A0(t,e,n){if(!fA(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=C0(n);throw r==="an object"?e.du(t+" a custom object"):e.du(t+" "+r)}}function Dv(t,e,n){if((e=pt(e))instanceof ap)return e._internalPath;if(typeof e=="string")return k0(t,e);throw bh("Field path arguments must be of type string or ",t,!1,void 0,n)}const DW=new RegExp("[~\\*/\\[\\]]");function k0(t,e,n){if(e.search(DW)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ap(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ae(F.INVALID_ARGUMENT,a+t+l)}function pA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MW extends mA{data(){return super.data()}}function gA(t,e){return typeof e=="string"?k0(t,e):e instanceof ap?e._internalPath:e._delegate._internalPath}class jW{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ji(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new N0(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=i0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const n=Gs(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=at.fromString(e);Qe(Ub(r));const s=new Ec(r.get(1),r.get(3)),i=new le(r.popFirst(5));return s.isEqual(n)||is(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $W(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vA extends mA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new FW(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class FW extends vA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){t=Fi(t,Nn);const e=Fi(t.firestore,op);return TW(aA(e),t._key).then(n=>BW(e,t,n))}class UW extends jW{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function L0(t,e,n){t=Fi(t,Nn);const r=Fi(t.firestore,op),s=$W(t.converter,e,n);return _A(r,[PW(dA(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,wr.none())])}function Ah(t,e,n,...r){t=Fi(t,Nn);const s=Fi(t.firestore,op),i=dA(s);let o;return o=typeof(e=pt(e))=="string"||e instanceof ap?OW(i,"updateDoc",t._key,e,n,r):LW(i,"updateDoc",t._key,e),_A(s,[o.toMutation(t._key,wr.exists(!0))])}function _A(t,e){return function(r,s){const i=new Vs;return r.asyncQueue.enqueueAndForget(async()=>aW(await SW(r),s,i)),i.promise}(aA(t),e)}function BW(t,e,n){const r=n.docs.get(e._key),s=new UW(t);return new vA(t,s,e._key,r,new VW(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){xa=s})(Zs),Ws(new ts("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new op(new U9(r.getProvider("auth-internal")),new W9(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ae(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(c.options.projectId,d)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),zn(jw,"4.1.1",e),zn(jw,"4.1.1","esm2017")})();const gT="@firebase/database",vT="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yA="";function zW(t){yA=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HW{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ic(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ds(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new HW(e)}}catch{}return new WW},Si=EA("localStorage"),Mv=EA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new lf("@firebase/database"),qW=function(){let t=1;return function(){return t++}}(),SA=function(t){const e=EM(t),n=new mM;n.update(e);const r=n.digest();return ey.encodeByteArray(r)},lu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=lu.apply(null,r):typeof r=="object"?e+=Dt(r):e+=r,e+=" "}return e};let Ii=null,_T=!0;const GW=function(t,e){K(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Bo.logLevel=ke.VERBOSE,Ii=Bo.log.bind(Bo),e&&Mv.set("logging_enabled",!0)):typeof t=="function"?Ii=t:(Ii=null,Mv.remove("logging_enabled"))},qt=function(...t){if(_T===!0&&(_T=!1,Ii===null&&Mv.get("logging_enabled")===!0&&GW(!0)),Ii){const e=lu.apply(null,t);Ii(e)}},cu=function(t){return function(...e){qt(t,...e)}},jv=function(...t){const e="FIREBASE INTERNAL ERROR: "+lu(...t);Bo.error(e)},ls=function(...t){const e=`FIREBASE FATAL ERROR: ${lu(...t)}`;throw Bo.error(e),new Error(e)},bn=function(...t){const e="FIREBASE WARNING: "+lu(...t);Bo.warn(e)},KW=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},wA=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},QW=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ha="[MIN_NAME]",Ui="[MAX_NAME]",Aa=function(t,e){if(t===e)return 0;if(t===ha||e===Ui)return-1;if(e===ha||t===Ui)return 1;{const n=yT(t),r=yT(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},YW=function(t,e){return t===e?0:t<e?-1:1},Xa=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Dt(e))},O0=function(t){if(typeof t!="object"||t===null)return Dt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Dt(e[r]),n+=":",n+=O0(t[e[r]]);return n+="}",n},TA=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Kn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const CA=function(t){K(!wA(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const d=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(d.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},XW=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},JW=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},ZW=new RegExp("^-?(0*)\\d{1,10}$"),e5=-2147483648,t5=2147483647,yT=function(t){if(ZW.test(t)){const e=Number(t);if(e>=e5&&e<=t5)return e}return null},uu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw bn("Exception was thrown by user callback.",n),e},Math.floor(0))}},n5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ml=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){bn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bn(e)}}class zo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="5",RA="v",IA="s",xA="r",NA="f",bA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,AA="ls",kA="p",$v="ac",PA="websocket",LA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OA{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Si.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Si.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function i5(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function DA(t,e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");let r;if(e===PA)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===LA)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);i5(t)&&(n.ns=t.namespace);const s=[];return Kn(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(){this.counters_={}}incrementCounter(e,n=1){ds(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return eM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm={},Om={};function M0(t){const e=t.toString();return Lm[e]||(Lm[e]=new o5),Lm[e]}function a5(t,e){const n=t.toString();return Om[n]||(Om[n]=e()),Om[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&uu(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET="start",c5="close",u5="pLPCommand",d5="pRTLPCB",MA="id",jA="pw",$A="ser",h5="cb",f5="seg",p5="ts",m5="d",g5="dframe",VA=1870,FA=30,v5=VA-FA,_5=25e3,y5=3e4;class xo{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cu(e),this.stats_=M0(n),this.urlFn=l=>(this.appCheckToken&&(l[$v]=this.appCheckToken),DA(n,LA,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new l5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(y5)),QW(()=>{if(this.isClosed_)return;this.scriptTagHolder=new j0((...i)=>{const[o,a,l,c,d]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===ET)this.id=a,this.password=l;else if(o===c5)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[ET]="t",r[$A]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[h5]=this.scriptTagHolder.uniqueCallbackIdentifier),r[RA]=D0,this.transportSessionId&&(r[IA]=this.transportSessionId),this.lastSessionId&&(r[AA]=this.lastSessionId),this.applicationId&&(r[kA]=this.applicationId),this.appCheckToken&&(r[$v]=this.appCheckToken),typeof location<"u"&&location.hostname&&bA.test(location.hostname)&&(r[xA]=NA);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xo.forceAllow_=!0}static forceDisallow(){xo.forceDisallow_=!0}static isAvailable(){return xo.forceAllow_?!0:!xo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!XW()&&!JW()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=qI(n),s=TA(r,v5);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[g5]="t",r[MA]=e,r[jA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class j0{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=qW(),window[u5+this.uniqueCallbackIdentifier]=e,window[d5+this.uniqueCallbackIdentifier]=n,this.myIFrame=j0.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qt("frame writing exception"),a.stack&&qt(a.stack),qt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[MA]=this.myID,e[jA]=this.myPW,e[$A]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+FA+r.length<=VA;){const o=this.pendingSegs.shift();r=r+"&"+f5+s+"="+o.seg+"&"+p5+s+"="+o.ts+"&"+m5+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(_5)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5=16384,S5=45e3;let kh=null;typeof MozWebSocket<"u"?kh=MozWebSocket:typeof WebSocket<"u"&&(kh=WebSocket);class tr{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cu(this.connId),this.stats_=M0(n),this.connURL=tr.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[RA]=D0,typeof location<"u"&&location.hostname&&bA.test(location.hostname)&&(o[xA]=NA),n&&(o[IA]=n),r&&(o[AA]=r),s&&(o[$v]=s),i&&(o[kA]=i),DA(e,PA,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Si.set("previous_websocket_failure",!0);try{let r;ex(),this.mySock=new kh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){tr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&kh!==null&&!tr.forceDisallow_}static previouslyFailed(){return Si.isInMemoryStorage||Si.get("previous_websocket_failure")===!0}markConnectionHealthy(){Si.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ic(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=TA(n,E5);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(S5))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tr.responsesRequiredToBeHealthy=2;tr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xo,tr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=tr&&tr.isAvailable();let r=n&&!tr.previouslyFailed();if(e.webSocketOnly&&(n||bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tr];else{const s=this.transports_=[];for(const i of Rc.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Rc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w5=6e4,T5=5e3,C5=10*1024,R5=100*1024,Dm="t",ST="d",I5="s",wT="r",x5="e",TT="o",CT="a",RT="n",IT="p",N5="h";class b5{constructor(e,n,r,s,i,o,a,l,c,d){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cu("c:"+this.id+":"),this.transportManager_=new Rc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ml(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>R5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>C5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Dm in e){const n=e[Dm];n===CT?this.upgradeIfSecondaryHealthy_():n===wT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===TT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Xa("t",e),r=Xa("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:IT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:CT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:RT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Xa("t",e),r=Xa("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Xa(Dm,e);if(ST in e){const r=e[ST];if(n===N5){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===RT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===I5?this.onConnectionShutdown_(r):n===wT?this.onReset_(r):n===x5?jv("Server Error: "+r):n===TT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),D0!==r&&bn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ml(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(w5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ml(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(T5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:IT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Si.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){K(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends BA{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ry()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ph}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=32,NT=768;class Ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ve(){return new Ye("")}function be(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Qs(t){return t.pieces_.length-t.pieceNum_}function We(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ye(t.pieces_,e)}function zA(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function A5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function HA(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function WA(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ye(e,0)}function xt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ye(n,0)}function xe(t){return t.pieceNum_>=t.pieces_.length}function Un(t,e){const n=be(t),r=be(e);if(n===null)return e;if(n===r)return Un(We(t),We(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function qA(t,e){if(Qs(t)!==Qs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function nr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Qs(t)>Qs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class k5{constructor(e,n){this.errorPrefix_=n,this.parts_=HA(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=af(this.parts_[r]);GA(this)}}function P5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=af(e),GA(t)}function L5(t){const e=t.parts_.pop();t.byteLength_-=af(e),t.parts_.length>0&&(t.byteLength_-=1)}function GA(t){if(t.byteLength_>NT)throw new Error(t.errorPrefix_+"has a key path longer than "+NT+" bytes ("+t.byteLength_+").");if(t.parts_.length>xT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+xT+") or object contains a cycle "+fi(t))}function fi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends BA{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $0}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=1e3,O5=60*5*1e3,bT=30*1e3,D5=1.3,M5=3e4,j5="server_kill",AT=3;class Qr extends UA{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Qr.nextPersistentConnectionId_++,this.log_=cu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ja,this.maxReconnectDelay_=O5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ex())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ph.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Dt(i)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new ny,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Qr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ds(e,"w")){const r=Jo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();bn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||pM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=bT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=fM(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Dt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):jv("Unrecognized action received from server: "+Dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ja,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ja,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>M5&&(this.reconnectDelay_=Ja),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*D5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Qr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){K(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);o?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new b5(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{bn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(j5)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&bn(h),l())}}}interrupt(e){qt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Gg(this.interruptReasons_)&&(this.reconnectDelay_=Ja,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>O0(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ye(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){qt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=AT&&(this.reconnectDelay_=bT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=AT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+yA.replace(/\./g,"-")]=1,ry()?e["framework.cordova"]=1:ZI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ph.getInstance().currentlyOnline();return Gg(this.interruptReasons_)&&e}}Qr.nextPersistentConnectionId_=0;Qr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ae(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ae(ha,e),s=new Ae(ha,n);return this.compare(r,s)!==0}minPost(){return Ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju;class KA extends up{static get __EMPTY_NODE(){return Ju}static set __EMPTY_NODE(e){Ju=e}compare(e,n){return Aa(e.name,n.name)}isDefinedOn(e){throw Ea("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ae.MIN}maxPost(){return new Ae(Ui,Ju)}makePost(e,n){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new Ae(e,Ju)}toString(){return".key"}}const Ho=new KA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class It{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??It.RED,this.left=s??gn.EMPTY_NODE,this.right=i??gn.EMPTY_NODE}copy(e,n,r,s,i){return new It(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return gn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return gn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}It.RED=!0;It.BLACK=!1;class $5{copy(e,n,r,s,i){return this}insert(e,n,r){return new It(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gn{constructor(e,n=gn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(e){return new gn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,It.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zu(this.root_,null,this.comparator_,!0,e)}}gn.EMPTY_NODE=new $5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(t,e){return Aa(t.name,e.name)}function V0(t,e){return Aa(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vv;function F5(t){Vv=t}const QA=function(t){return typeof t=="number"?"number:"+CA(t):"string:"+t},YA=function(t){if(t.isLeafNode()){const e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ds(e,".sv"),"Priority must be a string or number.")}else K(t===Vv||t.isEmpty(),"priority of unexpected type.");K(t===Vv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kT;class Tt{constructor(e,n=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),YA(this.priorityNode_)}static set __childrenNodeConstructor(e){kT=e}static get __childrenNodeConstructor(){return kT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:be(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=be(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||Qs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+QA(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=CA(this.value_):e+=this.value_,this.lazyHash_=SA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Tt.VALUE_TYPE_ORDER.indexOf(n),i=Tt.VALUE_TYPE_ORDER.indexOf(r);return K(s>=0,"Unknown leaf type: "+n),K(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XA,JA;function U5(t){XA=t}function B5(t){JA=t}class z5 extends up{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Aa(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ae.MIN}maxPost(){return new Ae(Ui,new Tt("[PRIORITY-POST]",JA))}makePost(e,n){const r=XA(e);return new Ae(n,new Tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qt=new z5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5=Math.log(2);class W5{constructor(e){const n=i=>parseInt(Math.log(i)/H5,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lh=function(t,e,n,r){t.sort(e);const s=function(l,c){const d=c-l;let h,f;if(d===0)return null;if(d===1)return h=t[l],f=n?n(h):h,new It(f,h.node,It.BLACK,null,null);{const p=parseInt(d/2,10)+l,m=s(l,p),g=s(p+1,c);return h=t[p],f=n?n(h):h,new It(f,h.node,It.BLACK,m,g)}},i=function(l){let c=null,d=null,h=t.length;const f=function(m,g){const E=h-m,v=h;h-=m;const _=s(E+1,v),y=t[E],S=n?n(y):y;p(new It(S,y.node,g,null,_))},p=function(m){c?(c.left=m,c=m):(d=m,c=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));g?f(E,It.BLACK):(f(E,It.BLACK),f(E,It.RED))}return d},o=new W5(t.length),a=i(o);return new gn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm;const oo={};class Gr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return K(oo&&Qt,"ChildrenNode.ts has not been loaded"),Mm=Mm||new Gr({".priority":oo},{".priority":Qt}),Mm}get(e){const n=Jo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gn?n:null}hasIndex(e){return ds(this.indexSet_,e.toString())}addIndex(e,n){K(e!==Ho,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Ae.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Lh(r,e.getCompare()):a=oo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const d=Object.assign({},this.indexes_);return d[l]=a,new Gr(d,c)}addToIndexes(e,n){const r=rh(this.indexes_,(s,i)=>{const o=Jo(this.indexSet_,i);if(K(o,"Missing index implementation for "+i),s===oo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ae.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Lh(a,o.getCompare())}else return oo;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Ae(e.name,a))),l.insert(e,e.node)}});return new Gr(r,this.indexSet_)}removeFromIndexes(e,n){const r=rh(this.indexes_,s=>{if(s===oo)return s;{const i=n.get(e.name);return i?s.remove(new Ae(e.name,i)):s}});return new Gr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Za;class De{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&YA(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Za||(Za=new De(new gn(V0),null,Gr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Za}updatePriority(e){return this.children_.isEmpty()?this:new De(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Za:n}}getChild(e){const n=be(e);return n===null?this:this.getImmediateChild(n).getChild(We(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ae(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Za:this.priorityNode_;return new De(s,o,i)}}updateChild(e,n){const r=be(e);if(r===null)return n;{K(be(e)!==".priority"||Qs(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(We(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Qt,(o,a)=>{n[o]=a.val(e),r++,i&&De.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+QA(this.getPriority().val())+":"),this.forEachChild(Qt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":SA(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Ae(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ae(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ae(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ae.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ae.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===du?-1:0}withIndex(e){if(e===Ho||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new De(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ho||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Qt),s=n.getIterator(Qt);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ho?null:this.indexMap_.get(e.toString())}}De.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class q5 extends De{constructor(){super(new gn(V0),De.EMPTY_NODE,Gr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return De.EMPTY_NODE}isEmpty(){return!1}}const du=new q5;Object.defineProperties(Ae,{MIN:{value:new Ae(ha,De.EMPTY_NODE)},MAX:{value:new Ae(Ui,du)}});KA.__EMPTY_NODE=De.EMPTY_NODE;Tt.__childrenNodeConstructor=De;F5(du);B5(du);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G5=!0;function Gt(t,e=null){if(t===null)return De.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tt(n,Gt(e))}if(!(t instanceof Array)&&G5){const n=[];let r=!1;if(Kn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Gt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ae(o,l)))}}),n.length===0)return De.EMPTY_NODE;const i=Lh(n,V5,o=>o.name,V0);if(r){const o=Lh(n,Qt.getCompare());return new De(i,Gt(e),new Gr({".priority":o},{".priority":Qt}))}else return new De(i,Gt(e),Gr.Default)}else{let n=De.EMPTY_NODE;return Kn(t,(r,s)=>{if(ds(t,r)&&r.substring(0,1)!=="."){const i=Gt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Gt(e))}}U5(Gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K5 extends up{constructor(e){super(),this.indexPath_=e,K(!xe(e)&&be(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Aa(e.name,n.name):i}makePost(e,n){const r=Gt(e),s=De.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ae(n,s)}maxPost(){const e=De.EMPTY_NODE.updateChild(this.indexPath_,du);return new Ae(Ui,e)}toString(){return HA(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5 extends up{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Aa(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ae.MIN}maxPost(){return Ae.MAX}makePost(e,n){const r=Gt(e);return new Ae(n,r)}toString(){return".value"}}const Y5=new Q5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(t){return{type:"value",snapshotNode:t}}function J5(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Z5(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function PT(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function eq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ha}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Ui}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const e=new F0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function LT(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Qt?n="$priority":t.index_===Y5?n="$value":t.index_===Ho?n="$key":(K(t.index_ instanceof K5,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Dt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Dt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Dt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Dt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function OT(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Qt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends UA{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=cu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Oh.getListenId_(e,r),a={};this.listens_[o]=a;const l=LT(e._queryParams);this.restRequest_(i+".json",l,(c,d)=>{let h=d;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),Jo(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Oh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=LT(e._queryParams),r=e._path.toString(),s=new ny;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sa(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ic(a.responseText)}catch{bn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&bn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(){this.rootNode_=De.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(){return{value:null,children:new Map}}function ZA(t,e,n){if(xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=be(e);t.children.has(r)||t.children.set(r,Dh());const s=t.children.get(r);e=We(e),ZA(s,e,n)}}function Fv(t,e,n){t.value!==null?n(e,t.value):nq(t,(r,s)=>{const i=new Ye(e.toString()+"/"+r);Fv(s,i,n)})}function nq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Kn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=10*1e3,sq=30*1e3,iq=5*60*1e3;class oq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rq(e);const r=DT+(sq-DT)*Math.random();Ml(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Kn(e,(s,i)=>{i>0&&ds(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Ml(this.reportStats_.bind(this),Math.floor(Math.random()*2*iq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gr||(gr={}));function ek(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function tk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function nk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=gr.ACK_USER_WRITE,this.source=ek()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ye(e));return new Mh(Ve(),n,this.revert)}}else return K(be(this.path)===e,"operationForChild called for unrelated child."),new Mh(We(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=gr.OVERWRITE}operationForChild(e){return xe(this.path)?new Bi(this.source,Ve(),this.snap.getImmediateChild(e)):new Bi(this.source,We(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=gr.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new Ye(e));return n.isEmpty()?null:n.value?new Bi(this.source,Ve(),n.value):new Ic(this.source,Ve(),n)}else return K(be(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ic(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=be(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function aq(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(eq(o.childName,o.snapshotNode))}),el(t,s,"child_removed",e,r,n),el(t,s,"child_added",e,r,n),el(t,s,"child_moved",i,r,n),el(t,s,"child_changed",e,r,n),el(t,s,"value",e,r,n),s}function el(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>cq(t,a,l)),o.forEach(a=>{const l=lq(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function lq(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function cq(t,e,n){if(e.childName==null||n.childName==null)throw Ea("Should only compare child_ events.");const r=new Ae(e.childName,e.snapshotNode),s=new Ae(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t,e){return{eventCache:t,serverCache:e}}function jl(t,e,n,r){return rk(new U0(e,n,r),t.serverCache)}function sk(t,e,n,r){return rk(t.eventCache,new U0(e,n,r))}function Uv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function zi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm;const uq=()=>(jm||(jm=new gn(YW)),jm);class He{constructor(e,n=uq()){this.value=e,this.children=n}static fromObject(e){let n=new He(null);return Kn(e,(r,s)=>{n=n.set(new Ye(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Ve(),value:this.value};if(xe(e))return null;{const r=be(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(We(e),n);return i!=null?{path:xt(new Ye(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=be(e),r=this.children.get(n);return r!==null?r.subtree(We(e)):new He(null)}}set(e,n){if(xe(e))return new He(n,this.children);{const r=be(e),i=(this.children.get(r)||new He(null)).set(We(e),n),o=this.children.insert(r,i);return new He(this.value,o)}}remove(e){if(xe(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=be(e),r=this.children.get(n);if(r){const s=r.remove(We(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new He(null):new He(this.value,i)}else return this}}get(e){if(xe(e))return this.value;{const n=be(e),r=this.children.get(n);return r?r.get(We(e)):null}}setTree(e,n){if(xe(e))return n;{const r=be(e),i=(this.children.get(r)||new He(null)).setTree(We(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new He(this.value,o)}}fold(e){return this.fold_(Ve(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(xt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ve(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(xe(e))return null;{const i=be(e),o=this.children.get(i);return o?o.findOnPath_(We(e),xt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ve(),n)}foreachOnPath_(e,n,r){if(xe(e))return this;{this.value&&r(n,this.value);const s=be(e),i=this.children.get(s);return i?i.foreachOnPath_(We(e),xt(n,s),r):new He(null)}}foreach(e){this.foreach_(Ve(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(xt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.writeTree_=e}static empty(){return new or(new He(null))}}function $l(t,e,n){if(xe(e))return new or(new He(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Un(s,e);return i=i.updateChild(o,n),new or(t.writeTree_.set(s,i))}else{const s=new He(n),i=t.writeTree_.setTree(e,s);return new or(i)}}}function MT(t,e,n){let r=t;return Kn(n,(s,i)=>{r=$l(r,xt(e,s),i)}),r}function jT(t,e){if(xe(e))return or.empty();{const n=t.writeTree_.setTree(e,new He(null));return new or(n)}}function Bv(t,e){return eo(t,e)!=null}function eo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Un(n.path,e)):null}function $T(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qt,(r,s)=>{e.push(new Ae(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ae(r,s.value))}),e}function Us(t,e){if(xe(e))return t;{const n=eo(t,e);return n!=null?new or(new He(n)):new or(t.writeTree_.subtree(e))}}function zv(t){return t.writeTree_.isEmpty()}function fa(t,e){return ik(Ve(),t.writeTree_,e)}function ik(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(K(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=ik(xt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(xt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ok(t,e){return dk(e,t)}function dq(t,e,n,r,s){K(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=$l(t.visibleWrites,e,n)),t.lastWriteId=r}function hq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function fq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);K(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&pq(a,r.path)?s=!1:nr(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return mq(t),!0;if(r.snap)t.visibleWrites=jT(t.visibleWrites,r.path);else{const a=r.children;Kn(a,l=>{t.visibleWrites=jT(t.visibleWrites,xt(r.path,l))})}return!0}else return!1}function pq(t,e){if(t.snap)return nr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&nr(xt(t.path,n),e))return!0;return!1}function mq(t){t.visibleWrites=ak(t.allWrites,gq,Ve()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function gq(t){return t.visible}function ak(t,e,n){let r=or.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)nr(n,o)?(a=Un(n,o),r=$l(r,a,i.snap)):nr(o,n)&&(a=Un(o,n),r=$l(r,Ve(),i.snap.getChild(a)));else if(i.children){if(nr(n,o))a=Un(n,o),r=MT(r,a,i.children);else if(nr(o,n))if(a=Un(o,n),xe(a))r=MT(r,Ve(),i.children);else{const l=Jo(i.children,be(a));if(l){const c=l.getChild(We(a));r=$l(r,Ve(),c)}}}else throw Ea("WriteRecord should have .snap or .children")}}return r}function lk(t,e,n,r,s){if(!r&&!s){const i=eo(t.visibleWrites,e);if(i!=null)return i;{const o=Us(t.visibleWrites,e);if(zv(o))return n;if(n==null&&!Bv(o,Ve()))return null;{const a=n||De.EMPTY_NODE;return fa(o,a)}}}else{const i=Us(t.visibleWrites,e);if(!s&&zv(i))return n;if(!s&&n==null&&!Bv(i,Ve()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(nr(c.path,e)||nr(e,c.path))},a=ak(t.allWrites,o,e),l=n||De.EMPTY_NODE;return fa(a,l)}}}function vq(t,e,n){let r=De.EMPTY_NODE;const s=eo(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Qt,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Us(t.visibleWrites,e);return n.forEachChild(Qt,(o,a)=>{const l=fa(Us(i,new Ye(o)),a);r=r.updateImmediateChild(o,l)}),$T(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Us(t.visibleWrites,e);return $T(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function _q(t,e,n,r,s){K(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=xt(e,n);if(Bv(t.visibleWrites,i))return null;{const o=Us(t.visibleWrites,i);return zv(o)?s.getChild(n):fa(o,s.getChild(n))}}function yq(t,e,n,r){const s=xt(e,n),i=eo(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Us(t.visibleWrites,s);return fa(o,r.getNode().getImmediateChild(n))}else return null}function Eq(t,e){return eo(t.visibleWrites,e)}function Sq(t,e,n,r,s,i,o){let a;const l=Us(t.visibleWrites,e),c=eo(l,Ve());if(c!=null)a=c;else if(n!=null)a=fa(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const d=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&d.length<s;)h(p,r)!==0&&d.push(p),p=f.getNext();return d}else return[]}function wq(){return{visibleWrites:or.empty(),allWrites:[],lastWriteId:-1}}function Hv(t,e,n,r){return lk(t.writeTree,t.treePath,e,n,r)}function ck(t,e){return vq(t.writeTree,t.treePath,e)}function VT(t,e,n,r){return _q(t.writeTree,t.treePath,e,n,r)}function jh(t,e){return Eq(t.writeTree,xt(t.treePath,e))}function Tq(t,e,n,r,s,i){return Sq(t.writeTree,t.treePath,e,n,r,s,i)}function B0(t,e,n){return yq(t.writeTree,t.treePath,e,n)}function uk(t,e){return dk(xt(t.treePath,e),t.writeTree)}function dk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,PT(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,Z5(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,J5(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,PT(r,e.snapshotNode,s.oldSnap));else throw Ea("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const hk=new Rq;class z0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new U0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return B0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:zi(this.viewCache_),i=Tq(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function Iq(t,e){K(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function xq(t,e,n,r,s){const i=new Cq;let o,a;if(n.type===gr.OVERWRITE){const c=n;c.source.fromUser?o=Wv(t,e,c.path,c.snap,r,s,i):(K(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xe(c.path),o=$h(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===gr.MERGE){const c=n;c.source.fromUser?o=bq(t,e,c.path,c.children,r,s,i):(K(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=qv(t,e,c.path,c.children,r,s,a,i))}else if(n.type===gr.ACK_USER_WRITE){const c=n;c.revert?o=Pq(t,e,c.path,r,s,i):o=Aq(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===gr.LISTEN_COMPLETE)o=kq(t,e,n.path,r,i);else throw Ea("Unknown operation type: "+n.type);const l=i.getChanges();return Nq(e,o,l),{viewCache:o,changes:l}}function Nq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Uv(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(X5(Uv(e)))}}function fk(t,e,n,r,s,i){const o=e.eventCache;if(jh(r,n)!=null)return e;{let a,l;if(xe(n))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=zi(e),d=c instanceof De?c:De.EMPTY_NODE,h=ck(r,d);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=Hv(r,zi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=be(n);if(c===".priority"){K(Qs(n)===1,"Can't have a priority with additional path components");const d=o.getNode();l=e.serverCache.getNode();const h=VT(r,n,d,l);h!=null?a=t.filter.updatePriority(d,h):a=o.getNode()}else{const d=We(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=VT(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(d,f):h=o.getNode().getImmediateChild(c)}else h=B0(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,d,s,i):a=o.getNode()}}return jl(e,a,o.isFullyInitialized()||xe(n),t.filter.filtersNodes())}}function $h(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const d=o?t.filter:t.filter.getIndexedFilter();if(xe(n))c=d.updateFullNode(l.getNode(),r,null);else if(d.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=d.updateFullNode(l.getNode(),p,null)}else{const p=be(n);if(!l.isCompleteForPath(n)&&Qs(n)>1)return e;const m=We(n),E=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=d.updatePriority(l.getNode(),E):c=d.updateChild(l.getNode(),p,E,m,hk,null)}const h=sk(e,c,l.isFullyInitialized()||xe(n),d.filtersNodes()),f=new z0(s,h,i);return fk(t,h,n,s,f,a)}function Wv(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const d=new z0(s,e,i);if(xe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=jl(e,c,!0,t.filter.filtersNodes());else{const h=be(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=jl(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=We(n),p=a.getNode().getImmediateChild(h);let m;if(xe(f))m=r;else{const g=d.getCompleteChild(h);g!=null?zA(f)===".priority"&&g.getChild(WA(f)).isEmpty()?m=g:m=g.updateChild(f,r):m=De.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),h,m,f,d,o);l=jl(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function FT(t,e){return t.eventCache.isCompleteForChild(e)}function bq(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const d=xt(n,l);FT(e,be(d))&&(a=Wv(t,a,d,c,s,i,o))}),r.foreach((l,c)=>{const d=xt(n,l);FT(e,be(d))||(a=Wv(t,a,d,c,s,i,o))}),a}function UT(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function qv(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;xe(n)?c=r:c=new He(null).setTree(n,r);const d=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(d.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),m=UT(t,p,f);l=$h(t,l,new Ye(h),m,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!d.hasChild(h)&&!p){const m=e.serverCache.getNode().getImmediateChild(h),g=UT(t,m,f);l=$h(t,l,new Ye(h),g,s,i,o,a)}}),l}function Aq(t,e,n,r,s,i,o){if(jh(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $h(t,e,n,l.getNode().getChild(n),s,i,a,o);if(xe(n)){let c=new He(null);return l.getNode().forEachChild(Ho,(d,h)=>{c=c.set(new Ye(d),h)}),qv(t,e,n,c,s,i,a,o)}else return e}else{let c=new He(null);return r.foreach((d,h)=>{const f=xt(n,d);l.isCompleteForPath(f)&&(c=c.set(d,l.getNode().getChild(f)))}),qv(t,e,n,c,s,i,a,o)}}function kq(t,e,n,r,s){const i=e.serverCache,o=sk(e,i.getNode(),i.isFullyInitialized()||xe(n),i.isFiltered());return fk(t,o,n,r,hk,s)}function Pq(t,e,n,r,s,i){let o;if(jh(r,n)!=null)return e;{const a=new z0(r,e,s),l=e.eventCache.getNode();let c;if(xe(n)||be(n)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=Hv(r,zi(e));else{const h=e.serverCache.getNode();K(h instanceof De,"serverChildren would be complete if leaf node"),d=ck(r,h)}d=d,c=t.filter.updateFullNode(l,d,i)}else{const d=be(n);let h=B0(r,d,e.serverCache);h==null&&e.serverCache.isCompleteForChild(d)&&(h=l.getImmediateChild(d)),h!=null?c=t.filter.updateChild(l,d,h,We(n),a,i):e.eventCache.getNode().hasChild(d)?c=t.filter.updateChild(l,d,De.EMPTY_NODE,We(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Hv(r,zi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||jh(r,Ve())!=null,jl(e,c,o,t.filter.filtersNodes())}}function Lq(t,e){const n=zi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(be(e)).isEmpty())?n.getChild(e):null}function BT(t,e,n,r){e.type===gr.MERGE&&e.source.queryId!==null&&(K(zi(t.viewCache_),"We should always have a full cache before handling merges"),K(Uv(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=xq(t.processor_,s,e,n,r);return Iq(t.processor_,i.viewCache),K(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Oq(t,i.changes,i.viewCache.eventCache.getNode(),null)}function Oq(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return aq(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zT;function Dq(t){K(!zT,"__referenceConstructor has already been defined"),zT=t}function H0(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return K(i!=null,"SyncTree gave us an op for an invalid query."),BT(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(BT(o,e,n,r));return i}}function W0(t,e){let n=null;for(const r of t.views.values())n=n||Lq(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HT;function Mq(t){K(!HT,"__referenceConstructor has already been defined"),HT=t}class WT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=wq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function jq(t,e,n,r,s){return dq(t.pendingWriteTree_,e,n,r,s),s?hp(t,new Bi(ek(),e,n)):[]}function No(t,e,n=!1){const r=hq(t.pendingWriteTree_,e);if(fq(t.pendingWriteTree_,e)){let i=new He(null);return r.snap!=null?i=i.set(Ve(),!0):Kn(r.children,o=>{i=i.set(new Ye(o),!0)}),hp(t,new Mh(r.path,i,n))}else return[]}function dp(t,e,n){return hp(t,new Bi(tk(),e,n))}function $q(t,e,n){const r=He.fromObject(n);return hp(t,new Ic(tk(),e,r))}function Vq(t,e,n,r){const s=vk(t,r);if(s!=null){const i=_k(s),o=i.path,a=i.queryId,l=Un(o,e),c=new Bi(nk(a),l,n);return yk(t,o,c)}else return[]}function Fq(t,e,n,r){const s=vk(t,r);if(s){const i=_k(s),o=i.path,a=i.queryId,l=Un(o,e),c=He.fromObject(n),d=new Ic(nk(a),l,c);return yk(t,o,d)}else return[]}function pk(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Un(o,e),c=W0(a,l);if(c)return c});return lk(s,e,i,n,!0)}function hp(t,e){return mk(e,t.syncPointTree_,null,ok(t.pendingWriteTree_,Ve()))}function mk(t,e,n,r){if(xe(t.path))return gk(t,e,n,r);{const s=e.get(Ve());n==null&&s!=null&&(n=W0(s,Ve()));let i=[];const o=be(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,d=uk(r,o);i=i.concat(mk(a,l,c,d))}return s&&(i=i.concat(H0(s,t,r,n))),i}}function gk(t,e,n,r){const s=e.get(Ve());n==null&&s!=null&&(n=W0(s,Ve()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=uk(r,o),d=t.operationForChild(o);d&&(i=i.concat(gk(d,a,l,c)))}),s&&(i=i.concat(H0(s,t,r,n))),i}function vk(t,e){return t.tagToQueryMap.get(e)}function _k(t){const e=t.indexOf("$");return K(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ye(t.substr(0,e))}}function yk(t,e,n){const r=t.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");const s=ok(t.pendingWriteTree_,e);return H0(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new q0(n)}node(){return this.node_}}class G0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xt(this.path_,e);return new G0(this.syncTree_,n)}node(){return pk(this.syncTree_,this.path_)}}const Uq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qT=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Bq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return zq(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Bq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},zq=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);const s=e.node();if(K(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Hq=function(t,e,n,r){return K0(e,new G0(n,t),r)},Wq=function(t,e,n){return K0(t,new q0(e),n)};function K0(t,e,n){const r=t.getPriority().val(),s=qT(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=qT(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Tt(a,Gt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Tt(s))),o.forEachChild(Qt,(a,l)=>{const c=K0(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Y0(t,e){let n=e instanceof Ye?e:new Ye(e),r=t,s=be(n);for(;s!==null;){const i=Jo(r.node.children,s)||{children:{},childCount:0};r=new Q0(s,r,i),n=We(n),s=be(n)}return r}function ka(t){return t.node.value}function Ek(t,e){t.node.value=e,Gv(t)}function Sk(t){return t.node.childCount>0}function qq(t){return ka(t)===void 0&&!Sk(t)}function fp(t,e){Kn(t.node.children,(n,r)=>{e(new Q0(n,t,r))})}function wk(t,e,n,r){n&&!r&&e(t),fp(t,s=>{wk(s,e,!0,r)}),n&&r&&e(t)}function Gq(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function hu(t){return new Ye(t.parent===null?t.name:hu(t.parent)+"/"+t.name)}function Gv(t){t.parent!==null&&Kq(t.parent,t.name,t)}function Kq(t,e,n){const r=qq(n),s=ds(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Gv(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Gv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qq=/[\[\].#$\/\u0000-\u001F\u007F]/,Yq=/[\[\].#$\u0000-\u001F\u007F]/,$m=10*1024*1024,Tk=function(t){return typeof t=="string"&&t.length!==0&&!Qq.test(t)},Xq=function(t){return typeof t=="string"&&t.length!==0&&!Yq.test(t)},Jq=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xq(t)},Ck=function(t,e,n){const r=n instanceof Ye?new k5(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+fi(r));if(typeof e=="function")throw new Error(t+"contains a function "+fi(r)+" with contents = "+e.toString());if(wA(e))throw new Error(t+"contains "+e.toString()+" "+fi(r));if(typeof e=="string"&&e.length>$m/3&&af(e)>$m)throw new Error(t+"contains a string greater than "+$m+" utf8 bytes "+fi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Kn(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Tk(o)))throw new Error(t+" contains an invalid key ("+o+") "+fi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);P5(r,o),Ck(t,a,r),L5(r)}),s&&i)throw new Error(t+' contains ".value" child '+fi(r)+" in addition to actual children.")}},Zq=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Tk(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Jq(n))throw new Error(yM(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function tG(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!qA(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function to(t,e,n){tG(t,n),nG(t,r=>nr(r,e)||nr(e,r))}function nG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(rG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function rG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ii&&qt("event: "+n.toString()),uu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sG="repo_interrupt",iG=25;class oG{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new eG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dh(),this.transactionQueueTree_=new Q0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aG(t,e,n){if(t.stats_=M0(t.repoInfo_),t.forceRestClient_||n5())t.server_=new Oh(t.repoInfo_,(r,s,i,o)=>{GT(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>KT(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Dt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Qr(t.repoInfo_,e,(r,s,i,o)=>{GT(t,r,s,i,o)},r=>{KT(t,r)},r=>{cG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=a5(t.repoInfo_,()=>new oq(t.stats_,t.server_)),t.infoData_=new tq,t.infoSyncTree_=new WT({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=dp(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),X0(t,"connected",!1),t.serverSyncTree_=new WT({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);to(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function lG(t){const n=t.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Rk(t){return Uq({timestamp:lG(t)})}function GT(t,e,n,r,s){t.dataUpdateCount++;const i=new Ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=rh(n,c=>Gt(c));o=Fq(t.serverSyncTree_,i,l,s)}else{const l=Gt(n);o=Vq(t.serverSyncTree_,i,l,s)}else if(r){const l=rh(n,c=>Gt(c));o=$q(t.serverSyncTree_,i,l)}else{const l=Gt(n);o=dp(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Z0(t,i)),to(t.eventQueue_,a,o)}function KT(t,e){X0(t,"connected",e),e===!1&&dG(t)}function cG(t,e){Kn(e,(n,r)=>{X0(t,n,r)})}function X0(t,e,n){const r=new Ye("/.info/"+e),s=Gt(n);t.infoData_.updateSnapshot(r,s);const i=dp(t.infoSyncTree_,r,s);to(t.eventQueue_,r,i)}function uG(t){return t.nextWriteId_++}function dG(t){Ik(t,"onDisconnectEvents");const e=Rk(t),n=Dh();Fv(t.onDisconnect_,Ve(),(s,i)=>{const o=Hq(s,i,t.serverSyncTree_,e);ZA(n,s,o)});let r=[];Fv(n,Ve(),(s,i)=>{r=r.concat(dp(t.serverSyncTree_,s,i));const o=mG(t,s);Z0(t,o)}),t.onDisconnect_=Dh(),to(t.eventQueue_,Ve(),r)}function hG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(sG)}function Ik(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qt(n,...e)}function xk(t,e,n){return pk(t.serverSyncTree_,e,n)||De.EMPTY_NODE}function J0(t,e=t.transactionQueueTree_){if(e||pp(t,e),ka(e)){const n=bk(t,e);K(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&fG(t,hu(e),n)}else Sk(e)&&fp(e,n=>{J0(t,n)})}function fG(t,e,n){const r=n.map(c=>c.currentWriteId),s=xk(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const d=n[c];K(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const h=Un(e,d.path);i=i.updateChild(h,d.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Ik(t,"transaction put response",{path:l.toString(),status:c});let d=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,d=d.concat(No(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();pp(t,Y0(t.transactionQueueTree_,e)),J0(t,t.transactionQueueTree_),to(t.eventQueue_,e,d);for(let f=0;f<h.length;f++)uu(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{bn("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Z0(t,e)}},o)}function Z0(t,e){const n=Nk(t,e),r=hu(n),s=bk(t,n);return pG(t,s,r),r}function pG(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Un(n,l.path);let d=!1,h;if(K(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,h=l.abortReason,s=s.concat(No(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=iG)d=!0,h="maxretry",s=s.concat(No(t.serverSyncTree_,l.currentWriteId,!0));else{const f=xk(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){Ck("transaction failed: Data returned ",p,l.path);let m=Gt(p);typeof p=="object"&&p!=null&&ds(p,".priority")||(m=m.updatePriority(f.getPriority()));const E=l.currentWriteId,v=Rk(t),_=Wq(m,f,v);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=_,l.currentWriteId=uG(t),o.splice(o.indexOf(E),1),s=s.concat(jq(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),s=s.concat(No(t.serverSyncTree_,E,!0))}else d=!0,h="nodata",s=s.concat(No(t.serverSyncTree_,l.currentWriteId,!0))}to(t.eventQueue_,n,s),s=[],d&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}pp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)uu(r[a]);J0(t,t.transactionQueueTree_)}function Nk(t,e){let n,r=t.transactionQueueTree_;for(n=be(e);n!==null&&ka(r)===void 0;)r=Y0(r,n),e=We(e),n=be(e);return r}function bk(t,e){const n=[];return Ak(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Ak(t,e,n){const r=ka(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);fp(e,s=>{Ak(t,s,n)})}function pp(t,e){const n=ka(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Ek(e,n.length>0?n:void 0)}fp(e,r=>{pp(t,r)})}function mG(t,e){const n=hu(Nk(t,e)),r=Y0(t.transactionQueueTree_,e);return Gq(r,s=>{Vm(t,s)}),Vm(t,r),wk(r,s=>{Vm(t,s)}),n}function Vm(t,e){const n=ka(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(K(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(K(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(No(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Ek(e,void 0):n.length=i+1,to(t.eventQueue_,hu(e),s);for(let o=0;o<r.length;o++)uu(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function vG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bn(`Invalid query segment '${n}' in query '${t}'`)}return e}const QT=function(t,e){const n=_G(t),r=n.namespace;n.domain==="firebase.com"&&ls(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&ls("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||KW();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new OA(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ye(n.pathString)}},_G=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let d=t.indexOf("/");d===-1&&(d=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(d,h)),d<h&&(s=gG(t.substring(d,h)));const f=vG(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return xe(this._path)?null:zA(this._path)}get ref(){return new Pa(this._repo,this._path)}get _queryIdentifier(){const e=OT(this._queryParams),n=O0(e);return n==="{}"?"default":n}get _queryObject(){return OT(this._queryParams)}isEqual(e){if(e=pt(e),!(e instanceof eE))return!1;const n=this._repo===e._repo,r=qA(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+A5(this._path)}}class Pa extends eE{constructor(e,n){super(e,n,new F0,!1)}get parent(){const e=WA(this._path);return e===null?null:new Pa(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Dq(Pa);Mq(Pa);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yG="FIREBASE_DATABASE_EMULATOR_HOST",Kv={};let EG=!1;function SG(t,e,n,r){t.repoInfo_=new OA(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function wG(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||ls("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=QT(i,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[yG]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=QT(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const d=s&&l?new zo(zo.OWNER):new s5(t.name,t.options,e);Zq("Invalid Firebase Database URL",o),xe(o.path)||ls("Database URL must point to the root of a Firebase Database (not including a child path).");const h=CG(a,t,d,new r5(t.name,n));return new RG(h,t)}function TG(t,e){const n=Kv[e];(!n||n[t.key]!==t)&&ls(`Database ${e}(${t.repoInfo_}) has already been deleted.`),hG(t),delete n[t.key]}function CG(t,e,n,r){let s=Kv[e.name];s||(s={},Kv[e.name]=s);let i=s[t.toURLString()];return i&&ls("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new oG(t,EG,n,r),s[t.toURLString()]=i,i}class RG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(aG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Pa(this._repo,Ve())),this._rootInternal}_delete(){return this._rootInternal!==null&&(TG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&ls("Cannot call "+e+" on a deleted database.")}}function IG(t=iy(),e){const n=cf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=QI("database");r&&xG(n,...r)}return n}function xG(t,e,n,r={}){t=pt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&ls("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&ls('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new zo(zo.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:JI(r.mockUserToken,t.app.options.projectId);i=new zo(o)}SG(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NG(t){zW(Zs),Ws(new ts("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return wG(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),zn(gT,vT,t),zn(gT,vT,"esm2017")}Qr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Qr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};NG();const bG={apiKey:"AIzaSyBSaPFkAnkoc_uu_xR9LUvHL1Cc8mOWcyc",authDomain:"mybbs-5642f.firebaseapp.com",projectId:"mybbs-5642f",storageBucket:"mybbs-5642f.appspot.com",messagingSenderId:"210742350834",appId:"1:210742350834:web:a65b2a1d7d470593a3516b",databaseURL:"https://mybbs-5642f-default-rtdb.asia-southeast1.firebasedatabase.app/",measurementId:"G-SZ9V5BHSER"},kk=sx(bG),li=NW(kk),AG=IG(kk);console.log(AG);const kG=Of({key:"textState",default:"2312312"});Of({key:"store2",default:{}});const PG=Of({key:"sss",default:{a:1,b:2}}),mp=Of({key:"atomStore",default:{state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"],todos:"fdsssssss",saying:"sssssssss",count:0}}}),Fe={state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"]},authState:()=>{const t=rs();df(t,n=>{if(n){e(n),sessionStorage.setItem("user",JSON.stringify(n));return}sessionStorage.removeItem("user"),Fe.state.userInfo={},Fe.state.userInfo.stat=!1,console.log("logout 된 상태",Fe.state.userInfo),console.table(Fe.state.userInfo)});const e=async n=>{const r=ai(li,"member",n.uid);try{const s=await P0(r);Fe.state.userInfo.stat=!0,Fe.state.userInfo.email=s.data().email,Fe.state.userInfo.avatar=s.data().avatar,Fe.state.userInfo.nick=s.data().nick,Fe.state.userInfo.displayName=s.data().nick,Fe.state.userInfo.uid=n.uid,Fe.state.userInfo.liked=s.data().liked||[],Fe.state.userInfo.tmdb_movie_scrap=s.data().tmdb_movie_scrap||[],Fe.state.userInfo.tmdb_tv_scrap=s.data().tmdb_tv_scrap||[];const i=JSON.parse(sessionStorage.getItem("user"));i.avatar=s.data().avatar,i.photoURL=s.data().photoURL,i.displayName=s.data().nick,i.nick=s.data().nick,i.liked=s.data().liked||[],i.tmdb_movie_scrap=s.data().tmdb_movie_scrap||[],i.tmdb_tv_scrap=s.data().tmdb_tv_scrap||[],i.stat=!0,sessionStorage.setItem("user",JSON.stringify(i)),Fe.state.userInfo=i}catch(s){console.log(s)}}}};Fe.authState();window.store=Fe;const Pk=async()=>{let t={},e;if(sessionStorage!=null&&sessionStorage.user)e=JSON.parse(sessionStorage==null?void 0:sessionStorage.user).uid;else{const r=rs();if(!e)return;df(r,s=>{e=s.uid})}const n=ai(li,"member",e);try{t=(await P0(n)).data(),t.uid=e,t.stat=!0}catch(r){console.error(r)}return t};function ao({prop:t}){const[e,n]=$o(mp);let r=dn();Sn();const s=un(),[i,o]=T.useState({});T.useEffect(()=>(o(sessionStorage.user&&JSON.parse(sessionStorage.user)),Pk().then(l=>{console.log(l),o(c=>({...c,...l}))}),()=>{}),[i==null?void 0:i.uid,i==null?void 0:i.nick,i==null?void 0:i.displayName,i==null?void 0:i.stat]),console.log(i);const a=()=>{B.confirm("리액트 보다 쀼가 짱입니까?",{ycb:function(){console.log("컴펌 예"),window.location.href="https://kimkee.github.io/vue"},ncb:function(){console.log("컴펌 아뇨")},ybt:"마자요!",nbt:"아니오!"})};return u.jsx("header",{className:`header ${t.headerType}`,children:u.jsxs("div",{className:"inr",children:[u.jsxs("div",{className:"ldt",children:[t.headerType=="main"?u.jsxs("h1",{className:"logo",children:[" ",u.jsx(ot,{to:"/home/",className:"btlogo",children:u.jsx("i",{className:"fa-brands fa-vuejs"})})]}):u.jsxs("button",{type:"button",className:"bt back",onClick:()=>s(-1),children:[u.jsx("i",{className:"fa-regular fa-arrow-left"}),"뒤로"]}),r.id?u.jsx("h3",{className:"htit",children:e.state.userInfo.nick}):null]}),u.jsxs("div",{className:"rdt",children:[((i==null?void 0:i.stat)||(i==null?void 0:i.uid))&&u.jsxs($n,{to:`/user/${i==null?void 0:i.uid}`,className:"user",children:[u.jsx("span",{className:"pic",children:u.jsx("img",{alt:"",className:"img",src:Fe.state.avatar[i.avatar]||i.photoURL})}),u.jsx("span",{className:"txt",children:i.nick||i.displayName})]}),!(i!=null&&i.uid)&&u.jsxs($n,{to:"/user/signin",className:"bt",children:[u.jsx("i",{className:"fa-regular fa-user"}),u.jsx("em",{children:"Login"})]}),u.jsxs("button",{type:"button",onClick:a,className:"bt gnb",children:[u.jsx("i",{className:"fa-regular fa-bars"}),u.jsx("b",{children:"메뉴"})]})]})]})})}function lo(){const t=Sn(),e=c=>t.pathname.includes(`${c}`)?"active":"",[n,r]=T.useState(""),s=()=>{B.lock.stat||(B.viewport.scrollTop()>50?r(!0):r(!1))},i=()=>B.scrollTo("body",0,200),o=rs(),[a,l]=T.useState({});return T.useEffect(()=>(window.addEventListener("scroll",s),l(sessionStorage.user&&JSON.parse(sessionStorage.user)),df(o,c=>{l(c?d=>({...d,...JSON.parse(sessionStorage.user)}):{})}),()=>{window.removeEventListener("scroll",s)}),[a==null?void 0:a.uid]),u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`floatnav ${n?"on-top":""}`,children:u.jsxs("button",{type:"button",className:"bt top",onClick:i,children:[u.jsx("i",{className:"fa-solid fa-arrow-up"}),u.jsx("em",{children:"위로"})]})}),u.jsx("nav",{id:"menubar",className:"menubar",children:u.jsx("div",{className:"inr",children:u.jsxs("ul",{className:"menu",children:[u.jsx("li",{className:e("home"),children:u.jsxs($n,{to:"/home/",className:"bt",children:[u.jsx("i",{className:"fa-regular fa-house"}),u.jsx("em",{children:"Home"})]})}),u.jsx("li",{className:e("list/movie"),children:u.jsxs($n,{to:"/list/movie/0/",className:"bt",children:[u.jsx("i",{className:"fa-regular fa-clapperboard-play"}),u.jsx("em",{children:"Movie"})]})}),u.jsx("li",{className:e("list/tv"),children:u.jsxs($n,{to:"/list/tv/0/",className:"bt",children:[u.jsx("i",{className:"fa-regular fa-tv-retro"}),u.jsx("em",{children:"TV"})]})}),u.jsx("li",{className:e("search/"),children:u.jsxs($n,{to:"/search/movie/",className:"bt",children:[u.jsx("i",{className:"fa-regular fa-search"}),u.jsx("em",{children:"Search"})]})}),u.jsxs("li",{className:e("user/"),children:[(Fe.state.userInfo.stat||(a==null?void 0:a.uid))&&u.jsxs($n,{to:`/user/${a.uid}`,className:"bt",children:[" ",u.jsx("i",{className:"fa-regular fa-user"}),u.jsx("em",{children:"Mypage"})]}),!(a!=null&&a.uid)&&u.jsxs($n,{to:"/user/signin",className:"bt",children:[u.jsx("i",{className:"fa-regular fa-user"}),u.jsx("em",{children:"Login"})]})]})]})})})]})}function Lk(t,e){return function(){return t.apply(e,arguments)}}const{toString:LG}=Object.prototype,{getPrototypeOf:tE}=Object,gp=(t=>e=>{const n=LG.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),kr=t=>(t=t.toLowerCase(),e=>gp(e)===t),vp=t=>e=>typeof e===t,{isArray:La}=Array,xc=vp("undefined");function OG(t){return t!==null&&!xc(t)&&t.constructor!==null&&!xc(t.constructor)&&Hn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Ok=kr("ArrayBuffer");function DG(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Ok(t.buffer),e}const MG=vp("string"),Hn=vp("function"),Dk=vp("number"),_p=t=>t!==null&&typeof t=="object",jG=t=>t===!0||t===!1,Cd=t=>{if(gp(t)!=="object")return!1;const e=tE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},$G=kr("Date"),VG=kr("File"),FG=kr("Blob"),UG=kr("FileList"),BG=t=>_p(t)&&Hn(t.pipe),zG=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Hn(t.append)&&((e=gp(t))==="formdata"||e==="object"&&Hn(t.toString)&&t.toString()==="[object FormData]"))},HG=kr("URLSearchParams"),WG=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),La(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Mk(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const jk=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$k=t=>!xc(t)&&t!==jk;function Qv(){const{caseless:t}=$k(this)&&this||{},e={},n=(r,s)=>{const i=t&&Mk(e,s)||s;Cd(e[i])&&Cd(r)?e[i]=Qv(e[i],r):Cd(r)?e[i]=Qv({},r):La(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&fu(arguments[r],n);return e}const qG=(t,e,n,{allOwnKeys:r}={})=>(fu(e,(s,i)=>{n&&Hn(s)?t[i]=Lk(s,n):t[i]=s},{allOwnKeys:r}),t),GG=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),KG=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},QG=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&tE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},YG=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},XG=t=>{if(!t)return null;if(La(t))return t;let e=t.length;if(!Dk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},JG=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&tE(Uint8Array)),ZG=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},e8=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},t8=kr("HTMLFormElement"),n8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),YT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),r8=kr("RegExp"),Vk=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};fu(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},s8=t=>{Vk(t,(e,n)=>{if(Hn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Hn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},i8=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return La(t)?r(t):r(String(t).split(e)),n},o8=()=>{},a8=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Fm="abcdefghijklmnopqrstuvwxyz",XT="0123456789",Fk={DIGIT:XT,ALPHA:Fm,ALPHA_DIGIT:Fm+Fm.toUpperCase()+XT},l8=(t=16,e=Fk.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function c8(t){return!!(t&&Hn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const u8=t=>{const e=new Array(10),n=(r,s)=>{if(_p(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=La(r)?[]:{};return fu(r,(o,a)=>{const l=n(o,s+1);!xc(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},d8=kr("AsyncFunction"),h8=t=>t&&(_p(t)||Hn(t))&&Hn(t.then)&&Hn(t.catch),L={isArray:La,isArrayBuffer:Ok,isBuffer:OG,isFormData:zG,isArrayBufferView:DG,isString:MG,isNumber:Dk,isBoolean:jG,isObject:_p,isPlainObject:Cd,isUndefined:xc,isDate:$G,isFile:VG,isBlob:FG,isRegExp:r8,isFunction:Hn,isStream:BG,isURLSearchParams:HG,isTypedArray:JG,isFileList:UG,forEach:fu,merge:Qv,extend:qG,trim:WG,stripBOM:GG,inherits:KG,toFlatObject:QG,kindOf:gp,kindOfTest:kr,endsWith:YG,toArray:XG,forEachEntry:ZG,matchAll:e8,isHTMLForm:t8,hasOwnProperty:YT,hasOwnProp:YT,reduceDescriptors:Vk,freezeMethods:s8,toObjectSet:i8,toCamelCase:n8,noop:o8,toFiniteNumber:a8,findKey:Mk,global:jk,isContextDefined:$k,ALPHABET:Fk,generateString:l8,isSpecCompliantForm:c8,toJSONObject:u8,isAsyncFn:d8,isThenable:h8};function Pe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}L.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Uk=Pe.prototype,Bk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Bk[t]={value:t}});Object.defineProperties(Pe,Bk);Object.defineProperty(Uk,"isAxiosError",{value:!0});Pe.from=(t,e,n,r,s,i)=>{const o=Object.create(Uk);return L.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Pe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const f8=null;function Yv(t){return L.isPlainObject(t)||L.isArray(t)}function zk(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function JT(t,e,n){return t?t.concat(e).map(function(s,i){return s=zk(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function p8(t){return L.isArray(t)&&!t.some(Yv)}const m8=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function yp(t,e,n){if(!L.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,E){return!L.isUndefined(E[g])});const r=n.metaTokens,s=n.visitor||d,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(L.isDate(m))return m.toISOString();if(!l&&L.isBlob(m))throw new Pe("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(m)||L.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,g,E){let v=m;if(m&&!E&&typeof m=="object"){if(L.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(L.isArray(m)&&p8(m)||(L.isFileList(m)||L.endsWith(g,"[]"))&&(v=L.toArray(m)))return g=zk(g),v.forEach(function(y,S){!(L.isUndefined(y)||y===null)&&e.append(o===!0?JT([g],S,i):o===null?g:g+"[]",c(y))}),!1}return Yv(m)?!0:(e.append(JT(E,g,i),c(m)),!1)}const h=[],f=Object.assign(m8,{defaultVisitor:d,convertValue:c,isVisitable:Yv});function p(m,g){if(!L.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(m),L.forEach(m,function(v,_){(!(L.isUndefined(v)||v===null)&&s.call(e,v,L.isString(_)?_.trim():_,g,f))===!0&&p(v,g?g.concat(_):[_])}),h.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return p(t),e}function ZT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function nE(t,e){this._pairs=[],t&&yp(t,this,e)}const Hk=nE.prototype;Hk.append=function(e,n){this._pairs.push([e,n])};Hk.toString=function(e){const n=e?function(r){return e.call(this,r,ZT)}:ZT;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function g8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Wk(t,e,n){if(!e)return t;const r=n&&n.encode||g8,s=n&&n.serialize;let i;if(s?i=s(e,n):i=L.isURLSearchParams(e)?e.toString():new nE(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class v8{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(r){r!==null&&e(r)})}}const eC=v8,qk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},_8=typeof URLSearchParams<"u"?URLSearchParams:nE,y8=typeof FormData<"u"?FormData:null,E8=typeof Blob<"u"?Blob:null,S8=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),w8=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vr={isBrowser:!0,classes:{URLSearchParams:_8,FormData:y8,Blob:E8},isStandardBrowserEnv:S8,isStandardBrowserWebWorkerEnv:w8,protocols:["http","https","file","blob","url","data"]};function T8(t,e){return yp(t,new vr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return vr.isNode&&L.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function C8(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function R8(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function Gk(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&L.isArray(s)?s.length:o,l?(L.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!L.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&L.isArray(s[o])&&(s[o]=R8(s[o])),!a)}if(L.isFormData(t)&&L.isFunction(t.entries)){const n={};return L.forEachEntry(t,(r,s)=>{e(C8(r),s,n,0)}),n}return null}const I8={"Content-Type":void 0};function x8(t,e,n){if(L.isString(t))try{return(e||JSON.parse)(t),L.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ep={transitional:qk,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=L.isObject(e);if(i&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return s&&s?JSON.stringify(Gk(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return T8(e,this.formSerializer).toString();if((a=L.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return yp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),x8(e)):e}],transformResponse:[function(e){const n=this.transitional||Ep.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&L.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Pe.from(a,Pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vr.classes.FormData,Blob:vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};L.forEach(["delete","get","head"],function(e){Ep.headers[e]={}});L.forEach(["post","put","patch"],function(e){Ep.headers[e]=L.merge(I8)});const rE=Ep,N8=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),b8=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&N8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},tC=Symbol("internals");function tl(t){return t&&String(t).trim().toLowerCase()}function Rd(t){return t===!1||t==null?t:L.isArray(t)?t.map(Rd):String(t)}function A8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const k8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Um(t,e,n,r,s){if(L.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!L.isString(e)){if(L.isString(r))return e.indexOf(r)!==-1;if(L.isRegExp(r))return r.test(e)}}function P8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function L8(t,e){const n=L.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Sp{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const d=tl(l);if(!d)throw new Error("header name must be a non-empty string");const h=L.findKey(s,d);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=Rd(a))}const o=(a,l)=>L.forEach(a,(c,d)=>i(c,d,l));return L.isPlainObject(e)||e instanceof this.constructor?o(e,n):L.isString(e)&&(e=e.trim())&&!k8(e)?o(b8(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=tl(e),e){const r=L.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return A8(s);if(L.isFunction(n))return n.call(this,s,r);if(L.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=tl(e),e){const r=L.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Um(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=tl(o),o){const a=L.findKey(r,o);a&&(!n||Um(r,r[a],a,n))&&(delete r[a],s=!0)}}return L.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Um(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return L.forEach(this,(s,i)=>{const o=L.findKey(r,i);if(o){n[o]=Rd(s),delete n[i];return}const a=e?P8(i):String(i).trim();a!==i&&delete n[i],n[a]=Rd(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return L.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&L.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[tC]=this[tC]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=tl(o);r[a]||(L8(s,o),r[a]=!0)}return L.isArray(e)?e.forEach(i):i(e),this}}Sp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.freezeMethods(Sp.prototype);L.freezeMethods(Sp);const Yr=Sp;function Bm(t,e){const n=this||rE,r=e||n,s=Yr.from(r.headers);let i=r.data;return L.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Kk(t){return!!(t&&t.__CANCEL__)}function pu(t,e,n){Pe.call(this,t??"canceled",Pe.ERR_CANCELED,e,n),this.name="CanceledError"}L.inherits(pu,Pe,{__CANCEL__:!0});function O8(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const D8=vr.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),L.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),L.isString(i)&&l.push("path="+i),L.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function M8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function j8(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Qk(t,e){return t&&!M8(e)?j8(t,e):e}const $8=vr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=L.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function V8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function F8(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[i];o||(o=c),n[s]=l,r[s]=c;let h=i,f=0;for(;h!==s;)f+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function nC(t,e){let n=0;const r=F8(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),c=i<=o;n=i;const d={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};d[e?"download":"upload"]=!0,t(d)}}const U8=typeof XMLHttpRequest<"u",B8=U8&&function(t){return new Promise(function(n,r){let s=t.data;const i=Yr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}L.isFormData(s)&&(vr.isStandardBrowserEnv||vr.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+m))}const d=Qk(t.baseURL,t.url);c.open(t.method.toUpperCase(),Wk(d,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!c)return;const p=Yr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};O8(function(v){n(v),l()},function(v){r(v),l()},g),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(r(new Pe("Request aborted",Pe.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Pe("Network Error",Pe.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||qk;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Pe(m,g.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,t,c)),c=null},vr.isStandardBrowserEnv){const p=(t.withCredentials||$8(d))&&t.xsrfCookieName&&D8.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}s===void 0&&i.setContentType(null),"setRequestHeader"in c&&L.forEach(i.toJSON(),function(m,g){c.setRequestHeader(g,m)}),L.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",nC(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",nC(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{c&&(r(!p||p.type?new pu(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=V8(d);if(f&&vr.protocols.indexOf(f)===-1){r(new Pe("Unsupported protocol "+f+":",Pe.ERR_BAD_REQUEST,t));return}c.send(s||null)})},Id={http:f8,xhr:B8};L.forEach(Id,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const z8={getAdapter:t=>{t=L.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=L.isString(n)?Id[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new Pe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(L.hasOwnProp(Id,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!L.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Id};function zm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pu(null,t)}function rC(t){return zm(t),t.headers=Yr.from(t.headers),t.data=Bm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),z8.getAdapter(t.adapter||rE.adapter)(t).then(function(r){return zm(t),r.data=Bm.call(t,t.transformResponse,r),r.headers=Yr.from(r.headers),r},function(r){return Kk(r)||(zm(t),r&&r.response&&(r.response.data=Bm.call(t,t.transformResponse,r.response),r.response.headers=Yr.from(r.response.headers))),Promise.reject(r)})}const sC=t=>t instanceof Yr?t.toJSON():t;function pa(t,e){e=e||{};const n={};function r(c,d,h){return L.isPlainObject(c)&&L.isPlainObject(d)?L.merge.call({caseless:h},c,d):L.isPlainObject(d)?L.merge({},d):L.isArray(d)?d.slice():d}function s(c,d,h){if(L.isUndefined(d)){if(!L.isUndefined(c))return r(void 0,c,h)}else return r(c,d,h)}function i(c,d){if(!L.isUndefined(d))return r(void 0,d)}function o(c,d){if(L.isUndefined(d)){if(!L.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,h){if(h in e)return r(c,d);if(h in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d)=>s(sC(c),sC(d),!0)};return L.forEach(Object.keys(Object.assign({},t,e)),function(d){const h=l[d]||s,f=h(t[d],e[d],d);L.isUndefined(f)&&h!==a||(n[d]=f)}),n}const Yk="1.4.0",sE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sE[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const iC={};sE.transitional=function(e,n,r){function s(i,o){return"[Axios v"+Yk+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Pe(s(o," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!iC[o]&&(iC[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function H8(t,e,n){if(typeof t!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Pe("option "+i+" must be "+l,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+i,Pe.ERR_BAD_OPTION)}}const Xv={assertOptions:H8,validators:sE},gs=Xv.validators;class Vh{constructor(e){this.defaults=e,this.interceptors={request:new eC,response:new eC}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=pa(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Xv.assertOptions(r,{silentJSONParsing:gs.transitional(gs.boolean),forcedJSONParsing:gs.transitional(gs.boolean),clarifyTimeoutError:gs.transitional(gs.boolean)},!1),s!=null&&(L.isFunction(s)?n.paramsSerializer={serialize:s}:Xv.assertOptions(s,{encode:gs.function,serialize:gs.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&L.merge(i.common,i[n.method]),o&&L.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Yr.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let d,h=0,f;if(!l){const m=[rC.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,d=Promise.resolve(n);h<f;)d=d.then(m[h++],m[h++]);return d}f=a.length;let p=n;for(h=0;h<f;){const m=a[h++],g=a[h++];try{p=m(p)}catch(E){g.call(this,E);break}}try{d=rC.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=pa(this.defaults,e);const n=Qk(e.baseURL,e.url);return Wk(n,e.params,e.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(e){Vh.prototype[e]=function(n,r){return this.request(pa(r||{},{method:e,url:n,data:(r||{}).data}))}});L.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(pa(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Vh.prototype[e]=n(),Vh.prototype[e+"Form"]=n(!0)});const xd=Vh;class iE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new pu(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new iE(function(s){e=s}),cancel:e}}}const W8=iE;function q8(t){return function(n){return t.apply(null,n)}}function G8(t){return L.isObject(t)&&t.isAxiosError===!0}const Jv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Jv).forEach(([t,e])=>{Jv[e]=t});const K8=Jv;function Xk(t){const e=new xd(t),n=Lk(xd.prototype.request,e);return L.extend(n,xd.prototype,e,{allOwnKeys:!0}),L.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Xk(pa(t,s))},n}const Et=Xk(rE);Et.Axios=xd;Et.CanceledError=pu;Et.CancelToken=W8;Et.isCancel=Kk;Et.VERSION=Yk;Et.toFormData=yp;Et.AxiosError=Pe;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=q8;Et.isAxiosError=G8;Et.mergeConfig=pa;Et.AxiosHeaders=Yr;Et.formToJSON=t=>Gk(L.isHTMLForm(t)?new FormData(t):t);Et.HttpStatusCode=K8;Et.default=Et;const Zt=Et;function oC(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function oE(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:oC(e[n])&&oC(t[n])&&Object.keys(e[n]).length>0&&oE(t[n],e[n])})}const Jk={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function bt(){const t=typeof document<"u"?document:{};return oE(t,Jk),t}const Q8={document:Jk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Pt(){const t=typeof window<"u"?window:{};return oE(t,Q8),t}function Y8(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class Is extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),Y8(this))}}function mu(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...mu(n)):e.push(n)}),e}function Zk(t,e){return Array.prototype.filter.call(t,e)}function X8(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function J8(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let s=0;s<r.length;s+=1)n.push(r[s]);return n}function q(t,e){const n=Pt(),r=bt();let s=[];if(!e&&t instanceof Is)return t;if(!t)return new Is(s);if(typeof t=="string"){const i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let o="div";i.indexOf("<li")===0&&(o="ul"),i.indexOf("<tr")===0&&(o="tbody"),(i.indexOf("<td")===0||i.indexOf("<th")===0)&&(o="tr"),i.indexOf("<tbody")===0&&(o="table"),i.indexOf("<option")===0&&(o="select");const a=r.createElement(o);a.innerHTML=i;for(let l=0;l<a.childNodes.length;l+=1)s.push(a.childNodes[l])}else s=J8(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof Is)return t;s=t}return new Is(X8(s))}q.fn=Is.prototype;function Z8(...t){const e=mu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function e7(...t){const e=mu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function t7(...t){const e=mu(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function n7(...t){const e=mu(t.map(n=>n.split(" ")));return Zk(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function r7(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function s7(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function i7(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function o7(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function a7(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);function i(c){const d=c.target;if(!d)return;const h=c.target.dom7EventData||[];if(h.indexOf(c)<0&&h.unshift(c),q(d).is(n))r.apply(d,h);else{const f=q(d).parents();for(let p=0;p<f.length;p+=1)q(f[p]).is(n)&&r.apply(f[p],h)}}function o(c){const d=c&&c.target?c.target.dom7EventData||[]:[];d.indexOf(c)<0&&d.unshift(c),r.apply(this,d)}const a=e.split(" ");let l;for(let c=0;c<this.length;c+=1){const d=this[c];if(n)for(l=0;l<a.length;l+=1){const h=a[l];d.dom7LiveListeners||(d.dom7LiveListeners={}),d.dom7LiveListeners[h]||(d.dom7LiveListeners[h]=[]),d.dom7LiveListeners[h].push({listener:r,proxyListener:i}),d.addEventListener(h,i,s)}else for(l=0;l<a.length;l+=1){const h=a[l];d.dom7Listeners||(d.dom7Listeners={}),d.dom7Listeners[h]||(d.dom7Listeners[h]=[]),d.dom7Listeners[h].push({listener:r,proxyListener:o}),d.addEventListener(h,o,s)}}return this}function l7(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);const i=e.split(" ");for(let o=0;o<i.length;o+=1){const a=i[o];for(let l=0;l<this.length;l+=1){const c=this[l];let d;if(!n&&c.dom7Listeners?d=c.dom7Listeners[a]:n&&c.dom7LiveListeners&&(d=c.dom7LiveListeners[a]),d&&d.length)for(let h=d.length-1;h>=0;h-=1){const f=d[h];r&&f.listener===r||r&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===r?(c.removeEventListener(a,f.proxyListener,s),d.splice(h,1)):r||(c.removeEventListener(a,f.proxyListener,s),d.splice(h,1))}}}return this}function c7(...t){const e=Pt(),n=t[0].split(" "),r=t[1];for(let s=0;s<n.length;s+=1){const i=n[s];for(let o=0;o<this.length;o+=1){const a=this[o];if(e.CustomEvent){const l=new e.CustomEvent(i,{detail:r,bubbles:!0,cancelable:!0});a.dom7EventData=t.filter((c,d)=>d>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function u7(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function d7(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function h7(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function f7(){if(this.length>0){const t=Pt(),e=bt(),n=this[0],r=n.getBoundingClientRect(),s=e.body,i=n.clientTop||s.clientTop||0,o=n.clientLeft||s.clientLeft||0,a=n===t?t.scrollY:n.scrollTop,l=n===t?t.scrollX:n.scrollLeft;return{top:r.top+a-i,left:r.left+l-o}}return null}function p7(){const t=Pt();return this[0]?t.getComputedStyle(this[0],null):{}}function m7(t,e){const n=Pt();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const s in t)this[r].style[s]=t[s];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function g7(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function v7(t){const e=Zk(this,t);return q(e)}function _7(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function y7(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function E7(t){const e=Pt(),n=bt(),r=this[0];let s,i;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=q(t),i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof Is){for(s=t.nodeType?[t]:t,i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}return!1}function S7(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function w7(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return q([]);if(t<0){const n=e+t;return n<0?q([]):q([this[n]])}return q([this[t]])}function T7(...t){let e;const n=bt();for(let r=0;r<t.length;r+=1){e=t[r];for(let s=0;s<this.length;s+=1)if(typeof e=="string"){const i=n.createElement("div");for(i.innerHTML=e;i.firstChild;)this[s].appendChild(i.firstChild)}else if(e instanceof Is)for(let i=0;i<e.length;i+=1)this[s].appendChild(e[i]);else this[s].appendChild(e)}return this}function C7(t){const e=bt();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const s=e.createElement("div");for(s.innerHTML=t,r=s.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(s.childNodes[r],this[n].childNodes[0])}else if(t instanceof Is)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function R7(t){return this.length>0?t?this[0].nextElementSibling&&q(this[0].nextElementSibling).is(t)?q([this[0].nextElementSibling]):q([]):this[0].nextElementSibling?q([this[0].nextElementSibling]):q([]):q([])}function I7(t){const e=[];let n=this[0];if(!n)return q([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?q(r).is(t)&&e.push(r):e.push(r),n=r}return q(e)}function x7(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&q(e.previousElementSibling).is(t)?q([e.previousElementSibling]):q([]):e.previousElementSibling?q([e.previousElementSibling]):q([])}return q([])}function N7(t){const e=[];let n=this[0];if(!n)return q([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?q(r).is(t)&&e.push(r):e.push(r),n=r}return q(e)}function b7(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?q(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return q(e)}function A7(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?q(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return q(e)}function k7(t){let e=this;return typeof t>"u"?q([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function P7(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let s=0;s<r.length;s+=1)e.push(r[s])}return q(e)}function L7(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let s=0;s<r.length;s+=1)(!t||q(r[s]).is(t))&&e.push(r[s])}return q(e)}function O7(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const aC={addClass:Z8,removeClass:e7,hasClass:n7,toggleClass:t7,attr:r7,removeAttr:s7,transform:i7,transition:o7,on:a7,off:l7,trigger:c7,transitionEnd:u7,outerWidth:d7,outerHeight:h7,styles:p7,offset:f7,css:m7,each:g7,html:_7,text:y7,is:E7,index:S7,eq:w7,append:T7,prepend:C7,next:R7,nextAll:I7,prev:x7,prevAll:N7,parent:b7,parents:A7,closest:k7,find:P7,children:L7,filter:v7,remove:O7};Object.keys(aC).forEach(t=>{Object.defineProperty(q.fn,t,{value:aC[t],writable:!0})});function D7(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Nc(t,e=0){return setTimeout(t,e)}function bc(){return Date.now()}function M7(t){const e=Pt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function j7(t,e="x"){const n=Pt();let r,s,i;const o=M7(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function ed(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function $7(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Cn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!$7(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,a=i.length;o<a;o+=1){const l=i[o],c=Object.getOwnPropertyDescriptor(s,l);c!==void 0&&c.enumerable&&(ed(e[l])&&ed(s[l])?s[l].__swiper__?e[l]=s[l]:Cn(e[l],s[l]):!ed(e[l])&&ed(s[l])?(e[l]={},s[l].__swiper__?e[l]=s[l]:Cn(e[l],s[l])):e[l]=s[l])}}}return e}function td(t,e,n){t.style.setProperty(e,n)}function eP({swiper:t,targetPosition:e,side:n}){const r=Pt(),s=-t.translate;let i=null,o;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const l=e>s?"next":"prev",c=(h,f)=>l==="next"&&h>=f||l==="prev"&&h<=f,d=()=>{o=new Date().getTime(),i===null&&(i=o);const h=Math.max(Math.min((o-i)/a,1),0),f=.5-Math.cos(h*Math.PI)/2;let p=s+f*(e-s);if(c(p,e)&&(p=e),t.wrapperEl.scrollTo({[n]:p}),c(p,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(d)};d()}let Hm;function V7(){const t=Pt(),e=bt();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const s=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,s)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function tP(){return Hm||(Hm=V7()),Hm}let Wm;function F7({userAgent:t}={}){const e=tP(),n=Pt(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=r==="Win32";let p=r==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&p&&e.touch&&m.indexOf(`${o}x${a}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!f&&(i.os="android",i.android=!0),(c||h||d)&&(i.os="ios",i.ios=!0),i}function U7(t={}){return Wm||(Wm=F7(t)),Wm}let qm;function B7(){const t=Pt();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function z7(){return qm||(qm=B7()),qm}function H7({swiper:t,on:e,emit:n}){const r=Pt();let s=null,i=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(d=>{i=r.requestAnimationFrame(()=>{const{width:h,height:f}=t;let p=h,m=f;d.forEach(({contentBoxSize:g,contentRect:E,target:v})=>{v&&v!==t.el||(p=E?E.width:(g[0]||g).inlineSize,m=E?E.height:(g[0]||g).blockSize)}),(p!==h||m!==f)&&o()})}),s.observe(t.el))},l=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},c=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",c)}),e("destroy",()=>{l(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",c)})}function W7({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=Pt(),o=(c,d={})=>{const h=i.MutationObserver||i.WebkitMutationObserver,f=new h(p=>{if(p.length===1){r("observerUpdate",p[0]);return}const m=function(){r("observerUpdate",p[0])};i.requestAnimationFrame?i.requestAnimationFrame(m):i.setTimeout(m,0)});f.observe(c,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:typeof d.childList>"u"?!0:d.childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(f)},a=()=>{if(t.params.observer){if(t.params.observeParents){const c=t.$el.parents();for(let d=0;d<c.length;d+=1)o(c[d])}o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}},l=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}const q7={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(s,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(a=>{a.apply(s,r)})}),e}};function G7(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function K7(){const t=this;function e(D){return t.isHorizontal()?D:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[D]}function n(D,P){return parseFloat(D.getPropertyValue(e(P))||0)}const r=t.params,{$wrapperEl:s,size:i,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&r.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,d=s.children(`.${t.params.slideClass}`),h=l?t.virtual.slides.length:d.length;let f=[];const p=[],m=[];let g=r.slidesOffsetBefore;typeof g=="function"&&(g=r.slidesOffsetBefore.call(t));let E=r.slidesOffsetAfter;typeof E=="function"&&(E=r.slidesOffsetAfter.call(t));const v=t.snapGrid.length,_=t.slidesGrid.length;let y=r.spaceBetween,S=-g,w=0,N=0;if(typeof i>"u")return;typeof y=="string"&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*i),t.virtualSize=-y,o?d.css({marginLeft:"",marginBottom:"",marginTop:""}):d.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(td(t.wrapperEl,"--swiper-centered-offset-before",""),td(t.wrapperEl,"--swiper-centered-offset-after",""));const b=r.grid&&r.grid.rows>1&&t.grid;b&&t.grid.initSlides(h);let k;const G=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(D=>typeof r.breakpoints[D].slidesPerView<"u").length>0;for(let D=0;D<h;D+=1){k=0;const P=d.eq(D);if(b&&t.grid.updateSlide(D,P,h,e),P.css("display")!=="none"){if(r.slidesPerView==="auto"){G&&(d[D].style[e("width")]="");const x=getComputedStyle(P[0]),A=P[0].style.transform,H=P[0].style.webkitTransform;if(A&&(P[0].style.transform="none"),H&&(P[0].style.webkitTransform="none"),r.roundLengths)k=t.isHorizontal()?P.outerWidth(!0):P.outerHeight(!0);else{const re=n(x,"width"),Ee=n(x,"padding-left"),we=n(x,"padding-right"),M=n(x,"margin-left"),O=n(x,"margin-right"),W=x.getPropertyValue("box-sizing");if(W&&W==="border-box")k=re+M+O;else{const{clientWidth:ie,offsetWidth:R}=P[0];k=re+Ee+we+M+O+(R-ie)}}A&&(P[0].style.transform=A),H&&(P[0].style.webkitTransform=H),r.roundLengths&&(k=Math.floor(k))}else k=(i-(r.slidesPerView-1)*y)/r.slidesPerView,r.roundLengths&&(k=Math.floor(k)),d[D]&&(d[D].style[e("width")]=`${k}px`);d[D]&&(d[D].swiperSlideSize=k),m.push(k),r.centeredSlides?(S=S+k/2+w/2+y,w===0&&D!==0&&(S=S-i/2-y),D===0&&(S=S-i/2-y),Math.abs(S)<1/1e3&&(S=0),r.roundLengths&&(S=Math.floor(S)),N%r.slidesPerGroup===0&&f.push(S),p.push(S)):(r.roundLengths&&(S=Math.floor(S)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&f.push(S),p.push(S),S=S+k+y),t.virtualSize+=k+y,w=k,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+E,o&&a&&(r.effect==="slide"||r.effect==="coverflow")&&s.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&s.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),b&&t.grid.updateWrapperSize(k,f,e),!r.centeredSlides){const D=[];for(let P=0;P<f.length;P+=1){let x=f[P];r.roundLengths&&(x=Math.floor(x)),f[P]<=t.virtualSize-i&&D.push(x)}f=D,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(f.length===0&&(f=[0]),r.spaceBetween!==0){const D=t.isHorizontal()&&o?"marginLeft":e("marginRight");d.filter((P,x)=>r.cssMode?x!==d.length-1:!0).css({[D]:`${y}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let D=0;m.forEach(x=>{D+=x+(r.spaceBetween?r.spaceBetween:0)}),D-=r.spaceBetween;const P=D-i;f=f.map(x=>x<0?-g:x>P?P+E:x)}if(r.centerInsufficientSlides){let D=0;if(m.forEach(P=>{D+=P+(r.spaceBetween?r.spaceBetween:0)}),D-=r.spaceBetween,D<i){const P=(i-D)/2;f.forEach((x,A)=>{f[A]=x-P}),p.forEach((x,A)=>{p[A]=x+P})}}if(Object.assign(t,{slides:d,snapGrid:f,slidesGrid:p,slidesSizesGrid:m}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){td(t.wrapperEl,"--swiper-centered-offset-before",`${-f[0]}px`),td(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const D=-t.snapGrid[0],P=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(x=>x+D),t.slidesGrid=t.slidesGrid.map(x=>x+P)}if(h!==c&&t.emit("slidesLengthChange"),f.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==_&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const D=`${r.containerModifierClass}backface-hidden`,P=t.$el.hasClass(D);h<=r.maxBackfaceHiddenSlides?P||t.$el.addClass(D):P&&t.$el.removeClass(D)}}function Q7(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||q([])).each(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&e.$wrapperEl.css("height",`${s}px`)}function Y7(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function X7(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<r.length;a+=1){const l=r[a];let c=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),h=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),f=-(o-c),p=f+e.slidesSizesGrid[a];(f>=0&&f<e.size-1||p>1&&p<=e.size||f<=0&&p>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass)),l.progress=s?-d:d,l.originalProgress=s?-h:h}e.visibleSlides=q(e.visibleSlides)}function J7(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o}=e;const a=i,l=o;r===0?(s=0,i=!0,o=!0):(s=(t-e.minTranslate())/r,i=s<=0,o=s>=1),Object.assign(e,{progress:s,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!a&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(a&&!i||l&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function Z7(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:s,realIndex:i}=t,o=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let a;o?a=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${s}"]`):a=e.eq(s),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass));let l=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&l.length===0&&(l=e.eq(0),l.addClass(n.slideNextClass));let c=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&c.length===0&&(c=e.eq(-1),c.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function eK(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:s,params:i,activeIndex:o,realIndex:a,snapIndex:l}=e;let c=t,d;if(typeof c>"u"){for(let f=0;f<r.length;f+=1)typeof r[f+1]<"u"?n>=r[f]&&n<r[f+1]-(r[f+1]-r[f])/2?c=f:n>=r[f]&&n<r[f+1]&&(c=f+1):n>=r[f]&&(c=f);i.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0)}if(s.indexOf(n)>=0)d=s.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,c);d=f+Math.floor((c-f)/i.slidesPerGroup)}if(d>=s.length&&(d=s.length-1),c===o){d!==l&&(e.snapIndex=d,e.emit("snapIndexChange"));return}const h=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(e,{snapIndex:d,realIndex:h,previousIndex:o,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==h&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function tK(t){const e=this,n=e.params,r=q(t).closest(`.${n.slideClass}`)[0];let s=!1,i;if(r){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===r){s=!0,i=o;break}}if(r&&s)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(q(r).attr("data-swiper-slide-index"),10):e.clickedIndex=i;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const nK={updateSize:G7,updateSlides:K7,updateAutoHeight:Q7,updateSlidesOffset:Y7,updateSlidesProgress:X7,updateProgress:J7,updateSlidesClasses:Z7,updateActiveIndex:eK,updateClickedSlide:tK};function rK(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,$wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=j7(i[0],t);return r&&(o=-o),o||0}function sK(t,e){const n=this,{rtlTranslate:r,params:s,$wrapperEl:i,wrapperEl:o,progress:a}=n;let l=0,c=0;const d=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||i.transform(`translate3d(${l}px, ${c}px, ${d}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c;let h;const f=n.maxTranslate()-n.minTranslate();f===0?h=0:h=(t-n.minTranslate())/f,h!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function iK(){return-this.snapGrid[0]}function oK(){return-this.snapGrid[this.snapGrid.length-1]}function aK(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let d;if(r&&t>l?d=l:r&&t<c?d=c:d=t,i.updateProgress(d),o.cssMode){const h=i.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-d;else{if(!i.support.smoothScroll)return eP({swiper:i,targetPosition:-d,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-d,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(d),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}const lK={getTranslate:rK,setTranslate:sK,minTranslate:iK,maxTranslate:oK,translateTo:aK};function cK(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function nP({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let o=n;if(o||(s>i?o="next":s<i?o="prev":o="reset"),t.emit(`transition${r}`),e&&s!==i){if(o==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function uK(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),nP({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function dK(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),nP({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const hK={setTransition:cK,transitionStart:uK,transitionEnd:dK};function fK(t=0,e=this.params.speed,n=!0,r,s){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const y=parseInt(t,10);if(!isFinite(y))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=y}const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:d,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:m}=i;if(i.animating&&a.preventInteractionOnTransition||!m&&!r&&!s)return!1;const g=Math.min(i.params.slidesPerGroupSkip,o);let E=g+Math.floor((o-g)/i.params.slidesPerGroup);E>=l.length&&(E=l.length-1);const v=-l[E];if(a.normalizeSlideIndex)for(let y=0;y<c.length;y+=1){const S=-Math.floor(v*100),w=Math.floor(c[y]*100),N=Math.floor(c[y+1]*100);typeof c[y+1]<"u"?S>=w&&S<N-(N-w)/2?o=y:S>=w&&S<N&&(o=y+1):S>=w&&(o=y)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&v<i.translate&&v<i.minTranslate()||!i.allowSlidePrev&&v>i.translate&&v>i.maxTranslate()&&(h||0)!==o))return!1;o!==(d||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(v);let _;if(o>h?_="next":o<h?_="prev":_="reset",f&&-v===i.translate||!f&&v===i.translate)return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(v),_!=="reset"&&(i.transitionStart(n,_),i.transitionEnd(n,_)),!1;if(a.cssMode){const y=i.isHorizontal(),S=f?v:-v;if(e===0){const w=i.virtual&&i.params.virtual.enabled;w&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),p[y?"scrollLeft":"scrollTop"]=S,w&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._swiperImmediateVirtual=!1})}else{if(!i.support.smoothScroll)return eP({swiper:i,targetPosition:S,side:y?"left":"top"}),!0;p.scrollTo({[y?"left":"top"]:S,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(v),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,_),e===0?i.transitionEnd(n,_):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(S){!i||i.destroyed||S.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,_))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd)),!0}function pK(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const o=parseInt(t,10);if(!isFinite(o))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=o}const s=this;let i=t;return s.params.loop&&(i+=s.loopedSlides),s.slideTo(i,e,n,r)}function mK(t=this.params.speed,e=!0,n){const r=this,{animating:s,enabled:i,params:o}=r;if(!i)return r;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(s&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function gK(t=this.params.speed,e=!0,n){const r=this,{params:s,animating:i,snapGrid:o,slidesGrid:a,rtlTranslate:l,enabled:c}=r;if(!c)return r;if(s.loop){if(i&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const d=l?r.translate:-r.translate;function h(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const f=h(d),p=o.map(E=>h(E));let m=o[p.indexOf(f)-1];if(typeof m>"u"&&s.cssMode){let E;o.forEach((v,_)=>{f>=v&&(E=_)}),typeof E<"u"&&(m=o[E>0?E-1:E])}let g=0;if(typeof m<"u"&&(g=a.indexOf(m),g<0&&(g=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,t,e,n)}return r.slideTo(g,t,e,n)}function vK(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function _K(t=this.params.speed,e=!0,n,r=.5){const s=this;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],d=s.snapGrid[a+1];l-c>(d-c)*r&&(i+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],d=s.snapGrid[a];l-c<=(d-c)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function yK(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;if(e.loop){if(t.animating)return;i=parseInt(q(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Nc(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Nc(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}const EK={slideTo:fK,slideToLoop:pK,slideNext:mK,slidePrev:gK,slideReset:vK,slideToClosest:_K,slideToClickedSlide:yK};function SK(){const t=this,e=bt(),{params:n,$wrapperEl:r}=t,s=r.children().length>0?q(r.children()[0].parentNode):r;s.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let i=s.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-i.length%n.slidesPerGroup;if(l!==n.slidesPerGroup){for(let c=0;c<l;c+=1){const d=q(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);s.append(d)}i=s.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>i.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=i.length);const o=[],a=[];i.each((l,c)=>{q(l).attr("data-swiper-slide-index",c)});for(let l=0;l<t.loopedSlides;l+=1){const c=l-Math.floor(l/i.length)*i.length;a.push(i.eq(c)[0]),o.unshift(i.eq(i.length-c-1)[0])}for(let l=0;l<a.length;l+=1)s.append(q(a[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let l=o.length-1;l>=0;l-=1)s.prepend(q(o[l].cloneNode(!0)).addClass(n.slideDuplicateClass))}function wK(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:s,allowSlideNext:i,snapGrid:o,rtlTranslate:a}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const d=-o[e]-t.getTranslate();e<r?(l=n.length-r*3+e,l+=r,t.slideTo(l,0,!1,!0)&&d!==0&&t.setTranslate((a?-t.translate:t.translate)-d)):e>=n.length-r&&(l=-n.length+e+r,l+=r,t.slideTo(l,0,!1,!0)&&d!==0&&t.setTranslate((a?-t.translate:t.translate)-d)),t.allowSlidePrev=s,t.allowSlideNext=i,t.emit("loopFix")}function TK(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const CK={loopCreate:SK,loopFix:wK,loopDestroy:TK};function RK(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function IK(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const xK={setGrabCursor:RK,unsetGrabCursor:IK};function NK(t,e=this){function n(r){if(!r||r===bt()||r===Pt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function bK(t){const e=this,n=bt(),r=Pt(),s=e.touchEventsData,{params:i,touches:o,enabled:a}=e;if(!a||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let c=q(l.target);if(i.touchEventsTarget==="wrapper"&&!c.closest(e.wrapperEl).length||(s.isTouchEvent=l.type==="touchstart",!s.isTouchEvent&&"which"in l&&l.which===3)||!s.isTouchEvent&&"button"in l&&l.button>0||s.isTouched&&s.isMoved)return;const d=!!i.noSwipingClass&&i.noSwipingClass!=="",h=t.composedPath?t.composedPath():t.path;d&&l.target&&l.target.shadowRoot&&h&&(c=q(h[0]));const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(i.noSwiping&&(p?NK(f,c[0]):c.closest(f)[0])){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler)[0])return;o.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,o.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const m=o.currentX,g=o.currentY,E=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,v=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(E&&(m<=v||m>=r.innerWidth-v))if(E==="prevent")t.preventDefault();else return;if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,s.touchStartTime=bc(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1),l.type!=="touchstart"){let _=!0;c.is(s.focusableElements)&&(_=!1,c[0].nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&q(n.activeElement).is(s.focusableElements)&&n.activeElement!==c[0]&&n.activeElement.blur();const y=_&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||y)&&!c[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function AK(t){const e=bt(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}if(r.isTouchEvent&&l.type!=="touchmove")return;const c=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),d=l.type==="touchmove"?c.pageX:l.pageX,h=l.type==="touchmove"?c.pageY:l.pageY;if(l.preventedByNestedSwiper){i.startX=d,i.startY=h;return}if(!n.allowTouchMove){q(l.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:d,startY:h,currentX:d,currentY:h}),r.touchStartTime=bc());return}if(r.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(d<i.startX&&n.translate<=n.maxTranslate()||d>i.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&q(l.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;i.currentX=d,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let v;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(v=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?v>s.touchAngle:90-v>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),r.isMoved||(s.loop&&!s.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let m=n.isHorizontal()?f:p;i.diff=m,m*=s.touchRatio,o&&(m=-m),n.swipeDirection=m>0?"prev":"next",r.currentTranslate=m+r.startTranslate;let g=!0,E=s.resistanceRatio;if(s.touchReleaseOnEdges&&(E=0),m>0&&r.currentTranslate>n.minTranslate()?(g=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+m)**E)):m<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-m)**E)),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(m)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function kK(t){const e=this,n=e.touchEventsData,{params:r,touches:s,rtlTranslate:i,slidesGrid:o,enabled:a}=e;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=bc(),d=c-n.touchStartTime;if(e.allowClick){const _=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(_&&_[0]||l.target),e.emit("tap click",l),d<300&&c-n.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(n.lastClickTime=bc(),Nc(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(r.followFinger?h=i?e.translate:-e.translate:h=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let f=0,p=e.slidesSizesGrid[0];for(let _=0;_<o.length;_+=_<r.slidesPerGroupSkip?1:r.slidesPerGroup){const y=_<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof o[_+y]<"u"?h>=o[_]&&h<o[_+y]&&(f=_,p=o[_+y]-o[_]):h>=o[_]&&(f=_,p=o[o.length-1]-o[o.length-2])}let m=null,g=null;r.rewind&&(e.isBeginning?g=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const E=(h-o[f])/p,v=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(d>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?m:f+v):e.slideTo(f)),e.swipeDirection==="prev"&&(E>1-r.longSwipesRatio?e.slideTo(f+v):g!==null&&E<0&&Math.abs(E)>r.longSwipesRatio?e.slideTo(g):e.slideTo(f))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(f+v):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:f+v),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:f))}}function lC(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function PK(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function LK(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let cC=!1;function OK(){}const rP=(t,e)=>{const n=bt(),{params:r,touchEvents:s,el:i,wrapperEl:o,device:a,support:l}=t,c=!!r.nested,d=e==="on"?"addEventListener":"removeEventListener",h=e;if(!l.touch)i[d](s.start,t.onTouchStart,!1),n[d](s.move,t.onTouchMove,c),n[d](s.end,t.onTouchEnd,!1);else{const f=s.start==="touchstart"&&l.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;i[d](s.start,t.onTouchStart,f),i[d](s.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),i[d](s.end,t.onTouchEnd,f),s.cancel&&i[d](s.cancel,t.onTouchEnd,f)}(r.preventClicks||r.preventClicksPropagation)&&i[d]("click",t.onClick,!0),r.cssMode&&o[d]("scroll",t.onScroll),r.updateOnWindowResize?t[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",lC,!0):t[h]("observerUpdate",lC,!0)};function DK(){const t=this,e=bt(),{params:n,support:r}=t;t.onTouchStart=bK.bind(t),t.onTouchMove=AK.bind(t),t.onTouchEnd=kK.bind(t),n.cssMode&&(t.onScroll=LK.bind(t)),t.onClick=PK.bind(t),r.touch&&!cC&&(e.addEventListener("touchstart",OK),cC=!0),rP(t,"on")}function MK(){rP(this,"off")}const jK={attachEvents:DK,detachEvents:MK},uC=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function $K(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:s,$el:i}=t,o=s.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in o?o[a]:void 0)||t.originalParams,d=uC(t,s),h=uC(t,c),f=s.enabled;d&&!h?(i.removeClass(`${s.containerModifierClass}grid ${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!d&&h&&(i.addClass(`${s.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&s.grid.fill==="column")&&i.addClass(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{const v=s[E]&&s[E].enabled,_=c[E]&&c[E].enabled;v&&!_&&t[E].disable(),!v&&_&&t[E].enable()});const p=c.direction&&c.direction!==s.direction,m=s.loop&&(c.slidesPerView!==s.slidesPerView||p);p&&n&&t.changeDirection(),Cn(t.params,c);const g=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!g?t.disable():!f&&g&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),m&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",c)}function VK(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=Pt(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}const FK={setBreakpoint:$K,getBreakpoint:VK};function UK(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function BK(){const t=this,{classNames:e,params:n,rtl:r,$el:s,device:i,support:o}=t,a=UK(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.addClass([...e].join(" ")),t.emitContainerClasses()}function zK(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const HK={addClasses:BK,removeClasses:zK};function WK(t,e,n,r,s,i){const o=Pt();let a;function l(){i&&i()}!q(t).parent("picture")[0]&&(!t.complete||!s)&&e?(a=new o.Image,a.onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):l()}function qK(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const GK={loadImage:WK,preloadImages:qK};function KK(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const QK={checkOverflow:KK},dC={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function YK(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Cn(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&t[s]===!0&&(t[s]={auto:!0}),!(s in t&&"enabled"in i)){Cn(e,r);return}t[s]===!0&&(t[s]={enabled:!0}),typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Cn(e,r)}}const Gm={eventsEmitter:q7,update:nK,translate:lK,transition:hK,slide:EK,loop:CK,grabCursor:xK,events:jK,breakpoints:FK,checkOverflow:QK,classes:HK,images:GK},Km={};let ma=class Dr{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Cn({},r),n&&!r.el&&(r.el=n),r.el&&q(r.el).length>1){const a=[];return q(r.el).each(l=>{const c=Cn({},r,{el:l});a.push(new Dr(c))}),a}const s=this;s.__swiper__=!0,s.support=tP(),s.device=U7({userAgent:r.userAgent}),s.browser=z7(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const i={};s.modules.forEach(a=>{a({swiper:s,extendParams:YK(r,i),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const o=Cn({},dC,i);return s.params=Cn({},o,Km,r),s.originalParams=Cn({},s.params),s.passedParams=Cn({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(a=>{s.on(a,s.params.on[a])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=q,Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:q(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const l=["touchstart","touchmove","touchend","touchcancel"],c=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},s.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:bc(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=r;let d=1;if(s.centeredSlides){let h=i[c].swiperSlideSize,f;for(let p=c+1;p<i.length;p+=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,d+=1,h>l&&(f=!0));for(let p=c-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,d+=1,h>l&&(f=!0))}else if(e==="current")for(let h=c+1;h<i.length;h+=1)(n?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(d+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(d+=1);return d}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;e.params.freeMode&&e.params.freeMode.enabled?(s(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?i=e.slideTo(e.slides.length-1,0,!1,!0):i=e.slideTo(e.activeIndex,0,!1,!0),i||s()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${s}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=q(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const a=q(e.shadowRoot.querySelector(s()));return a.children=l=>r.children(l),a}return r.children?r.children(s()):q(r).children(s())})();if(o.length===0&&n.params.createElements){const l=bt().createElement("div");o=q(l),l.className=n.params.wrapperClass,r.append(l),r.children(`.${n.params.slideClass}`).each(c=>{o.append(c)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:o.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:s,$el:i,$wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.$el[0].swiper=null,D7(r)),r.destroyed=!0),null}static extendDefaults(e){Cn(Km,e)}static get extendedDefaults(){return Km}static get defaults(){return dC}static installModule(e){Dr.prototype.__modules__||(Dr.prototype.__modules__=[]);const n=Dr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Dr.installModule(n)),Dr):(Dr.installModule(e),Dr)}};Object.keys(Gm).forEach(t=>{Object.keys(Gm[t]).forEach(e=>{ma.prototype[e]=Gm[t][e]})});ma.use([H7,W7]);function aE(t,e,n,r){const s=bt();return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=t.$el.children(`.${r[i]}`)[0];o||(o=s.createElement("div"),o.className=r[i],t.$el.append(o)),n[i]=o,e[i]=o}}),n}function wp({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function s(p){let m;return p&&(m=q(p),t.params.uniqueNavElements&&typeof p=="string"&&m.length>1&&t.$el.find(p).length===1&&(m=t.$el.find(p))),m}function i(p,m){const g=t.params.navigation;p&&p.length>0&&(p[m?"addClass":"removeClass"](g.disabledClass),p[0]&&p[0].tagName==="BUTTON"&&(p[0].disabled=m),t.params.watchOverflow&&t.enabled&&p[t.isLocked?"addClass":"removeClass"](g.lockClass))}function o(){if(t.params.loop)return;const{$nextEl:p,$prevEl:m}=t.navigation;i(m,t.isBeginning&&!t.params.rewind),i(p,t.isEnd&&!t.params.rewind)}function a(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function l(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function c(){const p=t.params.navigation;if(t.params.navigation=aE(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;const m=s(p.nextEl),g=s(p.prevEl);m&&m.length>0&&m.on("click",l),g&&g.length>0&&g.on("click",a),Object.assign(t.navigation,{$nextEl:m,nextEl:m&&m[0],$prevEl:g,prevEl:g&&g[0]}),t.enabled||(m&&m.addClass(p.lockClass),g&&g.addClass(p.lockClass))}function d(){const{$nextEl:p,$prevEl:m}=t.navigation;p&&p.length&&(p.off("click",l),p.removeClass(t.params.navigation.disabledClass)),m&&m.length&&(m.off("click",a),m.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?f():(c(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{d()}),n("enable disable",()=>{const{$nextEl:p,$prevEl:m}=t.navigation;p&&p[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),m&&m[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(p,m)=>{const{$nextEl:g,$prevEl:E}=t.navigation,v=m.target;if(t.params.navigation.hideOnClick&&!q(v).is(E)&&!q(v).is(g)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===v||t.pagination.el.contains(v)))return;let _;g?_=g.hasClass(t.params.navigation.hiddenClass):E&&(_=E.hasClass(t.params.navigation.hiddenClass)),r(_===!0?"navigationShow":"navigationHide"),g&&g.toggleClass(t.params.navigation.hiddenClass),E&&E.toggleClass(t.params.navigation.hiddenClass)}});const h=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),c(),o()},f=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),d()};Object.assign(t.navigation,{enable:h,disable:f,update:o,init:c,destroy:d})}function $r(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function Tp({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let i,o=0;function a(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function l(g,E){const{bulletActiveClass:v}=t.params.pagination;g[E]().addClass(`${v}-${E}`)[E]().addClass(`${v}-${E}-${E}`)}function c(){const g=t.rtl,E=t.params.pagination;if(a())return;const v=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,_=t.pagination.$el;let y;const S=t.params.loop?Math.ceil((v-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(y=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),y>v-1-t.loopedSlides*2&&(y-=v-t.loopedSlides*2),y>S-1&&(y-=S),y<0&&t.params.paginationType!=="bullets"&&(y=S+y)):typeof t.snapIndex<"u"?y=t.snapIndex:y=t.activeIndex||0,E.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const w=t.pagination.bullets;let N,b,k;if(E.dynamicBullets&&(i=w.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),_.css(t.isHorizontal()?"width":"height",`${i*(E.dynamicMainBullets+4)}px`),E.dynamicMainBullets>1&&t.previousIndex!==void 0&&(o+=y-(t.previousIndex-t.loopedSlides||0),o>E.dynamicMainBullets-1?o=E.dynamicMainBullets-1:o<0&&(o=0)),N=Math.max(y-o,0),b=N+(Math.min(w.length,E.dynamicMainBullets)-1),k=(b+N)/2),w.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(G=>`${E.bulletActiveClass}${G}`).join(" ")),_.length>1)w.each(G=>{const D=q(G),P=D.index();P===y&&D.addClass(E.bulletActiveClass),E.dynamicBullets&&(P>=N&&P<=b&&D.addClass(`${E.bulletActiveClass}-main`),P===N&&l(D,"prev"),P===b&&l(D,"next"))});else{const G=w.eq(y),D=G.index();if(G.addClass(E.bulletActiveClass),E.dynamicBullets){const P=w.eq(N),x=w.eq(b);for(let A=N;A<=b;A+=1)w.eq(A).addClass(`${E.bulletActiveClass}-main`);if(t.params.loop)if(D>=w.length){for(let A=E.dynamicMainBullets;A>=0;A-=1)w.eq(w.length-A).addClass(`${E.bulletActiveClass}-main`);w.eq(w.length-E.dynamicMainBullets-1).addClass(`${E.bulletActiveClass}-prev`)}else l(P,"prev"),l(x,"next");else l(P,"prev"),l(x,"next")}}if(E.dynamicBullets){const G=Math.min(w.length,E.dynamicMainBullets+4),D=(i*G-i)/2-k*i,P=g?"right":"left";w.css(t.isHorizontal()?P:"top",`${D}px`)}}if(E.type==="fraction"&&(_.find($r(E.currentClass)).text(E.formatFractionCurrent(y+1)),_.find($r(E.totalClass)).text(E.formatFractionTotal(S))),E.type==="progressbar"){let w;E.progressbarOpposite?w=t.isHorizontal()?"vertical":"horizontal":w=t.isHorizontal()?"horizontal":"vertical";const N=(y+1)/S;let b=1,k=1;w==="horizontal"?b=N:k=N,_.find($r(E.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${b}) scaleY(${k})`).transition(t.params.speed)}E.type==="custom"&&E.renderCustom?(_.html(E.renderCustom(t,y+1,S)),r("paginationRender",_[0])):r("paginationUpdate",_[0]),t.params.watchOverflow&&t.enabled&&_[t.isLocked?"addClass":"removeClass"](E.lockClass)}function d(){const g=t.params.pagination;if(a())return;const E=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,v=t.pagination.$el;let _="";if(g.type==="bullets"){let y=t.params.loop?Math.ceil((E-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&y>E&&(y=E);for(let S=0;S<y;S+=1)g.renderBullet?_+=g.renderBullet.call(t,S,g.bulletClass):_+=`<${g.bulletElement} class="${g.bulletClass}"></${g.bulletElement}>`;v.html(_),t.pagination.bullets=v.find($r(g.bulletClass))}g.type==="fraction"&&(g.renderFraction?_=g.renderFraction.call(t,g.currentClass,g.totalClass):_=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`,v.html(_)),g.type==="progressbar"&&(g.renderProgressbar?_=g.renderProgressbar.call(t,g.progressbarFillClass):_=`<span class="${g.progressbarFillClass}"></span>`,v.html(_)),g.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function h(){t.params.pagination=aE(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const g=t.params.pagination;if(!g.el)return;let E=q(g.el);E.length!==0&&(t.params.uniqueNavElements&&typeof g.el=="string"&&E.length>1&&(E=t.$el.find(g.el),E.length>1&&(E=E.filter(v=>q(v).parents(".swiper")[0]===t.el))),g.type==="bullets"&&g.clickable&&E.addClass(g.clickableClass),E.addClass(g.modifierClass+g.type),E.addClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(E.addClass(`${g.modifierClass}${g.type}-dynamic`),o=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&E.addClass(g.progressbarOppositeClass),g.clickable&&E.on("click",$r(g.bulletClass),function(_){_.preventDefault();let y=q(this).index()*t.params.slidesPerGroup;t.params.loop&&(y+=t.loopedSlides),t.slideTo(y)}),Object.assign(t.pagination,{$el:E,el:E[0]}),t.enabled||E.addClass(g.lockClass))}function f(){const g=t.params.pagination;if(a())return;const E=t.pagination.$el;E.removeClass(g.hiddenClass),E.removeClass(g.modifierClass+g.type),E.removeClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(g.bulletActiveClass),g.clickable&&E.off("click",$r(g.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?m():(h(),d(),c())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&c()}),n("snapIndexChange",()=>{t.params.loop||c()}),n("slidesLengthChange",()=>{t.params.loop&&(d(),c())}),n("snapGridLengthChange",()=>{t.params.loop||(d(),c())}),n("destroy",()=>{f()}),n("enable disable",()=>{const{$el:g}=t.pagination;g&&g[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{c()}),n("click",(g,E)=>{const v=E.target,{$el:_}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&_&&_.length>0&&!q(v).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&v===t.navigation.nextEl||t.navigation.prevEl&&v===t.navigation.prevEl))return;const y=_.hasClass(t.params.pagination.hiddenClass);r(y===!0?"paginationShow":"paginationHide"),_.toggleClass(t.params.pagination.hiddenClass)}});const p=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),h(),d(),c()},m=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),f()};Object.assign(t.pagination,{enable:p,disable:m,render:d,update:c,init:h,destroy:f})}function Cp({swiper:t,extendParams:e,on:n,emit:r}){const s=bt();let i=!1,o=null,a=null,l,c,d,h;e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:P,rtlTranslate:x,progress:A}=t,{$dragEl:H,$el:re}=P,Ee=t.params.scrollbar;let we=c,M=(d-c)*A;x?(M=-M,M>0?(we=c-M,M=0):-M+c>d&&(we=d+M)):M<0?(we=c+M,M=0):M+c>d&&(we=d-M),t.isHorizontal()?(H.transform(`translate3d(${M}px, 0, 0)`),H[0].style.width=`${we}px`):(H.transform(`translate3d(0px, ${M}px, 0)`),H[0].style.height=`${we}px`),Ee.hide&&(clearTimeout(o),re[0].style.opacity=1,o=setTimeout(()=>{re[0].style.opacity=0,re.transition(400)},1e3))}function p(P){!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(P)}function m(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:P}=t,{$dragEl:x,$el:A}=P;x[0].style.width="",x[0].style.height="",d=t.isHorizontal()?A[0].offsetWidth:A[0].offsetHeight,h=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?c=d*h:c=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?x[0].style.width=`${c}px`:x[0].style.height=`${c}px`,h>=1?A[0].style.display="none":A[0].style.display="",t.params.scrollbar.hide&&(A[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&P.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function g(P){return t.isHorizontal()?P.type==="touchstart"||P.type==="touchmove"?P.targetTouches[0].clientX:P.clientX:P.type==="touchstart"||P.type==="touchmove"?P.targetTouches[0].clientY:P.clientY}function E(P){const{scrollbar:x,rtlTranslate:A}=t,{$el:H}=x;let re;re=(g(P)-H.offset()[t.isHorizontal()?"left":"top"]-(l!==null?l:c/2))/(d-c),re=Math.max(Math.min(re,1),0),A&&(re=1-re);const Ee=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*re;t.updateProgress(Ee),t.setTranslate(Ee),t.updateActiveIndex(),t.updateSlidesClasses()}function v(P){const x=t.params.scrollbar,{scrollbar:A,$wrapperEl:H}=t,{$el:re,$dragEl:Ee}=A;i=!0,l=P.target===Ee[0]||P.target===Ee?g(P)-P.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,P.preventDefault(),P.stopPropagation(),H.transition(100),Ee.transition(100),E(P),clearTimeout(a),re.transition(0),x.hide&&re.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),r("scrollbarDragStart",P)}function _(P){const{scrollbar:x,$wrapperEl:A}=t,{$el:H,$dragEl:re}=x;i&&(P.preventDefault?P.preventDefault():P.returnValue=!1,E(P),A.transition(0),H.transition(0),re.transition(0),r("scrollbarDragMove",P))}function y(P){const x=t.params.scrollbar,{scrollbar:A,$wrapperEl:H}=t,{$el:re}=A;i&&(i=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),H.transition("")),x.hide&&(clearTimeout(a),a=Nc(()=>{re.css("opacity",0),re.transition(400)},1e3)),r("scrollbarDragEnd",P),x.snapOnRelease&&t.slideToClosest())}function S(P){const{scrollbar:x,touchEventsTouch:A,touchEventsDesktop:H,params:re,support:Ee}=t,we=x.$el;if(!we)return;const M=we[0],O=Ee.passiveListener&&re.passiveListeners?{passive:!1,capture:!1}:!1,W=Ee.passiveListener&&re.passiveListeners?{passive:!0,capture:!1}:!1;if(!M)return;const ie=P==="on"?"addEventListener":"removeEventListener";Ee.touch?(M[ie](A.start,v,O),M[ie](A.move,_,O),M[ie](A.end,y,W)):(M[ie](H.start,v,O),s[ie](H.move,_,O),s[ie](H.end,y,W))}function w(){!t.params.scrollbar.el||!t.scrollbar.el||S("on")}function N(){!t.params.scrollbar.el||!t.scrollbar.el||S("off")}function b(){const{scrollbar:P,$el:x}=t;t.params.scrollbar=aE(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const A=t.params.scrollbar;if(!A.el)return;let H=q(A.el);t.params.uniqueNavElements&&typeof A.el=="string"&&H.length>1&&x.find(A.el).length===1&&(H=x.find(A.el)),H.addClass(t.isHorizontal()?A.horizontalClass:A.verticalClass);let re=H.find(`.${t.params.scrollbar.dragClass}`);re.length===0&&(re=q(`<div class="${t.params.scrollbar.dragClass}"></div>`),H.append(re)),Object.assign(P,{$el:H,el:H[0],$dragEl:re,dragEl:re[0]}),A.draggable&&w(),H&&H[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function k(){const P=t.params.scrollbar,x=t.scrollbar.$el;x&&x.removeClass(t.isHorizontal()?P.horizontalClass:P.verticalClass),N()}n("init",()=>{t.params.scrollbar.enabled===!1?D():(b(),m(),f())}),n("update resize observerUpdate lock unlock",()=>{m()}),n("setTranslate",()=>{f()}),n("setTransition",(P,x)=>{p(x)}),n("enable disable",()=>{const{$el:P}=t.scrollbar;P&&P[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),n("destroy",()=>{k()});const G=()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),b(),m(),f()},D=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),k()};Object.assign(t.scrollbar,{enable:G,disable:D,updateSize:m,setTranslate:f,init:b,destroy:k})}function Rp({swiper:t,extendParams:e,on:n}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let r=null;function s(x){const A=r;A.length!==0&&(A.html(""),A.html(x))}function i(x=16){const A=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(x).replace(/x/g,A)}function o(x){x.attr("tabIndex","0")}function a(x){x.attr("tabIndex","-1")}function l(x,A){x.attr("role",A)}function c(x,A){x.attr("aria-roledescription",A)}function d(x,A){x.attr("aria-controls",A)}function h(x,A){x.attr("aria-label",A)}function f(x,A){x.attr("id",A)}function p(x,A){x.attr("aria-live",A)}function m(x){x.attr("aria-disabled",!0)}function g(x){x.attr("aria-disabled",!1)}function E(x){if(x.keyCode!==13&&x.keyCode!==32)return;const A=t.params.a11y,H=q(x.target);t.navigation&&t.navigation.$nextEl&&H.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?s(A.lastSlideMessage):s(A.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&H.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?s(A.firstSlideMessage):s(A.prevSlideMessage)),t.pagination&&H.is($r(t.params.pagination.bulletClass))&&H[0].click()}function v(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:x,$prevEl:A}=t.navigation;A&&A.length>0&&(t.isBeginning?(m(A),a(A)):(g(A),o(A))),x&&x.length>0&&(t.isEnd?(m(x),a(x)):(g(x),o(x)))}function _(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function y(){return _()&&t.params.pagination.clickable}function S(){const x=t.params.a11y;_()&&t.pagination.bullets.each(A=>{const H=q(A);t.params.pagination.clickable&&(o(H),t.params.pagination.renderBullet||(l(H,"button"),h(H,x.paginationBulletMessage.replace(/\{\{index\}\}/,H.index()+1)))),H.is(`.${t.params.pagination.bulletActiveClass}`)?H.attr("aria-current","true"):H.removeAttr("aria-current")})}const w=(x,A,H)=>{o(x),x[0].tagName!=="BUTTON"&&(l(x,"button"),x.on("keydown",E)),h(x,H),d(x,A)},N=()=>{t.a11y.clicked=!0},b=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},k=x=>{if(t.a11y.clicked)return;const A=x.target.closest(`.${t.params.slideClass}`);if(!A||!t.slides.includes(A))return;const H=t.slides.indexOf(A)===t.activeIndex,re=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(A);H||re||x.sourceCapabilities&&x.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(A),0))},G=()=>{const x=t.params.a11y;x.itemRoleDescriptionMessage&&c(q(t.slides),x.itemRoleDescriptionMessage),x.slideRole&&l(q(t.slides),x.slideRole);const A=t.params.loop?t.slides.filter(H=>!H.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;x.slideLabelMessage&&t.slides.each((H,re)=>{const Ee=q(H),we=t.params.loop?parseInt(Ee.attr("data-swiper-slide-index"),10):re,M=x.slideLabelMessage.replace(/\{\{index\}\}/,we+1).replace(/\{\{slidesLength\}\}/,A);h(Ee,M)})},D=()=>{const x=t.params.a11y;t.$el.append(r);const A=t.$el;x.containerRoleDescriptionMessage&&c(A,x.containerRoleDescriptionMessage),x.containerMessage&&h(A,x.containerMessage);const H=t.$wrapperEl,re=x.id||H.attr("id")||`swiper-wrapper-${i(16)}`,Ee=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";f(H,re),p(H,Ee),G();let we,M;t.navigation&&t.navigation.$nextEl&&(we=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(M=t.navigation.$prevEl),we&&we.length&&w(we,re,x.nextSlideMessage),M&&M.length&&w(M,re,x.prevSlideMessage),y()&&t.pagination.$el.on("keydown",$r(t.params.pagination.bulletClass),E),t.$el.on("focus",k,!0),t.$el.on("pointerdown",N,!0),t.$el.on("pointerup",b,!0)};function P(){r&&r.length>0&&r.remove();let x,A;t.navigation&&t.navigation.$nextEl&&(x=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(A=t.navigation.$prevEl),x&&x.off("keydown",E),A&&A.off("keydown",E),y()&&t.pagination.$el.off("keydown",$r(t.params.pagination.bulletClass),E),t.$el.off("focus",k,!0),t.$el.off("pointerdown",N,!0),t.$el.off("pointerup",b,!0)}n("beforeInit",()=>{r=q(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),n("afterInit",()=>{t.params.a11y.enabled&&D()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&G()}),n("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&v()}),n("paginationUpdate",()=>{t.params.a11y.enabled&&S()}),n("destroy",()=>{t.params.a11y.enabled&&P()})}function Ip({swiper:t,extendParams:e,on:n,emit:r}){let s;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function i(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const g=t.slides.eq(t.activeIndex);let E=t.params.autoplay.delay;g.attr("data-swiper-autoplay")&&(E=g.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(s),s=Nc(()=>{let v;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),v=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?a():(v=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(v=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),v=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?a():(v=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(v=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||v===!1)&&i()},E)}function o(){return typeof s<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),i(),!0)}function a(){return!t.autoplay.running||typeof s>"u"?!1:(s&&(clearTimeout(s),s=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function l(g){t.autoplay.running&&(t.autoplay.paused||(s&&clearTimeout(s),t.autoplay.paused=!0,g===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,i()):["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].addEventListener(E,d)})))}function c(){const g=bt();g.visibilityState==="hidden"&&t.autoplay.running&&l(),g.visibilityState==="visible"&&t.autoplay.paused&&(i(),t.autoplay.paused=!1)}function d(g){!t||t.destroyed||!t.$wrapperEl||g.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].removeEventListener(E,d)}),t.autoplay.paused=!1,t.autoplay.running?i():a())}function h(){t.params.autoplay.disableOnInteraction?a():(r("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach(g=>{t.$wrapperEl[0].removeEventListener(g,d)})}function f(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),i())}function p(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",h),t.$el.on("mouseleave",f))}function m(){t.$el.off("mouseenter",h),t.$el.off("mouseleave",f)}n("init",()=>{t.params.autoplay.enabled&&(o(),bt().addEventListener("visibilitychange",c),p())}),n("beforeTransitionStart",(g,E,v)=>{t.autoplay.running&&(v||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(E):a())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?a():l())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&i()}),n("destroy",()=>{m(),t.autoplay.running&&a(),bt().removeEventListener("visibilitychange",c)}),Object.assign(t.autoplay,{pause:l,run:i,start:o,stop:a})}function XK(t){const{effect:e,swiper:n,on:r,setTranslate:s,setTransition:i,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;r("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const h=o?o():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),r("setTranslate",()=>{n.params.effect===e&&s()}),r("setTransition",(h,f)=>{n.params.effect===e&&i(f)}),r("transitionEnd",()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.each(h=>{n.$(h).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}});let d;r("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(d=!0),requestAnimationFrame(()=>{d&&n.slides&&n.slides.length&&(s(),d=!1)}))})}function JK(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function ZK({swiper:t,duration:e,transformEl:n,allSlides:r}){const{slides:s,activeIndex:i,$wrapperEl:o}=t;if(t.params.virtualTranslate&&e!==0){let a=!1,l;r?l=n?s.find(n):s:l=n?s.eq(i).find(n):s.eq(i),l.transitionEnd(()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const c=["webkitTransitionEnd","transitionend"];for(let d=0;d<c.length;d+=1)o.trigger(c[d])})}}function sP({swiper:t,extendParams:e,on:n}){e({fadeEffect:{crossFade:!1,transformEl:null}}),XK({effect:"fade",swiper:t,on:n,setTranslate:()=>{const{slides:i}=t,o=t.params.fadeEffect;for(let a=0;a<i.length;a+=1){const l=t.slides.eq(a);let d=-l[0].swiperSlideOffset;t.params.virtualTranslate||(d-=t.translate);let h=0;t.isHorizontal()||(h=d,d=0);const f=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(l[0].progress),0):1+Math.min(Math.max(l[0].progress,-1),0);JK(o,l).css({opacity:f}).transform(`translate3d(${d}px, ${h}px, 0px)`)}},setTransition:i=>{const{transformEl:o}=t.params.fadeEffect;(o?t.slides.find(o):t.slides).transition(i),ZK({swiper:t,duration:i,transformEl:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function Hi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function xs(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Hi(e[r])&&Hi(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:xs(t[r],e[r]):t[r]=e[r]})}function iP(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function oP(t={}){return t.pagination&&typeof t.pagination.el>"u"}function aP(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function lP(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const cP=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function eQ(t={},e=!0){const n={on:{}},r={},s={};xs(n,ma.defaults),xs(n,ma.extendedDefaults),n._emitClasses=!0,n.init=!1;const i={},o=cP.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?Hi(t[l])?(n[l]={},s[l]={},xs(n[l],t[l]),xs(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:i[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:r}}function tQ({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){iP(o)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),oP(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),aP(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}const uP=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const s=ma.prototype.getBreakpoint(e.breakpoints),i=s in e.breakpoints?e.breakpoints[s]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function nQ(t,e,n){const r=e.map((l,c)=>fe.cloneElement(l,{swiper:t,"data-swiper-slide-index":c}));function s(l,c,d){return fe.cloneElement(l,{key:`${l.key}-duplicate-${c}-${d}`,className:`${l.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-r.length%n.slidesPerGroup;if(l!==n.slidesPerGroup)for(let c=0;c<l;c+=1){const d=fe.createElement("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(d)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const i=uP(r,n),o=[],a=[];for(let l=0;l<i;l+=1){const c=l-Math.floor(l/r.length)*r.length;a.push(s(r[c],l,"append")),o.unshift(s(r[r.length-c-1],l,"prepend"))}return t&&(t.loopedSlides=i),[...o,...r,...a]}function rQ(t,e,n,r,s){const i=[];if(!e)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(s),c=n.map(s);l.join("")!==c.join("")&&o("children"),r.length!==n.length&&o("children")}return cP.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Hi(t[l])&&Hi(e[l])){const c=Object.keys(t[l]),d=Object.keys(e[l]);c.length!==d.length?o(l):(c.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),d.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),i}function dP(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function hP(t){const e=[];return fe.Children.toArray(t).forEach(n=>{dP(n)?e.push(n):n.props&&n.props.children&&hP(n.props.children).forEach(r=>e.push(r))}),e}function sQ(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return fe.Children.toArray(t).forEach(r=>{if(dP(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=hP(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function iQ({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:a}){const l=r.filter(w=>w!=="children"&&w!=="direction"),{params:c,pagination:d,navigation:h,scrollbar:f,virtual:p,thumbs:m}=t;let g,E,v,_,y;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(g=!0),r.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(E=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(c.pagination||c.pagination===!1)&&d&&!d.el&&(v=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&f&&!f.el&&(_=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(y=!0);const S=w=>{t[w]&&(t[w].destroy(),w==="navigation"?(c[w].prevEl=void 0,c[w].nextEl=void 0,t[w].prevEl=void 0,t[w].nextEl=void 0):(c[w].el=void 0,t[w].el=void 0))};l.forEach(w=>{if(Hi(c[w])&&Hi(n[w]))xs(c[w],n[w]);else{const N=n[w];(N===!0||N===!1)&&(w==="navigation"||w==="pagination"||w==="scrollbar")?N===!1&&S(w):c[w]=n[w]}}),l.includes("controller")&&!E&&t.controller&&t.controller.control&&c.controller&&c.controller.control&&(t.controller.control=c.controller.control),r.includes("children")&&e&&p&&c.virtual.enabled?(p.slides=e,p.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),g&&m.init()&&m.update(!0),E&&(t.controller.control=c.controller.control),v&&(a&&(c.pagination.el=a),d.init(),d.render(),d.update()),_&&(o&&(c.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),y&&(s&&(c.navigation.nextEl=s),i&&(c.navigation.prevEl=i),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function oQ(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((s,i)=>i>=n.from&&i<=n.to).map(s=>fe.cloneElement(s,{swiper:t,style:r}))}const aQ=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Vl(t,e){return typeof window>"u"?T.useEffect(t,e):T.useLayoutEffect(t,e)}const lQ=T.createContext(null),cQ=T.createContext(null);function Zv(){return Zv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zv.apply(this,arguments)}const gu=T.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,d]=T.useState("swiper"),[h,f]=T.useState(null),[p,m]=T.useState(!1),g=T.useRef(!1),E=T.useRef(null),v=T.useRef(null),_=T.useRef(null),y=T.useRef(null),S=T.useRef(null),w=T.useRef(null),N=T.useRef(null),b=T.useRef(null),{params:k,passedParams:G,rest:D,events:P}=eQ(a),{slides:x,slots:A}=sQ(i),H=()=>{m(!p)};Object.assign(k.on,{_containerClasses(O,W){d(W)}});const re=()=>{if(Object.assign(k.on,P),l=!0,v.current=new ma(k),v.current.loopCreate=()=>{},v.current.loopDestroy=()=>{},k.loop&&(v.current.loopedSlides=uP(x,k)),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=x;const O={cache:!1,slides:x,renderExternal:f,renderExternalUpdate:!1};xs(v.current.params.virtual,O),xs(v.current.originalParams.virtual,O)}};E.current||re(),v.current&&v.current.on("_beforeBreakpoint",H);const Ee=()=>{l||!P||!v.current||Object.keys(P).forEach(O=>{v.current.on(O,P[O])})},we=()=>{!P||!v.current||Object.keys(P).forEach(O=>{v.current.off(O,P[O])})};T.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",H)}),T.useEffect(()=>{!g.current&&v.current&&(v.current.emitSlidesClasses(),g.current=!0)}),Vl(()=>{if(e&&(e.current=E.current),!!E.current)return v.current.destroyed&&re(),tQ({el:E.current,nextEl:S.current,prevEl:w.current,paginationEl:N.current,scrollbarEl:b.current,swiper:v.current},k),o&&o(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),Vl(()=>{Ee();const O=rQ(G,_.current,x,y.current,W=>W.key);return _.current=G,y.current=x,O.length&&v.current&&!v.current.destroyed&&iQ({swiper:v.current,slides:x,passedParams:G,changedParams:O,nextEl:S.current,prevEl:w.current,scrollbarEl:b.current,paginationEl:N.current}),()=>{we()}}),Vl(()=>{aQ(v.current)},[h]);function M(){return k.virtual?oQ(v.current,x,h):!k.loop||v.current&&v.current.destroyed?x.map(O=>fe.cloneElement(O,{swiper:v.current})):nQ(v.current,x,k)}return fe.createElement(r,Zv({ref:E,className:lP(`${c}${n?` ${n}`:""}`)},D),fe.createElement(cQ.Provider,{value:v.current},A["container-start"],fe.createElement(s,{className:"swiper-wrapper"},A["wrapper-start"],M(),A["wrapper-end"]),iP(k)&&fe.createElement(fe.Fragment,null,fe.createElement("div",{ref:w,className:"swiper-button-prev"}),fe.createElement("div",{ref:S,className:"swiper-button-next"})),aP(k)&&fe.createElement("div",{ref:b,className:"swiper-scrollbar"}),oP(k)&&fe.createElement("div",{ref:N,className:"swiper-pagination"}),A["container-end"]))});gu.displayName="Swiper";function e_(){return e_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e_.apply(this,arguments)}const Bs=T.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,virtualIndex:a,...l}=t===void 0?{}:t;const c=T.useRef(null),[d,h]=T.useState("swiper-slide");function f(g,E,v){E===c.current&&h(v)}Vl(()=>{if(e&&(e.current=c.current),!(!c.current||!i)){if(i.destroyed){d!=="swiper-slide"&&h("swiper-slide");return}return i.on("_slideClass",f),()=>{i&&i.off("_slideClass",f)}}}),Vl(()=>{i&&c.current&&!i.destroyed&&h(i.getSlideClasses(c.current))},[i]);const p={isActive:d.indexOf("swiper-slide-active")>=0||d.indexOf("swiper-slide-duplicate-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isDuplicate:d.indexOf("swiper-slide-duplicate")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0||d.indexOf("swiper-slide-duplicate-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0||d.indexOf("swiper-slide-duplicate-next")>=0},m=()=>typeof r=="function"?r(p):r;return fe.createElement(n,e_({ref:c,className:lP(`${d}${s?` ${s}`:""}`),"data-swiper-slide-index":a},l),fe.createElement(lQ.Provider,{value:p},o?fe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},m()):m()))});Bs.displayName="SwiperSlide";function vu({point:t}){const[e,n]=T.useState(null),r=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],s=()=>{let i=(Math.round(t*100)/100).toFixed(1)/2,o=0;r.reverse().forEach(a=>i<=a?o=a:null),n(o)};return T.useEffect(()=>{s()},[e]),u.jsxs("em",{className:"ui-star",children:[e===0&&u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===.5&&u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1&&u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1.5&&u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2&&u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2.5&&u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3&&u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3.5&&u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4&&u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4.5&&u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-duotone fa-star-sharp-half"})]}),e===5&&u.jsxs(u.Fragment,{children:[u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"}),u.jsx("i",{className:"fa-solid fa-star-sharp"})]})]})}function uQ({opts:t}){let e=Math.floor(Math.random()*3)+1;const[n,r]=T.useState([]),s=h=>{B.loading.show("glx");const f=`https://api.themoviedb.org/3/${t.media}/now_playing?language=ko&page=${h}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(f).then(p=>{var m;console.log(p.data),r(g=>[...g,...p.data.results]),console.log(h+"=== "+p.data.total_pages),B.loading.hide(),p.data.total_pages<=h&&((m=document.querySelector(".ui-loadmore"))==null||m.classList.add("hide"))}).catch(p=>{var m;console.log(p),B.loading.hide(),(m=document.querySelector(".ui-loadmore"))==null||m.classList.add("error")})},[i,o]=T.useState(null),a=()=>{i==null||i.slideTo(Math.floor(Math.random()*10),0)};T.useEffect(()=>(s(e),a(),window.addEventListener("scroll",d),()=>{window.removeEventListener("scroll",d)}),[]);const[l,c]=T.useState(0),d=()=>c(parseInt(B.viewport.scrollTop()*.2));return u.jsx(u.Fragment,{children:u.jsx("section",{className:"sect mnTop",children:u.jsx("div",{className:"inr",id:"slide",children:u.jsx(gu,{className:"swiper-wrapper swiper slide",modules:[wp,Tp,Cp,Ip,Rp],spaceBetween:0,slidesPerView:1,loop:!0,effect:"fade",autoplay:{delay:3e3,waitForTransition:!1,pauseOnMouseEnter:!0,disableOnInteraction:!1},wrapperTag:"ul",pagination:{clickable:!0},autoHeight:!1,onSwiper:h=>{console.log("initialize swiper",h),o(h),h.slideTo(Math.floor(Math.random()*10))},onSlideChange:()=>{},children:n==null?void 0:n.filter((h,f)=>f<10).map((h,f)=>{const p=`//image.tmdb.org/t/p/w780${h.poster_path}`;return u.jsx(Bs,{tag:"li",className:"swiper-slide pbox",children:u.jsxs(ot,{className:"box",to:`${t.media}/${h.id}`,children:[u.jsx("div",{className:"pics",style:{transform:"translate3D(0rem , 0"+l+"rem , 0rem)"},children:u.jsx("img",{src:`${p}`,alt:"",className:"img",onError:B.error.poster})}),u.jsxs("div",{className:"info",children:[u.jsx("div",{className:"star",children:u.jsx(vu,{point:h.vote_average})}),u.jsx("div",{className:"tit",children:h.title})]}),u.jsx("div",{className:"screen"})]})},f)})})})})})}function co({opts:t}){const[e,n]=T.useState([]),r=t.cate!=="0"?`&with_genres=${t.cate}`:"",s=()=>{const p=`//api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(p).then(m=>{console.log(m.data),n(m.data.results)}).catch(m=>{console.log(m)})},i=T.useRef(),o=p=>{const g=p.currentTarget.classList.contains("next")?1:-1,E=(i.current.offsetWidth-100)*g;console.log(E,i.current,g),i.current.scrollLeft+=E},a=p=>{p.preventDefault(),i.current.scrollLeft+=p.deltaY},[l,c]=T.useState(!1),[d,h]=T.useState(!1),f=()=>{const p=i.current,m=Math.ceil(p.scrollLeft/(p.scrollWidth-p.offsetWidth)*100||0);console.log(m),c(m<=0),h(m>=100)};return T.useEffect(()=>{f(),s()},[]),u.jsx(u.Fragment,{children:u.jsxs("section",{className:"sect mnList",children:[u.jsxs("div",{className:"hbox",children:[u.jsxs(ot,{className:"link",to:`/list/${t.media}/${t.cate||0}`,children:[u.jsx("h3",{className:"stit",children:t.title}),u.jsx("span",{className:"more",children:u.jsx("i",{className:"fa-regular fa-chevron-right"})})]}),u.jsxs("div",{className:"bt-nav",children:[u.jsx("button",{type:"button",disabled:l,className:"bt prev",onClick:o,children:u.jsx("i",{className:"fa-solid fa-caret-left"})}),u.jsx("button",{type:"button",disabled:d,className:"bt next",onClick:o,children:u.jsx("i",{className:"fa-solid fa-caret-right"})})]})]}),u.jsx("div",{className:"inr",ref:i,onMouseEnter:()=>i.current.addEventListener("wheel",a),onMouseLeave:()=>i.current.removeEventListener("wheel",a),onScroll:f,children:u.jsx("div",{className:"slide",children:u.jsx("ul",{children:e.filter((p,m)=>m<20).map((p,m)=>{const g=`//image.tmdb.org/t/p/w154${p.poster_path}`,E=p.title||p.name;return u.jsx("li",{className:"pbox",children:u.jsx(ot,{className:"box",to:`${t.media}/${p.id}`,children:u.jsx("div",{className:"pics",children:u.jsx("img",{src:`${g}`,alt:E,className:"img",onError:B.error.poster})})})},m)})})})})]})})}function hC({opts:t}){const[e,n]=T.useState([]);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=()=>{console.log("로드 ");const a=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(a).then(l=>{console.log(l.data),n(c=>[...c,...l.data.results])}).catch(l=>{console.log(l)})},i=T.useRef(),o=function(a){a.preventDefault(),i.current.scrollLeft+=a.deltaY};return T.useEffect(()=>(s(),()=>{}),[]),u.jsx(u.Fragment,{children:u.jsxs("section",{className:"sect mnList topic",children:[u.jsx("div",{className:"hbox",children:u.jsx("h3",{className:"stit",children:t.title})}),u.jsx("div",{className:"inr",ref:i,onMouseEnter:()=>i.current.addEventListener("wheel",o),onMouseLeave:()=>i.current.removeEventListener("wheel",o),children:u.jsx("div",{className:"slide",children:u.jsx("ul",{children:e.filter((a,l)=>l<20).map((a,l)=>{const c=`//image.tmdb.org/t/p/w154${a.poster_path}`,d=a.title||a.name;return u.jsx("li",{className:"pbox",children:u.jsxs(ot,{className:"box",to:`${t.media}/${a.id}`,children:[u.jsx("div",{className:"pics",children:u.jsx("img",{src:`${c}`,alt:d,className:"img",onError:B.error.poster})}),u.jsx("div",{className:"info",children:u.jsx(vu,{point:a.vote_average})})]})},l)})})})})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="firebasestorage.googleapis.com",dQ="storageBucket",hQ=2*60*1e3,fQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends Nr{constructor(e,n,r=0){super(Qm(e),`Firebase Storage: ${n} (${Qm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ir;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ir||(Ir={}));function Qm(t){return"storage/"+t}function pQ(){const t="An unknown error occurred, please check the error payload for server response.";return new Pr(Ir.UNKNOWN,t)}function mQ(){return new Pr(Ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function gQ(){return new Pr(Ir.CANCELED,"User canceled the upload/download.")}function vQ(t){return new Pr(Ir.INVALID_URL,"Invalid URL '"+t+"'.")}function _Q(t){return new Pr(Ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function fC(t){return new Pr(Ir.INVALID_ARGUMENT,t)}function pP(){return new Pr(Ir.APP_DELETED,"The Firebase app was deleted.")}function yQ(t){return new Pr(Ir.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=rr.makeFromUrl(e,n)}catch{return new rr(e,"")}if(r.path==="")return r;throw _Q(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${d}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},g=n===fP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${g}/${s}/${E}`,"i"),y=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<y.length;S++){const w=y[S],N=w.regex.exec(e);if(N){const b=N[w.indices.bucket];let k=N[w.indices.path];k||(k=""),r=new rr(b,k),w.postModify(r);break}}if(r==null)throw vQ(e);return r}}class EQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SQ(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(p,l())},E)}function f(){i&&clearTimeout(i)}function p(E,...v){if(c){f();return}if(E){f(),d.call(null,E,...v);return}if(l()||o){f(),d.call(null,E,...v);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let m=!1;function g(E){m||(m=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function wQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TQ(t){return t!==void 0}function pC(t,e,n,r){if(r<e)throw fC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw fC(`Invalid value for '${t}'. Expected ${n} or less.`)}function CQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fh||(Fh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RQ(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IQ{constructor(e,n,r,s,i,o,a,l,c,d,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new nd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Fh.NO_ERROR,l=i.getStatus();if(!a||RQ(l,this.additionalRetryCodes_)&&this.retry){const d=i.getErrorCode()===Fh.ABORT;r(!1,new nd(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new nd(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());TQ(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=pQ();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?pP():gQ();o(l)}else{const l=mQ();o(l)}};this.canceled_?n(!1,new nd(!1,null,!0)):this.backoffId_=SQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&wQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function xQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function NQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function bQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function AQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function kQ(t,e,n,r,s,i,o=!0){const a=CQ(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return bQ(c,e),xQ(c,n),NQ(c,i),AQ(c,r),new IQ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function LQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Uh(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return LQ(this._location.path)}get storage(){return this._service}get parent(){const e=PQ(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new Uh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yQ(e)}}function mC(t,e){const n=e==null?void 0:e[dQ];return n==null?null:rr.makeFromBucketSpec(n,t)}class OQ{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=fP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hQ,this._maxUploadRetryTime=fQ,this._requests=new Set,s!=null?this._bucket=rr.makeFromBucketSpec(s,this._host):this._bucket=mC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=mC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new EQ(pP());{const o=kQ(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const gC="@firebase/storage",vC="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DQ="storage";function MQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new OQ(n,r,s,e,Zs)}function jQ(){Ws(new ts(DQ,MQ,"PUBLIC").setMultipleInstances(!0)),zn(gC,vC,""),zn(gC,vC,"esm2017")}jQ();function _C(){const t=()=>{const e=document.querySelector(".header"),n=parseInt(B.viewport.scrollTop());B.lock.stat||(n>100?e.classList.add("trans"):e.classList.remove("trans"))};return T.useEffect(()=>{window.scrollTo(0,0);const e=document.querySelector(".header");return e.classList.add("home"),window.addEventListener("scroll",t),()=>{e.classList.remove("home"),window.removeEventListener("scroll",t)}},[]),u.jsxs(u.Fragment,{children:[u.jsx(us,{}),u.jsx("div",{className:"container page home",children:u.jsxs("main",{className:"contents",children:[u.jsx(uQ,{opts:{media:"movie"}}),u.jsx(hC,{opts:{media:"movie",list:"trending/movie/week",cate:"0",title:"Weekly 영화 TOP 20"}}),u.jsx(co,{opts:{media:"movie",list:"discover/movie",cate:"16",title:"영화/애니메이션"}}),u.jsx(co,{opts:{media:"movie",list:"discover/movie",cate:"10402",title:"영화/음악"}}),u.jsx(co,{opts:{media:"movie",list:"discover/movie",cate:"99",title:"영화/다큐멘터리"}}),u.jsx(hC,{opts:{media:"tv",list:"trending/tv/week",cate:"0",title:"Weekly TV TOP 20"}}),u.jsx(co,{opts:{media:"tv",list:"discover/tv",cate:"16",title:"TV/애니메이션"}}),u.jsx(co,{opts:{media:"tv",list:"discover/tv",cate:"10764",title:"TV/Reality"}}),u.jsx(co,{opts:{media:"tv",list:"discover/tv",cate:"80",title:"TV/범죄"}})]})})]})}function yC(){return T.useEffect(()=>()=>{},[]),u.jsx(u.Fragment,{children:u.jsx("div",{className:"container page n404",children:u.jsx("main",{className:"contents",children:"404"})})})}function mP({opts:t}){const e=[];if(t.type=="movie-list")for(let n=0;n<=t.num;n++)e.push(u.jsx("li",{children:u.jsxs("div",{className:"box",children:[u.jsx("div",{className:"cont",children:u.jsx("div",{className:"pics"})}),u.jsx("div",{className:"tits"})]})},n));return t.type=="movie-detail"&&e.push(u.jsxs("div",{className:"m-info skelt",children:[u.jsxs("div",{className:"info",children:[u.jsxs("div",{className:"desc",children:[u.jsx("p",{className:"tit",children:" "}),u.jsx("p",{className:"sit",children:" "}),u.jsx("p",{className:"tio",children:" "}),u.jsx("div",{className:"star",children:" "}),u.jsx("div",{className:"cate",children:" "}),u.jsxs("ul",{className:"lst",children:[u.jsx("li",{className:"vot",children:" "}),u.jsx("li",{className:"opn",children:" "}),u.jsx("li",{className:"tim",children:" "})]})]}),u.jsx("div",{className:"thum",children:u.jsx("div",{className:"pics"})})]}),u.jsxs("div",{className:"sect cast",children:[u.jsx("h4",{className:"tts"}),u.jsxs("div",{className:"lst",children:[u.jsxs("div",{className:"profile",children:[u.jsx("div",{className:"pics"})," ",u.jsx("div",{className:"name"})," ",u.jsx("div",{className:"carc"})]}),u.jsxs("div",{className:"profile",children:[u.jsx("div",{className:"pics"})," ",u.jsx("div",{className:"name"})," ",u.jsx("div",{className:"carc"})]}),u.jsxs("div",{className:"profile",children:[u.jsx("div",{className:"pics"})," ",u.jsx("div",{className:"name"})," ",u.jsx("div",{className:"carc"})]}),u.jsxs("div",{className:"profile",children:[u.jsx("div",{className:"pics"})," ",u.jsx("div",{className:"name"})," ",u.jsx("div",{className:"carc"})]}),u.jsxs("div",{className:"profile",children:[u.jsx("div",{className:"pics"})," ",u.jsx("div",{className:"name"})," ",u.jsx("div",{className:"carc"})]})]})]}),u.jsxs("div",{className:"sect cast",children:[u.jsx("h4",{className:"tts"}),u.jsxs("div",{className:"lst",children:[u.jsxs("div",{className:"profile",children:[u.jsx("div",{className:"pics"})," ",u.jsx("div",{className:"name"})," ",u.jsx("div",{className:"carc"})]}),u.jsxs("div",{className:"profile",children:[u.jsx("div",{className:"pics"})," ",u.jsx("div",{className:"name"})," ",u.jsx("div",{className:"carc"})]}),u.jsxs("div",{className:"profile",children:[u.jsx("div",{className:"pics"})," ",u.jsx("div",{className:"name"})," ",u.jsx("div",{className:"carc"})]}),u.jsxs("div",{className:"profile",children:[u.jsx("div",{className:"pics"})," ",u.jsx("div",{className:"name"})," ",u.jsx("div",{className:"carc"})]}),u.jsxs("div",{className:"profile",children:[u.jsx("div",{className:"pics"})," ",u.jsx("div",{className:"name"})," ",u.jsx("div",{className:"carc"})]})]})]})]},"i")),e}function $Q({data:t}){const e=`//image.tmdb.org/t/p/w200/${t.poster_path}`,n=t.title||t.name;return u.jsx(u.Fragment,{children:u.jsxs(ot,{className:"box",to:""+t.id,children:[u.jsxs("div",{className:"cont",children:[u.jsx("div",{className:"pics",children:u.jsx("img",{src:`${e}`,alt:n,className:"img",onError:ui.error.poster})}),u.jsx("div",{className:"desc",children:u.jsx(vu,{point:t.vote_average})})]}),u.jsx("div",{className:"tits",children:n})]})})}function VQ({menu:t,opts:e}){let n=dn();const[r,s]=T.useState(0),i=a=>{const l=document.querySelector(".cate-box>.inr"),c=l.offsetWidth*.5,d=document.querySelector(".cate-box ul>li .bt.active"),h=d==null?void 0:d.offsetLeft,f=(d==null?void 0:d.offsetWidth)*.5,p=h-c+f;l.scrollTo(p,0),s(a),console.log("slideActive == "+r+"  "+h)},o=n.cate;return T.useEffect(()=>(i(r),()=>{}),[o,r,t,e]),u.jsx(u.Fragment,{children:u.jsx("div",{className:"cate-box "+o,children:u.jsx("div",{className:"inr",children:u.jsxs("ul",{className:"list",children:[u.jsx("li",{"data-index":"0",className:o==="0"?"active":null,children:u.jsx($n,{type:"button",className:"bt",to:`/list/${e}/0`,children:"전체"})}),t.map((a,l)=>u.jsx("li",{"data-index":l+1,cate:a.id,className:a.id.toString()===o?"active":null,children:u.jsxs($n,{type:"button",className:"bt",to:`/list/${e}/${a.id}`,children:[" ",a.name," "]})},a.id))]})})})})}function FQ(){const t=dn(),e=Sn(),n=un(),r=t.menu,s=t.cate;s===void 0&&n(`/${r}/0`),console.log(t,e.pathname);const i=s!=="0"?`&with_genres=${s}`:"";console.log(i);const[o,a]=T.useState([]),[l,c]=T.useState([]);let d=1;const h=async()=>{await Zt.get(`//api.themoviedb.org/3/genre/${r}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(b=>{c(b.data.genres)})},[f,p]=T.useState({pge:0,tot:0}),[m,g]=T.useState(""),[E,v]=T.useState(""),[_,y]=T.useState(""),S=async b=>{const k=`https://api.themoviedb.org/3/discover/${r}?${i}&page=${b}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;await Zt.get(k).then(G=>{console.log(G.data),console.log("로드 "+b),a(D=>[...D,...G.data.results]),console.log(`callStat : ${w} , page : ${b} , res.data.total_pages :  ${G.data.total_pages} `),w=!0,console.log(`callStat : ${w} , page : ${b} , res.data.total_pages :  ${G.data.total_pages} `),y(""),p({pge:G.data.page,tot:G.data.total_pages}),G.data.total_pages<=b?(w=!1,v(" hide")):v(""),g("")}).catch(G=>{console.log(G),w=!0,y(" error")})};console.log(o),T.useEffect(()=>(a([]),window.scrollTo(0,0),S(1),h(),document.querySelector(".header").classList.remove("trans"),window.addEventListener("scroll",N),()=>{window.removeEventListener("scroll",N)}),[s,r]);let w=!0;const N=()=>{const b=B.viewport.height(),k=B.viewport.docHeight(),G=B.viewport.scrollTop()+b+300;if(console.log(w+" =  "+d),k<=G&&w===!0){if(console.log("바닥도착"),g(" active"),w=!1,console.log(w),B.lock.stat){w=!0;return}setTimeout(()=>{d=d+1,S(d)},400)}};return u.jsxs(u.Fragment,{children:[u.jsx(us,{}),u.jsx("div",{className:"container page movie list",children:u.jsxs("main",{className:"contents",children:[u.jsx("div",{className:"poster-list",children:o.length?u.jsxs(u.Fragment,{children:[u.jsx("ul",{className:"list",children:o.map((b,k)=>u.jsx("li",{"data-id":b.id+"_"+k,children:u.jsx($Q,{data:b})},b.id+"_"+k))}),u.jsxs("div",{className:`ui-loadmore${m+E+_}`,children:[u.jsx("span",{className:"ui-loading ui-load-glx",children:u.jsxs("span",{className:"gbx",children:[" ",u.jsxs("em",{className:"bx",children:[" ",u.jsx("i",{})," ",u.jsx("i",{}),u.jsx("i",{}),u.jsx("i",{})," "]})," "]})}),u.jsx("button",{onClick:b=>{w=!0,S(d)},type:"button",className:"btn-load",children:u.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]}):u.jsx("ul",{className:"list skelt",children:u.jsx(mP,{opts:{type:"movie-list",num:20}})})}),u.jsx("div",{className:"page-set",children:f.tot>0&&u.jsx("div",{className:"inr",children:u.jsxs("div",{className:"pg",children:[u.jsx("i",{className:"p",children:f.pge})," ",u.jsx("i",{className:"s",children:"/"})," ",u.jsx("i",{className:"t",children:f.tot})]})})})]})}),u.jsx(VQ,{menu:l,opts:r})]})}function UQ({overview:t}){T.useEffect(()=>(e.set(),()=>{}),[]);const e={evt:n=>{const r=n.currentTarget,s=r.closest("[data-ui='elips']"),i=r.querySelector(".btn-tog");s.classList.contains("open")?(i.innerHTML='<span>더보기</span> <i class="fa-solid fa-caret-down"></i>',s.classList.remove("open")):(i.innerHTML='<i class="fa-solid fa-caret-up"></i> <span>숨기기</span>',s.classList.add("open"))},set:n=>{const r=document.querySelector("[data-ui='elips']"),s=r.querySelector(".txt"),i=s.offsetHeight,o=s.scrollHeight;i<o&&r.classList.add("elips")}};return u.jsx("div",{className:"vinf","data-ui":"elips",onClick:e.evt,onKeyUp:n=>n.key==="Enter"?e.evt(n):null,tabIndex:0,children:u.jsxs("div",{className:"txt",children:[t,u.jsxs("span",{className:"btn-tog",children:[u.jsx("span",{children:"더보기"})," ",u.jsx("i",{className:"fa-solid fa-caret-down"})]})]})})}function BQ({postID:t,opts:e}){const[n,r]=T.useState(null),s=`https://api.themoviedb.org/3/${e}/${t}/reviews?api_key=f76021076e8162ea929bd2cea62c6646`,i=()=>{Zt.get(s).then(p=>{console.log("리뷰들",p.data),r(p.data)}).catch(p=>{console.log(p)})},o={evt:p=>{console.log(p.currentTarget);const g=p.currentTarget.closest("[data-ui='elips']");g.classList.contains("open")?g.classList.remove("open"):g.classList.add("open")},set:p=>{document.querySelectorAll(".ut-reply ul.rlist>li .rpset .ment").forEach(g=>{const E=g.offsetHeight,v=g.scrollHeight;E<v?g.closest("[data-ui='elips']").classList.add("elips"):g.closest("[data-ui='elips']").classList.remove("elips")})}},a=T.useRef(""),l=1e3,[c,d]=T.useState(0),h=p=>{const m=p.target;let g;m.style.height="1rem",g=m.scrollHeight,m.style.height=g+"rem";const E=a.current.value;d(B.commas.add(a.current.value.length)),console.log(a.current.value),console.log(a.current.value.length,l),E.length>l&&(m.value=m.value.slice(0,l),d(B.commas.add(a.current.value.length)),B.alert("감상평은 1,000글자 까지 입니다.",{ycb:()=>{}}))},f=()=>{B.alert("준비 중 입니다.",{ycb:()=>{}})};return T.useEffect(()=>(i(),()=>{}),[t]),n?(o.set(),u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"sect revk",id:"writeRev",children:[u.jsx("h4",{className:"tts",children:"리뷰(준비중)"}),u.jsxs("div",{className:"form textarea",children:[u.jsx("textarea",{onInput:h,ref:a,className:"rtext",placeholder:"감상평을 남겨보세요. (최대1000자)"}),u.jsxs("span",{className:"num",children:[u.jsx("i",{className:"i",children:c}),u.jsx("b",{className:"n",children:B.commas.add(l)})]}),u.jsx("div",{className:"bts",children:u.jsxs("button",{type:"button",className:"btn sm btsend",disabled:c<1,onClick:f,children:[u.jsx("i",{className:"fa-regular fa-paper-plane"})," ",u.jsx("em",{children:"등록"})]})})]})]}),n.results.length?u.jsx("div",{className:"sect revw",children:u.jsx("div",{className:"ut-reply",children:u.jsx("div",{className:"rplist",children:u.jsx("ul",{className:"rlist a",children:n.results&&n.results.map((p,m)=>{const E="//image.tmdb.org/t/p/w45_and_h45_face/"+(p.author_details.avatar_path||""),v=p.content.replace(/\n/g,"<br>");return u.jsx("li",{children:u.jsxs("div",{className:"rpset",children:[u.jsx("div",{className:"user",children:u.jsx("span",{className:"pic",children:u.jsx("img",{src:E,alt:"사진",className:"img",onError:B.error.user})})}),u.jsxs("div",{className:"infs",children:[u.jsx("div",{className:"name",children:u.jsx("em",{className:"nm",children:p.author_details.name||p.author_details.username})}),u.jsx("div",{className:"desc",children:u.jsx("em",{className:"time",children:B.dateForm(new Date(p.created_at))})}),u.jsx("div",{"data-ui":"elips",className:"mbox",children:u.jsx("div",{className:"ment txt",onClick:o.evt,dangerouslySetInnerHTML:{__html:v}})})]})]})},m)})})})})}):null]})):u.jsx("div",{children:"Loading..."})}function zQ({datas:t,postID:e,opts:n}){const r=dn(),s=un(),i=()=>{const f=`${location.origin+location.pathname}#/${r.menu}/${e}`;navigator.clipboard.writeText(f);const p=t.title||t.name;navigator.share?navigator.share({title:p,text:p+" 를 공유합니다.",url:f}).then(()=>{console.log("공유 성공")}).catch(m=>{console.error("공유 실패:",m)}):(B.alert(`<b>${p}</b><br> URL 주소를 복사했습니다 <br> <a class="under" href="${f}" target="_blank">${f}</a>`),console.log("Web Share API를 지원하지 않습니다."))};T.useState();const o=async f=>{const p=f.currentTarget,m=p.classList.contains("on");if(console.log(m),store.state.userInfo.stat==!0){B.loading.show("glx");const g=ai(li,"member",store.state.userInfo.uid);let E=[];n=="movie"&&(E=l.tmdb_movie_scrap||[t]),n=="tv"&&(E=l.tmdb_tv_scrap||[t]),d?(h(!1),E=[...E,t].filter(v=>v.id!=e)):(h(!0),E=[...E,t].filter((v,_,y)=>y.findIndex(S=>S.id===v.id)===_)),n=="movie"&&await Ah(g,{tmdb_movie_scrap:E}).then(()=>{console.log("Movie 스크랩: ",t,p),B.loading.hide()}).catch(v=>{console.error(v),B.loading.hide()}),n=="tv"&&await Ah(g,{tmdb_tv_scrap:E}).then(()=>{console.log("TV 스크랩: ",t,p),B.loading.hide()}).catch(v=>{console.error(v),B.loading.hide()})}else B.confirm("로그인이 필요합니다.<br>로그인페이지로 이동하시겠습니까? ",{ycb:()=>{s("/user/signin")},ncb:()=>{}})},a=f=>{const p=!!f.target.closest(".poptents");console.log(`isPop ${p}`);const m=p?".popup.movie.view>.pbd>.pct":"body,html",E=document.querySelector("#writeRev").offsetTop;console.log(E),B.scrollTo(m,E,100,200,()=>{console.log("도착")})},[l,c]=T.useState({}),[d,h]=T.useState("");return T.useEffect(()=>(Pk().then(f=>(console.log(f),c(f),f)).then(f=>{h(f.tmdb_movie_scrap.some(p=>p.id==e)||f.tmdb_tv_scrap.some(p=>p.id==e))}),()=>{}),[d]),u.jsx(u.Fragment,{children:u.jsxs("div",{className:"dins",children:[u.jsxs("button",{type:"button",onClick:o,className:`bt bt-scrap ${d?"on":"off"}`,children:[u.jsx("i",{className:"fa-regular fa-bookmark"}),u.jsx("em",{children:"스크랩"})]}),u.jsxs("button",{type:"button",onClick:a,className:"bt bt-reply",children:[u.jsx("i",{className:"fa-regular fa-pen-to-square"}),u.jsx("em",{children:"리뷰"})]}),u.jsxs("button",{type:"button",onClick:i,className:"bt bt-shar",children:[u.jsx("i",{className:"fa-regular fa-share-nodes"}),u.jsx("em",{children:"공유하기"})]})]})})}function HQ({opts:t}){return u.jsxs(u.Fragment,{children:[t.type=="glx"&&u.jsx("span",{className:`ui-loading ui-load-glx full ${t.cls}`,children:u.jsx("span",{className:"gbx",children:u.jsxs("em",{className:"bx",children:[u.jsx("i",{})," ",u.jsx("i",{}),u.jsx("i",{})," ",u.jsx("i",{})]})})}),t.type=="dot"&&u.jsx("span",{className:`ui-loading ui-loading-dot ${t.cls}`,children:u.jsx("div",{class:"bx",children:u.jsx("em",{children:u.jsx("i",{})})})})]})}function gP({postID:t,popTitle:e}){const n=dn(),r=n.menu,[s,i]=T.useState(null),[o,a]=T.useState(null),[l,c]=T.useState(null),[d,h]=T.useState(""),f=`https://api.themoviedb.org/3/${r}/${t}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,p=()=>{Zt.get(f).then(y=>{console.log("영화정보",y.data),i(y.data);let S=y.data.backdrop_path?y.data.backdrop_path:y.data.poster_path;h("https://image.tmdb.org/t/p/w780"+S),e(y.data.title||y.data.name),document.querySelector('[property="og:description"]').content=y.data.title||y.data.name}).catch(y=>{console.log(y)})},m=`https://api.themoviedb.org/3/${r}/${t}/credits?&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,g=()=>{Zt.get(m).then(y=>{console.log("출연,제작",y.data),a(y.data)}).catch(y=>{console.log(y)})},E=`https://api.themoviedb.org/3/${r}/${t}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,v=()=>{Zt.get(E).then(y=>{console.log("영상",y.data),c(y.data)}).catch(y=>{console.log(y)})},_=y=>{const S=y.currentTarget.closest(".sect").querySelector(".lst"),N=y.currentTarget.classList.contains("next")?1:-1,b=(S.offsetWidth-100)*N;console.log(b,S,N),S.scrollLeft+=b};return T.useEffect(()=>(p(),g(),v(),()=>{}),[n.id]),u.jsx(u.Fragment,{children:u.jsxs("div",{className:"movie-detail",children:[u.jsx("div",{className:"bgs",style:{backgroundImage:`url(${d})`}}),!s||!o||!l?u.jsx(mP,{opts:{type:"movie-detail"}}):u.jsxs("div",{className:"m-info",children:[u.jsxs("div",{className:"info",children:[u.jsxs("div",{className:"desc",children:[s.title&&u.jsx("p",{className:"tit",children:s.title}),s.tagline&&u.jsx("p",{className:"sit",children:s.tagline}),s.original_title&&u.jsx("p",{className:"tio",children:s.original_title}),s.name&&u.jsx("p",{className:"tit",children:s.name}),s.original_name&&u.jsx("p",{className:"tio",children:s.original_name}),u.jsx("div",{className:"star",children:u.jsx(vu,{point:s.vote_average})}),u.jsx("div",{className:"cate",children:s.genres.map(y=>u.jsxs("em",{className:"ico",children:[" ",y.name]},y.id))}),u.jsxs("ul",{className:"lst",children:[u.jsxs("li",{className:"vot",children:[u.jsx("i",{className:"fa-regular fa-thumbs-up"})," ",u.jsx("b",{children:"평점"})," : ",s.vote_average," / 10"]}),s.release_date&&u.jsxs("li",{className:"opn",children:[u.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",u.jsx("b",{children:"개봉"})," : ",s.release_date]}),s.first_air_date&&u.jsxs("li",{className:"opn",children:[u.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",s.first_air_date," ~ ",s.last_air_date]}),s.runtime&&u.jsxs("li",{className:"tim",children:[u.jsx("i",{className:"fa-regular fa-timer"})," ",u.jsx("b",{children:"시간"})," : ",s.runtime," 분"]}),s.number_of_seasons&&u.jsxs("li",{className:"tim",children:[u.jsx("i",{className:"fa-regular fa-timer"})," ",u.jsx("b",{children:"시즌"})," : ",s.number_of_seasons,"개  - ",u.jsx("b",{children:"에피소드"})," : ",s.number_of_episodes,"개"]}),s.homepage&&u.jsxs("li",{className:"web",children:[u.jsx("i",{className:"fa-regular fa-globe"})," ",u.jsx("a",{className:"lk",href:s.homepage,target:"_blank",rel:"noopener noreferrer",children:s.homepage})]})]})]}),u.jsx("div",{className:"thum",children:u.jsx(ot,{to:"./poster/0",className:"pics",children:u.jsx("img",{src:"//image.tmdb.org/t/p/w300"+s.poster_path,alt:s.title||s.name,className:"img",onError:B.error.poster})})})]}),u.jsx(zQ,{datas:s,postID:t,opts:r}),s.overview&&u.jsx(UQ,{overview:s.overview}),o.cast.length?u.jsxs("div",{className:"sect cast",children:[u.jsxs("div",{className:"hbox",children:[u.jsx("h4",{className:"tts",children:"출연진"}),u.jsxs("div",{className:"bt-nav",children:[u.jsx("button",{type:"button",className:"bt prev",onClick:_,children:u.jsx("i",{className:"fa-solid fa-caret-left"})}),u.jsx("button",{type:"button",className:"bt next",onClick:_,children:u.jsx("i",{className:"fa-solid fa-caret-right"})})]})]}),u.jsx("div",{className:"lst",children:o.cast.filter((y,S)=>S<999).map(y=>u.jsxs(ot,{to:`./person/${y.id}`,className:"profile",children:[u.jsx("div",{className:"pics",children:u.jsx("img",{src:`//image.tmdb.org/t/p/w92${y.profile_path}`,alt:y.name,className:"img",onError:B.error.user,loading:"lazy"})}),u.jsx("div",{className:"name",children:y.name}),u.jsx("div",{className:"carc",children:y.character})]},y.credit_id))})]}):null,l.results.length>0?u.jsxs("div",{className:"sect movs",children:[u.jsxs("div",{className:"hbox",children:[u.jsx("h4",{className:"tts",children:"영상"}),u.jsxs("div",{className:"bt-nav",children:[u.jsx("button",{type:"button",className:"bt prev",onClick:_,children:u.jsx("i",{className:"fa-solid fa-caret-left"})}),u.jsx("button",{type:"button",className:"bt next",onClick:_,children:u.jsx("i",{className:"fa-solid fa-caret-right"})})]})]}),u.jsx("div",{className:"lst",children:l.results.filter((y,S)=>S<100).reverse().map((y,S)=>u.jsx("div",{className:"box",children:u.jsxs(ot,{to:`./videos/${S+1}`,className:"pic",children:[u.jsx("span",{className:"msg",children:u.jsx("span",{className:"tit",children:y.name})}),u.jsx("i",{className:"ico fa-solid fa-play"}),u.jsx("img",{className:"img",src:`//i.ytimg.com/vi/${y.key}/hqdefault.jpg`,alt:y.name,loading:"lazy"})]})},y.id))})]}):null,o.crew.length?u.jsxs("div",{className:"sect cast",children:[u.jsxs("div",{className:"hbox",children:[u.jsx("h4",{className:"tts",children:"제작진"}),u.jsxs("div",{className:"bt-nav",children:[u.jsx("button",{type:"button",className:"bt prev",onClick:_,children:u.jsx("i",{className:"fa-solid fa-caret-left"})}),u.jsx("button",{type:"button",className:"bt next",onClick:_,children:u.jsx("i",{className:"fa-solid fa-caret-right"})})]})]}),u.jsx("div",{className:"lst",children:o.crew.filter((y,S)=>S<999).map(y=>u.jsxs(ot,{to:`./person/${y.id}`,className:"profile",children:[u.jsx("div",{className:"pics",children:u.jsx("img",{src:`//image.tmdb.org/t/p/w92${y.profile_path}`,alt:y.name,className:"img",onError:B.error.user,loading:"lazy"})}),u.jsx("div",{className:"name",children:y.name}),u.jsx("div",{className:"carc",children:y.known_for_department})]},y.credit_id))})]}):null,s.images.posters.length?u.jsxs("div",{className:"sect post",children:[u.jsxs("div",{className:"hbox",children:[u.jsxs("h4",{className:"tts",children:["포스터 : ",s.images.posters.length+1]}),u.jsxs("div",{className:"bt-nav",children:[u.jsx("button",{type:"button",className:"bt prev",onClick:_,children:u.jsx("i",{className:"fa-solid fa-caret-left"})}),u.jsx("button",{type:"button",className:"bt next",onClick:_,children:u.jsx("i",{className:"fa-solid fa-caret-right"})})]})]}),u.jsxs("div",{className:"lst",children:[u.jsx("div",{className:"box","data-index":0,children:u.jsx(ot,{to:"./poster/0",className:"pic",children:u.jsx("img",{src:`//image.tmdb.org/t/p/w300${s.poster_path}`,alt:s.title,className:"img",onError:B.error.poster,loading:"lazy"})})}),s.images.posters.map((y,S)=>u.jsx("div",{className:"box","data-index":S+1,children:u.jsx(ot,{to:`./poster/${S+1}`,className:"pic",children:u.jsx("img",{src:`//image.tmdb.org/t/p/w300${y.file_path}`,alt:y.name,className:"img",onError:B.error.poster,loading:"lazy"})})},S))]})]}):null,u.jsx(BQ,{postID:t,opts:r}),s.production_companies.length?u.jsx(u.Fragment,{children:u.jsx("div",{className:"sect comp",children:s.production_companies.map(y=>y.logo_path?u.jsx("span",{className:"logo",children:u.jsx("img",{src:`//image.tmdb.org/t/p/w92${y.logo_path}`,alt:y.name,className:"img"})},y.id):u.jsx("span",{className:"logo",children:y.name},y.id))})}):null]})]})})}function rd({prop:t}){let e=dn(),n=un();t.page=t.page||"page";const r=e.id,[s,i]=T.useState(0),o=m=>i(parseInt(m.target.scrollTop)),a=()=>t.page==="list"||t.page==="search"||t.page==="home",l=()=>B.scrollTo(".popup.movie .pct",0,200);T.useEffect(()=>(B.loading.show("glx"),l(),d(),window.addEventListener("resize",d),c.current.classList.add("ani","on"),B.lock.using(!0),()=>{window.removeEventListener("resize",d),console.log("컴포넌트가 화면에서 사라짐"),B.lock.using(!1)}),[e.id]);const c=T.useRef(),d=()=>{const m=c.current,g=m.offsetHeight,E=m.querySelector(".phd").offsetHeight;console.log(g,E),m.querySelector(".pct").style.height=g-E+"px"},[h,f]=T.useState(""),p=m=>f(m);return h&&setTimeout(()=>B.loading.hide(),500),u.jsxs(u.Fragment,{children:[u.jsx(us,{}),u.jsx("article",{ref:c,className:`pop-layer a bottom popup movie view ${a()?"":"page"} `,children:u.jsxs("div",{className:"pbd",children:[u.jsx("div",{className:`phd ${s>50?"trans":""}`,children:u.jsx("div",{className:"inr",children:u.jsx("div",{className:"ptit",children:h})})}),a()?u.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{n(-1)},children:u.jsx("i",{className:"fa-regular fa-arrow-left"})}):u.jsx("button",{type:"button",className:"btn-pop-close home",onClick:()=>{n("/home/")},children:u.jsx("i",{className:"fa-solid fa-house"})}),u.jsx("div",{className:"pct",onScroll:o,children:u.jsx("main",{className:"poptents",children:u.jsx(gP,{postID:r,popTitle:p})})}),u.jsx("div",{className:`floatpop ${s>50?"on-top":""}`,children:u.jsxs("button",{type:"button",className:"bt top",onClick:l,children:[u.jsx("i",{className:"fa-solid fa-arrow-up"}),u.jsx("em",{children:"위로"})]})})]})})]})}function WQ(){const e=dn().id;return T.useEffect(()=>(window.scrollTo(0,0),()=>{}),[]),u.jsxs(u.Fragment,{children:[u.jsx(us,{}),u.jsx("div",{className:"container page detail",children:u.jsx("main",{className:"contents",children:u.jsx(gP,{postID:e})})})]})}function nl({prop:t}){let e=un(),n=dn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var y,S;let g=document.querySelector(".popup.poster"),E=g.offsetHeight||0,v=((y=g.querySelector(".pbt"))==null?void 0:y.offsetHeight)||0,_=((S=g.querySelector(".phd"))==null?void 0:S.offsetHeight)||0;E=E-_||0,console.log(E),g.querySelector(".pct").style.maxHeight=E-v+"px"},[o,a]=T.useState(null),[l,c]=T.useState(""),[d,h]=T.useState(""),f=()=>o.images.posters.length>1,p=`https://api.themoviedb.org/3/${r}/${s}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,m=()=>{Zt.get(p).then(g=>{console.log("영화정보",g.data),a(g.data);let E=g.data.poster_path?g.data.poster_path:g.data.backdrop_path;c("//image.tmdb.org/t/p/w780"+E),h(g.data.title||g.data.name)}).catch(g=>{console.log(g)})};return T.useEffect(()=>(console.log(document.querySelector(".popup.poster .pct").offsetHeight),m(),i(),window.addEventListener("resize",i),document.querySelector(".popup.poster").classList.add("ani","on"),B.lock.using(!0),()=>{window.removeEventListener("resize",i),B.lock.using(!1)}),[]),u.jsx(u.Fragment,{children:u.jsx("article",{className:"pop-layer c bottom popup poster",children:u.jsxs("div",{className:"pbd",children:[u.jsx("div",{className:"phd",children:u.jsx("div",{className:"inr",children:u.jsx("div",{className:"ptit",children:d})})}),u.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:u.jsx("i",{className:"fa-regular fa-xmark"})}),u.jsx("div",{className:"pct",children:u.jsx("main",{className:"poptents",children:u.jsx("div",{className:"poster-box",children:o&&o.images.posters?u.jsxs(gu,{className:"swiper-wrapper swiper slide",modules:[wp,Tp,Cp,Ip,sP,Rp],spaceBetween:20,slidesPerView:1,loop:f(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},autoHeight:!0,onSwiper:g=>{console.log("initialize swiper",g),g.slideToLoop(n.nums,0)},onSlideChange:()=>{},children:[u.jsx(Bs,{tag:"li",children:u.jsx("div",{className:"box",children:u.jsxs("div",{className:"pics",children:[u.jsx("img",{src:l,className:"img",alt:`${d}_Poster[1]`,onError:B.error.poster,loading:"lazy"}),u.jsx("div",{className:"lazy-preloader",children:u.jsx("i",{className:"fa-duotone fa-spinner"})})]})})}),o.images.posters.map((g,E)=>{const v=`//image.tmdb.org/t/p/w780${g.file_path}`;return u.jsx(Bs,{tag:"li",className:"swiper-slide pbox",children:u.jsx("div",{className:"box",children:u.jsxs("div",{className:"pics",children:[u.jsx("img",{src:`${v}`,alt:`${d}_Poster[${E+2}]`,className:"img",onError:B.error.poster,loading:"lazy"}),u.jsx("div",{className:"lazy-preloader",children:u.jsx("i",{className:"fa-duotone fa-spinner"})})]})})},E)})]}):null})})})]})})})}function rl(){let t=dn(),e=un();const n=t.opts;console.log(t);const r=t.nums,s=()=>{var w,N;let v=document.querySelector(".popup.person"),_=v.offsetHeight||0,y=((w=v.querySelector(".pbt"))==null?void 0:w.offsetHeight)||0,S=((N=v.querySelector(".phd"))==null?void 0:N.offsetHeight)||0;_=_-S||0,v.querySelector(".pct").style.maxHeight=_-B.getSafe.top()-B.getSafe.watch()-y-10+"px",console.log(_)},[i,o]=T.useState(null),[a,l]=T.useState(null),[c,d]=T.useState(null),h=`https://api.themoviedb.org/3/person/${r}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,f=()=>{Zt.get(h).then(v=>{console.log("인물 정보",v.data),o(v.data)}).catch(v=>{console.log(v)})},p=`https://api.themoviedb.org/3/person/${r}/movie_credits?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,m=()=>{Zt.get(p).then(v=>{console.log("인물 출연작",v.data),l(v.data)}).catch(v=>{console.log(v)})},g=`https://api.themoviedb.org/3/person/${r}/images?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,E=()=>{Zt.get(g).then(v=>{console.log("인물 사진",v.data),d(v.data)}).catch(v=>{console.log(v)})};return T.useEffect(()=>(console.log(document.querySelector(".popup.person .pct").offsetHeight),f(),m(),E(),s(),window.addEventListener("resize",s),document.querySelector(".popup.person").classList.add("ani","on"),B.lock.using(!0),()=>{window.removeEventListener("resize",s),B.lock.using(!1)}),[]),u.jsx(u.Fragment,{children:u.jsx("article",{className:"pop-layer c bottom popup person",children:u.jsxs("div",{className:"pbd",children:[u.jsx("div",{className:"phd",children:u.jsx("div",{className:"inr",children:u.jsx("div",{className:"ptit"})})}),u.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:u.jsx("i",{className:"fa-regular fa-xmark"})}),u.jsx("div",{className:"pct",children:u.jsxs("main",{className:"poptents",children:[!i&&!a&&!c&&u.jsx("div",{className:"m-info",children:u.jsx(HQ,{opts:{type:"glx",cls:"abs"}})}),i&&a&&c&&u.jsxs("div",{className:"m-info",children:[u.jsxs("div",{className:"info",children:[u.jsxs("div",{className:"desc",children:[i.title&&u.jsx("p",{className:"tit",children:i.title}),i.original_title&&u.jsx("p",{className:"tio",children:i.original_title}),i.name&&u.jsx("p",{className:"tit",children:i.name}),i.known_for_department&&u.jsx("p",{className:"tio",children:i.known_for_department}),i.original_name&&u.jsx("p",{className:"tio",children:i.original_name}),u.jsxs("ul",{className:"lst",children:[i.birthday&&u.jsxs("li",{className:"vot",children:[u.jsx("i",{className:"fa-regular fa-calendar-days"}),"  ",i.birthday]}),i.place_of_birth&&u.jsxs("li",{className:"vot",children:[u.jsx("i",{className:"fa-regular fa-location-dot"}),"  ",i.place_of_birth]}),u.jsxs("li",{className:"vot",children:[" ",u.jsx("i",{className:"fa-regular fa-star"})," ",i.popularity," / 100 "]}),i.homepage&&u.jsxs("li",{className:"web",children:[u.jsx("i",{className:"fa-regular fa-globe"})," ",u.jsx("a",{className:"lk",href:i.homepage,target:"_blank",rel:"noopener noreferrer",children:i.homepage})]})]})]}),u.jsx("div",{className:"thum",children:u.jsx("div",{className:"pics",children:u.jsx("img",{src:`https://image.tmdb.org/t/p/w780${i.profile_path}`,alt:i.title,className:"img",onError:v=>{v.target.src="./img/common/user.png"}})})})]}),a.cast.length?u.jsxs("div",{className:"sect post",children:[u.jsx("h4",{className:"tts",children:"출연작 "}),u.jsx("div",{className:"lst",children:a.cast.map((v,_)=>u.jsx("div",{className:"box","data-index":_+1,children:u.jsx(ot,{to:`/movie/${v.id}`,className:"pic",children:u.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+v.poster_path,alt:v.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},_))})]}):null,a.crew.length?u.jsxs("div",{className:"sect post",children:[u.jsx("h4",{className:"tts",children:"제작참여 "}),u.jsx("div",{className:"lst",children:a.crew.map((v,_)=>u.jsx("div",{className:"box","data-index":_+1,children:u.jsx(ot,{to:`/movie/${v.id}`,className:"pic",children:u.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+v.poster_path,alt:v.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},_))})]}):null,c.profiles.length?u.jsxs("div",{className:"sect post",children:[u.jsx("h4",{className:"tts",children:"사진 "}),u.jsx("div",{className:"lst",children:c.profiles.map((v,_)=>u.jsx("div",{className:"box","data-index":_+1,children:u.jsx("div",{to:`/list/${n}/0/${v.id}`,className:"pic",children:u.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+v.file_path,alt:v.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},_))})]}):null]})]})})]})})})}function sl({prop:t}){let e=un(),n=dn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var g,E;let h=document.querySelector(".popup.videos"),f=h.offsetHeight||0,p=((g=h.querySelector(".pbt"))==null?void 0:g.offsetHeight)||0,m=((E=h.querySelector(".phd"))==null?void 0:E.offsetHeight)||0;f=f-m||0,console.log(f),h.querySelector(".pct").style.maxHeight=f-p+"px"},[o,a]=T.useState(null),l=()=>o.results.length>1,c=`https://api.themoviedb.org/3/${r}/${s}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,d=()=>{Zt.get(c).then(h=>{console.log("영상",h.data),a(h.data)}).catch(h=>{console.log(h)})};return T.useEffect(()=>(console.log(document.querySelector(".popup.videos .pct").offsetHeight),d(),i(),window.addEventListener("resize",i),document.querySelector(".popup.videos").classList.add("ani","on"),B.lock.using(!0),()=>{window.removeEventListener("resize",i),B.lock.using(!1)}),[]),u.jsx(u.Fragment,{children:u.jsx("article",{className:"pop-layer b bottom popup videos",children:u.jsxs("div",{className:"pbd",children:[u.jsx("div",{className:"phd",children:u.jsx("div",{className:"inr",children:u.jsx("div",{className:"ptit",children:(o==null?void 0:o.title)||(o==null?void 0:o.name)})})}),u.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:u.jsx("i",{className:"fa-regular fa-xmark"})}),u.jsx("div",{className:"pct",children:u.jsx("main",{className:"poptents",children:u.jsx("div",{className:"videos-box",children:o&&o.results.length?u.jsx(gu,{className:"swiper-wrapper swiper slide",modules:[wp,Tp,Cp,Ip,sP,Rp],spaceBetween:20,slidesPerView:1,navigation:!0,loop:l(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},observeParents:!0,observeSlideChildren:!0,observer:!0,wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},onSwiper:h=>{console.log("initialize swiper",h),h.slideTo(n.nums,0)},onSlideChange:()=>{},children:o.results.filter((h,f)=>f<100).reverse().map((h,f)=>u.jsx(Bs,{tag:"li",className:"swiper-slide pbox",children:u.jsx("div",{className:"box",children:u.jsxs("div",{className:"pics",children:[u.jsxs("span",{className:"ui-load-glx full",children:[" ",u.jsxs("span",{className:"gbx",children:[" ",u.jsxs("em",{className:"bx",children:[" ",u.jsx("i",{})," ",u.jsx("i",{})," ",u.jsx("i",{})," ",u.jsx("i",{})," "]})," "]})," "]}),u.jsx("iframe",{className:"iframe",title:h.name,src:"//www.youtube.com/embed/"+h.key,allow:"autoplay; encrypted-media",allowFullScreen:!0,loading:"lazy"})]})})},f))}):null})})})]})})})}function qQ({data:t,cate:e}){const n="//image.tmdb.org/t/p/w200",r=n+t.poster_path,s=t.backdrop_path?n+t.backdrop_path:n+t.poster_path,i=t.title||t.name;return u.jsx(u.Fragment,{children:u.jsxs(ot,{className:"box",to:`${t.id}`,children:[u.jsxs("div",{className:"cont",children:[u.jsx("div",{className:"pics",children:u.jsx("img",{src:`${r}`,alt:i,onError:ui.error.poster,className:"img"})}),u.jsxs("div",{className:"desc",children:[u.jsx("div",{className:"tits",children:i}),u.jsx("div",{className:"text",children:t.overview})]})]}),u.jsxs("div",{className:"info",children:[u.jsx("div",{className:"dd",children:u.jsx("div",{className:"cate",children:u.jsx("span",{className:"txt",children:t.genre_ids.map(o=>u.jsxs("em",{className:"ico",children:[" ",e[o]," "]},o))})})}),u.jsxs("div",{className:"dd",children:[u.jsxs("div",{className:"hits",children:[u.jsx(vu,{point:t.vote_average}),u.jsxs("em",{children:[u.jsx("i",{className:"fa-regular fa-heart"})," ",u.jsx("b",{children:t.vote_average})]})]}),u.jsxs("div",{className:"date",children:[u.jsx("i",{className:"fa-regular fa-calendar-days"})," ",u.jsx("b",{children:t.release_date||t.first_air_date})]})]})]}),u.jsx("div",{className:"bgs",style:{backgroundImage:`url(${s})`}})]})})}function EC(){var M;const[t]=XD(),n=dn().menu,[r,s]=T.useState(t.get("search")),[i,o]=T.useState([]);let a=1;const[l,c]=T.useState({}),d=async()=>{await Zt.get(`https://api.themoviedb.org/3/genre/${n}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(O=>{const W={};O.data.genres.forEach(ie=>W[ie.id]=ie.name),c(W)}).catch(O=>{console.log(O),c(null)})},[h,f]=T.useState({pge:0,tot:0}),[p,m]=T.useState(""),[g,E]=T.useState(""),[v,_]=T.useState(""),y=T.useRef(),S=(O,W)=>{console.log("검색어 "+r),console.log("로드 "+O),y.current.value=r,W=r||"";const ie=`https://api.themoviedb.org/3/search/${n}?language=ko&region=kr&page=${O}&query=${W}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(ie).then(R=>{console.log(R.data),o(j=>[...j,...R.data.results]),console.log(O+"=== "+R.data.total_pages),w=!0,console.log(w),B.loading.hide(),f({pge:R.data.page,tot:R.data.total_pages}),R.data.total_pages<=O?(w=!1,E("hide")):E(""),m("")}).catch(R=>{console.log(R),B.loading.hide(),_("error")})};T.useEffect(()=>(d(),B.loading.show("glx"),S(a),document.querySelector(".header").classList.add("hide"),o([]),!r&&!document.querySelector(".pop-layer")&&y.current.focus(),window.addEventListener("scroll",N),window.scrollTo(0,0),re(),()=>{document.querySelector(".header").classList.remove("hide"),window.removeEventListener("scroll",N)}),[r,n]);let w=!0;const N=()=>{const O=B.viewport.height(),W=B.viewport.docHeight(),ie=B.viewport.scrollTop()+O+10;if(console.log(w+" =  "+a),W<=ie&&w===!0){if(console.log("바닥도착"),m("active"),w=!1,B.lock.stat){w=!0;return}setTimeout(()=>{a=a+1,S(a)},400)}},b=O=>{var W,ie,R;s((W=y.current)==null?void 0:W.value),window.history.replaceState(null,null,`#/search/${n}?search=${(ie=y.current)==null?void 0:ie.value}`),o([]),S(1),O.preventDefault(),H((R=y.current)==null?void 0:R.value)},k=O=>{y.current.value=O,s(O),window.history.replaceState(null,null,`#/search/${n}?search=${O}`),new URL(window.location).searchParams.set("search",O)},G=O=>{s(O.target.value),o([]);const W=new URL(window.location);W.searchParams.set("search",O.target.value),console.log(W),window.history.replaceState(null,null,`#/search/${n}?search=${O.target.value}`)},D=T.useRef(),P=T.useRef(),[x,A]=T.useState([]),H=O=>{const W=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]');O.trim()!==""&&W.unshift(O);const ie=[...new Set(W)].slice(0,10);localStorage.setItem("keyword",JSON.stringify(ie)),A(ie)},re=()=>{const O=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]');A(O)},Ee=O=>{const W=x.filter(ie=>ie!==O);localStorage.setItem("keyword",JSON.stringify(W)),A(W),setTimeout(()=>y.current.focus())},we=()=>{y.current.value="",y.current.focus(),s(""),window.history.replaceState(null,null,`#/search/${n}?search=`)};return console.log((M=y.current)==null?void 0:M.value),u.jsxs(u.Fragment,{children:[u.jsx(us,{}),u.jsx("div",{className:"container page movie search",children:u.jsxs("main",{className:"contents",children:[u.jsx("div",{className:"schs-form",ref:P,children:u.jsx("div",{className:"inr",children:u.jsxs("form",{className:"form",onSubmit:b,children:[u.jsxs("div",{className:"bts",children:[u.jsx($n,{className:"bt",to:`/search/movie?search=${r}`,children:"Movie"}),u.jsx($n,{className:"bt",to:`/search/tv?search=${r}`,children:"TV"})]}),u.jsxs("span",{className:"input",children:[u.jsx("input",{type:"text",placeholder:"검색어를 입력하세요.",ref:y,required:!0,maxLength:12,onChange:G,onInvalid:O=>O.preventDefault()}),u.jsx("button",{type:"button",className:"bt-del",title:"삭제",onClick:we,children:u.jsx("i",{className:"fa-regular fa-xmark"})})]}),u.jsx("button",{type:"submit",className:"bt-sch",title:"검색",children:u.jsx("i",{className:"fa-regular fa-search"})})]})})}),x.length>0&&u.jsx("div",{className:"recent-kwds",ref:D,children:u.jsx("ul",{className:"lst",children:x.map(O=>u.jsxs("li",{children:[u.jsx("button",{className:"kwd",type:"button",onClick:()=>k(O),children:O}),u.jsx("button",{className:"del",type:"button",onClick:()=>Ee(O),children:u.jsx("i",{className:"fa-regular fa-xmark"})})]},O))})}),u.jsx("div",{className:"movie-list",tabIndex:"-1",children:i.length<=0?u.jsxs("div",{className:"nodata",children:[u.jsx("i",{className:"fa-solid fa-file-magnifying-glass"}),r?u.jsxs("p",{children:[" ‟",r,"” 검색 결과가 없습니다."]}):u.jsx("p",{children:" 검색어를 입력하세요."})]}):u.jsxs(u.Fragment,{children:[u.jsx("ul",{className:"list",children:i.map((O,W)=>u.jsx("li",{"data-id":O.id+"_"+W,children:u.jsx(qQ,{data:O,cate:l})},O.id+"_"+W))}),i.length>0&&u.jsxs("div",{className:`ui-loadmore ${p} ${g}  ${v}`,children:[u.jsx("em",{children:u.jsx("i",{className:"fa-duotone fa-spinner"})}),u.jsx("button",{onClick:O=>{w=!0,S(a,O)},type:"button",className:"btn-load",title:"불러오기",children:u.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]})}),u.jsx("div",{className:"page-set",children:i.length>0&&u.jsx("div",{className:"inr",children:u.jsxs("div",{className:"pg",children:[u.jsx("i",{className:"p",children:h.pge})," ",u.jsx("i",{className:"s",children:"/"})," ",u.jsx("i",{className:"t",children:h.tot})]})})})]})})]})}function GQ(){let t=dn();console.log(t),Sn();let e=un();t.menu;const n={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/missing-email":"정확한 이메일을 입력하세요","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},r=T.useRef(),s=T.useRef(),i=T.useRef(),o=async()=>{const m=r.current.value,g=s.current.value,E=rs();B.loading.show("glx"),console.log(m,g,E),await WS(E,m,g).then(v=>{const _=v.user;console.log(_.email),B.loading.hide(),B.alert(`${_.email}<br> 로그인 성공!`,{ycb:()=>{e("/")}})}).catch(v=>{console.log(v.code,v);const _=n[v.code];B.loading.hide(),B.alert(_,{tit:"로그인 실패"})}),i.current.checked==!1&&I$(E,py).then(()=>WS(E,m,g)).catch(v=>{const _=v.code,y=v.message;console.log(_,"====",y)})},a=rs(),l=()=>{const m=new hr;dl(a,m)},c=()=>{const m=new Fr;dl(a,m)},d=()=>{const m=new Vr;dl(a,m)},h=()=>{const m=new Ur;dl(a,m)},f=()=>{const m=i.current.checked;if(console.log(m),m){const g=`
        자동로그인을 사용하시면<br> 
        다음부터 회원아이디와 비밀번호를<br>
        입력하실 필요가 없습니다.<br><br>
        공공장소에서는 개인정보가 유출될 수 있으니 사용을 자제하여 주십시오.<br><br>
        자동로그인을 사용하시겠습니까?
      `;B.confirm(g,{tit:"로그인 설정",ycb:()=>{i.current.checked=!0},ncb:()=>{i.current.checked=!1},ybt:"예",nbt:"아니오"})}},p=async(m,g)=>{await L0(ai(li,"member",m.uid),{id:m.uid,email:m.email||m.providerData.email,nick:m.displayName,avatar:null,photoURL:m.photoURL,liked:[],date:new Date}).then(()=>{e("/"),console.log("멤버 생성: ")}).catch(E=>{console.error("멤버 생성 Error : ",E)})};return T.useEffect(()=>(window.scrollTo(0,0),Vx(a).then(m=>{m.user&&(console.log("Google 로그인 성공:",m.user),p(m.user),e("/"))}).catch(m=>{console.log("Google 로그인 실패:"),console.log(m)}),()=>{})),u.jsxs(u.Fragment,{children:[u.jsx(us,{}),u.jsx("div",{className:"container page user sign in",children:u.jsx("main",{className:"contents",children:u.jsxs("div",{className:"sign-form",children:[u.jsxs("div",{className:"sns form",children:[u.jsx("div",{className:"tit",children:u.jsx("em",{className:"t",children:"SNS 로그인"})}),u.jsxs("div",{className:"bts",children:[u.jsxs("button",{type:"button",className:"btn",onClick:l,children:[u.jsx("i",{className:"fa-brands fa-google"}),u.jsx("em",{children:"Google "})]}),u.jsxs("button",{type:"button",className:"btn",onClick:c,children:[u.jsx("i",{className:"fa-brands fa-github"}),u.jsx("em",{children:"Github "})]}),u.jsxs("button",{type:"button",className:"btn",onClick:d,children:[u.jsx("i",{className:"fa-brands fa-facebook"}),u.jsx("em",{children:"Facebook "})]}),u.jsxs("button",{type:"button",className:"btn",onClick:h,children:[u.jsx("i",{className:"fa-brands fa-twitter"}),u.jsx("em",{children:"Twitter "})]})]})]}),u.jsxs("div",{className:"eml form",children:[u.jsx("div",{className:"tit",children:u.jsx("em",{className:"t",children:"Email 계정 로그인"})}),u.jsxs("ul",{className:"list",children:[u.jsx("li",{children:u.jsx("div",{className:"dd",children:u.jsx("span",{className:"input",children:u.jsx("input",{type:"email",ref:r,placeholder:"이메일 (user@test.com)"})})})}),u.jsx("li",{children:u.jsx("div",{className:"dd",children:u.jsx("span",{className:"input",children:u.jsx("input",{type:"password",ref:s,placeholder:"비밀번호 (123456)"})})})})]}),u.jsxs("div",{className:"savelogin",children:[u.jsxs(ot,{className:"bt",to:"/user/signup",children:["회원가입하러 가기 ",u.jsx("i",{className:"fa-regular fa-chevron-right"})]}),u.jsxs("label",{className:"checkbox",children:[u.jsx("input",{type:"checkbox",ref:i,onChange:f}),u.jsx("span",{className:"txt",children:"자동 로그인"})]})]}),u.jsx("div",{className:"btsbox btn-set",children:u.jsxs("button",{type:"button",className:"btn",onClick:o,children:[u.jsx("i",{className:"fa-regular fa-right-to-bracket"}),u.jsx("em",{children:"로그인"})]})})]})]})})})]})}function KQ(){let t=dn();console.log(t),Sn();let e=un();t.menu;const n=rs(),r=new hr,s=async(i,o)=>{await L0(ai(li,"member",i.uid),{id:i.uid,email:i.email,nick:i.displayName,avatar:0,liked:[],date:new Date}).then(()=>{B.loading.show(),console.log("멤버 생성: "),e(o)}).catch(a=>{console.error("멤버 생성 Error : ",a)})};return T.useEffect(()=>(dl(n,r),Vx(n).then(i=>{i.user&&(console.log("Google 로그인 성공:",i.user),s(i.user,"/"),e(-1))}).catch(i=>{console.error("Google 로그인 실패:",i)}),()=>{})),u.jsx(u.Fragment,{children:u.jsx("div",{className:"container page user sign in",children:u.jsx("main",{className:"contents",children:"ssssssssssssss"})})})}function QQ(){let t=un();T.useRef(),T.useRef(),T.useRef();const e=async()=>{const n=rs();b$(n).then(()=>{t("/")}).catch(r=>{console.log(r)})};return T.useEffect(()=>(window.scrollTo(0,0),e(),()=>{})),u.jsxs(u.Fragment,{children:[u.jsx(us,{}),u.jsx("div",{className:"container page user sign out",children:u.jsx("main",{className:"contents"})})]})}function YQ(){let t=dn();Sn();let e=un();t.menu;const[n,r,s,i]=[T.useRef(),T.useRef(),T.useRef(),T.useRef()],o={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},[a,l]=T.useState({isMail:!1,isPwds:!1,isNick:!1});console.log(a);const c=h=>{const f={mail:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,pass:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,15}$/,nick:/^[a-zA-Z0-9가-힣]{1,15}$/};switch(h.name){case"email":l(p=>({...p,isMail:f.mail.test(h.value)}));break;case"password":l(p=>({...p,isPwds:f.pass.test(h.value)}));break;case"nickname":l(p=>({...p,isNick:f.nick.test(h.value)}));break}},d={joinReq:async()=>{console.log(document.querySelector('[name="avatar"]:checked').value),console.log(n.current.value),console.log(r.current.value),console.log(s.current.value),B.loading.show();const h=n.current.value,f=r.current.value,p=rs();C$(p,h,f).then(m=>{const g=m.user;console.log(g),console.log("uid : "+g.uid),console.log("액세스토큰: "+g.accessToken);const E="/";d.addMember(g,E)}).catch(m=>{B.loading.hide(),console.log(m.code);const g=o[m.code];B.alert(g)}),await R$(user).then(()=>{B.alert(`[${h}] 으로 인증 이메일이 전송되었습니다. `)}).catch(m=>{})},addMember:async(h,f)=>{await L0(ai(li,"member",h.uid),{id:h.uid,email:h.email,nick:s.current.value,avatar:document.querySelector('[name="avatar"]:checked').value,liked:[],date:new Date}).then(()=>{B.loading.show(),console.log("멤버 생성: "),B.alert("가입되었습니다.",{ycb:()=>{e(f)}})}).catch(p=>{console.error("멤버 생성 Error : ",p)})}};return console.log(a.isMail,a.isPwds,a.isNick,a.isMail&&a.isPwds&&a.isNick),T.useEffect(()=>(window.scrollTo(0,0),()=>{})),u.jsxs(u.Fragment,{children:[u.jsx(us,{}),u.jsx("div",{className:"container page user sign up",children:u.jsx("main",{className:"contents",children:u.jsxs("div",{className:"sign-form",children:[u.jsx("div",{className:"hdt",children:"회원가입"}),u.jsx("div",{className:"join form",children:u.jsxs("ul",{className:"list",children:[u.jsxs("li",{children:[u.jsx("label",{className:"dt",children:"아바타"}),u.jsx("div",{className:"dd",children:u.jsx("div",{className:"ut-avata",children:Fe.state.avatar.map((h,f)=>u.jsxs("label",{children:[u.jsx("input",{type:"radio",name:"avatar",ref:i,value:f,defaultChecked:f==0}),u.jsx("span",{className:"txt",children:u.jsx("img",{className:"img",src:h,alt:""})})]},f))})})]}),u.jsxs("li",{children:[u.jsx("label",{className:"dt",children:"이메일"}),u.jsxs("div",{className:"dd",children:[u.jsx("span",{className:"input",children:u.jsx("input",{ref:n,name:"email",type:"email",placeholder:"예) test@naver.com",onInput:h=>c(h.currentTarget),"data-webkit-autofill":!0})}),a.isMail?u.jsx("i",{className:"chk fa-regular fa-check"}):u.jsx("p",{className:"msg-valid",children:"이메일 형식에 맞게 입력해주세요."})]})]}),u.jsxs("li",{children:[u.jsx("label",{className:"dt",children:"비밀번호"}),u.jsxs("div",{className:"dd",children:[u.jsx("span",{className:"input",children:u.jsx("input",{ref:r,name:"password",type:"password",placeholder:"예) abc123",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isPwds?u.jsx("i",{className:"chk fa-regular fa-check"}):u.jsx("p",{className:"msg-valid",children:"문자,숫자 포함 6자리 이상 입력해주세요."})]})]}),u.jsxs("li",{children:[u.jsx("label",{className:"dt",children:"닉네임"}),u.jsxs("div",{className:"dd",children:[u.jsx("span",{className:"input",children:u.jsx("input",{ref:s,name:"nickname",type:"text",placeholder:"입력하세요",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isNick?u.jsx("i",{className:"chk fa-regular fa-check"}):u.jsx("p",{className:"msg-valid",children:"특수문자 제외하고 입력해주세요."})]})]})]})}),u.jsx("div",{className:"btsbox btn-set",children:u.jsxs("button",{type:"button",className:"btn",disabled:!(a.isMail&&a.isPwds&&a.isNick),onClick:d.joinReq,children:[u.jsx("i",{className:"fa-regular fa-right-to-bracket"}),u.jsx("em",{children:"회원가입"})]})}),u.jsxs("div",{className:"link",children:["이미 회원이신가요? ",u.jsxs(ot,{className:"bt",to:"/user/signin",children:["로그인 하러가기 ",u.jsx("i",{className:"fa-regular fa-chevron-right"})]})]})]})})})]})}function XQ(){function t(){const[e,n]=$o(kG),[r,s]=$o(PG),i=o=>{n(o.target.value)};return u.jsxs("div",{children:[u.jsx("input",{type:"text",value:e,onChange:i}),u.jsx("br",{}),"Echo: ",e,u.jsx("br",{})," ",r.a,u.jsx("br",{})," ",r.b]})}return $o(mp),T.useEffect(()=>()=>{}),u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"내 글"}),u.jsx("p",{children:"댓글"})," ",u.jsx(t,{}),u.jsx("p",{children:Fe.state.userInfo.stat==!0?u.jsxs(ot,{to:"/user/signout",className:"btn logout",children:[u.jsx("i",{className:"fa-regular fa-right-from-bracket"}),"Logout"]}):null})]})}function JQ({uInfo:t,swiper:e}){if(!t.tmdb_movie_scrap)return!1;const[n,r]=T.useState([]),[s,i]=T.useState("movie"),o=l=>{console.log(l),l=="movie"&&r(t.tmdb_movie_scrap),l=="tv"&&r(t.tmdb_tv_scrap),i(l),setTimeout(()=>e.update(),100),console.log(n)},a=async(l,c)=>{B.loading.show("glx"),console.log(l,c);let d=[];l=="movie"&&(d=t.tmdb_movie_scrap||[c]),l=="tv"&&(d=t.tmdb_tv_scrap||[c]),d=[...d,c].filter(f=>f.id!=c.id),r(d),l=="movie"&&(t.tmdb_movie_scrap=d),l=="tv"&&(t.tmdb_tv_scrap=d),console.log(d);const h=ai(li,"member",t.id);l=="movie"&&await Ah(h,{tmdb_movie_scrap:d}).then(()=>{console.log("Movie 스크랩 삭제: "+d),B.loading.hide()}).catch(f=>{console.error(f),B.loading.hide()}),l=="tv"&&await Ah(h,{tmdb_tv_scrap:d}).then(()=>{console.log("TV 스크랩 삭제: "+d),B.loading.hide()}).catch(f=>{console.error(f),B.loading.hide()})};return T.useEffect(()=>(console.log(t,t.id),r(t.tmdb_movie_scrap),()=>{}),[]),t?u.jsx(u.Fragment,{children:u.jsxs("div",{className:"movie-list user",children:[u.jsxs("div",{className:"tabs",children:[u.jsxs("button",{className:`btn ${s=="movie"?"active":""}`,onClick:()=>{o("movie")},children:[u.jsx("em",{children:"Movie"})," ",u.jsx("i",{children:t.tmdb_movie_scrap.length})]}),u.jsxs("button",{className:`btn ${s=="tv"?"active":""}`,onClick:()=>{o("tv")},children:[u.jsx("em",{children:"TV"})," ",u.jsx("i",{children:t.tmdb_tv_scrap.length})]})]}),n.length>0?u.jsx("ul",{className:"list",children:n.map((l,c)=>{const h="//image.tmdb.org/t/p/w92"+l.poster_path,f=l.title||l.name;return u.jsx("li",{"data-id":l.id+"_"+c,children:u.jsxs("div",{className:"box",children:[u.jsxs(ot,{className:"cont",to:`${s}/${l.id}`,children:[u.jsx("div",{className:"pics",children:u.jsx("img",{src:`${h}`,alt:f,onError:B.error.poster,className:"img"})}),u.jsxs("div",{className:"desc",children:[u.jsx("div",{className:"tits",children:l.title||l.name}),u.jsx("div",{className:"text",children:l.overview})]}),u.jsxs("div",{className:"dd",children:[u.jsx("div",{className:"hits",children:u.jsxs("em",{children:[u.jsx("i",{className:"fa-regular fa-thumbs-up"})," 평점 : ",u.jsx("b",{children:l.vote_average})]})}),u.jsxs("div",{className:"date",children:[u.jsx("i",{className:"fa-regular fa-calendar-days"})," ",u.jsx("b",{children:l.release_date||l.first_air_date})]})]})]}),u.jsx("div",{className:"bts",children:Fe.state.userInfo.uid==t.id&&u.jsx("button",{type:"button",className:"bt",onClick:()=>B.confirm("삭제할까요?",{ybt:"네",nbt:"아니오",ycb:()=>a(s,l)}),children:u.jsx("span",{children:u.jsx("i",{className:"fa-regular fa-close"})})})})]})},l.id+"_"+c)}).reverse()}):u.jsx("div",{className:"nodata",children:u.jsx("p",{children:" 스크랩된 컨텐츠가 없습니다."})})]})}):!1}function ZQ(){const[t,e]=$o(mp);return T.useEffect(()=>()=>{}),u.jsxs(u.Fragment,{children:[u.jsx("p",{children:"팔로우"}),u.jsx("p",{children:"팔로워"}),u.jsx("p",{children:t.state.avatar.map(n=>u.jsx("span",{style:{width:"33%",display:"inline-flex"},children:u.jsx("img",{style:{width:"100%",display:"inline-flex"},src:n})},n))})]})}function eY(){const t=dn();console.log(t),Sn(),un();const e=t.id,[n,r]=T.useState({});$o(mp);const s=async d=>{var p;B.loading.show("glx");const h=ai(li,"member",d),f=await P0(h);f.exists()?r({id:f.id,uid:f.data().uid,nick:f.data().nick,avatar:f.data().avatar,photoURL:f.data().photoURL,email:f.data().email,date:B.dateForm(f.data().date.toDate()),liked:f.data().liked.length,tmdb_movie_scrap:f.data().tmdb_movie_scrap||[],tmdb_tv_scrap:f.data().tmdb_tv_scrap||{}}):console.log("No such document!"),(p=document.querySelector(".page.user"))==null||p.classList.add("load"),document.querySelector(".header .htit").innerText=n.nick||"",B.loading.hide()},[i,o]=T.useState(null),[a,l]=T.useState(null),c=d=>{console.log(d),i.slideToLoop(d)};if(T.useEffect(()=>(s(e),()=>{}),[n.nick,e]),!!n)return u.jsxs(u.Fragment,{children:[u.jsx(us,{}),u.jsx("div",{className:"container page user view",children:u.jsxs("main",{className:"contents",children:[Fe!=null&&Fe.state?u.jsxs("div",{className:"profile",children:[u.jsxs("div",{className:"user",children:[u.jsx(ot,{to:"/user/"+t.id,className:"pic",children:u.jsx("img",{src:Fe.state.avatar[n.avatar]||n.photoURL,className:"img"})}),u.jsxs("div",{className:"info",children:[u.jsxs("div",{className:"num b",children:[u.jsx("b",{className:"n",children:n.bbsNum||0}),u.jsx("p",{className:"t",children:"Post"})]}),u.jsxs("div",{className:"num p",children:[u.jsx("b",{className:"n",children:n.photoNum||0}),u.jsx("p",{className:"t",children:"Reply"})]}),u.jsxs("div",{className:"num l",children:[u.jsx("b",{className:"n",children:n.liked||0}),u.jsx("p",{className:"t",children:"Liked"})]})]})]}),u.jsxs("div",{className:"desc",children:[u.jsxs("span",{className:"txt",children:[u.jsx("i",{className:"fa-regular fa-calendar-days"})," Join : ",n.date]}),n.email&&u.jsxs("span",{className:"txt",children:[u.jsx("i",{className:"fa-regular fa-envelope"})," ",n.email]})]}),Fe.state.userInfo.uid==n.id&&u.jsx("div",{className:"bts",children:u.jsxs(ot,{to:"/user/signout",className:"btn sm logout",children:[u.jsx("i",{className:"fa-regular fa-right-from-bracket"}),"Logout"]})})]}):null,u.jsxs("div",{className:"user-post",children:[u.jsxs("ul",{className:"menu",children:[u.jsx("li",{className:a==0?"active":"",children:u.jsx("button",{type:"button",className:"bt",onClick:()=>c(0),children:u.jsx("span",{children:u.jsx("i",{className:"fa-regular fa-bookmark"})})})}),u.jsx("li",{className:a==1?"active":"",children:u.jsx("button",{type:"button",className:"bt",onClick:()=>c(1),children:u.jsx("span",{children:u.jsx("i",{className:"fa-regular fa-list"})})})}),u.jsx("li",{className:a==2?"active":"",children:u.jsx("button",{type:"button",className:"bt",onClick:()=>c(2),children:u.jsx("span",{children:u.jsx("i",{className:"fa-regular fa-users"})})})})]}),u.jsxs(gu,{className:"swiper-wrapper swiper pctn ",modules:[wp,Tp,Cp,Ip,Rp],spaceBetween:0,slidesPerView:1,loop:!1,autoplay:!1,wrapperTag:"div",initialSlide:0,autoHeight:!0,watchOverflow:!0,observer:!0,observeSlideChildren:!0,observeParents:!0,onSwiper:d=>{console.log("initialize swiper",d),o(d),l(0)},onSlideChange:d=>{console.log("slide change",d.realIndex,d.activeIndex),l(d.realIndex)},children:[u.jsx(Bs,{tag:"section",className:"ctn like",children:u.jsx(JQ,{uInfo:n,swiper:i})}),u.jsx(Bs,{tag:"section",className:"ctn post",children:u.jsx(XQ,{})}),u.jsx(Bs,{tag:"section",className:"ctn repl",children:u.jsx(ZQ,{})})]})]})]})})]})}function tY(){return Fe.authState(),T.useEffect(()=>{const t=rs();return df(t,e=>{e&&JSON.parse(sessionStorage.getItem("user"))}),()=>{}},[]),u.jsx(u.Fragment,{children:u.jsx(b3,{children:u.jsxs(GD,{children:[u.jsxs(rm,{children:[u.jsx(se,{path:"home/*",element:u.jsx(ao,{prop:{headerType:"main"}})}),u.jsx(se,{path:":menu/*",element:u.jsx(ao,{prop:{headerType:"main"}})}),u.jsx(se,{path:"list/*",element:u.jsx(ao,{prop:{headerType:"main"}})}),u.jsx(se,{path:"search/*",element:u.jsx(ao,{prop:{headerType:"main"}})}),u.jsx(se,{path:"movie/*",element:u.jsx(ao,{prop:{headerType:"main"}})}),u.jsx(se,{path:"user",children:u.jsx(se,{path:":id",element:u.jsx(ao,{prop:{headerType:"sub"}})})})]}),u.jsxs(rm,{children:[u.jsx(se,{path:"/",element:u.jsx(FD,{to:"/home/",replace:!0})}),u.jsx(se,{path:"home",element:u.jsx(_C,{})}),u.jsx(se,{path:"home/:menu",element:u.jsx(_C,{}),children:u.jsxs(se,{path:":id",element:u.jsx(rd,{prop:{page:"home"}}),children:[u.jsx(se,{path:"poster/:nums",element:u.jsx(nl,{})}),u.jsx(se,{path:"person/:nums",element:u.jsx(rl,{})}),u.jsx(se,{path:"videos/:nums",element:u.jsx(sl,{})})]})}),u.jsx(se,{path:"list",children:u.jsx(se,{path:":menu",children:u.jsx(se,{path:":cate",element:u.jsx(FQ,{}),children:u.jsxs(se,{path:":id",element:u.jsx(rd,{prop:{page:"search"}}),children:[u.jsx(se,{path:"poster/:nums",element:u.jsx(nl,{})}),u.jsx(se,{path:"person/:nums",element:u.jsx(rl,{})}),u.jsx(se,{path:"videos/:nums",element:u.jsx(sl,{})})]})})})}),u.jsxs(se,{path:":menu",children:[u.jsx(se,{path:"*",element:u.jsx(yC,{})}),u.jsxs(se,{path:":id",element:u.jsx(WQ,{prop:{page:"page"}}),children:[u.jsx(se,{path:"poster/:nums",element:u.jsx(nl,{})}),u.jsx(se,{path:"person/:nums",element:u.jsx(rl,{})}),u.jsx(se,{path:"videos/:nums",element:u.jsx(sl,{})})]})]}),u.jsx(se,{path:"search",children:u.jsxs(se,{path:":menu",element:u.jsx(EC,{}),children:[u.jsxs(se,{path:":id",element:u.jsx(rd,{prop:{page:"search"}}),children:[u.jsx(se,{path:"poster/:nums",element:u.jsx(nl,{prop:{page:"search"}})}),u.jsx(se,{path:"person/:nums",element:u.jsx(rl,{prop:{page:"search"}})}),u.jsx(se,{path:"videos/:nums",element:u.jsx(sl,{prop:{page:"search"}})})]}),u.jsx(se,{path:":keyword",element:u.jsx(EC,{})})]})}),u.jsxs(se,{path:"user",children:[u.jsx(se,{path:"*",element:u.jsx(yC,{})}),u.jsx(se,{path:"signin",element:u.jsx(GQ,{})}),u.jsx(se,{path:"signout",element:u.jsx(QQ,{})}),u.jsx(se,{path:"signup",element:u.jsx(YQ,{})}),u.jsx(se,{path:":id",element:u.jsx(eY,{}),children:u.jsx(se,{path:":menu",children:u.jsxs(se,{path:":id",element:u.jsx(rd,{prop:{page:"search"}}),children:[u.jsx(se,{path:"poster/:nums",element:u.jsx(nl,{})}),u.jsx(se,{path:"person/:nums",element:u.jsx(rl,{})}),u.jsx(se,{path:"videos/:nums",element:u.jsx(sl,{})})]})})})]}),u.jsx(se,{path:"snslogin",element:u.jsx(KQ,{})})]}),u.jsxs(rm,{children:[u.jsx(se,{path:"home/*",element:u.jsx(lo,{})}),u.jsx(se,{path:":menu/*",element:u.jsx(lo,{})}),u.jsx(se,{path:"list/*",element:u.jsx(lo,{})}),u.jsx(se,{path:"search/*",element:u.jsx(lo,{})}),u.jsx(se,{path:"movie/*",element:u.jsx(lo,{})}),u.jsx(se,{path:"user",children:u.jsx(se,{path:":id",element:u.jsx(lo,{})})})]})]})})})}Ym.createRoot(document.getElementById("root")).render(u.jsx(fe.StrictMode,{children:u.jsx(tY,{})}));

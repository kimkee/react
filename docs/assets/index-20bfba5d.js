function IP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function yC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EC={exports:{}},Bh={},SC={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),xP=Symbol.for("react.portal"),NP=Symbol.for("react.fragment"),bP=Symbol.for("react.strict_mode"),AP=Symbol.for("react.profiler"),kP=Symbol.for("react.provider"),PP=Symbol.for("react.context"),LP=Symbol.for("react.forward_ref"),OP=Symbol.for("react.suspense"),DP=Symbol.for("react.memo"),MP=Symbol.for("react.lazy"),dE=Symbol.iterator;function jP(t){return t===null||typeof t!="object"?null:(t=dE&&t[dE]||t["@@iterator"],typeof t=="function"?t:null)}var wC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},TC=Object.assign,CC={};function va(t,e,n){this.props=t,this.context=e,this.refs=CC,this.updater=n||wC}va.prototype.isReactComponent={};va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function RC(){}RC.prototype=va.prototype;function r_(t,e,n){this.props=t,this.context=e,this.refs=CC,this.updater=n||wC}var s_=r_.prototype=new RC;s_.constructor=r_;TC(s_,va.prototype);s_.isPureReactComponent=!0;var hE=Array.isArray,IC=Object.prototype.hasOwnProperty,i_={current:null},xC={key:!0,ref:!0,__self:!0,__source:!0};function NC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)IC.call(e,r)&&!xC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ac,type:t,key:i,ref:o,props:s,_owner:i_.current}}function $P(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function o_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function VP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var fE=/\/+/g;function kp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?VP(""+t.key):e.toString(36)}function sd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ac:case xP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+kp(o,0):r,hE(s)?(n="",t!=null&&(n=t.replace(fE,"$&/")+"/"),sd(s,e,n,"",function(c){return c})):s!=null&&(o_(s)&&(s=$P(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(fE,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",hE(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+kp(i,a);o+=sd(i,e,n,l,s)}else if(l=jP(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+kp(i,a++),o+=sd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Eu(t,e,n){if(t==null)return t;var r=[],s=0;return sd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function FP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},id={transition:null},UP={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:id,ReactCurrentOwner:i_};Ie.Children={map:Eu,forEach:function(t,e,n){Eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Eu(t,function(){e++}),e},toArray:function(t){return Eu(t,function(e){return e})||[]},only:function(t){if(!o_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=va;Ie.Fragment=NP;Ie.Profiler=AP;Ie.PureComponent=r_;Ie.StrictMode=bP;Ie.Suspense=OP;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=UP;Ie.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=TC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=i_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)IC.call(e,l)&&!xC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ac,type:t.type,key:s,ref:i,props:r,_owner:o}};Ie.createContext=function(t){return t={$$typeof:PP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kP,_context:t},t.Consumer=t};Ie.createElement=NC;Ie.createFactory=function(t){var e=NC.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:LP,render:t}};Ie.isValidElement=o_;Ie.lazy=function(t){return{$$typeof:MP,_payload:{_status:-1,_result:t},_init:FP}};Ie.memo=function(t,e){return{$$typeof:DP,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=id.transition;id.transition={};try{t()}finally{id.transition=e}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(t,e){return ln.current.useCallback(t,e)};Ie.useContext=function(t){return ln.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return ln.current.useEffect(t,e)};Ie.useId=function(){return ln.current.useId()};Ie.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};Ie.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return ln.current.useMemo(t,e)};Ie.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};Ie.useRef=function(t){return ln.current.useRef(t)};Ie.useState=function(t){return ln.current.useState(t)};Ie.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};Ie.useTransition=function(){return ln.current.useTransition()};Ie.version="18.2.0";SC.exports=Ie;var T=SC.exports;const fe=yC(T),BP=IP({__proto__:null,default:fe},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zP=T,HP=Symbol.for("react.element"),WP=Symbol.for("react.fragment"),qP=Object.prototype.hasOwnProperty,GP=zP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,KP={key:!0,ref:!0,__self:!0,__source:!0};function bC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)qP.call(e,r)&&!KP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:HP,type:t,key:i,ref:o,props:s,_owner:GP.current}}Bh.Fragment=WP;Bh.jsx=bC;Bh.jsxs=bC;EC.exports=Bh;var d=EC.exports,Xm={},AC={exports:{}},Pn={},kC={exports:{}},PC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,D){var W=M.length;M.push(D);e:for(;0<W;){var ie=W-1>>>1,R=M[ie];if(0<s(R,D))M[ie]=D,M[W]=R,W=ie;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var D=M[0],W=M.pop();if(W!==D){M[0]=W;e:for(var ie=0,R=M.length,j=R>>>1;ie<j;){var $=2*(ie+1)-1,ne=M[$],J=$+1,ve=M[J];if(0>s(ne,W))J<R&&0>s(ve,ne)?(M[ie]=ve,M[J]=W,ie=J):(M[ie]=ne,M[$]=W,ie=$);else if(J<R&&0>s(ve,W))M[ie]=ve,M[J]=W,ie=J;else break e}}return D}function s(M,D){var W=M.sortIndex-D.sortIndex;return W!==0?W:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=M)r(c),D.sortIndex=D.expirationTime,e(l,D);else break;D=n(c)}}function S(M){if(g=!1,y(M),!m)if(n(l)!==null)m=!0,Ee(w);else{var D=n(c);D!==null&&we(S,D.startTime-M)}}function w(M,D){m=!1,g&&(g=!1,v(k),k=-1),p=!0;var W=f;try{for(y(D),h=n(l);h!==null&&(!(h.expirationTime>D)||M&&!P());){var ie=h.callback;if(typeof ie=="function"){h.callback=null,f=h.priorityLevel;var R=ie(h.expirationTime<=D);D=t.unstable_now(),typeof R=="function"?h.callback=R:h===n(l)&&r(l),y(D)}else r(l);h=n(l)}if(h!==null)var j=!0;else{var $=n(c);$!==null&&we(S,$.startTime-D),j=!1}return j}finally{h=null,f=W,p=!1}}var x=!1,b=null,k=-1,q=5,O=-1;function P(){return!(t.unstable_now()-O<q)}function N(){if(b!==null){var M=t.unstable_now();O=M;var D=!0;try{D=b(!0,M)}finally{D?A():(x=!1,b=null)}}else x=!1}var A;if(typeof _=="function")A=function(){_(N)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,re=H.port2;H.port1.onmessage=N,A=function(){re.postMessage(null)}}else A=function(){E(N,0)};function Ee(M){b=M,x||(x=!0,A())}function we(M,D){k=E(function(){M(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Ee(w))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var D=3;break;default:D=f}var W=f;f=D;try{return M()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=f;f=M;try{return D()}finally{f=W}},t.unstable_scheduleCallback=function(M,D,W){var ie=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ie+W:ie):W=ie,M){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=W+R,M={id:u++,callback:D,priorityLevel:M,startTime:W,expirationTime:R,sortIndex:-1},W>ie?(M.sortIndex=W,e(c,M),n(l)===null&&M===n(c)&&(g?(v(k),k=-1):g=!0,we(S,W-ie))):(M.sortIndex=R,e(l,M),m||p||(m=!0,Ee(w))),M},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(M){var D=f;return function(){var W=f;f=D;try{return M.apply(this,arguments)}finally{f=W}}}})(PC);kC.exports=PC;var QP=kC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LC=T,An=QP;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var OC=new Set,Fl={};function qi(t,e){Wo(t,e),Wo(t+"Capture",e)}function Wo(t,e){for(Fl[t]=e,t=0;t<e.length;t++)OC.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jm=Object.prototype.hasOwnProperty,YP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,pE={},mE={};function XP(t){return Jm.call(mE,t)?!0:Jm.call(pE,t)?!1:YP.test(t)?mE[t]=!0:(pE[t]=!0,!1)}function JP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ZP(t,e,n,r){if(e===null||typeof e>"u"||JP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var a_=/[\-:]([a-z])/g;function l_(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(a_,l_);$t[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(a_,l_);$t[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(a_,l_);$t[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function c_(t,e,n,r){var s=$t.hasOwnProperty(e)?$t[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ZP(e,n,s,r)&&(n=null),r||s===null?XP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var os=LC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Su=Symbol.for("react.element"),fo=Symbol.for("react.portal"),po=Symbol.for("react.fragment"),u_=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),DC=Symbol.for("react.provider"),MC=Symbol.for("react.context"),d_=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),h_=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),jC=Symbol.for("react.offscreen"),gE=Symbol.iterator;function ja(t){return t===null||typeof t!="object"?null:(t=gE&&t[gE]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Pp;function ol(t){if(Pp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Pp=e&&e[1]||""}return`
`+Pp+t}var Lp=!1;function Op(t,e){if(!t||Lp)return"";Lp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Lp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ol(t):""}function eL(t){switch(t.tag){case 5:return ol(t.type);case 16:return ol("Lazy");case 13:return ol("Suspense");case 19:return ol("SuspenseList");case 0:case 2:case 15:return t=Op(t.type,!1),t;case 11:return t=Op(t.type.render,!1),t;case 1:return t=Op(t.type,!0),t;default:return""}}function ng(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case po:return"Fragment";case fo:return"Portal";case Zm:return"Profiler";case u_:return"StrictMode";case eg:return"Suspense";case tg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case MC:return(t.displayName||"Context")+".Consumer";case DC:return(t._context.displayName||"Context")+".Provider";case d_:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case h_:return e=t.displayName||null,e!==null?e:ng(t.type)||"Memo";case ms:e=t._payload,t=t._init;try{return ng(t(e))}catch{}}return null}function tL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ng(e);case 8:return e===u_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $C(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function nL(t){var e=$C(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function wu(t){t._valueTracker||(t._valueTracker=nL(t))}function VC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$C(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rg(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function vE(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function FC(t,e){e=e.checked,e!=null&&c_(t,"checked",e,!1)}function sg(t,e){FC(t,e);var n=Hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ig(t,e.type,n):e.hasOwnProperty("defaultValue")&&ig(t,e.type,Hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _E(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ig(t,e,n){(e!=="number"||Nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var al=Array.isArray;function bo(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function og(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(al(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hs(n)}}function UC(t,e){var n=Hs(e.value),r=Hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function EE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function BC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ag(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?BC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Tu,zC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Tu=Tu||document.createElement("div"),Tu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Tu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rL=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(t){rL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vl[e]=vl[t]})});function HC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vl.hasOwnProperty(t)&&vl[t]?(""+e).trim():e+"px"}function WC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=HC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sL=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lg(t,e){if(e){if(sL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function cg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ug=null;function f_(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dg=null,Ao=null,ko=null;function SE(t){if(t=Lc(t)){if(typeof dg!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Gh(e),dg(t.stateNode,t.type,e))}}function qC(t){Ao?ko?ko.push(t):ko=[t]:Ao=t}function GC(){if(Ao){var t=Ao,e=ko;if(ko=Ao=null,SE(t),e)for(t=0;t<e.length;t++)SE(e[t])}}function KC(t,e){return t(e)}function QC(){}var Dp=!1;function YC(t,e,n){if(Dp)return t(e,n);Dp=!0;try{return KC(t,e,n)}finally{Dp=!1,(Ao!==null||ko!==null)&&(QC(),GC())}}function Bl(t,e){var n=t.stateNode;if(n===null)return null;var r=Gh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var hg=!1;if(Kr)try{var $a={};Object.defineProperty($a,"passive",{get:function(){hg=!0}}),window.addEventListener("test",$a,$a),window.removeEventListener("test",$a,$a)}catch{hg=!1}function iL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var _l=!1,bd=null,Ad=!1,fg=null,oL={onError:function(t){_l=!0,bd=t}};function aL(t,e,n,r,s,i,o,a,l){_l=!1,bd=null,iL.apply(oL,arguments)}function lL(t,e,n,r,s,i,o,a,l){if(aL.apply(this,arguments),_l){if(_l){var c=bd;_l=!1,bd=null}else throw Error(U(198));Ad||(Ad=!0,fg=c)}}function Gi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function XC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wE(t){if(Gi(t)!==t)throw Error(U(188))}function cL(t){var e=t.alternate;if(!e){if(e=Gi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wE(s),t;if(i===r)return wE(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function JC(t){return t=cL(t),t!==null?ZC(t):null}function ZC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ZC(t);if(e!==null)return e;t=t.sibling}return null}var eR=An.unstable_scheduleCallback,TE=An.unstable_cancelCallback,uL=An.unstable_shouldYield,dL=An.unstable_requestPaint,ut=An.unstable_now,hL=An.unstable_getCurrentPriorityLevel,p_=An.unstable_ImmediatePriority,tR=An.unstable_UserBlockingPriority,kd=An.unstable_NormalPriority,fL=An.unstable_LowPriority,nR=An.unstable_IdlePriority,zh=null,vr=null;function pL(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(zh,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:vL,mL=Math.log,gL=Math.LN2;function vL(t){return t>>>=0,t===0?32:31-(mL(t)/gL|0)|0}var Cu=64,Ru=4194304;function ll(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Pd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ll(a):(i&=o,i!==0&&(r=ll(i)))}else o=n&~s,o!==0?r=ll(o):i!==0&&(r=ll(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),s=1<<n,r|=t[n],e&=~s;return r}function _L(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-sr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=_L(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function pg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rR(){var t=Cu;return Cu<<=1,!(Cu&4194240)&&(Cu=64),t}function Mp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function kc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function EL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-sr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function m_(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function sR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iR,g_,oR,aR,lR,mg=!1,Iu=[],bs=null,As=null,ks=null,zl=new Map,Hl=new Map,_s=[],SL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CE(t,e){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(e.pointerId)}}function Va(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Lc(e),e!==null&&g_(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function wL(t,e,n,r,s){switch(e){case"focusin":return bs=Va(bs,t,e,n,r,s),!0;case"dragenter":return As=Va(As,t,e,n,r,s),!0;case"mouseover":return ks=Va(ks,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return zl.set(i,Va(zl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hl.set(i,Va(Hl.get(i)||null,t,e,n,r,s)),!0}return!1}function cR(t){var e=gi(t.target);if(e!==null){var n=Gi(e);if(n!==null){if(e=n.tag,e===13){if(e=XC(n),e!==null){t.blockedOn=e,lR(t.priority,function(){oR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function od(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ug=r,n.target.dispatchEvent(r),ug=null}else return e=Lc(n),e!==null&&g_(e),t.blockedOn=n,!1;e.shift()}return!0}function RE(t,e,n){od(t)&&n.delete(e)}function TL(){mg=!1,bs!==null&&od(bs)&&(bs=null),As!==null&&od(As)&&(As=null),ks!==null&&od(ks)&&(ks=null),zl.forEach(RE),Hl.forEach(RE)}function Fa(t,e){t.blockedOn===e&&(t.blockedOn=null,mg||(mg=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,TL)))}function Wl(t){function e(s){return Fa(s,t)}if(0<Iu.length){Fa(Iu[0],t);for(var n=1;n<Iu.length;n++){var r=Iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bs!==null&&Fa(bs,t),As!==null&&Fa(As,t),ks!==null&&Fa(ks,t),zl.forEach(e),Hl.forEach(e),n=0;n<_s.length;n++)r=_s[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<_s.length&&(n=_s[0],n.blockedOn===null);)cR(n),n.blockedOn===null&&_s.shift()}var Po=os.ReactCurrentBatchConfig,Ld=!0;function CL(t,e,n,r){var s=Me,i=Po.transition;Po.transition=null;try{Me=1,v_(t,e,n,r)}finally{Me=s,Po.transition=i}}function RL(t,e,n,r){var s=Me,i=Po.transition;Po.transition=null;try{Me=4,v_(t,e,n,r)}finally{Me=s,Po.transition=i}}function v_(t,e,n,r){if(Ld){var s=gg(t,e,n,r);if(s===null)qp(t,e,r,Od,n),CE(t,r);else if(wL(s,t,e,n,r))r.stopPropagation();else if(CE(t,r),e&4&&-1<SL.indexOf(t)){for(;s!==null;){var i=Lc(s);if(i!==null&&iR(i),i=gg(t,e,n,r),i===null&&qp(t,e,r,Od,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else qp(t,e,r,null,n)}}var Od=null;function gg(t,e,n,r){if(Od=null,t=f_(r),t=gi(t),t!==null)if(e=Gi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=XC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Od=t,null}function uR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hL()){case p_:return 1;case tR:return 4;case kd:case fL:return 16;case nR:return 536870912;default:return 16}default:return 16}}var Ts=null,__=null,ad=null;function dR(){if(ad)return ad;var t,e=__,n=e.length,r,s="value"in Ts?Ts.value:Ts.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ad=s.slice(t,1<r?1-r:void 0)}function ld(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xu(){return!0}function IE(){return!1}function Ln(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xu:IE,this.isPropagationStopped=IE,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},y_=Ln(_a),Pc=it({},_a,{view:0,detail:0}),IL=Ln(Pc),jp,$p,Ua,Hh=it({},Pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:E_,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ua&&(Ua&&t.type==="mousemove"?(jp=t.screenX-Ua.screenX,$p=t.screenY-Ua.screenY):$p=jp=0,Ua=t),jp)},movementY:function(t){return"movementY"in t?t.movementY:$p}}),xE=Ln(Hh),xL=it({},Hh,{dataTransfer:0}),NL=Ln(xL),bL=it({},Pc,{relatedTarget:0}),Vp=Ln(bL),AL=it({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),kL=Ln(AL),PL=it({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),LL=Ln(PL),OL=it({},_a,{data:0}),NE=Ln(OL),DL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ML={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $L(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=jL[t])?!!e[t]:!1}function E_(){return $L}var VL=it({},Pc,{key:function(t){if(t.key){var e=DL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ld(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ML[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:E_,charCode:function(t){return t.type==="keypress"?ld(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ld(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),FL=Ln(VL),UL=it({},Hh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bE=Ln(UL),BL=it({},Pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:E_}),zL=Ln(BL),HL=it({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),WL=Ln(HL),qL=it({},Hh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GL=Ln(qL),KL=[9,13,27,32],S_=Kr&&"CompositionEvent"in window,yl=null;Kr&&"documentMode"in document&&(yl=document.documentMode);var QL=Kr&&"TextEvent"in window&&!yl,hR=Kr&&(!S_||yl&&8<yl&&11>=yl),AE=String.fromCharCode(32),kE=!1;function fR(t,e){switch(t){case"keyup":return KL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pR(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mo=!1;function YL(t,e){switch(t){case"compositionend":return pR(e);case"keypress":return e.which!==32?null:(kE=!0,AE);case"textInput":return t=e.data,t===AE&&kE?null:t;default:return null}}function XL(t,e){if(mo)return t==="compositionend"||!S_&&fR(t,e)?(t=dR(),ad=__=Ts=null,mo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hR&&e.locale!=="ko"?null:e.data;default:return null}}var JL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function PE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!JL[t.type]:e==="textarea"}function mR(t,e,n,r){qC(r),e=Dd(e,"onChange"),0<e.length&&(n=new y_("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var El=null,ql=null;function ZL(t){IR(t,0)}function Wh(t){var e=_o(t);if(VC(e))return t}function eO(t,e){if(t==="change")return e}var gR=!1;if(Kr){var Fp;if(Kr){var Up="oninput"in document;if(!Up){var LE=document.createElement("div");LE.setAttribute("oninput","return;"),Up=typeof LE.oninput=="function"}Fp=Up}else Fp=!1;gR=Fp&&(!document.documentMode||9<document.documentMode)}function OE(){El&&(El.detachEvent("onpropertychange",vR),ql=El=null)}function vR(t){if(t.propertyName==="value"&&Wh(ql)){var e=[];mR(e,ql,t,f_(t)),YC(ZL,e)}}function tO(t,e,n){t==="focusin"?(OE(),El=e,ql=n,El.attachEvent("onpropertychange",vR)):t==="focusout"&&OE()}function nO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wh(ql)}function rO(t,e){if(t==="click")return Wh(e)}function sO(t,e){if(t==="input"||t==="change")return Wh(e)}function iO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:iO;function Gl(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jm.call(e,s)||!ar(t[s],e[s]))return!1}return!0}function DE(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ME(t,e){var n=DE(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=DE(n)}}function _R(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_R(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yR(){for(var t=window,e=Nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Nd(t.document)}return e}function w_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function oO(t){var e=yR(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_R(n.ownerDocument.documentElement,n)){if(r!==null&&w_(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ME(n,i);var o=ME(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var aO=Kr&&"documentMode"in document&&11>=document.documentMode,go=null,vg=null,Sl=null,_g=!1;function jE(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_g||go==null||go!==Nd(r)||(r=go,"selectionStart"in r&&w_(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sl&&Gl(Sl,r)||(Sl=r,r=Dd(vg,"onSelect"),0<r.length&&(e=new y_("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=go)))}function Nu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var vo={animationend:Nu("Animation","AnimationEnd"),animationiteration:Nu("Animation","AnimationIteration"),animationstart:Nu("Animation","AnimationStart"),transitionend:Nu("Transition","TransitionEnd")},Bp={},ER={};Kr&&(ER=document.createElement("div").style,"AnimationEvent"in window||(delete vo.animationend.animation,delete vo.animationiteration.animation,delete vo.animationstart.animation),"TransitionEvent"in window||delete vo.transitionend.transition);function qh(t){if(Bp[t])return Bp[t];if(!vo[t])return t;var e=vo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ER)return Bp[t]=e[n];return t}var SR=qh("animationend"),wR=qh("animationiteration"),TR=qh("animationstart"),CR=qh("transitionend"),RR=new Map,$E="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(t,e){RR.set(t,e),qi(e,[t])}for(var zp=0;zp<$E.length;zp++){var Hp=$E[zp],lO=Hp.toLowerCase(),cO=Hp[0].toUpperCase()+Hp.slice(1);Xs(lO,"on"+cO)}Xs(SR,"onAnimationEnd");Xs(wR,"onAnimationIteration");Xs(TR,"onAnimationStart");Xs("dblclick","onDoubleClick");Xs("focusin","onFocus");Xs("focusout","onBlur");Xs(CR,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),uO=new Set("cancel close invalid load scroll toggle".split(" ").concat(cl));function VE(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,lL(r,e,void 0,t),t.currentTarget=null}function IR(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;VE(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;VE(s,a,c),i=l}}}if(Ad)throw t=fg,Ad=!1,fg=null,t}function ze(t,e){var n=e[Tg];n===void 0&&(n=e[Tg]=new Set);var r=t+"__bubble";n.has(r)||(xR(e,t,2,!1),n.add(r))}function Wp(t,e,n){var r=0;e&&(r|=4),xR(n,t,r,e)}var bu="_reactListening"+Math.random().toString(36).slice(2);function Kl(t){if(!t[bu]){t[bu]=!0,OC.forEach(function(n){n!=="selectionchange"&&(uO.has(n)||Wp(n,!1,t),Wp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bu]||(e[bu]=!0,Wp("selectionchange",!1,e))}}function xR(t,e,n,r){switch(uR(e)){case 1:var s=CL;break;case 4:s=RL;break;default:s=v_}n=s.bind(null,e,n,t),s=void 0,!hg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function qp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=gi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}YC(function(){var c=i,u=f_(n),h=[];e:{var f=RR.get(t);if(f!==void 0){var p=y_,m=t;switch(t){case"keypress":if(ld(n)===0)break e;case"keydown":case"keyup":p=FL;break;case"focusin":m="focus",p=Vp;break;case"focusout":m="blur",p=Vp;break;case"beforeblur":case"afterblur":p=Vp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=NL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=zL;break;case SR:case wR:case TR:p=kL;break;case CR:p=WL;break;case"scroll":p=IL;break;case"wheel":p=GL;break;case"copy":case"cut":case"paste":p=LL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=bE}var g=(e&4)!==0,E=!g&&t==="scroll",v=g?f!==null?f+"Capture":null:f;g=[];for(var _=c,y;_!==null;){y=_;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,v!==null&&(S=Bl(_,v),S!=null&&g.push(Ql(_,S,y)))),E)break;_=_.return}0<g.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==ug&&(m=n.relatedTarget||n.fromElement)&&(gi(m)||m[Qr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?gi(m):null,m!==null&&(E=Gi(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=xE,S="onMouseLeave",v="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(g=bE,S="onPointerLeave",v="onPointerEnter",_="pointer"),E=p==null?f:_o(p),y=m==null?f:_o(m),f=new g(S,_+"leave",p,n,u),f.target=E,f.relatedTarget=y,S=null,gi(u)===c&&(g=new g(v,_+"enter",m,n,u),g.target=y,g.relatedTarget=E,S=g),E=S,p&&m)t:{for(g=p,v=m,_=0,y=g;y;y=ro(y))_++;for(y=0,S=v;S;S=ro(S))y++;for(;0<_-y;)g=ro(g),_--;for(;0<y-_;)v=ro(v),y--;for(;_--;){if(g===v||v!==null&&g===v.alternate)break t;g=ro(g),v=ro(v)}g=null}else g=null;p!==null&&FE(h,f,p,g,!1),m!==null&&E!==null&&FE(h,E,m,g,!0)}}e:{if(f=c?_o(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=eO;else if(PE(f))if(gR)w=sO;else{w=nO;var x=tO}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=rO);if(w&&(w=w(t,c))){mR(h,w,n,u);break e}x&&x(t,f,c),t==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&ig(f,"number",f.value)}switch(x=c?_o(c):window,t){case"focusin":(PE(x)||x.contentEditable==="true")&&(go=x,vg=c,Sl=null);break;case"focusout":Sl=vg=go=null;break;case"mousedown":_g=!0;break;case"contextmenu":case"mouseup":case"dragend":_g=!1,jE(h,n,u);break;case"selectionchange":if(aO)break;case"keydown":case"keyup":jE(h,n,u)}var b;if(S_)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else mo?fR(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(hR&&n.locale!=="ko"&&(mo||k!=="onCompositionStart"?k==="onCompositionEnd"&&mo&&(b=dR()):(Ts=u,__="value"in Ts?Ts.value:Ts.textContent,mo=!0)),x=Dd(c,k),0<x.length&&(k=new NE(k,t,null,n,u),h.push({event:k,listeners:x}),b?k.data=b:(b=pR(n),b!==null&&(k.data=b)))),(b=QL?YL(t,n):XL(t,n))&&(c=Dd(c,"onBeforeInput"),0<c.length&&(u=new NE("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=b))}IR(h,e)})}function Ql(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bl(t,n),i!=null&&r.unshift(Ql(t,i,s)),i=Bl(t,e),i!=null&&r.push(Ql(t,i,s))),t=t.return}return r}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function FE(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Bl(n,i),l!=null&&o.unshift(Ql(n,l,a))):s||(l=Bl(n,i),l!=null&&o.push(Ql(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dO=/\r\n?/g,hO=/\u0000|\uFFFD/g;function UE(t){return(typeof t=="string"?t:""+t).replace(dO,`
`).replace(hO,"")}function Au(t,e,n){if(e=UE(e),UE(t)!==e&&n)throw Error(U(425))}function Md(){}var yg=null,Eg=null;function Sg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wg=typeof setTimeout=="function"?setTimeout:void 0,fO=typeof clearTimeout=="function"?clearTimeout:void 0,BE=typeof Promise=="function"?Promise:void 0,pO=typeof queueMicrotask=="function"?queueMicrotask:typeof BE<"u"?function(t){return BE.resolve(null).then(t).catch(mO)}:wg;function mO(t){setTimeout(function(){throw t})}function Gp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Wl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wl(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function zE(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ya=Math.random().toString(36).slice(2),dr="__reactFiber$"+ya,Yl="__reactProps$"+ya,Qr="__reactContainer$"+ya,Tg="__reactEvents$"+ya,gO="__reactListeners$"+ya,vO="__reactHandles$"+ya;function gi(t){var e=t[dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=zE(t);t!==null;){if(n=t[dr])return n;t=zE(t)}return e}t=n,n=t.parentNode}return null}function Lc(t){return t=t[dr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Gh(t){return t[Yl]||null}var Cg=[],yo=-1;function Js(t){return{current:t}}function Ke(t){0>yo||(t.current=Cg[yo],Cg[yo]=null,yo--)}function Be(t,e){yo++,Cg[yo]=t.current,t.current=e}var Ws={},en=Js(Ws),vn=Js(!1),Ni=Ws;function qo(t,e){var n=t.type.contextTypes;if(!n)return Ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _n(t){return t=t.childContextTypes,t!=null}function jd(){Ke(vn),Ke(en)}function HE(t,e,n){if(en.current!==Ws)throw Error(U(168));Be(en,e),Be(vn,n)}function NR(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,tL(t)||"Unknown",s));return it({},n,r)}function $d(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ws,Ni=en.current,Be(en,t),Be(vn,vn.current),!0}function WE(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=NR(t,e,Ni),r.__reactInternalMemoizedMergedChildContext=t,Ke(vn),Ke(en),Be(en,t)):Ke(vn),Be(vn,n)}var Mr=null,Kh=!1,Kp=!1;function bR(t){Mr===null?Mr=[t]:Mr.push(t)}function _O(t){Kh=!0,bR(t)}function Zs(){if(!Kp&&Mr!==null){Kp=!0;var t=0,e=Me;try{var n=Mr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,Kh=!1}catch(s){throw Mr!==null&&(Mr=Mr.slice(t+1)),eR(p_,Zs),s}finally{Me=e,Kp=!1}}return null}var Eo=[],So=0,Vd=null,Fd=0,Mn=[],jn=0,bi=null,Vr=1,Fr="";function di(t,e){Eo[So++]=Fd,Eo[So++]=Vd,Vd=t,Fd=e}function AR(t,e,n){Mn[jn++]=Vr,Mn[jn++]=Fr,Mn[jn++]=bi,bi=t;var r=Vr;t=Fr;var s=32-sr(r)-1;r&=~(1<<s),n+=1;var i=32-sr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vr=1<<32-sr(e)+s|n<<s|r,Fr=i+t}else Vr=1<<i|n<<s|r,Fr=t}function T_(t){t.return!==null&&(di(t,1),AR(t,1,0))}function C_(t){for(;t===Vd;)Vd=Eo[--So],Eo[So]=null,Fd=Eo[--So],Eo[So]=null;for(;t===bi;)bi=Mn[--jn],Mn[jn]=null,Fr=Mn[--jn],Mn[jn]=null,Vr=Mn[--jn],Mn[jn]=null}var xn=null,Rn=null,et=!1,er=null;function kR(t,e){var n=Fn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function qE(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xn=t,Rn=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xn=t,Rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bi!==null?{id:Vr,overflow:Fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Fn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xn=t,Rn=null,!0):!1;default:return!1}}function Rg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ig(t){if(et){var e=Rn;if(e){var n=e;if(!qE(t,e)){if(Rg(t))throw Error(U(418));e=Ps(n.nextSibling);var r=xn;e&&qE(t,e)?kR(r,n):(t.flags=t.flags&-4097|2,et=!1,xn=t)}}else{if(Rg(t))throw Error(U(418));t.flags=t.flags&-4097|2,et=!1,xn=t}}}function GE(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xn=t}function ku(t){if(t!==xn)return!1;if(!et)return GE(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sg(t.type,t.memoizedProps)),e&&(e=Rn)){if(Rg(t))throw PR(),Error(U(418));for(;e;)kR(t,e),e=Ps(e.nextSibling)}if(GE(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Rn=Ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Rn=null}}else Rn=xn?Ps(t.stateNode.nextSibling):null;return!0}function PR(){for(var t=Rn;t;)t=Ps(t.nextSibling)}function Go(){Rn=xn=null,et=!1}function R_(t){er===null?er=[t]:er.push(t)}var yO=os.ReactCurrentBatchConfig;function Jn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ud=Js(null),Bd=null,wo=null,I_=null;function x_(){I_=wo=Bd=null}function N_(t){var e=Ud.current;Ke(Ud),t._currentValue=e}function xg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Lo(t,e){Bd=t,I_=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(mn=!0),t.firstContext=null)}function Wn(t){var e=t._currentValue;if(I_!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(Bd===null)throw Error(U(308));wo=t,Bd.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var vi=null;function b_(t){vi===null?vi=[t]:vi.push(t)}function LR(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,b_(e)):(n.next=s.next,s.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gs=!1;function A_(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function OR(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Wr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Yr(t,n)}return s=r.interleaved,s===null?(e.next=e,b_(r)):(e.next=s.next,s.next=e),r.interleaved=e,Yr(t,n)}function cd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m_(t,n)}}function KE(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function zd(t,e,n,r){var s=t.updateQueue;gs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=it({},h,f);break e;case 2:gs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ki|=o,t.lanes=o,t.memoizedState=h}}function QE(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var DR=new LC.Component().refs;function Ng(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qh={isMounted:function(t){return(t=t._reactInternals)?Gi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ds(t),i=Wr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(ir(e,t,s,r),cd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ds(t),i=Wr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(ir(e,t,s,r),cd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Ds(t),s=Wr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ls(t,s,r),e!==null&&(ir(e,t,r,n),cd(e,t,r))}};function YE(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Gl(n,r)||!Gl(s,i):!0}function MR(t,e,n){var r=!1,s=Ws,i=e.contextType;return typeof i=="object"&&i!==null?i=Wn(i):(s=_n(e)?Ni:en.current,r=e.contextTypes,i=(r=r!=null)?qo(t,s):Ws),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function XE(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qh.enqueueReplaceState(e,e.state,null)}function bg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=DR,A_(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Wn(i):(i=_n(e)?Ni:en.current,s.context=qo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ng(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Qh.enqueueReplaceState(s,s.state,null),zd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ba(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===DR&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Pu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function JE(t){var e=t._init;return e(t._payload)}function jR(t){function e(v,_){if(t){var y=v.deletions;y===null?(v.deletions=[_],v.flags|=16):y.push(_)}}function n(v,_){if(!t)return null;for(;_!==null;)e(v,_),_=_.sibling;return null}function r(v,_){for(v=new Map;_!==null;)_.key!==null?v.set(_.key,_):v.set(_.index,_),_=_.sibling;return v}function s(v,_){return v=Ms(v,_),v.index=0,v.sibling=null,v}function i(v,_,y){return v.index=y,t?(y=v.alternate,y!==null?(y=y.index,y<_?(v.flags|=2,_):y):(v.flags|=2,_)):(v.flags|=1048576,_)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,_,y,S){return _===null||_.tag!==6?(_=tm(y,v.mode,S),_.return=v,_):(_=s(_,y),_.return=v,_)}function l(v,_,y,S){var w=y.type;return w===po?u(v,_,y.props.children,S,y.key):_!==null&&(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ms&&JE(w)===_.type)?(S=s(_,y.props),S.ref=Ba(v,_,y),S.return=v,S):(S=md(y.type,y.key,y.props,null,v.mode,S),S.ref=Ba(v,_,y),S.return=v,S)}function c(v,_,y,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==y.containerInfo||_.stateNode.implementation!==y.implementation?(_=nm(y,v.mode,S),_.return=v,_):(_=s(_,y.children||[]),_.return=v,_)}function u(v,_,y,S,w){return _===null||_.tag!==7?(_=Ci(y,v.mode,S,w),_.return=v,_):(_=s(_,y),_.return=v,_)}function h(v,_,y){if(typeof _=="string"&&_!==""||typeof _=="number")return _=tm(""+_,v.mode,y),_.return=v,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Su:return y=md(_.type,_.key,_.props,null,v.mode,y),y.ref=Ba(v,null,_),y.return=v,y;case fo:return _=nm(_,v.mode,y),_.return=v,_;case ms:var S=_._init;return h(v,S(_._payload),y)}if(al(_)||ja(_))return _=Ci(_,v.mode,y,null),_.return=v,_;Pu(v,_)}return null}function f(v,_,y,S){var w=_!==null?_.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:a(v,_,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Su:return y.key===w?l(v,_,y,S):null;case fo:return y.key===w?c(v,_,y,S):null;case ms:return w=y._init,f(v,_,w(y._payload),S)}if(al(y)||ja(y))return w!==null?null:u(v,_,y,S,null);Pu(v,y)}return null}function p(v,_,y,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(y)||null,a(_,v,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Su:return v=v.get(S.key===null?y:S.key)||null,l(_,v,S,w);case fo:return v=v.get(S.key===null?y:S.key)||null,c(_,v,S,w);case ms:var x=S._init;return p(v,_,y,x(S._payload),w)}if(al(S)||ja(S))return v=v.get(y)||null,u(_,v,S,w,null);Pu(_,S)}return null}function m(v,_,y,S){for(var w=null,x=null,b=_,k=_=0,q=null;b!==null&&k<y.length;k++){b.index>k?(q=b,b=null):q=b.sibling;var O=f(v,b,y[k],S);if(O===null){b===null&&(b=q);break}t&&b&&O.alternate===null&&e(v,b),_=i(O,_,k),x===null?w=O:x.sibling=O,x=O,b=q}if(k===y.length)return n(v,b),et&&di(v,k),w;if(b===null){for(;k<y.length;k++)b=h(v,y[k],S),b!==null&&(_=i(b,_,k),x===null?w=b:x.sibling=b,x=b);return et&&di(v,k),w}for(b=r(v,b);k<y.length;k++)q=p(b,v,k,y[k],S),q!==null&&(t&&q.alternate!==null&&b.delete(q.key===null?k:q.key),_=i(q,_,k),x===null?w=q:x.sibling=q,x=q);return t&&b.forEach(function(P){return e(v,P)}),et&&di(v,k),w}function g(v,_,y,S){var w=ja(y);if(typeof w!="function")throw Error(U(150));if(y=w.call(y),y==null)throw Error(U(151));for(var x=w=null,b=_,k=_=0,q=null,O=y.next();b!==null&&!O.done;k++,O=y.next()){b.index>k?(q=b,b=null):q=b.sibling;var P=f(v,b,O.value,S);if(P===null){b===null&&(b=q);break}t&&b&&P.alternate===null&&e(v,b),_=i(P,_,k),x===null?w=P:x.sibling=P,x=P,b=q}if(O.done)return n(v,b),et&&di(v,k),w;if(b===null){for(;!O.done;k++,O=y.next())O=h(v,O.value,S),O!==null&&(_=i(O,_,k),x===null?w=O:x.sibling=O,x=O);return et&&di(v,k),w}for(b=r(v,b);!O.done;k++,O=y.next())O=p(b,v,k,O.value,S),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?k:O.key),_=i(O,_,k),x===null?w=O:x.sibling=O,x=O);return t&&b.forEach(function(N){return e(v,N)}),et&&di(v,k),w}function E(v,_,y,S){if(typeof y=="object"&&y!==null&&y.type===po&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Su:e:{for(var w=y.key,x=_;x!==null;){if(x.key===w){if(w=y.type,w===po){if(x.tag===7){n(v,x.sibling),_=s(x,y.props.children),_.return=v,v=_;break e}}else if(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ms&&JE(w)===x.type){n(v,x.sibling),_=s(x,y.props),_.ref=Ba(v,x,y),_.return=v,v=_;break e}n(v,x);break}else e(v,x);x=x.sibling}y.type===po?(_=Ci(y.props.children,v.mode,S,y.key),_.return=v,v=_):(S=md(y.type,y.key,y.props,null,v.mode,S),S.ref=Ba(v,_,y),S.return=v,v=S)}return o(v);case fo:e:{for(x=y.key;_!==null;){if(_.key===x)if(_.tag===4&&_.stateNode.containerInfo===y.containerInfo&&_.stateNode.implementation===y.implementation){n(v,_.sibling),_=s(_,y.children||[]),_.return=v,v=_;break e}else{n(v,_);break}else e(v,_);_=_.sibling}_=nm(y,v.mode,S),_.return=v,v=_}return o(v);case ms:return x=y._init,E(v,_,x(y._payload),S)}if(al(y))return m(v,_,y,S);if(ja(y))return g(v,_,y,S);Pu(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,_!==null&&_.tag===6?(n(v,_.sibling),_=s(_,y),_.return=v,v=_):(n(v,_),_=tm(y,v.mode,S),_.return=v,v=_),o(v)):n(v,_)}return E}var Ko=jR(!0),$R=jR(!1),Oc={},_r=Js(Oc),Xl=Js(Oc),Jl=Js(Oc);function _i(t){if(t===Oc)throw Error(U(174));return t}function k_(t,e){switch(Be(Jl,e),Be(Xl,t),Be(_r,Oc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ag(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ag(e,t)}Ke(_r),Be(_r,e)}function Qo(){Ke(_r),Ke(Xl),Ke(Jl)}function VR(t){_i(Jl.current);var e=_i(_r.current),n=ag(e,t.type);e!==n&&(Be(Xl,t),Be(_r,n))}function P_(t){Xl.current===t&&(Ke(_r),Ke(Xl))}var nt=Js(0);function Hd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qp=[];function L_(){for(var t=0;t<Qp.length;t++)Qp[t]._workInProgressVersionPrimary=null;Qp.length=0}var ud=os.ReactCurrentDispatcher,Yp=os.ReactCurrentBatchConfig,Ai=0,rt=null,gt=null,Rt=null,Wd=!1,wl=!1,Zl=0,EO=0;function Ft(){throw Error(U(321))}function O_(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function D_(t,e,n,r,s,i){if(Ai=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ud.current=t===null||t.memoizedState===null?CO:RO,t=n(r,s),wl){i=0;do{if(wl=!1,Zl=0,25<=i)throw Error(U(301));i+=1,Rt=gt=null,e.updateQueue=null,ud.current=IO,t=n(r,s)}while(wl)}if(ud.current=qd,e=gt!==null&&gt.next!==null,Ai=0,Rt=gt=rt=null,Wd=!1,e)throw Error(U(300));return t}function M_(){var t=Zl!==0;return Zl=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rt===null?rt.memoizedState=Rt=t:Rt=Rt.next=t,Rt}function qn(){if(gt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=gt.next;var e=Rt===null?rt.memoizedState:Rt.next;if(e!==null)Rt=e,gt=t;else{if(t===null)throw Error(U(310));gt=t,t={memoizedState:gt.memoizedState,baseState:gt.baseState,baseQueue:gt.baseQueue,queue:gt.queue,next:null},Rt===null?rt.memoizedState=Rt=t:Rt=Rt.next=t}return Rt}function ec(t,e){return typeof e=="function"?e(t):e}function Xp(t){var e=qn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=gt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Ai&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,rt.lanes|=u,ki|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ar(r,e.memoizedState)||(mn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,ki|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Jp(t){var e=qn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ar(i,e.memoizedState)||(mn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function FR(){}function UR(t,e){var n=rt,r=qn(),s=e(),i=!ar(r.memoizedState,s);if(i&&(r.memoizedState=s,mn=!0),r=r.queue,j_(HR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Rt!==null&&Rt.memoizedState.tag&1){if(n.flags|=2048,tc(9,zR.bind(null,n,r,s,e),void 0,null),Nt===null)throw Error(U(349));Ai&30||BR(n,e,s)}return s}function BR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zR(t,e,n,r){e.value=n,e.getSnapshot=r,WR(e)&&qR(t)}function HR(t,e,n){return n(function(){WR(e)&&qR(t)})}function WR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function qR(t){var e=Yr(t,1);e!==null&&ir(e,t,1,-1)}function ZE(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:t},e.queue=t,t=t.dispatch=TO.bind(null,rt,t),[e.memoizedState,t]}function tc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GR(){return qn().memoizedState}function dd(t,e,n,r){var s=ur();rt.flags|=t,s.memoizedState=tc(1|e,n,void 0,r===void 0?null:r)}function Yh(t,e,n,r){var s=qn();r=r===void 0?null:r;var i=void 0;if(gt!==null){var o=gt.memoizedState;if(i=o.destroy,r!==null&&O_(r,o.deps)){s.memoizedState=tc(e,n,i,r);return}}rt.flags|=t,s.memoizedState=tc(1|e,n,i,r)}function eS(t,e){return dd(8390656,8,t,e)}function j_(t,e){return Yh(2048,8,t,e)}function KR(t,e){return Yh(4,2,t,e)}function QR(t,e){return Yh(4,4,t,e)}function YR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XR(t,e,n){return n=n!=null?n.concat([t]):null,Yh(4,4,YR.bind(null,e,t),n)}function $_(){}function JR(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&O_(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZR(t,e){var n=qn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&O_(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function eI(t,e,n){return Ai&21?(ar(n,e)||(n=rR(),rt.lanes|=n,ki|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,mn=!0),t.memoizedState=n)}function SO(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Yp.transition;Yp.transition={};try{t(!1),e()}finally{Me=n,Yp.transition=r}}function tI(){return qn().memoizedState}function wO(t,e,n){var r=Ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nI(t))rI(e,n);else if(n=LR(t,e,n,r),n!==null){var s=an();ir(n,t,r,s),sI(n,e,r)}}function TO(t,e,n){var r=Ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nI(t))rI(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=e.interleaved;l===null?(s.next=s,b_(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=LR(t,e,s,r),n!==null&&(s=an(),ir(n,t,r,s),sI(n,e,r))}}function nI(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function rI(t,e){wl=Wd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,m_(t,n)}}var qd={readContext:Wn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},CO={readContext:Wn,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:Wn,useEffect:eS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dd(4194308,4,YR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dd(4194308,4,t,e)},useInsertionEffect:function(t,e){return dd(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=wO.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:ZE,useDebugValue:$_,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=ZE(!1),e=t[0];return t=SO.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=ur();if(et){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Nt===null)throw Error(U(349));Ai&30||BR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,eS(HR.bind(null,r,i,t),[t]),r.flags|=2048,tc(9,zR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ur(),e=Nt.identifierPrefix;if(et){var n=Fr,r=Vr;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},RO={readContext:Wn,useCallback:JR,useContext:Wn,useEffect:j_,useImperativeHandle:XR,useInsertionEffect:KR,useLayoutEffect:QR,useMemo:ZR,useReducer:Xp,useRef:GR,useState:function(){return Xp(ec)},useDebugValue:$_,useDeferredValue:function(t){var e=qn();return eI(e,gt.memoizedState,t)},useTransition:function(){var t=Xp(ec)[0],e=qn().memoizedState;return[t,e]},useMutableSource:FR,useSyncExternalStore:UR,useId:tI,unstable_isNewReconciler:!1},IO={readContext:Wn,useCallback:JR,useContext:Wn,useEffect:j_,useImperativeHandle:XR,useInsertionEffect:KR,useLayoutEffect:QR,useMemo:ZR,useReducer:Jp,useRef:GR,useState:function(){return Jp(ec)},useDebugValue:$_,useDeferredValue:function(t){var e=qn();return gt===null?e.memoizedState=t:eI(e,gt.memoizedState,t)},useTransition:function(){var t=Jp(ec)[0],e=qn().memoizedState;return[t,e]},useMutableSource:FR,useSyncExternalStore:UR,useId:tI,unstable_isNewReconciler:!1};function Yo(t,e){try{var n="",r=e;do n+=eL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Zp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ag(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var xO=typeof WeakMap=="function"?WeakMap:Map;function iI(t,e,n){n=Wr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Kd||(Kd=!0,Fg=r),Ag(t,e)},n}function oI(t,e,n){n=Wr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ag(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ag(t,e),typeof r!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new xO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=UO.bind(null,t,e,n),e.then(t,t))}function nS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Wr(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var NO=os.ReactCurrentOwner,mn=!1;function sn(t,e,n,r){e.child=t===null?$R(e,null,n,r):Ko(e,t.child,n,r)}function sS(t,e,n,r,s){n=n.render;var i=e.ref;return Lo(e,s),r=D_(t,e,n,r,i,s),n=M_(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(et&&n&&T_(e),e.flags|=1,sn(t,e,r,s),e.child)}function iS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!q_(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,aI(t,e,i,r,s)):(t=md(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(o,r)&&t.ref===e.ref)return Xr(t,e,s)}return e.flags|=1,t=Ms(i,r),t.ref=e.ref,t.return=e,e.child=t}function aI(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Gl(i,r)&&t.ref===e.ref)if(mn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(mn=!0);else return e.lanes=t.lanes,Xr(t,e,s)}return kg(t,e,n,r,s)}function lI(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Be(Co,Tn),Tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Be(Co,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Be(Co,Tn),Tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Be(Co,Tn),Tn|=r;return sn(t,e,s,n),e.child}function cI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kg(t,e,n,r,s){var i=_n(n)?Ni:en.current;return i=qo(e,i),Lo(e,s),n=D_(t,e,n,r,i,s),r=M_(),t!==null&&!mn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(et&&r&&T_(e),e.flags|=1,sn(t,e,n,s),e.child)}function oS(t,e,n,r,s){if(_n(n)){var i=!0;$d(e)}else i=!1;if(Lo(e,s),e.stateNode===null)hd(t,e),MR(e,n,r),bg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wn(c):(c=_n(n)?Ni:en.current,c=qo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&XE(e,o,r,c),gs=!1;var f=e.memoizedState;o.state=f,zd(e,r,o,s),l=e.memoizedState,a!==r||f!==l||vn.current||gs?(typeof u=="function"&&(Ng(e,n,u,r),l=e.memoizedState),(a=gs||YE(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,OR(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Jn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wn(l):(l=_n(n)?Ni:en.current,l=qo(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&XE(e,o,r,l),gs=!1,f=e.memoizedState,o.state=f,zd(e,r,o,s);var m=e.memoizedState;a!==h||f!==m||vn.current||gs?(typeof p=="function"&&(Ng(e,n,p,r),m=e.memoizedState),(c=gs||YE(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Pg(t,e,n,r,i,s)}function Pg(t,e,n,r,s,i){cI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&WE(e,n,!1),Xr(t,e,i);r=e.stateNode,NO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ko(e,t.child,null,i),e.child=Ko(e,null,a,i)):sn(t,e,a,i),e.memoizedState=r.state,s&&WE(e,n,!0),e.child}function uI(t){var e=t.stateNode;e.pendingContext?HE(t,e.pendingContext,e.pendingContext!==e.context):e.context&&HE(t,e.context,!1),k_(t,e.containerInfo)}function aS(t,e,n,r,s){return Go(),R_(s),e.flags|=256,sn(t,e,n,r),e.child}var Lg={dehydrated:null,treeContext:null,retryLane:0};function Og(t){return{baseLanes:t,cachePool:null,transitions:null}}function dI(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Be(nt,s&1),t===null)return Ig(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Zh(o,r,0,null),t=Ci(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Og(n),e.memoizedState=Lg,t):V_(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return bO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ms(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ms(a,i):(i=Ci(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Og(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Lg,r}return i=t.child,t=i.sibling,r=Ms(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function V_(t,e){return e=Zh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Lu(t,e,n,r){return r!==null&&R_(r),Ko(e,t.child,null,n),t=V_(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Zp(Error(U(422))),Lu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Zh({mode:"visible",children:r.children},s,0,null),i=Ci(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ko(e,t.child,null,o),e.child.memoizedState=Og(o),e.memoizedState=Lg,i);if(!(e.mode&1))return Lu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=Zp(i,r,void 0),Lu(t,e,o,r)}if(a=(o&t.childLanes)!==0,mn||a){if(r=Nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yr(t,s),ir(r,t,s,-1))}return W_(),r=Zp(Error(U(421))),Lu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=BO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Rn=Ps(s.nextSibling),xn=e,et=!0,er=null,t!==null&&(Mn[jn++]=Vr,Mn[jn++]=Fr,Mn[jn++]=bi,Vr=t.id,Fr=t.overflow,bi=e),e=V_(e,r.children),e.flags|=4096,e)}function lS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xg(t.return,e,n)}function em(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hI(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(sn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lS(t,n,e);else if(t.tag===19)lS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Be(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Hd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),em(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Hd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}em(e,!0,n,null,i);break;case"together":em(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ki|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function AO(t,e,n){switch(e.tag){case 3:uI(e),Go();break;case 5:VR(e);break;case 1:_n(e.type)&&$d(e);break;case 4:k_(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Be(Ud,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Be(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?dI(t,e,n):(Be(nt,nt.current&1),t=Xr(t,e,n),t!==null?t.sibling:null);Be(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hI(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Be(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,lI(t,e,n)}return Xr(t,e,n)}var fI,Dg,pI,mI;fI=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dg=function(){};pI=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,_i(_r.current);var i=null;switch(n){case"input":s=rg(t,s),r=rg(t,r),i=[];break;case"select":s=it({},s,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":s=og(t,s),r=og(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Md)}lg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ze("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};mI=function(t,e,n,r){n!==r&&(e.flags|=4)};function za(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kO(t,e,n){var r=e.pendingProps;switch(C_(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return _n(e.type)&&jd(),Ut(e),null;case 3:return r=e.stateNode,Qo(),Ke(vn),Ke(en),L_(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,er!==null&&(zg(er),er=null))),Dg(t,e),Ut(e),null;case 5:P_(e);var s=_i(Jl.current);if(n=e.type,t!==null&&e.stateNode!=null)pI(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Ut(e),null}if(t=_i(_r.current),ku(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[dr]=e,r[Yl]=i,t=(e.mode&1)!==0,n){case"dialog":ze("cancel",r),ze("close",r);break;case"iframe":case"object":case"embed":ze("load",r);break;case"video":case"audio":for(s=0;s<cl.length;s++)ze(cl[s],r);break;case"source":ze("error",r);break;case"img":case"image":case"link":ze("error",r),ze("load",r);break;case"details":ze("toggle",r);break;case"input":vE(r,i),ze("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ze("invalid",r);break;case"textarea":yE(r,i),ze("invalid",r)}lg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",""+a]):Fl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ze("scroll",r)}switch(n){case"input":wu(r),_E(r,i,!0);break;case"textarea":wu(r),EE(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Md)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=BC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[dr]=e,t[Yl]=r,fI(t,e,!1,!1),e.stateNode=t;e:{switch(o=cg(n,r),n){case"dialog":ze("cancel",t),ze("close",t),s=r;break;case"iframe":case"object":case"embed":ze("load",t),s=r;break;case"video":case"audio":for(s=0;s<cl.length;s++)ze(cl[s],t);s=r;break;case"source":ze("error",t),s=r;break;case"img":case"image":case"link":ze("error",t),ze("load",t),s=r;break;case"details":ze("toggle",t),s=r;break;case"input":vE(t,r),s=rg(t,r),ze("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=it({},r,{value:void 0}),ze("invalid",t);break;case"textarea":yE(t,r),s=og(t,r),ze("invalid",t);break;default:s=r}lg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?WC(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&zC(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ul(t,l):typeof l=="number"&&Ul(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ze("scroll",t):l!=null&&c_(t,i,l,o))}switch(n){case"input":wu(t),_E(t,r,!1);break;case"textarea":wu(t),EE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?bo(t,!!r.multiple,i,!1):r.defaultValue!=null&&bo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Md)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)mI(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=_i(Jl.current),_i(_r.current),ku(e)){if(r=e.stateNode,n=e.memoizedProps,r[dr]=e,(i=r.nodeValue!==n)&&(t=xn,t!==null))switch(t.tag){case 3:Au(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[dr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Ke(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Rn!==null&&e.mode&1&&!(e.flags&128))PR(),Go(),e.flags|=98560,i=!1;else if(i=ku(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[dr]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else er!==null&&(zg(er),er=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?_t===0&&(_t=3):W_())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Qo(),Dg(t,e),t===null&&Kl(e.stateNode.containerInfo),Ut(e),null;case 10:return N_(e.type._context),Ut(e),null;case 17:return _n(e.type)&&jd(),Ut(e),null;case 19:if(Ke(nt),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)za(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Hd(t),o!==null){for(e.flags|=128,za(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Be(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&ut()>Xo&&(e.flags|=128,r=!0,za(i,!1),e.lanes=4194304)}else{if(!r)if(t=Hd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),za(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return Ut(e),null}else 2*ut()-i.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,za(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ut(),e.sibling=null,n=nt.current,Be(nt,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return H_(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function PO(t,e){switch(C_(e),e.tag){case 1:return _n(e.type)&&jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),Ke(vn),Ke(en),L_(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return P_(e),null;case 13:if(Ke(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(nt),null;case 4:return Qo(),null;case 10:return N_(e.type._context),null;case 22:case 23:return H_(),null;case 24:return null;default:return null}}var Ou=!1,Ht=!1,LO=typeof WeakSet=="function"?WeakSet:Set,Z=null;function To(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function Mg(t,e,n){try{n()}catch(r){ot(t,e,r)}}var cS=!1;function OO(t,e){if(yg=Ld,t=yR(),w_(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eg={focusedElem:t,selectionRange:n},Ld=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,E=m.memoizedState,v=e.stateNode,_=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Jn(e.type,g),E);v.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){ot(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return m=cS,cS=!1,m}function Tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mg(e,n,i)}s=s.next}while(s!==r)}}function Xh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function jg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gI(t){var e=t.alternate;e!==null&&(t.alternate=null,gI(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[dr],delete e[Yl],delete e[Tg],delete e[gO],delete e[vO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vI(t){return t.tag===5||t.tag===3||t.tag===4}function uS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vI(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Md));else if(r!==4&&(t=t.child,t!==null))for($g(t,e,n),t=t.sibling;t!==null;)$g(t,e,n),t=t.sibling}function Vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vg(t,e,n),t=t.sibling;t!==null;)Vg(t,e,n),t=t.sibling}var Lt=null,Zn=!1;function hs(t,e,n){for(n=n.child;n!==null;)_I(t,e,n),n=n.sibling}function _I(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(zh,n)}catch{}switch(n.tag){case 5:Ht||To(n,e);case 6:var r=Lt,s=Zn;Lt=null,hs(t,e,n),Lt=r,Zn=s,Lt!==null&&(Zn?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(Zn?(t=Lt,n=n.stateNode,t.nodeType===8?Gp(t.parentNode,n):t.nodeType===1&&Gp(t,n),Wl(t)):Gp(Lt,n.stateNode));break;case 4:r=Lt,s=Zn,Lt=n.stateNode.containerInfo,Zn=!0,hs(t,e,n),Lt=r,Zn=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Mg(n,e,o),s=s.next}while(s!==r)}hs(t,e,n);break;case 1:if(!Ht&&(To(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}hs(t,e,n);break;case 21:hs(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,hs(t,e,n),Ht=r):hs(t,e,n);break;default:hs(t,e,n)}}function dS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new LO),e.forEach(function(r){var s=zO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,Zn=!1;break e;case 3:Lt=a.stateNode.containerInfo,Zn=!0;break e;case 4:Lt=a.stateNode.containerInfo,Zn=!0;break e}a=a.return}if(Lt===null)throw Error(U(160));_I(i,o,s),Lt=null,Zn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ot(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yI(e,t),e=e.sibling}function yI(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),cr(t),r&4){try{Tl(3,t,t.return),Xh(3,t)}catch(g){ot(t,t.return,g)}try{Tl(5,t,t.return)}catch(g){ot(t,t.return,g)}}break;case 1:Yn(e,t),cr(t),r&512&&n!==null&&To(n,n.return);break;case 5:if(Yn(e,t),cr(t),r&512&&n!==null&&To(n,n.return),t.flags&32){var s=t.stateNode;try{Ul(s,"")}catch(g){ot(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&FC(s,i),cg(a,o);var c=cg(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?WC(s,h):u==="dangerouslySetInnerHTML"?zC(s,h):u==="children"?Ul(s,h):c_(s,u,h,c)}switch(a){case"input":sg(s,i);break;case"textarea":UC(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?bo(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?bo(s,!!i.multiple,i.defaultValue,!0):bo(s,!!i.multiple,i.multiple?[]:"",!1))}s[Yl]=i}catch(g){ot(t,t.return,g)}}break;case 6:if(Yn(e,t),cr(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){ot(t,t.return,g)}}break;case 3:if(Yn(e,t),cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wl(e.containerInfo)}catch(g){ot(t,t.return,g)}break;case 4:Yn(e,t),cr(t);break;case 13:Yn(e,t),cr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(B_=ut())),r&4&&dS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(c=Ht)||u,Yn(e,t),Ht=c):Yn(e,t),cr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Z=t,u=t.child;u!==null;){for(h=Z=u;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:Tl(4,f,f.return);break;case 1:To(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ot(r,n,g)}}break;case 5:To(f,f.return);break;case 22:if(f.memoizedState!==null){fS(h);continue}}p!==null?(p.return=f,Z=p):fS(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=HC("display",o))}catch(g){ot(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){ot(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Yn(e,t),cr(t),r&4&&dS(t);break;case 21:break;default:Yn(e,t),cr(t)}}function cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(vI(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ul(s,""),r.flags&=-33);var i=uS(t);Vg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=uS(t);$g(t,a,o);break;default:throw Error(U(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function DO(t,e,n){Z=t,EI(t)}function EI(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Ou;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ht;a=Ou;var c=Ht;if(Ou=o,(Ht=l)&&!c)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?pS(s):l!==null?(l.return=o,Z=l):pS(s);for(;i!==null;)Z=i,EI(i),i=i.sibling;Z=s,Ou=a,Ht=c}hS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):hS(t)}}function hS(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Xh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&QE(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QE(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Wl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ht||e.flags&512&&jg(e)}catch(f){ot(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function fS(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function pS(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Xh(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ot(e,s,l)}}var i=e.return;try{jg(e)}catch(l){ot(e,i,l)}break;case 5:var o=e.return;try{jg(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var MO=Math.ceil,Gd=os.ReactCurrentDispatcher,F_=os.ReactCurrentOwner,Bn=os.ReactCurrentBatchConfig,Le=0,Nt=null,ft=null,Mt=0,Tn=0,Co=Js(0),_t=0,nc=null,ki=0,Jh=0,U_=0,Cl=null,fn=null,B_=0,Xo=1/0,Dr=null,Kd=!1,Fg=null,Os=null,Du=!1,Cs=null,Qd=0,Rl=0,Ug=null,fd=-1,pd=0;function an(){return Le&6?ut():fd!==-1?fd:fd=ut()}function Ds(t){return t.mode&1?Le&2&&Mt!==0?Mt&-Mt:yO.transition!==null?(pd===0&&(pd=rR()),pd):(t=Me,t!==0||(t=window.event,t=t===void 0?16:uR(t.type)),t):1}function ir(t,e,n,r){if(50<Rl)throw Rl=0,Ug=null,Error(U(185));kc(t,n,r),(!(Le&2)||t!==Nt)&&(t===Nt&&(!(Le&2)&&(Jh|=n),_t===4&&ys(t,Mt)),yn(t,r),n===1&&Le===0&&!(e.mode&1)&&(Xo=ut()+500,Kh&&Zs()))}function yn(t,e){var n=t.callbackNode;yL(t,e);var r=Pd(t,t===Nt?Mt:0);if(r===0)n!==null&&TE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&TE(n),e===1)t.tag===0?_O(mS.bind(null,t)):bR(mS.bind(null,t)),pO(function(){!(Le&6)&&Zs()}),n=null;else{switch(sR(r)){case 1:n=p_;break;case 4:n=tR;break;case 16:n=kd;break;case 536870912:n=nR;break;default:n=kd}n=NI(n,SI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function SI(t,e){if(fd=-1,pd=0,Le&6)throw Error(U(327));var n=t.callbackNode;if(Oo()&&t.callbackNode!==n)return null;var r=Pd(t,t===Nt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Yd(t,r);else{e=r;var s=Le;Le|=2;var i=TI();(Nt!==t||Mt!==e)&&(Dr=null,Xo=ut()+500,Ti(t,e));do try{VO();break}catch(a){wI(t,a)}while(1);x_(),Gd.current=i,Le=s,ft!==null?e=0:(Nt=null,Mt=0,e=_t)}if(e!==0){if(e===2&&(s=pg(t),s!==0&&(r=s,e=Bg(t,s))),e===1)throw n=nc,Ti(t,0),ys(t,r),yn(t,ut()),n;if(e===6)ys(t,r);else{if(s=t.current.alternate,!(r&30)&&!jO(s)&&(e=Yd(t,r),e===2&&(i=pg(t),i!==0&&(r=i,e=Bg(t,i))),e===1))throw n=nc,Ti(t,0),ys(t,r),yn(t,ut()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:hi(t,fn,Dr);break;case 3:if(ys(t,r),(r&130023424)===r&&(e=B_+500-ut(),10<e)){if(Pd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wg(hi.bind(null,t,fn,Dr),e);break}hi(t,fn,Dr);break;case 4:if(ys(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-sr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ut()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*MO(r/1960))-r,10<r){t.timeoutHandle=wg(hi.bind(null,t,fn,Dr),r);break}hi(t,fn,Dr);break;case 5:hi(t,fn,Dr);break;default:throw Error(U(329))}}}return yn(t,ut()),t.callbackNode===n?SI.bind(null,t):null}function Bg(t,e){var n=Cl;return t.current.memoizedState.isDehydrated&&(Ti(t,e).flags|=256),t=Yd(t,e),t!==2&&(e=fn,fn=n,e!==null&&zg(e)),t}function zg(t){fn===null?fn=t:fn.push.apply(fn,t)}function jO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ys(t,e){for(e&=~U_,e&=~Jh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function mS(t){if(Le&6)throw Error(U(327));Oo();var e=Pd(t,0);if(!(e&1))return yn(t,ut()),null;var n=Yd(t,e);if(t.tag!==0&&n===2){var r=pg(t);r!==0&&(e=r,n=Bg(t,r))}if(n===1)throw n=nc,Ti(t,0),ys(t,e),yn(t,ut()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,hi(t,fn,Dr),yn(t,ut()),null}function z_(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Xo=ut()+500,Kh&&Zs())}}function Pi(t){Cs!==null&&Cs.tag===0&&!(Le&6)&&Oo();var e=Le;Le|=1;var n=Bn.transition,r=Me;try{if(Bn.transition=null,Me=1,t)return t()}finally{Me=r,Bn.transition=n,Le=e,!(Le&6)&&Zs()}}function H_(){Tn=Co.current,Ke(Co)}function Ti(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fO(n)),ft!==null)for(n=ft.return;n!==null;){var r=n;switch(C_(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:Qo(),Ke(vn),Ke(en),L_();break;case 5:P_(r);break;case 4:Qo();break;case 13:Ke(nt);break;case 19:Ke(nt);break;case 10:N_(r.type._context);break;case 22:case 23:H_()}n=n.return}if(Nt=t,ft=t=Ms(t.current,null),Mt=Tn=e,_t=0,nc=null,U_=Jh=ki=0,fn=Cl=null,vi!==null){for(e=0;e<vi.length;e++)if(n=vi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}vi=null}return t}function wI(t,e){do{var n=ft;try{if(x_(),ud.current=qd,Wd){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Wd=!1}if(Ai=0,Rt=gt=rt=null,wl=!1,Zl=0,F_.current=null,n===null||n.return===null){_t=1,nc=e,ft=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=nS(o);if(p!==null){p.flags&=-257,rS(p,o,a,i,e),p.mode&1&&tS(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){tS(i,c,e),W_();break e}l=Error(U(426))}}else if(et&&a.mode&1){var E=nS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),rS(E,o,a,i,e),R_(Yo(l,a));break e}}i=l=Yo(l,a),_t!==4&&(_t=2),Cl===null?Cl=[i]:Cl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=iI(i,l,e);KE(i,v);break e;case 1:a=l;var _=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof _.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Os===null||!Os.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=oI(i,a,e);KE(i,S);break e}}i=i.return}while(i!==null)}RI(n)}catch(w){e=w,ft===n&&n!==null&&(ft=n=n.return);continue}break}while(1)}function TI(){var t=Gd.current;return Gd.current=qd,t===null?qd:t}function W_(){(_t===0||_t===3||_t===2)&&(_t=4),Nt===null||!(ki&268435455)&&!(Jh&268435455)||ys(Nt,Mt)}function Yd(t,e){var n=Le;Le|=2;var r=TI();(Nt!==t||Mt!==e)&&(Dr=null,Ti(t,e));do try{$O();break}catch(s){wI(t,s)}while(1);if(x_(),Le=n,Gd.current=r,ft!==null)throw Error(U(261));return Nt=null,Mt=0,_t}function $O(){for(;ft!==null;)CI(ft)}function VO(){for(;ft!==null&&!uL();)CI(ft)}function CI(t){var e=xI(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?RI(t):ft=e,F_.current=null}function RI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=PO(n,e),n!==null){n.flags&=32767,ft=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ft=null;return}}else if(n=kO(n,e,Tn),n!==null){ft=n;return}if(e=e.sibling,e!==null){ft=e;return}ft=e=t}while(e!==null);_t===0&&(_t=5)}function hi(t,e,n){var r=Me,s=Bn.transition;try{Bn.transition=null,Me=1,FO(t,e,n,r)}finally{Bn.transition=s,Me=r}return null}function FO(t,e,n,r){do Oo();while(Cs!==null);if(Le&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(EL(t,i),t===Nt&&(ft=Nt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Du||(Du=!0,NI(kd,function(){return Oo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Bn.transition,Bn.transition=null;var o=Me;Me=1;var a=Le;Le|=4,F_.current=null,OO(t,n),yI(n,t),oO(Eg),Ld=!!yg,Eg=yg=null,t.current=n,DO(n),dL(),Le=a,Me=o,Bn.transition=i}else t.current=n;if(Du&&(Du=!1,Cs=t,Qd=s),i=t.pendingLanes,i===0&&(Os=null),pL(n.stateNode),yn(t,ut()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kd)throw Kd=!1,t=Fg,Fg=null,t;return Qd&1&&t.tag!==0&&Oo(),i=t.pendingLanes,i&1?t===Ug?Rl++:(Rl=0,Ug=t):Rl=0,Zs(),null}function Oo(){if(Cs!==null){var t=sR(Qd),e=Bn.transition,n=Me;try{if(Bn.transition=null,Me=16>t?16:t,Cs===null)var r=!1;else{if(t=Cs,Cs=null,Qd=0,Le&6)throw Error(U(331));var s=Le;for(Le|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:Tl(8,u,i)}var h=u.child;if(h!==null)h.return=u,Z=h;else for(;Z!==null;){u=Z;var f=u.sibling,p=u.return;if(gI(u),u===c){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Tl(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,Z=v;break e}Z=i.return}}var _=t.current;for(Z=_;Z!==null;){o=Z;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Z=y;else e:for(o=_;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Xh(9,a)}}catch(w){ot(a,a.return,w)}if(a===o){Z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Z=S;break e}Z=a.return}}if(Le=s,Zs(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(zh,t)}catch{}r=!0}return r}finally{Me=n,Bn.transition=e}}return!1}function gS(t,e,n){e=Yo(n,e),e=iI(t,e,1),t=Ls(t,e,1),e=an(),t!==null&&(kc(t,1,e),yn(t,e))}function ot(t,e,n){if(t.tag===3)gS(t,t,n);else for(;e!==null;){if(e.tag===3){gS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Os===null||!Os.has(r))){t=Yo(n,t),t=oI(e,t,1),e=Ls(e,t,1),t=an(),e!==null&&(kc(e,1,t),yn(e,t));break}}e=e.return}}function UO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Mt&n)===n&&(_t===4||_t===3&&(Mt&130023424)===Mt&&500>ut()-B_?Ti(t,0):U_|=n),yn(t,e)}function II(t,e){e===0&&(t.mode&1?(e=Ru,Ru<<=1,!(Ru&130023424)&&(Ru=4194304)):e=1);var n=an();t=Yr(t,e),t!==null&&(kc(t,e,n),yn(t,n))}function BO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),II(t,n)}function zO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),II(t,n)}var xI;xI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)mn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return mn=!1,AO(t,e,n);mn=!!(t.flags&131072)}else mn=!1,et&&e.flags&1048576&&AR(e,Fd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hd(t,e),t=e.pendingProps;var s=qo(e,en.current);Lo(e,n),s=D_(null,e,r,t,s,n);var i=M_();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(r)?(i=!0,$d(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,A_(e),s.updater=Qh,e.stateNode=s,s._reactInternals=e,bg(e,r,t,n),e=Pg(null,e,r,!0,i,n)):(e.tag=0,et&&i&&T_(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=WO(r),t=Jn(r,t),s){case 0:e=kg(null,e,r,t,n);break e;case 1:e=oS(null,e,r,t,n);break e;case 11:e=sS(null,e,r,t,n);break e;case 14:e=iS(null,e,r,Jn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),kg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),oS(t,e,r,s,n);case 3:e:{if(uI(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,OR(t,e),zd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yo(Error(U(423)),e),e=aS(t,e,r,n,s);break e}else if(r!==s){s=Yo(Error(U(424)),e),e=aS(t,e,r,n,s);break e}else for(Rn=Ps(e.stateNode.containerInfo.firstChild),xn=e,et=!0,er=null,n=$R(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===s){e=Xr(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return VR(e),t===null&&Ig(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Sg(r,s)?o=null:i!==null&&Sg(r,i)&&(e.flags|=32),cI(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&Ig(e),null;case 13:return dI(t,e,n);case 4:return k_(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),sS(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Be(Ud,r._currentValue),r._currentValue=o,i!==null)if(ar(i.value,o)){if(i.children===s.children&&!vn.current){e=Xr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Wr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),xg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Lo(e,n),s=Wn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=Jn(r,e.pendingProps),s=Jn(r.type,s),iS(t,e,r,s,n);case 15:return aI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),hd(t,e),e.tag=1,_n(r)?(t=!0,$d(e)):t=!1,Lo(e,n),MR(e,r,s),bg(e,r,s,n),Pg(null,e,r,!0,t,n);case 19:return hI(t,e,n);case 22:return lI(t,e,n)}throw Error(U(156,e.tag))};function NI(t,e){return eR(t,e)}function HO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,n,r){return new HO(t,e,n,r)}function q_(t){return t=t.prototype,!(!t||!t.isReactComponent)}function WO(t){if(typeof t=="function")return q_(t)?1:0;if(t!=null){if(t=t.$$typeof,t===d_)return 11;if(t===h_)return 14}return 2}function Ms(t,e){var n=t.alternate;return n===null?(n=Fn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function md(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")q_(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case po:return Ci(n.children,s,i,e);case u_:o=8,s|=8;break;case Zm:return t=Fn(12,n,e,s|2),t.elementType=Zm,t.lanes=i,t;case eg:return t=Fn(13,n,e,s),t.elementType=eg,t.lanes=i,t;case tg:return t=Fn(19,n,e,s),t.elementType=tg,t.lanes=i,t;case jC:return Zh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case DC:o=10;break e;case MC:o=9;break e;case d_:o=11;break e;case h_:o=14;break e;case ms:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Fn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ci(t,e,n,r){return t=Fn(7,t,r,e),t.lanes=n,t}function Zh(t,e,n,r){return t=Fn(22,t,r,e),t.elementType=jC,t.lanes=n,t.stateNode={isHidden:!1},t}function tm(t,e,n){return t=Fn(6,t,null,e),t.lanes=n,t}function nm(t,e,n){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Mp(0),this.expirationTimes=Mp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Mp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function G_(t,e,n,r,s,i,o,a,l){return t=new qO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},A_(i),t}function GO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function bI(t){if(!t)return Ws;t=t._reactInternals;e:{if(Gi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(_n(n))return NR(t,n,e)}return e}function AI(t,e,n,r,s,i,o,a,l){return t=G_(n,r,!0,t,s,i,o,a,l),t.context=bI(null),n=t.current,r=an(),s=Ds(n),i=Wr(r,s),i.callback=e??null,Ls(n,i,s),t.current.lanes=s,kc(t,s,r),yn(t,r),t}function ef(t,e,n,r){var s=e.current,i=an(),o=Ds(s);return n=bI(n),e.context===null?e.context=n:e.pendingContext=n,e=Wr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(s,e,o),t!==null&&(ir(t,s,o,i),cd(t,s,o)),o}function Xd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function vS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function K_(t,e){vS(t,e),(t=t.alternate)&&vS(t,e)}function KO(){return null}var kI=typeof reportError=="function"?reportError:function(t){console.error(t)};function Q_(t){this._internalRoot=t}tf.prototype.render=Q_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));ef(t,e,null,null)};tf.prototype.unmount=Q_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pi(function(){ef(null,t,null,null)}),e[Qr]=null}};function tf(t){this._internalRoot=t}tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=aR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_s.length&&e!==0&&e<_s[n].priority;n++);_s.splice(n,0,t),n===0&&cR(t)}};function Y_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _S(){}function QO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Xd(o);i.call(c)}}var o=AI(e,r,t,0,null,!1,!1,"",_S);return t._reactRootContainer=o,t[Qr]=o.current,Kl(t.nodeType===8?t.parentNode:t),Pi(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Xd(l);a.call(c)}}var l=G_(t,0,!1,null,null,!1,!1,"",_S);return t._reactRootContainer=l,t[Qr]=l.current,Kl(t.nodeType===8?t.parentNode:t),Pi(function(){ef(e,l,n,r)}),l}function rf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Xd(o);a.call(l)}}ef(e,o,t,s)}else o=QO(n,e,t,s,r);return Xd(o)}iR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ll(e.pendingLanes);n!==0&&(m_(e,n|1),yn(e,ut()),!(Le&6)&&(Xo=ut()+500,Zs()))}break;case 13:Pi(function(){var r=Yr(t,1);if(r!==null){var s=an();ir(r,t,1,s)}}),K_(t,1)}};g_=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=an();ir(e,t,134217728,n)}K_(t,134217728)}};oR=function(t){if(t.tag===13){var e=Ds(t),n=Yr(t,e);if(n!==null){var r=an();ir(n,t,e,r)}K_(t,e)}};aR=function(){return Me};lR=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};dg=function(t,e,n){switch(e){case"input":if(sg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Gh(r);if(!s)throw Error(U(90));VC(r),sg(r,s)}}}break;case"textarea":UC(t,n);break;case"select":e=n.value,e!=null&&bo(t,!!n.multiple,e,!1)}};KC=z_;QC=Pi;var YO={usingClientEntryPoint:!1,Events:[Lc,_o,Gh,qC,GC,z_]},Ha={findFiberByHostInstance:gi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},XO={bundleType:Ha.bundleType,version:Ha.version,rendererPackageName:Ha.rendererPackageName,rendererConfig:Ha.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=JC(t),t===null?null:t.stateNode},findFiberByHostInstance:Ha.findFiberByHostInstance||KO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{zh=Mu.inject(XO),vr=Mu}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YO;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Y_(e))throw Error(U(200));return GO(t,e,null,n)};Pn.createRoot=function(t,e){if(!Y_(t))throw Error(U(299));var n=!1,r="",s=kI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=G_(t,1,!1,null,null,n,!1,r,s),t[Qr]=e.current,Kl(t.nodeType===8?t.parentNode:t),new Q_(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=JC(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return Pi(t)};Pn.hydrate=function(t,e,n){if(!nf(e))throw Error(U(200));return rf(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!Y_(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=kI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=AI(e,null,t,1,n??null,s,!1,i,o),t[Qr]=e.current,Kl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tf(e)};Pn.render=function(t,e,n){if(!nf(e))throw Error(U(200));return rf(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!nf(t))throw Error(U(40));return t._reactRootContainer?(Pi(function(){rf(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};Pn.unstable_batchedUpdates=z_;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nf(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return rf(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";function PI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PI)}catch(t){console.error(t)}}PI(),AC.exports=Pn;var LI=AC.exports;const JO=yC(LI);var yS=LI;Xm.createRoot=yS.createRoot,Xm.hydrateRoot=yS.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}var Rs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rs||(Rs={}));const ES="popstate";function ZO(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Ki(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),Hg("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Jd(i))}function r(s,i){X_(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return tD(e,n,r,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function X_(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eD(){return Math.random().toString(36).substr(2,8)}function SS(t,e){return{usr:t.state,key:t.key,idx:e}}function Hg(t,e,n,r){return n===void 0&&(n=null),rc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ki(e):e,{state:n,key:e&&e.key||r||eD()})}function Jd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ki(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Rs.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(rc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Rs.Pop;let E=u(),v=E==null?null:E-c;c=E,l&&l({action:a,location:g.location,delta:v})}function f(E,v){a=Rs.Push;let _=Hg(g.location,E,v);n&&n(_,E),c=u()+1;let y=SS(_,c),S=g.createHref(_);try{o.pushState(y,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function p(E,v){a=Rs.Replace;let _=Hg(g.location,E,v);n&&n(_,E),c=u();let y=SS(_,c),S=g.createHref(_);o.replaceState(y,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function m(E){let v=s.location.origin!=="null"?s.location.origin:s.location.href,_=typeof E=="string"?E:Jd(E);return _=_.replace(/ $/,"%20"),st(v,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,v)}let g={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ES,h),l=E,()=>{s.removeEventListener(ES,h),l=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let v=m(E);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:f,replace:p,go(E){return o.go(E)}};return g}var wS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wS||(wS={}));function nD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ki(e):e,s=Jo(r.pathname||"/",n);if(s==null)return null;let i=OI(t);rD(i);let o=null;for(let a=0;o==null&&a<i.length;++a){let l=pD(s);o=hD(i[a],l)}return o}function OI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(st(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=js([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(st(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),OI(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:uD(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of DI(i.path))s(i,o,l)}),e}function DI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=DI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function rD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const sD=/^:[\w-]+$/,iD=3,oD=2,aD=1,lD=10,cD=-2,TS=t=>t==="*";function uD(t,e){let n=t.split("/"),r=n.length;return n.some(TS)&&(r+=cD),e&&(r+=oD),n.filter(s=>!TS(s)).reduce((s,i)=>s+(sD.test(i)?iD:i===""?aD:lD),r)}function dD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function hD(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=Wg({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;i.push({params:r,pathname:js([s,u.pathname]),pathnameBase:_D(js([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=js([s,u.pathnameBase]))}return i}function Wg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=fD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{let{paramName:f,isOptional:p}=u;if(f==="*"){let g=a[h]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function fD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),X_(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function pD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return X_(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Jo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ki(t):t;return{pathname:n?n.startsWith("/")?n:gD(n,e):e,search:yD(r),hash:ED(s)}}function gD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function rm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function J_(t,e){let n=vD(t);return e?n.map((r,s)=>s===t.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Z_(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ki(t):(s=rc({},t),st(!s.pathname||!s.pathname.includes("?"),rm("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),rm("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),rm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=mD(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const js=t=>t.join("/").replace(/\/\/+/g,"/"),_D=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ED=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function SD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const MI=["post","put","patch","delete"];new Set(MI);const wD=["get",...MI];new Set(wD);/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sc(){return sc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sc.apply(this,arguments)}const sf=T.createContext(null),jI=T.createContext(null),as=T.createContext(null),of=T.createContext(null),Ir=T.createContext({outlet:null,matches:[],isDataRoute:!1}),$I=T.createContext(null);function TD(t,e){let{relative:n}=e===void 0?{}:e;Ea()||st(!1);let{basename:r,navigator:s}=T.useContext(as),{hash:i,pathname:o,search:a}=af(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:js([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Ea(){return T.useContext(of)!=null}function Sn(){return Ea()||st(!1),T.useContext(of).location}function VI(t){T.useContext(as).static||T.useLayoutEffect(t)}function un(){let{isDataRoute:t}=T.useContext(Ir);return t?$D():CD()}function CD(){Ea()||st(!1);let t=T.useContext(sf),{basename:e,future:n,navigator:r}=T.useContext(as),{matches:s}=T.useContext(Ir),{pathname:i}=Sn(),o=JSON.stringify(J_(s,n.v7_relativeSplatPath)),a=T.useRef(!1);return VI(()=>{a.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=Z_(c,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:js([e,h.pathname])),(u.replace?r.replace:r.push)(h,u.state,u)},[e,r,o,i,t])}const RD=T.createContext(null);function ID(t){let e=T.useContext(Ir).outlet;return e&&T.createElement(RD.Provider,{value:t},e)}function dn(){let{matches:t}=T.useContext(Ir),e=t[t.length-1];return e?e.params:{}}function af(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(as),{matches:s}=T.useContext(Ir),{pathname:i}=Sn(),o=JSON.stringify(J_(s,r.v7_relativeSplatPath));return T.useMemo(()=>Z_(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function xD(t,e){return ND(t,e)}function ND(t,e,n,r){Ea()||st(!1);let{navigator:s}=T.useContext(as),{matches:i}=T.useContext(Ir),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Sn(),u;if(e){var h;let E=typeof e=="string"?Ki(e):e;l==="/"||(h=E.pathname)!=null&&h.startsWith(l)||st(!1),u=E}else u=c;let f=u.pathname||"/",p=f;if(l!=="/"){let E=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(E.length).join("/")}let m=nD(t,{pathname:p}),g=LD(m&&m.map(E=>Object.assign({},E,{params:Object.assign({},a,E.params),pathname:js([l,s.encodeLocation?s.encodeLocation(E.pathname).pathname:E.pathname]),pathnameBase:E.pathnameBase==="/"?l:js([l,s.encodeLocation?s.encodeLocation(E.pathnameBase).pathname:E.pathnameBase])})),i,n,r);return e&&g?T.createElement(of.Provider,{value:{location:sc({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Rs.Pop}},g):g}function bD(){let t=jD(),e=SD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,i)}const AD=T.createElement(bD,null);class kD extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Ir.Provider,{value:this.props.routeContext},T.createElement($I.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PD(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(sf);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Ir.Provider,{value:e},r)}function LD(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let u=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);u>=0||st(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let h=o[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=u),h.route.id){let{loaderData:f,errors:p}=n,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,h,f)=>{let p,m=!1,g=null,E=null;n&&(p=a&&h.route.id?a[h.route.id]:void 0,g=h.route.errorElement||AD,l&&(c<0&&f===0?(VD("route-fallback",!1),m=!0,E=null):c===f&&(m=!0,E=h.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,f+1)),_=()=>{let y;return p?y=g:m?y=E:h.route.Component?y=T.createElement(h.route.Component,null):h.route.element?y=h.route.element:y=u,T.createElement(PD,{match:h,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:y})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(kD,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:_(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):_()},null)}var FI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(FI||{}),Zd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Zd||{});function OD(t){let e=T.useContext(sf);return e||st(!1),e}function DD(t){let e=T.useContext(jI);return e||st(!1),e}function MD(t){let e=T.useContext(Ir);return e||st(!1),e}function UI(t){let e=MD(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function jD(){var t;let e=T.useContext($I),n=DD(Zd.UseRouteError),r=UI(Zd.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function $D(){let{router:t}=OD(FI.UseNavigateStable),e=UI(Zd.UseNavigateStable),n=T.useRef(!1);return VI(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,sc({fromRouteId:e},i)))},[t,e])}const CS={};function VD(t,e,n){!e&&!CS[t]&&(CS[t]=!0)}function FD(t){let{to:e,replace:n,state:r,relative:s}=t;Ea()||st(!1);let{future:i,static:o}=T.useContext(as),{matches:a}=T.useContext(Ir),{pathname:l}=Sn(),c=un(),u=Z_(e,J_(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(u);return T.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function ls(t){return ID(t.context)}function se(t){st(!1)}function UD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Rs.Pop,navigator:i,static:o=!1,future:a}=t;Ea()&&st(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:i,static:o,future:sc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=Ki(r));let{pathname:u="/",search:h="",hash:f="",state:p=null,key:m="default"}=r,g=T.useMemo(()=>{let E=Jo(u,l);return E==null?null:{location:{pathname:E,search:h,hash:f,state:p,key:m},navigationType:s}},[l,u,h,f,p,m,s]);return g==null?null:T.createElement(as.Provider,{value:c},T.createElement(of.Provider,{children:n,value:g}))}function sm(t){let{children:e,location:n}=t;return xD(qg(e),n)}new Promise(()=>{});function qg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,qg(r.props.children,i));return}r.type!==se&&st(!1),!r.props.index||!r.props.children||st(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},eh.apply(this,arguments)}function BI(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function BD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zD(t,e){return t.button===0&&(!e||e==="_self")&&!BD(t)}function Gg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function HD(t,e){let n=Gg(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const WD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],qD=["aria-current","caseSensitive","className","end","style","to","unstable_viewTransition","children"],GD="6";try{window.__reactRouterVersion=GD}catch{}const KD=T.createContext({isTransitioning:!1}),QD="startTransition",RS=BP[QD];function YD(t){let{basename:e,children:n,future:r,window:s}=t,i=T.useRef();i.current==null&&(i.current=ZO({window:s,v5Compat:!0}));let o=i.current,[a,l]=T.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=T.useCallback(h=>{c&&RS?RS(()=>l(h)):l(h)},[l,c]);return T.useLayoutEffect(()=>o.listen(u),[o,u]),T.createElement(UD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const XD=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,at=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u,unstable_viewTransition:h}=e,f=BI(e,WD),{basename:p}=T.useContext(as),m,g=!1;if(typeof c=="string"&&JD.test(c)&&(m=c,XD))try{let y=new URL(window.location.href),S=c.startsWith("//")?new URL(y.protocol+c):new URL(c),w=Jo(S.pathname,p);S.origin===y.origin&&w!=null?c=w+S.search+S.hash:g=!0}catch{}let E=TD(c,{relative:s}),v=eM(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s,unstable_viewTransition:h});function _(y){r&&r(y),y.defaultPrevented||v(y)}return T.createElement("a",eh({},f,{href:m||E,onClick:g||i?r:_,ref:n,target:l}))}),$n=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,unstable_viewTransition:c,children:u}=e,h=BI(e,qD),f=af(l,{relative:h.relative}),p=Sn(),m=T.useContext(jI),{navigator:g,basename:E}=T.useContext(as),v=m!=null&&nM(f)&&c===!0,_=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,y=p.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;s||(y=y.toLowerCase(),S=S?S.toLowerCase():null,_=_.toLowerCase()),S&&E&&(S=Jo(S,E)||S);const w=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let x=y===_||!o&&y.startsWith(_)&&y.charAt(w)==="/",b=S!=null&&(S===_||!o&&S.startsWith(_)&&S.charAt(_.length)==="/"),k={isActive:x,isPending:b,isTransitioning:v},q=x?r:void 0,O;typeof i=="function"?O=i(k):O=[i,x?"active":null,b?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(k):a;return T.createElement(at,eh({},h,{"aria-current":q,className:O,ref:n,style:P,to:l,unstable_viewTransition:c}),typeof u=="function"?u(k):u)});var Kg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Kg||(Kg={}));var IS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(IS||(IS={}));function ZD(t){let e=T.useContext(sf);return e||st(!1),e}function eM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=un(),c=Sn(),u=af(t,{relative:o});return T.useCallback(h=>{if(zD(h,n)){h.preventDefault();let f=r!==void 0?r:Jd(c)===Jd(u);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,unstable_viewTransition:a})}},[c,l,u,r,s,n,t,i,o,a])}function tM(t){let e=T.useRef(Gg(t)),n=T.useRef(!1),r=Sn(),s=T.useMemo(()=>HD(r.search,n.current?null:e.current),[r.search]),i=un(),o=T.useCallback((a,l)=>{const c=Gg(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}function nM(t,e){e===void 0&&(e={});let n=T.useContext(KD);n==null&&st(!1);let{basename:r}=ZD(Kg.useViewTransitionState),s=af(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Jo(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Jo(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wg(s.pathname,o)!=null||Wg(s.pathname,i)!=null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K=function(t,e){if(!t)throw Sa(e)},Sa=function(t){return new Error("Firebase Database ("+zI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},rM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ey={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(HI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new sM;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class sM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WI=function(t){const e=HI(t);return ey.encodeByteArray(e,!0)},th=function(t){return WI(t).replace(/\./g,"")},nh=function(t){try{return ey.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t){return qI(void 0,t)}function qI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!oM(n)||(t[n]=qI(t[n],e[n]));return t}function oM(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lM=()=>aM().__FIREBASE_DEFAULTS__,cM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},uM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nh(t[1]);return e&&JSON.parse(e)},ty=()=>{try{return lM()||cM()||uM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},GI=t=>{var e,n;return(n=(e=ty())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},KI=t=>{const e=GI(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QI=()=>{var t;return(t=ty())===null||t===void 0?void 0:t.config},YI=t=>{var e;return(e=ty())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[th(JSON.stringify(n)),th(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ry(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function dM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function hM(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZI(){return zI.NODE_ADMIN===!0}function fM(){try{return typeof indexedDB=="object"}catch{return!1}}function pM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mM="FirebaseError";class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mM,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?gM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xr(s,a,r)}}function gM(t,e){return t.replace(vM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const vM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){return JSON.parse(t)}function Dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=ic(nh(i[0])||""),n=ic(nh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},_M=function(t){const e=ex(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},yM=function(t){const e=ex(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Qg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function rh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(xS(i)&&xS(o)){if(!sh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ul(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function dl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):h<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function SM(t,e){const n=new wM(t,e);return n.subscribe.bind(n)}class wM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=im),s.error===void 0&&(s.error=im),s.complete===void 0&&(s.complete=im);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function im(){}function CM(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,K(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},lf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ny;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(NM(e))try{this.getOrInitializeService({instanceIdentifier:fi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=fi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fi){return this.instances.has(e)}getOptions(e=fi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:xM(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=fi){return this.component?this.component.multipleInstances?e:fi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function xM(t){return t===fi?void 0:t}function NM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const AM={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},kM=ke.INFO,PM={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},LM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=PM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cf{constructor(e){this.name=e,this._logLevel=kM,this._logHandler=LM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?AM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const OM=(t,e)=>e.some(n=>t instanceof n);let NS,bS;function DM(){return NS||(NS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MM(){return bS||(bS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tx=new WeakMap,Yg=new WeakMap,nx=new WeakMap,om=new WeakMap,sy=new WeakMap;function jM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($s(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tx.set(n,t)}).catch(()=>{}),sy.set(e,t),e}function $M(t){if(Yg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Yg.set(t,e)}let Xg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Yg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VM(t){Xg=t(Xg)}function FM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(am(this),e,...n);return nx.set(r,e.sort?e.sort():[e]),$s(r)}:MM().includes(t)?function(...e){return t.apply(am(this),e),$s(tx.get(this))}:function(...e){return $s(t.apply(am(this),e))}}function UM(t){return typeof t=="function"?FM(t):(t instanceof IDBTransaction&&$M(t),OM(t,DM())?new Proxy(t,Xg):t)}function $s(t){if(t instanceof IDBRequest)return jM(t);if(om.has(t))return om.get(t);const e=UM(t);return e!==t&&(om.set(t,e),sy.set(e,t)),e}const am=t=>sy.get(t);function BM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$s(o);return r&&o.addEventListener("upgradeneeded",l=>{r($s(o.result),l.oldVersion,l.newVersion,$s(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const zM=["get","getKey","getAll","getAllKeys","count"],HM=["put","add","delete","clear"],lm=new Map;function AS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=HM.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||zM.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return lm.set(e,i),i}VM(t=>({...t,get:(e,n,r)=>AS(e,n)||t.get(e,n,r),has:(e,n)=>!!AS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qM(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jg="@firebase/app",kS="0.9.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li=new cf("@firebase/app"),GM="@firebase/app-compat",KM="@firebase/analytics-compat",QM="@firebase/analytics",YM="@firebase/app-check-compat",XM="@firebase/app-check",JM="@firebase/auth",ZM="@firebase/auth-compat",ej="@firebase/database",tj="@firebase/database-compat",nj="@firebase/functions",rj="@firebase/functions-compat",sj="@firebase/installations",ij="@firebase/installations-compat",oj="@firebase/messaging",aj="@firebase/messaging-compat",lj="@firebase/performance",cj="@firebase/performance-compat",uj="@firebase/remote-config",dj="@firebase/remote-config-compat",hj="@firebase/storage",fj="@firebase/storage-compat",pj="@firebase/firestore",mj="@firebase/firestore-compat",gj="firebase",vj="10.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="[DEFAULT]",_j={[Jg]:"fire-core",[GM]:"fire-core-compat",[QM]:"fire-analytics",[KM]:"fire-analytics-compat",[XM]:"fire-app-check",[YM]:"fire-app-check-compat",[JM]:"fire-auth",[ZM]:"fire-auth-compat",[ej]:"fire-rtdb",[tj]:"fire-rtdb-compat",[nj]:"fire-fn",[rj]:"fire-fn-compat",[sj]:"fire-iid",[ij]:"fire-iid-compat",[oj]:"fire-fcm",[aj]:"fire-fcm-compat",[lj]:"fire-perf",[cj]:"fire-perf-compat",[uj]:"fire-rc",[dj]:"fire-rc-compat",[hj]:"fire-gcs",[fj]:"fire-gcs-compat",[pj]:"fire-fst",[mj]:"fire-fst-compat","fire-js":"fire-js",[gj]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new Map,ev=new Map;function yj(t,e){try{t.container.addComponent(e)}catch(n){Li.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(ev.has(e))return Li.debug(`There were multiple attempts to register component ${e}.`),!1;ev.set(e,t);for(const n of ih.values())yj(n,t);return!0}function uf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ej={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Vs=new Dc("app","Firebase",Ej);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=vj;function rx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Zg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Vs.create("bad-app-name",{appName:String(s)});if(n||(n=QI()),!n)throw Vs.create("no-options");const i=ih.get(s);if(i){if(sh(n,i.options)&&sh(r,i.config))return i;throw Vs.create("duplicate-app",{appName:s})}const o=new bM(s);for(const l of ev.values())o.addComponent(l);const a=new Sj(n,r,o);return ih.set(s,a),a}function iy(t=Zg){const e=ih.get(t);if(!e&&t===Zg&&QI())return rx();if(!e)throw Vs.create("no-app",{appName:t});return e}function zn(t,e,n){var r;let s=(r=_j[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Li.warn(a.join(" "));return}qs(new Jr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wj="firebase-heartbeat-database",Tj=1,oc="firebase-heartbeat-store";let cm=null;function sx(){return cm||(cm=BM(wj,Tj,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oc)}}}).catch(t=>{throw Vs.create("idb-open",{originalErrorMessage:t.message})})),cm}async function Cj(t){try{return await(await sx()).transaction(oc).objectStore(oc).get(ix(t))}catch(e){if(e instanceof xr)Li.warn(e.message);else{const n=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Li.warn(n.message)}}}async function PS(t,e){try{const r=(await sx()).transaction(oc,"readwrite");await r.objectStore(oc).put(e,ix(t)),await r.done}catch(n){if(n instanceof xr)Li.warn(n.message);else{const r=Vs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Li.warn(r.message)}}}function ix(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rj=1024,Ij=30*24*60*60*1e3;class xj{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new bj(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=LS();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=Ij}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=LS(),{heartbeatsToSend:n,unsentEntries:r}=Nj(this._heartbeatsCache.heartbeats),s=th(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function LS(){return new Date().toISOString().substring(0,10)}function Nj(t,e=Rj){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),OS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),OS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class bj{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fM()?pM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Cj(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return PS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return PS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function OS(t){return th(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aj(t){qs(new Jr("platform-logger",e=>new WM(e),"PRIVATE")),qs(new Jr("heartbeat",e=>new xj(e),"PRIVATE")),zn(Jg,kS,t),zn(Jg,kS,"esm2017"),zn("fire-js","")}Aj("");function oy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function DS(t){return t!==void 0&&t.enterprise!==void 0}class kj{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function ox(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Pj=ox,ax=new Dc("auth","Firebase",ox());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new cf("@firebase/auth");function Lj(t,...e){oh.logLevel<=ke.WARN&&oh.warn(`Auth (${ei}): ${t}`,...e)}function gd(t,...e){oh.logLevel<=ke.ERROR&&oh.error(`Auth (${ei}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gn(t,...e){throw ay(t,...e)}function yr(t,...e){return ay(t,...e)}function lx(t,e,n){const r=Object.assign(Object.assign({},Pj()),{[e]:n});return new Dc("auth","Firebase",r).create(e,{appName:t.name})}function Oj(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Gn(t,"argument-error"),lx(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ay(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return ax.create(t,...e)}function ce(t,e,...n){if(!t)throw ay(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw gd(e),new Error(e)}function Zr(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Dj(){return MS()==="http:"||MS()==="https:"}function MS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Dj()||dM()||"connection"in navigator)?navigator.onLine:!0}function jj(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.shortDelay=e,this.longDelay=n,Zr(n>e,"Short delay should be less than long delay!"),this.isMobile=ry()||JI()}get(){return Mj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e){Zr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vj=new Mc(3e4,6e4);function ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ni(t,e,n,r,s={}){return ux(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=wa(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),cx.fetch()(dx(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function ux(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$j),e);try{const s=new Fj(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ju(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ju(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ju(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ju(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw lx(t,u,c);Gn(t,u)}}catch(s){if(s instanceof xr)throw s;Gn(t,"network-request-failed",{message:String(s)})}}async function jc(t,e,n,r,s={}){const i=await ni(t,e,n,r,s);return"mfaPendingCredential"in i&&Gn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function dx(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ly(t.config,s):`${t.config.apiScheme}://${s}`}class Fj{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(yr(this.auth,"network-request-failed")),Vj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ju(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=yr(t,e,r);return s.customData._tokenResponse=n,s}async function Uj(t,e){return ni(t,"GET","/v2/recaptchaConfig",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bj(t,e){return ni(t,"POST","/v1/accounts:delete",e)}async function zj(t,e){return ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Hj(t,e=!1){const n=pt(t),r=await n.getIdToken(e),s=cy(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Il(um(s.auth_time)),issuedAtTime:Il(um(s.iat)),expirationTime:Il(um(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function um(t){return Number(t)*1e3}function cy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return gd("JWT malformed, contained fewer than 3 sections"),null;try{const s=nh(n);return s?JSON.parse(s):(gd("Failed to decode base64 JWT payload"),null)}catch(s){return gd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Wj(t){const e=cy(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xr&&qj(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gj{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ac(t,zj(n,{idToken:r}));ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Yj(i.providerUserInfo):[],a=Qj(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new hx(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function Kj(t){const e=pt(t);await ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Qj(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function Yj(t){return t.map(e=>{var{providerId:n}=e,r=oy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xj(t,e){const n=await ux(t,{},async()=>{const r=wa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=dx(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",cx.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Xj(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new lc;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lc,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fs(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Ri{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=oy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gj(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new hx(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Hj(this,e)}reload(){return Kj(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ri(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ah(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ac(this,Bj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(c=n.createdAt)!==null&&c!==void 0?c:void 0,_=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:S,isAnonymous:w,providerData:x,stsTokenManager:b}=n;ce(y&&b,e,"internal-error");const k=lc.fromJSON(this.name,b);ce(typeof y=="string",e,"internal-error"),fs(h,e.name),fs(f,e.name),ce(typeof S=="boolean",e,"internal-error"),ce(typeof w=="boolean",e,"internal-error"),fs(p,e.name),fs(m,e.name),fs(g,e.name),fs(E,e.name),fs(v,e.name),fs(_,e.name);const q=new Ri({uid:y,auth:e,email:f,emailVerified:S,displayName:h,isAnonymous:w,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:k,createdAt:v,lastLoginAt:_});return x&&Array.isArray(x)&&(q.providerData=x.map(O=>Object.assign({},O))),E&&(q._redirectEventId=E),q}static async _fromIdTokenResponse(e,n,r=!1){const s=new lc;s.updateFromServerResponse(n);const i=new Ri({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ah(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jS=new Map;function Br(t){Zr(t instanceof Function,"Expected a class definition");let e=jS.get(t);return e?(Zr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}fx.type="NONE";const $S=fx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t,e,n){return`firebase:${t}:${e}:${n}`}class Do{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=vd(this.userKey,s.apiKey,i),this.fullPersistenceKey=vd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ri._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Do(Br($S),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Br($S);const o=vd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=Ri._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Do(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Do(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(gx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(px(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_x(e))return"Blackberry";if(yx(e))return"Webos";if(uy(e))return"Safari";if((e.includes("chrome/")||mx(e))&&!e.includes("edge/"))return"Chrome";if(vx(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function px(t=tn()){return/firefox\//i.test(t)}function uy(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mx(t=tn()){return/crios\//i.test(t)}function gx(t=tn()){return/iemobile/i.test(t)}function vx(t=tn()){return/android/i.test(t)}function _x(t=tn()){return/blackberry/i.test(t)}function yx(t=tn()){return/webos/i.test(t)}function df(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jj(t=tn()){var e;return df(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Zj(){return hM()&&document.documentMode===10}function Ex(t=tn()){return df(t)||vx(t)||yx(t)||_x(t)||/windows phone/i.test(t)||gx(t)}function e$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e=[]){let n;switch(t){case"Browser":n=VS(tn());break;case"Worker":n=`${VS(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ei}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n$(t,e={}){return ni(t,"GET","/v2/passwordPolicy",ti(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r$=6;class s${constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:r$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new FS(this),this.idTokenSubscription=new FS(this),this.beforeStateQueue=new t$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ax,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Do.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?pt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await n$(this),n=new s$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Br(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await Do.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Sx(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Lj(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function us(t){return pt(t)}class FS{constructor(e){this.auth=e,this.observer=null,this.addObserver=SM(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function wx(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=yr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",o$().appendChild(r)})}function a$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const l$="https://www.google.com/recaptcha/enterprise.js?render=",c$="recaptcha-enterprise",u$="NO_RECAPTCHA";class d${constructor(e){this.type=c$,this.auth=us(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Uj(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new kj(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;DS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(u$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&DS(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}wx(l$+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function lh(t,e,n,r=!1){const s=new d$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h$(t,e){const n=uf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(sh(i,e??{}))return s;Gn(s,"already-initialized")}return n.initialize({options:e})}function f$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function p$(t,e,n){const r=us(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Tx(e),{host:o,port:a}=m$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||g$()}function Tx(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function m$(t){const e=Tx(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:US(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:US(o)}}}function US(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function g$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function v$(t,e){return ni(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(t,e){return jc(t,"POST","/v1/accounts:signInWithPassword",ti(t,e))}async function _$(t,e){return ni(t,"POST","/v1/accounts:sendOobCode",ti(t,e))}async function y$(t,e){return _$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E$(t,e){return jc(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}async function S$(t,e){return jc(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends dy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await lh(e,r,"signInWithPassword");return dm(e,s)}else return dm(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await lh(e,r,"signInWithPassword");return dm(e,i)}else return Promise.reject(s)});case"emailLink":return E$(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return v$(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return S$(e,{idToken:n,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(t,e){return jc(t,"POST","/v1/accounts:signInWithIdp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w$="http://localhost";class Oi extends dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Gn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=oy(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Oi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Mo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Mo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Mo(e,n)}buildRequest(){const e={requestUri:w$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=wa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function C$(t){const e=ul(dl(t)).link,n=e?ul(dl(e)).deep_link_id:null,r=ul(dl(t)).deep_link_id;return(r?ul(dl(r)).link:null)||r||n||e||t}class hy{constructor(e){var n,r,s,i,o,a;const l=ul(dl(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=T$((s=l.mode)!==null&&s!==void 0?s:null);ce(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=C$(e);try{return new hy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(){this.providerId=Ta.PROVIDER_ID}static credential(e,n){return cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hy.parseLink(n);return ce(r,"argument-error"),cc._fromEmailAndCode(e,r.code,r.tenantId)}}Ta.PROVIDER_ID="password";Ta.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ta.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c extends fy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es extends $c{constructor(){super("facebook.com")}static credential(e){return Oi._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.FACEBOOK_SIGN_IN_METHOD="facebook.com";Es.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends $c{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Oi._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return $r.credential(n,r)}catch{return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com";$r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss extends $c{constructor(){super("github.com")}static credential(e){return Oi._fromParams({providerId:Ss.PROVIDER_ID,signInMethod:Ss.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ss.credentialFromTaggedObject(e)}static credentialFromError(e){return Ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ss.credential(e.oauthAccessToken)}catch{return null}}}Ss.GITHUB_SIGN_IN_METHOD="github.com";Ss.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws extends $c{constructor(){super("twitter.com")}static credential(e,n){return Oi._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ws.credential(n,r)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hm(t,e){return jc(t,"POST","/v1/accounts:signUp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Ri._fromIdTokenResponse(e,r,s),o=BS(r);return new Di({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=BS(r);return new Di({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function BS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends xr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new ch(e,n,r,s)}}function Cx(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(t,i,e,r):i})}async function R$(t,e,n=!1){const r=await ac(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Di._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I$(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await ac(t,Cx(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=cy(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),Di._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Gn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(t,e,n=!1){const r="signIn",s=await Cx(t,r,e),i=await Di._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function x$(t,e){return Rx(us(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N$(t,e,n){var r;ce(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ce(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ce(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ce(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(t){const e=us(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function b$(t,e,n){var r;const s=us(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await lh(s,i,"signUpPassword");o=hm(s,c)}else o=hm(s,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await lh(s,i,"signUpPassword");return hm(s,u)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Ix(t),c}),l=await Di._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function zS(t,e,n){return x$(pt(t),Ta.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Ix(t),r})}async function A$(t,e){const n=pt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&N$(n.auth,s,e);const{email:i}=await y$(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k$(t,e){return pt(t).setPersistence(e)}function P$(t,e,n,r){return pt(t).onIdTokenChanged(e,n,r)}function L$(t,e,n){return pt(t).beforeAuthStateChanged(e,n)}function hf(t,e,n,r){return pt(t).onAuthStateChanged(e,n,r)}function O$(t){return pt(t).signOut()}const uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xx{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D$(){const t=tn();return uy(t)||df(t)}const M$=1e3,j$=10;class Nx extends xx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=D$()&&e$(),this.fallbackToPolling=Ex(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Zj()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,j$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},M$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Nx.type="LOCAL";const $$=Nx;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx extends xx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}bx.type="SESSION";const py=bx;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ff{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new ff(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await V$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ff.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=my("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return window}function U$(t){Er().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}async function B$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function z$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function H$(){return Ax()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kx="firebaseLocalStorageDb",W$=1,dh="firebaseLocalStorage",Px="fbase_key";class Vc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function pf(t,e){return t.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function q$(){const t=indexedDB.deleteDatabase(kx);return new Vc(t).toPromise()}function nv(){const t=indexedDB.open(kx,W$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(dh,{keyPath:Px})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(dh)?e(r):(r.close(),await q$(),e(await nv()))})})}async function HS(t,e,n){const r=pf(t,!0).put({[Px]:e,value:n});return new Vc(r).toPromise()}async function G$(t,e){const n=pf(t,!1).get(e),r=await new Vc(n).toPromise();return r===void 0?null:r.value}function WS(t,e){const n=pf(t,!0).delete(e);return new Vc(n).toPromise()}const K$=800,Q$=3;class Lx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await nv(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Q$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ax()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ff._getInstance(H$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await B$(),!this.activeServiceWorker)return;this.sender=new F$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||z$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nv();return await HS(e,uh,"1"),await WS(e,uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>HS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>G$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>WS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=pf(s,!1).getAll();return new Vc(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),K$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Lx.type="LOCAL";const Y$=Lx;new Mc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e){return e?Br(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function X$(t){return Rx(t.auth,new gy(t),t.bypassAuthState)}function J$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),I$(n,new gy(t),t.bypassAuthState)}async function Z$(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),R$(n,new gy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return X$;case"linkViaPopup":case"linkViaRedirect":return Z$;case"reauthViaPopup":case"reauthViaRedirect":return J$;default:Gn(this.auth,"internal-error")}}resolve(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Zr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new Mc(2e3,1e4);class Ro extends Dx{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Ro.currentPopupAction&&Ro.currentPopupAction.cancel(),Ro.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){Zr(this.filter.length===1,"Popup operations only handle one event");const e=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(yr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ro.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,eV.get())};e()}}Ro.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tV="pendingRedirect",_d=new Map;class nV extends Dx{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_d.get(this.auth._key());if(!e){try{const r=await rV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_d.set(this.auth._key(),e)}return this.bypassAuthState||_d.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rV(t,e){const n=jx(e),r=Mx(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function sV(t,e){return Mx(t)._set(jx(e),"true")}function iV(t,e){_d.set(t._key(),e)}function Mx(t){return Br(t._redirectPersistence)}function jx(t){return vd(tV,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oV(t,e,n){return aV(t,e,n)}async function aV(t,e,n){const r=us(t);Oj(t,e,fy),await r._initializationPromise;const s=Ox(r,n);return await sV(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function $x(t,e){return await us(t)._initializationPromise,Vx(t,e,!1)}async function Vx(t,e,n=!1){const r=us(t),s=Ox(r,e),o=await new nV(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=10*60*1e3;class cV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!uV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Fx(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(yr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=lV&&this.cachedEventUids.clear(),this.cachedEventUids.has(qS(e))}saveEventToCache(e){this.cachedEventUids.add(qS(e)),this.lastProcessedEventTime=Date.now()}}function qS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Fx({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function uV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Fx(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e={}){return ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fV=/^https?/;async function pV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await dV(t);for(const n of e)try{if(mV(n))return}catch{}Gn(t,"unauthorized-domain")}function mV(t){const e=tv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!fV.test(n))return!1;if(hV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV=new Mc(3e4,6e4);function GS(){const t=Er().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function vV(t){return new Promise((e,n)=>{var r,s,i;function o(){GS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GS(),n(yr(t,"network-request-failed"))},timeout:gV.get()})}if(!((s=(r=Er().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Er().gapi)===null||i===void 0)&&i.load)o();else{const a=a$("iframefcb");return Er()[a]=()=>{gapi.load?o():n(yr(t,"network-request-failed"))},wx(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw yd=null,e})}let yd=null;function _V(t){return yd=yd||vV(t),yd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=new Mc(5e3,15e3),EV="__/auth/iframe",SV="emulator/auth/iframe",wV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CV(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ly(e,SV):`https://${t.config.authDomain}/${EV}`,r={apiKey:e.apiKey,appName:t.name,v:ei},s=TV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${wa(r).slice(1)}`}async function RV(t){const e=await _V(t),n=Er().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:CV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=yr(t,"network-request-failed"),a=Er().setTimeout(()=>{i(o)},yV.get());function l(){Er().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xV=500,NV=600,bV="_blank",AV="http://localhost";class KS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kV(t,e,n,r=xV,s=NV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},IV),{width:r.toString(),height:s.toString(),top:i,left:o}),c=tn().toLowerCase();n&&(a=mx(c)?bV:n),px(c)&&(e=e||AV,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(Jj(c)&&a!=="_self")return PV(e||"",a),new KS(null);const h=window.open(e||"",a,u);ce(h,t,"popup-blocked");try{h.focus()}catch{}return new KS(h)}function PV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="__/auth/handler",OV="emulator/auth/handler",DV=encodeURIComponent("fac");async function QS(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ei,eventId:s};if(e instanceof fy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Qg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof $c){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${DV}=${encodeURIComponent(l)}`:"";return`${MV(t)}?${wa(a).slice(1)}${c}`}function MV({config:t}){return t.emulator?ly(t,OV):`https://${t.authDomain}/${LV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="webStorageSupport";class jV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=py,this._completeRedirectFn=Vx,this._overrideRedirectResult=iV}async _openPopup(e,n,r,s){var i;Zr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await QS(e,n,r,tv(),s);return kV(e,o,my())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await QS(e,n,r,tv(),s);return U$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Zr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await RV(e),r=new cV(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fm,{type:fm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[fm];o!==void 0&&n(!!o),Gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=pV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ex()||uy()||df()}}const $V=jV;var YS="@firebase/auth",XS="1.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function UV(t){qs(new Jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sx(t)},c=new i$(r,s,i,l);return f$(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qs(new Jr("auth-internal",e=>{const n=us(e.getProvider("auth").getImmediate());return(r=>new VV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(YS,XS,FV(t)),zn(YS,XS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BV=5*60,zV=YI("authIdTokenMaxAge")||BV;let JS=null;const HV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zV)return;const s=n==null?void 0:n.token;JS!==s&&(JS=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function es(t=iy()){const e=uf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=h$(t,{popupRedirectResolver:$V,persistence:[Y$,$$,py]}),r=YI("authTokenSyncURL");if(r){const i=HV(r);L$(n,i,()=>i(n.currentUser)),P$(n,o=>i(o))}const s=GI("auth");return s&&p$(n,`http://${s}`),n}UV("Browser");function WV(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var qV=WV,Se=qV;function GV(t){return!!t&&typeof t.then=="function"}var Ge=GV;function KV(t,e){if(t!=null)return t;throw Se(e??"Got unexpected null or undefined")}var tt=KV;function _e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class mf{getValue(){throw Se("BaseLoadable")}toPromise(){throw Se("BaseLoadable")}valueMaybe(){throw Se("BaseLoadable")}valueOrThrow(){throw Se(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Se("BaseLoadable")}promiseOrThrow(){throw Se(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Se("BaseLoadable")}errorOrThrow(){throw Se(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Se("BaseLoadable")}}class QV extends mf{constructor(e){super(),_e(this,"state","hasValue"),_e(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Ge(n)?Mi(n):ea(n)?n:Fc(n)}catch(n){return Ge(n)?Mi(n.next(()=>this.map(e))):gf(n)}}}class YV extends mf{constructor(e){super(),_e(this,"state","hasError"),_e(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class Ux extends mf{constructor(e){super(),_e(this,"state","loading"),_e(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Mi(this.contents.then(n=>{const r=e(n);if(ea(r)){const s=r;switch(s.state){case"hasValue":return s.contents;case"hasError":throw s.contents;case"loading":return s.contents}}return r}).catch(n=>{if(Ge(n))return n.then(()=>this.map(e).contents);throw n}))}}function Fc(t){return Object.freeze(new QV(t))}function gf(t){return Object.freeze(new YV(t))}function Mi(t){return Object.freeze(new Ux(t))}function Bx(){return Object.freeze(new Ux(new Promise(()=>{})))}function XV(t){return t.every(e=>e.state==="hasValue")?Fc(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?gf(tt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Mi(Promise.all(t.map(e=>e.contents)))}function zx(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(s=>t[s])).map(s=>ea(s)?s:Ge(s)?Mi(s):Fc(s)),r=XV(n);return Array.isArray(t)?r:r.map(s=>Object.getOwnPropertyNames(t).reduce((i,o,a)=>({...i,[o]:s[a]}),{}))}function ea(t){return t instanceof mf}const JV={of:t=>Ge(t)?Mi(t):ea(t)?t:Fc(t),error:t=>gf(t),loading:()=>Bx(),all:zx,isLoadable:ea};var Qi={loadableWithValue:Fc,loadableWithError:gf,loadableWithPromise:Mi,loadableLoading:Bx,loadableAll:zx,isLoadable:ea,RecoilLoadable:JV},ZV=Qi.loadableWithValue,e2=Qi.loadableWithError,t2=Qi.loadableWithPromise,n2=Qi.loadableLoading,r2=Qi.loadableAll,s2=Qi.isLoadable,i2=Qi.RecoilLoadable,Uc=Object.freeze({__proto__:null,loadableWithValue:ZV,loadableWithError:e2,loadableWithPromise:t2,loadableLoading:n2,loadableAll:r2,isLoadable:s2,RecoilLoadable:i2});const rv={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function o2(t,e){var n,r;const s=(n=process.env[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(s==null||s==="")return;if(!["true","false"].includes(s))throw Se(`({}).${t} value must be 'true', 'false', or empty: ${s}`);e(s==="true")}function a2(t,e){var n;const r=(n=process.env[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function l2(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(o2("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{rv.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),a2("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{rv.RECOIL_GKS_ENABLED.add(n)})}))}l2();var Ca=rv;function vf(t){return Ca.RECOIL_GKS_ENABLED.has(t)}vf.setPass=t=>{Ca.RECOIL_GKS_ENABLED.add(t)};vf.setFail=t=>{Ca.RECOIL_GKS_ENABLED.delete(t)};vf.clear=()=>{Ca.RECOIL_GKS_ENABLED.clear()};var Ue=vf;function c2(t,e,{error:n}={}){return null}var u2=c2,vy=u2,pm,mm,gm;const d2=(pm=fe.createMutableSource)!==null&&pm!==void 0?pm:fe.unstable_createMutableSource,Hx=(mm=fe.useMutableSource)!==null&&mm!==void 0?mm:fe.unstable_useMutableSource,Wx=(gm=fe.useSyncExternalStore)!==null&&gm!==void 0?gm:fe.unstable_useSyncExternalStore;function h2(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function f2(){return Ue("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ue("recoil_sync_external_store")&&Wx!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ue("recoil_mutable_source")&&Hx!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ue("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ue("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function p2(){return!1}var Bc={createMutableSource:d2,useMutableSource:Hx,useSyncExternalStore:Wx,currentRendererSupportsUseSyncExternalStore:h2,reactMode:f2,isFastRefreshEnabled:p2};class _y{constructor(e){_e(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class qx extends _y{}class Gx extends _y{}function m2(t){return t instanceof qx||t instanceof Gx}var _f={AbstractRecoilValue:_y,RecoilState:qx,RecoilValueReadOnly:Gx,isRecoilValue:m2},g2=_f.AbstractRecoilValue,v2=_f.RecoilState,_2=_f.RecoilValueReadOnly,y2=_f.isRecoilValue,ta=Object.freeze({__proto__:null,AbstractRecoilValue:g2,RecoilState:v2,RecoilValueReadOnly:_2,isRecoilValue:y2});function E2(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var yf=E2;class Kx{}const S2=new Kx,ji=new Map,yy=new Map;function w2(t){return yf(t,e=>tt(yy.get(e)))}function T2(t){if(ji.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function C2(t){Ca.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&T2(t.key),ji.set(t.key,t);const e=t.set==null?new ta.RecoilValueReadOnly(t.key):new ta.RecoilState(t.key);return yy.set(t.key,e),e}class Qx extends Error{}function R2(t){const e=ji.get(t);if(e==null)throw new Qx(`Missing definition for RecoilValue: "${t}""`);return e}function I2(t){return ji.get(t)}const hh=new Map;function x2(t){var e;if(!Ue("recoil_memory_managament_2020"))return;const n=ji.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;ji.delete(t),(r=Yx(t))===null||r===void 0||r(),hh.delete(t)}}function N2(t,e){Ue("recoil_memory_managament_2020")&&(e===void 0?hh.delete(t):hh.set(t,e))}function Yx(t){return hh.get(t)}var wn={nodes:ji,recoilValues:yy,registerNode:C2,getNode:R2,getNodeMaybe:I2,deleteNodeConfigIfPossible:x2,setConfigDeletionHandler:N2,getConfigDeletionHandler:Yx,recoilValuesForKeys:w2,NodeMissingError:Qx,DefaultValue:Kx,DEFAULT_VALUE:S2};function b2(t,e){e()}var A2={enqueueExecution:b2};function k2(t,e){return e={exports:{}},t(e,e.exports),e.exports}var P2=k2(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},n={},r=5,s=Math.pow(2,r),i=s-1,o=s/2,a=s/4,l={},c=function(C){return function(){return C}},u=n.hash=function(I){var C=typeof I>"u"?"undefined":e(I);if(C==="number")return I;C!=="string"&&(I+="");for(var V=0,Y=0,X=I.length;Y<X;++Y){var ee=I.charCodeAt(Y);V=(V<<5)-V+ee|0}return V},h=function(C){return C-=C>>1&1431655765,C=(C&858993459)+(C>>2&858993459),C=C+(C>>4)&252645135,C+=C>>8,C+=C>>16,C&127},f=function(C,V){return V>>>C&i},p=function(C){return 1<<C},m=function(C,V){return h(C&V-1)},g=function(C,V,Y,X){var ee=X;if(!C){var he=X.length;ee=new Array(he);for(var ue=0;ue<he;++ue)ee[ue]=X[ue]}return ee[V]=Y,ee},E=function(C,V,Y){var X=Y.length-1,ee=0,he=0,ue=Y;if(C)ee=he=V;else for(ue=new Array(X);ee<V;)ue[he++]=Y[ee++];for(++ee;ee<=X;)ue[he++]=Y[ee++];return C&&(ue.length=X),ue},v=function(C,V,Y,X){var ee=X.length;if(C){for(var he=ee;he>=V;)X[he--]=X[he];return X[V]=Y,X}for(var ue=0,de=0,Ce=new Array(ee+1);ue<V;)Ce[de++]=X[ue++];for(Ce[V]=Y;ue<ee;)Ce[++de]=X[ue++];return Ce},_=1,y=2,S=3,w=4,x={__hamt_isEmpty:!0},b=function(C){return C===x||C&&C.__hamt_isEmpty},k=function(C,V,Y,X){return{type:_,edit:C,hash:V,key:Y,value:X,_modify:M}},q=function(C,V,Y){return{type:y,edit:C,hash:V,children:Y,_modify:D}},O=function(C,V,Y){return{type:S,edit:C,mask:V,children:Y,_modify:W}},P=function(C,V,Y){return{type:w,edit:C,size:V,children:Y,_modify:ie}},N=function(C){return C===x||C.type===_||C.type===y},A=function(C,V,Y,X,ee){for(var he=[],ue=X,de=0,Ce=0;ue;++Ce)ue&1&&(he[Ce]=ee[de++]),ue>>>=1;return he[V]=Y,P(C,de+1,he)},H=function(C,V,Y,X){for(var ee=new Array(V-1),he=0,ue=0,de=0,Ce=X.length;de<Ce;++de)if(de!==Y){var Ze=X[de];Ze&&!b(Ze)&&(ee[he++]=Ze,ue|=1<<de)}return O(C,ue,ee)},re=function I(C,V,Y,X,ee,he){if(Y===ee)return q(C,Y,[he,X]);var ue=f(V,Y),de=f(V,ee);return O(C,p(ue)|p(de),ue===de?[I(C,V+r,Y,X,ee,he)]:ue<de?[X,he]:[he,X])},Ee=function(C,V,Y,X,ee,he,ue,de){for(var Ce=ee.length,Ze=0;Ze<Ce;++Ze){var hn=ee[Ze];if(Y(ue,hn.key)){var wt=hn.value,Dn=he(wt);return Dn===wt?ee:Dn===l?(--de.value,E(C,Ze,ee)):g(C,Ze,k(V,X,ue,Dn),ee)}}var Qn=he();return Qn===l?ee:(++de.value,g(C,Ce,k(V,X,ue,Qn),ee))},we=function(C,V){return C===V.edit},M=function(C,V,Y,X,ee,he,ue){if(V(he,this.key)){var de=X(this.value);return de===this.value?this:de===l?(--ue.value,x):we(C,this)?(this.value=de,this):k(C,ee,he,de)}var Ce=X();return Ce===l?this:(++ue.value,re(C,Y,this.hash,this,ee,k(C,ee,he,Ce)))},D=function(C,V,Y,X,ee,he,ue){if(ee===this.hash){var de=we(C,this),Ce=Ee(de,C,V,this.hash,this.children,X,he,ue);return Ce===this.children?this:Ce.length>1?q(C,this.hash,Ce):Ce[0]}var Ze=X();return Ze===l?this:(++ue.value,re(C,Y,this.hash,this,ee,k(C,ee,he,Ze)))},W=function(C,V,Y,X,ee,he,ue){var de=this.mask,Ce=this.children,Ze=f(Y,ee),hn=p(Ze),wt=m(de,hn),Dn=de&hn,Qn=Dn?Ce[wt]:x,no=Qn._modify(C,V,Y+r,X,ee,he,ue);if(Qn===no)return this;var yu=we(C,this),Da=de,Ma=void 0;if(Dn&&b(no)){if(Da&=~hn,!Da)return x;if(Ce.length<=2&&N(Ce[wt^1]))return Ce[wt^1];Ma=E(yu,wt,Ce)}else if(!Dn&&!b(no)){if(Ce.length>=o)return A(C,Ze,no,de,Ce);Da|=hn,Ma=v(yu,wt,no,Ce)}else Ma=g(yu,wt,no,Ce);return yu?(this.mask=Da,this.children=Ma,this):O(C,Da,Ma)},ie=function(C,V,Y,X,ee,he,ue){var de=this.size,Ce=this.children,Ze=f(Y,ee),hn=Ce[Ze],wt=(hn||x)._modify(C,V,Y+r,X,ee,he,ue);if(hn===wt)return this;var Dn=we(C,this),Qn=void 0;if(b(hn)&&!b(wt))++de,Qn=g(Dn,Ze,wt,Ce);else if(!b(hn)&&b(wt)){if(--de,de<=a)return H(C,de,Ze,Ce);Qn=g(Dn,Ze,x,Ce)}else Qn=g(Dn,Ze,wt,Ce);return Dn?(this.size=de,this.children=Qn,this):P(C,de,Qn)};x._modify=function(I,C,V,Y,X,ee,he){var ue=Y();return ue===l?x:(++he.value,k(I,X,ee,ue))};function R(I,C,V,Y,X){this._editable=I,this._edit=C,this._config=V,this._root=Y,this._size=X}R.prototype.setTree=function(I,C){return this._editable?(this._root=I,this._size=C,this):I===this._root?this:new R(this._editable,this._edit,this._config,I,C)};var j=n.tryGetHash=function(I,C,V,Y){for(var X=Y._root,ee=0,he=Y._config.keyEq;;)switch(X.type){case _:return he(V,X.key)?X.value:I;case y:{if(C===X.hash)for(var ue=X.children,de=0,Ce=ue.length;de<Ce;++de){var Ze=ue[de];if(he(V,Ze.key))return Ze.value}return I}case S:{var hn=f(ee,C),wt=p(hn);if(X.mask&wt){X=X.children[m(X.mask,wt)],ee+=r;break}return I}case w:{if(X=X.children[f(ee,C)],X){ee+=r;break}return I}default:return I}};R.prototype.tryGetHash=function(I,C,V){return j(I,C,V,this)};var $=n.tryGet=function(I,C,V){return j(I,V._config.hash(C),C,V)};R.prototype.tryGet=function(I,C){return $(I,C,this)};var ne=n.getHash=function(I,C,V){return j(void 0,I,C,V)};R.prototype.getHash=function(I,C){return ne(I,C,this)},n.get=function(I,C){return j(void 0,C._config.hash(I),I,C)},R.prototype.get=function(I,C){return $(C,I,this)};var J=n.has=function(I,C,V){return j(l,I,C,V)!==l};R.prototype.hasHash=function(I,C){return J(I,C,this)};var ve=n.has=function(I,C){return J(C._config.hash(I),I,C)};R.prototype.has=function(I){return ve(I,this)};var Te=function(C,V){return C===V};n.make=function(I){return new R(0,0,{keyEq:I&&I.keyEq||Te,hash:I&&I.hash||u},x,0)},n.empty=n.make();var oe=n.isEmpty=function(I){return I&&!!b(I._root)};R.prototype.isEmpty=function(){return oe(this)};var Xe=n.modifyHash=function(I,C,V,Y){var X={value:Y._size},ee=Y._root._modify(Y._editable?Y._edit:NaN,Y._config.keyEq,0,I,C,V,X);return Y.setTree(ee,X.value)};R.prototype.modifyHash=function(I,C,V){return Xe(V,I,C,this)};var St=n.modify=function(I,C,V){return Xe(I,V._config.hash(C),C,V)};R.prototype.modify=function(I,C){return St(C,I,this)};var $e=n.setHash=function(I,C,V,Y){return Xe(c(V),I,C,Y)};R.prototype.setHash=function(I,C,V){return $e(I,C,V,this)};var Je=n.set=function(I,C,V){return $e(V._config.hash(I),I,C,V)};R.prototype.set=function(I,C){return Je(I,C,this)};var On=c(l),Pr=n.removeHash=function(I,C,V){return Xe(On,I,C,V)};R.prototype.removeHash=R.prototype.deleteHash=function(I,C){return Pr(I,C,this)};var rn=n.remove=function(I,C){return Pr(C._config.hash(I),I,C)};R.prototype.remove=R.prototype.delete=function(I){return rn(I,this)};var Vt=n.beginMutation=function(I){return new R(I._editable+1,I._edit+1,I._config,I._root,I._size)};R.prototype.beginMutation=function(){return Vt(this)};var _u=n.endMutation=function(I){return I._editable=I._editable&&I._editable-1,I};R.prototype.endMutation=function(){return _u(this)};var gP=n.mutate=function(I,C){var V=Vt(C);return I(V),_u(V)};R.prototype.mutate=function(I){return gP(I,this)};var Np=function(C){return C&&lE(C[0],C[1],C[2],C[3],C[4])},lE=function(C,V,Y,X,ee){for(;Y<C;){var he=V[Y++];if(he&&!b(he))return cE(he,X,[C,V,Y,X,ee])}return Np(ee)},cE=function(C,V,Y){switch(C.type){case _:return{value:V(C),rest:Y};case y:case w:case S:var X=C.children;return lE(X.length,X,0,V,Y);default:return Np(Y)}},vP={done:!0};function bp(I){this.v=I}bp.prototype.next=function(){if(!this.v)return vP;var I=this.v;return this.v=Np(I.rest),I},bp.prototype[Symbol.iterator]=function(){return this};var Ap=function(C,V){return new bp(cE(C._root,V))},_P=function(C){return[C.key,C.value]},yP=n.entries=function(I){return Ap(I,_P)};R.prototype.entries=R.prototype[Symbol.iterator]=function(){return yP(this)};var EP=function(C){return C.key},SP=n.keys=function(I){return Ap(I,EP)};R.prototype.keys=function(){return SP(this)};var wP=function(C){return C.value},TP=n.values=R.prototype.values=function(I){return Ap(I,wP)};R.prototype.values=function(){return TP(this)};var uE=n.fold=function(I,C,V){var Y=V._root;if(Y.type===_)return I(C,Y.value,Y.key);for(var X=[Y.children],ee=void 0;ee=X.pop();)for(var he=0,ue=ee.length;he<ue;){var de=ee[he++];de&&de.type&&(de.type===_?C=I(C,de.value,de.key):X.push(de.children))}return C};R.prototype.fold=function(I,C){return uE(I,C,this)};var CP=n.forEach=function(I,C){return uE(function(V,Y,X){return I(Y,X,C)},null,C)};R.prototype.forEach=function(I){return CP(I,this)};var RP=n.count=function(I){return I._size};R.prototype.count=function(){return RP(this)},Object.defineProperty(R.prototype,"size",{get:R.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class L2{constructor(e){_e(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Sy(this)}toMap(){return new Map(this._map)}}class Ey{constructor(e){if(_e(this,"_hamt",P2.empty.beginMutation()),e instanceof Ey){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Sy(this)}toMap(){return new Map(this._hamt)}}function Sy(t){return Ue("recoil_hamt_2020")?new Ey(t):new L2(t)}var O2={persistentMap:Sy},D2=O2.persistentMap,M2=Object.freeze({__proto__:null,persistentMap:D2});function j2(t,...e){const n=new Set;e:for(const r of t){for(const s of e)if(s.has(r))continue e;n.add(r)}return n}var xl=j2;function $2(t,e){const n=new Map;return t.forEach((r,s)=>{n.set(s,e(r,s))}),n}var fh=$2;function V2(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function F2(t){return{nodeDeps:fh(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:fh(t.nodeToNodeSubscriptions,e=>new Set(e))}}function vm(t,e,n,r){const{nodeDeps:s,nodeToNodeSubscriptions:i}=n,o=s.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;s.set(t,e);const a=o==null?e:xl(e,o);for(const l of a)i.has(l)||i.set(l,new Set),tt(i.get(l)).add(t);if(o){const l=xl(o,e);for(const c of l){if(!i.has(c))return;const u=tt(i.get(c));u.delete(t),u.size===0&&i.delete(c)}}}function U2(t,e,n,r){var s,i,o,a;const l=n.getState();r===l.currentTree.version||r===((s=l.nextTree)===null||s===void 0?void 0:s.version)||((i=l.previousTree)===null||i===void 0||i.version);const c=n.getGraph(r);if(vm(t,e,c),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const h=n.getGraph(l.currentTree.version);vm(t,e,h,c)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var u;const h=(u=l.nextTree)===null||u===void 0?void 0:u.version;if(h!==void 0){const f=n.getGraph(h);vm(t,e,f,c)}}}var zc={cloneGraph:F2,graph:V2,saveDepsToStore:U2};let B2=0;const z2=()=>B2++;let H2=0;const W2=()=>H2++;let q2=0;const G2=()=>q2++;var Ef={getNextTreeStateVersion:z2,getNextStoreID:W2,getNextComponentID:G2};const{persistentMap:ZS}=M2,{graph:K2}=zc,{getNextTreeStateVersion:Xx}=Ef;function Jx(){const t=Xx();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:ZS(),nonvalidatedAtoms:ZS()}}function Q2(){const t=Jx();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,K2()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var Zx={makeEmptyTreeState:Jx,makeEmptyStoreState:Q2,getNextTreeStateVersion:Xx};class e1{}function Y2(){return new e1}var Sf={RetentionZone:e1,retentionZone:Y2};function X2(t,e){const n=new Set(t);return n.add(e),n}function J2(t,e){const n=new Set(t);return n.delete(e),n}function Z2(t,e,n){const r=new Map(t);return r.set(e,n),r}function eF(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function tF(t,e){const n=new Map(t);return n.delete(e),n}function nF(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var t1={setByAddingToSet:X2,setByDeletingFromSet:J2,mapBySettingInMap:Z2,mapByUpdatingInMap:eF,mapByDeletingFromMap:tF,mapByDeletingMultipleFromMap:nF};function*rF(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var wy=rF;function sF(t,e){return new Proxy(t,{get:(r,s)=>(!(s in r)&&s in e&&(r[s]=e[s]()),r[s]),ownKeys:r=>Object.keys(r)})}var n1=sF;const{getNode:Hc,getNodeMaybe:iF,recoilValuesForKeys:ew}=wn,{RetentionZone:tw}=Sf,{setByAddingToSet:oF}=t1,aF=Object.freeze(new Set);class lF extends Error{}function cF(t,e,n){if(!Ue("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function s(i){let o=r.get(i);o||r.set(i,o=new Set),o.add(e)}if(n instanceof tw)s(n);else if(Array.isArray(n))for(const i of n)s(i);return()=>{if(!Ue("recoil_memory_managament_2020"))return;const{retention:i}=t.getState();function o(a){const l=i.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&i.nodesRetainedByZone.delete(a)}if(n instanceof tw)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function Ty(t,e,n,r){const s=t.getState();if(s.nodeCleanupFunctions.has(n))return;const i=Hc(n),o=cF(t,n,i.retainedBy),a=i.init(t,e,r);s.nodeCleanupFunctions.set(n,()=>{a(),o()})}function uF(t,e,n){Ty(t,t.getState().currentTree,e,n)}function dF(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function hF(t,e,n){return Ty(t,e,n,"get"),Hc(n).get(t,e)}function r1(t,e,n){return Hc(n).peek(t,e)}function fF(t,e,n){var r;const s=iF(e);return s==null||(r=s.invalidate)===null||r===void 0||r.call(s,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:oF(t.dirtyAtoms,e)}}function pF(t,e,n,r){const s=Hc(n);if(s.set==null)throw new lF(`Attempt to set read-only RecoilValue: ${n}`);const i=s.set;return Ty(t,e,n,"set"),i(t,e,r)}function mF(t,e,n){const r=t.getState(),s=t.getGraph(e.version),i=Hc(n).nodeType;return n1({type:i},{loadable:()=>r1(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>i==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return ew((o=s.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:ew(wy(s1(t,e,new Set([n])),l=>l!==n)),components:yf((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function s1(t,e,n){const r=new Set,s=Array.from(n),i=t.getGraph(e.version);for(let a=s.pop();a;a=s.pop()){var o;r.add(a);const l=(o=i.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:aF;for(const c of l)r.has(c)||s.push(c)}return r}var ri={getNodeLoadable:hF,peekNodeLoadable:r1,setNodeValue:pF,initializeNode:uF,cleanUpNode:dF,setUnvalidatedAtomValue_DEPRECATED:fF,peekNodeInfo:mF,getDownstreamNodes:s1};let i1=null;function gF(t){i1=t}function vF(){var t;(t=i1)===null||t===void 0||t()}var o1={setInvalidateMemoizedSnapshot:gF,invalidateMemoizedSnapshot:vF};const{getDownstreamNodes:_F,getNodeLoadable:a1,setNodeValue:yF}=ri,{getNextComponentID:EF}=Ef,{getNode:SF,getNodeMaybe:l1}=wn,{DefaultValue:Cy}=wn,{reactMode:wF}=Bc,{AbstractRecoilValue:TF,RecoilState:CF,RecoilValueReadOnly:RF,isRecoilValue:IF}=ta,{invalidateMemoizedSnapshot:xF}=o1;function NF(t,{key:e},n=t.getState().currentTree){var r,s;const i=t.getState();n.version===i.currentTree.version||n.version===((r=i.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(s=i.previousTree)===null||s===void 0||s.version);const o=a1(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function bF(t,e){const n=t.clone();return e.forEach((r,s)=>{r.state==="hasValue"&&r.contents instanceof Cy?n.delete(s):n.set(s,r)}),n}function AF(t,e,{key:n},r){if(typeof r=="function"){const s=a1(t,e,n);if(s.state==="loading"){const i=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Se(i)}else if(s.state==="hasError")throw s.contents;return r(s.contents)}else return r}function kF(t,e,n){if(n.type==="set"){const{recoilValue:s,valueOrUpdater:i}=n,o=AF(t,e,s,i),a=yF(t,e,s.key,o);for(const[l,c]of a.entries())sv(e,l,c)}else if(n.type==="setLoadable"){const{recoilValue:{key:s},loadable:i}=n;sv(e,s,i)}else if(n.type==="markModified"){const{recoilValue:{key:s}}=n;e.dirtyAtoms.add(s)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:s},unvalidatedValue:i}=n,o=l1(s);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(s),e.nonvalidatedAtoms.set(s,i),e.dirtyAtoms.add(s)}else vy(`Unknown action ${n.type}`)}function sv(t,e,n){n.state==="hasValue"&&n.contents instanceof Cy?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function c1(t,e){t.replaceState(n=>{const r=u1(n);for(const s of e)kF(t,r,s);return d1(t,r),xF(),r})}function wf(t,e){if(Nl.length){const n=Nl[Nl.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else c1(t,[e])}const Nl=[];function PF(){const t=new Map;return Nl.push(t),()=>{for(const[e,n]of t)c1(e,n);Nl.pop()}}function u1(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function d1(t,e){const n=_F(t,e,e.dirtyAtoms);for(const i of n){var r,s;(r=l1(i))===null||r===void 0||(s=r.invalidate)===null||s===void 0||s.call(r,e)}}function h1(t,e,n){wf(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function LF(t,e,n){if(n instanceof Cy)return h1(t,e,n);wf(t,{type:"setLoadable",recoilValue:e,loadable:n})}function OF(t,e){wf(t,{type:"markModified",recoilValue:e})}function DF(t,e,n){wf(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function MF(t,{key:e},n,r=null){const s=EF(),i=t.getState();i.nodeToComponentSubscriptions.has(e)||i.nodeToComponentSubscriptions.set(e,new Map),tt(i.nodeToComponentSubscriptions.get(e)).set(s,[r??"<not captured>",n]);const o=wF();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(s)||(l.delete(s),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function jF(t,e){var n;const{currentTree:r}=t.getState(),s=SF(e.key);(n=s.clearCache)===null||n===void 0||n.call(s,t,r)}var Nr={RecoilValueReadOnly:RF,AbstractRecoilValue:TF,RecoilState:CF,getRecoilValueAsLoadable:NF,setRecoilValue:h1,setRecoilValueLoadable:LF,markRecoilValueModified:OF,setUnvalidatedRecoilValue:DF,subscribeToRecoilValue:MF,isRecoilValue:IF,applyAtomValueWrites:bF,batchStart:PF,writeLoadableToTreeState:sv,invalidateDownstreams:d1,copyTreeState:u1,refreshRecoilValue:jF};function $F(t,e,n){const r=t.entries();let s=r.next();for(;!s.done;){const i=s.value;if(e.call(n,i[1],i[0],t))return!0;s=r.next()}return!1}var VF=$F;const{cleanUpNode:FF}=ri,{deleteNodeConfigIfPossible:UF,getNode:f1}=wn,{RetentionZone:p1}=Sf,BF=12e4,m1=new Set;function g1(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const s=new Set;for(const o of e)if(o instanceof p1)for(const a of qF(n,o))s.add(a);else s.add(o);const i=zF(t,s);for(const o of i)WF(t,r,o)}function zF(t,e){const n=t.getState(),r=n.currentTree,s=t.getGraph(r.version),i=new Set,o=new Set;return a(e),i;function a(l){const c=new Set,u=HF(t,r,l,i,o);for(const m of u){var h;if(f1(m).retainedBy==="recoilRoot"){o.add(m);continue}if(((h=n.retention.referenceCounts.get(m))!==null&&h!==void 0?h:0)>0){o.add(m);continue}if(v1(m).some(E=>n.retention.referenceCounts.get(E))){o.add(m);continue}const g=s.nodeToNodeSubscriptions.get(m);if(g&&VF(g,E=>o.has(E))){o.add(m);continue}i.add(m),c.add(m)}const f=new Set;for(const m of c)for(const g of(p=s.nodeDeps.get(m))!==null&&p!==void 0?p:m1){var p;i.has(g)||f.add(g)}f.size&&a(f)}}function HF(t,e,n,r,s){const i=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(tt(n.values().next().value));return o;function l(c){if(r.has(c)||s.has(c)){n.delete(c);return}if(a.has(c))return;const u=i.nodeToNodeSubscriptions.get(c);if(u)for(const h of u)l(h);a.add(c),n.delete(c),o.push(c)}}function WF(t,e,n){if(!Ue("recoil_memory_managament_2020"))return;FF(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const s=v1(n);for(const l of s){var i;(i=r.retention.nodesRetainedByZone.get(l))===null||i===void 0||i.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const c of l){var a;(a=o.nodeToNodeSubscriptions.get(c))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}UF(n)}function qF(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:m1}function v1(t){const e=f1(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof p1?[e]:e}function GF(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):g1(t,new Set([e]))}function KF(t,e,n){var r;if(!Ue("recoil_memory_managament_2020"))return;const s=t.getState().retention.referenceCounts,i=((r=s.get(e))!==null&&r!==void 0?r:0)+n;i===0?_1(t,e):s.set(e,i)}function _1(t,e){if(!Ue("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),GF(t,e)}function QF(t){if(!Ue("recoil_memory_managament_2020"))return;const e=t.getState();g1(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function YF(t){return t===void 0?"recoilRoot":t}var Yi={SUSPENSE_TIMEOUT_MS:BF,updateRetainCount:KF,updateRetainCountToZero:_1,releaseScheduledRetainablesNow:QF,retainedByOptionWithDefault:YF};const{unstable_batchedUpdates:XF}=JO;var JF={unstable_batchedUpdates:XF};const{unstable_batchedUpdates:ZF}=JF;var eU={unstable_batchedUpdates:ZF};const{batchStart:tU}=Nr,{unstable_batchedUpdates:nU}=eU;let Ry=nU||(t=>t());const rU=t=>{Ry=t},sU=()=>Ry,iU=t=>{Ry(()=>{let e=()=>{};try{e=tU(),t()}finally{e()}})};var Tf={getBatcher:sU,setBatcher:rU,batchUpdates:iU};function*oU(t){for(const e of t)for(const n of e)yield n}var y1=oU;const E1=typeof Window>"u"||typeof window>"u",aU=t=>!E1&&(t===window||t instanceof Window),lU=typeof navigator<"u"&&navigator.product==="ReactNative";var Cf={isSSR:E1,isReactNative:lU,isWindow:aU};function cU(t,e){let n;return(...r)=>{n||(n={});const s=e(...r);return Object.hasOwnProperty.call(n,s)||(n[s]=t(...r)),n[s]}}function uU(t,e){let n,r;return(...s)=>{const i=e(...s);return n===i||(n=i,r=t(...s)),r}}function dU(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var hU={memoizeWithArgsHash:cU,memoizeOneWithArgsHash:uU,memoizeOneWithArgsHashAndInvalidation:dU};const{batchUpdates:iv}=Tf,{initializeNode:fU,peekNodeInfo:pU}=ri,{graph:mU}=zc,{getNextStoreID:gU}=Ef,{DEFAULT_VALUE:vU,recoilValues:nw,recoilValuesForKeys:rw}=wn,{AbstractRecoilValue:_U,getRecoilValueAsLoadable:yU,setRecoilValue:sw,setUnvalidatedRecoilValue:EU}=Nr,{updateRetainCount:Ed}=Yi,{setInvalidateMemoizedSnapshot:SU}=o1,{getNextTreeStateVersion:wU,makeEmptyStoreState:TU}=Zx,{isSSR:CU}=Cf,{memoizeOneWithArgsHashAndInvalidation:RU}=hU;class Rf{constructor(e,n){_e(this,"_store",void 0),_e(this,"_refCount",1),_e(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),yU(this._store,r))),_e(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),_e(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return rw(o.dirtyAtoms)}const s=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?nw.values():r.isInitialized===!0?rw(y1([s,i])):wy(nw.values(),({key:o})=>!s.has(o)&&!i.has(o))}),_e(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),pU(this._store,this._store.getState().currentTree,r))),_e(this,"map",r=>{this.checkRefCount_INTERNAL();const s=new ov(this,iv);return r(s),s}),_e(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const s=new ov(this,iv);return s.retain(),await r(s),s.autoRelease_INTERNAL(),s}),this._store={storeID:gU(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const s=e.graphsByVersion;if(s.has(r))return tt(s.get(r));const i=mU();return s.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Se("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)fU(this._store,r,"get"),Ed(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){CU||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Ue("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Ue("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function S1(t,e,n=!1){const r=t.getState(),s=n?wU():e.version;return{currentTree:{version:n?s:e.version,stateID:n?s:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(s,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(yf(r.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function IU(t){const e=new Rf(TU());return t!=null?e.map(t):e}const[iw,w1]=RU((t,e)=>{var n;const r=t.getState(),s=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:tt(r.previousTree);return new Rf(S1(t,s),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});SU(w1);function xU(t,e="latest"){const n=iw(t,e);return n.isRetained()?n:(w1(),iw(t,e))}class ov extends Rf{constructor(e,n){super(S1(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),_e(this,"_batch",void 0),_e(this,"set",(r,s)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Ed(i,r.key,1),sw(this.getStore_INTERNAL(),r,s)})}),_e(this,"reset",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Ed(s,r.key,1),sw(this.getStore_INTERNAL(),r,vU)})}),_e(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();iv(()=>{for(const[i,o]of r.entries())Ed(s,i,1),EU(s,new _U(i),o)})}),this._batch=n}}var If={Snapshot:Rf,MutableSnapshot:ov,freshSnapshot:IU,cloneSnapshot:xU},NU=If.Snapshot,bU=If.MutableSnapshot,AU=If.freshSnapshot,kU=If.cloneSnapshot,xf=Object.freeze({__proto__:null,Snapshot:NU,MutableSnapshot:bU,freshSnapshot:AU,cloneSnapshot:kU});function PU(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var LU=PU;const{useRef:OU}=fe;function DU(t){const e=OU(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var ow=DU;const{getNextTreeStateVersion:MU,makeEmptyStoreState:T1}=Zx,{cleanUpNode:jU,getDownstreamNodes:$U,initializeNode:VU,setNodeValue:FU,setUnvalidatedAtomValue_DEPRECATED:UU}=ri,{graph:BU}=zc,{cloneGraph:zU}=zc,{getNextStoreID:C1}=Ef,{createMutableSource:_m,reactMode:R1}=Bc,{applyAtomValueWrites:HU}=Nr,{releaseScheduledRetainablesNow:I1}=Yi,{freshSnapshot:WU}=xf,{useCallback:qU,useContext:x1,useEffect:av,useMemo:GU,useRef:KU,useState:QU}=fe;function Wa(){throw Se("This component must be used inside a <RecoilRoot> component.")}const N1=Object.freeze({storeID:C1(),getState:Wa,replaceState:Wa,getGraph:Wa,subscribeToTransactions:Wa,addTransactionMetadata:Wa});let lv=!1;function aw(t){if(lv)throw Se("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Ue("recoil_memory_managament_2020")&&Ue("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&I1(t);const n=e.currentTree.version,r=MU();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,zU(tt(e.graphsByVersion.get(n))))}}const b1=fe.createContext({current:N1}),Nf=()=>x1(b1),A1=fe.createContext(null);function YU(){return x1(A1)}function Iy(t,e,n){const r=$U(t,n,n.dirtyAtoms);for(const s of r){const i=e.nodeToComponentSubscriptions.get(s);if(i)for(const[o,[a,l]]of i)l(n)}}function k1(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[s,i]of e.nodeTransactionSubscriptions)if(r.has(s))for(const[o,a]of i)a(t);for(const[s,i]of e.transactionSubscriptions)i(t);(!R1().early||e.suspendedComponentResolvers.size>0)&&(Iy(t,e,n),e.suspendedComponentResolvers.forEach(s=>s()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(s=>s(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function XU(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,k1(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):vy("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Ue("recoil_memory_managament_2020")&&n==null&&I1(t)}finally{e.commitDepth--}}function JU({setNotifyBatcherOfChange:t}){const e=Nf(),[,n]=QU([]);return t(()=>n({})),av(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),av(()=>{A2.enqueueExecution("Batcher",()=>{XU(e.current)})}),null}function ZU(t,e){const n=T1();return e({set:(r,s)=>{const i=n.currentTree,o=FU(t,i,r.key,s),a=new Set(o.keys()),l=i.nonvalidatedAtoms.clone();for(const c of a)l.delete(c);n.currentTree={...i,dirtyAtoms:LU(i.dirtyAtoms,a),atomValues:HU(i.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((s,i)=>{n.currentTree=UU(n.currentTree,i,s)})}}),n}function e4(t){const e=WU(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let lw=0;function t4({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let s;const i=p=>{const m=s.current.graphsByVersion;if(m.has(p))return tt(m.get(p));const g=BU();return m.set(p,g),g},o=(p,m)=>{if(m==null){const{transactionSubscriptions:g}=h.current.getState(),E=lw++;return g.set(E,p),{release:()=>{g.delete(E)}}}else{const{nodeTransactionSubscriptions:g}=h.current.getState();g.has(m)||g.set(m,new Map);const E=lw++;return tt(g.get(m)).set(E,p),{release:()=>{const v=g.get(m);v&&(v.delete(E),v.size===0&&g.delete(m))}}}},a=p=>{aw(h.current);for(const m of Object.keys(p))tt(h.current.getState().nextTree).transactionMetadata[m]=p[m]},l=p=>{aw(h.current);const m=tt(s.current.nextTree);let g;try{lv=!0,g=p(m)}finally{lv=!1}g!==m&&(s.current.nextTree=g,R1().early&&Iy(h.current,s.current,g),tt(c.current)())},c=KU(null),u=qU(p=>{c.current=p},[c]),h=ow(()=>n??{storeID:C1(),getState:()=>s.current,replaceState:l,getGraph:i,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(h.current=n),s=ow(()=>t!=null?ZU(h.current,t):e!=null?e4(e):T1());const f=GU(()=>_m==null?void 0:_m(s,()=>s.current.currentTree.version),[s]);return av(()=>{const p=h.current;for(const m of new Set(p.getState().knownAtoms))VU(p,m,"get");return()=>{for(const m of p.getState().knownAtoms)jU(p,m)}},[h]),fe.createElement(b1.Provider,{value:h},fe.createElement(A1.Provider,{value:f},fe.createElement(JU,{setNotifyBatcherOfChange:u}),r))}function n4(t){const{override:e,...n}=t,r=Nf();return e===!1&&r.current!==N1?t.children:fe.createElement(t4,n)}function r4(){return Nf().current.storeID}var ds={RecoilRoot:n4,useStoreRef:Nf,useRecoilMutableSource:YU,useRecoilStoreID:r4,notifyComponents_FOR_TESTING:Iy,sendEndOfBatchNotifications_FOR_TESTING:k1};function s4(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var i4=s4;const{useEffect:o4,useRef:a4}=fe;function l4(t){const e=a4();return o4(()=>{e.current=t}),e.current}var P1=l4;const{useStoreRef:c4}=ds,{SUSPENSE_TIMEOUT_MS:u4}=Yi,{updateRetainCount:qa}=Yi,{RetentionZone:d4}=Sf,{useEffect:h4,useRef:f4}=fe,{isSSR:cw}=Cf;function p4(t){if(Ue("recoil_memory_managament_2020"))return m4(t)}function m4(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof d4?o:o.key),r=c4();h4(()=>{if(!Ue("recoil_memory_managament_2020"))return;const o=r.current;if(s.current&&!cw)window.clearTimeout(s.current),s.current=null;else for(const a of n)qa(o,a,1);return()=>{for(const a of n)qa(o,a,-1)}},[r,...n]);const s=f4(),i=P1(n);if(!cw&&(i===void 0||!i4(i,n))){const o=r.current;for(const a of n)qa(o,a,1);if(i)for(const a of i)qa(o,a,-1);s.current&&window.clearTimeout(s.current),s.current=window.setTimeout(()=>{s.current=null;for(const a of n)qa(o,a,-1)},u4)}}var xy=p4;function g4(){return"<component name not available>"}var Wc=g4;const{batchUpdates:v4}=Tf,{DEFAULT_VALUE:L1}=wn,{currentRendererSupportsUseSyncExternalStore:_4,reactMode:Ra,useMutableSource:y4,useSyncExternalStore:E4}=Bc,{useRecoilMutableSource:S4,useStoreRef:br}=ds,{AbstractRecoilValue:cv,getRecoilValueAsLoadable:qc,setRecoilValue:ph,setUnvalidatedRecoilValue:w4,subscribeToRecoilValue:na}=Nr,{useCallback:En,useEffect:ra,useMemo:O1,useRef:bl,useState:Ny}=fe,{setByAddingToSet:T4}=t1,{isSSR:C4}=Cf;function by(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(s=>{const i=n.current.getState().suspendedComponentResolvers;i.add(s),C4&&Ge(t.contents)&&t.contents.finally(()=>{i.delete(s)})}):t.state==="hasError"?t.contents:Se(`Invalid value of loadable atom "${e.key}"`)}function R4(){const t=Wc(),e=br(),[,n]=Ny([]),r=bl(new Set);r.current=new Set;const s=bl(new Set),i=bl(new Map),o=En(l=>{const c=i.current.get(l);c&&(c.release(),i.current.delete(l))},[i]),a=En((l,c)=>{i.current.has(c)&&n([])},[]);return ra(()=>{const l=e.current;xl(r.current,s.current).forEach(c=>{if(i.current.has(c))return;const u=na(l,new cv(c),f=>a(f,c),t);i.current.set(c,u),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),c)}):a(l.getState(),c)}),xl(s.current,r.current).forEach(c=>{o(c)}),s.current=r.current}),ra(()=>{const l=i.current;return xl(r.current,new Set(l.keys())).forEach(c=>{const u=na(e.current,new cv(c),h=>a(h,c),t);l.set(c,u)}),()=>l.forEach((c,u)=>o(u))},[t,e,o,a]),O1(()=>{function l(m){return g=>{ph(e.current,m,g)}}function c(m){return()=>ph(e.current,m,L1)}function u(m){var g;r.current.has(m.key)||(r.current=T4(r.current,m.key));const E=e.current.getState();return qc(e.current,m,Ra().early&&(g=E.nextTree)!==null&&g!==void 0?g:E.currentTree)}function h(m){const g=u(m);return by(g,m,e)}function f(m){return[h(m),l(m)]}function p(m){return[u(m),l(m)]}return{getRecoilValue:h,getRecoilValueLoadable:u,getRecoilState:f,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:c}},[r,e])}const I4={current:0};function x4(t){const e=br(),n=Wc(),r=En(()=>{var a;const l=e.current,c=l.getState(),u=Ra().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return{loadable:qc(l,t,u),key:t.key}},[e,t]),s=En(a=>{let l;return()=>{var c,u;const h=a();return(c=l)!==null&&c!==void 0&&c.loadable.is(h.loadable)&&((u=l)===null||u===void 0?void 0:u.key)===h.key?l:(l=h,h)}},[]),i=O1(()=>s(r),[r,s]),o=En(a=>{const l=e.current;return na(l,t,a,n).release},[e,t,n]);return E4(o,i,i).loadable}function N4(t){const e=br(),n=En(()=>{var c;const u=e.current,h=u.getState(),f=Ra().early&&(c=h.nextTree)!==null&&c!==void 0?c:h.currentTree;return qc(u,t,f)},[e,t]),r=En(()=>n(),[n]),s=Wc(),i=En((c,u)=>{const h=e.current;return na(h,t,()=>{if(!Ue("recoil_suppress_rerender_in_callback"))return u();const p=n();l.current.is(p)||u(),l.current=p},s).release},[e,t,s,n]),o=S4();if(o==null)throw Se("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=y4(o,r,i),l=bl(a);return ra(()=>{l.current=a}),a}function uv(t){const e=br(),n=Wc(),r=En(()=>{var l;const c=e.current,u=c.getState(),h=Ra().early&&(l=u.nextTree)!==null&&l!==void 0?l:u.currentTree;return qc(c,t,h)},[e,t]),s=En(()=>({loadable:r(),key:t.key}),[r,t.key]),i=En(l=>{const c=s();return l.loadable.is(c.loadable)&&l.key===c.key?l:c},[s]);ra(()=>{const l=na(e.current,t,c=>{a(i)},n);return a(i),l.release},[n,t,e,i]);const[o,a]=Ny(s);return o.key!==t.key?s().loadable:o.loadable}function b4(t){const e=br(),[,n]=Ny([]),r=Wc(),s=En(()=>{var a;const l=e.current,c=l.getState(),u=Ra().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return qc(l,t,u)},[e,t]),i=s(),o=bl(i);return ra(()=>{o.current=i}),ra(()=>{const a=e.current,l=a.getState(),c=na(a,t,h=>{var f;if(!Ue("recoil_suppress_rerender_in_callback"))return n([]);const p=s();(f=o.current)!==null&&f!==void 0&&f.is(p)||n(p),o.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var u;if(!Ue("recoil_suppress_rerender_in_callback"))return n([]);const h=s();(u=o.current)!==null&&u!==void 0&&u.is(h)||n(h),o.current=h}return c.release},[r,s,t,e]),i}function Ay(t){return Ue("recoil_memory_managament_2020")&&xy(t),{TRANSITION_SUPPORT:uv,SYNC_EXTERNAL_STORE:_4()?x4:uv,MUTABLE_SOURCE:N4,LEGACY:b4}[Ra().mode](t)}function D1(t){const e=br(),n=Ay(t);return by(n,t,e)}function bf(t){const e=br();return En(n=>{ph(e.current,t,n)},[e,t])}function A4(t){const e=br();return En(()=>{ph(e.current,t,L1)},[e,t])}function k4(t){return[D1(t),bf(t)]}function P4(t){return[Ay(t),bf(t)]}function L4(){const t=br();return(e,n={})=>{v4(()=>{t.current.addTransactionMetadata(n),e.forEach((r,s)=>w4(t.current,new cv(s),r))})}}function M1(t){return Ue("recoil_memory_managament_2020")&&xy(t),uv(t)}function j1(t){const e=br(),n=M1(t);return by(n,t,e)}function O4(t){return[j1(t),bf(t)]}var D4={recoilComponentGetRecoilValueCount_FOR_TESTING:I4,useRecoilInterface:R4,useRecoilState:k4,useRecoilStateLoadable:P4,useRecoilValue:D1,useRecoilValueLoadable:Ay,useResetRecoilState:A4,useSetRecoilState:bf,useSetUnvalidatedAtomValues:L4,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:M1,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:j1,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:O4};function M4(t,e){const n=new Map;for(const[r,s]of t)e(s,r)&&n.set(r,s);return n}var j4=M4;function $4(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var V4=$4;function F4(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let s;for(;!(s=r.next()).done;)e.set(s.value,t[n].get(s.value))}return e}var U4=F4;const{batchUpdates:B4}=Tf,{DEFAULT_VALUE:z4,getNode:$1,nodes:H4}=wn,{useStoreRef:ky}=ds,{AbstractRecoilValue:W4,setRecoilValueLoadable:q4}=Nr,{SUSPENSE_TIMEOUT_MS:G4}=Yi,{cloneSnapshot:mh}=xf,{useCallback:Af,useEffect:V1,useRef:uw,useState:K4}=fe,{isSSR:dw}=Cf;function kf(t){const e=ky();V1(()=>e.current.subscribeToTransactions(t).release,[t,e])}function hw(t){const e=t.atomValues.toMap(),n=fh(j4(e,(r,s)=>{const o=$1(s).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return U4(t.nonvalidatedAtoms.toMap(),n)}function Q4(t){kf(Af(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const s=hw(r),i=hw(n),o=fh(H4,l=>{var c,u,h,f;return{persistence_UNSTABLE:{type:(c=(u=l.persistence_UNSTABLE)===null||u===void 0?void 0:u.type)!==null&&c!==void 0?c:"none",backButton:(h=(f=l.persistence_UNSTABLE)===null||f===void 0?void 0:f.backButton)!==null&&h!==void 0?h:!1}}}),a=V4(r.dirtyAtoms,l=>s.has(l)||i.has(l));t({atomValues:s,previousAtomValues:i,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function Y4(t){kf(Af(e=>{const n=mh(e,"latest"),r=mh(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function X4(){const t=ky(),[e,n]=K4(()=>mh(t.current)),r=P1(e),s=uw(),i=uw();if(kf(Af(a=>n(mh(a)),[])),V1(()=>{const a=e.retain();if(s.current&&!dw){var l;window.clearTimeout(s.current),s.current=null,(l=i.current)===null||l===void 0||l.call(i),i.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!dw){if(s.current){var o;window.clearTimeout(s.current),s.current=null,(o=i.current)===null||o===void 0||o.call(i),i.current=null}i.current=e.retain(),s.current=window.setTimeout(()=>{var a;s.current=null,(a=i.current)===null||a===void 0||a.call(i),i.current=null},G4)}return e}function F1(t,e){var n;const r=t.getState(),s=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,i=e.getStore_INTERNAL().getState().currentTree;B4(()=>{const o=new Set;for(const c of[s.atomValues.keys(),i.atomValues.keys()])for(const u of c){var a,l;((a=s.atomValues.get(u))===null||a===void 0?void 0:a.contents)!==((l=i.atomValues.get(u))===null||l===void 0?void 0:l.contents)&&$1(u).shouldRestoreFromSnapshots&&o.add(u)}o.forEach(c=>{q4(t,new W4(c),i.atomValues.has(c)?tt(i.atomValues.get(c)):z4)}),t.replaceState(c=>({...c,stateID:e.getID()}))})}function J4(){const t=ky();return Af(e=>F1(t.current,e),[t])}var U1={useRecoilSnapshot:X4,gotoSnapshot:F1,useGotoRecoilSnapshot:J4,useRecoilTransactionObserver:Y4,useTransactionObservation_DEPRECATED:Q4,useTransactionSubscription_DEPRECATED:kf};const{peekNodeInfo:Z4}=ri,{useStoreRef:eB}=ds;function tB(){const t=eB();return({key:e})=>Z4(t.current,t.current.getState().currentTree,e)}var nB=tB;const{reactMode:rB}=Bc,{RecoilRoot:sB,useStoreRef:iB}=ds,{useMemo:oB}=fe;function aB(){rB().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=iB().current;return oB(()=>{function e({children:n}){return fe.createElement(sB,{store_INTERNAL:t},n)}return e},[t])}var lB=aB;const{loadableWithValue:cB}=Uc,{initializeNode:uB}=ri,{DEFAULT_VALUE:dB,getNode:hB}=wn,{copyTreeState:fB,getRecoilValueAsLoadable:pB,invalidateDownstreams:mB,writeLoadableToTreeState:gB}=Nr;function fw(t){return hB(t.key).nodeType==="atom"}class vB{constructor(e,n){_e(this,"_store",void 0),_e(this,"_treeState",void 0),_e(this,"_changes",void 0),_e(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!fw(r))throw Se("Reading selectors within atomicUpdate is not supported");const s=pB(this._store,r,this._treeState);if(s.state==="hasValue")return s.contents;throw s.state==="hasError"?s.contents:Se(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),_e(this,"set",(r,s)=>{if(!fw(r))throw Se("Setting selectors within atomicUpdate is not supported");if(typeof s=="function"){const i=this.get(r);this._changes.set(r.key,s(i))}else uB(this._store,r.key,"set"),this._changes.set(r.key,s)}),_e(this,"reset",r=>{this.set(r,dB)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=fB(this._treeState);for(const[n,r]of this._changes)gB(e,n,cB(r));return mB(this._store,e),e}}function _B(t){return e=>{t.replaceState(n=>{const r=new vB(t,n);return e(r),r.newTreeState_INTERNAL()})}}var yB={atomicUpdater:_B},EB=yB.atomicUpdater,B1=Object.freeze({__proto__:null,atomicUpdater:EB});function SB(t,e){if(!t)throw new Error(e)}var wB=SB,hl=wB;const{atomicUpdater:TB}=B1,{batchUpdates:CB}=Tf,{DEFAULT_VALUE:RB}=wn,{useStoreRef:IB}=ds,{refreshRecoilValue:xB,setRecoilValue:pw}=Nr,{cloneSnapshot:NB}=xf,{gotoSnapshot:bB}=U1,{useCallback:AB}=fe;class z1{}const kB=new z1;function H1(t,e,n,r){let s=kB,i;if(CB(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Se(a);const l=n1({...r??{},set:(u,h)=>pw(t,u,h),reset:u=>pw(t,u,RB),refresh:u=>xB(t,u),gotoSnapshot:u=>bB(t,u),transact_UNSTABLE:u=>TB(t)(u)},{snapshot:()=>{const u=NB(t);return i=u.retain(),u}}),c=e(l);if(typeof c!="function")throw Se(a);s=c(...n)}),s instanceof z1&&hl(!1),Ge(s))s=s.finally(()=>{var a;(a=i)===null||a===void 0||a()});else{var o;(o=i)===null||o===void 0||o()}return s}function PB(t,e){const n=IB();return AB((...r)=>H1(n.current,t,r),e!=null?[...e,n]:void 0)}var W1={recoilCallback:H1,useRecoilCallback:PB};const{useStoreRef:LB}=ds,{refreshRecoilValue:OB}=Nr,{useCallback:DB}=fe;function MB(t){const e=LB();return DB(()=>{const n=e.current;OB(n,t)},[t,e])}var jB=MB;const{atomicUpdater:$B}=B1,{useStoreRef:VB}=ds,{useMemo:FB}=fe;function UB(t,e){const n=VB();return FB(()=>(...r)=>{$B(n.current)(i=>{t(i)(...r)})},e!=null?[...e,n]:void 0)}var BB=UB;class zB{constructor(e){_e(this,"value",void 0),this.value=e}}var HB={WrappedValue:zB},WB=HB.WrappedValue,q1=Object.freeze({__proto__:null,WrappedValue:WB});const{isFastRefreshEnabled:qB}=Bc;class mw extends Error{}class GB{constructor(e){var n,r,s;_e(this,"_name",void 0),_e(this,"_numLeafs",void 0),_e(this,"_root",void 0),_e(this,"_onHit",void 0),_e(this,"_onSet",void 0),_e(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(s=e==null?void 0:e.mapNodeValue)!==null&&s!==void 0?s:i=>i}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const s=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(s)}}set(e,n,r){const s=()=>{var i,o,a,l;let c,u;for(const[E,v]of e){var h,f,p;const _=this._root;if((_==null?void 0:_.type)==="leaf")throw this.invalidCacheError();const y=c;if(c=y?y.branches.get(u):_,c=(h=c)!==null&&h!==void 0?h:{type:"branch",nodeKey:E,parent:y,branches:new Map,branchKey:u},c.type!=="branch"||c.nodeKey!==E)throw this.invalidCacheError();y==null||y.branches.set(u,c),r==null||(f=r.onNodeVisit)===null||f===void 0||f.call(r,c),u=this._mapNodeValue(v),this._root=(p=this._root)!==null&&p!==void 0?p:c}const m=c?(i=c)===null||i===void 0?void 0:i.branches.get(u):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==u))throw this.invalidCacheError();const g={type:"leaf",value:n,parent:c,branchKey:u};(o=c)===null||o===void 0||o.branches.set(u,g),this._root=(a=this._root)!==null&&a!==void 0?a:g,this._numLeafs++,this._onSet(g),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,g)};try{s()}catch(i){if(i instanceof mw)this.clear(),s();else throw i}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,s=e.branchKey;for(;r;){var i;if(r.branches.delete(s),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;s=(i=r)===null||i===void 0?void 0:i.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=qB()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw vy(e+(this._name!=null?` - ${this._name}`:"")),new mw}}var KB={TreeCache:GB},QB=KB.TreeCache,G1=Object.freeze({__proto__:null,TreeCache:QB});class YB{constructor(e){var n;_e(this,"_maxSize",void 0),_e(this,"_size",void 0),_e(this,"_head",void 0),_e(this,"_tail",void 0),_e(this,"_map",void 0),_e(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const i=this.head(),o={key:e,right:i,left:null,value:n};i?i.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=tt(this._map.get(n)),s=r.right,i=r.left;s&&(s.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=s),r===this.tail()&&(this._tail=i),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var XB={LRUCache:YB},JB=XB.LRUCache,K1=Object.freeze({__proto__:null,LRUCache:JB});const{LRUCache:ZB}=K1,{TreeCache:ez}=G1;function tz({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new ZB({maxSize:e}),s=new ez({name:t,mapNodeValue:n,onHit:i=>{r.set(i,!0)},onSet:i=>{const o=r.tail();r.set(i,!0),o&&s.size()>e&&s.delete(o.key)}});return s}var gw=tz;function Xn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Se("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Ge(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((s,i)=>Xn(s,e,i.toString()))}]`;if(typeof t.toJSON=="function")return Xn(t.toJSON(n),e,n);if(t instanceof Map){const s={};for(const[i,o]of t)s[typeof i=="string"?i:Xn(i,e)]=o;return Xn(s,e,n)}return t instanceof Set?Xn(Array.from(t).sort((s,i)=>Xn(s,e).localeCompare(Xn(i,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Xn(Array.from(t),e,n):`{${Object.keys(t).filter(s=>t[s]!==void 0).sort().map(s=>`${Xn(s,e)}:${Xn(t[s],e,s)}`).join(",")}}`}function nz(t,e={allowFunctions:!1}){return Xn(t,e)}var Pf=nz;const{TreeCache:rz}=G1,$u={equality:"reference",eviction:"keep-all",maxSize:1/0};function sz({equality:t=$u.equality,eviction:e=$u.eviction,maxSize:n=$u.maxSize}=$u,r){const s=iz(t);return oz(e,n,s,r)}function iz(t){switch(t){case"reference":return e=>e;case"value":return e=>Pf(e)}throw Se(`Unrecognized equality policy ${t}`)}function oz(t,e,n,r){switch(t){case"keep-all":return new rz({name:r,mapNodeValue:n});case"lru":return gw({name:r,maxSize:tt(e),mapNodeValue:n});case"most-recent":return gw({name:r,maxSize:1,mapNodeValue:n})}throw Se(`Unrecognized eviction policy ${t}`)}var az=sz;function lz(t){return()=>null}var cz={startPerfBlock:lz};const{isLoadable:uz,loadableWithError:Vu,loadableWithPromise:dz,loadableWithValue:ym}=Uc,{WrappedValue:Q1}=q1,{getNodeLoadable:Fu,peekNodeLoadable:hz,setNodeValue:fz}=ri,{saveDepsToStore:pz}=zc,{DEFAULT_VALUE:mz,getConfigDeletionHandler:gz,getNode:vz,registerNode:vw}=wn,{isRecoilValue:_z}=ta,{markRecoilValueModified:_w}=Nr,{retainedByOptionWithDefault:yz}=Yi,{recoilCallback:Ez}=W1,{startPerfBlock:Sz}=cz;class Y1{}const Ga=new Y1,Ka=[],Uu=new Map,wz=(()=>{let t=0;return()=>t++})();function X1(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:s}=t,i=t.set!=null?t.set:void 0,o=new Set,a=az(s??{equality:"reference",eviction:"keep-all"},n),l=yz(t.retainedBy_UNSTABLE),c=new Map;let u=0;function h(){return!Ue("recoil_memory_managament_2020")||u>0}function f(R){return R.getState().knownSelectors.add(n),u++,()=>{u--}}function p(){return gz(n)!==void 0&&!h()}function m(R,j,$,ne,J){Ee(j,ne,J),g(R,$)}function g(R,j){H(R,j)&&A(R),v(j,!0)}function E(R,j){H(R,j)&&(tt(O(R)).stateVersions.clear(),v(j,!1))}function v(R,j){const $=Uu.get(R);if($!=null){for(const ne of $)_w(ne,tt(e));j&&Uu.delete(R)}}function _(R,j){let $=Uu.get(j);$==null&&Uu.set(j,$=new Set),$.add(R)}function y(R,j,$,ne,J,ve){return j.then(Te=>{if(!h())throw A(R),Ga;const oe=ym(Te);return m(R,$,J,oe,ne),Te}).catch(Te=>{if(!h())throw A(R),Ga;if(Ge(Te))return S(R,Te,$,ne,J,ve);const oe=Vu(Te);throw m(R,$,J,oe,ne),Te})}function S(R,j,$,ne,J,ve){return j.then(Te=>{if(!h())throw A(R),Ga;ve.loadingDepKey!=null&&ve.loadingDepPromise===j?$.atomValues.set(ve.loadingDepKey,ym(Te)):R.getState().knownSelectors.forEach($e=>{$.atomValues.delete($e)});const oe=b(R,$);if(oe&&oe.state!=="loading"){if((H(R,J)||O(R)==null)&&g(R,J),oe.state==="hasValue")return oe.contents;throw oe.contents}if(!H(R,J)){const $e=q(R,$);if($e!=null)return $e.loadingLoadable.contents}const[Xe,St]=x(R,$,J);if(Xe.state!=="loading"&&m(R,$,J,Xe,St),Xe.state==="hasError")throw Xe.contents;return Xe.contents}).catch(Te=>{if(Te instanceof Y1)throw Ga;if(!h())throw A(R),Ga;const oe=Vu(Te);throw m(R,$,J,oe,ne),Te})}function w(R,j,$,ne){var J,ve,Te,oe;if(H(R,ne)||j.version===((J=R.getState())===null||J===void 0||(ve=J.currentTree)===null||ve===void 0?void 0:ve.version)||j.version===((Te=R.getState())===null||Te===void 0||(oe=Te.nextTree)===null||oe===void 0?void 0:oe.version)){var Xe,St,$e;pz(n,$,R,(Xe=(St=R.getState())===null||St===void 0||($e=St.nextTree)===null||$e===void 0?void 0:$e.version)!==null&&Xe!==void 0?Xe:R.getState().currentTree.version)}for(const Je of $)o.add(Je)}function x(R,j,$){const ne=Sz(n);let J=!0,ve=!0;const Te=()=>{ne(),ve=!1};let oe,Xe=!1,St;const $e={loadingDepKey:null,loadingDepPromise:null},Je=new Map;function On({key:rn}){const Vt=Fu(R,j,rn);switch(Je.set(rn,Vt),J||(w(R,j,new Set(Je.keys()),$),E(R,$)),Vt.state){case"hasValue":return Vt.contents;case"hasError":throw Vt.contents;case"loading":throw $e.loadingDepKey=rn,$e.loadingDepPromise=Vt.contents,Vt.contents}throw Se("Invalid Loadable state")}const Pr=rn=>(...Vt)=>{if(ve)throw Se("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&hl(!1),Ez(R,rn,Vt,{node:e})};try{oe=r({get:On,getCallback:Pr}),oe=_z(oe)?On(oe):oe,uz(oe)&&(oe.state==="hasError"&&(Xe=!0),oe=oe.contents),Ge(oe)?oe=y(R,oe,j,Je,$,$e).finally(Te):Te(),oe=oe instanceof Q1?oe.value:oe}catch(rn){oe=rn,Ge(oe)?oe=S(R,oe,j,Je,$,$e).finally(Te):(Xe=!0,Te())}return Xe?St=Vu(oe):Ge(oe)?St=dz(oe):St=ym(oe),J=!1,N(R,$,Je),w(R,j,new Set(Je.keys()),$),[St,Je]}function b(R,j){let $=j.atomValues.get(n);if($!=null)return $;const ne=new Set;try{$=a.get(ve=>(typeof ve!="string"&&hl(!1),Fu(R,j,ve).contents),{onNodeVisit:ve=>{ve.type==="branch"&&ve.nodeKey!==n&&ne.add(ve.nodeKey)}})}catch(ve){throw Se(`Problem with cache lookup for selector "${n}": ${ve.message}`)}if($){var J;j.atomValues.set(n,$),w(R,j,ne,(J=O(R))===null||J===void 0?void 0:J.executionID)}return $}function k(R,j){const $=b(R,j);if($!=null)return A(R),$;const ne=q(R,j);if(ne!=null){var J;return((J=ne.loadingLoadable)===null||J===void 0?void 0:J.state)==="loading"&&_(R,ne.executionID),ne.loadingLoadable}const ve=wz(),[Te,oe]=x(R,j,ve);return Te.state==="loading"?(P(R,ve,Te,oe,j),_(R,ve)):(A(R),Ee(j,Te,oe)),Te}function q(R,j){const $=y1([c.has(R)?[tt(c.get(R))]:[],yf(wy(c,([J])=>J!==R),([,J])=>J)]);function ne(J){for(const[ve,Te]of J)if(!Fu(R,j,ve).is(Te))return!0;return!1}for(const J of $){if(J.stateVersions.get(j.version)||!ne(J.depValuesDiscoveredSoFarDuringAsyncWork))return J.stateVersions.set(j.version,!0),J;J.stateVersions.set(j.version,!1)}}function O(R){return c.get(R)}function P(R,j,$,ne,J){c.set(R,{depValuesDiscoveredSoFarDuringAsyncWork:ne,executionID:j,loadingLoadable:$,stateVersions:new Map([[J.version,!0]])})}function N(R,j,$){if(H(R,j)){const ne=O(R);ne!=null&&(ne.depValuesDiscoveredSoFarDuringAsyncWork=$)}}function A(R){c.delete(R)}function H(R,j){var $;return j===(($=O(R))===null||$===void 0?void 0:$.executionID)}function re(R){return Array.from(R.entries()).map(([j,$])=>[j,$.contents])}function Ee(R,j,$){R.atomValues.set(n,j);try{a.set(re($),j)}catch(ne){throw Se(`Problem with setting cache for selector "${n}": ${ne.message}`)}}function we(R){if(Ka.includes(n)){const j=`Recoil selector has circular dependencies: ${Ka.slice(Ka.indexOf(n)).join(" → ")}`;return Vu(Se(j))}Ka.push(n);try{return R()}finally{Ka.pop()}}function M(R,j){const $=j.atomValues.get(n);return $??a.get(ne=>{var J;return typeof ne!="string"&&hl(!1),(J=hz(R,j,ne))===null||J===void 0?void 0:J.contents})}function D(R,j){return we(()=>k(R,j))}function W(R){R.atomValues.delete(n)}function ie(R,j){e==null&&hl(!1);for(const ne of o){var $;const J=vz(ne);($=J.clearCache)===null||$===void 0||$.call(J,R,j)}o.clear(),W(j),a.clear(),_w(R,e)}return i!=null?e=vw({key:n,nodeType:"selector",peek:M,get:D,set:(j,$,ne)=>{let J=!1;const ve=new Map;function Te({key:$e}){if(J)throw Se("Recoil: Async selector sets are not currently supported.");const Je=Fu(j,$,$e);if(Je.state==="hasValue")return Je.contents;if(Je.state==="loading"){const On=`Getting value of asynchronous atom or selector "${$e}" in a pending state while setting selector "${n}" is not yet supported.`;throw Se(On)}else throw Je.contents}function oe($e,Je){if(J)throw Se("Recoil: Async selector sets are not currently supported.");const On=typeof Je=="function"?Je(Te($e)):Je;fz(j,$,$e.key,On).forEach((rn,Vt)=>ve.set(Vt,rn))}function Xe($e){oe($e,mz)}const St=i({set:oe,get:Te,reset:Xe},ne);if(St!==void 0)throw Ge(St)?Se("Recoil: Async selector sets are not currently supported."):Se("Recoil: selector set should be a void function.");return J=!0,ve},init:f,invalidate:W,clearCache:ie,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=vw({key:n,nodeType:"selector",peek:M,get:D,init:f,invalidate:W,clearCache:ie,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}X1.value=t=>new Q1(t);var sa=X1;const{isLoadable:Tz,loadableWithError:Em,loadableWithPromise:Sm,loadableWithValue:so}=Uc,{WrappedValue:J1}=q1,{peekNodeInfo:Cz}=ri,{DEFAULT_VALUE:mi,DefaultValue:vs,getConfigDeletionHandler:Z1,registerNode:Rz,setConfigDeletionHandler:Iz}=wn,{isRecoilValue:xz}=ta,{getRecoilValueAsLoadable:Nz,markRecoilValueModified:bz,setRecoilValue:yw,setRecoilValueLoadable:Az}=Nr,{retainedByOptionWithDefault:kz}=Yi,Qa=t=>t instanceof J1?t.value:t;function Pz(t){const{key:e,persistence_UNSTABLE:n}=t,r=kz(t.retainedBy_UNSTABLE);let s=0;function i(_){return Sm(_.then(y=>(o=so(y),y)).catch(y=>{throw o=Em(y),y}))}let o=Ge(t.default)?i(t.default):Tz(t.default)?t.default.state==="loading"?i(t.default.contents):t.default:so(Qa(t.default));o.contents;let a;const l=new Map;function c(_){return _}function u(_,y){const S=y.then(w=>{var x,b;return((b=((x=_.getState().nextTree)!==null&&x!==void 0?x:_.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===S&&yw(_,v,w),w}).catch(w=>{var x,b;throw((b=((x=_.getState().nextTree)!==null&&x!==void 0?x:_.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===S&&Az(_,v,Em(w)),w});return S}function h(_,y,S){var w;s++;const x=()=>{var A;s--,(A=l.get(_))===null||A===void 0||A.forEach(H=>H()),l.delete(_)};if(_.getState().knownAtoms.add(e),o.state==="loading"){const A=()=>{var H;((H=_.getState().nextTree)!==null&&H!==void 0?H:_.getState().currentTree).atomValues.has(e)||bz(_,v)};o.contents.finally(A)}const b=(w=t.effects)!==null&&w!==void 0?w:t.effects_UNSTABLE;if(b!=null){let we=function(j){if(H&&j.key===e){const $=A;return $ instanceof vs?f(_,y):Ge($)?Sm($.then(ne=>ne instanceof vs?o.toPromise():ne)):so($)}return Nz(_,j)},M=function(j){return we(j).toPromise()},D=function(j){var $;const ne=Cz(_,($=_.getState().nextTree)!==null&&$!==void 0?$:_.getState().currentTree,j.key);return H&&j.key===e&&!(A instanceof vs)?{...ne,isSet:!0,loadable:we(j)}:ne};var O=we,P=M,N=D;let A=mi,H=!0,re=!1,Ee=null;const W=j=>$=>{if(H){const ne=we(v),J=ne.state==="hasValue"?ne.contents:mi;A=typeof $=="function"?$(J):$,Ge(A)&&(A=A.then(ve=>(Ee={effect:j,value:ve},ve)))}else{if(Ge($))throw Se("Setting atoms to async values is not implemented.");typeof $!="function"&&(Ee={effect:j,value:Qa($)}),yw(_,v,typeof $=="function"?ne=>{const J=Qa($(ne));return Ee={effect:j,value:J},J}:Qa($))}},ie=j=>()=>W(j)(mi),R=j=>$=>{var ne;const{release:J}=_.subscribeToTransactions(ve=>{var Te;let{currentTree:oe,previousTree:Xe}=ve.getState();Xe||(Xe=oe);const St=(Te=oe.atomValues.get(e))!==null&&Te!==void 0?Te:o;if(St.state==="hasValue"){var $e,Je,On,Pr;const rn=St.contents,Vt=($e=Xe.atomValues.get(e))!==null&&$e!==void 0?$e:o,_u=Vt.state==="hasValue"?Vt.contents:mi;((Je=Ee)===null||Je===void 0?void 0:Je.effect)!==j||((On=Ee)===null||On===void 0?void 0:On.value)!==rn?$(rn,_u,!oe.atomValues.has(e)):((Pr=Ee)===null||Pr===void 0?void 0:Pr.effect)===j&&(Ee=null)}},e);l.set(_,[...(ne=l.get(_))!==null&&ne!==void 0?ne:[],J])};for(const j of b)try{const $=j({node:v,storeID:_.storeID,parentStoreID_UNSTABLE:_.parentStoreID,trigger:S,setSelf:W(j),resetSelf:ie(j),onSet:R(j),getPromise:M,getLoadable:we,getInfo_UNSTABLE:D});if($!=null){var k;l.set(_,[...(k=l.get(_))!==null&&k!==void 0?k:[],$])}}catch($){A=$,re=!0}if(H=!1,!(A instanceof vs)){var q;const j=re?Em(A):Ge(A)?Sm(u(_,A)):so(Qa(A));j.contents,y.atomValues.set(e,j),(q=_.getState().nextTree)===null||q===void 0||q.atomValues.set(e,j)}}return x}function f(_,y){var S,w;return(S=(w=y.atomValues.get(e))!==null&&w!==void 0?w:a)!==null&&S!==void 0?S:o}function p(_,y){if(y.atomValues.has(e))return tt(y.atomValues.get(e));if(y.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const S=y.nonvalidatedAtoms.get(e),w=n.validator(S,mi);return a=w instanceof vs?o:so(w),a}else return o}function m(){a=void 0}function g(_,y,S){if(y.atomValues.has(e)){const w=tt(y.atomValues.get(e));if(w.state==="hasValue"&&S===w.contents)return new Map}else if(!y.nonvalidatedAtoms.has(e)&&S instanceof vs)return new Map;return a=void 0,new Map().set(e,so(S))}function E(){return Z1(e)!==void 0&&s<=0}const v=Rz({key:e,nodeType:"atom",peek:f,get:p,set:g,init:h,invalidate:m,shouldDeleteConfigOnRelease:E,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return v}function Py(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return xz(n)?Lz({...e,default:n}):Pz({...e,default:n})}function Lz(t){const e=Py({...t,default:mi,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof vs?r:tt(t.persistence_UNSTABLE).validator(r,mi)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=sa({key:`${t.key}__withFallback`,get:({get:r})=>{const s=r(e);return s instanceof vs?t.default:s},set:({set:r},s)=>r(e,s),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return Iz(n.key,Z1(t.key)),n}Py.value=t=>new J1(t);var eN=Py;class Oz{constructor(e){var n;_e(this,"_map",void 0),_e(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Dz={MapCache:Oz},Mz=Dz.MapCache,jz=Object.freeze({__proto__:null,MapCache:Mz});const{LRUCache:Ew}=K1,{MapCache:$z}=jz,Bu={equality:"reference",eviction:"none",maxSize:1/0};function Vz({equality:t=Bu.equality,eviction:e=Bu.eviction,maxSize:n=Bu.maxSize}=Bu){const r=Fz(t);return Uz(e,n,r)}function Fz(t){switch(t){case"reference":return e=>e;case"value":return e=>Pf(e)}throw Se(`Unrecognized equality policy ${t}`)}function Uz(t,e,n){switch(t){case"keep-all":return new $z({mapKey:n});case"lru":return new Ew({mapKey:n,maxSize:tt(e)});case"most-recent":return new Ew({mapKey:n,maxSize:1})}throw Se(`Unrecognized eviction policy ${t}`)}var tN=Vz;const{setConfigDeletionHandler:Bz}=wn;function zz(t){var e,n;const r=tN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i,o;const a=r.get(s);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...c}=t,u="default"in t?t.default:new Promise(()=>{}),h=eN({...c,key:`${t.key}__${(i=Pf(s))!==null&&i!==void 0?i:"void"}`,default:typeof u=="function"?u(s):u,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(s):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(s):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(s,h),Bz(h.key,()=>{r.delete(s)}),h}}var Hz=zz;const{setConfigDeletionHandler:Wz}=wn;let qz=0;function Gz(t){var e,n;const r=tN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i;let o;try{o=r.get(s)}catch(f){throw Se(`Problem with cache lookup for selector ${t.key}: ${f.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(i=Pf(s,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${qz++}`,l=f=>t.get(s)(f),c=t.cachePolicy_UNSTABLE,u=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const f=t.set;h=sa({key:a,get:l,set:(m,g)=>f(s)(m,g),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else h=sa({key:a,get:l,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(s,h),Wz(h.key,()=>{r.delete(s)}),h}}var si=Gz;const Kz=si({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function Qz(t){return Kz(t)}var Yz=Qz;const Xz=si({key:"__error",get:t=>()=>{throw Se(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function Jz(t){return Xz(t)}var Zz=Jz;function e3(t){return t}var t3=e3;const{loadableWithError:nN,loadableWithPromise:rN,loadableWithValue:sN}=Uc;function Lf(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[s,i]of e.entries())try{n[s]=t(i)}catch(o){r[s]=o}return[n,r]}function n3(t){return t!=null&&!Ge(t)}function Of(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function dv(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,s)=>({...n,[r]:e[s]}),{})}function jo(t,e,n){const r=n.map((s,i)=>s==null?sN(e[i]):Ge(s)?rN(s):nN(s));return dv(t,r)}function r3(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const s3=si({key:"__waitForNone",get:t=>({get:e})=>{const n=Of(t),[r,s]=Lf(e,n);return jo(t,r,s)},dangerouslyAllowMutability:!0}),i3=si({key:"__waitForAny",get:t=>({get:e})=>{const n=Of(t),[r,s]=Lf(e,n);return s.some(i=>!Ge(i))?jo(t,r,s):new Promise(i=>{for(const[o,a]of s.entries())Ge(a)&&a.then(l=>{r[o]=l,s[o]=void 0,i(jo(t,r,s))}).catch(l=>{s[o]=l,i(jo(t,r,s))})})},dangerouslyAllowMutability:!0}),o3=si({key:"__waitForAll",get:t=>({get:e})=>{const n=Of(t),[r,s]=Lf(e,n);if(s.every(o=>o==null))return dv(t,r);const i=s.find(n3);if(i!=null)throw i;return Promise.all(s).then(o=>dv(t,r3(r,o)))},dangerouslyAllowMutability:!0}),a3=si({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Of(t),[r,s]=Lf(e,n);return s.every(i=>!Ge(i))?jo(t,r,s):Promise.all(s.map((i,o)=>Ge(i)?i.then(a=>{r[o]=a,s[o]=void 0}).catch(a=>{r[o]=void 0,s[o]=a}):null)).then(()=>jo(t,r,s))},dangerouslyAllowMutability:!0}),l3=si({key:"__noWait",get:t=>({get:e})=>{try{return sa.value(sN(e(t)))}catch(n){return sa.value(Ge(n)?rN(n):nN(n))}},dangerouslyAllowMutability:!0});var c3={waitForNone:s3,waitForAny:i3,waitForAll:o3,waitForAllSettled:a3,noWait:l3};const{RecoilLoadable:u3}=Uc,{DefaultValue:d3}=wn,{RecoilRoot:h3,useRecoilStoreID:f3}=ds,{isRecoilValue:p3}=ta,{retentionZone:m3}=Sf,{freshSnapshot:g3}=xf,{useRecoilState:v3,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:_3,useRecoilStateLoadable:y3,useRecoilValue:E3,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:S3,useRecoilValueLoadable:w3,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:T3,useResetRecoilState:C3,useSetRecoilState:R3}=D4,{useGotoRecoilSnapshot:I3,useRecoilSnapshot:x3,useRecoilTransactionObserver:N3}=U1,{useRecoilCallback:b3}=W1,{noWait:A3,waitForAll:k3,waitForAllSettled:P3,waitForAny:L3,waitForNone:O3}=c3;var Ly={DefaultValue:d3,isRecoilValue:p3,RecoilLoadable:u3,RecoilEnv:Ca,RecoilRoot:h3,useRecoilStoreID:f3,useRecoilBridgeAcrossReactRoots_UNSTABLE:lB,atom:eN,selector:sa,atomFamily:Hz,selectorFamily:si,constSelector:Yz,errorSelector:Zz,readOnlySelector:t3,noWait:A3,waitForNone:O3,waitForAny:L3,waitForAll:k3,waitForAllSettled:P3,useRecoilValue:E3,useRecoilValueLoadable:w3,useRecoilState:v3,useRecoilStateLoadable:y3,useSetRecoilState:R3,useResetRecoilState:C3,useGetRecoilValueInfo_UNSTABLE:nB,useRecoilRefresher_UNSTABLE:jB,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:T3,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:S3,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:_3,useRecoilCallback:b3,useRecoilTransaction_UNSTABLE:BB,useGotoRecoilSnapshot:I3,useRecoilSnapshot:x3,useRecoilTransactionObserver_UNSTABLE:N3,snapshot_UNSTABLE:g3,useRetain:xy,retentionZone:m3},D3=Ly.RecoilRoot,Df=Ly.atom,$o=Ly.useRecoilState;const B={init:function(){this.dpmode.init(),this.viewport.init.evt(),console.log("ui.init")},e:1,aaa:function(){console.log("dsfafsafdsffsafasfdfas")},error:{poster:t=>t.target.src="./img/common/non_poster.png",user:t=>t.target.src="./img/common/user.png"},iosx:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top").replace(/[^0-9]/g,""))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom").replace(/[^0-9]/g,""))||0},viewport:{init:{evt:function(){window.addEventListener("load",this.set),window.addEventListener("resize",this.set)},set:()=>document.documentElement.style.setProperty("--vh",window.innerHeight*.01+"px")},height:()=>parseInt(window.visualViewport?visualViewport.height:window.innerHeight),width:()=>parseInt(window.visualViewport?visualViewport.width:window.innerWidth),docHeight:()=>parseInt(document.documentElement.scrollHeight||document.body.clientHeight),scrollTop:()=>parseInt(document.documentElement.scrollTop)},dateForm:(t,e)=>(e=e===void 0?e="medium":null,new Intl.DateTimeFormat("ko-KR",{dateStyle:e,timeStyle:e}).format(t)),getSafe:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top"))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom"))||0,watch:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-watch"))||0},commas:{add:t=>t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),del:t=>parseInt(t.replace(/,/g,""))},numToCommaHan:function(t){var e=["영","일","이","삼","사","오","육","칠","팔","구"];t=t+"",e=parseInt(t.replace(/,/gi,""));let n=e<0?!1:e,r=["","만","억","조","경"],s=1e4,i=r.length,o=[],a="";for(let l=0;l<i;l++){let c=n%Math.pow(s,l+1)/Math.pow(s,l);c=Math.floor(c),c>0&&(o[l]=c)}for(let l=0;l<o.length;l++){if(!o[l])continue;let c=o[l].toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");a=String(c)+r[l]+a}return a},makeHan:function(t){for(var e=["영","일","이","삼","사","오","육","칠","팔","구"],n=["천","백","십",""],r="",s=0;s<t.length;s++){var i=t[s];i!="0"&&(r+=e[i]+n[s])}return r},dpmode:{init:function(){setInterval(this.set,500)},set:function(){const t=window.matchMedia("(display-mode: fullscreen)").matches,e=window.matchMedia("(display-mode: standalone)").matches;t?document.documentElement.classList.add("is-pwa-fullscreen"):document.documentElement.classList.remove("is-pwa-fullscreen"),t?document.documentElement.style.setProperty("--safe-watch","24px"):document.documentElement.style.setProperty("--safe-watch","0px"),e?document.documentElement.classList.add("is-pwa-standalone"):document.documentElement.classList.remove("is-pwa-standalone")}},scrollTo:(t,e,n,r)=>{const s=document.querySelector(t);if(!s)return;console.log(s);const i=s.scrollTop||document.documentElement.scrollTop,o=e,a=performance.now(),l=c=>{const u=c-a,h=Math.min(u/n,1),f=h<.5?4*h*h*h:(h-1)*(2*h-2)*(2*h-2)+1,p=i+(o-i)*f;s===document.body?window.scrollTo(0,p):s.scrollTop=p,u<n?requestAnimationFrame(l):typeof r=="function"&&r()};requestAnimationFrame(l)},popup:{evt:function(){},resize:function(){var s,i;let t=document.querySelector(".pop-layer"),e=t.offsetHeight||0,n=((s=t.querySelector(".pbt"))==null?void 0:s.offsetHeight)||0,r=((i=t.querySelector(".phd"))==null?void 0:i.offsetHeight)||0;e=e-r||0,console.log(e),t.querySelector(".pct").style.maxHeight=e-n+"px"}},alert:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인"},e);if(document.querySelectorAll(".ui-alert").length)return;B.lock.using(!0);var r=`<article class="ui-alert ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-alert");s.classList.add("is-alert"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelectorAll(".btn-confirm, .btn-close").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-alert"),document.querySelectorAll(".pop-layer").length<1&&B.lock.using(!1)}},confirm:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인",ncb:"",nbt:"취소"},e);if(document.querySelectorAll(".ui-confirm").length)return;B.lock.using(!0);let r=`<article class="ui-confirm ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-cancel">${n.nbt}</button>
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-confirm");s.classList.add("is-confrim"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelector(".btn-cancel").addEventListener("click",()=>window.setTimeout(n.ncb)),i.querySelectorAll(".btn-confirm, .btn-close , .btn-cancel").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-confrim"),document.querySelectorAll(".pop-layer").length<1&&B.lock.using(!1)}},loading:{show:function(t){var e="";document.querySelectorAll("body>.ui-loading").length||(console.log(t),(t=="dot"||t==null)&&(e=`<div class="ui-loading ui-loading-dot">
                    <div class="bx"><em><i></i></em></div>
                </div>`),t=="glx"&&(e=`<span class="ui-loading ui-load-glx full">
                <span class="gbx">
                    <em class="bx">
                        <i></i> <i></i><i></i><i></i>
                    </em>
                </span>
              </span>`),document.querySelector("body").insertAdjacentHTML("afterbegin",e),document.querySelector("body").classList.add("is-loading"))},hide:function(){document.querySelectorAll("body>.ui-loading.full").forEach(t=>t.remove()),document.querySelector("body").classList.remove("is-loading")}},lock:{sct:0,gap:()=>window.innerWidth-document.body.clientWidth,stat:!1,els:".pop-layer  , .ui-confirm , .ui-alert",set:function(){document.querySelectorAll(this.els).length<=0&&this.using(!1)},using:function(t){const e=document.querySelectorAll("body , html"),n=document.querySelector("html");t===!0&&this.stat===!1&&(document.documentElement.style.setProperty("--scrPad",`${this.gap()}rem`),B.lock.stat=!0,B.lock.sct=window.scrollY,e.forEach(r=>r.classList.add("is-lock","is-lock-end")),n.style.top=-B.lock.sct+"px"),t===!1&&document.querySelectorAll(this.els).length<=0&&n.classList.contains("is-lock")&&(B.lock.stat=!1,e.forEach(r=>r.classList.remove("is-lock")),n.style.top="",window.scrollTo(0,B.lock.sct),setTimeout(()=>{e.forEach(r=>r.classList.remove("is-lock-end"))},50),document.documentElement.style.setProperty("--scrPad","0rem"))}}};window.ui=B;var M3="firebase",j3="10.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */zn(M3,j3,"app");var $3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Q,Oy=Oy||{},pe=$3||self;function Mf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Gc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function V3(t){return Object.prototype.hasOwnProperty.call(t,wm)&&t[wm]||(t[wm]=++F3)}var wm="closure_uid_"+(1e9*Math.random()>>>0),F3=0;function U3(t,e,n){return t.call.apply(t.bind,arguments)}function B3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=U3:Yt=B3,Yt.apply(null,arguments)}function zu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ii(){this.s=this.s,this.o=this.o}var z3=0;ii.prototype.s=!1;ii.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),z3!=0)&&V3(this)};ii.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Dy(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Sw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Mf(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var H3=function(){if(!pe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{pe.addEventListener("test",()=>{},e),pe.removeEventListener("test",()=>{},e)}catch{}return t}();function uc(t){return/^[\s\xa0]*$/.test(t)}function jf(){var t=pe.navigator;return t&&(t=t.userAgent)?t:""}function hr(t){return jf().indexOf(t)!=-1}function My(t){return My[" "](t),t}My[" "]=function(){};function W3(t,e){var n=j9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var q3=hr("Opera"),ia=hr("Trident")||hr("MSIE"),oN=hr("Edge"),hv=oN||ia,aN=hr("Gecko")&&!(jf().toLowerCase().indexOf("webkit")!=-1&&!hr("Edge"))&&!(hr("Trident")||hr("MSIE"))&&!hr("Edge"),G3=jf().toLowerCase().indexOf("webkit")!=-1&&!hr("Edge");function lN(){var t=pe.document;return t?t.documentMode:void 0}var fv;e:{var Tm="",Cm=function(){var t=jf();if(aN)return/rv:([^\);]+)(\)|;)/.exec(t);if(oN)return/Edge\/([\d\.]+)/.exec(t);if(ia)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(G3)return/WebKit\/(\S+)/.exec(t);if(q3)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Cm&&(Tm=Cm?Cm[1]:""),ia){var Rm=lN();if(Rm!=null&&Rm>parseFloat(Tm)){fv=String(Rm);break e}}fv=Tm}var pv;if(pe.document&&ia){var ww=lN();pv=ww||parseInt(fv,10)||void 0}else pv=void 0;var K3=pv;function dc(t,e){if(Xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(aN){e:{try{My(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Q3[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dc.$.h.call(this)}}kt(dc,Xt);var Q3={2:"touch",3:"pen",4:"mouse"};dc.prototype.h=function(){dc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Kc="closure_listenable_"+(1e6*Math.random()|0),Y3=0;function X3(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++Y3,this.fa=this.ia=!1}function $f(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function jy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function J3(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function cN(t){const e={};for(const n in t)e[n]=t[n];return e}const Tw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uN(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Tw.length;i++)n=Tw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Vf(t){this.src=t,this.g={},this.h=0}Vf.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=gv(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new X3(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function mv(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=iN(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&($f(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function gv(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var $y="closure_lm_"+(1e6*Math.random()|0),Im={};function dN(t,e,n,r,s){if(r&&r.once)return fN(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)dN(t,e[i],n,r,s);return null}return n=Uy(n),t&&t[Kc]?t.O(e,n,Gc(r)?!!r.capture:!!r,s):hN(t,e,n,!1,r,s)}function hN(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Gc(s)?!!s.capture:!!s,a=Fy(t);if(a||(t[$y]=a=new Vf(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=Z3(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)H3||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(mN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Z3(){function t(n){return e.call(t.src,t.listener,n)}const e=e9;return t}function fN(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)fN(t,e[i],n,r,s);return null}return n=Uy(n),t&&t[Kc]?t.P(e,n,Gc(r)?!!r.capture:!!r,s):hN(t,e,n,!0,r,s)}function pN(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)pN(t,e[i],n,r,s);else r=Gc(r)?!!r.capture:!!r,n=Uy(n),t&&t[Kc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=gv(i,n,r,s),-1<n&&($f(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Fy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=gv(e,n,r,s)),(n=-1<t?e[t]:null)&&Vy(n))}function Vy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Kc])mv(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(mN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Fy(e))?(mv(n,t),n.h==0&&(n.src=null,e[$y]=null)):$f(t)}}}function mN(t){return t in Im?Im[t]:Im[t]="on"+t}function e9(t,e){if(t.fa)t=!0;else{e=new dc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Vy(t),t=n.call(r,e)}return t}function Fy(t){return t=t[$y],t instanceof Vf?t:null}var xm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uy(t){return typeof t=="function"?t:(t[xm]||(t[xm]=function(e){return t.handleEvent(e)}),t[xm])}function At(){ii.call(this),this.i=new Vf(this),this.S=this,this.J=null}kt(At,ii);At.prototype[Kc]=!0;At.prototype.removeEventListener=function(t,e,n,r){pN(this,t,e,n,r)};function jt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Xt(e,t);else if(e instanceof Xt)e.target=e.target||t;else{var s=e;e=new Xt(r,t),uN(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Hu(o,r,!0,e)&&s}if(o=e.g=t,s=Hu(o,r,!0,e)&&s,s=Hu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Hu(o,r,!1,e)&&s}At.prototype.N=function(){if(At.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$f(n[r]);delete t.g[e],t.h--}}this.J=null};At.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};At.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Hu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&mv(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var By=pe.JSON.stringify;class t9{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function n9(){var t=zy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class r9{constructor(){this.h=this.g=null}add(e,n){const r=gN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var gN=new t9(()=>new s9,t=>t.reset());class s9{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function i9(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function o9(t){pe.setTimeout(()=>{throw t},0)}let hc,fc=!1,zy=new r9,vN=()=>{const t=pe.Promise.resolve(void 0);hc=()=>{t.then(a9)}};var a9=()=>{for(var t;t=n9();){try{t.h.call(t.g)}catch(n){o9(n)}var e=gN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fc=!1};function Ff(t,e){At.call(this),this.h=t||1,this.g=e||pe,this.j=Yt(this.qb,this),this.l=Date.now()}kt(Ff,At);Q=Ff.prototype;Q.ga=!1;Q.T=null;Q.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),jt(this,"tick"),this.ga&&(Hy(this),this.start()))}};Q.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Hy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Q.N=function(){Ff.$.N.call(this),Hy(this),delete this.g};function Wy(t,e,n){if(typeof t=="function")n&&(t=Yt(t,n));else if(t&&typeof t.handleEvent=="function")t=Yt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:pe.setTimeout(t,e||0)}function _N(t){t.g=Wy(()=>{t.g=null,t.i&&(t.i=!1,_N(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class l9 extends ii{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_N(this)}N(){super.N(),this.g&&(pe.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pc(t){ii.call(this),this.h=t,this.g={}}kt(pc,ii);var Cw=[];function yN(t,e,n,r){Array.isArray(n)||(n&&(Cw[0]=n.toString()),n=Cw);for(var s=0;s<n.length;s++){var i=dN(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function EN(t){jy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Vy(e)},t),t.g={}}pc.prototype.N=function(){pc.$.N.call(this),EN(this)};pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Uf(){this.g=!0}Uf.prototype.Ea=function(){this.g=!1};function c9(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function u9(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Io(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+h9(t,n)+(r?" "+r:"")})}function d9(t,e){t.info(function(){return"TIMEOUT: "+e})}Uf.prototype.info=function(){};function h9(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return By(n)}catch{return e}}var Xi={},Rw=null;function Bf(){return Rw=Rw||new At}Xi.Ta="serverreachability";function SN(t){Xt.call(this,Xi.Ta,t)}kt(SN,Xt);function mc(t){const e=Bf();jt(e,new SN(e))}Xi.STAT_EVENT="statevent";function wN(t,e){Xt.call(this,Xi.STAT_EVENT,t),this.stat=e}kt(wN,Xt);function on(t){const e=Bf();jt(e,new wN(e,t))}Xi.Ua="timingevent";function TN(t,e){Xt.call(this,Xi.Ua,t),this.size=e}kt(TN,Xt);function Qc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return pe.setTimeout(function(){t()},e)}var zf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},CN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function qy(){}qy.prototype.h=null;function Iw(t){return t.h||(t.h=t.i())}function RN(){}var Yc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Gy(){Xt.call(this,"d")}kt(Gy,Xt);function Ky(){Xt.call(this,"c")}kt(Ky,Xt);var vv;function Hf(){}kt(Hf,qy);Hf.prototype.g=function(){return new XMLHttpRequest};Hf.prototype.i=function(){return{}};vv=new Hf;function Xc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new pc(this),this.P=f9,t=hv?125:void 0,this.V=new Ff(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new IN}function IN(){this.i=null,this.g="",this.h=!1}var f9=45e3,_v={},gh={};Q=Xc.prototype;Q.setTimeout=function(t){this.P=t};function yv(t,e,n){t.L=1,t.v=qf(ts(e)),t.s=n,t.S=!0,xN(t,null)}function xN(t,e){t.G=Date.now(),Jc(t),t.A=ts(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),DN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new IN,t.g=nb(t.l,n?e:null,!t.s),0<t.O&&(t.M=new l9(Yt(t.Pa,t,t.g),t.O)),yN(t.U,t.g,"readystatechange",t.nb),e=t.I?cN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),mc(),c9(t.j,t.u,t.A,t.m,t.W,t.s)}Q.nb=function(t){t=t.target;const e=this.M;e&&fr(t)==3?e.l():this.Pa(t)};Q.Pa=function(t){try{if(t==this.g)e:{const u=fr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||hv||this.g&&(this.h.h||this.g.ja()||Aw(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?mc(3):mc(2)),Wf(this);var n=this.g.da();this.ca=n;t:if(NN(this)){var r=Aw(this.g);t="";var s=r.length,i=fr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),Al(this);var o="";break t}this.h.i=new pe.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,u9(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uc(a)){var c=a;break t}}c=null}if(n=c)Io(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ev(this,n);else{this.i=!1,this.o=3,on(12),yi(this),Al(this);break e}}this.S?(bN(this,u,o),hv&&this.i&&u==3&&(yN(this.U,this.V,"tick",this.mb),this.V.start())):(Io(this.j,this.m,o,null),Ev(this,o)),u==4&&yi(this),this.i&&!this.J&&(u==4?JN(this.l,this):(this.i=!1,Jc(this)))}else O9(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,on(12)):(this.o=0,on(13)),yi(this),Al(this)}}}catch{}finally{}};function NN(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function bN(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=p9(t,n),s==gh){e==4&&(t.o=4,on(14),r=!1),Io(t.j,t.m,null,"[Incomplete Response]");break}else if(s==_v){t.o=4,on(15),Io(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Io(t.j,t.m,s,null),Ev(t,s);NN(t)&&s!=gh&&s!=_v&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),e0(e),e.M=!0,on(11))):(Io(t.j,t.m,n,"[Invalid Chunked Response]"),yi(t),Al(t))}Q.mb=function(){if(this.g){var t=fr(this.g),e=this.g.ja();this.C<e.length&&(Wf(this),bN(this,t,e),this.i&&t!=4&&Jc(this))}};function p9(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?gh:(n=Number(e.substring(n,r)),isNaN(n)?_v:(r+=1,r+n>e.length?gh:(e=e.slice(r,r+n),t.C=r+n,e)))}Q.cancel=function(){this.J=!0,yi(this)};function Jc(t){t.Y=Date.now()+t.P,AN(t,t.P)}function AN(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Qc(Yt(t.lb,t),e)}function Wf(t){t.B&&(pe.clearTimeout(t.B),t.B=null)}Q.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(d9(this.j,this.A),this.L!=2&&(mc(),on(17)),yi(this),this.o=2,Al(this)):AN(this,this.Y-t)};function Al(t){t.l.H==0||t.J||JN(t.l,t)}function yi(t){Wf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Hy(t.V),EN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Ev(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Sv(n.i,t))){if(!t.K&&Sv(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)yh(n),Qf(n);else break e;Zy(n),on(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Qc(Yt(n.ib,n),6e3));if(1>=$N(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Ei(n,11)}else if((t.K||n.g==t)&&yh(n),!uc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Qy(i,i.h),i.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,qe(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=tb(r,r.J?r.pa:null,r.Y),o.K){VN(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Wf(a),Jc(a)),r.g=o}else YN(r);0<n.j.length&&Yf(n)}else c[0]!="stop"&&c[0]!="close"||Ei(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?Ei(n,7):Jy(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}mc(4)}catch{}}function m9(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Mf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function g9(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Mf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function kN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Mf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=g9(t),r=m9(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var PN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function v9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ii(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ii){this.h=t.h,vh(this,t.j),this.s=t.s,this.g=t.g,_h(this,t.m),this.l=t.l;var e=t.i,n=new gc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),xw(this,n),this.o=t.o}else t&&(e=String(t).match(PN))?(this.h=!1,vh(this,e[1]||"",!0),this.s=fl(e[2]||""),this.g=fl(e[3]||"",!0),_h(this,e[4]),this.l=fl(e[5]||"",!0),xw(this,e[6]||"",!0),this.o=fl(e[7]||"")):(this.h=!1,this.i=new gc(null,this.h))}Ii.prototype.toString=function(){var t=[],e=this.j;e&&t.push(pl(e,Nw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(pl(e,Nw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(pl(n,n.charAt(0)=="/"?E9:y9,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",pl(n,w9)),t.join("")};function ts(t){return new Ii(t)}function vh(t,e,n){t.j=n?fl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function _h(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function xw(t,e,n){e instanceof gc?(t.i=e,T9(t.i,t.h)):(n||(e=pl(e,S9)),t.i=new gc(e,t.h))}function qe(t,e,n){t.i.set(e,n)}function qf(t){return qe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,_9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Nw=/[#\/\?@]/g,y9=/[#\?:]/g,E9=/[#\?]/g,S9=/[#\?@]/g,w9=/#/g;function gc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function oi(t){t.g||(t.g=new Map,t.h=0,t.i&&v9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Q=gc.prototype;Q.add=function(t,e){oi(this),this.i=null,t=Ia(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function LN(t,e){oi(t),e=Ia(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function ON(t,e){return oi(t),e=Ia(t,e),t.g.has(e)}Q.forEach=function(t,e){oi(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Q.ta=function(){oi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};Q.Z=function(t){oi(this);let e=[];if(typeof t=="string")ON(this,t)&&(e=e.concat(this.g.get(Ia(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Q.set=function(t,e){return oi(this),this.i=null,t=Ia(this,t),ON(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Q.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function DN(t,e,n){LN(t,e),0<n.length&&(t.i=null,t.g.set(Ia(t,e),Dy(n)),t.h+=n.length)}Q.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Ia(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function T9(t,e){e&&!t.j&&(oi(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(LN(this,r),DN(this,s,n))},t)),t.j=e}var C9=class{constructor(t,e){this.g=t,this.map=e}};function MN(t){this.l=t||R9,pe.PerformanceNavigationTiming?(t=pe.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(pe.g&&pe.g.Ka&&pe.g.Ka()&&pe.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var R9=10;function jN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function $N(t){return t.h?1:t.g?t.g.size:0}function Sv(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qy(t,e){t.g?t.g.add(e):t.h=e}function VN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}MN.prototype.cancel=function(){if(this.i=FN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function FN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Dy(t.i)}var I9=class{stringify(t){return pe.JSON.stringify(t,void 0)}parse(t){return pe.JSON.parse(t,void 0)}};function x9(){this.g=new I9}function N9(t,e,n){const r=n||"";try{kN(t,function(s,i){let o=s;Gc(s)&&(o=By(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function b9(t,e){const n=new Uf;if(pe.Image){const r=new Image;r.onload=zu(Wu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zu(Wu,n,r,"TestLoadImage: error",!1,e),r.onabort=zu(Wu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zu(Wu,n,r,"TestLoadImage: timeout",!1,e),pe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Wu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Zc(t){this.l=t.fc||null,this.j=t.ob||!1}kt(Zc,qy);Zc.prototype.g=function(){return new Gf(this.l,this.j)};Zc.prototype.i=function(t){return function(){return t}}({});function Gf(t,e){At.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Yy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(Gf,At);var Yy=0;Q=Gf.prototype;Q.open=function(t,e){if(this.readyState!=Yy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,vc(this)};Q.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||pe).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Q.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,eu(this)),this.readyState=Yy};Q.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,vc(this)),this.g&&(this.readyState=3,vc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof pe.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;UN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function UN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Q.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?eu(this):vc(this),this.readyState==3&&UN(this)}};Q.Za=function(t){this.g&&(this.response=this.responseText=t,eu(this))};Q.Ya=function(t){this.g&&(this.response=t,eu(this))};Q.ka=function(){this.g&&eu(this)};function eu(t){t.readyState=4,t.l=null,t.j=null,t.A=null,vc(t)}Q.setRequestHeader=function(t,e){this.v.append(t,e)};Q.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Q.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function vc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Gf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var A9=pe.JSON.parse;function ct(t){At.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=BN,this.L=this.M=!1}kt(ct,At);var BN="",k9=/^https?$/i,P9=["POST","PUT"];Q=ct.prototype;Q.Oa=function(t){this.M=t};Q.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():vv.g(),this.C=this.u?Iw(this.u):Iw(vv),this.g.onreadystatechange=Yt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){bw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=pe.FormData&&t instanceof pe.FormData,!(0<=iN(P9,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{WN(this),0<this.B&&((this.L=L9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.ua,this)):this.A=Wy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){bw(this,i)}};function L9(t){return ia&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Q.ua=function(){typeof Oy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,jt(this,"timeout"),this.abort(8))};function bw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,zN(t),Kf(t)}function zN(t){t.F||(t.F=!0,jt(t,"complete"),jt(t,"error"))}Q.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,jt(this,"complete"),jt(this,"abort"),Kf(this))};Q.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kf(this,!0)),ct.$.N.call(this)};Q.La=function(){this.s||(this.G||this.v||this.l?HN(this):this.kb())};Q.kb=function(){HN(this)};function HN(t){if(t.h&&typeof Oy<"u"&&(!t.C[1]||fr(t)!=4||t.da()!=2)){if(t.v&&fr(t)==4)Wy(t.La,0,t);else if(jt(t,"readystatechange"),fr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(PN)[1]||null;!s&&pe.self&&pe.self.location&&(s=pe.self.location.protocol.slice(0,-1)),r=!k9.test(s?s.toLowerCase():"")}n=r}if(n)jt(t,"complete"),jt(t,"success");else{t.m=6;try{var i=2<fr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",zN(t)}}finally{Kf(t)}}}}function Kf(t,e){if(t.g){WN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||jt(t,"ready");try{n.onreadystatechange=r}catch{}}}function WN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(pe.clearTimeout(t.A),t.A=null)}Q.isActive=function(){return!!this.g};function fr(t){return t.g?t.g.readyState:0}Q.da=function(){try{return 2<fr(this)?this.g.status:-1}catch{return-1}};Q.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Q.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),A9(e)}};function Aw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case BN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function O9(t){const e={};t=(t.g&&2<=fr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(uc(t[r]))continue;var n=i9(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}J3(e,function(r){return r.join(", ")})}Q.Ia=function(){return this.m};Q.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qN(t){let e="";return jy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Xy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):qe(t,e,n))}function Ya(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function GN(t){this.Ga=0,this.j=[],this.l=new Uf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ya("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ya("baseRetryDelayMs",5e3,t),this.hb=Ya("retryDelaySeedMs",1e4,t),this.eb=Ya("forwardChannelMaxRetries",2,t),this.xa=Ya("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new MN(t&&t.concurrentRequestLimit),this.Ja=new x9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Q=GN.prototype;Q.ra=8;Q.H=1;function Jy(t){if(KN(t),t.H==3){var e=t.W++,n=ts(t.I);if(qe(n,"SID",t.K),qe(n,"RID",e),qe(n,"TYPE","terminate"),tu(t,n),e=new Xc(t,t.l,e),e.L=2,e.v=qf(ts(n)),n=!1,pe.navigator&&pe.navigator.sendBeacon)try{n=pe.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&pe.Image&&(new Image().src=e.v,n=!0),n||(e.g=nb(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Jc(e)}eb(t)}function Qf(t){t.g&&(e0(t),t.g.cancel(),t.g=null)}function KN(t){Qf(t),t.u&&(pe.clearTimeout(t.u),t.u=null),yh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&pe.clearTimeout(t.m),t.m=null)}function Yf(t){if(!jN(t.i)&&!t.m){t.m=!0;var e=t.Na;hc||vN(),fc||(hc(),fc=!0),zy.add(e,t),t.C=0}}function D9(t,e){return $N(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Qc(Yt(t.Na,t,e),ZN(t,t.C)),t.C++,!0)}Q.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Xc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=cN(i),uN(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=QN(this,s,e),n=ts(this.I),qe(n,"RID",t),qe(n,"CVER",22),this.F&&qe(n,"X-HTTP-Session-Id",this.F),tu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(qN(i)))+"&"+e:this.o&&Xy(n,this.o,i)),Qy(this.i,s),this.bb&&qe(n,"TYPE","init"),this.P?(qe(n,"$req",e),qe(n,"SID","null"),s.aa=!0,yv(s,n,null)):yv(s,n,e),this.H=2}}else this.H==3&&(t?kw(this,t):this.j.length==0||jN(this.i)||kw(this))};function kw(t,e){var n;e?n=e.m:n=t.W++;const r=ts(t.I);qe(r,"SID",t.K),qe(r,"RID",n),qe(r,"AID",t.V),tu(t,r),t.o&&t.s&&Xy(r,t.o,t.s),n=new Xc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=QN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Qy(t.i,n),yv(n,r,e)}function tu(t,e){t.na&&jy(t.na,function(n,r){qe(e,r,n)}),t.h&&kN({},function(n,r){qe(e,r,n)})}function QN(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Yt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{N9(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function YN(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;hc||vN(),fc||(hc(),fc=!0),zy.add(e,t),t.A=0}}function Zy(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Qc(Yt(t.Ma,t),ZN(t,t.A)),t.A++,!0)}Q.Ma=function(){if(this.u=null,XN(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Qc(Yt(this.jb,this),t)}};Q.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),Qf(this),XN(this))};function e0(t){t.B!=null&&(pe.clearTimeout(t.B),t.B=null)}function XN(t){t.g=new Xc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=ts(t.wa);qe(e,"RID","rpc"),qe(e,"SID",t.K),qe(e,"AID",t.V),qe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&qe(e,"TO",t.qa),qe(e,"TYPE","xmlhttp"),tu(t,e),t.o&&t.s&&Xy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=qf(ts(e)),n.s=null,n.S=!0,xN(n,t)}Q.ib=function(){this.v!=null&&(this.v=null,Qf(this),Zy(this),on(19))};function yh(t){t.v!=null&&(pe.clearTimeout(t.v),t.v=null)}function JN(t,e){var n=null;if(t.g==e){yh(t),e0(t),t.g=null;var r=2}else if(Sv(t.i,e))n=e.F,VN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Bf(),jt(r,new TN(r,n)),Yf(t)}else YN(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&D9(t,e)||r==2&&Zy(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Ei(t,5);break;case 4:Ei(t,10);break;case 3:Ei(t,6);break;default:Ei(t,2)}}}function ZN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Ei(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Yt(t.pb,t);n||(n=new Ii("//www.google.com/images/cleardot.gif"),pe.location&&pe.location.protocol=="http"||vh(n,"https"),qf(n)),b9(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),eb(t),KN(t)}Q.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))};function eb(t){if(t.H=0,t.ma=[],t.h){const e=FN(t.i);(e.length!=0||t.j.length!=0)&&(Sw(t.ma,e),Sw(t.ma,t.j),t.i.i.length=0,Dy(t.j),t.j.length=0),t.h.ya()}}function tb(t,e,n){var r=n instanceof Ii?ts(n):new Ii(n);if(r.g!="")e&&(r.g=e+"."+r.g),_h(r,r.m);else{var s=pe.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ii(null);r&&vh(i,r),e&&(i.g=e),s&&_h(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&qe(r,n,e),qe(r,"VER",t.ra),tu(t,r),r}function nb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ct(new Zc({ob:!0})):new ct(t.va),e.Oa(t.J),e}Q.isActive=function(){return!!this.h&&this.h.isActive(this)};function rb(){}Q=rb.prototype;Q.Ba=function(){};Q.Aa=function(){};Q.za=function(){};Q.ya=function(){};Q.isActive=function(){return!0};Q.Va=function(){};function Eh(){if(ia&&!(10<=Number(K3)))throw Error("Environmental error: no available transport.")}Eh.prototype.g=function(t,e){return new kn(t,e)};function kn(t,e){At.call(this),this.g=new GN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!uc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xa(this)}kt(kn,At);kn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=tb(t,null,t.Y),Yf(t)};kn.prototype.close=function(){Jy(this.g)};kn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=By(t),t=n);e.j.push(new C9(e.fb++,t)),e.H==3&&Yf(e)};kn.prototype.N=function(){this.g.h=null,delete this.j,Jy(this.g),delete this.g,kn.$.N.call(this)};function sb(t){Gy.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kt(sb,Gy);function ib(){Ky.call(this),this.status=1}kt(ib,Ky);function xa(t){this.g=t}kt(xa,rb);xa.prototype.Ba=function(){jt(this.g,"a")};xa.prototype.Aa=function(t){jt(this.g,new sb(t))};xa.prototype.za=function(t){jt(this.g,new ib)};xa.prototype.ya=function(){jt(this.g,"b")};function M9(){this.blockSize=-1}function lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kt(lr,M9);lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Nm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}lr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Nm(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Nm(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Nm(this,r),s=0;break}}this.h=s,this.i+=e};lr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function je(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var j9={};function t0(t){return-128<=t&&128>t?W3(t,function(e){return new je([e|0],0>e?-1:0)}):new je([t|0],0>t?-1:0)}function pr(t){if(isNaN(t)||!isFinite(t))return Vo;if(0>t)return Ot(pr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=wv;return new je(e,0)}function ob(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ot(ob(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=pr(Math.pow(e,8)),r=Vo,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=pr(Math.pow(e,i)),r=r.R(i).add(pr(o))):(r=r.R(n),r=r.add(pr(o)))}return r}var wv=4294967296,Vo=t0(0),Tv=t0(1),Pw=t0(16777216);Q=je.prototype;Q.ea=function(){if(Vn(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:wv+r)*e,e*=wv}return t};Q.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(zr(this))return"0";if(Vn(this))return"-"+Ot(this).toString(t);for(var e=pr(Math.pow(t,6)),n=this,r="";;){var s=wh(n,e).g;n=Sh(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,zr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Q.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function zr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Vn(t){return t.h==-1}Q.X=function(t){return t=Sh(this,t),Vn(t)?-1:zr(t)?0:1};function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new je(n,~t.h).add(Tv)}Q.abs=function(){return Vn(this)?Ot(this):this};Q.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new je(n,n[n.length-1]&-2147483648?-1:0)};function Sh(t,e){return t.add(Ot(e))}Q.R=function(t){if(zr(this)||zr(t))return Vo;if(Vn(this))return Vn(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if(Vn(t))return Ot(this.R(Ot(t)));if(0>this.X(Pw)&&0>t.X(Pw))return pr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,qu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,qu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,qu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,qu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new je(n,0)};function qu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Xa(t,e){this.g=t,this.h=e}function wh(t,e){if(zr(e))throw Error("division by zero");if(zr(t))return new Xa(Vo,Vo);if(Vn(t))return e=wh(Ot(t),e),new Xa(Ot(e.g),Ot(e.h));if(Vn(e))return e=wh(t,Ot(e)),new Xa(Ot(e.g),e.h);if(30<t.g.length){if(Vn(t)||Vn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Tv,r=e;0>=r.X(t);)n=Lw(n),r=Lw(r);var s=io(n,1),i=io(r,1);for(r=io(r,2),n=io(n,2);!zr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=io(r,1),n=io(n,1)}return e=Sh(t,s.R(e)),new Xa(s,e)}for(s=Vo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=pr(n),o=i.R(e);Vn(o)||0<o.X(t);)n-=r,i=pr(n),o=i.R(e);zr(i)&&(i=Tv),s=s.add(i),t=Sh(t,o)}return new Xa(s,t)}Q.gb=function(t){return wh(this,t).h};Q.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new je(n,this.h&t.h)};Q.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new je(n,this.h|t.h)};Q.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new je(n,this.h^t.h)};function Lw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new je(n,t.h)}function io(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new je(s,t.h)}Eh.prototype.createWebChannel=Eh.prototype.g;kn.prototype.send=kn.prototype.u;kn.prototype.open=kn.prototype.m;kn.prototype.close=kn.prototype.close;zf.NO_ERROR=0;zf.TIMEOUT=8;zf.HTTP_ERROR=6;CN.COMPLETE="complete";RN.EventType=Yc;Yc.OPEN="a";Yc.CLOSE="b";Yc.ERROR="c";Yc.MESSAGE="d";At.prototype.listen=At.prototype.O;ct.prototype.listenOnce=ct.prototype.P;ct.prototype.getLastError=ct.prototype.Sa;ct.prototype.getLastErrorCode=ct.prototype.Ia;ct.prototype.getStatus=ct.prototype.da;ct.prototype.getResponseJson=ct.prototype.Wa;ct.prototype.getResponseText=ct.prototype.ja;ct.prototype.send=ct.prototype.ha;ct.prototype.setWithCredentials=ct.prototype.Oa;lr.prototype.digest=lr.prototype.l;lr.prototype.reset=lr.prototype.reset;lr.prototype.update=lr.prototype.j;je.prototype.add=je.prototype.add;je.prototype.multiply=je.prototype.R;je.prototype.modulo=je.prototype.gb;je.prototype.compare=je.prototype.X;je.prototype.toNumber=je.prototype.ea;je.prototype.toString=je.prototype.toString;je.prototype.getBits=je.prototype.D;je.fromNumber=pr;je.fromString=ob;var $9=function(){return new Eh},V9=function(){return Bf()},bm=zf,F9=CN,U9=Xi,Ow={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},B9=Zc,Gu=RN,z9=ct,H9=lr,Fo=je;const Dw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na="10.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new cf("@firebase/firestore");function Mw(){return $i.logLevel}function te(t,...e){if($i.logLevel<=ke.DEBUG){const n=e.map(n0);$i.debug(`Firestore (${Na}): ${t}`,...n)}}function ns(t,...e){if($i.logLevel<=ke.ERROR){const n=e.map(n0);$i.error(`Firestore (${Na}): ${t}`,...n)}}function oa(t,...e){if($i.logLevel<=ke.WARN){const n=e.map(n0);$i.warn(`Firestore (${Na}): ${t}`,...n)}}function n0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function me(t="Unexpected state"){const e=`FIRESTORE (${Na}) INTERNAL ASSERTION FAILED: `+t;throw ns(e),new Error(e)}function Qe(t,e){t||me()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class q9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class G9{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Fs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Fs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new ab(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new zt(e)}}class K9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Q9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new K9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Y9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class X9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new Y9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=J9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function aa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ae(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new yt(0,0))}static max(){return new ge(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r){n===void 0?n=0:n>e.length&&me(),r===void 0?r=e.length-n:r>e.length-n&&me(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _c.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _c?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class lt extends _c{construct(e,n,r){return new lt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new lt(n)}static emptyPath(){return new lt([])}}const Z9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends _c{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return Z9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ae(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ae(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ae(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new ae(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(lt.fromString(e))}static fromName(e){return new le(lt.fromString(e).popFirst(5))}static empty(){return new le(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return lt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new lt(e.slice()))}}function e6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Gs(s,le.empty(),e)}function t6(t){return new Gs(t.readTime,t.key,-1)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(ge.min(),le.empty(),-1)}static max(){return new Gs(ge.max(),le.empty(),-1)}}function n6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class s6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nu(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==r6)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&me(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function ru(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}r0.ae=-1;function Xf(t){return t==null}function Th(t){return t===0&&1/t==-1/0}function i6(t){return typeof t=="number"&&Number.isInteger(t)&&!Th(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ji(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cb(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mt=class Cv{constructor(e,n){this.comparator=e,this.root=n||Us.EMPTY}insert(e,n){return new Cv(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Us.BLACK,null,null))}remove(e){return new Cv(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Us.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}},Ku=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Us=class Lr{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Lr.RED,this.left=s??Lr.EMPTY,this.right=i??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Lr(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw me();const e=this.left.check();if(e!==this.right.check())throw me();return e+(this.isRed()?0:1)}};Us.EMPTY=null,Us.RED=!0,Us.BLACK=!1;Us.EMPTY=new class{constructor(){this.size=0}get key(){throw me()}get value(){throw me()}get color(){throw me()}get left(){throw me()}get right(){throw me()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Us(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $w(this.data.getIterator())}getIteratorFrom(e){return new $w(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class $w{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new In([])}unionWith(e){let n=new Jt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return aa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new ub("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const o6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=o6.exec(t);if(Qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ht(t.seconds),nanos:ht(t.nanos)}}function ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Vi(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s0(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function i0(t){const e=t.mapValue.fields.__previous_value__;return s0(e)?i0(e):e}function yc(t){const e=Ks(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ec{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?s0(t)?4:l6(t)?9007199254740991:10:me()}function Tr(t,e){if(t===e)return!0;const n=Fi(t);if(n!==Fi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yc(t).isEqual(yc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ks(s.timestampValue),a=Ks(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Vi(s.bytesValue).isEqual(Vi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ht(s.geoPointValue.latitude)===ht(i.geoPointValue.latitude)&&ht(s.geoPointValue.longitude)===ht(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ht(s.integerValue)===ht(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ht(s.doubleValue),a=ht(i.doubleValue);return o===a?Th(o)===Th(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return aa(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(jw(o)!==jw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Tr(o[l],a[l])))return!1;return!0}(t,e);default:return me()}}function Sc(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function la(t,e){if(t===e)return 0;const n=Fi(t),r=Fi(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ht(i.integerValue||i.doubleValue),l=ht(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Vw(t.timestampValue,e.timestampValue);case 4:return Vw(yc(t),yc(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Vi(i),l=Vi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Oe(a[c],l[c]);if(u!==0)return u}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(ht(i.latitude),ht(o.latitude));return a!==0?a:Oe(ht(i.longitude),ht(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=la(a[c],l[c]);if(u)return u}return Oe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Qu.mapValue&&o===Qu.mapValue)return 0;if(i===Qu.mapValue)return 1;if(o===Qu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Oe(l[h],u[h]);if(f!==0)return f;const p=la(a[l[h]],c[u[h]]);if(p!==0)return p}return Oe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw me()}}function Vw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Ks(t),r=Ks(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function ca(t){return Rv(t)}function Rv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Vi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Rv(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Rv(n.fields[o])}`;return s+"}"}(t.mapValue):me()}function Iv(t){return!!t&&"integerValue"in t}function o0(t){return!!t&&"arrayValue"in t}function Fw(t){return!!t&&"nullValue"in t}function Uw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Sd(t){return!!t&&"mapValue"in t}function kl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ji(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=kl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=kl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function l6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.value=e}static empty(){return new pn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Sd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(n)}setAll(e){let n=Kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=kl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Sd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Sd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ji(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new pn(kl(this.value))}}function db(t){const e=[];return Ji(t.fields,(n,r)=>{const s=new Kt([n]);if(Sd(r)){const i=db(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,ge.min(),ge.min(),ge.min(),pn.empty(),0)}static newFoundDocument(e,n,r,s){return new Wt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new Wt(e,2,n,ge.min(),ge.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ge.min(),ge.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n){this.position=e,this.inclusive=n}}function Bw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=la(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function zw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n="asc"){this.field=e,this.dir=n}}function c6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{}class vt extends hb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d6(e,n,r):n==="array-contains"?new p6(e,r):n==="in"?new m6(e,r):n==="not-in"?new g6(e,r):n==="array-contains-any"?new v6(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new h6(e,r):new f6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(la(n,this.value)):n!==null&&Fi(this.value)===Fi(n)&&this.matchesComparison(la(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return me()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Cr extends hb{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Cr(e,n)}matches(e){return fb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function fb(t){return t.op==="and"}function pb(t){return u6(t)&&fb(t)}function u6(t){for(const e of t.filters)if(e instanceof Cr)return!1;return!0}function xv(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+ca(t.value);if(pb(t))return t.filters.map(e=>xv(e)).join(",");{const e=t.filters.map(n=>xv(n)).join(",");return`${t.op}(${e})`}}function mb(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Tr(r.value,s.value)}(t,e):t instanceof Cr?function(r,s){return s instanceof Cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&mb(o,s.filters[a]),!0):!1}(t,e):void me()}function gb(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${ca(n.value)}`}(t):t instanceof Cr?function(n){return n.op.toString()+" {"+n.getFilters().map(gb).join(" ,")+"}"}(t):"Filter"}class d6 extends vt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class h6 extends vt{constructor(e,n){super(e,"in",n),this.keys=vb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f6 extends vt{constructor(e,n){super(e,"not-in",n),this.keys=vb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function vb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class p6 extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return o0(n)&&Sc(n.arrayValue,this.value)}}class m6 extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class g6 extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sc(this.value.arrayValue,n)}}class v6 extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!o0(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.he=null}}function Hw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new _6(t,e,n,r,s,i,o)}function a0(t){const e=ye(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ca(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ca(r)).join(",")),e.he=n}return e.he}function l0(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!mb(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!zw(t.startAt,e.startAt)&&zw(t.endAt,e.endAt)}function Nv(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function y6(t,e,n,r,s,i,o,a){return new Jf(t,e,n,r,s,i,o,a)}function c0(t){return new Jf(t)}function Ww(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function E6(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function S6(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function w6(t){return t.collectionGroup!==null}function Ll(t){const e=ye(t);if(e.Pe===null){e.Pe=[];const n=S6(e),r=E6(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Pl(n)),e.Pe.push(new Pl(Kt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.Pe.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Pl(Kt.keyField(),i))}}}return e.Pe}function rs(t){const e=ye(t);return e.Ie||(e.Ie=T6(e,Ll(t))),e.Ie}function T6(t,e){if(t.limitType==="F")return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Pl(s.field,i)});const n=t.endAt?new Ch(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ch(t.startAt.position,t.startAt.inclusive):null;return Hw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function bv(t,e,n){return new Jf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zf(t,e){return l0(rs(t),rs(e))&&t.limitType===e.limitType}function _b(t){return`${a0(rs(t))}|lt:${t.limitType}`}function Av(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>gb(s)).join(", ")}]`),Xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ca(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ca(s)).join(",")),`Target(${r})`}(rs(t))}; limitType=${t.limitType})`}function ep(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ll(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Bw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ll(r),s)||r.endAt&&!function(o,a,l){const c=Bw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ll(r),s))}(t,e)}function C6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function yb(t){return(e,n)=>{let r=!1;for(const s of Ll(t)){const i=R6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function R6(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?la(l,c):me()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return me()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ji(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return cb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I6=new mt(le.comparator);function ss(){return I6}const Eb=new mt(le.comparator);function ml(...t){let e=Eb;for(const n of t)e=e.insert(n.key,n);return e}function Sb(t){let e=Eb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Si(){return Ol()}function wb(){return Ol()}function Ol(){return new ba(t=>t.toString(),(t,e)=>t.isEqual(e))}const x6=new mt(le.comparator),N6=new Jt(le.comparator);function Re(...t){let e=N6;for(const n of t)e=e.add(n);return e}const b6=new Jt(Oe);function A6(){return b6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function Cb(t){return{integerValue:""+t}}function k6(t,e){return i6(e)?Cb(e):Tb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this._=void 0}}function P6(t,e,n){return t instanceof Rh?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&s0(i)&&(i=i0(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof wc?Ib(t,e):t instanceof Tc?xb(t,e):function(s,i){const o=Rb(s,i),a=qw(o)+qw(s.Ee);return Iv(o)&&Iv(s.Ee)?Cb(a):Tb(s.serializer,a)}(t,e)}function L6(t,e,n){return t instanceof wc?Ib(t,e):t instanceof Tc?xb(t,e):n}function Rb(t,e){return t instanceof Ih?function(r){return Iv(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Rh extends tp{}class wc extends tp{constructor(e){super(),this.elements=e}}function Ib(t,e){const n=Nb(e);for(const r of t.elements)n.some(s=>Tr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Tc extends tp{constructor(e){super(),this.elements=e}}function xb(t,e){let n=Nb(e);for(const r of t.elements)n=n.filter(s=>!Tr(s,r));return{arrayValue:{values:n}}}class Ih extends tp{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function qw(t){return ht(t.integerValue||t.doubleValue)}function Nb(t){return o0(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function O6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof wc&&s instanceof wc||r instanceof Tc&&s instanceof Tc?aa(r.elements,s.elements,Tr):r instanceof Ih&&s instanceof Ih?Tr(r.Ee,s.Ee):r instanceof Rh&&s instanceof Rh}(t.transform,e.transform)}class D6{constructor(e,n){this.version=e,this.transformResults=n}}class Sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class np{}function bb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kb(t.key,Sr.none()):new su(t.key,t.data,Sr.none());{const n=t.data,r=pn.empty();let s=new Jt(Kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new ai(t.key,r,new In(s.toArray()),Sr.none())}}function M6(t,e,n){t instanceof su?function(s,i,o){const a=s.value.clone(),l=Kw(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ai?function(s,i,o){if(!wd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Kw(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Ab(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Dl(t,e,n,r){return t instanceof su?function(i,o,a,l){if(!wd(i.precondition,o))return a;const c=i.value.clone(),u=Qw(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ai?function(i,o,a,l){if(!wd(i.precondition,o))return a;const c=Qw(i.fieldTransforms,l,o),u=o.data;return u.setAll(Ab(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return wd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function j6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Rb(r.transform,s||null);i!=null&&(n===null&&(n=pn.empty()),n.set(r.field,i))}return n||null}function Gw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&aa(r,s,(i,o)=>O6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class su extends np{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ai extends np{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ab(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Kw(t,e,n){const r=new Map;Qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,L6(o,a,n[s]))}return r}function Qw(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,P6(i,o,e))}return r}class kb extends np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $6 extends np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&M6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=wb();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=bb(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&aa(this.mutations,e.mutations,(n,r)=>Gw(n,r))&&aa(this.baseMutations,e.baseMutations,(n,r)=>Gw(n,r))}}class u0{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length);let s=function(){return x6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new u0(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Ne;function B6(t){switch(t){default:return me();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function Pb(t){if(t===void 0)return ns("GRPC error has no .code"),F.UNKNOWN;switch(t){case dt.OK:return F.OK;case dt.CANCELLED:return F.CANCELLED;case dt.UNKNOWN:return F.UNKNOWN;case dt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case dt.INTERNAL:return F.INTERNAL;case dt.UNAVAILABLE:return F.UNAVAILABLE;case dt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case dt.NOT_FOUND:return F.NOT_FOUND;case dt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case dt.ABORTED:return F.ABORTED;case dt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case dt.DATA_LOSS:return F.DATA_LOSS;default:return me()}}(Ne=dt||(dt={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Yu}static getOrCreateInstance(){return Yu===null&&(Yu=new d0),Yu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Yu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=new Fo([4294967295,4294967295],0);function Yw(t){const e=z6().encode(t),n=new H9;return n.update(e),new Uint8Array(n.digest())}function Xw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Fo([n,r],0),new Fo([s,i],0)]}class h0{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gl(`Invalid padding: ${n}`);if(r<0)throw new gl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gl(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Fo.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(Fo.fromNumber(r)));return s.compare(H6)===1&&(s=new Fo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=Yw(e),[r,s]=Xw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);if(!this.me(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new h0(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=Yw(e),[r,s]=Xw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,iu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rp(ge.min(),s,new mt(Oe),ss(),Re())}}class iu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new iu(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class Lb{constructor(e,n){this.targetId=e,this.ye=n}}class Ob{constructor(e,n,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Jw{constructor(){this.we=0,this.Se=eT(),this.be=nn.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return this.we!==0}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=Re(),n=Re(),r=Re();return this.Se.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:me()}}),new iu(this.be,this.De,e,n,r)}Oe(){this.ve=!1,this.Se=eT()}Ne(e,n){this.ve=!0,this.Se=this.Se.insert(e,n)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class W6{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=ss(),this.Ue=Zw(),this.We=new mt(Oe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:me()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){var n;const r=e.targetId,s=e.ye.count,i=this.et(r);if(i){const o=i.target;if(Nv(o))if(s===0){const a=new le(o.path);this.je(r,a,Wt.newNoDocument(a,ge.min()))}else Qe(s===1);else{const a=this.tt(r);if(a!==s){const l=this.nt(e),c=l?this.rt(l,e,a):1;if(c!==0){this.Ze(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(r,u)}(n=d0.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,p,m,g){var E,v,_,y,S,w;const x={localCacheCount:h,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},b=f.unchangedNames;return b&&(x.bloomFilter={applied:g===0,hashCount:(E=b==null?void 0:b.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(y=(_=(v=b==null?void 0:b.bits)===null||v===void 0?void 0:v.bitmap)===null||_===void 0?void 0:_.length)!==null&&y!==void 0?y:0,padding:(w=(S=b==null?void 0:b.bits)===null||S===void 0?void 0:S.padding)!==null&&w!==void 0?w:0,mightContain:k=>{var q;return(q=m==null?void 0:m.mightContain(k))!==null&&q!==void 0&&q}}),x}(a,e.ye,this.Qe.it(),l,c))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Vi(r).toUint8Array()}catch(l){if(l instanceof ub)return oa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new h0(o,s,i)}catch(l){return oa(l instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Qe.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.je(n,i,null),s++)}),s}ot(e){const n=new Map;this.Ke.forEach((i,o)=>{const a=this.et(o);if(a){if(i.current&&Nv(a.target)){const l=new le(a.target.path);this.$e.get(l)!==null||this._t(o,l)||this.je(o,l,Wt.newNoDocument(l,e))}i.Fe&&(n.set(o,i.xe()),i.Oe())}});let r=Re();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.et(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.$e.forEach((i,o)=>o.setReadTime(e));const s=new rp(e,n,this.We,this.$e,r);return this.$e=ss(),this.Ue=Zw(),this.We=new mt(Oe),s}ze(e,n){if(!this.Ye(e))return;const r=this._t(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ut(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this._t(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ut(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new Jw,this.Ke.set(e,n)),n}ut(e){let n=this.Ue.get(e);return n||(n=new Jt(Oe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.Ce?null:this.Qe.ct(e)}Ze(e){this.Ke.set(e,new Jw),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}_t(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function Zw(){return new mt(le.comparator)}function eT(){return new mt(le.comparator)}const q6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),G6=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),K6=(()=>({and:"AND",or:"OR"}))();class Q6{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kv(t,e){return t.useProto3Json||Xf(e)?e:{value:e}}function xh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Db(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y6(t,e){return xh(t,e.toTimestamp())}function wr(t){return Qe(!!t),ge.fromTimestamp(function(n){const r=Ks(n);return new yt(r.seconds,r.nanos)}(t))}function f0(t,e){return function(r){return new lt(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function Mb(t){const e=lt.fromString(t);return Qe(Fb(e)),e}function Pv(t,e){return f0(t.databaseId,e.path)}function Am(t,e){const n=Mb(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(jb(n))}function Lv(t,e){return f0(t.databaseId,e)}function X6(t){const e=Mb(t);return e.length===4?lt.emptyPath():jb(e)}function Ov(t){return new lt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function jb(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function tT(t,e,n){return{name:Pv(t,e),fields:n.value.mapValue.fields}}function J6(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:me()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Qe(u===void 0||typeof u=="string"),nn.fromBase64String(u||"")):(Qe(u===void 0||u instanceof Uint8Array),nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?F.UNKNOWN:Pb(c.code);return new ae(u,c.message||"")}(o);n=new Ob(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Am(t,r.document.name),i=wr(r.document.updateTime),o=r.document.createTime?wr(r.document.createTime):ge.min(),a=new pn({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Td(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Am(t,r.document),i=r.readTime?wr(r.readTime):ge.min(),o=Wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Td([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Am(t,r.document),i=r.removedTargetIds||[];n=new Td([],i,s,null)}else{if(!("filter"in e))return me();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new U6(s,i),a=r.targetId;n=new Lb(a,o)}}return n}function Z6(t,e){let n;if(e instanceof su)n={update:tT(t,e.key,e.value)};else if(e instanceof kb)n={delete:Pv(t,e.key)};else if(e instanceof ai)n={update:tT(t,e.key,e.data),updateMask:lH(e.fieldMask)};else{if(!(e instanceof $6))return me();n={verify:Pv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Rh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ih)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw me()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Y6(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:me()}(t,e.precondition)),n}function eH(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?wr(s.updateTime):wr(i);return o.isEqual(ge.min())&&(o=wr(i)),new D6(o,s.transformResults||[])}(n,e))):[]}function tH(t,e){return{documents:[Lv(t,e.path)]}}function nH(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Lv(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Lv(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return Vb(Cr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:uo(h.field),direction:iH(h.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=kv(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function rH(t){let e=X6(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=$b(h);return f instanceof Cr&&pb(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(m){return new Pl(ho(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Xf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Ch(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new Ch(p,f)}(n.endAt)),y6(e,s,o,i,a,"F",l,c)}function sH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return me()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $b(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ho(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=ho(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=ho(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=ho(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return me()}}(t):t.fieldFilter!==void 0?function(n){return vt.create(ho(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return me()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Cr.create(n.compositeFilter.filters.map(r=>$b(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return me()}}(n.compositeFilter.op))}(t):me()}function iH(t){return q6[t]}function oH(t){return G6[t]}function aH(t){return K6[t]}function uo(t){return{fieldPath:t.canonicalString()}}function ho(t){return Kt.fromServerFormat(t.fieldPath)}function Vb(t){return t instanceof vt?function(n){if(n.op==="=="){if(Uw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(Fw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(Fw(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:oH(n.op),value:n.value}}}(t):t instanceof Cr?function(n){const r=n.getFilters().map(s=>Vb(s));return r.length===1?r[0]:{compositeFilter:{op:aH(n.op),filters:r}}}(t):me()}function lH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Fb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cH{constructor(e){this.lt=e}}function uH(t){const e=rH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?bv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dH{constructor(){this.on=new hH}addToCollectionParentIndex(e,n){return this.on.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Gs.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class hH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Jt(lt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Jt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ua(0)}static Nn(){return new ua(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(){this.changes=new ba(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Dl(r.mutation,s,In.empty(),yt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const s=Si();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ml();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Si();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ss();const o=Ol(),a=function(){return Ol()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof ai)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Dl(u.mutation,c,u.mutation.getFieldMask(),yt.now())):o.set(c.key,In.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new pH(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ol();let s=new mt((o,a)=>o-a),i=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||In.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||Re()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=wb();u.forEach(f=>{if(!i.has(f)){const p=bb(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return z.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return le.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):w6(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(Si());let a=-1,l=i;return o.next(c=>z.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?z.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Re())).next(u=>({batchId:a,changes:Sb(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let s=ml();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=ml();return this.indexManager.getCollectionParents(e,s).next(o=>z.forEach(o,a=>{const l=function(u,h){return new Jf(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,Wt.newInvalidDocument(c)))});let o=ml();return i.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Dl(c.mutation,l,In.empty(),yt.now()),ep(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return z.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:wr(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:uH(s.bundledQuery),readTime:wr(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(){this.overlays=new mt(le.comparator),this.lr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Si();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Pt(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=Si(),i=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new mt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=Si(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=Si(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return z.resolve(a)}Pt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new F6(n,r));let i=this.lr.get(n);i===void 0&&(i=Re(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(){this.hr=new Jt(Ct.Pr),this.Ir=new Jt(Ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ct(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new le(new lt([])),r=new Ct(n,e),s=new Ct(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new le(new lt([])),r=new Ct(n,e),s=new Ct(n,e+1);let i=Re();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ct(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return le.comparator(e.key,n.key)||Oe(e.gr,n.gr)}static Tr(e,n){return Oe(e.gr,n.gr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _H{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Jt(Ct.Pr)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new V6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new Ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(o)}lookupMutationBatch(e,n){return z.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Oe);return n.forEach(s=>{const i=new Ct(s,0),o=new Ct(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),z.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;le.isDocumentKey(i)||(i=i.child(""));const o=new Ct(new le(i),0);let a=new Jt(Oe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),z.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return z.forEach(n.mutations,s=>{const i=new Ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ct(n,0),s=this.yr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yH{constructor(e){this.vr=e,this.docs=function(){return new mt(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=ss();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ss();const o=n.path,a=new le(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||n6(t6(u),r)<=0||(s.has(u.key)||ep(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){me()}Cr(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new EH(this)}getSize(e){return z.resolve(this.size)}}class EH extends fH{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e){this.persistence=e,this.Fr=new ba(n=>a0(n),l0),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Mr=0,this.Or=new p0,this.targetCount=0,this.Nr=ua.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),z.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ua(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.kn(n),z.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),z.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e,n){this.Br={},this.overlays={},this.Lr=new r0(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new SH(this),this.indexManager=new dH,this.remoteDocumentCache=function(s){return new yH(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new cH(n),this.Kr=new gH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new vH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new _H(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const s=new TH(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return z.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class TH extends s6{constructor(e){super(),this.currentSequenceNumber=e}}class m0{constructor(e){this.persistence=e,this.Gr=new p0,this.zr=null}static jr(e){return new m0(e)}get Hr(){if(this.zr)return this.zr;throw me()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),z.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.Hr,r=>{const s=le.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return z.or([()=>z.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=Re(),s=Re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new g0(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(){this.Ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ui(e,n).next(i=>i||this.Wi(e,n,s,r)).next(i=>i||this.Gi(e,n))}Ui(e,n){if(Ww(n))return z.resolve(null);let r=rs(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=bv(n,null,"F"),r=rs(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Re(...i);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.zi(n,a);return this.ji(n,c,o,l.readTime)?this.Ui(e,bv(n,null,"F")):this.Hi(e,c,n,l)}))})))}Wi(e,n,r,s){return Ww(n)||s.isEqual(ge.min())?this.Gi(e,n):this.$i.getDocuments(e,r).next(i=>{const o=this.zi(n,i);return this.ji(n,o,r,s)?this.Gi(e,n):(Mw()<=ke.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Av(n)),this.Hi(e,o,n,e6(s,-1)))})}zi(e,n){let r=new Jt(yb(e));return n.forEach((s,i)=>{ep(e,i)&&(r=r.add(i))}),r}ji(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Gi(e,n){return Mw()<=ke.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",Av(n)),this.$i.getDocumentsMatchingQuery(e,n,Gs.min())}Hi(e,n,r,s){return this.$i.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e,n,r,s){this.persistence=e,this.Ji=n,this.serializer=s,this.Yi=new mt(Oe),this.Zi=new ba(i=>a0(i),l0),this.Xi=new Map,this.es=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.ts(r)}ts(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new mH(this.es,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.es.setIndexManager(this.indexManager),this.Ji.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Yi))}}function IH(t,e,n,r){return new RH(t,e,n,r)}async function Ub(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ts(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Re();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function xH(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.es.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=z.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const E=c.docVersions.get(m);Qe(E!==null),g.version.compareTo(E)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Re();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Bb(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function NH(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.Yi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.es.newChangeBuffer({trackRemovals:!0});s=n.Yi;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(nn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(g,E,v){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,p,u)&&a.push(n.qr.updateTargetData(i,p))});let l=ss(),c=Re();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(bH(i,o,e.documentUpdates).next(u=>{l=u.rs,c=u.ss})),!r.isEqual(ge.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return z.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Yi=s,i))}function bH(t,e,n){let r=Re(),s=Re();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ss();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{rs:o,ss:s}})}function AH(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function kH(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,z.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Is(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Yi.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Yi=n.Yi.insert(r.targetId,r),n.Zi.set(e,r.targetId)),r})}async function Dv(t,e,n){const r=ye(t),s=r.Yi.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!ru(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Yi=r.Yi.remove(e),r.Zi.delete(s.target)}function nT(t,e,n){const r=ye(t);let s=ge.min(),i=Re();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,c,u){const h=ye(l),f=h.Zi.get(u);return f!==void 0?z.resolve(h.Yi.get(f)):h.qr.getTargetData(c,u)}(r,o,rs(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ji.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Re())).next(a=>(PH(r,C6(e),a),{documents:a,os:i})))}function PH(t,e,n){let r=t.Xi.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class rT{constructor(){this.activeTargetIds=A6()}Ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}Is(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LH{constructor(){this.Js=new rT,this.Ys={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Js.Ps(e),this.Ys[e]||"not-current"}updateQueryState(e,n,r){this.Ys[e]=n}removeLocalQueryTarget(e){this.Js.Is(e)}isLocalQueryTarget(e){return this.Js.activeTargetIds.has(e)}clearQueryState(e){delete this.Ys[e]}getAllActiveQueryTargets(){return this.Js.activeTargetIds}isActiveQueryTarget(e){return this.Js.activeTargetIds.has(e)}start(){return this.Js=new rT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OH{Zs(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(){this.Xs=()=>this.eo(),this.no=()=>this.ro(),this.io=[],this.so()}Zs(e){this.io.push(e)}shutdown(){window.removeEventListener("online",this.Xs),window.removeEventListener("offline",this.no)}so(){window.addEventListener("online",this.Xs),window.addEventListener("offline",this.no)}eo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.io)e(0)}ro(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.io)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function km(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MH{constructor(e){this.oo=e.oo,this._o=e._o}ao(e){this.uo=e}co(e){this.lo=e}onMessage(e){this.ho=e}close(){this._o()}send(e){this.oo(e)}Po(){this.uo()}Io(e){this.lo(e)}To(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class jH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Eo=r+"://"+n.host,this.Ao=`projects/${s}/databases/${i}`,this.Ro=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Vo(){return!1}mo(n,r,s,i,o){const a=km(),l=this.fo(n,r);te("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ao,"x-goog-request-params":this.Ro};return this.po(c,i,o),this.yo(n,l,c,s).then(u=>(te("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw oa("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}wo(n,r,s,i,o,a){return this.mo(n,r,s,i,o)}po(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Na}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}fo(n,r){const s=DH[n];return`${this.Eo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}yo(e,n,r,s){const i=km();return new Promise((o,a)=>{const l=new z9;l.setWithCredentials(!0),l.listenOnce(F9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case bm.NO_ERROR:const u=l.getResponseJson();te(Bt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case bm.TIMEOUT:te(Bt,`RPC '${e}' ${i} timed out`),a(new ae(F.DEADLINE_EXCEEDED,"Request time out"));break;case bm.HTTP_ERROR:const h=l.getStatus();if(te(Bt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(E){const v=E.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(v)>=0?v:F.UNKNOWN}(p.status);a(new ae(m,p.message))}else a(new ae(F.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ae(F.UNAVAILABLE,"Connection failed."));break;default:me()}}finally{te(Bt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);te(Bt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}So(e,n,r){const s=km(),i=[this.Eo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=$9(),a=V9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new B9({})),this.po(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");te(Bt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const m=new MH({oo:E=>{p?te(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(te(Bt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),te(Bt,`RPC '${e}' stream ${s} sending:`,E),h.send(E))},_o:()=>h.close()}),g=(E,v,_)=>{E.listen(v,y=>{try{_(y)}catch(S){setTimeout(()=>{throw S},0)}})};return g(h,Gu.EventType.OPEN,()=>{p||te(Bt,`RPC '${e}' stream ${s} transport opened.`)}),g(h,Gu.EventType.CLOSE,()=>{p||(p=!0,te(Bt,`RPC '${e}' stream ${s} transport closed`),m.Io())}),g(h,Gu.EventType.ERROR,E=>{p||(p=!0,oa(Bt,`RPC '${e}' stream ${s} transport errored:`,E),m.Io(new ae(F.UNAVAILABLE,"The operation could not be completed")))}),g(h,Gu.EventType.MESSAGE,E=>{var v;if(!p){const _=E.data[0];Qe(!!_);const y=_,S=y.error||((v=y[0])===null||v===void 0?void 0:v.error);if(S){te(Bt,`RPC '${e}' stream ${s} received error:`,S);const w=S.status;let x=function(q){const O=dt[q];if(O!==void 0)return Pb(O)}(w),b=S.message;x===void 0&&(x=F.INTERNAL,b="Unknown error status: "+w+" with message "+S.message),p=!0,m.Io(new ae(x,b)),h.close()}else te(Bt,`RPC '${e}' stream ${s} received:`,_),m.To(_)}}),g(a,U9.STAT_EVENT,E=>{E.stat===Ow.PROXY?te(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Ow.NOPROXY&&te(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Po()},0),m}}function Pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){return new Q6(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.bo=r,this.Do=s,this.vo=i,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}reset(){this.Co=0}xo(){this.Co=this.vo}Oo(e){this.cancel();const n=Math.floor(this.Co+this.No()),r=Math.max(0,Date.now()-this.Mo),s=Math.max(0,n-r);s>0&&te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Co} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Fo=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Mo=Date.now(),e())),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}Bo(){this.Fo!==null&&(this.Fo.skipDelay(),this.Fo=null)}cancel(){this.Fo!==null&&(this.Fo.cancel(),this.Fo=null)}No(){return(Math.random()-.5)*this.Co}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Lo=r,this.ko=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.qo=0,this.Qo=null,this.Ko=null,this.stream=null,this.$o=new zb(e,n)}Uo(){return this.state===1||this.state===5||this.Wo()}Wo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}zo(){this.state=0,this.$o.reset()}jo(){this.Wo()&&this.Qo===null&&(this.Qo=this.si.enqueueAfterDelay(this.Lo,6e4,()=>this.Ho()))}Jo(e){this.Yo(),this.stream.send(e)}async Ho(){if(this.Wo())return this.close(0)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}async close(e,n){this.Yo(),this.Zo(),this.$o.cancel(),this.qo++,e!==4?this.$o.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(ns(n.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.$o.xo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Xo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Xo(){}auth(){this.state=1;const e=this.e_(this.qo),n=this.qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.qo===n&&this.t_(r,s)},r=>{e(()=>{const s=new ae(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.n_(s)})})}t_(e,n){const r=this.e_(this.qo);this.stream=this.r_(e,n),this.stream.ao(()=>{r(()=>(this.state=2,this.Ko=this.si.enqueueAfterDelay(this.ko,1e4,()=>(this.Wo()&&(this.state=3),Promise.resolve())),this.listener.ao()))}),this.stream.co(s=>{r(()=>this.n_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.$o.Oo(async()=>{this.state=0,this.start()})}n_(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}e_(e){return n=>{this.si.enqueueAndForget(()=>this.qo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $H extends Hb{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}r_(e,n){return this.connection.So("Listen",e,n)}onMessage(e){this.$o.reset();const n=J6(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?wr(o.readTime):ge.min()}(e);return this.listener.i_(n,r)}s_(e){const n={};n.database=Ov(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Nv(l)?{documents:tH(i,l)}:{query:nH(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Db(i,o.resumeToken);const c=kv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=xh(i,o.snapshotVersion.toTimestamp());const c=kv(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=sH(this.serializer,e);r&&(n.labels=r),this.Jo(n)}o_(e){const n={};n.database=Ov(this.serializer),n.removeTarget=e,this.Jo(n)}}class VH extends Hb{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.__=!1}get a_(){return this.__}start(){this.__=!1,this.lastStreamToken=void 0,super.start()}Xo(){this.__&&this.u_([])}r_(e,n){return this.connection.So("Write",e,n)}onMessage(e){if(Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.__){this.$o.reset();const n=eH(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.c_(r,n)}return Qe(!e.writeResults||e.writeResults.length===0),this.__=!0,this.listener.l_()}h_(){const e={};e.database=Ov(this.serializer),this.Jo(e)}u_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Z6(this.serializer,r))};this.Jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FH extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.P_=!1}I_(){if(this.P_)throw new ae(F.FAILED_PRECONDITION,"The client has already been terminated.")}mo(e,n,r){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.mo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ae(F.UNKNOWN,s.toString())})}wo(e,n,r,s){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(F.UNKNOWN,i.toString())})}terminate(){this.P_=!0}}class UH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.E_=0,this.d_=null,this.A_=!0}R_(){this.E_===0&&(this.V_("Unknown"),this.d_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.d_=null,this.m_("Backend didn't respond within 10 seconds."),this.V_("Offline"),Promise.resolve())))}f_(e){this.state==="Online"?this.V_("Unknown"):(this.E_++,this.E_>=1&&(this.g_(),this.m_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.V_("Offline")))}set(e){this.g_(),this.E_=0,e==="Online"&&(this.A_=!1),this.V_(e)}V_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}m_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.A_?(ns(n),this.A_=!1):te("OnlineStateTracker",n)}g_(){this.d_!==null&&(this.d_.cancel(),this.d_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BH{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.p_=[],this.y_=new Map,this.w_=new Set,this.S_=[],this.b_=i,this.b_.Zs(o=>{r.enqueueAndForget(async()=>{Zi(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.w_.add(4),await ou(c),c.D_.set("Unknown"),c.w_.delete(4),await ip(c)}(this))})}),this.D_=new UH(r,s)}}async function ip(t){if(Zi(t))for(const e of t.S_)await e(!0)}async function ou(t){for(const e of t.S_)await e(!1)}function Wb(t,e){const n=ye(t);n.y_.has(e.targetId)||(n.y_.set(e.targetId,e),y0(n)?_0(n):Aa(n).Wo()&&v0(n,e))}function qb(t,e){const n=ye(t),r=Aa(n);n.y_.delete(e),r.Wo()&&Gb(n,e),n.y_.size===0&&(r.Wo()?r.jo():Zi(n)&&n.D_.set("Unknown"))}function v0(t,e){if(t.v_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Aa(t).s_(e)}function Gb(t,e){t.v_.Le(e),Aa(t).o_(e)}function _0(t){t.v_=new W6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ct:e=>t.y_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Aa(t).start(),t.D_.R_()}function y0(t){return Zi(t)&&!Aa(t).Uo()&&t.y_.size>0}function Zi(t){return ye(t).w_.size===0}function Kb(t){t.v_=void 0}async function zH(t){t.y_.forEach((e,n)=>{v0(t,e)})}async function HH(t,e){Kb(t),y0(t)?(t.D_.f_(e),_0(t)):t.D_.set("Unknown")}async function WH(t,e,n){if(t.D_.set("Online"),e instanceof Ob&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.y_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.y_.delete(a),s.v_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nh(t,r)}else if(e instanceof Td?t.v_.Ge(e):e instanceof Lb?t.v_.Xe(e):t.v_.He(e),!n.isEqual(ge.min()))try{const r=await Bb(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.v_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.y_.get(c);u&&i.y_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.y_.get(l);if(!u)return;i.y_.set(l,u.withResumeToken(nn.EMPTY_BYTE_STRING,u.snapshotVersion)),Gb(i,l);const h=new Is(u.target,l,c,u.sequenceNumber);v0(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Nh(t,r)}}async function Nh(t,e,n){if(!ru(e))throw e;t.w_.add(1),await ou(t),t.D_.set("Offline"),n||(n=()=>Bb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.w_.delete(1),await ip(t)})}function Qb(t,e){return e().catch(n=>Nh(t,n,e))}async function op(t){const e=ye(t),n=Qs(e);let r=e.p_.length>0?e.p_[e.p_.length-1].batchId:-1;for(;qH(e);)try{const s=await AH(e.localStore,r);if(s===null){e.p_.length===0&&n.jo();break}r=s.batchId,GH(e,s)}catch(s){await Nh(e,s)}Yb(e)&&Xb(e)}function qH(t){return Zi(t)&&t.p_.length<10}function GH(t,e){t.p_.push(e);const n=Qs(t);n.Wo()&&n.a_&&n.u_(e.mutations)}function Yb(t){return Zi(t)&&!Qs(t).Uo()&&t.p_.length>0}function Xb(t){Qs(t).start()}async function KH(t){Qs(t).h_()}async function QH(t){const e=Qs(t);for(const n of t.p_)e.u_(n.mutations)}async function YH(t,e,n){const r=t.p_.shift(),s=u0.from(r,e,n);await Qb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await op(t)}async function XH(t,e){e&&Qs(t).a_&&await async function(r,s){if(function(o){return B6(o)&&o!==F.ABORTED}(s.code)){const i=r.p_.shift();Qs(r).zo(),await Qb(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await op(r)}}(t,e),Yb(t)&&Xb(t)}async function iT(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.w_.add(3),await ou(n),r&&n.D_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.w_.delete(3),await ip(n)}async function JH(t,e){const n=ye(t);e?(n.w_.delete(2),await ip(n)):e||(n.w_.add(2),await ou(n),n.D_.set("Unknown"))}function Aa(t){return t.C_||(t.C_=function(n,r,s){const i=ye(n);return i.I_(),new $H(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:zH.bind(null,t),co:HH.bind(null,t),i_:WH.bind(null,t)}),t.S_.push(async e=>{e?(t.C_.zo(),y0(t)?_0(t):t.D_.set("Unknown")):(await t.C_.stop(),Kb(t))})),t.C_}function Qs(t){return t.F_||(t.F_=function(n,r,s){const i=ye(n);return i.I_(),new VH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:KH.bind(null,t),co:XH.bind(null,t),l_:QH.bind(null,t),c_:YH.bind(null,t)}),t.S_.push(async e=>{e?(t.F_.zo(),await op(t)):(await t.F_.stop(),t.p_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.p_.length} pending writes`),t.p_=[]))})),t.F_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new E0(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function S0(t,e){if(ns("AsyncQueue",`${e}: ${t}`),ru(t))return new ae(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=ml(),this.sortedSet=new mt(this.comparator)}static emptySet(e){return new Uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.M_=new mt(le.comparator)}track(e){const n=e.doc.key,r=this.M_.get(n);r?e.type!==0&&r.type===3?this.M_=this.M_.insert(n,e):e.type===3&&r.type!==1?this.M_=this.M_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.M_=this.M_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.M_=this.M_.remove(n):e.type===1&&r.type===2?this.M_=this.M_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):me():this.M_=this.M_.insert(n,e)}x_(){const e=[];return this.M_.inorderTraversal((n,r)=>{e.push(r)}),e}}class da{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new da(e,n,Uo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(){this.O_=void 0,this.listeners=[]}}class eW{constructor(){this.queries=new ba(e=>_b(e),Zf),this.onlineState="Unknown",this.N_=new Set}}async function tW(t,e){const n=ye(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new ZH),s)try{i.O_=await n.onListen(r)}catch(o){const a=S0(o,`Initialization of query '${Av(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.B_(n.onlineState),i.O_&&e.L_(i.O_)&&w0(n)}async function nW(t,e){const n=ye(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function rW(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.L_(s)&&(r=!0);o.O_=s}}r&&w0(n)}function sW(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function w0(t){t.N_.forEach(e=>{e.next()})}class iW{constructor(e,n,r){this.query=e,this.k_=n,this.q_=!1,this.Q_=null,this.onlineState="Unknown",this.options=r||{}}L_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.q_?this.K_(e)&&(this.k_.next(e),n=!0):this.U_(e,this.onlineState)&&(this.W_(e),n=!0),this.Q_=e,n}onError(e){this.k_.error(e)}B_(e){this.onlineState=e;let n=!1;return this.Q_&&!this.q_&&this.U_(this.Q_,e)&&(this.W_(this.Q_),n=!0),n}U_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.G_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}K_(e){if(e.docChanges.length>0)return!0;const n=this.Q_&&this.Q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}W_(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.q_=!0,this.k_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.key=e}}class Zb{constructor(e){this.key=e}}class oW{constructor(e,n){this.query=e,this.ea=n,this.ta=null,this.hasCachedResults=!1,this.current=!1,this.na=Re(),this.mutatedKeys=Re(),this.ra=yb(e),this.ia=new Uo(this.ra)}get sa(){return this.ea}oa(e,n){const r=n?n._a:new oT,s=n?n.ia:this.ia;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=ep(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),E=!0):this.aa(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ra(p,l)>0||c&&this.ra(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ia:o,_a:r,ji:a,mutatedKeys:i}}aa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ia;this.ia=e.ia,this.mutatedKeys=e.mutatedKeys;const i=e._a.x_();i.sort((c,u)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return me()}};return m(f)-m(p)}(c.type,u.type)||this.ra(c.doc,u.doc)),this.ua(r);const o=n?this.ca():[],a=this.na.size===0&&this.current?1:0,l=a!==this.ta;return this.ta=a,i.length!==0||l?{snapshot:new da(this.query,e.ia,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),la:o}:{la:o}}B_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ia:this.ia,_a:new oT,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{la:[]}}ha(e){return!this.ea.has(e)&&!!this.ia.has(e)&&!this.ia.get(e).hasLocalMutations}ua(e){e&&(e.addedDocuments.forEach(n=>this.ea=this.ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ea=this.ea.delete(n)),this.current=e.current)}ca(){if(!this.current)return[];const e=this.na;this.na=Re(),this.ia.forEach(r=>{this.ha(r.key)&&(this.na=this.na.add(r.key))});const n=[];return e.forEach(r=>{this.na.has(r)||n.push(new Zb(r))}),this.na.forEach(r=>{e.has(r)||n.push(new Jb(r))}),n}Pa(e){this.ea=e.os,this.na=Re();const n=this.oa(e.documents);return this.applyChanges(n,!0)}Ia(){return da.fromInitialDocuments(this.query,this.ia,this.mutatedKeys,this.ta===0,this.hasCachedResults)}}class aW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class lW{constructor(e){this.key=e,this.Ta=!1}}class cW{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ea={},this.da=new ba(a=>_b(a),Zf),this.Aa=new Map,this.Ra=new Set,this.Va=new mt(le.comparator),this.ma=new Map,this.fa=new p0,this.ga={},this.pa=new Map,this.ya=ua.Nn(),this.onlineState="Unknown",this.wa=void 0}get isPrimaryClient(){return this.wa===!0}}async function uW(t,e){const n=EW(t);let r,s;const i=n.da.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Ia();else{const o=await kH(n.localStore,rs(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await dW(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Wb(n.remoteStore,o)}return s}async function dW(t,e,n,r,s){t.Sa=(h,f,p)=>async function(g,E,v,_){let y=E.view.oa(v);y.ji&&(y=await nT(g.localStore,E.query,!1).then(({documents:x})=>E.view.oa(x,y)));const S=_&&_.targetChanges.get(E.targetId),w=E.view.applyChanges(y,g.isPrimaryClient,S);return lT(g,E.targetId,w.la),w.snapshot}(t,h,f,p);const i=await nT(t.localStore,e,!0),o=new oW(e,i.os),a=o.oa(i.documents),l=iu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);lT(t,n,c.la);const u=new aW(e,n,o);return t.da.set(e,u),t.Aa.has(n)?t.Aa.get(n).push(e):t.Aa.set(n,[e]),c.snapshot}async function hW(t,e){const n=ye(t),r=n.da.get(e),s=n.Aa.get(r.targetId);if(s.length>1)return n.Aa.set(r.targetId,s.filter(i=>!Zf(i,e))),void n.da.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Dv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),qb(n.remoteStore,r.targetId),Mv(n,r.targetId)}).catch(nu)):(Mv(n,r.targetId),await Dv(n.localStore,r.targetId,!0))}async function fW(t,e,n){const r=SW(t);try{const s=await function(o,a){const l=ye(o),c=yt.now(),u=a.reduce((p,m)=>p.add(m.key),Re());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=ss(),g=Re();return l.es.getEntries(p,u).next(E=>{m=E,m.forEach((v,_)=>{_.isValidDocument()||(g=g.add(v))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(E=>{h=E;const v=[];for(const _ of a){const y=j6(_,h.get(_.key).overlayedDocument);y!=null&&v.push(new ai(_.key,y,db(y.value.mapValue),Sr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,v,a)}).next(E=>{f=E;const v=E.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,E.batchId,v)})}).then(()=>({batchId:f.batchId,changes:Sb(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.ga[o.currentUser.toKey()];c||(c=new mt(Oe)),c=c.insert(a,l),o.ga[o.currentUser.toKey()]=c}(r,s.batchId,n),await au(r,s.changes),await op(r.remoteStore)}catch(s){const i=S0(s,"Failed to persist write");n.reject(i)}}async function eA(t,e){const n=ye(t);try{const r=await NH(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ma.get(i);o&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ta=!0:s.modifiedDocuments.size>0?Qe(o.Ta):s.removedDocuments.size>0&&(Qe(o.Ta),o.Ta=!1))}),await au(n,r,e)}catch(r){await nu(r)}}function aT(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.da.forEach((i,o)=>{const a=o.view.B_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.B_(a)&&(c=!0)}),c&&w0(l)}(r.eventManager,e),s.length&&r.Ea.i_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function pW(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ma.get(e),i=s&&s.key;if(i){let o=new mt(le.comparator);o=o.insert(i,Wt.newNoDocument(i,ge.min()));const a=Re().add(i),l=new rp(ge.min(),new Map,new mt(Oe),o,a);await eA(r,l),r.Va=r.Va.remove(i),r.ma.delete(e),T0(r)}else await Dv(r.localStore,e,!1).then(()=>Mv(r,e,n)).catch(nu)}async function mW(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await xH(n.localStore,e);nA(n,r,null),tA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await au(n,s)}catch(s){await nu(s)}}async function gW(t,e,n){const r=ye(t);try{const s=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Qe(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);nA(r,e,n),tA(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await au(r,s)}catch(s){await nu(s)}}function tA(t,e){(t.pa.get(e)||[]).forEach(n=>{n.resolve()}),t.pa.delete(e)}function nA(t,e,n){const r=ye(t);let s=r.ga[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.ga[r.currentUser.toKey()]=s}}function Mv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Aa.get(e))t.da.delete(r),n&&t.Ea.ba(r,n);t.Aa.delete(e),t.isPrimaryClient&&t.fa.Rr(e).forEach(r=>{t.fa.containsKey(r)||rA(t,r)})}function rA(t,e){t.Ra.delete(e.path.canonicalString());const n=t.Va.get(e);n!==null&&(qb(t.remoteStore,n),t.Va=t.Va.remove(e),t.ma.delete(n),T0(t))}function lT(t,e,n){for(const r of n)r instanceof Jb?(t.fa.addReference(r.key,e),vW(t,r)):r instanceof Zb?(te("SyncEngine","Document no longer in limbo: "+r.key),t.fa.removeReference(r.key,e),t.fa.containsKey(r.key)||rA(t,r.key)):me()}function vW(t,e){const n=e.key,r=n.path.canonicalString();t.Va.get(n)||t.Ra.has(r)||(te("SyncEngine","New document in limbo: "+n),t.Ra.add(r),T0(t))}function T0(t){for(;t.Ra.size>0&&t.Va.size<t.maxConcurrentLimboResolutions;){const e=t.Ra.values().next().value;t.Ra.delete(e);const n=new le(lt.fromString(e)),r=t.ya.next();t.ma.set(r,new lW(n)),t.Va=t.Va.insert(n,r),Wb(t.remoteStore,new Is(rs(c0(n.path)),r,"TargetPurposeLimboResolution",r0.ae))}}async function au(t,e,n){const r=ye(t),s=[],i=[],o=[];r.da.isEmpty()||(r.da.forEach((a,l)=>{o.push(r.Sa(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=g0.Qi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.Ea.i_(s),await async function(l,c){const u=ye(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>z.forEach(c,f=>z.forEach(f.ki,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>z.forEach(f.qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!ru(h))throw h;te("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.Yi.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.Yi=u.Yi.insert(f,g)}}}(r.localStore,i))}async function _W(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await Ub(n.localStore,e);n.currentUser=e,function(i,o){i.pa.forEach(a=>{a.forEach(l=>{l.reject(new ae(F.CANCELLED,o))})}),i.pa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await au(n,r.ns)}}function yW(t,e){const n=ye(t),r=n.ma.get(e);if(r&&r.Ta)return Re().add(r.key);{let s=Re();const i=n.Aa.get(e);if(!i)return s;for(const o of i){const a=n.da.get(o);s=s.unionWith(a.view.sa)}return s}}function EW(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=eA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=pW.bind(null,e),e.Ea.i_=rW.bind(null,e.eventManager),e.Ea.ba=sW.bind(null,e.eventManager),e}function SW(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=gW.bind(null,e),e}class cT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=sp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return IH(this.persistence,new CH,e.initialUser,this.serializer)}createPersistence(e){return new wH(m0.jr,this.serializer)}createSharedClientState(e){return new LH}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class wW{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=_W.bind(null,this.syncEngine),await JH(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eW}()}createDatastore(e){const n=sp(e.databaseInfo.databaseId),r=function(i){return new jH(i)}(e.databaseInfo);return function(i,o,a,l){return new FH(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new BH(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>aT(this.syncEngine,n,0),function(){return sT.v()?new sT:new OH}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new cW(s,i,o,a,l,c);return u&&(h.wa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ye(n);te("RemoteStore","RemoteStore shutting down."),r.w_.add(5),await ou(r),r.b_.shutdown(),r.D_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ca(this.observer.next,e)}error(e){this.observer.error?this.Ca(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString())}Fa(){this.muted=!0}Ca(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CW{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=lb.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{te("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(te("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ae(F.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=S0(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Lm(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Ub(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function uT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await IW(t);te("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>iT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>iT(e.remoteStore,i)),t._onlineComponents=e}function RW(t){return t.name==="FirebaseError"?t.code===F.FAILED_PRECONDITION||t.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function IW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await Lm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!RW(n))throw n;oa("Error using user provided cache. Falling back to memory cache: "+n),await Lm(t,new cT)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await Lm(t,new cT);return t._offlineComponents}async function sA(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await uT(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await uT(t,new wW))),t._onlineComponents}function xW(t){return sA(t).then(e=>e.syncEngine)}async function NW(t){const e=await sA(t),n=e.eventManager;return n.onListen=uW.bind(null,e.syncEngine),n.onUnlisten=hW.bind(null,e.syncEngine),n}function bW(t,e,n={}){const r=new Fs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new TW({next:f=>{o.enqueueAndForget(()=>nW(i,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new ae(F.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new ae(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new iW(c0(a.path),u,{includeMetadataChanges:!0,G_:!0});return tW(i,h)}(await NW(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AW(t,e,n){if(!n)throw new ae(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kW(t,e,n,r){if(e===!0&&r===!0)throw new ae(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function hT(t){if(!le.isDocumentKey(t))throw new ae(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function C0(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":me()}function Ui(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=C0(t);throw new ae(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ae(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iA((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(F.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class R0{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ae(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new ae(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new W9;switch(r.type){case"firstParty":return new Q9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=dT.get(n);r&&(te("ComponentProvider","Removing Datastore"),dT.delete(n),r.terminate())}(this),Promise.resolve()}}function PW(t,e,n,r={}){var s;const i=(t=Ui(t,R0))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&oa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=zt.MOCK_USER;else{a=XI(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new ae(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new zt(c)}t._authCredentials=new q9(new ab(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new I0(this.firestore,e,this._query)}}class Nn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Cc extends I0{constructor(e,n,r){super(e,n,c0(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new le(e))}withConverter(e){return new Cc(this.firestore,e,this._path)}}function li(t,e,...n){if(t=pt(t),arguments.length===1&&(e=lb.V()),AW("doc","path",e),t instanceof R0){const r=lt.fromString(e,...n);return hT(r),new Nn(t,null,new le(r))}{if(!(t instanceof Nn||t instanceof Cc))throw new ae(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(lt.fromString(e,...n));return hT(r),new Nn(t.firestore,t instanceof Cc?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{constructor(){this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new zb(this,"async_queue_retry"),this.eu=()=>{const n=Pm();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.$o.Bo()};const e=Pm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.eu)}get isShuttingDown(){return this.ja}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.tu(),this.nu(e)}enterRestrictedMode(e){if(!this.ja){this.ja=!0,this.Za=e||!1;const n=Pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.eu)}}enqueue(e){if(this.tu(),this.ja)return new Promise(()=>{});const n=new Fs;return this.nu(()=>this.ja&&this.Za?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.za.push(e),this.ru()))}async ru(){if(this.za.length!==0){try{await this.za[0](),this.za.shift(),this.$o.reset()}catch(e){if(!ru(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.za.length>0&&this.$o.Oo(()=>this.ru())}}nu(e){const n=this.Ga.then(()=>(this.Ya=!0,e().catch(r=>{this.Ja=r,this.Ya=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ns("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ya=!1,r))));return this.Ga=n,n}enqueueAfterDelay(e,n,r){this.tu(),this.Xa.indexOf(e)>-1&&(n=0);const s=E0.createAndSchedule(this,e,n,r,i=>this.iu(i));return this.Ha.push(s),s}tu(){this.Ja&&me()}verifyOperationInProgress(){}async su(){let e;do e=this.Ga,await e;while(e!==this.Ga)}ou(e){for(const n of this.Ha)if(n.timerId===e)return!0;return!1}_u(e){return this.su().then(()=>{this.Ha.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Ha)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.su()})}au(e){this.Xa.push(e)}iu(e){const n=this.Ha.indexOf(e);this.Ha.splice(n,1)}}class ap extends R0{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new LW}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||aA(this),this._firestoreClient.terminate()}}function OW(t,e){const n=typeof t=="object"?t:iy(),r=typeof t=="string"?t:e||"(default)",s=uf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=KI("firestore");i&&PW(s,...i)}return s}function oA(t){return t._firestoreClient||aA(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function aA(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new a6(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,iA(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new CW(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(nn.fromBase64String(e))}catch(n){throw new ae(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ha(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DW=/^__.*__$/;class MW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}class lA{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ai(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function cA(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw me()}}class b0{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.uu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get cu(){return this.settings.cu}lu(e){return new b0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}hu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.Iu(e),s}Tu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.uu(),s}Eu(e){return this.lu({path:void 0,Pu:!0})}du(e){return bh(e,this.settings.methodName,this.settings.Au||!1,this.path,this.settings.Ru)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}uu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Iu(this.path.get(e))}Iu(e){if(e.length===0)throw this.du("Document fields must not be empty");if(cA(this.cu)&&DW.test(e))throw this.du('Document fields cannot begin and end with "__"')}}class jW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sp(e)}Vu(e,n,r,s=!1){return new b0({cu:e,methodName:n,Ru:r,path:Kt.emptyPath(),Pu:!1,Au:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uA(t){const e=t._freezeSettings(),n=sp(t._databaseId);return new jW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function $W(t,e,n,r,s,i={}){const o=t.Vu(i.merge||i.mergeFields?2:0,e,n,s);A0("Data must be an object, but it was:",o,r);const a=dA(r,o);let l,c;if(i.merge)l=new In(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=jv(e,h,n);if(!o.contains(f))throw new ae(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);fA(u,f)||u.push(f)}l=new In(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new MW(new pn(a),l,c)}class cp extends x0{_toFieldTransform(e){if(e.cu!==2)throw e.cu===1?e.du(`${this._methodName}() can only appear at the top level of your update data`):e.du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof cp}}function VW(t,e,n,r){const s=t.Vu(1,e,n);A0("Data must be an object, but it was:",s,r);const i=[],o=pn.empty();Ji(r,(l,c)=>{const u=k0(e,l,n);c=pt(c);const h=s.Tu(u);if(c instanceof cp)i.push(u);else{const f=up(c,h);f!=null&&(i.push(u),o.set(u,f))}});const a=new In(i);return new lA(o,a,s.fieldTransforms)}function FW(t,e,n,r,s,i){const o=t.Vu(1,e,n),a=[jv(e,r,n)],l=[s];if(i.length%2!=0)throw new ae(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(jv(e,i[f])),l.push(i[f+1]);const c=[],u=pn.empty();for(let f=a.length-1;f>=0;--f)if(!fA(c,a[f])){const p=a[f];let m=l[f];m=pt(m);const g=o.Tu(p);if(m instanceof cp)c.push(p);else{const E=up(m,g);E!=null&&(c.push(p),u.set(p,E))}}const h=new In(c);return new lA(u,h,o.fieldTransforms)}function up(t,e){if(hA(t=pt(t)))return A0("Unsupported field value:",e,t),dA(t,e);if(t instanceof x0)return function(r,s){if(!cA(s.cu))throw s.du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Pu&&e.cu!==4)throw e.du("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=up(a,s.Eu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=pt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return k6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=yt.fromDate(r);return{timestampValue:xh(s.serializer,i)}}if(r instanceof yt){const i=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xh(s.serializer,i)}}if(r instanceof N0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ha)return{bytesValue:Db(s.serializer,r._byteString)};if(r instanceof Nn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:f0(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.du(`Unsupported field value: ${C0(r)}`)}(t,e)}function dA(t,e){const n={};return cb(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ji(t,(r,s)=>{const i=up(s,e.hu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function hA(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof N0||t instanceof ha||t instanceof Nn||t instanceof x0)}function A0(t,e,n){if(!hA(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=C0(n);throw r==="an object"?e.du(t+" a custom object"):e.du(t+" "+r)}}function jv(t,e,n){if((e=pt(e))instanceof lp)return e._internalPath;if(typeof e=="string")return k0(t,e);throw bh("Field path arguments must be of type string or ",t,!1,void 0,n)}const UW=new RegExp("[~\\*/\\[\\]]");function k0(t,e,n){if(e.search(UW)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new lp(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function bh(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new ae(F.INVALID_ARGUMENT,a+t+l)}function fA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(mA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BW extends pA{data(){return super.data()}}function mA(t,e){return typeof e=="string"?k0(t,e):e instanceof lp?e._internalPath:e._delegate._internalPath}class zW{convertValue(e,n="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw me()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ji(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new N0(ht(e.latitude),ht(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=i0(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=lt.fromString(e);Qe(Fb(r));const s=new Ec(r.get(1),r.get(3)),i=new le(r.popFirst(5));return s.isEqual(n)||ns(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HW(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WW{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gA extends pA{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new qW(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(mA("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class qW extends gA{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P0(t){t=Ui(t,Nn);const e=Ui(t.firestore,ap);return bW(oA(e),t._key).then(n=>KW(e,t,n))}class GW extends zW{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,n)}}function L0(t,e,n){t=Ui(t,Nn);const r=Ui(t.firestore,ap),s=HW(t.converter,e,n);return vA(r,[$W(uA(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Sr.none())])}function Ah(t,e,n,...r){t=Ui(t,Nn);const s=Ui(t.firestore,ap),i=uA(s);let o;return o=typeof(e=pt(e))=="string"||e instanceof lp?FW(i,"updateDoc",t._key,e,n,r):VW(i,"updateDoc",t._key,e),vA(s,[o.toMutation(t._key,Sr.exists(!0))])}function vA(t,e){return function(r,s){const i=new Fs;return r.asyncQueue.enqueueAndForget(async()=>fW(await xW(r),s,i)),i.promise}(oA(t),e)}function KW(t,e,n){const r=n.docs.get(e._key),s=new GW(t);return new gA(t,s,e._key,r,new WW(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Na=s})(ei),qs(new Jr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new ap(new G9(r.getProvider("auth-internal")),new X9(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ae(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),zn(Dw,"4.1.1",e),zn(Dw,"4.1.1","esm2017")})();const pT="@firebase/database",mT="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _A="";function QW(t){_A=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ic(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return cs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new YW(e)}}catch{}return new XW},wi=yA("localStorage"),$v=yA("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new cf("@firebase/database"),JW=function(){let t=1;return function(){return t++}}(),EA=function(t){const e=RM(t),n=new EM;n.update(e);const r=n.digest();return ey.encodeByteArray(r)},lu=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=lu.apply(null,r):typeof r=="object"?e+=Dt(r):e+=r,e+=" "}return e};let xi=null,gT=!0;const ZW=function(t,e){K(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Bo.logLevel=ke.VERBOSE,xi=Bo.log.bind(Bo),e&&$v.set("logging_enabled",!0)):typeof t=="function"?xi=t:(xi=null,$v.remove("logging_enabled"))},qt=function(...t){if(gT===!0&&(gT=!1,xi===null&&$v.get("logging_enabled")===!0&&ZW(!0)),xi){const e=lu.apply(null,t);xi(e)}},cu=function(t){return function(...e){qt(t,...e)}},Vv=function(...t){const e="FIREBASE INTERNAL ERROR: "+lu(...t);Bo.error(e)},is=function(...t){const e=`FIREBASE FATAL ERROR: ${lu(...t)}`;throw Bo.error(e),new Error(e)},bn=function(...t){const e="FIREBASE WARNING: "+lu(...t);Bo.warn(e)},e5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&bn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},SA=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},t5=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},fa="[MIN_NAME]",Bi="[MAX_NAME]",ka=function(t,e){if(t===e)return 0;if(t===fa||e===Bi)return-1;if(e===fa||t===Bi)return 1;{const n=vT(t),r=vT(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},n5=function(t,e){return t===e?0:t<e?-1:1},Ja=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Dt(e))},O0=function(t){if(typeof t!="object"||t===null)return Dt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Dt(e[r]),n+=":",n+=O0(t[e[r]]);return n+="}",n},wA=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Kn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const TA=function(t){K(!SA(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},r5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},s5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},i5=new RegExp("^-?(0*)\\d{1,10}$"),o5=-2147483648,a5=2147483647,vT=function(t){if(i5.test(t)){const e=Number(t);if(e>=o5&&e<=a5)return e}return null},uu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw bn("Exception was thrown by user callback.",n),e},Math.floor(0))}},l5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ml=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){bn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',bn(e)}}class zo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="5",CA="v",RA="s",IA="r",xA="f",NA=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,bA="ls",AA="p",Fv="ac",kA="websocket",PA="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LA{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=wi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&wi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function d5(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function OA(t,e,n){K(typeof e=="string","typeof type must == string"),K(typeof n=="object","typeof params must == object");let r;if(e===kA)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===PA)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);d5(t)&&(n.ns=t.namespace);const s=[];return Kn(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h5{constructor(){this.counters_={}}incrementCounter(e,n=1){cs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return iM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om={},Dm={};function M0(t){const e=t.toString();return Om[e]||(Om[e]=new h5),Om[e]}function f5(t,e){const n=t.toString();return Dm[n]||(Dm[n]=e()),Dm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&uu(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="start",m5="close",g5="pLPCommand",v5="pRTLPCB",DA="id",MA="pw",jA="ser",_5="cb",y5="seg",E5="ts",S5="d",w5="dframe",$A=1870,VA=30,T5=$A-VA,C5=25e3,R5=3e4;class xo{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=cu(e),this.stats_=M0(n),this.urlFn=l=>(this.appCheckToken&&(l[Fv]=this.appCheckToken),OA(n,PA,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new p5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(R5)),t5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new j0((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===_T)this.id=a,this.password=l;else if(o===m5)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[_T]="t",r[jA]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[_5]=this.scriptTagHolder.uniqueCallbackIdentifier),r[CA]=D0,this.transportSessionId&&(r[RA]=this.transportSessionId),this.lastSessionId&&(r[bA]=this.lastSessionId),this.applicationId&&(r[AA]=this.applicationId),this.appCheckToken&&(r[Fv]=this.appCheckToken),typeof location<"u"&&location.hostname&&NA.test(location.hostname)&&(r[IA]=xA);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xo.forceAllow_=!0}static forceDisallow(){xo.forceDisallow_=!0}static isAvailable(){return xo.forceAllow_?!0:!xo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!r5()&&!s5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=WI(n),s=wA(r,T5);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[w5]="t",r[DA]=e,r[MA]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class j0{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=JW(),window[g5+this.uniqueCallbackIdentifier]=e,window[v5+this.uniqueCallbackIdentifier]=n,this.myIFrame=j0.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qt("frame writing exception"),a.stack&&qt(a.stack),qt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[DA]=this.myID,e[MA]=this.myPW,e[jA]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+VA+r.length<=$A;){const o=this.pendingSegs.shift();r=r+"&"+y5+s+"="+o.seg+"&"+E5+s+"="+o.ts+"&"+S5+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(C5)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I5=16384,x5=45e3;let kh=null;typeof MozWebSocket<"u"?kh=MozWebSocket:typeof WebSocket<"u"&&(kh=WebSocket);class tr{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=cu(this.connId),this.stats_=M0(n),this.connURL=tr.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[CA]=D0,typeof location<"u"&&location.hostname&&NA.test(location.hostname)&&(o[IA]=xA),n&&(o[RA]=n),r&&(o[bA]=r),s&&(o[Fv]=s),i&&(o[AA]=i),OA(e,kA,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,wi.set("previous_websocket_failure",!0);try{let r;ZI(),this.mySock=new kh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){tr.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&kh!==null&&!tr.forceDisallow_}static previouslyFailed(){return wi.isInMemoryStorage||wi.get("previous_websocket_failure")===!0}markConnectionHealthy(){wi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ic(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(K(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=wA(n,I5);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(x5))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tr.responsesRequiredToBeHealthy=2;tr.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[xo,tr]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=tr&&tr.isAvailable();let r=n&&!tr.previouslyFailed();if(e.webSocketOnly&&(n||bn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[tr];else{const s=this.transports_=[];for(const i of Rc.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Rc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Rc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N5=6e4,b5=5e3,A5=10*1024,k5=100*1024,Mm="t",yT="d",P5="s",ET="r",L5="e",ST="o",wT="a",TT="n",CT="p",O5="h";class D5{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=cu("c:"+this.id+":"),this.transportManager_=new Rc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ml(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>k5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>A5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Mm in e){const n=e[Mm];n===wT?this.upgradeIfSecondaryHealthy_():n===ET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===ST&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ja("t",e),r=Ja("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:CT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:wT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:TT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ja("t",e),r=Ja("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ja(Mm,e);if(yT in e){const r=e[yT];if(n===O5){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===TT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===P5?this.onConnectionShutdown_(r):n===ET?this.onReset_(r):n===L5?Vv("Server Error: "+r):n===ST?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Vv("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),D0!==r&&bn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ml(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(N5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ml(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(b5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:CT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(wi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e){this.allowedEvents_=e,this.listeners_={},K(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){K(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends UA{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ry()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ph}getInitialEvent(e){return K(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT=32,IT=768;class Ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Fe(){return new Ye("")}function be(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ys(t){return t.pieces_.length-t.pieceNum_}function We(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ye(t.pieces_,e)}function BA(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function M5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function zA(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function HA(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ye(e,0)}function xt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ye(n,0)}function xe(t){return t.pieceNum_>=t.pieces_.length}function Un(t,e){const n=be(t),r=be(e);if(n===null)return e;if(n===r)return Un(We(t),We(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function WA(t,e){if(Ys(t)!==Ys(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function nr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ys(t)>Ys(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class j5{constructor(e,n){this.errorPrefix_=n,this.parts_=zA(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=lf(this.parts_[r]);qA(this)}}function $5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=lf(e),qA(t)}function V5(t){const e=t.parts_.pop();t.byteLength_-=lf(e),t.parts_.length>0&&(t.byteLength_-=1)}function qA(t){if(t.byteLength_>IT)throw new Error(t.errorPrefix_+"has a key path longer than "+IT+" bytes ("+t.byteLength_+").");if(t.parts_.length>RT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+RT+") or object contains a cycle "+pi(t))}function pi(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0 extends UA{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new $0}getInitialEvent(e){return K(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Za=1e3,F5=60*5*1e3,xT=30*1e3,U5=1.3,B5=3e4,z5="server_kill",NT=3;class qr extends FA{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=qr.nextPersistentConnectionId_++,this.log_=cu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Za,this.maxReconnectDelay_=F5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!ZI())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");$0.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ph.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Dt(i)),K(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new ny,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),K(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;qr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&cs(e,"w")){const r=Zo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();bn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||yM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_M(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),K(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Dt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Vv("Unrecognized action received from server: "+Dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){K(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>B5&&(this.reconnectDelay_=Za),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*U5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+qr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){K(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new D5(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{bn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(z5)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&bn(h),l())}}}interrupt(e){qt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Qg(this.interruptReasons_)&&(this.reconnectDelay_=Za,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>O0(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ye(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){qt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=NT&&(this.reconnectDelay_=xT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=NT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+_A.replace(/\./g,"-")]=1,ry()?e["framework.cordova"]=1:JI()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ph.getInstance().currentlyOnline();return Qg(this.interruptReasons_)&&e}}qr.nextPersistentConnectionId_=0;qr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Ae(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Ae(fa,e),s=new Ae(fa,n);return this.compare(r,s)!==0}minPost(){return Ae.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ju;class GA extends dp{static get __EMPTY_NODE(){return Ju}static set __EMPTY_NODE(e){Ju=e}compare(e,n){return ka(e.name,n.name)}isDefinedOn(e){throw Sa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Ae.MIN}maxPost(){return new Ae(Bi,Ju)}makePost(e,n){return K(typeof e=="string","KeyIndex indexValue must always be a string."),new Ae(e,Ju)}toString(){return".key"}}const Ho=new GA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class It{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??It.RED,this.left=s??gn.EMPTY_NODE,this.right=i??gn.EMPTY_NODE}copy(e,n,r,s,i){return new It(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return gn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return gn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}It.RED=!0;It.BLACK=!1;class H5{copy(e,n,r,s,i){return this}insert(e,n,r){return new It(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class gn{constructor(e,n=gn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new gn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(e){return new gn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,It.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Zu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Zu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Zu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Zu(this.root_,null,this.comparator_,!0,e)}}gn.EMPTY_NODE=new H5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(t,e){return ka(t.name,e.name)}function V0(t,e){return ka(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uv;function q5(t){Uv=t}const KA=function(t){return typeof t=="number"?"number:"+TA(t):"string:"+t},QA=function(t){if(t.isLeafNode()){const e=t.val();K(typeof e=="string"||typeof e=="number"||typeof e=="object"&&cs(e,".sv"),"Priority must be a string or number.")}else K(t===Uv||t.isEmpty(),"priority of unexpected type.");K(t===Uv||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bT;class Tt{constructor(e,n=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,K(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),QA(this.priorityNode_)}static set __childrenNodeConstructor(e){bT=e}static get __childrenNodeConstructor(){return bT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:be(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=be(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(K(r!==".priority"||Ys(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(We(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+KA(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=TA(this.value_):e+=this.value_,this.lazyHash_=EA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(K(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Tt.VALUE_TYPE_ORDER.indexOf(n),i=Tt.VALUE_TYPE_ORDER.indexOf(r);return K(s>=0,"Unknown leaf type: "+n),K(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YA,XA;function G5(t){YA=t}function K5(t){XA=t}class Q5 extends dp{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?ka(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Ae.MIN}maxPost(){return new Ae(Bi,new Tt("[PRIORITY-POST]",XA))}makePost(e,n){const r=YA(e);return new Ae(n,new Tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qt=new Q5;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5=Math.log(2);class X5{constructor(e){const n=i=>parseInt(Math.log(i)/Y5,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Lh=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new It(f,h.node,It.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=s(l,p),g=s(p+1,c);return h=t[p],f=n?n(h):h,new It(f,h.node,It.BLACK,m,g)}},i=function(l){let c=null,u=null,h=t.length;const f=function(m,g){const E=h-m,v=h;h-=m;const _=s(E+1,v),y=t[E],S=n?n(y):y;p(new It(S,y.node,g,null,_))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));g?f(E,It.BLACK):(f(E,It.BLACK),f(E,It.RED))}return u},o=new X5(t.length),a=i(o);return new gn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm;const oo={};class Hr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return K(oo&&Qt,"ChildrenNode.ts has not been loaded"),jm=jm||new Hr({".priority":oo},{".priority":Qt}),jm}get(e){const n=Zo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof gn?n:null}hasIndex(e){return cs(this.indexSet_,e.toString())}addIndex(e,n){K(e!==Ho,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Ae.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Lh(r,e.getCompare()):a=oo;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Hr(u,c)}addToIndexes(e,n){const r=rh(this.indexes_,(s,i)=>{const o=Zo(this.indexSet_,i);if(K(o,"Missing index implementation for "+i),s===oo)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(Ae.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Lh(a,o.getCompare())}else return oo;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new Ae(e.name,a))),l.insert(e,e.node)}});return new Hr(r,this.indexSet_)}removeFromIndexes(e,n){const r=rh(this.indexes_,s=>{if(s===oo)return s;{const i=n.get(e.name);return i?s.remove(new Ae(e.name,i)):s}});return new Hr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let el;class De{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&QA(this.priorityNode_),this.children_.isEmpty()&&K(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return el||(el=new De(new gn(V0),null,Hr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||el}updatePriority(e){return this.children_.isEmpty()?this:new De(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?el:n}}getChild(e){const n=be(e);return n===null?this:this.getImmediateChild(n).getChild(We(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(K(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Ae(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?el:this.priorityNode_;return new De(s,o,i)}}updateChild(e,n){const r=be(e);if(r===null)return n;{K(be(e)!==".priority"||Ys(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(We(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Qt,(o,a)=>{n[o]=a.val(e),r++,i&&De.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+KA(this.getPriority().val())+":"),this.forEachChild(Qt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":EA(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Ae(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Ae(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Ae(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Ae.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Ae.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===du?-1:0}withIndex(e){if(e===Ho||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new De(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ho||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Qt),s=n.getIterator(Qt);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ho?null:this.indexMap_.get(e.toString())}}De.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class J5 extends De{constructor(){super(new gn(V0),De.EMPTY_NODE,Hr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return De.EMPTY_NODE}isEmpty(){return!1}}const du=new J5;Object.defineProperties(Ae,{MIN:{value:new Ae(fa,De.EMPTY_NODE)},MAX:{value:new Ae(Bi,du)}});GA.__EMPTY_NODE=De.EMPTY_NODE;Tt.__childrenNodeConstructor=De;q5(du);K5(du);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z5=!0;function Gt(t,e=null){if(t===null)return De.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),K(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tt(n,Gt(e))}if(!(t instanceof Array)&&Z5){const n=[];let r=!1;if(Kn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Gt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Ae(o,l)))}}),n.length===0)return De.EMPTY_NODE;const i=Lh(n,W5,o=>o.name,V0);if(r){const o=Lh(n,Qt.getCompare());return new De(i,Gt(e),new Hr({".priority":o},{".priority":Qt}))}else return new De(i,Gt(e),Hr.Default)}else{let n=De.EMPTY_NODE;return Kn(t,(r,s)=>{if(cs(t,r)&&r.substring(0,1)!=="."){const i=Gt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Gt(e))}}G5(Gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eq extends dp{constructor(e){super(),this.indexPath_=e,K(!xe(e)&&be(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?ka(e.name,n.name):i}makePost(e,n){const r=Gt(e),s=De.EMPTY_NODE.updateChild(this.indexPath_,r);return new Ae(n,s)}maxPost(){const e=De.EMPTY_NODE.updateChild(this.indexPath_,du);return new Ae(Bi,e)}toString(){return zA(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq extends dp{compare(e,n){const r=e.node.compareTo(n.node);return r===0?ka(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Ae.MIN}maxPost(){return Ae.MAX}makePost(e,n){const r=Gt(e);return new Ae(n,r)}toString(){return".value"}}const nq=new tq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rq(t){return{type:"value",snapshotNode:t}}function sq(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function iq(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function AT(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function oq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return K(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return K(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:fa}hasEnd(){return this.endSet_}getIndexEndValue(){return K(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return K(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Bi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return K(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const e=new F0;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function kT(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Qt?n="$priority":t.index_===nq?n="$value":t.index_===Ho?n="$key":(K(t.index_ instanceof eq,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Dt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Dt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Dt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Dt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function PT(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Qt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends FA{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=cu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(K(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Oh.getListenId_(e,r),a={};this.listens_[o]=a;const l=kT(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),Zo(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Oh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=kT(e._queryParams),r=e._path.toString(),s=new ny;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+wa(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ic(a.responseText)}catch{bn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&bn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aq{constructor(){this.rootNode_=De.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(){return{value:null,children:new Map}}function JA(t,e,n){if(xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=be(e);t.children.has(r)||t.children.set(r,Dh());const s=t.children.get(r);e=We(e),JA(s,e,n)}}function Bv(t,e,n){t.value!==null?n(e,t.value):lq(t,(r,s)=>{const i=new Ye(e.toString()+"/"+r);Bv(s,i,n)})}function lq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Kn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT=10*1e3,uq=30*1e3,dq=5*60*1e3;class hq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new cq(e);const r=LT+(uq-LT)*Math.random();Ml(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Kn(e,(s,i)=>{i>0&&cs(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Ml(this.reportStats_.bind(this),Math.floor(Math.random()*2*dq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mr||(mr={}));function ZA(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function ek(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function tk(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=mr.ACK_USER_WRITE,this.source=ZA()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return K(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ye(e));return new Mh(Fe(),n,this.revert)}}else return K(be(this.path)===e,"operationForChild called for unrelated child."),new Mh(We(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=mr.OVERWRITE}operationForChild(e){return xe(this.path)?new zi(this.source,Fe(),this.snap.getImmediateChild(e)):new zi(this.source,We(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=mr.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new Ye(e));return n.isEmpty()?null:n.value?new zi(this.source,Fe(),n.value):new Ic(this.source,Fe(),n)}else return K(be(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ic(this.source,We(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=be(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function fq(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(oq(o.childName,o.snapshotNode))}),tl(t,s,"child_removed",e,r,n),tl(t,s,"child_added",e,r,n),tl(t,s,"child_moved",i,r,n),tl(t,s,"child_changed",e,r,n),tl(t,s,"value",e,r,n),s}function tl(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>mq(t,a,l)),o.forEach(a=>{const l=pq(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function pq(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function mq(t,e,n){if(e.childName==null||n.childName==null)throw Sa("Should only compare child_ events.");const r=new Ae(e.childName,e.snapshotNode),s=new Ae(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t,e){return{eventCache:t,serverCache:e}}function jl(t,e,n,r){return nk(new U0(e,n,r),t.serverCache)}function rk(t,e,n,r){return nk(t.eventCache,new U0(e,n,r))}function zv(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Hi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $m;const gq=()=>($m||($m=new gn(n5)),$m);class He{constructor(e,n=gq()){this.value=e,this.children=n}static fromObject(e){let n=new He(null);return Kn(e,(r,s)=>{n=n.set(new Ye(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Fe(),value:this.value};if(xe(e))return null;{const r=be(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(We(e),n);return i!=null?{path:xt(new Ye(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=be(e),r=this.children.get(n);return r!==null?r.subtree(We(e)):new He(null)}}set(e,n){if(xe(e))return new He(n,this.children);{const r=be(e),i=(this.children.get(r)||new He(null)).set(We(e),n),o=this.children.insert(r,i);return new He(this.value,o)}}remove(e){if(xe(e))return this.children.isEmpty()?new He(null):new He(null,this.children);{const n=be(e),r=this.children.get(n);if(r){const s=r.remove(We(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new He(null):new He(this.value,i)}else return this}}get(e){if(xe(e))return this.value;{const n=be(e),r=this.children.get(n);return r?r.get(We(e)):null}}setTree(e,n){if(xe(e))return n;{const r=be(e),i=(this.children.get(r)||new He(null)).setTree(We(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new He(this.value,o)}}fold(e){return this.fold_(Fe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(xt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Fe(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(xe(e))return null;{const i=be(e),o=this.children.get(i);return o?o.findOnPath_(We(e),xt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Fe(),n)}foreachOnPath_(e,n,r){if(xe(e))return this;{this.value&&r(n,this.value);const s=be(e),i=this.children.get(s);return i?i.foreachOnPath_(We(e),xt(n,s),r):new He(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(xt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.writeTree_=e}static empty(){return new or(new He(null))}}function $l(t,e,n){if(xe(e))return new or(new He(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Un(s,e);return i=i.updateChild(o,n),new or(t.writeTree_.set(s,i))}else{const s=new He(n),i=t.writeTree_.setTree(e,s);return new or(i)}}}function OT(t,e,n){let r=t;return Kn(n,(s,i)=>{r=$l(r,xt(e,s),i)}),r}function DT(t,e){if(xe(e))return or.empty();{const n=t.writeTree_.setTree(e,new He(null));return new or(n)}}function Hv(t,e){return eo(t,e)!=null}function eo(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Un(n.path,e)):null}function MT(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qt,(r,s)=>{e.push(new Ae(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Ae(r,s.value))}),e}function Bs(t,e){if(xe(e))return t;{const n=eo(t,e);return n!=null?new or(new He(n)):new or(t.writeTree_.subtree(e))}}function Wv(t){return t.writeTree_.isEmpty()}function pa(t,e){return sk(Fe(),t.writeTree_,e)}function sk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(K(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=sk(xt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(xt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ik(t,e){return uk(e,t)}function vq(t,e,n,r,s){K(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=$l(t.visibleWrites,e,n)),t.lastWriteId=r}function _q(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function yq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);K(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Eq(a,r.path)?s=!1:nr(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return Sq(t),!0;if(r.snap)t.visibleWrites=DT(t.visibleWrites,r.path);else{const a=r.children;Kn(a,l=>{t.visibleWrites=DT(t.visibleWrites,xt(r.path,l))})}return!0}else return!1}function Eq(t,e){if(t.snap)return nr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&nr(xt(t.path,n),e))return!0;return!1}function Sq(t){t.visibleWrites=ok(t.allWrites,wq,Fe()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function wq(t){return t.visible}function ok(t,e,n){let r=or.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)nr(n,o)?(a=Un(n,o),r=$l(r,a,i.snap)):nr(o,n)&&(a=Un(o,n),r=$l(r,Fe(),i.snap.getChild(a)));else if(i.children){if(nr(n,o))a=Un(n,o),r=OT(r,a,i.children);else if(nr(o,n))if(a=Un(o,n),xe(a))r=OT(r,Fe(),i.children);else{const l=Zo(i.children,be(a));if(l){const c=l.getChild(We(a));r=$l(r,Fe(),c)}}}else throw Sa("WriteRecord should have .snap or .children")}}return r}function ak(t,e,n,r,s){if(!r&&!s){const i=eo(t.visibleWrites,e);if(i!=null)return i;{const o=Bs(t.visibleWrites,e);if(Wv(o))return n;if(n==null&&!Hv(o,Fe()))return null;{const a=n||De.EMPTY_NODE;return pa(o,a)}}}else{const i=Bs(t.visibleWrites,e);if(!s&&Wv(i))return n;if(!s&&n==null&&!Hv(i,Fe()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(nr(c.path,e)||nr(e,c.path))},a=ok(t.allWrites,o,e),l=n||De.EMPTY_NODE;return pa(a,l)}}}function Tq(t,e,n){let r=De.EMPTY_NODE;const s=eo(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Qt,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Bs(t.visibleWrites,e);return n.forEachChild(Qt,(o,a)=>{const l=pa(Bs(i,new Ye(o)),a);r=r.updateImmediateChild(o,l)}),MT(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Bs(t.visibleWrites,e);return MT(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Cq(t,e,n,r,s){K(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=xt(e,n);if(Hv(t.visibleWrites,i))return null;{const o=Bs(t.visibleWrites,i);return Wv(o)?s.getChild(n):pa(o,s.getChild(n))}}function Rq(t,e,n,r){const s=xt(e,n),i=eo(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Bs(t.visibleWrites,s);return pa(o,r.getNode().getImmediateChild(n))}else return null}function Iq(t,e){return eo(t.visibleWrites,e)}function xq(t,e,n,r,s,i,o){let a;const l=Bs(t.visibleWrites,e),c=eo(l,Fe());if(c!=null)a=c;else if(n!=null)a=pa(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<s;)h(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function Nq(){return{visibleWrites:or.empty(),allWrites:[],lastWriteId:-1}}function qv(t,e,n,r){return ak(t.writeTree,t.treePath,e,n,r)}function lk(t,e){return Tq(t.writeTree,t.treePath,e)}function jT(t,e,n,r){return Cq(t.writeTree,t.treePath,e,n,r)}function jh(t,e){return Iq(t.writeTree,xt(t.treePath,e))}function bq(t,e,n,r,s,i){return xq(t.writeTree,t.treePath,e,n,r,s,i)}function B0(t,e,n){return Rq(t.writeTree,t.treePath,e,n)}function ck(t,e){return uk(xt(t.treePath,e),t.writeTree)}function uk(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;K(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),K(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,AT(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,iq(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,sq(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,AT(r,e.snapshotNode,s.oldSnap));else throw Sa("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const dk=new kq;class z0{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new U0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return B0(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Hi(this.viewCache_),i=bq(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function Pq(t,e){K(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),K(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Lq(t,e,n,r,s){const i=new Aq;let o,a;if(n.type===mr.OVERWRITE){const c=n;c.source.fromUser?o=Gv(t,e,c.path,c.snap,r,s,i):(K(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xe(c.path),o=$h(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===mr.MERGE){const c=n;c.source.fromUser?o=Dq(t,e,c.path,c.children,r,s,i):(K(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Kv(t,e,c.path,c.children,r,s,a,i))}else if(n.type===mr.ACK_USER_WRITE){const c=n;c.revert?o=$q(t,e,c.path,r,s,i):o=Mq(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===mr.LISTEN_COMPLETE)o=jq(t,e,n.path,r,i);else throw Sa("Unknown operation type: "+n.type);const l=i.getChanges();return Oq(e,o,l),{viewCache:o,changes:l}}function Oq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=zv(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(rq(zv(e)))}}function hk(t,e,n,r,s,i){const o=e.eventCache;if(jh(r,n)!=null)return e;{let a,l;if(xe(n))if(K(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Hi(e),u=c instanceof De?c:De.EMPTY_NODE,h=lk(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=qv(r,Hi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=be(n);if(c===".priority"){K(Ys(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=jT(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=We(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=jT(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=B0(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,i):a=o.getNode()}}return jl(e,a,o.isFullyInitialized()||xe(n),t.filter.filtersNodes())}}function $h(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(xe(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=be(n);if(!l.isCompleteForPath(n)&&Ys(n)>1)return e;const m=We(n),E=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,m,dk,null)}const h=rk(e,c,l.isFullyInitialized()||xe(n),u.filtersNodes()),f=new z0(s,h,i);return hk(t,h,n,s,f,a)}function Gv(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new z0(s,e,i);if(xe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=jl(e,c,!0,t.filter.filtersNodes());else{const h=be(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=jl(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=We(n),p=a.getNode().getImmediateChild(h);let m;if(xe(f))m=r;else{const g=u.getCompleteChild(h);g!=null?BA(f)===".priority"&&g.getChild(HA(f)).isEmpty()?m=g:m=g.updateChild(f,r):m=De.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),h,m,f,u,o);l=jl(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function $T(t,e){return t.eventCache.isCompleteForChild(e)}function Dq(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=xt(n,l);$T(e,be(u))&&(a=Gv(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=xt(n,l);$T(e,be(u))||(a=Gv(t,a,u,c,s,i,o))}),a}function VT(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Kv(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;xe(n)?c=r:c=new He(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),m=VT(t,p,f);l=$h(t,l,new Ye(h),m,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!p){const m=e.serverCache.getNode().getImmediateChild(h),g=VT(t,m,f);l=$h(t,l,new Ye(h),g,s,i,o,a)}}),l}function Mq(t,e,n,r,s,i,o){if(jh(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return $h(t,e,n,l.getNode().getChild(n),s,i,a,o);if(xe(n)){let c=new He(null);return l.getNode().forEachChild(Ho,(u,h)=>{c=c.set(new Ye(u),h)}),Kv(t,e,n,c,s,i,a,o)}else return e}else{let c=new He(null);return r.foreach((u,h)=>{const f=xt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),Kv(t,e,n,c,s,i,a,o)}}function jq(t,e,n,r,s){const i=e.serverCache,o=rk(e,i.getNode(),i.isFullyInitialized()||xe(n),i.isFiltered());return hk(t,o,n,r,dk,s)}function $q(t,e,n,r,s,i){let o;if(jh(r,n)!=null)return e;{const a=new z0(r,e,s),l=e.eventCache.getNode();let c;if(xe(n)||be(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=qv(r,Hi(e));else{const h=e.serverCache.getNode();K(h instanceof De,"serverChildren would be complete if leaf node"),u=lk(r,h)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=be(n);let h=B0(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,We(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,De.EMPTY_NODE,We(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=qv(r,Hi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||jh(r,Fe())!=null,jl(e,c,o,t.filter.filtersNodes())}}function Vq(t,e){const n=Hi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(be(e)).isEmpty())?n.getChild(e):null}function FT(t,e,n,r){e.type===mr.MERGE&&e.source.queryId!==null&&(K(Hi(t.viewCache_),"We should always have a full cache before handling merges"),K(zv(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=Lq(t.processor_,s,e,n,r);return Pq(t.processor_,i.viewCache),K(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Fq(t,i.changes,i.viewCache.eventCache.getNode(),null)}function Fq(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return fq(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UT;function Uq(t){K(!UT,"__referenceConstructor has already been defined"),UT=t}function H0(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return K(i!=null,"SyncTree gave us an op for an invalid query."),FT(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(FT(o,e,n,r));return i}}function W0(t,e){let n=null;for(const r of t.views.values())n=n||Vq(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let BT;function Bq(t){K(!BT,"__referenceConstructor has already been defined"),BT=t}class zT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=Nq(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function zq(t,e,n,r,s){return vq(t.pendingWriteTree_,e,n,r,s),s?fp(t,new zi(ZA(),e,n)):[]}function No(t,e,n=!1){const r=_q(t.pendingWriteTree_,e);if(yq(t.pendingWriteTree_,e)){let i=new He(null);return r.snap!=null?i=i.set(Fe(),!0):Kn(r.children,o=>{i=i.set(new Ye(o),!0)}),fp(t,new Mh(r.path,i,n))}else return[]}function hp(t,e,n){return fp(t,new zi(ek(),e,n))}function Hq(t,e,n){const r=He.fromObject(n);return fp(t,new Ic(ek(),e,r))}function Wq(t,e,n,r){const s=gk(t,r);if(s!=null){const i=vk(s),o=i.path,a=i.queryId,l=Un(o,e),c=new zi(tk(a),l,n);return _k(t,o,c)}else return[]}function qq(t,e,n,r){const s=gk(t,r);if(s){const i=vk(s),o=i.path,a=i.queryId,l=Un(o,e),c=He.fromObject(n),u=new Ic(tk(a),l,c);return _k(t,o,u)}else return[]}function fk(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Un(o,e),c=W0(a,l);if(c)return c});return ak(s,e,i,n,!0)}function fp(t,e){return pk(e,t.syncPointTree_,null,ik(t.pendingWriteTree_,Fe()))}function pk(t,e,n,r){if(xe(t.path))return mk(t,e,n,r);{const s=e.get(Fe());n==null&&s!=null&&(n=W0(s,Fe()));let i=[];const o=be(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=ck(r,o);i=i.concat(pk(a,l,c,u))}return s&&(i=i.concat(H0(s,t,r,n))),i}}function mk(t,e,n,r){const s=e.get(Fe());n==null&&s!=null&&(n=W0(s,Fe()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=ck(r,o),u=t.operationForChild(o);u&&(i=i.concat(mk(u,a,l,c)))}),s&&(i=i.concat(H0(s,t,r,n))),i}function gk(t,e){return t.tagToQueryMap.get(e)}function vk(t){const e=t.indexOf("$");return K(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ye(t.substr(0,e))}}function _k(t,e,n){const r=t.syncPointTree_.get(e);K(r,"Missing sync point for query tag that we're tracking");const s=ik(t.pendingWriteTree_,e);return H0(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new q0(n)}node(){return this.node_}}class G0{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xt(this.path_,e);return new G0(this.syncTree_,n)}node(){return fk(this.syncTree_,this.path_)}}const Gq=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},HT=function(t,e,n){if(!t||typeof t!="object")return t;if(K(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Kq(t[".sv"],e,n);if(typeof t[".sv"]=="object")return Qq(t[".sv"],e);K(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Kq=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:K(!1,"Unexpected server value: "+t)}},Qq=function(t,e,n){t.hasOwnProperty("increment")||K(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&K(!1,"Unexpected increment value: "+r);const s=e.node();if(K(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},Yq=function(t,e,n,r){return K0(e,new G0(n,t),r)},Xq=function(t,e,n){return K0(t,new q0(e),n)};function K0(t,e,n){const r=t.getPriority().val(),s=HT(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=HT(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Tt(a,Gt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Tt(s))),o.forEachChild(Qt,(a,l)=>{const c=K0(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Y0(t,e){let n=e instanceof Ye?e:new Ye(e),r=t,s=be(n);for(;s!==null;){const i=Zo(r.node.children,s)||{children:{},childCount:0};r=new Q0(s,r,i),n=We(n),s=be(n)}return r}function Pa(t){return t.node.value}function yk(t,e){t.node.value=e,Qv(t)}function Ek(t){return t.node.childCount>0}function Jq(t){return Pa(t)===void 0&&!Ek(t)}function pp(t,e){Kn(t.node.children,(n,r)=>{e(new Q0(n,t,r))})}function Sk(t,e,n,r){n&&!r&&e(t),pp(t,s=>{Sk(s,e,!0,r)}),n&&r&&e(t)}function Zq(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function hu(t){return new Ye(t.parent===null?t.name:hu(t.parent)+"/"+t.name)}function Qv(t){t.parent!==null&&eG(t.parent,t.name,t)}function eG(t,e,n){const r=Jq(n),s=cs(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Qv(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Qv(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tG=/[\[\].#$\/\u0000-\u001F\u007F]/,nG=/[\[\].#$\u0000-\u001F\u007F]/,Vm=10*1024*1024,wk=function(t){return typeof t=="string"&&t.length!==0&&!tG.test(t)},rG=function(t){return typeof t=="string"&&t.length!==0&&!nG.test(t)},sG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),rG(t)},Tk=function(t,e,n){const r=n instanceof Ye?new j5(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+pi(r));if(typeof e=="function")throw new Error(t+"contains a function "+pi(r)+" with contents = "+e.toString());if(SA(e))throw new Error(t+"contains "+e.toString()+" "+pi(r));if(typeof e=="string"&&e.length>Vm/3&&lf(e)>Vm)throw new Error(t+"contains a string greater than "+Vm+" utf8 bytes "+pi(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Kn(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!wk(o)))throw new Error(t+" contains an invalid key ("+o+") "+pi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$5(r,o),Tk(t,a,r),V5(r)}),s&&i)throw new Error(t+' contains ".value" child '+pi(r)+" in addition to actual children.")}},iG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!wk(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!sG(n))throw new Error(CM(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function aG(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!WA(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function to(t,e,n){aG(t,n),lG(t,r=>nr(r,e)||nr(e,r))}function lG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(cG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function cG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();xi&&qt("event: "+n.toString()),uu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uG="repo_interrupt",dG=25;class hG{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Dh(),this.transactionQueueTree_=new Q0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function fG(t,e,n){if(t.stats_=M0(t.repoInfo_),t.forceRestClient_||l5())t.server_=new Oh(t.repoInfo_,(r,s,i,o)=>{WT(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>qT(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Dt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new qr(t.repoInfo_,e,(r,s,i,o)=>{WT(t,r,s,i,o)},r=>{qT(t,r)},r=>{mG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=f5(t.repoInfo_,()=>new hq(t.stats_,t.server_)),t.infoData_=new aq,t.infoSyncTree_=new zT({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=hp(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),X0(t,"connected",!1),t.serverSyncTree_=new zT({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);to(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function pG(t){const n=t.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Ck(t){return Gq({timestamp:pG(t)})}function WT(t,e,n,r,s){t.dataUpdateCount++;const i=new Ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=rh(n,c=>Gt(c));o=qq(t.serverSyncTree_,i,l,s)}else{const l=Gt(n);o=Wq(t.serverSyncTree_,i,l,s)}else if(r){const l=rh(n,c=>Gt(c));o=Hq(t.serverSyncTree_,i,l)}else{const l=Gt(n);o=hp(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Z0(t,i)),to(t.eventQueue_,a,o)}function qT(t,e){X0(t,"connected",e),e===!1&&vG(t)}function mG(t,e){Kn(e,(n,r)=>{X0(t,n,r)})}function X0(t,e,n){const r=new Ye("/.info/"+e),s=Gt(n);t.infoData_.updateSnapshot(r,s);const i=hp(t.infoSyncTree_,r,s);to(t.eventQueue_,r,i)}function gG(t){return t.nextWriteId_++}function vG(t){Rk(t,"onDisconnectEvents");const e=Ck(t),n=Dh();Bv(t.onDisconnect_,Fe(),(s,i)=>{const o=Yq(s,i,t.serverSyncTree_,e);JA(n,s,o)});let r=[];Bv(n,Fe(),(s,i)=>{r=r.concat(hp(t.serverSyncTree_,s,i));const o=SG(t,s);Z0(t,o)}),t.onDisconnect_=Dh(),to(t.eventQueue_,Fe(),r)}function _G(t){t.persistentConnection_&&t.persistentConnection_.interrupt(uG)}function Rk(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qt(n,...e)}function Ik(t,e,n){return fk(t.serverSyncTree_,e,n)||De.EMPTY_NODE}function J0(t,e=t.transactionQueueTree_){if(e||mp(t,e),Pa(e)){const n=Nk(t,e);K(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&yG(t,hu(e),n)}else Ek(e)&&pp(e,n=>{J0(t,n)})}function yG(t,e,n){const r=n.map(c=>c.currentWriteId),s=Ik(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];K(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Un(e,u.path);i=i.updateChild(h,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Rk(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(No(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();mp(t,Y0(t.transactionQueueTree_,e)),J0(t,t.transactionQueueTree_),to(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)uu(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{bn("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}Z0(t,e)}},o)}function Z0(t,e){const n=xk(t,e),r=hu(n),s=Nk(t,n);return EG(t,s,r),r}function EG(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Un(n,l.path);let u=!1,h;if(K(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(No(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=dG)u=!0,h="maxretry",s=s.concat(No(t.serverSyncTree_,l.currentWriteId,!0));else{const f=Ik(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){Tk("transaction failed: Data returned ",p,l.path);let m=Gt(p);typeof p=="object"&&p!=null&&cs(p,".priority")||(m=m.updatePriority(f.getPriority()));const E=l.currentWriteId,v=Ck(t),_=Xq(m,f,v);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=_,l.currentWriteId=gG(t),o.splice(o.indexOf(E),1),s=s.concat(zq(t.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),s=s.concat(No(t.serverSyncTree_,E,!0))}else u=!0,h="nodata",s=s.concat(No(t.serverSyncTree_,l.currentWriteId,!0))}to(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}mp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)uu(r[a]);J0(t,t.transactionQueueTree_)}function xk(t,e){let n,r=t.transactionQueueTree_;for(n=be(e);n!==null&&Pa(r)===void 0;)r=Y0(r,n),e=We(e),n=be(e);return r}function Nk(t,e){const n=[];return bk(t,e,n),n.sort((r,s)=>r.order-s.order),n}function bk(t,e,n){const r=Pa(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);pp(e,s=>{bk(t,s,n)})}function mp(t,e){const n=Pa(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,yk(e,n.length>0?n:void 0)}pp(e,r=>{mp(t,r)})}function SG(t,e){const n=hu(xk(t,e)),r=Y0(t.transactionQueueTree_,e);return Zq(r,s=>{Fm(t,s)}),Fm(t,r),Sk(r,s=>{Fm(t,s)}),n}function Fm(t,e){const n=Pa(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(K(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(K(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(No(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?yk(e,void 0):n.length=i+1,to(t.eventQueue_,hu(e),s);for(let o=0;o<r.length;o++)uu(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function TG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):bn(`Invalid query segment '${n}' in query '${t}'`)}return e}const GT=function(t,e){const n=CG(t),r=n.namespace;n.domain==="firebase.com"&&is(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&is("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||e5();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new LA(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ye(n.pathString)}},CG=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=wG(t.substring(u,h)));const f=TG(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return xe(this._path)?null:BA(this._path)}get ref(){return new La(this._repo,this._path)}get _queryIdentifier(){const e=PT(this._queryParams),n=O0(e);return n==="{}"?"default":n}get _queryObject(){return PT(this._queryParams)}isEqual(e){if(e=pt(e),!(e instanceof eE))return!1;const n=this._repo===e._repo,r=WA(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+M5(this._path)}}class La extends eE{constructor(e,n){super(e,n,new F0,!1)}get parent(){const e=HA(this._path);return e===null?null:new La(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Uq(La);Bq(La);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RG="FIREBASE_DATABASE_EMULATOR_HOST",Yv={};let IG=!1;function xG(t,e,n,r){t.repoInfo_=new LA(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function NG(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||is("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=GT(i,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[RG]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=GT(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new zo(zo.OWNER):new u5(t.name,t.options,e);iG("Invalid Firebase Database URL",o),xe(o.path)||is("Database URL must point to the root of a Firebase Database (not including a child path).");const h=AG(a,t,u,new c5(t.name,n));return new kG(h,t)}function bG(t,e){const n=Yv[e];(!n||n[t.key]!==t)&&is(`Database ${e}(${t.repoInfo_}) has already been deleted.`),_G(t),delete n[t.key]}function AG(t,e,n,r){let s=Yv[e.name];s||(s={},Yv[e.name]=s);let i=s[t.toURLString()];return i&&is("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new hG(t,IG,n,r),s[t.toURLString()]=i,i}class kG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(fG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new La(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(bG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&is("Cannot call "+e+" on a deleted database.")}}function PG(t=iy(),e){const n=uf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=KI("database");r&&LG(n,...r)}return n}function LG(t,e,n,r={}){t=pt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&is("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&is('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new zo(zo.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:XI(r.mockUserToken,t.app.options.projectId);i=new zo(o)}xG(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OG(t){QW(ei),qs(new Jr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return NG(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),zn(pT,mT,t),zn(pT,mT,"esm2017")}qr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};qr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};OG();const DG={apiKey:"AIzaSyBSaPFkAnkoc_uu_xR9LUvHL1Cc8mOWcyc",authDomain:"mybbs-5642f.firebaseapp.com",projectId:"mybbs-5642f",storageBucket:"mybbs-5642f.appspot.com",messagingSenderId:"210742350834",appId:"1:210742350834:web:a65b2a1d7d470593a3516b",databaseURL:"https://mybbs-5642f-default-rtdb.asia-southeast1.firebasedatabase.app/",measurementId:"G-SZ9V5BHSER"},Ak=rx(DG),ci=OW(Ak),MG=PG(Ak);console.log(MG);const jG=Df({key:"textState",default:"2312312"});Df({key:"store2",default:{}});const $G=Df({key:"sss",default:{a:1,b:2}}),gp=Df({key:"atomStore",default:{state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"],todos:"fdsssssss",saying:"sssssssss",count:0}}}),Ve={state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"]},authState:()=>{const t=es();hf(t,n=>{if(n){e(n),sessionStorage.setItem("user",JSON.stringify(n));return}sessionStorage.removeItem("user"),Ve.state.userInfo={},Ve.state.userInfo.stat=!1,console.log("logout 된 상태",Ve.state.userInfo),console.table(Ve.state.userInfo)});const e=async n=>{const r=li(ci,"member",n.uid);try{const s=await P0(r);Ve.state.userInfo.stat=!0,Ve.state.userInfo.email=s.data().email,Ve.state.userInfo.avatar=s.data().avatar,Ve.state.userInfo.nick=s.data().nick,Ve.state.userInfo.displayName=s.data().nick,Ve.state.userInfo.uid=n.uid,Ve.state.userInfo.liked=s.data().liked||[],Ve.state.userInfo.tmdb_movie_scrap=s.data().tmdb_movie_scrap||[],Ve.state.userInfo.tmdb_tv_scrap=s.data().tmdb_tv_scrap||[];const i=JSON.parse(sessionStorage.getItem("user"));i.avatar=s.data().avatar,i.photoURL=s.data().photoURL,i.displayName=s.data().nick,i.nick=s.data().nick,i.liked=s.data().liked||[],i.tmdb_movie_scrap=s.data().tmdb_movie_scrap||[],i.tmdb_tv_scrap=s.data().tmdb_tv_scrap||[],i.stat=!0,sessionStorage.setItem("user",JSON.stringify(i)),Ve.state.userInfo=i}catch(s){console.log(s)}}}};Ve.authState();window.store=Ve;const kk=async()=>{let t={},e;if(sessionStorage!=null&&sessionStorage.user)e=JSON.parse(sessionStorage==null?void 0:sessionStorage.user).uid;else{const r=es();if(!e)return;hf(r,s=>{e=s.uid})}const n=li(ci,"member",e);try{t=(await P0(n)).data(),t.uid=e,t.stat=!0}catch(r){console.error(r)}return t};function ao({prop:t}){const[e,n]=$o(gp);let r=dn();Sn();const s=un(),[i,o]=T.useState({});T.useEffect(()=>(o(sessionStorage.user&&JSON.parse(sessionStorage.user)),kk().then(l=>{console.log(l),o(c=>({...c,...l}))}),()=>{}),[i==null?void 0:i.uid,i==null?void 0:i.nick,i==null?void 0:i.displayName,i==null?void 0:i.stat]),console.log(i);const a=()=>{B.confirm("리액트 보다 쀼가 짱입니까?",{ycb:function(){console.log("컴펌 예"),window.location.href="https://kimkee.github.io/vue"},ncb:function(){console.log("컴펌 아뇨")},ybt:"마자요!",nbt:"아니오!"})};return d.jsx("header",{className:`header ${t.headerType}`,children:d.jsxs("div",{className:"inr",children:[d.jsxs("div",{className:"ldt",children:[t.headerType=="main"?d.jsxs("h1",{className:"logo",children:[" ",d.jsx(at,{to:"/home/",className:"btlogo",children:d.jsx("i",{className:"fa-brands fa-vuejs"})})]}):d.jsxs("button",{type:"button",className:"bt back",onClick:()=>s(-1),children:[d.jsx("i",{className:"fa-regular fa-arrow-left"}),"뒤로"]}),r.id?d.jsx("h3",{className:"htit",children:e.state.userInfo.nick}):null]}),d.jsxs("div",{className:"rdt",children:[((i==null?void 0:i.stat)||(i==null?void 0:i.uid))&&d.jsxs($n,{to:`/user/${i==null?void 0:i.uid}`,className:"user",children:[d.jsx("span",{className:"pic",children:d.jsx("img",{alt:"",className:"img",src:Ve.state.avatar[i.avatar]||i.photoURL})}),d.jsx("span",{className:"txt",children:i.nick||i.displayName})]}),!(i!=null&&i.uid)&&d.jsxs($n,{to:"/user/signin",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Login"})]}),d.jsxs("button",{type:"button",onClick:a,className:"bt gnb",children:[d.jsx("i",{className:"fa-regular fa-bars"}),d.jsx("b",{children:"메뉴"})]})]})]})})}function lo(){const t=Sn(),e=c=>t.pathname.includes(`${c}`)?"active":"",[n,r]=T.useState(""),s=()=>{B.lock.stat||(B.viewport.scrollTop()>50?r(!0):r(!1))},i=()=>B.scrollTo("body",0,200),o=es(),[a,l]=T.useState({});return T.useEffect(()=>(window.addEventListener("scroll",s),l(sessionStorage.user&&JSON.parse(sessionStorage.user)),hf(o,c=>{l(c?u=>({...u,...JSON.parse(sessionStorage.user)}):{})}),()=>{window.removeEventListener("scroll",s)}),[a==null?void 0:a.uid]),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`floatnav ${n?"on-top":""}`,children:d.jsxs("button",{type:"button",className:"bt top",onClick:i,children:[d.jsx("i",{className:"fa-solid fa-arrow-up"}),d.jsx("em",{children:"위로"})]})}),d.jsx("nav",{id:"menubar",className:"menubar",children:d.jsx("div",{className:"inr",children:d.jsxs("ul",{className:"menu",children:[d.jsx("li",{className:e("home"),children:d.jsxs($n,{to:"/home/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-house"}),d.jsx("em",{children:"Home"})]})}),d.jsx("li",{className:e("list/movie"),children:d.jsxs($n,{to:"/list/movie/0/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-clapperboard-play"}),d.jsx("em",{children:"Movie"})]})}),d.jsx("li",{className:e("list/tv"),children:d.jsxs($n,{to:"/list/tv/0/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-tv-retro"}),d.jsx("em",{children:"TV"})]})}),d.jsx("li",{className:e("search/"),children:d.jsxs($n,{to:"/search/movie/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-search"}),d.jsx("em",{children:"Search"})]})}),d.jsxs("li",{className:e("user/"),children:[(Ve.state.userInfo.stat||(a==null?void 0:a.uid))&&d.jsxs($n,{to:`/user/${a.uid}`,className:"bt",children:[" ",d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Mypage"})]}),!(a!=null&&a.uid)&&d.jsxs($n,{to:"/user/signin",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Login"})]})]})]})})})]})}function Pk(t,e){return function(){return t.apply(e,arguments)}}const{toString:VG}=Object.prototype,{getPrototypeOf:tE}=Object,vp=(t=>e=>{const n=VG.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ar=t=>(t=t.toLowerCase(),e=>vp(e)===t),_p=t=>e=>typeof e===t,{isArray:Oa}=Array,xc=_p("undefined");function FG(t){return t!==null&&!xc(t)&&t.constructor!==null&&!xc(t.constructor)&&Hn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Lk=Ar("ArrayBuffer");function UG(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Lk(t.buffer),e}const BG=_p("string"),Hn=_p("function"),Ok=_p("number"),yp=t=>t!==null&&typeof t=="object",zG=t=>t===!0||t===!1,Cd=t=>{if(vp(t)!=="object")return!1;const e=tE(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},HG=Ar("Date"),WG=Ar("File"),qG=Ar("Blob"),GG=Ar("FileList"),KG=t=>yp(t)&&Hn(t.pipe),QG=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Hn(t.append)&&((e=vp(t))==="formdata"||e==="object"&&Hn(t.toString)&&t.toString()==="[object FormData]"))},YG=Ar("URLSearchParams"),XG=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function fu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Oa(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Dk(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Mk=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),jk=t=>!xc(t)&&t!==Mk;function Xv(){const{caseless:t}=jk(this)&&this||{},e={},n=(r,s)=>{const i=t&&Dk(e,s)||s;Cd(e[i])&&Cd(r)?e[i]=Xv(e[i],r):Cd(r)?e[i]=Xv({},r):Oa(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&fu(arguments[r],n);return e}const JG=(t,e,n,{allOwnKeys:r}={})=>(fu(e,(s,i)=>{n&&Hn(s)?t[i]=Pk(s,n):t[i]=s},{allOwnKeys:r}),t),ZG=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),e8=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},t8=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&tE(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},n8=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},r8=t=>{if(!t)return null;if(Oa(t))return t;let e=t.length;if(!Ok(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},s8=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&tE(Uint8Array)),i8=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},o8=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},a8=Ar("HTMLFormElement"),l8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),KT=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),c8=Ar("RegExp"),$k=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};fu(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},u8=t=>{$k(t,(e,n)=>{if(Hn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Hn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},d8=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Oa(t)?r(t):r(String(t).split(e)),n},h8=()=>{},f8=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Um="abcdefghijklmnopqrstuvwxyz",QT="0123456789",Vk={DIGIT:QT,ALPHA:Um,ALPHA_DIGIT:Um+Um.toUpperCase()+QT},p8=(t=16,e=Vk.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function m8(t){return!!(t&&Hn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const g8=t=>{const e=new Array(10),n=(r,s)=>{if(yp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Oa(r)?[]:{};return fu(r,(o,a)=>{const l=n(o,s+1);!xc(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},v8=Ar("AsyncFunction"),_8=t=>t&&(yp(t)||Hn(t))&&Hn(t.then)&&Hn(t.catch),L={isArray:Oa,isArrayBuffer:Lk,isBuffer:FG,isFormData:QG,isArrayBufferView:UG,isString:BG,isNumber:Ok,isBoolean:zG,isObject:yp,isPlainObject:Cd,isUndefined:xc,isDate:HG,isFile:WG,isBlob:qG,isRegExp:c8,isFunction:Hn,isStream:KG,isURLSearchParams:YG,isTypedArray:s8,isFileList:GG,forEach:fu,merge:Xv,extend:JG,trim:XG,stripBOM:ZG,inherits:e8,toFlatObject:t8,kindOf:vp,kindOfTest:Ar,endsWith:n8,toArray:r8,forEachEntry:i8,matchAll:o8,isHTMLForm:a8,hasOwnProperty:KT,hasOwnProp:KT,reduceDescriptors:$k,freezeMethods:u8,toObjectSet:d8,toCamelCase:l8,noop:h8,toFiniteNumber:f8,findKey:Dk,global:Mk,isContextDefined:jk,ALPHABET:Vk,generateString:p8,isSpecCompliantForm:m8,toJSONObject:g8,isAsyncFn:v8,isThenable:_8};function Pe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}L.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:L.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Fk=Pe.prototype,Uk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Uk[t]={value:t}});Object.defineProperties(Pe,Uk);Object.defineProperty(Fk,"isAxiosError",{value:!0});Pe.from=(t,e,n,r,s,i)=>{const o=Object.create(Fk);return L.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Pe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const y8=null;function Jv(t){return L.isPlainObject(t)||L.isArray(t)}function Bk(t){return L.endsWith(t,"[]")?t.slice(0,-2):t}function YT(t,e,n){return t?t.concat(e).map(function(s,i){return s=Bk(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function E8(t){return L.isArray(t)&&!t.some(Jv)}const S8=L.toFlatObject(L,{},null,function(e){return/^is[A-Z]/.test(e)});function Ep(t,e,n){if(!L.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=L.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,E){return!L.isUndefined(E[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&L.isSpecCompliantForm(e);if(!L.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(L.isDate(m))return m.toISOString();if(!l&&L.isBlob(m))throw new Pe("Blob is not supported. Use a Buffer instead.");return L.isArrayBuffer(m)||L.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,E){let v=m;if(m&&!E&&typeof m=="object"){if(L.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(L.isArray(m)&&E8(m)||(L.isFileList(m)||L.endsWith(g,"[]"))&&(v=L.toArray(m)))return g=Bk(g),v.forEach(function(y,S){!(L.isUndefined(y)||y===null)&&e.append(o===!0?YT([g],S,i):o===null?g:g+"[]",c(y))}),!1}return Jv(m)?!0:(e.append(YT(E,g,i),c(m)),!1)}const h=[],f=Object.assign(S8,{defaultVisitor:u,convertValue:c,isVisitable:Jv});function p(m,g){if(!L.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(m),L.forEach(m,function(v,_){(!(L.isUndefined(v)||v===null)&&s.call(e,v,L.isString(_)?_.trim():_,g,f))===!0&&p(v,g?g.concat(_):[_])}),h.pop()}}if(!L.isObject(t))throw new TypeError("data must be an object");return p(t),e}function XT(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function nE(t,e){this._pairs=[],t&&Ep(t,this,e)}const zk=nE.prototype;zk.append=function(e,n){this._pairs.push([e,n])};zk.toString=function(e){const n=e?function(r){return e.call(this,r,XT)}:XT;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function w8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Hk(t,e,n){if(!e)return t;const r=n&&n.encode||w8,s=n&&n.serialize;let i;if(s?i=s(e,n):i=L.isURLSearchParams(e)?e.toString():new nE(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class T8{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){L.forEach(this.handlers,function(r){r!==null&&e(r)})}}const JT=T8,Wk={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},C8=typeof URLSearchParams<"u"?URLSearchParams:nE,R8=typeof FormData<"u"?FormData:null,I8=typeof Blob<"u"?Blob:null,x8=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),N8=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),gr={isBrowser:!0,classes:{URLSearchParams:C8,FormData:R8,Blob:I8},isStandardBrowserEnv:x8,isStandardBrowserWebWorkerEnv:N8,protocols:["http","https","file","blob","url","data"]};function b8(t,e){return Ep(t,new gr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return gr.isNode&&L.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function A8(t){return L.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function k8(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function qk(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&L.isArray(s)?s.length:o,l?(L.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!L.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&L.isArray(s[o])&&(s[o]=k8(s[o])),!a)}if(L.isFormData(t)&&L.isFunction(t.entries)){const n={};return L.forEachEntry(t,(r,s)=>{e(A8(r),s,n,0)}),n}return null}const P8={"Content-Type":void 0};function L8(t,e,n){if(L.isString(t))try{return(e||JSON.parse)(t),L.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Sp={transitional:Wk,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=L.isObject(e);if(i&&L.isHTMLForm(e)&&(e=new FormData(e)),L.isFormData(e))return s&&s?JSON.stringify(qk(e)):e;if(L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e))return e;if(L.isArrayBufferView(e))return e.buffer;if(L.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return b8(e,this.formSerializer).toString();if((a=L.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ep(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),L8(e)):e}],transformResponse:[function(e){const n=this.transitional||Sp.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&L.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Pe.from(a,Pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gr.classes.FormData,Blob:gr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};L.forEach(["delete","get","head"],function(e){Sp.headers[e]={}});L.forEach(["post","put","patch"],function(e){Sp.headers[e]=L.merge(P8)});const rE=Sp,O8=L.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),D8=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&O8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},ZT=Symbol("internals");function nl(t){return t&&String(t).trim().toLowerCase()}function Rd(t){return t===!1||t==null?t:L.isArray(t)?t.map(Rd):String(t)}function M8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const j8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Bm(t,e,n,r,s){if(L.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!L.isString(e)){if(L.isString(r))return e.indexOf(r)!==-1;if(L.isRegExp(r))return r.test(e)}}function $8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function V8(t,e){const n=L.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class wp{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=nl(l);if(!u)throw new Error("header name must be a non-empty string");const h=L.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=Rd(a))}const o=(a,l)=>L.forEach(a,(c,u)=>i(c,u,l));return L.isPlainObject(e)||e instanceof this.constructor?o(e,n):L.isString(e)&&(e=e.trim())&&!j8(e)?o(D8(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=nl(e),e){const r=L.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return M8(s);if(L.isFunction(n))return n.call(this,s,r);if(L.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=nl(e),e){const r=L.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Bm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=nl(o),o){const a=L.findKey(r,o);a&&(!n||Bm(r,r[a],a,n))&&(delete r[a],s=!0)}}return L.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Bm(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return L.forEach(this,(s,i)=>{const o=L.findKey(r,i);if(o){n[o]=Rd(s),delete n[i];return}const a=e?$8(i):String(i).trim();a!==i&&delete n[i],n[a]=Rd(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return L.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&L.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[ZT]=this[ZT]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=nl(o);r[a]||(V8(s,o),r[a]=!0)}return L.isArray(e)?e.forEach(i):i(e),this}}wp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);L.freezeMethods(wp.prototype);L.freezeMethods(wp);const Gr=wp;function zm(t,e){const n=this||rE,r=e||n,s=Gr.from(r.headers);let i=r.data;return L.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function Gk(t){return!!(t&&t.__CANCEL__)}function pu(t,e,n){Pe.call(this,t??"canceled",Pe.ERR_CANCELED,e,n),this.name="CanceledError"}L.inherits(pu,Pe,{__CANCEL__:!0});function F8(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const U8=gr.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),L.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),L.isString(i)&&l.push("path="+i),L.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function B8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function z8(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function Kk(t,e){return t&&!B8(e)?z8(t,e):e}const H8=gr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=L.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function W8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function q8(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let h=i,f=0;for(;h!==s;)f+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function eC(t,e){let n=0;const r=q8(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),c=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const G8=typeof XMLHttpRequest<"u",K8=G8&&function(t){return new Promise(function(n,r){let s=t.data;const i=Gr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}L.isFormData(s)&&(gr.isStandardBrowserEnv||gr.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+m))}const u=Kk(t.baseURL,t.url);c.open(t.method.toUpperCase(),Hk(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!c)return;const p=Gr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};F8(function(v){n(v),l()},function(v){r(v),l()},g),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(r(new Pe("Request aborted",Pe.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Pe("Network Error",Pe.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||Wk;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Pe(m,g.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,t,c)),c=null},gr.isStandardBrowserEnv){const p=(t.withCredentials||H8(u))&&t.xsrfCookieName&&U8.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}s===void 0&&i.setContentType(null),"setRequestHeader"in c&&L.forEach(i.toJSON(),function(m,g){c.setRequestHeader(g,m)}),L.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",eC(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",eC(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{c&&(r(!p||p.type?new pu(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=W8(u);if(f&&gr.protocols.indexOf(f)===-1){r(new Pe("Unsupported protocol "+f+":",Pe.ERR_BAD_REQUEST,t));return}c.send(s||null)})},Id={http:y8,xhr:K8};L.forEach(Id,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Q8={getAdapter:t=>{t=L.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=L.isString(n)?Id[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new Pe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(L.hasOwnProp(Id,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!L.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Id};function Hm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pu(null,t)}function tC(t){return Hm(t),t.headers=Gr.from(t.headers),t.data=zm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Q8.getAdapter(t.adapter||rE.adapter)(t).then(function(r){return Hm(t),r.data=zm.call(t,t.transformResponse,r),r.headers=Gr.from(r.headers),r},function(r){return Gk(r)||(Hm(t),r&&r.response&&(r.response.data=zm.call(t,t.transformResponse,r.response),r.response.headers=Gr.from(r.response.headers))),Promise.reject(r)})}const nC=t=>t instanceof Gr?t.toJSON():t;function ma(t,e){e=e||{};const n={};function r(c,u,h){return L.isPlainObject(c)&&L.isPlainObject(u)?L.merge.call({caseless:h},c,u):L.isPlainObject(u)?L.merge({},u):L.isArray(u)?u.slice():u}function s(c,u,h){if(L.isUndefined(u)){if(!L.isUndefined(c))return r(void 0,c,h)}else return r(c,u,h)}function i(c,u){if(!L.isUndefined(u))return r(void 0,u)}function o(c,u){if(L.isUndefined(u)){if(!L.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(nC(c),nC(u),!0)};return L.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||s,f=h(t[u],e[u],u);L.isUndefined(f)&&h!==a||(n[u]=f)}),n}const Qk="1.4.0",sE={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sE[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const rC={};sE.transitional=function(e,n,r){function s(i,o){return"[Axios v"+Qk+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Pe(s(o," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!rC[o]&&(rC[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function Y8(t,e,n){if(typeof t!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Pe("option "+i+" must be "+l,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+i,Pe.ERR_BAD_OPTION)}}const Zv={assertOptions:Y8,validators:sE},ps=Zv.validators;class Vh{constructor(e){this.defaults=e,this.interceptors={request:new JT,response:new JT}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ma(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Zv.assertOptions(r,{silentJSONParsing:ps.transitional(ps.boolean),forcedJSONParsing:ps.transitional(ps.boolean),clarifyTimeoutError:ps.transitional(ps.boolean)},!1),s!=null&&(L.isFunction(s)?n.paramsSerializer={serialize:s}:Zv.assertOptions(s,{encode:ps.function,serialize:ps.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&L.merge(i.common,i[n.method]),o&&L.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Gr.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!l){const m=[tC.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=a.length;let p=n;for(h=0;h<f;){const m=a[h++],g=a[h++];try{p=m(p)}catch(E){g.call(this,E);break}}try{u=tC.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=ma(this.defaults,e);const n=Kk(e.baseURL,e.url);return Hk(n,e.params,e.paramsSerializer)}}L.forEach(["delete","get","head","options"],function(e){Vh.prototype[e]=function(n,r){return this.request(ma(r||{},{method:e,url:n,data:(r||{}).data}))}});L.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(ma(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Vh.prototype[e]=n(),Vh.prototype[e+"Form"]=n(!0)});const xd=Vh;class iE{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new pu(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new iE(function(s){e=s}),cancel:e}}}const X8=iE;function J8(t){return function(n){return t.apply(null,n)}}function Z8(t){return L.isObject(t)&&t.isAxiosError===!0}const e_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(e_).forEach(([t,e])=>{e_[e]=t});const e7=e_;function Yk(t){const e=new xd(t),n=Pk(xd.prototype.request,e);return L.extend(n,xd.prototype,e,{allOwnKeys:!0}),L.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return Yk(ma(t,s))},n}const Et=Yk(rE);Et.Axios=xd;Et.CanceledError=pu;Et.CancelToken=X8;Et.isCancel=Gk;Et.VERSION=Qk;Et.toFormData=Ep;Et.AxiosError=Pe;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=J8;Et.isAxiosError=Z8;Et.mergeConfig=ma;Et.AxiosHeaders=Gr;Et.formToJSON=t=>qk(L.isHTMLForm(t)?new FormData(t):t);Et.HttpStatusCode=e7;Et.default=Et;const Zt=Et;function sC(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function oE(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:sC(e[n])&&sC(t[n])&&Object.keys(e[n]).length>0&&oE(t[n],e[n])})}const Xk={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function bt(){const t=typeof document<"u"?document:{};return oE(t,Xk),t}const t7={document:Xk,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Pt(){const t=typeof window<"u"?window:{};return oE(t,t7),t}function n7(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class xs extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),n7(this))}}function mu(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...mu(n)):e.push(n)}),e}function Jk(t,e){return Array.prototype.filter.call(t,e)}function r7(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function s7(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let s=0;s<r.length;s+=1)n.push(r[s]);return n}function G(t,e){const n=Pt(),r=bt();let s=[];if(!e&&t instanceof xs)return t;if(!t)return new xs(s);if(typeof t=="string"){const i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let o="div";i.indexOf("<li")===0&&(o="ul"),i.indexOf("<tr")===0&&(o="tbody"),(i.indexOf("<td")===0||i.indexOf("<th")===0)&&(o="tr"),i.indexOf("<tbody")===0&&(o="table"),i.indexOf("<option")===0&&(o="select");const a=r.createElement(o);a.innerHTML=i;for(let l=0;l<a.childNodes.length;l+=1)s.push(a.childNodes[l])}else s=s7(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof xs)return t;s=t}return new xs(r7(s))}G.fn=xs.prototype;function i7(...t){const e=mu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function o7(...t){const e=mu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function a7(...t){const e=mu(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function l7(...t){const e=mu(t.map(n=>n.split(" ")));return Jk(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function c7(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function u7(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function d7(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function h7(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function f7(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);function i(c){const u=c.target;if(!u)return;const h=c.target.dom7EventData||[];if(h.indexOf(c)<0&&h.unshift(c),G(u).is(n))r.apply(u,h);else{const f=G(u).parents();for(let p=0;p<f.length;p+=1)G(f[p]).is(n)&&r.apply(f[p],h)}}function o(c){const u=c&&c.target?c.target.dom7EventData||[]:[];u.indexOf(c)<0&&u.unshift(c),r.apply(this,u)}const a=e.split(" ");let l;for(let c=0;c<this.length;c+=1){const u=this[c];if(n)for(l=0;l<a.length;l+=1){const h=a[l];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[h]||(u.dom7LiveListeners[h]=[]),u.dom7LiveListeners[h].push({listener:r,proxyListener:i}),u.addEventListener(h,i,s)}else for(l=0;l<a.length;l+=1){const h=a[l];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[h]||(u.dom7Listeners[h]=[]),u.dom7Listeners[h].push({listener:r,proxyListener:o}),u.addEventListener(h,o,s)}}return this}function p7(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);const i=e.split(" ");for(let o=0;o<i.length;o+=1){const a=i[o];for(let l=0;l<this.length;l+=1){const c=this[l];let u;if(!n&&c.dom7Listeners?u=c.dom7Listeners[a]:n&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[a]),u&&u.length)for(let h=u.length-1;h>=0;h-=1){const f=u[h];r&&f.listener===r||r&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===r?(c.removeEventListener(a,f.proxyListener,s),u.splice(h,1)):r||(c.removeEventListener(a,f.proxyListener,s),u.splice(h,1))}}}return this}function m7(...t){const e=Pt(),n=t[0].split(" "),r=t[1];for(let s=0;s<n.length;s+=1){const i=n[s];for(let o=0;o<this.length;o+=1){const a=this[o];if(e.CustomEvent){const l=new e.CustomEvent(i,{detail:r,bubbles:!0,cancelable:!0});a.dom7EventData=t.filter((c,u)=>u>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function g7(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function v7(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function _7(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function y7(){if(this.length>0){const t=Pt(),e=bt(),n=this[0],r=n.getBoundingClientRect(),s=e.body,i=n.clientTop||s.clientTop||0,o=n.clientLeft||s.clientLeft||0,a=n===t?t.scrollY:n.scrollTop,l=n===t?t.scrollX:n.scrollLeft;return{top:r.top+a-i,left:r.left+l-o}}return null}function E7(){const t=Pt();return this[0]?t.getComputedStyle(this[0],null):{}}function S7(t,e){const n=Pt();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const s in t)this[r].style[s]=t[s];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function w7(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function T7(t){const e=Jk(this,t);return G(e)}function C7(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function R7(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function I7(t){const e=Pt(),n=bt(),r=this[0];let s,i;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=G(t),i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof xs){for(s=t.nodeType?[t]:t,i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}return!1}function x7(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function N7(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return G([]);if(t<0){const n=e+t;return n<0?G([]):G([this[n]])}return G([this[t]])}function b7(...t){let e;const n=bt();for(let r=0;r<t.length;r+=1){e=t[r];for(let s=0;s<this.length;s+=1)if(typeof e=="string"){const i=n.createElement("div");for(i.innerHTML=e;i.firstChild;)this[s].appendChild(i.firstChild)}else if(e instanceof xs)for(let i=0;i<e.length;i+=1)this[s].appendChild(e[i]);else this[s].appendChild(e)}return this}function A7(t){const e=bt();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const s=e.createElement("div");for(s.innerHTML=t,r=s.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(s.childNodes[r],this[n].childNodes[0])}else if(t instanceof xs)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function k7(t){return this.length>0?t?this[0].nextElementSibling&&G(this[0].nextElementSibling).is(t)?G([this[0].nextElementSibling]):G([]):this[0].nextElementSibling?G([this[0].nextElementSibling]):G([]):G([])}function P7(t){const e=[];let n=this[0];if(!n)return G([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?G(r).is(t)&&e.push(r):e.push(r),n=r}return G(e)}function L7(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&G(e.previousElementSibling).is(t)?G([e.previousElementSibling]):G([]):e.previousElementSibling?G([e.previousElementSibling]):G([])}return G([])}function O7(t){const e=[];let n=this[0];if(!n)return G([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?G(r).is(t)&&e.push(r):e.push(r),n=r}return G(e)}function D7(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?G(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return G(e)}function M7(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?G(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return G(e)}function j7(t){let e=this;return typeof t>"u"?G([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function $7(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let s=0;s<r.length;s+=1)e.push(r[s])}return G(e)}function V7(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let s=0;s<r.length;s+=1)(!t||G(r[s]).is(t))&&e.push(r[s])}return G(e)}function F7(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const iC={addClass:i7,removeClass:o7,hasClass:l7,toggleClass:a7,attr:c7,removeAttr:u7,transform:d7,transition:h7,on:f7,off:p7,trigger:m7,transitionEnd:g7,outerWidth:v7,outerHeight:_7,styles:E7,offset:y7,css:S7,each:w7,html:C7,text:R7,is:I7,index:x7,eq:N7,append:b7,prepend:A7,next:k7,nextAll:P7,prev:L7,prevAll:O7,parent:D7,parents:M7,closest:j7,find:$7,children:V7,filter:T7,remove:F7};Object.keys(iC).forEach(t=>{Object.defineProperty(G.fn,t,{value:iC[t],writable:!0})});function U7(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Nc(t,e=0){return setTimeout(t,e)}function bc(){return Date.now()}function B7(t){const e=Pt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function z7(t,e="x"){const n=Pt();let r,s,i;const o=B7(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function ed(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function H7(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Cn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!H7(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,a=i.length;o<a;o+=1){const l=i[o],c=Object.getOwnPropertyDescriptor(s,l);c!==void 0&&c.enumerable&&(ed(e[l])&&ed(s[l])?s[l].__swiper__?e[l]=s[l]:Cn(e[l],s[l]):!ed(e[l])&&ed(s[l])?(e[l]={},s[l].__swiper__?e[l]=s[l]:Cn(e[l],s[l])):e[l]=s[l])}}}return e}function td(t,e,n){t.style.setProperty(e,n)}function Zk({swiper:t,targetPosition:e,side:n}){const r=Pt(),s=-t.translate;let i=null,o;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const l=e>s?"next":"prev",c=(h,f)=>l==="next"&&h>=f||l==="prev"&&h<=f,u=()=>{o=new Date().getTime(),i===null&&(i=o);const h=Math.max(Math.min((o-i)/a,1),0),f=.5-Math.cos(h*Math.PI)/2;let p=s+f*(e-s);if(c(p,e)&&(p=e),t.wrapperEl.scrollTo({[n]:p}),c(p,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(u)};u()}let Wm;function W7(){const t=Pt(),e=bt();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const s=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,s)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function eP(){return Wm||(Wm=W7()),Wm}let qm;function q7({userAgent:t}={}){const e=eP(),n=Pt(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const u=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=r==="Win32";let p=r==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&p&&e.touch&&m.indexOf(`${o}x${a}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!f&&(i.os="android",i.android=!0),(c||h||u)&&(i.os="ios",i.ios=!0),i}function G7(t={}){return qm||(qm=q7(t)),qm}let Gm;function K7(){const t=Pt();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function Q7(){return Gm||(Gm=K7()),Gm}function Y7({swiper:t,on:e,emit:n}){const r=Pt();let s=null,i=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(u=>{i=r.requestAnimationFrame(()=>{const{width:h,height:f}=t;let p=h,m=f;u.forEach(({contentBoxSize:g,contentRect:E,target:v})=>{v&&v!==t.el||(p=E?E.width:(g[0]||g).inlineSize,m=E?E.height:(g[0]||g).blockSize)}),(p!==h||m!==f)&&o()})}),s.observe(t.el))},l=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},c=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",c)}),e("destroy",()=>{l(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",c)})}function X7({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=Pt(),o=(c,u={})=>{const h=i.MutationObserver||i.WebkitMutationObserver,f=new h(p=>{if(p.length===1){r("observerUpdate",p[0]);return}const m=function(){r("observerUpdate",p[0])};i.requestAnimationFrame?i.requestAnimationFrame(m):i.setTimeout(m,0)});f.observe(c,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:typeof u.childList>"u"?!0:u.childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),s.push(f)},a=()=>{if(t.params.observer){if(t.params.observeParents){const c=t.$el.parents();for(let u=0;u<c.length;u+=1)o(c[u])}o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}},l=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}const J7={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(s,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(a=>{a.apply(s,r)})}),e}};function Z7(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function eK(){const t=this;function e(O){return t.isHorizontal()?O:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[O]}function n(O,P){return parseFloat(O.getPropertyValue(e(P))||0)}const r=t.params,{$wrapperEl:s,size:i,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&r.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=s.children(`.${t.params.slideClass}`),h=l?t.virtual.slides.length:u.length;let f=[];const p=[],m=[];let g=r.slidesOffsetBefore;typeof g=="function"&&(g=r.slidesOffsetBefore.call(t));let E=r.slidesOffsetAfter;typeof E=="function"&&(E=r.slidesOffsetAfter.call(t));const v=t.snapGrid.length,_=t.slidesGrid.length;let y=r.spaceBetween,S=-g,w=0,x=0;if(typeof i>"u")return;typeof y=="string"&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*i),t.virtualSize=-y,o?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(td(t.wrapperEl,"--swiper-centered-offset-before",""),td(t.wrapperEl,"--swiper-centered-offset-after",""));const b=r.grid&&r.grid.rows>1&&t.grid;b&&t.grid.initSlides(h);let k;const q=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(O=>typeof r.breakpoints[O].slidesPerView<"u").length>0;for(let O=0;O<h;O+=1){k=0;const P=u.eq(O);if(b&&t.grid.updateSlide(O,P,h,e),P.css("display")!=="none"){if(r.slidesPerView==="auto"){q&&(u[O].style[e("width")]="");const N=getComputedStyle(P[0]),A=P[0].style.transform,H=P[0].style.webkitTransform;if(A&&(P[0].style.transform="none"),H&&(P[0].style.webkitTransform="none"),r.roundLengths)k=t.isHorizontal()?P.outerWidth(!0):P.outerHeight(!0);else{const re=n(N,"width"),Ee=n(N,"padding-left"),we=n(N,"padding-right"),M=n(N,"margin-left"),D=n(N,"margin-right"),W=N.getPropertyValue("box-sizing");if(W&&W==="border-box")k=re+M+D;else{const{clientWidth:ie,offsetWidth:R}=P[0];k=re+Ee+we+M+D+(R-ie)}}A&&(P[0].style.transform=A),H&&(P[0].style.webkitTransform=H),r.roundLengths&&(k=Math.floor(k))}else k=(i-(r.slidesPerView-1)*y)/r.slidesPerView,r.roundLengths&&(k=Math.floor(k)),u[O]&&(u[O].style[e("width")]=`${k}px`);u[O]&&(u[O].swiperSlideSize=k),m.push(k),r.centeredSlides?(S=S+k/2+w/2+y,w===0&&O!==0&&(S=S-i/2-y),O===0&&(S=S-i/2-y),Math.abs(S)<1/1e3&&(S=0),r.roundLengths&&(S=Math.floor(S)),x%r.slidesPerGroup===0&&f.push(S),p.push(S)):(r.roundLengths&&(S=Math.floor(S)),(x-Math.min(t.params.slidesPerGroupSkip,x))%t.params.slidesPerGroup===0&&f.push(S),p.push(S),S=S+k+y),t.virtualSize+=k+y,w=k,x+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+E,o&&a&&(r.effect==="slide"||r.effect==="coverflow")&&s.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&s.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),b&&t.grid.updateWrapperSize(k,f,e),!r.centeredSlides){const O=[];for(let P=0;P<f.length;P+=1){let N=f[P];r.roundLengths&&(N=Math.floor(N)),f[P]<=t.virtualSize-i&&O.push(N)}f=O,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(f.length===0&&(f=[0]),r.spaceBetween!==0){const O=t.isHorizontal()&&o?"marginLeft":e("marginRight");u.filter((P,N)=>r.cssMode?N!==u.length-1:!0).css({[O]:`${y}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let O=0;m.forEach(N=>{O+=N+(r.spaceBetween?r.spaceBetween:0)}),O-=r.spaceBetween;const P=O-i;f=f.map(N=>N<0?-g:N>P?P+E:N)}if(r.centerInsufficientSlides){let O=0;if(m.forEach(P=>{O+=P+(r.spaceBetween?r.spaceBetween:0)}),O-=r.spaceBetween,O<i){const P=(i-O)/2;f.forEach((N,A)=>{f[A]=N-P}),p.forEach((N,A)=>{p[A]=N+P})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:m}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){td(t.wrapperEl,"--swiper-centered-offset-before",`${-f[0]}px`),td(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const O=-t.snapGrid[0],P=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(N=>N+O),t.slidesGrid=t.slidesGrid.map(N=>N+P)}if(h!==c&&t.emit("slidesLengthChange"),f.length!==v&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==_&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const O=`${r.containerModifierClass}backface-hidden`,P=t.$el.hasClass(O);h<=r.maxBackfaceHiddenSlides?P||t.$el.addClass(O):P&&t.$el.removeClass(O)}}function tK(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||G([])).each(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&e.$wrapperEl.css("height",`${s}px`)}function nK(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function rK(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<r.length;a+=1){const l=r[a];let c=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const u=(o+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),h=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),f=-(o-c),p=f+e.slidesSizesGrid[a];(f>=0&&f<e.size-1||p>1&&p<=e.size||f<=0&&p>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass)),l.progress=s?-u:u,l.originalProgress=s?-h:h}e.visibleSlides=G(e.visibleSlides)}function sK(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o}=e;const a=i,l=o;r===0?(s=0,i=!0,o=!0):(s=(t-e.minTranslate())/r,i=s<=0,o=s>=1),Object.assign(e,{progress:s,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!a&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(a&&!i||l&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function iK(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:s,realIndex:i}=t,o=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let a;o?a=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${s}"]`):a=e.eq(s),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass));let l=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&l.length===0&&(l=e.eq(0),l.addClass(n.slideNextClass));let c=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&c.length===0&&(c=e.eq(-1),c.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function oK(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:s,params:i,activeIndex:o,realIndex:a,snapIndex:l}=e;let c=t,u;if(typeof c>"u"){for(let f=0;f<r.length;f+=1)typeof r[f+1]<"u"?n>=r[f]&&n<r[f+1]-(r[f+1]-r[f])/2?c=f:n>=r[f]&&n<r[f+1]&&(c=f+1):n>=r[f]&&(c=f);i.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0)}if(s.indexOf(n)>=0)u=s.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,c);u=f+Math.floor((c-f)/i.slidesPerGroup)}if(u>=s.length&&(u=s.length-1),c===o){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}const h=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(e,{snapIndex:u,realIndex:h,previousIndex:o,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==h&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function aK(t){const e=this,n=e.params,r=G(t).closest(`.${n.slideClass}`)[0];let s=!1,i;if(r){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===r){s=!0,i=o;break}}if(r&&s)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(G(r).attr("data-swiper-slide-index"),10):e.clickedIndex=i;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const lK={updateSize:Z7,updateSlides:eK,updateAutoHeight:tK,updateSlidesOffset:nK,updateSlidesProgress:rK,updateProgress:sK,updateSlidesClasses:iK,updateActiveIndex:oK,updateClickedSlide:aK};function cK(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,$wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=z7(i[0],t);return r&&(o=-o),o||0}function uK(t,e){const n=this,{rtlTranslate:r,params:s,$wrapperEl:i,wrapperEl:o,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||i.transform(`translate3d(${l}px, ${c}px, ${u}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c;let h;const f=n.maxTranslate()-n.minTranslate();f===0?h=0:h=(t-n.minTranslate())/f,h!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function dK(){return-this.snapGrid[0]}function hK(){return-this.snapGrid[this.snapGrid.length-1]}function fK(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let u;if(r&&t>l?u=l:r&&t<c?u=c:u=t,i.updateProgress(u),o.cssMode){const h=i.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return Zk({swiper:i,targetPosition:-u,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}const pK={getTranslate:cK,setTranslate:uK,minTranslate:dK,maxTranslate:hK,translateTo:fK};function mK(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function tP({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let o=n;if(o||(s>i?o="next":s<i?o="prev":o="reset"),t.emit(`transition${r}`),e&&s!==i){if(o==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function gK(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),tP({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function vK(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),tP({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const _K={setTransition:mK,transitionStart:gK,transitionEnd:vK};function yK(t=0,e=this.params.speed,n=!0,r,s){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const y=parseInt(t,10);if(!isFinite(y))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=y}const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:m}=i;if(i.animating&&a.preventInteractionOnTransition||!m&&!r&&!s)return!1;const g=Math.min(i.params.slidesPerGroupSkip,o);let E=g+Math.floor((o-g)/i.params.slidesPerGroup);E>=l.length&&(E=l.length-1);const v=-l[E];if(a.normalizeSlideIndex)for(let y=0;y<c.length;y+=1){const S=-Math.floor(v*100),w=Math.floor(c[y]*100),x=Math.floor(c[y+1]*100);typeof c[y+1]<"u"?S>=w&&S<x-(x-w)/2?o=y:S>=w&&S<x&&(o=y+1):S>=w&&(o=y)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&v<i.translate&&v<i.minTranslate()||!i.allowSlidePrev&&v>i.translate&&v>i.maxTranslate()&&(h||0)!==o))return!1;o!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(v);let _;if(o>h?_="next":o<h?_="prev":_="reset",f&&-v===i.translate||!f&&v===i.translate)return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(v),_!=="reset"&&(i.transitionStart(n,_),i.transitionEnd(n,_)),!1;if(a.cssMode){const y=i.isHorizontal(),S=f?v:-v;if(e===0){const w=i.virtual&&i.params.virtual.enabled;w&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),p[y?"scrollLeft":"scrollTop"]=S,w&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._swiperImmediateVirtual=!1})}else{if(!i.support.smoothScroll)return Zk({swiper:i,targetPosition:S,side:y?"left":"top"}),!0;p.scrollTo({[y?"left":"top"]:S,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(v),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,_),e===0?i.transitionEnd(n,_):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(S){!i||i.destroyed||S.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,_))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd)),!0}function EK(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const o=parseInt(t,10);if(!isFinite(o))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=o}const s=this;let i=t;return s.params.loop&&(i+=s.loopedSlides),s.slideTo(i,e,n,r)}function SK(t=this.params.speed,e=!0,n){const r=this,{animating:s,enabled:i,params:o}=r;if(!i)return r;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(s&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function wK(t=this.params.speed,e=!0,n){const r=this,{params:s,animating:i,snapGrid:o,slidesGrid:a,rtlTranslate:l,enabled:c}=r;if(!c)return r;if(s.loop){if(i&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const u=l?r.translate:-r.translate;function h(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const f=h(u),p=o.map(E=>h(E));let m=o[p.indexOf(f)-1];if(typeof m>"u"&&s.cssMode){let E;o.forEach((v,_)=>{f>=v&&(E=_)}),typeof E<"u"&&(m=o[E>0?E-1:E])}let g=0;if(typeof m<"u"&&(g=a.indexOf(m),g<0&&(g=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,t,e,n)}return r.slideTo(g,t,e,n)}function TK(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function CK(t=this.params.speed,e=!0,n,r=.5){const s=this;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],u=s.snapGrid[a+1];l-c>(u-c)*r&&(i+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],u=s.snapGrid[a];l-c<=(u-c)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function RK(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;if(e.loop){if(t.animating)return;i=parseInt(G(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Nc(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Nc(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}const IK={slideTo:yK,slideToLoop:EK,slideNext:SK,slidePrev:wK,slideReset:TK,slideToClosest:CK,slideToClickedSlide:RK};function xK(){const t=this,e=bt(),{params:n,$wrapperEl:r}=t,s=r.children().length>0?G(r.children()[0].parentNode):r;s.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let i=s.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-i.length%n.slidesPerGroup;if(l!==n.slidesPerGroup){for(let c=0;c<l;c+=1){const u=G(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);s.append(u)}i=s.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>i.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=i.length);const o=[],a=[];i.each((l,c)=>{G(l).attr("data-swiper-slide-index",c)});for(let l=0;l<t.loopedSlides;l+=1){const c=l-Math.floor(l/i.length)*i.length;a.push(i.eq(c)[0]),o.unshift(i.eq(i.length-c-1)[0])}for(let l=0;l<a.length;l+=1)s.append(G(a[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let l=o.length-1;l>=0;l-=1)s.prepend(G(o[l].cloneNode(!0)).addClass(n.slideDuplicateClass))}function NK(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:s,allowSlideNext:i,snapGrid:o,rtlTranslate:a}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const u=-o[e]-t.getTranslate();e<r?(l=n.length-r*3+e,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)):e>=n.length-r&&(l=-n.length+e+r,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)),t.allowSlidePrev=s,t.allowSlideNext=i,t.emit("loopFix")}function bK(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const AK={loopCreate:xK,loopFix:NK,loopDestroy:bK};function kK(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function PK(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const LK={setGrabCursor:kK,unsetGrabCursor:PK};function OK(t,e=this){function n(r){if(!r||r===bt()||r===Pt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function DK(t){const e=this,n=bt(),r=Pt(),s=e.touchEventsData,{params:i,touches:o,enabled:a}=e;if(!a||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let c=G(l.target);if(i.touchEventsTarget==="wrapper"&&!c.closest(e.wrapperEl).length||(s.isTouchEvent=l.type==="touchstart",!s.isTouchEvent&&"which"in l&&l.which===3)||!s.isTouchEvent&&"button"in l&&l.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",h=t.composedPath?t.composedPath():t.path;u&&l.target&&l.target.shadowRoot&&h&&(c=G(h[0]));const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(i.noSwiping&&(p?OK(f,c[0]):c.closest(f)[0])){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler)[0])return;o.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,o.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const m=o.currentX,g=o.currentY,E=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,v=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(E&&(m<=v||m>=r.innerWidth-v))if(E==="prevent")t.preventDefault();else return;if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,s.touchStartTime=bc(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1),l.type!=="touchstart"){let _=!0;c.is(s.focusableElements)&&(_=!1,c[0].nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&G(n.activeElement).is(s.focusableElements)&&n.activeElement!==c[0]&&n.activeElement.blur();const y=_&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||y)&&!c[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function MK(t){const e=bt(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}if(r.isTouchEvent&&l.type!=="touchmove")return;const c=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u=l.type==="touchmove"?c.pageX:l.pageX,h=l.type==="touchmove"?c.pageY:l.pageY;if(l.preventedByNestedSwiper){i.startX=u,i.startY=h;return}if(!n.allowTouchMove){G(l.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h}),r.touchStartTime=bc());return}if(r.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&G(l.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;i.currentX=u,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let v;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(v=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?v>s.touchAngle:90-v>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),r.isMoved||(s.loop&&!s.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let m=n.isHorizontal()?f:p;i.diff=m,m*=s.touchRatio,o&&(m=-m),n.swipeDirection=m>0?"prev":"next",r.currentTranslate=m+r.startTranslate;let g=!0,E=s.resistanceRatio;if(s.touchReleaseOnEdges&&(E=0),m>0&&r.currentTranslate>n.minTranslate()?(g=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+m)**E)):m<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-m)**E)),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(m)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function jK(t){const e=this,n=e.touchEventsData,{params:r,touches:s,rtlTranslate:i,slidesGrid:o,enabled:a}=e;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=bc(),u=c-n.touchStartTime;if(e.allowClick){const _=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(_&&_[0]||l.target),e.emit("tap click",l),u<300&&c-n.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(n.lastClickTime=bc(),Nc(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(r.followFinger?h=i?e.translate:-e.translate:h=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let f=0,p=e.slidesSizesGrid[0];for(let _=0;_<o.length;_+=_<r.slidesPerGroupSkip?1:r.slidesPerGroup){const y=_<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof o[_+y]<"u"?h>=o[_]&&h<o[_+y]&&(f=_,p=o[_+y]-o[_]):h>=o[_]&&(f=_,p=o[o.length-1]-o[o.length-2])}let m=null,g=null;r.rewind&&(e.isBeginning?g=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const E=(h-o[f])/p,v=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?m:f+v):e.slideTo(f)),e.swipeDirection==="prev"&&(E>1-r.longSwipesRatio?e.slideTo(f+v):g!==null&&E<0&&Math.abs(E)>r.longSwipesRatio?e.slideTo(g):e.slideTo(f))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(f+v):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:f+v),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:f))}}function oC(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function $K(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function VK(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let aC=!1;function FK(){}const nP=(t,e)=>{const n=bt(),{params:r,touchEvents:s,el:i,wrapperEl:o,device:a,support:l}=t,c=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",h=e;if(!l.touch)i[u](s.start,t.onTouchStart,!1),n[u](s.move,t.onTouchMove,c),n[u](s.end,t.onTouchEnd,!1);else{const f=s.start==="touchstart"&&l.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;i[u](s.start,t.onTouchStart,f),i[u](s.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),i[u](s.end,t.onTouchEnd,f),s.cancel&&i[u](s.cancel,t.onTouchEnd,f)}(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&o[u]("scroll",t.onScroll),r.updateOnWindowResize?t[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",oC,!0):t[h]("observerUpdate",oC,!0)};function UK(){const t=this,e=bt(),{params:n,support:r}=t;t.onTouchStart=DK.bind(t),t.onTouchMove=MK.bind(t),t.onTouchEnd=jK.bind(t),n.cssMode&&(t.onScroll=VK.bind(t)),t.onClick=$K.bind(t),r.touch&&!aC&&(e.addEventListener("touchstart",FK),aC=!0),nP(t,"on")}function BK(){nP(this,"off")}const zK={attachEvents:UK,detachEvents:BK},lC=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function HK(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:s,$el:i}=t,o=s.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in o?o[a]:void 0)||t.originalParams,u=lC(t,s),h=lC(t,c),f=s.enabled;u&&!h?(i.removeClass(`${s.containerModifierClass}grid ${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&h&&(i.addClass(`${s.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&s.grid.fill==="column")&&i.addClass(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{const v=s[E]&&s[E].enabled,_=c[E]&&c[E].enabled;v&&!_&&t[E].disable(),!v&&_&&t[E].enable()});const p=c.direction&&c.direction!==s.direction,m=s.loop&&(c.slidesPerView!==s.slidesPerView||p);p&&n&&t.changeDirection(),Cn(t.params,c);const g=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!g?t.disable():!f&&g&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),m&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",c)}function WK(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=Pt(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}const qK={setBreakpoint:HK,getBreakpoint:WK};function GK(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function KK(){const t=this,{classNames:e,params:n,rtl:r,$el:s,device:i,support:o}=t,a=GK(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.addClass([...e].join(" ")),t.emitContainerClasses()}function QK(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const YK={addClasses:KK,removeClasses:QK};function XK(t,e,n,r,s,i){const o=Pt();let a;function l(){i&&i()}!G(t).parent("picture")[0]&&(!t.complete||!s)&&e?(a=new o.Image,a.onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):l()}function JK(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const ZK={loadImage:XK,preloadImages:JK};function eQ(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const tQ={checkOverflow:eQ},cC={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function nQ(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Cn(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&t[s]===!0&&(t[s]={auto:!0}),!(s in t&&"enabled"in i)){Cn(e,r);return}t[s]===!0&&(t[s]={enabled:!0}),typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Cn(e,r)}}const Km={eventsEmitter:J7,update:lK,translate:pK,transition:_K,slide:IK,loop:AK,grabCursor:LK,events:zK,breakpoints:qK,checkOverflow:tQ,classes:YK,images:ZK},Qm={};let ga=class Or{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Cn({},r),n&&!r.el&&(r.el=n),r.el&&G(r.el).length>1){const a=[];return G(r.el).each(l=>{const c=Cn({},r,{el:l});a.push(new Or(c))}),a}const s=this;s.__swiper__=!0,s.support=eP(),s.device=G7({userAgent:r.userAgent}),s.browser=Q7(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const i={};s.modules.forEach(a=>{a({swiper:s,extendParams:nQ(r,i),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const o=Cn({},cC,i);return s.params=Cn({},o,Qm,r),s.originalParams=Cn({},s.params),s.passedParams=Cn({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(a=>{s.on(a,s.params.on[a])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=G,Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:G(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const l=["touchstart","touchmove","touchend","touchcancel"],c=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},s.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:bc(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(s.centeredSlides){let h=i[c].swiperSlideSize,f;for(let p=c+1;p<i.length;p+=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>l&&(f=!0));for(let p=c-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>l&&(f=!0))}else if(e==="current")for(let h=c+1;h<i.length;h+=1)(n?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(u+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;e.params.freeMode&&e.params.freeMode.enabled?(s(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?i=e.slideTo(e.slides.length-1,0,!1,!0):i=e.slideTo(e.activeIndex,0,!1,!0),i||s()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${s}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=G(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const a=G(e.shadowRoot.querySelector(s()));return a.children=l=>r.children(l),a}return r.children?r.children(s()):G(r).children(s())})();if(o.length===0&&n.params.createElements){const l=bt().createElement("div");o=G(l),l.className=n.params.wrapperClass,r.append(l),r.children(`.${n.params.slideClass}`).each(c=>{o.append(c)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:o.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:s,$el:i,$wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.$el[0].swiper=null,U7(r)),r.destroyed=!0),null}static extendDefaults(e){Cn(Qm,e)}static get extendedDefaults(){return Qm}static get defaults(){return cC}static installModule(e){Or.prototype.__modules__||(Or.prototype.__modules__=[]);const n=Or.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Or.installModule(n)),Or):(Or.installModule(e),Or)}};Object.keys(Km).forEach(t=>{Object.keys(Km[t]).forEach(e=>{ga.prototype[e]=Km[t][e]})});ga.use([Y7,X7]);function aE(t,e,n,r){const s=bt();return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=t.$el.children(`.${r[i]}`)[0];o||(o=s.createElement("div"),o.className=r[i],t.$el.append(o)),n[i]=o,e[i]=o}}),n}function Tp({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function s(p){let m;return p&&(m=G(p),t.params.uniqueNavElements&&typeof p=="string"&&m.length>1&&t.$el.find(p).length===1&&(m=t.$el.find(p))),m}function i(p,m){const g=t.params.navigation;p&&p.length>0&&(p[m?"addClass":"removeClass"](g.disabledClass),p[0]&&p[0].tagName==="BUTTON"&&(p[0].disabled=m),t.params.watchOverflow&&t.enabled&&p[t.isLocked?"addClass":"removeClass"](g.lockClass))}function o(){if(t.params.loop)return;const{$nextEl:p,$prevEl:m}=t.navigation;i(m,t.isBeginning&&!t.params.rewind),i(p,t.isEnd&&!t.params.rewind)}function a(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function l(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function c(){const p=t.params.navigation;if(t.params.navigation=aE(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;const m=s(p.nextEl),g=s(p.prevEl);m&&m.length>0&&m.on("click",l),g&&g.length>0&&g.on("click",a),Object.assign(t.navigation,{$nextEl:m,nextEl:m&&m[0],$prevEl:g,prevEl:g&&g[0]}),t.enabled||(m&&m.addClass(p.lockClass),g&&g.addClass(p.lockClass))}function u(){const{$nextEl:p,$prevEl:m}=t.navigation;p&&p.length&&(p.off("click",l),p.removeClass(t.params.navigation.disabledClass)),m&&m.length&&(m.off("click",a),m.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?f():(c(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{u()}),n("enable disable",()=>{const{$nextEl:p,$prevEl:m}=t.navigation;p&&p[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),m&&m[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(p,m)=>{const{$nextEl:g,$prevEl:E}=t.navigation,v=m.target;if(t.params.navigation.hideOnClick&&!G(v).is(E)&&!G(v).is(g)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===v||t.pagination.el.contains(v)))return;let _;g?_=g.hasClass(t.params.navigation.hiddenClass):E&&(_=E.hasClass(t.params.navigation.hiddenClass)),r(_===!0?"navigationShow":"navigationHide"),g&&g.toggleClass(t.params.navigation.hiddenClass),E&&E.toggleClass(t.params.navigation.hiddenClass)}});const h=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),c(),o()},f=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),u()};Object.assign(t.navigation,{enable:h,disable:f,update:o,init:c,destroy:u})}function jr(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function Cp({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let i,o=0;function a(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function l(g,E){const{bulletActiveClass:v}=t.params.pagination;g[E]().addClass(`${v}-${E}`)[E]().addClass(`${v}-${E}-${E}`)}function c(){const g=t.rtl,E=t.params.pagination;if(a())return;const v=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,_=t.pagination.$el;let y;const S=t.params.loop?Math.ceil((v-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(y=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),y>v-1-t.loopedSlides*2&&(y-=v-t.loopedSlides*2),y>S-1&&(y-=S),y<0&&t.params.paginationType!=="bullets"&&(y=S+y)):typeof t.snapIndex<"u"?y=t.snapIndex:y=t.activeIndex||0,E.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const w=t.pagination.bullets;let x,b,k;if(E.dynamicBullets&&(i=w.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),_.css(t.isHorizontal()?"width":"height",`${i*(E.dynamicMainBullets+4)}px`),E.dynamicMainBullets>1&&t.previousIndex!==void 0&&(o+=y-(t.previousIndex-t.loopedSlides||0),o>E.dynamicMainBullets-1?o=E.dynamicMainBullets-1:o<0&&(o=0)),x=Math.max(y-o,0),b=x+(Math.min(w.length,E.dynamicMainBullets)-1),k=(b+x)/2),w.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(q=>`${E.bulletActiveClass}${q}`).join(" ")),_.length>1)w.each(q=>{const O=G(q),P=O.index();P===y&&O.addClass(E.bulletActiveClass),E.dynamicBullets&&(P>=x&&P<=b&&O.addClass(`${E.bulletActiveClass}-main`),P===x&&l(O,"prev"),P===b&&l(O,"next"))});else{const q=w.eq(y),O=q.index();if(q.addClass(E.bulletActiveClass),E.dynamicBullets){const P=w.eq(x),N=w.eq(b);for(let A=x;A<=b;A+=1)w.eq(A).addClass(`${E.bulletActiveClass}-main`);if(t.params.loop)if(O>=w.length){for(let A=E.dynamicMainBullets;A>=0;A-=1)w.eq(w.length-A).addClass(`${E.bulletActiveClass}-main`);w.eq(w.length-E.dynamicMainBullets-1).addClass(`${E.bulletActiveClass}-prev`)}else l(P,"prev"),l(N,"next");else l(P,"prev"),l(N,"next")}}if(E.dynamicBullets){const q=Math.min(w.length,E.dynamicMainBullets+4),O=(i*q-i)/2-k*i,P=g?"right":"left";w.css(t.isHorizontal()?P:"top",`${O}px`)}}if(E.type==="fraction"&&(_.find(jr(E.currentClass)).text(E.formatFractionCurrent(y+1)),_.find(jr(E.totalClass)).text(E.formatFractionTotal(S))),E.type==="progressbar"){let w;E.progressbarOpposite?w=t.isHorizontal()?"vertical":"horizontal":w=t.isHorizontal()?"horizontal":"vertical";const x=(y+1)/S;let b=1,k=1;w==="horizontal"?b=x:k=x,_.find(jr(E.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${b}) scaleY(${k})`).transition(t.params.speed)}E.type==="custom"&&E.renderCustom?(_.html(E.renderCustom(t,y+1,S)),r("paginationRender",_[0])):r("paginationUpdate",_[0]),t.params.watchOverflow&&t.enabled&&_[t.isLocked?"addClass":"removeClass"](E.lockClass)}function u(){const g=t.params.pagination;if(a())return;const E=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,v=t.pagination.$el;let _="";if(g.type==="bullets"){let y=t.params.loop?Math.ceil((E-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&y>E&&(y=E);for(let S=0;S<y;S+=1)g.renderBullet?_+=g.renderBullet.call(t,S,g.bulletClass):_+=`<${g.bulletElement} class="${g.bulletClass}"></${g.bulletElement}>`;v.html(_),t.pagination.bullets=v.find(jr(g.bulletClass))}g.type==="fraction"&&(g.renderFraction?_=g.renderFraction.call(t,g.currentClass,g.totalClass):_=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`,v.html(_)),g.type==="progressbar"&&(g.renderProgressbar?_=g.renderProgressbar.call(t,g.progressbarFillClass):_=`<span class="${g.progressbarFillClass}"></span>`,v.html(_)),g.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function h(){t.params.pagination=aE(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const g=t.params.pagination;if(!g.el)return;let E=G(g.el);E.length!==0&&(t.params.uniqueNavElements&&typeof g.el=="string"&&E.length>1&&(E=t.$el.find(g.el),E.length>1&&(E=E.filter(v=>G(v).parents(".swiper")[0]===t.el))),g.type==="bullets"&&g.clickable&&E.addClass(g.clickableClass),E.addClass(g.modifierClass+g.type),E.addClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(E.addClass(`${g.modifierClass}${g.type}-dynamic`),o=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&E.addClass(g.progressbarOppositeClass),g.clickable&&E.on("click",jr(g.bulletClass),function(_){_.preventDefault();let y=G(this).index()*t.params.slidesPerGroup;t.params.loop&&(y+=t.loopedSlides),t.slideTo(y)}),Object.assign(t.pagination,{$el:E,el:E[0]}),t.enabled||E.addClass(g.lockClass))}function f(){const g=t.params.pagination;if(a())return;const E=t.pagination.$el;E.removeClass(g.hiddenClass),E.removeClass(g.modifierClass+g.type),E.removeClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(g.bulletActiveClass),g.clickable&&E.off("click",jr(g.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?m():(h(),u(),c())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&c()}),n("snapIndexChange",()=>{t.params.loop||c()}),n("slidesLengthChange",()=>{t.params.loop&&(u(),c())}),n("snapGridLengthChange",()=>{t.params.loop||(u(),c())}),n("destroy",()=>{f()}),n("enable disable",()=>{const{$el:g}=t.pagination;g&&g[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{c()}),n("click",(g,E)=>{const v=E.target,{$el:_}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&_&&_.length>0&&!G(v).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&v===t.navigation.nextEl||t.navigation.prevEl&&v===t.navigation.prevEl))return;const y=_.hasClass(t.params.pagination.hiddenClass);r(y===!0?"paginationShow":"paginationHide"),_.toggleClass(t.params.pagination.hiddenClass)}});const p=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),h(),u(),c()},m=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),f()};Object.assign(t.pagination,{enable:p,disable:m,render:u,update:c,init:h,destroy:f})}function Rp({swiper:t,extendParams:e,on:n,emit:r}){const s=bt();let i=!1,o=null,a=null,l,c,u,h;e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:P,rtlTranslate:N,progress:A}=t,{$dragEl:H,$el:re}=P,Ee=t.params.scrollbar;let we=c,M=(u-c)*A;N?(M=-M,M>0?(we=c-M,M=0):-M+c>u&&(we=u+M)):M<0?(we=c+M,M=0):M+c>u&&(we=u-M),t.isHorizontal()?(H.transform(`translate3d(${M}px, 0, 0)`),H[0].style.width=`${we}px`):(H.transform(`translate3d(0px, ${M}px, 0)`),H[0].style.height=`${we}px`),Ee.hide&&(clearTimeout(o),re[0].style.opacity=1,o=setTimeout(()=>{re[0].style.opacity=0,re.transition(400)},1e3))}function p(P){!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(P)}function m(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:P}=t,{$dragEl:N,$el:A}=P;N[0].style.width="",N[0].style.height="",u=t.isHorizontal()?A[0].offsetWidth:A[0].offsetHeight,h=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?c=u*h:c=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?N[0].style.width=`${c}px`:N[0].style.height=`${c}px`,h>=1?A[0].style.display="none":A[0].style.display="",t.params.scrollbar.hide&&(A[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&P.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function g(P){return t.isHorizontal()?P.type==="touchstart"||P.type==="touchmove"?P.targetTouches[0].clientX:P.clientX:P.type==="touchstart"||P.type==="touchmove"?P.targetTouches[0].clientY:P.clientY}function E(P){const{scrollbar:N,rtlTranslate:A}=t,{$el:H}=N;let re;re=(g(P)-H.offset()[t.isHorizontal()?"left":"top"]-(l!==null?l:c/2))/(u-c),re=Math.max(Math.min(re,1),0),A&&(re=1-re);const Ee=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*re;t.updateProgress(Ee),t.setTranslate(Ee),t.updateActiveIndex(),t.updateSlidesClasses()}function v(P){const N=t.params.scrollbar,{scrollbar:A,$wrapperEl:H}=t,{$el:re,$dragEl:Ee}=A;i=!0,l=P.target===Ee[0]||P.target===Ee?g(P)-P.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,P.preventDefault(),P.stopPropagation(),H.transition(100),Ee.transition(100),E(P),clearTimeout(a),re.transition(0),N.hide&&re.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),r("scrollbarDragStart",P)}function _(P){const{scrollbar:N,$wrapperEl:A}=t,{$el:H,$dragEl:re}=N;i&&(P.preventDefault?P.preventDefault():P.returnValue=!1,E(P),A.transition(0),H.transition(0),re.transition(0),r("scrollbarDragMove",P))}function y(P){const N=t.params.scrollbar,{scrollbar:A,$wrapperEl:H}=t,{$el:re}=A;i&&(i=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),H.transition("")),N.hide&&(clearTimeout(a),a=Nc(()=>{re.css("opacity",0),re.transition(400)},1e3)),r("scrollbarDragEnd",P),N.snapOnRelease&&t.slideToClosest())}function S(P){const{scrollbar:N,touchEventsTouch:A,touchEventsDesktop:H,params:re,support:Ee}=t,we=N.$el;if(!we)return;const M=we[0],D=Ee.passiveListener&&re.passiveListeners?{passive:!1,capture:!1}:!1,W=Ee.passiveListener&&re.passiveListeners?{passive:!0,capture:!1}:!1;if(!M)return;const ie=P==="on"?"addEventListener":"removeEventListener";Ee.touch?(M[ie](A.start,v,D),M[ie](A.move,_,D),M[ie](A.end,y,W)):(M[ie](H.start,v,D),s[ie](H.move,_,D),s[ie](H.end,y,W))}function w(){!t.params.scrollbar.el||!t.scrollbar.el||S("on")}function x(){!t.params.scrollbar.el||!t.scrollbar.el||S("off")}function b(){const{scrollbar:P,$el:N}=t;t.params.scrollbar=aE(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const A=t.params.scrollbar;if(!A.el)return;let H=G(A.el);t.params.uniqueNavElements&&typeof A.el=="string"&&H.length>1&&N.find(A.el).length===1&&(H=N.find(A.el)),H.addClass(t.isHorizontal()?A.horizontalClass:A.verticalClass);let re=H.find(`.${t.params.scrollbar.dragClass}`);re.length===0&&(re=G(`<div class="${t.params.scrollbar.dragClass}"></div>`),H.append(re)),Object.assign(P,{$el:H,el:H[0],$dragEl:re,dragEl:re[0]}),A.draggable&&w(),H&&H[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function k(){const P=t.params.scrollbar,N=t.scrollbar.$el;N&&N.removeClass(t.isHorizontal()?P.horizontalClass:P.verticalClass),x()}n("init",()=>{t.params.scrollbar.enabled===!1?O():(b(),m(),f())}),n("update resize observerUpdate lock unlock",()=>{m()}),n("setTranslate",()=>{f()}),n("setTransition",(P,N)=>{p(N)}),n("enable disable",()=>{const{$el:P}=t.scrollbar;P&&P[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),n("destroy",()=>{k()});const q=()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),b(),m(),f()},O=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),k()};Object.assign(t.scrollbar,{enable:q,disable:O,updateSize:m,setTranslate:f,init:b,destroy:k})}function Ip({swiper:t,extendParams:e,on:n}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let r=null;function s(N){const A=r;A.length!==0&&(A.html(""),A.html(N))}function i(N=16){const A=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(N).replace(/x/g,A)}function o(N){N.attr("tabIndex","0")}function a(N){N.attr("tabIndex","-1")}function l(N,A){N.attr("role",A)}function c(N,A){N.attr("aria-roledescription",A)}function u(N,A){N.attr("aria-controls",A)}function h(N,A){N.attr("aria-label",A)}function f(N,A){N.attr("id",A)}function p(N,A){N.attr("aria-live",A)}function m(N){N.attr("aria-disabled",!0)}function g(N){N.attr("aria-disabled",!1)}function E(N){if(N.keyCode!==13&&N.keyCode!==32)return;const A=t.params.a11y,H=G(N.target);t.navigation&&t.navigation.$nextEl&&H.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?s(A.lastSlideMessage):s(A.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&H.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?s(A.firstSlideMessage):s(A.prevSlideMessage)),t.pagination&&H.is(jr(t.params.pagination.bulletClass))&&H[0].click()}function v(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:N,$prevEl:A}=t.navigation;A&&A.length>0&&(t.isBeginning?(m(A),a(A)):(g(A),o(A))),N&&N.length>0&&(t.isEnd?(m(N),a(N)):(g(N),o(N)))}function _(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function y(){return _()&&t.params.pagination.clickable}function S(){const N=t.params.a11y;_()&&t.pagination.bullets.each(A=>{const H=G(A);t.params.pagination.clickable&&(o(H),t.params.pagination.renderBullet||(l(H,"button"),h(H,N.paginationBulletMessage.replace(/\{\{index\}\}/,H.index()+1)))),H.is(`.${t.params.pagination.bulletActiveClass}`)?H.attr("aria-current","true"):H.removeAttr("aria-current")})}const w=(N,A,H)=>{o(N),N[0].tagName!=="BUTTON"&&(l(N,"button"),N.on("keydown",E)),h(N,H),u(N,A)},x=()=>{t.a11y.clicked=!0},b=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},k=N=>{if(t.a11y.clicked)return;const A=N.target.closest(`.${t.params.slideClass}`);if(!A||!t.slides.includes(A))return;const H=t.slides.indexOf(A)===t.activeIndex,re=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(A);H||re||N.sourceCapabilities&&N.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(A),0))},q=()=>{const N=t.params.a11y;N.itemRoleDescriptionMessage&&c(G(t.slides),N.itemRoleDescriptionMessage),N.slideRole&&l(G(t.slides),N.slideRole);const A=t.params.loop?t.slides.filter(H=>!H.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;N.slideLabelMessage&&t.slides.each((H,re)=>{const Ee=G(H),we=t.params.loop?parseInt(Ee.attr("data-swiper-slide-index"),10):re,M=N.slideLabelMessage.replace(/\{\{index\}\}/,we+1).replace(/\{\{slidesLength\}\}/,A);h(Ee,M)})},O=()=>{const N=t.params.a11y;t.$el.append(r);const A=t.$el;N.containerRoleDescriptionMessage&&c(A,N.containerRoleDescriptionMessage),N.containerMessage&&h(A,N.containerMessage);const H=t.$wrapperEl,re=N.id||H.attr("id")||`swiper-wrapper-${i(16)}`,Ee=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";f(H,re),p(H,Ee),q();let we,M;t.navigation&&t.navigation.$nextEl&&(we=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(M=t.navigation.$prevEl),we&&we.length&&w(we,re,N.nextSlideMessage),M&&M.length&&w(M,re,N.prevSlideMessage),y()&&t.pagination.$el.on("keydown",jr(t.params.pagination.bulletClass),E),t.$el.on("focus",k,!0),t.$el.on("pointerdown",x,!0),t.$el.on("pointerup",b,!0)};function P(){r&&r.length>0&&r.remove();let N,A;t.navigation&&t.navigation.$nextEl&&(N=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(A=t.navigation.$prevEl),N&&N.off("keydown",E),A&&A.off("keydown",E),y()&&t.pagination.$el.off("keydown",jr(t.params.pagination.bulletClass),E),t.$el.off("focus",k,!0),t.$el.off("pointerdown",x,!0),t.$el.off("pointerup",b,!0)}n("beforeInit",()=>{r=G(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),n("afterInit",()=>{t.params.a11y.enabled&&O()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&q()}),n("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&v()}),n("paginationUpdate",()=>{t.params.a11y.enabled&&S()}),n("destroy",()=>{t.params.a11y.enabled&&P()})}function xp({swiper:t,extendParams:e,on:n,emit:r}){let s;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function i(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const g=t.slides.eq(t.activeIndex);let E=t.params.autoplay.delay;g.attr("data-swiper-autoplay")&&(E=g.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(s),s=Nc(()=>{let v;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),v=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?a():(v=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(v=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),v=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?a():(v=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(v=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||v===!1)&&i()},E)}function o(){return typeof s<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),i(),!0)}function a(){return!t.autoplay.running||typeof s>"u"?!1:(s&&(clearTimeout(s),s=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function l(g){t.autoplay.running&&(t.autoplay.paused||(s&&clearTimeout(s),t.autoplay.paused=!0,g===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,i()):["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].addEventListener(E,u)})))}function c(){const g=bt();g.visibilityState==="hidden"&&t.autoplay.running&&l(),g.visibilityState==="visible"&&t.autoplay.paused&&(i(),t.autoplay.paused=!1)}function u(g){!t||t.destroyed||!t.$wrapperEl||g.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].removeEventListener(E,u)}),t.autoplay.paused=!1,t.autoplay.running?i():a())}function h(){t.params.autoplay.disableOnInteraction?a():(r("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach(g=>{t.$wrapperEl[0].removeEventListener(g,u)})}function f(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),i())}function p(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",h),t.$el.on("mouseleave",f))}function m(){t.$el.off("mouseenter",h),t.$el.off("mouseleave",f)}n("init",()=>{t.params.autoplay.enabled&&(o(),bt().addEventListener("visibilitychange",c),p())}),n("beforeTransitionStart",(g,E,v)=>{t.autoplay.running&&(v||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(E):a())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?a():l())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&i()}),n("destroy",()=>{m(),t.autoplay.running&&a(),bt().removeEventListener("visibilitychange",c)}),Object.assign(t.autoplay,{pause:l,run:i,start:o,stop:a})}function rQ(t){const{effect:e,swiper:n,on:r,setTranslate:s,setTransition:i,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;r("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const h=o?o():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),r("setTranslate",()=>{n.params.effect===e&&s()}),r("setTransition",(h,f)=>{n.params.effect===e&&i(f)}),r("transitionEnd",()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.each(h=>{n.$(h).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}});let u;r("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(s(),u=!1)}))})}function sQ(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function iQ({swiper:t,duration:e,transformEl:n,allSlides:r}){const{slides:s,activeIndex:i,$wrapperEl:o}=t;if(t.params.virtualTranslate&&e!==0){let a=!1,l;r?l=n?s.find(n):s:l=n?s.eq(i).find(n):s.eq(i),l.transitionEnd(()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const c=["webkitTransitionEnd","transitionend"];for(let u=0;u<c.length;u+=1)o.trigger(c[u])})}}function rP({swiper:t,extendParams:e,on:n}){e({fadeEffect:{crossFade:!1,transformEl:null}}),rQ({effect:"fade",swiper:t,on:n,setTranslate:()=>{const{slides:i}=t,o=t.params.fadeEffect;for(let a=0;a<i.length;a+=1){const l=t.slides.eq(a);let u=-l[0].swiperSlideOffset;t.params.virtualTranslate||(u-=t.translate);let h=0;t.isHorizontal()||(h=u,u=0);const f=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(l[0].progress),0):1+Math.min(Math.max(l[0].progress,-1),0);sQ(o,l).css({opacity:f}).transform(`translate3d(${u}px, ${h}px, 0px)`)}},setTransition:i=>{const{transformEl:o}=t.params.fadeEffect;(o?t.slides.find(o):t.slides).transition(i),iQ({swiper:t,duration:i,transformEl:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function Wi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Ns(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Wi(e[r])&&Wi(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Ns(t[r],e[r]):t[r]=e[r]})}function sP(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function iP(t={}){return t.pagination&&typeof t.pagination.el>"u"}function oP(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function aP(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const lP=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function oQ(t={},e=!0){const n={on:{}},r={},s={};Ns(n,ga.defaults),Ns(n,ga.extendedDefaults),n._emitClasses=!0,n.init=!1;const i={},o=lP.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?Wi(t[l])?(n[l]={},s[l]={},Ns(n[l],t[l]),Ns(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:i[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:r}}function aQ({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){sP(o)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),iP(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),oP(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}const cP=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const s=ga.prototype.getBreakpoint(e.breakpoints),i=s in e.breakpoints?e.breakpoints[s]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function lQ(t,e,n){const r=e.map((l,c)=>fe.cloneElement(l,{swiper:t,"data-swiper-slide-index":c}));function s(l,c,u){return fe.cloneElement(l,{key:`${l.key}-duplicate-${c}-${u}`,className:`${l.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-r.length%n.slidesPerGroup;if(l!==n.slidesPerGroup)for(let c=0;c<l;c+=1){const u=fe.createElement("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(u)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const i=cP(r,n),o=[],a=[];for(let l=0;l<i;l+=1){const c=l-Math.floor(l/r.length)*r.length;a.push(s(r[c],l,"append")),o.unshift(s(r[r.length-c-1],l,"prepend"))}return t&&(t.loopedSlides=i),[...o,...r,...a]}function cQ(t,e,n,r,s){const i=[];if(!e)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(s),c=n.map(s);l.join("")!==c.join("")&&o("children"),r.length!==n.length&&o("children")}return lP.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Wi(t[l])&&Wi(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),u.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),i}function uP(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function dP(t){const e=[];return fe.Children.toArray(t).forEach(n=>{uP(n)?e.push(n):n.props&&n.props.children&&dP(n.props.children).forEach(r=>e.push(r))}),e}function uQ(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return fe.Children.toArray(t).forEach(r=>{if(uP(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=dP(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function dQ({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:a}){const l=r.filter(w=>w!=="children"&&w!=="direction"),{params:c,pagination:u,navigation:h,scrollbar:f,virtual:p,thumbs:m}=t;let g,E,v,_,y;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(g=!0),r.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(E=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(c.pagination||c.pagination===!1)&&u&&!u.el&&(v=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&f&&!f.el&&(_=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(y=!0);const S=w=>{t[w]&&(t[w].destroy(),w==="navigation"?(c[w].prevEl=void 0,c[w].nextEl=void 0,t[w].prevEl=void 0,t[w].nextEl=void 0):(c[w].el=void 0,t[w].el=void 0))};l.forEach(w=>{if(Wi(c[w])&&Wi(n[w]))Ns(c[w],n[w]);else{const x=n[w];(x===!0||x===!1)&&(w==="navigation"||w==="pagination"||w==="scrollbar")?x===!1&&S(w):c[w]=n[w]}}),l.includes("controller")&&!E&&t.controller&&t.controller.control&&c.controller&&c.controller.control&&(t.controller.control=c.controller.control),r.includes("children")&&e&&p&&c.virtual.enabled?(p.slides=e,p.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),g&&m.init()&&m.update(!0),E&&(t.controller.control=c.controller.control),v&&(a&&(c.pagination.el=a),u.init(),u.render(),u.update()),_&&(o&&(c.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),y&&(s&&(c.navigation.nextEl=s),i&&(c.navigation.prevEl=i),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function hQ(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((s,i)=>i>=n.from&&i<=n.to).map(s=>fe.cloneElement(s,{swiper:t,style:r}))}const fQ=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Vl(t,e){return typeof window>"u"?T.useEffect(t,e):T.useLayoutEffect(t,e)}const pQ=T.createContext(null),mQ=T.createContext(null);function t_(){return t_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},t_.apply(this,arguments)}const gu=T.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,u]=T.useState("swiper"),[h,f]=T.useState(null),[p,m]=T.useState(!1),g=T.useRef(!1),E=T.useRef(null),v=T.useRef(null),_=T.useRef(null),y=T.useRef(null),S=T.useRef(null),w=T.useRef(null),x=T.useRef(null),b=T.useRef(null),{params:k,passedParams:q,rest:O,events:P}=oQ(a),{slides:N,slots:A}=uQ(i),H=()=>{m(!p)};Object.assign(k.on,{_containerClasses(D,W){u(W)}});const re=()=>{if(Object.assign(k.on,P),l=!0,v.current=new ga(k),v.current.loopCreate=()=>{},v.current.loopDestroy=()=>{},k.loop&&(v.current.loopedSlides=cP(N,k)),v.current.virtual&&v.current.params.virtual.enabled){v.current.virtual.slides=N;const D={cache:!1,slides:N,renderExternal:f,renderExternalUpdate:!1};Ns(v.current.params.virtual,D),Ns(v.current.originalParams.virtual,D)}};E.current||re(),v.current&&v.current.on("_beforeBreakpoint",H);const Ee=()=>{l||!P||!v.current||Object.keys(P).forEach(D=>{v.current.on(D,P[D])})},we=()=>{!P||!v.current||Object.keys(P).forEach(D=>{v.current.off(D,P[D])})};T.useEffect(()=>()=>{v.current&&v.current.off("_beforeBreakpoint",H)}),T.useEffect(()=>{!g.current&&v.current&&(v.current.emitSlidesClasses(),g.current=!0)}),Vl(()=>{if(e&&(e.current=E.current),!!E.current)return v.current.destroyed&&re(),aQ({el:E.current,nextEl:S.current,prevEl:w.current,paginationEl:x.current,scrollbarEl:b.current,swiper:v.current},k),o&&o(v.current),()=>{v.current&&!v.current.destroyed&&v.current.destroy(!0,!1)}},[]),Vl(()=>{Ee();const D=cQ(q,_.current,N,y.current,W=>W.key);return _.current=q,y.current=N,D.length&&v.current&&!v.current.destroyed&&dQ({swiper:v.current,slides:N,passedParams:q,changedParams:D,nextEl:S.current,prevEl:w.current,scrollbarEl:b.current,paginationEl:x.current}),()=>{we()}}),Vl(()=>{fQ(v.current)},[h]);function M(){return k.virtual?hQ(v.current,N,h):!k.loop||v.current&&v.current.destroyed?N.map(D=>fe.cloneElement(D,{swiper:v.current})):lQ(v.current,N,k)}return fe.createElement(r,t_({ref:E,className:aP(`${c}${n?` ${n}`:""}`)},O),fe.createElement(mQ.Provider,{value:v.current},A["container-start"],fe.createElement(s,{className:"swiper-wrapper"},A["wrapper-start"],M(),A["wrapper-end"]),sP(k)&&fe.createElement(fe.Fragment,null,fe.createElement("div",{ref:w,className:"swiper-button-prev"}),fe.createElement("div",{ref:S,className:"swiper-button-next"})),oP(k)&&fe.createElement("div",{ref:b,className:"swiper-scrollbar"}),iP(k)&&fe.createElement("div",{ref:x,className:"swiper-pagination"}),A["container-end"]))});gu.displayName="Swiper";function n_(){return n_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},n_.apply(this,arguments)}const zs=T.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,virtualIndex:a,...l}=t===void 0?{}:t;const c=T.useRef(null),[u,h]=T.useState("swiper-slide");function f(g,E,v){E===c.current&&h(v)}Vl(()=>{if(e&&(e.current=c.current),!(!c.current||!i)){if(i.destroyed){u!=="swiper-slide"&&h("swiper-slide");return}return i.on("_slideClass",f),()=>{i&&i.off("_slideClass",f)}}}),Vl(()=>{i&&c.current&&!i.destroyed&&h(i.getSlideClasses(c.current))},[i]);const p={isActive:u.indexOf("swiper-slide-active")>=0||u.indexOf("swiper-slide-duplicate-active")>=0,isVisible:u.indexOf("swiper-slide-visible")>=0,isDuplicate:u.indexOf("swiper-slide-duplicate")>=0,isPrev:u.indexOf("swiper-slide-prev")>=0||u.indexOf("swiper-slide-duplicate-prev")>=0,isNext:u.indexOf("swiper-slide-next")>=0||u.indexOf("swiper-slide-duplicate-next")>=0},m=()=>typeof r=="function"?r(p):r;return fe.createElement(n,n_({ref:c,className:aP(`${u}${s?` ${s}`:""}`),"data-swiper-slide-index":a},l),fe.createElement(pQ.Provider,{value:p},o?fe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},m()):m()))});zs.displayName="SwiperSlide";function vu({point:t}){const[e,n]=T.useState(null),r=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],s=()=>{let i=(Math.round(t*100)/100).toFixed(1)/2,o=0;r.reverse().forEach(a=>i<=a?o=a:null),n(o)};return T.useEffect(()=>{s()},[e]),d.jsxs("em",{className:"ui-star",children:[e===0&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"})]}),e===5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"})]})]})}function gQ({opts:t}){let e=Math.floor(Math.random()*3)+1;const[n,r]=T.useState([]),s=h=>{B.loading.show("glx");const f=`https://api.themoviedb.org/3/${t.media}/now_playing?language=ko&page=${h}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(f).then(p=>{var m;console.log(p.data),r(g=>[...g,...p.data.results]),console.log(h+"=== "+p.data.total_pages),B.loading.hide(),p.data.total_pages<=h&&((m=document.querySelector(".ui-loadmore"))==null||m.classList.add("hide"))}).catch(p=>{var m;console.log(p),B.loading.hide(),(m=document.querySelector(".ui-loadmore"))==null||m.classList.add("error")})},[i,o]=T.useState(null),a=()=>{i==null||i.slideTo(Math.floor(Math.random()*10),0)};T.useEffect(()=>(s(e),a(),window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}),[]);const[l,c]=T.useState(0),u=()=>c(parseInt(B.viewport.scrollTop()*.2));return d.jsx(d.Fragment,{children:d.jsx("section",{className:"sect mnTop",children:d.jsx("div",{className:"inr",id:"slide",children:d.jsx(gu,{className:"swiper-wrapper swiper slide",modules:[Tp,Cp,Rp,xp,Ip],spaceBetween:0,slidesPerView:1,loop:!0,effect:"fade",autoplay:{delay:3e3,waitForTransition:!1,pauseOnMouseEnter:!0,disableOnInteraction:!1},wrapperTag:"ul",pagination:{clickable:!0},autoHeight:!1,onSwiper:h=>{console.log("initialize swiper",h),o(h),h.slideTo(Math.floor(Math.random()*10))},onSlideChange:()=>{},children:n==null?void 0:n.filter((h,f)=>f<10).map((h,f)=>{const p=`//image.tmdb.org/t/p/w780${h.poster_path}`;return d.jsx(zs,{tag:"li",className:"swiper-slide pbox",children:d.jsxs(at,{className:"box",to:`${t.media}/${h.id}`,children:[d.jsx("div",{className:"pics",style:{transform:"translate3D(0rem , 0"+l+"rem , 0rem)"},children:d.jsx("img",{src:`${p}`,alt:"",className:"img",onError:B.error.poster})}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"star",children:d.jsx(vu,{point:h.vote_average})}),d.jsx("div",{className:"tit",children:h.title})]}),d.jsx("div",{className:"screen"})]})},f)})})})})})}function co({opts:t}){const[e,n]=T.useState([]),r=t.cate!=="0"?`&with_genres=${t.cate}`:"",s=()=>{const p=`//api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(p).then(m=>{console.log(m.data),n(m.data.results)}).catch(m=>{console.log(m)})},i=T.useRef(),o=p=>{const g=p.currentTarget.classList.contains("next")?1:-1,E=(i.current.offsetWidth-100)*g;console.log(E,i.current,g),i.current.scrollLeft+=E},a=p=>{p.preventDefault(),i.current.scrollLeft+=p.deltaY},[l,c]=T.useState(!1),[u,h]=T.useState(!1),f=()=>{const p=i.current,m=Math.ceil(p.scrollLeft/(p.scrollWidth-p.offsetWidth)*100||0);console.log(m),c(m<=0),h(m>=100)};return T.useEffect(()=>{f(),s()},[]),d.jsx(d.Fragment,{children:d.jsxs("section",{className:"sect mnList",children:[d.jsxs("div",{className:"hbox",children:[d.jsxs(at,{className:"link",to:`/list/${t.media}/${t.cate||0}`,children:[d.jsx("h3",{className:"stit",children:t.title}),d.jsx("span",{className:"more",children:d.jsx("i",{className:"fa-regular fa-chevron-right"})})]}),d.jsxs("div",{className:"bt-nav",children:[d.jsx("button",{type:"button",disabled:l,className:"bt prev",onClick:o,children:d.jsx("i",{className:"fa-solid fa-caret-left"})}),d.jsx("button",{type:"button",disabled:u,className:"bt next",onClick:o,children:d.jsx("i",{className:"fa-solid fa-caret-right"})})]})]}),d.jsx("div",{className:"inr",ref:i,onMouseEnter:()=>i.current.addEventListener("wheel",a),onMouseLeave:()=>i.current.removeEventListener("wheel",a),onScroll:f,children:d.jsx("div",{className:"slide",children:d.jsx("ul",{children:e.filter((p,m)=>m<20).map((p,m)=>{const g=`//image.tmdb.org/t/p/w154${p.poster_path}`,E=p.title||p.name;return d.jsx("li",{className:"pbox",children:d.jsx(at,{className:"box",to:`${t.media}/${p.id}`,children:d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${g}`,alt:E,className:"img",onError:B.error.poster})})})},m)})})})})]})})}function uC({opts:t}){const[e,n]=T.useState([]);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=()=>{console.log("로드 ");const a=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(a).then(l=>{console.log(l.data),n(c=>[...c,...l.data.results])}).catch(l=>{console.log(l)})},i=T.useRef(),o=function(a){a.preventDefault(),i.current.scrollLeft+=a.deltaY};return T.useEffect(()=>(s(),()=>{}),[]),d.jsx(d.Fragment,{children:d.jsxs("section",{className:"sect mnList topic",children:[d.jsx("div",{className:"hbox",children:d.jsx("h3",{className:"stit",children:t.title})}),d.jsx("div",{className:"inr",ref:i,onMouseEnter:()=>i.current.addEventListener("wheel",o),onMouseLeave:()=>i.current.removeEventListener("wheel",o),children:d.jsx("div",{className:"slide",children:d.jsx("ul",{children:e.filter((a,l)=>l<20).map((a,l)=>{const c=`//image.tmdb.org/t/p/w154${a.poster_path}`,u=a.title||a.name;return d.jsx("li",{className:"pbox",children:d.jsxs(at,{className:"box",to:`${t.media}/${a.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${c}`,alt:u,className:"img",onError:B.error.poster})}),d.jsx("div",{className:"info",children:d.jsx(vu,{point:a.vote_average})})]})},l)})})})})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hP="firebasestorage.googleapis.com",vQ="storageBucket",_Q=2*60*1e3,yQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends xr{constructor(e,n,r=0){super(Ym(e),`Firebase Storage: ${n} (${Ym(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Rr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Rr||(Rr={}));function Ym(t){return"storage/"+t}function EQ(){const t="An unknown error occurred, please check the error payload for server response.";return new kr(Rr.UNKNOWN,t)}function SQ(){return new kr(Rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function wQ(){return new kr(Rr.CANCELED,"User canceled the upload/download.")}function TQ(t){return new kr(Rr.INVALID_URL,"Invalid URL '"+t+"'.")}function CQ(t){return new kr(Rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dC(t){return new kr(Rr.INVALID_ARGUMENT,t)}function fP(){return new kr(Rr.APP_DELETED,"The Firebase app was deleted.")}function RQ(t){return new kr(Rr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=rr.makeFromUrl(e,n)}catch{return new rr(e,"")}if(r.path==="")return r;throw CQ(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},g=n===hP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",v=new RegExp(`^https?://${g}/${s}/${E}`,"i"),y=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:v,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<y.length;S++){const w=y[S],x=w.regex.exec(e);if(x){const b=x[w.indices.bucket];let k=x[w.indices.path];k||(k=""),r=new rr(b,k),w.postModify(r);break}}if(r==null)throw TQ(e);return r}}class IQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function h(E){s=setTimeout(()=>{s=null,t(p,l())},E)}function f(){i&&clearTimeout(i)}function p(E,...v){if(c){f();return}if(E){f(),u.call(null,E,...v);return}if(l()||o){f(),u.call(null,E,...v);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,h(y)}let m=!1;function g(E){m||(m=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),h(0)):E||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function NQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bQ(t){return t!==void 0}function hC(t,e,n,r){if(r<e)throw dC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw dC(`Invalid value for '${t}'. Expected ${n} or less.`)}function AQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fh||(Fh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kQ(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(e,n,r,s,i,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new nd(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Fh.NO_ERROR,l=i.getStatus();if(!a||kQ(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Fh.ABORT;r(!1,new nd(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new nd(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());bQ(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=EQ();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?fP():wQ();o(l)}else{const l=SQ();o(l)}};this.canceled_?n(!1,new nd(!1,null,!0)):this.backoffId_=xQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&NQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class nd{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function LQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function OQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function DQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function MQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function jQ(t,e,n,r,s,i,o=!0){const a=AQ(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return DQ(c,e),LQ(c,n),OQ(c,i),MQ(c,r),new PQ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function VQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Uh(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VQ(this._location.path)}get storage(){return this._service}get parent(){const e=$Q(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new Uh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw RQ(e)}}function fC(t,e){const n=e==null?void 0:e[vQ];return n==null?null:rr.makeFromBucketSpec(n,t)}class FQ{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=hP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=_Q,this._maxUploadRetryTime=yQ,this._requests=new Set,s!=null?this._bucket=rr.makeFromBucketSpec(s,this._host):this._bucket=fC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=fC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new IQ(fP());{const o=jQ(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const pC="@firebase/storage",mC="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UQ="storage";function BQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new FQ(n,r,s,e,ei)}function zQ(){qs(new Jr(UQ,BQ,"PUBLIC").setMultipleInstances(!0)),zn(pC,mC,""),zn(pC,mC,"esm2017")}zQ();function gC(){const t=()=>{const e=document.querySelector(".header"),n=parseInt(B.viewport.scrollTop());B.lock.stat||(n>100?e.classList.add("trans"):e.classList.remove("trans"))};return T.useEffect(()=>{window.scrollTo(0,0);const e=document.querySelector(".header");return e.classList.add("home"),window.addEventListener("scroll",t),()=>{e.classList.remove("home"),window.removeEventListener("scroll",t)}},[]),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page home",children:d.jsxs("main",{className:"contents",children:[d.jsx(gQ,{opts:{media:"movie"}}),d.jsx(uC,{opts:{media:"movie",list:"trending/movie/week",cate:"0",title:"Weekly 영화 TOP 20"}}),d.jsx(co,{opts:{media:"movie",list:"discover/movie",cate:"16",title:"영화/애니메이션"}}),d.jsx(co,{opts:{media:"movie",list:"discover/movie",cate:"10402",title:"영화/음악"}}),d.jsx(co,{opts:{media:"movie",list:"discover/movie",cate:"99",title:"영화/다큐멘터리"}}),d.jsx(uC,{opts:{media:"tv",list:"trending/tv/week",cate:"0",title:"Weekly TV TOP 20"}}),d.jsx(co,{opts:{media:"tv",list:"discover/tv",cate:"16",title:"TV/애니메이션"}}),d.jsx(co,{opts:{media:"tv",list:"discover/tv",cate:"10764",title:"TV/Reality"}}),d.jsx(co,{opts:{media:"tv",list:"discover/tv",cate:"80",title:"TV/범죄"}})]})})]})}function vC(){return T.useEffect(()=>()=>{},[]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"container page n404",children:d.jsx("main",{className:"contents",children:"404"})})})}function pP({opts:t}){const e=[];if(t.type=="movie-list")for(let n=0;n<=t.num;n++)e.push(d.jsx("li",{children:d.jsxs("div",{className:"box",children:[d.jsx("div",{className:"cont",children:d.jsx("div",{className:"pics"})}),d.jsx("div",{className:"tits"})]})},n));return t.type=="movie-detail"&&e.push(d.jsxs("div",{className:"m-info skelt",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[d.jsx("p",{className:"tit",children:" "}),d.jsx("p",{className:"sit",children:" "}),d.jsx("p",{className:"tio",children:" "}),d.jsx("div",{className:"star",children:" "}),d.jsx("div",{className:"cate",children:" "}),d.jsxs("ul",{className:"lst",children:[d.jsx("li",{className:"vot",children:" "}),d.jsx("li",{className:"opn",children:" "}),d.jsx("li",{className:"tim",children:" "})]})]}),d.jsx("div",{className:"thum",children:d.jsx("div",{className:"pics"})})]}),d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts"}),d.jsxs("div",{className:"lst",children:[d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]})]})]}),d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts"}),d.jsxs("div",{className:"lst",children:[d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]}),d.jsxs("div",{className:"profile",children:[d.jsx("div",{className:"pics"})," ",d.jsx("div",{className:"name"})," ",d.jsx("div",{className:"carc"})]})]})]})]},"i")),e}function HQ({data:t}){const e=`//image.tmdb.org/t/p/w200/${t.poster_path}`,n=t.title||t.name;return d.jsx(d.Fragment,{children:d.jsxs(at,{className:"box",to:""+t.id,children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${e}`,alt:n,className:"img",onError:ui.error.poster})}),d.jsx("div",{className:"desc",children:d.jsx(vu,{point:t.vote_average})})]}),d.jsx("div",{className:"tits",children:n})]})})}function WQ({menu:t,opts:e}){let n=dn();const[r,s]=T.useState(0),i=a=>{const l=document.querySelector(".cate-box>.inr"),c=l.offsetWidth*.5,u=document.querySelector(".cate-box ul>li .bt.active"),h=u==null?void 0:u.offsetLeft,f=(u==null?void 0:u.offsetWidth)*.5,p=h-c+f;l.scrollTo(p,0),s(a),console.log("slideActive == "+r+"  "+h)},o=n.cate;return T.useEffect(()=>(i(r),()=>{}),[o,r,t,e]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"cate-box "+o,children:d.jsx("div",{className:"inr",children:d.jsxs("ul",{className:"list",children:[d.jsx("li",{"data-index":"0",className:o==="0"?"active":null,children:d.jsx($n,{type:"button",className:"bt",to:`/list/${e}/0`,children:"전체"})}),t.map((a,l)=>d.jsx("li",{"data-index":l+1,cate:a.id,className:a.id.toString()===o?"active":null,children:d.jsxs($n,{type:"button",className:"bt",to:`/list/${e}/${a.id}`,children:[" ",a.name," "]})},a.id))]})})})})}function qQ(){const t=dn(),e=Sn(),n=un(),r=t.menu,s=t.cate;s===void 0&&n(`/${r}/0`),console.log(t,e.pathname);const i=s!=="0"?`&with_genres=${s}`:"";console.log(i);const[o,a]=T.useState([]),[l,c]=T.useState([]);let u=1;const h=async()=>{await Zt.get(`//api.themoviedb.org/3/genre/${r}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(b=>{c(b.data.genres)})},[f,p]=T.useState({pge:0,tot:0}),[m,g]=T.useState(""),[E,v]=T.useState(""),[_,y]=T.useState(""),S=async b=>{const k=`https://api.themoviedb.org/3/discover/${r}?${i}&page=${b}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;await Zt.get(k).then(q=>{console.log(q.data),console.log("로드 "+b),a(O=>[...O,...q.data.results]),console.log(`callStat : ${w} , page : ${b} , res.data.total_pages :  ${q.data.total_pages} `),w=!0,console.log(`callStat : ${w} , page : ${b} , res.data.total_pages :  ${q.data.total_pages} `),y(""),p({pge:q.data.page,tot:q.data.total_pages}),q.data.total_pages<=b?(w=!1,v(" hide")):v(""),g("")}).catch(q=>{console.log(q),w=!0,y(" error")})};console.log(o),T.useEffect(()=>(a([]),window.scrollTo(0,0),S(1),h(),document.querySelector(".header").classList.remove("trans"),window.addEventListener("scroll",x),()=>{window.removeEventListener("scroll",x)}),[s,r]);let w=!0;const x=()=>{const b=B.viewport.height(),k=B.viewport.docHeight(),q=B.viewport.scrollTop()+b+300;if(console.log(w+" =  "+u),k<=q&&w===!0){if(console.log("바닥도착"),g(" active"),w=!1,console.log(w),B.lock.stat){w=!0;return}setTimeout(()=>{u=u+1,S(u)},400)}};return d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page movie list",children:d.jsxs("main",{className:"contents",children:[d.jsx("div",{className:"poster-list",children:o.length?d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"list",children:o.map((b,k)=>d.jsx("li",{"data-id":b.id+"_"+k,children:d.jsx(HQ,{data:b})},b.id+"_"+k))}),d.jsxs("div",{className:`ui-loadmore${m+E+_}`,children:[d.jsx("span",{className:"ui-loading ui-load-glx",children:d.jsxs("span",{className:"gbx",children:[" ",d.jsxs("em",{className:"bx",children:[" ",d.jsx("i",{})," ",d.jsx("i",{}),d.jsx("i",{}),d.jsx("i",{})," "]})," "]})}),d.jsx("button",{onClick:b=>{w=!0,S(u)},type:"button",className:"btn-load",children:d.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]}):d.jsx("ul",{className:"list skelt",children:d.jsx(pP,{opts:{type:"movie-list",num:20}})})}),d.jsx("div",{className:"page-set",children:f.tot>0&&d.jsx("div",{className:"inr",children:d.jsxs("div",{className:"pg",children:[d.jsx("i",{className:"p",children:f.pge})," ",d.jsx("i",{className:"s",children:"/"})," ",d.jsx("i",{className:"t",children:f.tot})]})})})]})}),d.jsx(WQ,{menu:l,opts:r})]})}function GQ({overview:t}){T.useEffect(()=>(e.set(),()=>{}),[]);const e={evt:n=>{const r=n.currentTarget,s=r.closest("[data-ui='elips']"),i=r.querySelector(".btn-tog");s.classList.contains("open")?(i.innerHTML='<span>더보기</span> <i class="fa-solid fa-caret-down"></i>',s.classList.remove("open")):(i.innerHTML='<i class="fa-solid fa-caret-up"></i> <span>숨기기</span>',s.classList.add("open"))},set:n=>{const r=document.querySelector("[data-ui='elips']"),s=r.querySelector(".txt"),i=s.offsetHeight,o=s.scrollHeight;i<o&&r.classList.add("elips")}};return d.jsx("div",{className:"vinf","data-ui":"elips",onClick:e.evt,onKeyUp:n=>n.key==="Enter"?e.evt(n):null,tabIndex:0,children:d.jsxs("div",{className:"txt",children:[t,d.jsxs("span",{className:"btn-tog",children:[d.jsx("span",{children:"더보기"})," ",d.jsx("i",{className:"fa-solid fa-caret-down"})]})]})})}function KQ({postID:t,opts:e}){const[n,r]=T.useState(null),s=`https://api.themoviedb.org/3/${e}/${t}/reviews?api_key=f76021076e8162ea929bd2cea62c6646`,i=()=>{Zt.get(s).then(p=>{console.log("리뷰들",p.data),r(p.data)}).catch(p=>{console.log(p)})},o={evt:p=>{console.log(p.currentTarget);const g=p.currentTarget.closest("[data-ui='elips']");g.classList.contains("open")?g.classList.remove("open"):g.classList.add("open")},set:p=>{document.querySelectorAll(".ut-reply ul.rlist>li .rpset .ment").forEach(g=>{const E=g.offsetHeight,v=g.scrollHeight;E<v?g.closest("[data-ui='elips']").classList.add("elips"):g.closest("[data-ui='elips']").classList.remove("elips")})}},a=T.useRef(""),l=1e3,[c,u]=T.useState(0),h=p=>{const m=p.target;let g;m.style.height="1rem",g=m.scrollHeight,m.style.height=g+"rem";const E=a.current.value;u(B.commas.add(a.current.value.length)),console.log(a.current.value),console.log(a.current.value.length,l),E.length>l&&(m.value=m.value.slice(0,l),u(B.commas.add(a.current.value.length)),B.alert("감상평은 1,000글자 까지 입니다.",{ycb:()=>{}}))},f=()=>{B.alert("준비 중 입니다.",{ycb:()=>{}})};return T.useEffect(()=>(i(),()=>{}),[t]),n?(o.set(),d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"sect revk",id:"writeRev",children:[d.jsx("h4",{className:"tts",children:"리뷰(준비중)"}),d.jsxs("div",{className:"form textarea",children:[d.jsx("textarea",{onInput:h,ref:a,className:"rtext",placeholder:"감상평을 남겨보세요. (최대1000자)"}),d.jsxs("span",{className:"num",children:[d.jsx("i",{className:"i",children:c}),d.jsx("b",{className:"n",children:B.commas.add(l)})]}),d.jsx("div",{className:"bts",children:d.jsxs("button",{type:"button",className:"btn sm btsend",disabled:c<1,onClick:f,children:[d.jsx("i",{className:"fa-regular fa-paper-plane"})," ",d.jsx("em",{children:"등록"})]})})]})]}),n.results.length?d.jsx("div",{className:"sect revw",children:d.jsx("div",{className:"ut-reply",children:d.jsx("div",{className:"rplist",children:d.jsx("ul",{className:"rlist a",children:n.results&&n.results.map((p,m)=>{const E="//image.tmdb.org/t/p/w45_and_h45_face/"+(p.author_details.avatar_path||""),v=p.content.replace(/\n/g,"<br>");return d.jsx("li",{children:d.jsxs("div",{className:"rpset",children:[d.jsx("div",{className:"user",children:d.jsx("span",{className:"pic",children:d.jsx("img",{src:E,alt:"사진",className:"img",onError:B.error.user})})}),d.jsxs("div",{className:"infs",children:[d.jsx("div",{className:"name",children:d.jsx("em",{className:"nm",children:p.author_details.name||p.author_details.username})}),d.jsx("div",{className:"desc",children:d.jsx("em",{className:"time",children:B.dateForm(new Date(p.created_at))})}),d.jsx("div",{"data-ui":"elips",className:"mbox",children:d.jsx("div",{className:"ment txt",onClick:o.evt,dangerouslySetInnerHTML:{__html:v}})})]})]})},m)})})})})}):null]})):d.jsx("div",{children:"Loading..."})}function QQ({datas:t,postID:e,opts:n}){const r=dn(),s=un(),i=()=>{const f=`${location.origin+location.pathname}#/${r.menu}/${e}`;navigator.clipboard.writeText(f);const p=t.title||t.name;navigator.share?navigator.share({title:p,text:p+" 를 공유합니다.",url:f}).then(()=>{console.log("공유 성공")}).catch(m=>{console.error("공유 실패:",m)}):(B.alert(`<b>${p}</b><br> URL 주소를 복사했습니다 <br> <a class="under" href="${f}" target="_blank">${f}</a>`),console.log("Web Share API를 지원하지 않습니다."))};T.useState();const o=async f=>{const p=f.currentTarget,m=p.classList.contains("on");if(console.log(m),store.state.userInfo.stat==!0){B.loading.show("glx");const g=li(ci,"member",store.state.userInfo.uid);let E=[];n=="movie"&&(E=l.tmdb_movie_scrap||[t]),n=="tv"&&(E=l.tmdb_tv_scrap||[t]),u?(h(!1),E=[...E,t].filter(v=>v.id!=e)):(h(!0),E=[...E,t].filter((v,_,y)=>y.findIndex(S=>S.id===v.id)===_)),n=="movie"&&await Ah(g,{tmdb_movie_scrap:E}).then(()=>{console.log("Movie 스크랩: ",t,p),B.loading.hide()}).catch(v=>{console.error(v),B.loading.hide()}),n=="tv"&&await Ah(g,{tmdb_tv_scrap:E}).then(()=>{console.log("TV 스크랩: ",t,p),B.loading.hide()}).catch(v=>{console.error(v),B.loading.hide()})}else B.confirm("로그인이 필요합니다.<br>로그인페이지로 이동하시겠습니까? ",{ycb:()=>{s("/user/signin")},ncb:()=>{}})},a=f=>{const p=!!f.target.closest(".poptents");console.log(`isPop ${p}`);const m=p?".popup.movie.view>.pbd>.pct":"body,html",E=document.querySelector("#writeRev").offsetTop;console.log(E),B.scrollTo(m,E,100,200,()=>{console.log("도착")})},[l,c]=T.useState({}),[u,h]=T.useState("");return T.useEffect(()=>(kk().then(f=>(console.log(f),c(f),f)).then(f=>{var p,m;h(((p=f.tmdb_movie_scrap)==null?void 0:p.some(g=>g.id==e))||((m=f.tmdb_tv_scrap)==null?void 0:m.some(g=>g.id==e)))}),()=>{}),[u]),d.jsx(d.Fragment,{children:d.jsxs("div",{className:"dins",children:[d.jsxs("button",{type:"button",onClick:o,className:`bt bt-scrap ${u?"on":"off"}`,children:[d.jsx("i",{className:"fa-regular fa-bookmark"}),d.jsx("em",{children:"스크랩"})]}),d.jsxs("button",{type:"button",onClick:a,className:"bt bt-reply",children:[d.jsx("i",{className:"fa-regular fa-pen-to-square"}),d.jsx("em",{children:"리뷰"})]}),d.jsxs("button",{type:"button",onClick:i,className:"bt bt-shar",children:[d.jsx("i",{className:"fa-regular fa-share-nodes"}),d.jsx("em",{children:"공유하기"})]})]})})}function YQ({opts:t}){return d.jsxs(d.Fragment,{children:[t.type=="glx"&&d.jsx("span",{className:`ui-loading ui-load-glx full ${t.cls}`,children:d.jsx("span",{className:"gbx",children:d.jsxs("em",{className:"bx",children:[d.jsx("i",{})," ",d.jsx("i",{}),d.jsx("i",{})," ",d.jsx("i",{})]})})}),t.type=="dot"&&d.jsx("span",{className:`ui-loading ui-loading-dot ${t.cls}`,children:d.jsx("div",{class:"bx",children:d.jsx("em",{children:d.jsx("i",{})})})})]})}function mP({postID:t,popTitle:e}){const n=dn(),r=n.menu,[s,i]=T.useState(null),[o,a]=T.useState(null),[l,c]=T.useState(null),[u,h]=T.useState(""),f=`https://api.themoviedb.org/3/${r}/${t}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,p=()=>{Zt.get(f).then(y=>{console.log("영화정보",y.data),i(y.data);let S=y.data.backdrop_path?y.data.backdrop_path:y.data.poster_path;h("https://image.tmdb.org/t/p/w780"+S),e(y.data.title||y.data.name),document.querySelector('[property="og:description"]').content=y.data.title||y.data.name}).catch(y=>{console.log(y)})},m=`https://api.themoviedb.org/3/${r}/${t}/credits?&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,g=()=>{Zt.get(m).then(y=>{console.log("출연,제작",y.data),a(y.data)}).catch(y=>{console.log(y)})},E=`https://api.themoviedb.org/3/${r}/${t}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,v=()=>{Zt.get(E).then(y=>{console.log("영상",y.data),c(y.data)}).catch(y=>{console.log(y)})},_=y=>{const S=y.currentTarget.closest(".sect").querySelector(".lst"),x=y.currentTarget.classList.contains("next")?1:-1,b=(S.offsetWidth-100)*x;console.log(b,S,x),S.scrollLeft+=b};return T.useEffect(()=>(p(),g(),v(),()=>{}),[n.id]),d.jsx(d.Fragment,{children:d.jsxs("div",{className:"movie-detail",children:[d.jsx("div",{className:"bgs",style:{backgroundImage:`url(${u})`}}),!s||!o||!l?d.jsx(pP,{opts:{type:"movie-detail"}}):d.jsxs("div",{className:"m-info",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[s.title&&d.jsx("p",{className:"tit",children:s.title}),s.tagline&&d.jsx("p",{className:"sit",children:s.tagline}),s.original_title&&d.jsx("p",{className:"tio",children:s.original_title}),s.name&&d.jsx("p",{className:"tit",children:s.name}),s.original_name&&d.jsx("p",{className:"tio",children:s.original_name}),d.jsx("div",{className:"star",children:d.jsx(vu,{point:s.vote_average})}),d.jsx("div",{className:"cate",children:s.genres.map(y=>d.jsxs("em",{className:"ico",children:[" ",y.name]},y.id))}),d.jsxs("ul",{className:"lst",children:[d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-thumbs-up"})," ",d.jsx("b",{children:"평점"})," : ",s.vote_average," / 10"]}),s.release_date&&d.jsxs("li",{className:"opn",children:[d.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",d.jsx("b",{children:"개봉"})," : ",s.release_date]}),s.first_air_date&&d.jsxs("li",{className:"opn",children:[d.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",s.first_air_date," ~ ",s.last_air_date]}),s.runtime&&d.jsxs("li",{className:"tim",children:[d.jsx("i",{className:"fa-regular fa-timer"})," ",d.jsx("b",{children:"시간"})," : ",s.runtime," 분"]}),s.number_of_seasons&&d.jsxs("li",{className:"tim",children:[d.jsx("i",{className:"fa-regular fa-timer"})," ",d.jsx("b",{children:"시즌"})," : ",s.number_of_seasons,"개  - ",d.jsx("b",{children:"에피소드"})," : ",s.number_of_episodes,"개"]}),s.homepage&&d.jsxs("li",{className:"web",children:[d.jsx("i",{className:"fa-regular fa-globe"})," ",d.jsx("a",{className:"lk",href:s.homepage,target:"_blank",rel:"noopener noreferrer",children:s.homepage})]})]})]}),d.jsx("div",{className:"thum",children:d.jsx(at,{to:"./poster/0",className:"pics",children:d.jsx("img",{src:"//image.tmdb.org/t/p/w300"+s.poster_path,alt:s.title||s.name,className:"img",onError:B.error.poster})})})]}),d.jsx(QQ,{datas:s,postID:t,opts:r}),s.overview&&d.jsx(GQ,{overview:s.overview}),o.cast.length?d.jsxs("div",{className:"sect cast",children:[d.jsxs("div",{className:"hbox",children:[d.jsx("h4",{className:"tts",children:"출연진"}),d.jsxs("div",{className:"bt-nav",children:[d.jsx("button",{type:"button",className:"bt prev",onClick:_,children:d.jsx("i",{className:"fa-solid fa-caret-left"})}),d.jsx("button",{type:"button",className:"bt next",onClick:_,children:d.jsx("i",{className:"fa-solid fa-caret-right"})})]})]}),d.jsx("div",{className:"lst",children:o.cast.filter((y,S)=>S<999).map(y=>d.jsxs(at,{to:`./person/${y.id}`,className:"profile",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w92${y.profile_path}`,alt:y.name,className:"img",onError:B.error.user,loading:"lazy"})}),d.jsx("div",{className:"name",children:y.name}),d.jsx("div",{className:"carc",children:y.character})]},y.credit_id))})]}):null,l.results.length>0?d.jsxs("div",{className:"sect movs",children:[d.jsxs("div",{className:"hbox",children:[d.jsx("h4",{className:"tts",children:"영상"}),d.jsxs("div",{className:"bt-nav",children:[d.jsx("button",{type:"button",className:"bt prev",onClick:_,children:d.jsx("i",{className:"fa-solid fa-caret-left"})}),d.jsx("button",{type:"button",className:"bt next",onClick:_,children:d.jsx("i",{className:"fa-solid fa-caret-right"})})]})]}),d.jsx("div",{className:"lst",children:l.results.filter((y,S)=>S<100).reverse().map((y,S)=>d.jsx("div",{className:"box",children:d.jsxs(at,{to:`./videos/${S+1}`,className:"pic",children:[d.jsx("span",{className:"msg",children:d.jsx("span",{className:"tit",children:y.name})}),d.jsx("i",{className:"ico fa-solid fa-play"}),d.jsx("img",{className:"img",src:`//i.ytimg.com/vi/${y.key}/hqdefault.jpg`,alt:y.name,loading:"lazy"})]})},y.id))})]}):null,o.crew.length?d.jsxs("div",{className:"sect cast",children:[d.jsxs("div",{className:"hbox",children:[d.jsx("h4",{className:"tts",children:"제작진"}),d.jsxs("div",{className:"bt-nav",children:[d.jsx("button",{type:"button",className:"bt prev",onClick:_,children:d.jsx("i",{className:"fa-solid fa-caret-left"})}),d.jsx("button",{type:"button",className:"bt next",onClick:_,children:d.jsx("i",{className:"fa-solid fa-caret-right"})})]})]}),d.jsx("div",{className:"lst",children:o.crew.filter((y,S)=>S<999).map(y=>d.jsxs(at,{to:`./person/${y.id}`,className:"profile",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w92${y.profile_path}`,alt:y.name,className:"img",onError:B.error.user,loading:"lazy"})}),d.jsx("div",{className:"name",children:y.name}),d.jsx("div",{className:"carc",children:y.known_for_department})]},y.credit_id))})]}):null,s.images.posters.length?d.jsxs("div",{className:"sect post",children:[d.jsxs("div",{className:"hbox",children:[d.jsxs("h4",{className:"tts",children:["포스터 : ",s.images.posters.length+1]}),d.jsxs("div",{className:"bt-nav",children:[d.jsx("button",{type:"button",className:"bt prev",onClick:_,children:d.jsx("i",{className:"fa-solid fa-caret-left"})}),d.jsx("button",{type:"button",className:"bt next",onClick:_,children:d.jsx("i",{className:"fa-solid fa-caret-right"})})]})]}),d.jsxs("div",{className:"lst",children:[d.jsx("div",{className:"box","data-index":0,children:d.jsx(at,{to:"./poster/0",className:"pic",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w300${s.poster_path}`,alt:s.title,className:"img",onError:B.error.poster,loading:"lazy"})})}),s.images.posters.map((y,S)=>d.jsx("div",{className:"box","data-index":S+1,children:d.jsx(at,{to:`./poster/${S+1}`,className:"pic",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w300${y.file_path}`,alt:y.name,className:"img",onError:B.error.poster,loading:"lazy"})})},S))]})]}):null,d.jsx(KQ,{postID:t,opts:r}),s.production_companies.length?d.jsx(d.Fragment,{children:d.jsx("div",{className:"sect comp",children:s.production_companies.map(y=>y.logo_path?d.jsx("span",{className:"logo",children:d.jsx("img",{src:`//image.tmdb.org/t/p/w92${y.logo_path}`,alt:y.name,className:"img"})},y.id):d.jsx("span",{className:"logo",children:y.name},y.id))})}):null]})]})})}function rd({prop:t}){let e=dn(),n=un();t.page=t.page||"page";const r=e.id,[s,i]=T.useState(0),o=m=>i(parseInt(m.target.scrollTop)),a=()=>t.page==="list"||t.page==="search"||t.page==="home",l=()=>B.scrollTo(".popup.movie .pct",0,200);T.useEffect(()=>(B.loading.show("glx"),l(),u(),window.addEventListener("resize",u),c.current.classList.add("ani","on"),B.lock.using(!0),()=>{window.removeEventListener("resize",u),console.log("컴포넌트가 화면에서 사라짐"),B.lock.using(!1)}),[e.id]);const c=T.useRef(),u=()=>{const m=c.current,g=m.offsetHeight,E=m.querySelector(".phd").offsetHeight;console.log(g,E),m.querySelector(".pct").style.height=g-E+"px"},[h,f]=T.useState(""),p=m=>f(m);return h&&setTimeout(()=>B.loading.hide(),500),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("article",{ref:c,className:`pop-layer a bottom popup movie view ${a()?"":"page"} `,children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:`phd ${s>50?"trans":""}`,children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:h})})}),a()?d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{n(-1)},children:d.jsx("i",{className:"fa-regular fa-arrow-left"})}):d.jsx("button",{type:"button",className:"btn-pop-close home",onClick:()=>{n("/home/")},children:d.jsx("i",{className:"fa-solid fa-house"})}),d.jsx("div",{className:"pct",onScroll:o,children:d.jsx("main",{className:"poptents",children:d.jsx(mP,{postID:r,popTitle:p})})}),d.jsx("div",{className:`floatpop ${s>50?"on-top":""}`,children:d.jsxs("button",{type:"button",className:"bt top",onClick:l,children:[d.jsx("i",{className:"fa-solid fa-arrow-up"}),d.jsx("em",{children:"위로"})]})})]})})]})}function XQ(){const e=dn().id;return T.useEffect(()=>(window.scrollTo(0,0),()=>{}),[]),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page detail",children:d.jsx("main",{className:"contents",children:d.jsx(mP,{postID:e})})})]})}function rl({prop:t}){let e=un(),n=dn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var y,S;let g=document.querySelector(".popup.poster"),E=g.offsetHeight||0,v=((y=g.querySelector(".pbt"))==null?void 0:y.offsetHeight)||0,_=((S=g.querySelector(".phd"))==null?void 0:S.offsetHeight)||0;E=E-_||0,console.log(E),g.querySelector(".pct").style.maxHeight=E-v+"px"},[o,a]=T.useState(null),[l,c]=T.useState(""),[u,h]=T.useState(""),f=()=>o.images.posters.length>1,p=`https://api.themoviedb.org/3/${r}/${s}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,m=()=>{Zt.get(p).then(g=>{console.log("영화정보",g.data),a(g.data);let E=g.data.poster_path?g.data.poster_path:g.data.backdrop_path;c("//image.tmdb.org/t/p/w780"+E),h(g.data.title||g.data.name)}).catch(g=>{console.log(g)})};return T.useEffect(()=>(console.log(document.querySelector(".popup.poster .pct").offsetHeight),m(),i(),window.addEventListener("resize",i),document.querySelector(".popup.poster").classList.add("ani","on"),B.lock.using(!0),()=>{window.removeEventListener("resize",i),B.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer c bottom popup poster",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:u})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsx("main",{className:"poptents",children:d.jsx("div",{className:"poster-box",children:o&&o.images.posters?d.jsxs(gu,{className:"swiper-wrapper swiper slide",modules:[Tp,Cp,Rp,xp,rP,Ip],spaceBetween:20,slidesPerView:1,loop:f(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},autoHeight:!0,onSwiper:g=>{console.log("initialize swiper",g),g.slideToLoop(n.nums,0)},onSlideChange:()=>{},children:[d.jsx(zs,{tag:"li",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsx("img",{src:l,className:"img",alt:`${u}_Poster[1]`,onError:B.error.poster,loading:"lazy"}),d.jsx("div",{className:"lazy-preloader",children:d.jsx("i",{className:"fa-duotone fa-spinner"})})]})})}),o.images.posters.map((g,E)=>{const v=`//image.tmdb.org/t/p/w780${g.file_path}`;return d.jsx(zs,{tag:"li",className:"swiper-slide pbox",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsx("img",{src:`${v}`,alt:`${u}_Poster[${E+2}]`,className:"img",onError:B.error.poster,loading:"lazy"}),d.jsx("div",{className:"lazy-preloader",children:d.jsx("i",{className:"fa-duotone fa-spinner"})})]})})},E)})]}):null})})})]})})})}function sl(){let t=dn(),e=un();const n=t.opts;console.log(t);const r=t.nums,s=()=>{var w,x;let v=document.querySelector(".popup.person"),_=v.offsetHeight||0,y=((w=v.querySelector(".pbt"))==null?void 0:w.offsetHeight)||0,S=((x=v.querySelector(".phd"))==null?void 0:x.offsetHeight)||0;_=_-S||0,v.querySelector(".pct").style.maxHeight=_-B.getSafe.top()-B.getSafe.watch()-y-10+"px",console.log(_)},[i,o]=T.useState(null),[a,l]=T.useState(null),[c,u]=T.useState(null),h=`https://api.themoviedb.org/3/person/${r}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,f=()=>{Zt.get(h).then(v=>{console.log("인물 정보",v.data),o(v.data)}).catch(v=>{console.log(v)})},p=`https://api.themoviedb.org/3/person/${r}/movie_credits?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,m=()=>{Zt.get(p).then(v=>{console.log("인물 출연작",v.data),l(v.data)}).catch(v=>{console.log(v)})},g=`https://api.themoviedb.org/3/person/${r}/images?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,E=()=>{Zt.get(g).then(v=>{console.log("인물 사진",v.data),u(v.data)}).catch(v=>{console.log(v)})};return T.useEffect(()=>(console.log(document.querySelector(".popup.person .pct").offsetHeight),f(),m(),E(),s(),window.addEventListener("resize",s),document.querySelector(".popup.person").classList.add("ani","on"),B.lock.using(!0),()=>{window.removeEventListener("resize",s),B.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer c bottom popup person",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit"})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsxs("main",{className:"poptents",children:[!i&&!a&&!c&&d.jsx("div",{className:"m-info",children:d.jsx(YQ,{opts:{type:"glx",cls:"abs"}})}),i&&a&&c&&d.jsxs("div",{className:"m-info",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[i.title&&d.jsx("p",{className:"tit",children:i.title}),i.original_title&&d.jsx("p",{className:"tio",children:i.original_title}),i.name&&d.jsx("p",{className:"tit",children:i.name}),i.known_for_department&&d.jsx("p",{className:"tio",children:i.known_for_department}),i.original_name&&d.jsx("p",{className:"tio",children:i.original_name}),d.jsxs("ul",{className:"lst",children:[i.birthday&&d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"}),"  ",i.birthday]}),i.place_of_birth&&d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-location-dot"}),"  ",i.place_of_birth]}),d.jsxs("li",{className:"vot",children:[" ",d.jsx("i",{className:"fa-regular fa-star"})," ",i.popularity," / 100 "]}),i.homepage&&d.jsxs("li",{className:"web",children:[d.jsx("i",{className:"fa-regular fa-globe"})," ",d.jsx("a",{className:"lk",href:i.homepage,target:"_blank",rel:"noopener noreferrer",children:i.homepage})]})]})]}),d.jsx("div",{className:"thum",children:d.jsx("div",{className:"pics",children:d.jsx("img",{src:`https://image.tmdb.org/t/p/w780${i.profile_path}`,alt:i.title,className:"img",onError:v=>{v.target.src="./img/common/user.png"}})})})]}),a.cast.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"출연작 "}),d.jsx("div",{className:"lst",children:a.cast.map((v,_)=>d.jsx("div",{className:"box","data-index":_+1,children:d.jsx(at,{to:`/movie/${v.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+v.poster_path,alt:v.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},_))})]}):null,a.crew.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"제작참여 "}),d.jsx("div",{className:"lst",children:a.crew.map((v,_)=>d.jsx("div",{className:"box","data-index":_+1,children:d.jsx(at,{to:`/movie/${v.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+v.poster_path,alt:v.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},_))})]}):null,c.profiles.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"사진 "}),d.jsx("div",{className:"lst",children:c.profiles.map((v,_)=>d.jsx("div",{className:"box","data-index":_+1,children:d.jsx("div",{to:`/list/${n}/0/${v.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+v.file_path,alt:v.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},_))})]}):null]})]})})]})})})}function il({prop:t}){let e=un(),n=dn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var g,E;let h=document.querySelector(".popup.videos"),f=h.offsetHeight||0,p=((g=h.querySelector(".pbt"))==null?void 0:g.offsetHeight)||0,m=((E=h.querySelector(".phd"))==null?void 0:E.offsetHeight)||0;f=f-m||0,console.log(f),h.querySelector(".pct").style.maxHeight=f-p+"px"},[o,a]=T.useState(null),l=()=>o.results.length>1,c=`https://api.themoviedb.org/3/${r}/${s}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,u=()=>{Zt.get(c).then(h=>{console.log("영상",h.data),a(h.data)}).catch(h=>{console.log(h)})};return T.useEffect(()=>(console.log(document.querySelector(".popup.videos .pct").offsetHeight),u(),i(),window.addEventListener("resize",i),document.querySelector(".popup.videos").classList.add("ani","on"),B.lock.using(!0),()=>{window.removeEventListener("resize",i),B.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer b bottom popup videos",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:(o==null?void 0:o.title)||(o==null?void 0:o.name)})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsx("main",{className:"poptents",children:d.jsx("div",{className:"videos-box",children:o&&o.results.length?d.jsx(gu,{className:"swiper-wrapper swiper slide",modules:[Tp,Cp,Rp,xp,rP,Ip],spaceBetween:20,slidesPerView:1,navigation:!0,loop:l(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},observeParents:!0,observeSlideChildren:!0,observer:!0,wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},onSwiper:h=>{console.log("initialize swiper",h),h.slideTo(n.nums,0)},onSlideChange:()=>{},children:o.results.filter((h,f)=>f<100).reverse().map((h,f)=>d.jsx(zs,{tag:"li",className:"swiper-slide pbox",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsxs("span",{className:"ui-load-glx full",children:[" ",d.jsxs("span",{className:"gbx",children:[" ",d.jsxs("em",{className:"bx",children:[" ",d.jsx("i",{})," ",d.jsx("i",{})," ",d.jsx("i",{})," ",d.jsx("i",{})," "]})," "]})," "]}),d.jsx("iframe",{className:"iframe",title:h.name,src:"//www.youtube.com/embed/"+h.key,allow:"autoplay; encrypted-media",allowFullScreen:!0,loading:"lazy"})]})})},f))}):null})})})]})})})}function JQ({data:t,cate:e}){const n="//image.tmdb.org/t/p/w200",r=n+t.poster_path,s=t.backdrop_path?n+t.backdrop_path:n+t.poster_path,i=t.title||t.name;return d.jsx(d.Fragment,{children:d.jsxs(at,{className:"box",to:`${t.id}`,children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${r}`,alt:i,onError:ui.error.poster,className:"img"})}),d.jsxs("div",{className:"desc",children:[d.jsx("div",{className:"tits",children:i}),d.jsx("div",{className:"text",children:t.overview})]})]}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"dd",children:d.jsx("div",{className:"cate",children:d.jsx("span",{className:"txt",children:t.genre_ids.map(o=>d.jsxs("em",{className:"ico",children:[" ",e[o]," "]},o))})})}),d.jsxs("div",{className:"dd",children:[d.jsxs("div",{className:"hits",children:[d.jsx(vu,{point:t.vote_average}),d.jsxs("em",{children:[d.jsx("i",{className:"fa-regular fa-heart"})," ",d.jsx("b",{children:t.vote_average})]})]}),d.jsxs("div",{className:"date",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," ",d.jsx("b",{children:t.release_date||t.first_air_date})]})]})]}),d.jsx("div",{className:"bgs",style:{backgroundImage:`url(${s})`}})]})})}function _C(){var M;const[t]=tM(),n=dn().menu,[r,s]=T.useState(t.get("search")),[i,o]=T.useState([]);let a=1;const[l,c]=T.useState({}),u=async()=>{await Zt.get(`https://api.themoviedb.org/3/genre/${n}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(D=>{const W={};D.data.genres.forEach(ie=>W[ie.id]=ie.name),c(W)}).catch(D=>{console.log(D),c(null)})},[h,f]=T.useState({pge:0,tot:0}),[p,m]=T.useState(""),[g,E]=T.useState(""),[v,_]=T.useState(""),y=T.useRef(),S=(D,W)=>{console.log("검색어 "+r),console.log("로드 "+D),y.current.value=r,W=r||"";const ie=`https://api.themoviedb.org/3/search/${n}?language=ko&region=kr&page=${D}&query=${W}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(ie).then(R=>{console.log(R.data),o(j=>[...j,...R.data.results]),console.log(D+"=== "+R.data.total_pages),w=!0,console.log(w),B.loading.hide(),f({pge:R.data.page,tot:R.data.total_pages}),R.data.total_pages<=D?(w=!1,E("hide")):E(""),m("")}).catch(R=>{console.log(R),B.loading.hide(),_("error")})};T.useEffect(()=>(u(),B.loading.show("glx"),S(a),document.querySelector(".header").classList.add("hide"),o([]),!r&&!document.querySelector(".pop-layer")&&y.current.focus(),window.addEventListener("scroll",x),window.scrollTo(0,0),re(),()=>{document.querySelector(".header").classList.remove("hide"),window.removeEventListener("scroll",x)}),[r,n]);let w=!0;const x=()=>{const D=B.viewport.height(),W=B.viewport.docHeight(),ie=B.viewport.scrollTop()+D+10;if(console.log(w+" =  "+a),W<=ie&&w===!0){if(console.log("바닥도착"),m("active"),w=!1,B.lock.stat){w=!0;return}setTimeout(()=>{a=a+1,S(a)},400)}},b=D=>{var W,ie,R;s((W=y.current)==null?void 0:W.value),window.history.replaceState(null,null,`#/search/${n}?search=${(ie=y.current)==null?void 0:ie.value}`),o([]),S(1),D.preventDefault(),H((R=y.current)==null?void 0:R.value)},k=D=>{y.current.value=D,s(D),window.history.replaceState(null,null,`#/search/${n}?search=${D}`),new URL(window.location).searchParams.set("search",D)},q=D=>{s(D.target.value),o([]);const W=new URL(window.location);W.searchParams.set("search",D.target.value),console.log(W),window.history.replaceState(null,null,`#/search/${n}?search=${D.target.value}`)},O=T.useRef(),P=T.useRef(),[N,A]=T.useState([]),H=D=>{const W=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]');D.trim()!==""&&W.unshift(D);const ie=[...new Set(W)].slice(0,10);localStorage.setItem("keyword",JSON.stringify(ie)),A(ie)},re=()=>{const D=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]');A(D)},Ee=D=>{const W=N.filter(ie=>ie!==D);localStorage.setItem("keyword",JSON.stringify(W)),A(W),setTimeout(()=>y.current.focus())},we=()=>{y.current.value="",y.current.focus(),s(""),window.history.replaceState(null,null,`#/search/${n}?search=`)};return console.log((M=y.current)==null?void 0:M.value),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page movie search",children:d.jsxs("main",{className:"contents",children:[d.jsx("div",{className:"schs-form",ref:P,children:d.jsx("div",{className:"inr",children:d.jsxs("form",{className:"form",onSubmit:b,children:[d.jsxs("div",{className:"bts",children:[d.jsx($n,{className:"bt",to:`/search/movie?search=${r}`,children:"Movie"}),d.jsx($n,{className:"bt",to:`/search/tv?search=${r}`,children:"TV"})]}),d.jsxs("span",{className:"input",children:[d.jsx("input",{type:"text",placeholder:"검색어를 입력하세요.",ref:y,required:!0,maxLength:12,onChange:q,onInvalid:D=>D.preventDefault()}),d.jsx("button",{type:"button",className:"bt-del",title:"삭제",onClick:we,children:d.jsx("i",{className:"fa-regular fa-xmark"})})]}),d.jsx("button",{type:"submit",className:"bt-sch",title:"검색",children:d.jsx("i",{className:"fa-regular fa-search"})})]})})}),N.length>0&&d.jsx("div",{className:"recent-kwds",ref:O,children:d.jsx("ul",{className:"lst",children:N.map(D=>d.jsxs("li",{children:[d.jsx("button",{className:"kwd",type:"button",onClick:()=>k(D),children:D}),d.jsx("button",{className:"del",type:"button",onClick:()=>Ee(D),children:d.jsx("i",{className:"fa-regular fa-xmark"})})]},D))})}),d.jsx("div",{className:"movie-list",tabIndex:"-1",children:i.length<=0?d.jsxs("div",{className:"nodata",children:[d.jsx("i",{className:"fa-solid fa-file-magnifying-glass"}),r?d.jsxs("p",{children:[" ‟",r,"” 검색 결과가 없습니다."]}):d.jsx("p",{children:" 검색어를 입력하세요."})]}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"list",children:i.map((D,W)=>d.jsx("li",{"data-id":D.id+"_"+W,children:d.jsx(JQ,{data:D,cate:l})},D.id+"_"+W))}),i.length>0&&d.jsxs("div",{className:`ui-loadmore ${p} ${g}  ${v}`,children:[d.jsx("em",{children:d.jsx("i",{className:"fa-duotone fa-spinner"})}),d.jsx("button",{onClick:D=>{w=!0,S(a,D)},type:"button",className:"btn-load",title:"불러오기",children:d.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]})}),d.jsx("div",{className:"page-set",children:i.length>0&&d.jsx("div",{className:"inr",children:d.jsxs("div",{className:"pg",children:[d.jsx("i",{className:"p",children:h.pge})," ",d.jsx("i",{className:"s",children:"/"})," ",d.jsx("i",{className:"t",children:h.tot})]})})})]})})]})}function ZQ(){let t=dn();console.log(t),Sn();let e=un();t.menu;const n={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/missing-email":"정확한 이메일을 입력하세요","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},r=T.useRef(),s=T.useRef(),i=T.useRef(),o=async()=>{const u=r.current.value,h=s.current.value,f=es();B.loading.show("glx"),console.log(u,h,f),await zS(f,u,h).then(p=>{const m=p.user;console.log(m.email),B.loading.hide(),B.alert(`${m.email}<br> 로그인 성공!`,{ycb:()=>{e("/")}})}).catch(p=>{console.log(p.code,p);const m=n[p.code];B.loading.hide(),B.alert(m,{tit:"로그인 실패"})}),i.current.checked==!1&&k$(f,py).then(()=>zS(f,u,h)).catch(p=>{const m=p.code,g=p.message;console.log(m,"====",g)})},a=es(),l=()=>{const u=i.current.checked;if(console.log(u),u){const h=`
        자동로그인을 사용하시면<br> 
        다음부터 회원아이디와 비밀번호를<br>
        입력하실 필요가 없습니다.<br><br>
        공공장소에서는 개인정보가 유출될 수 있으니 사용을 자제하여 주십시오.<br><br>
        자동로그인을 사용하시겠습니까?
      `;B.confirm(h,{tit:"로그인 설정",ycb:()=>{i.current.checked=!0},ncb:()=>{i.current.checked=!1},ybt:"예",nbt:"아니오"})}},c=async(u,h)=>{await L0(li(ci,"member",u.uid),{id:u.uid,email:u.email||u.providerData.email,nick:u.displayName,avatar:null,photoURL:u.photoURL,liked:[],date:new Date}).then(()=>{console.log("멤버 생성: ")}).catch(f=>{console.error("멤버 생성 Error : ",f)})};return T.useEffect(()=>(window.scrollTo(0,0),$x(a).then(u=>{u.user&&(console.log("Google 로그인 성공:",u.user),c(u.user),e("/"))}).catch(u=>{console.log("Google 로그인 실패:"),console.log(u)}),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page user sign in",children:d.jsx("main",{className:"contents",children:d.jsx("div",{className:"sign-form",children:d.jsxs("div",{className:"eml form",children:[d.jsx("div",{className:"tit",children:d.jsx("em",{className:"t",children:"Email 계정 로그인"})}),d.jsxs("ul",{className:"list",children:[d.jsx("li",{children:d.jsx("div",{className:"dd",children:d.jsx("span",{className:"input",children:d.jsx("input",{type:"email",ref:r,placeholder:"이메일 (user@test.com)"})})})}),d.jsx("li",{children:d.jsx("div",{className:"dd",children:d.jsx("span",{className:"input",children:d.jsx("input",{type:"password",ref:s,placeholder:"비밀번호 (123456)"})})})})]}),d.jsxs("div",{className:"savelogin",children:[d.jsxs(at,{className:"bt",to:"/user/signup",children:["회원가입하러 가기 ",d.jsx("i",{className:"fa-regular fa-chevron-right"})]}),d.jsxs("label",{className:"checkbox",children:[d.jsx("input",{type:"checkbox",ref:i,onChange:l}),d.jsx("span",{className:"txt",children:"자동 로그인"})]})]}),d.jsx("div",{className:"btsbox btn-set",children:d.jsxs("button",{type:"button",className:"btn",onClick:o,children:[d.jsx("i",{className:"fa-regular fa-right-to-bracket"}),d.jsx("em",{children:"로그인"})]})})]})})})})]})}function eY(){let t=dn();console.log(t),Sn();let e=un();t.menu;const n=es(),r=new $r,s=async(i,o)=>{await L0(li(ci,"member",i.uid),{id:i.uid,email:i.email,nick:i.displayName,avatar:0,liked:[],date:new Date}).then(()=>{B.loading.show(),console.log("멤버 생성: "),e(o)}).catch(a=>{console.error("멤버 생성 Error : ",a)})};return T.useEffect(()=>(oV(n,r),$x(n).then(i=>{i.user&&(console.log("Google 로그인 성공:",i.user),s(i.user,"/"),e(-1))}).catch(i=>{console.error("Google 로그인 실패:",i)}),()=>{})),d.jsx(d.Fragment,{children:d.jsx("div",{className:"container page user sign in",children:d.jsx("main",{className:"contents",children:"ssssssssssssss"})})})}function tY(){let t=un();T.useRef(),T.useRef(),T.useRef();const e=async()=>{const n=es();O$(n).then(()=>{t("/")}).catch(r=>{console.log(r)})};return T.useEffect(()=>(window.scrollTo(0,0),e(),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page user sign out",children:d.jsx("main",{className:"contents"})})]})}function nY(){let t=dn();Sn();let e=un();t.menu;const[n,r,s,i]=[T.useRef(),T.useRef(),T.useRef(),T.useRef()],o={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},[a,l]=T.useState({isMail:!1,isPwds:!1,isNick:!1});console.log(a);const c=h=>{const f={mail:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,pass:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,15}$/,nick:/^[a-zA-Z0-9가-힣]{1,15}$/};switch(h.name){case"email":l(p=>({...p,isMail:f.mail.test(h.value)}));break;case"password":l(p=>({...p,isPwds:f.pass.test(h.value)}));break;case"nickname":l(p=>({...p,isNick:f.nick.test(h.value)}));break}},u={joinReq:async()=>{console.log(document.querySelector('[name="avatar"]:checked').value),console.log(n.current.value),console.log(r.current.value),console.log(s.current.value),B.loading.show();const h=n.current.value,f=r.current.value,p=es();b$(p,h,f).then(m=>{const g=m.user;console.log(g),console.log("uid : "+g.uid),console.log("액세스토큰: "+g.accessToken);const E="/";u.addMember(g,E)}).catch(m=>{B.loading.hide(),console.log(m.code);const g=o[m.code];B.alert(g)}),await A$(user).then(()=>{B.alert(`[${h}] 으로 인증 이메일이 전송되었습니다. `)}).catch(m=>{})},addMember:async(h,f)=>{await L0(li(ci,"member",h.uid),{id:h.uid,email:h.email,nick:s.current.value,avatar:document.querySelector('[name="avatar"]:checked').value,liked:[],date:new Date}).then(()=>{B.loading.show(),console.log("멤버 생성: "),B.alert("가입되었습니다.",{ycb:()=>{e(f)}})}).catch(p=>{console.error("멤버 생성 Error : ",p)})}};return console.log(a.isMail,a.isPwds,a.isNick,a.isMail&&a.isPwds&&a.isNick),T.useEffect(()=>(window.scrollTo(0,0),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page user sign up",children:d.jsx("main",{className:"contents",children:d.jsxs("div",{className:"sign-form",children:[d.jsx("div",{className:"hdt",children:"회원가입"}),d.jsx("div",{className:"join form",children:d.jsxs("ul",{className:"list",children:[d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"아바타"}),d.jsx("div",{className:"dd",children:d.jsx("div",{className:"ut-avata",children:Ve.state.avatar.map((h,f)=>d.jsxs("label",{children:[d.jsx("input",{type:"radio",name:"avatar",ref:i,value:f,defaultChecked:f==0}),d.jsx("span",{className:"txt",children:d.jsx("img",{className:"img",src:h,alt:""})})]},f))})})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"이메일"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:n,name:"email",type:"email",placeholder:"예) test@naver.com",onInput:h=>c(h.currentTarget),"data-webkit-autofill":!0})}),a.isMail?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"이메일 형식에 맞게 입력해주세요."})]})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"비밀번호"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:r,name:"password",type:"password",placeholder:"예) abc123",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isPwds?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"문자,숫자 포함 6자리 이상 입력해주세요."})]})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"닉네임"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:s,name:"nickname",type:"text",placeholder:"입력하세요",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isNick?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"특수문자 제외하고 입력해주세요."})]})]})]})}),d.jsx("div",{className:"btsbox btn-set",children:d.jsxs("button",{type:"button",className:"btn",disabled:!(a.isMail&&a.isPwds&&a.isNick),onClick:u.joinReq,children:[d.jsx("i",{className:"fa-regular fa-right-to-bracket"}),d.jsx("em",{children:"회원가입"})]})}),d.jsxs("div",{className:"link",children:["이미 회원이신가요? ",d.jsxs(at,{className:"bt",to:"/user/signin",children:["로그인 하러가기 ",d.jsx("i",{className:"fa-regular fa-chevron-right"})]})]})]})})})]})}function rY(){function t(){const[e,n]=$o(jG),[r,s]=$o($G),i=o=>{n(o.target.value)};return d.jsxs("div",{children:[d.jsx("input",{type:"text",value:e,onChange:i}),d.jsx("br",{}),"Echo: ",e,d.jsx("br",{})," ",r.a,d.jsx("br",{})," ",r.b]})}return $o(gp),T.useEffect(()=>()=>{}),d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"내 글"}),d.jsx("p",{children:"댓글"})," ",d.jsx(t,{}),d.jsx("p",{children:Ve.state.userInfo.stat==!0?d.jsxs(at,{to:"/user/signout",className:"btn logout",children:[d.jsx("i",{className:"fa-regular fa-right-from-bracket"}),"Logout"]}):null})]})}function sY({uInfo:t,swiper:e}){if(!t.tmdb_movie_scrap)return!1;const[n,r]=T.useState([]),[s,i]=T.useState("movie"),o=l=>{console.log(l),l=="movie"&&r(t.tmdb_movie_scrap),l=="tv"&&r(t.tmdb_tv_scrap),i(l),setTimeout(()=>e.update(),100),console.log(n)},a=async(l,c)=>{B.loading.show("glx"),console.log(l,c);let u=[];l=="movie"&&(u=t.tmdb_movie_scrap||[c]),l=="tv"&&(u=t.tmdb_tv_scrap||[c]),u=[...u,c].filter(f=>f.id!=c.id),r(u),l=="movie"&&(t.tmdb_movie_scrap=u),l=="tv"&&(t.tmdb_tv_scrap=u),console.log(u);const h=li(ci,"member",t.id);l=="movie"&&await Ah(h,{tmdb_movie_scrap:u}).then(()=>{console.log("Movie 스크랩 삭제: "+u),B.loading.hide()}).catch(f=>{console.error(f),B.loading.hide()}),l=="tv"&&await Ah(h,{tmdb_tv_scrap:u}).then(()=>{console.log("TV 스크랩 삭제: "+u),B.loading.hide()}).catch(f=>{console.error(f),B.loading.hide()})};return T.useEffect(()=>(console.log(t,t.id),r(t.tmdb_movie_scrap),()=>{}),[]),t?d.jsx(d.Fragment,{children:d.jsxs("div",{className:"movie-list user",children:[d.jsxs("div",{className:"tabs",children:[d.jsxs("button",{className:`btn ${s=="movie"?"active":""}`,onClick:()=>{o("movie")},children:[d.jsx("em",{children:"Movie"})," ",d.jsx("i",{children:t.tmdb_movie_scrap.length})]}),d.jsxs("button",{className:`btn ${s=="tv"?"active":""}`,onClick:()=>{o("tv")},children:[d.jsx("em",{children:"TV"})," ",d.jsx("i",{children:t.tmdb_tv_scrap.length})]})]}),n.length>0?d.jsx("ul",{className:"list",children:n.map((l,c)=>{const h="//image.tmdb.org/t/p/w92"+l.poster_path,f=l.title||l.name;return d.jsx("li",{"data-id":l.id+"_"+c,children:d.jsxs("div",{className:"box",children:[d.jsxs(at,{className:"cont",to:`${s}/${l.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${h}`,alt:f,onError:B.error.poster,className:"img"})}),d.jsxs("div",{className:"desc",children:[d.jsx("div",{className:"tits",children:l.title||l.name}),d.jsx("div",{className:"text",children:l.overview})]}),d.jsxs("div",{className:"dd",children:[d.jsx("div",{className:"hits",children:d.jsxs("em",{children:[d.jsx("i",{className:"fa-regular fa-thumbs-up"})," 평점 : ",d.jsx("b",{children:l.vote_average})]})}),d.jsxs("div",{className:"date",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," ",d.jsx("b",{children:l.release_date||l.first_air_date})]})]})]}),d.jsx("div",{className:"bts",children:Ve.state.userInfo.uid==t.id&&d.jsx("button",{type:"button",className:"bt",onClick:()=>B.confirm("삭제할까요?",{ybt:"네",nbt:"아니오",ycb:()=>a(s,l)}),children:d.jsx("span",{children:d.jsx("i",{className:"fa-regular fa-close"})})})})]})},l.id+"_"+c)}).reverse()}):d.jsx("div",{className:"nodata",children:d.jsx("p",{children:" 스크랩된 컨텐츠가 없습니다."})})]})}):!1}function iY(){const[t,e]=$o(gp);return T.useEffect(()=>()=>{}),d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"팔로우"}),d.jsx("p",{children:"팔로워"}),d.jsx("p",{children:t.state.avatar.map(n=>d.jsx("span",{style:{width:"33%",display:"inline-flex"},children:d.jsx("img",{style:{width:"100%",display:"inline-flex"},src:n})},n))})]})}function oY(){const t=dn();console.log(t),Sn(),un();const e=t.id,[n,r]=T.useState({});$o(gp);const s=async u=>{var p;B.loading.show("glx");const h=li(ci,"member",u),f=await P0(h);f.exists()?r({id:f.id,uid:f.data().uid,nick:f.data().nick,avatar:f.data().avatar,photoURL:f.data().photoURL,email:f.data().email,date:B.dateForm(f.data().date.toDate()),liked:f.data().liked.length,tmdb_movie_scrap:f.data().tmdb_movie_scrap||[],tmdb_tv_scrap:f.data().tmdb_tv_scrap||{}}):console.log("No such document!"),(p=document.querySelector(".page.user"))==null||p.classList.add("load"),document.querySelector(".header .htit").innerText=n.nick||"",B.loading.hide()},[i,o]=T.useState(null),[a,l]=T.useState(null),c=u=>{console.log(u),i.slideToLoop(u)};if(T.useEffect(()=>(s(e),()=>{}),[n.nick,e]),console.log(Ve),console.log(n),!!n)return d.jsxs(d.Fragment,{children:[d.jsx(ls,{}),d.jsx("div",{className:"container page user view",children:d.jsxs("main",{className:"contents",children:[Ve!=null&&Ve.state?d.jsxs("div",{className:"profile",children:[d.jsxs("div",{className:"user",children:[d.jsx(at,{to:"/user/"+t.id,className:"pic",children:d.jsx("img",{src:Ve.state.avatar[n.avatar]||n.photoURL,className:"img"})}),d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"num b",children:[d.jsx("b",{className:"n",children:n.bbsNum||0}),d.jsx("p",{className:"t",children:"Post"})]}),d.jsxs("div",{className:"num p",children:[d.jsx("b",{className:"n",children:n.photoNum||0}),d.jsx("p",{className:"t",children:"Reply"})]}),d.jsxs("div",{className:"num l",children:[d.jsx("b",{className:"n",children:n.liked||0}),d.jsx("p",{className:"t",children:"Liked"})]})]})]}),d.jsxs("div",{className:"desc",children:[d.jsxs("span",{className:"txt",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," Join : ",n.date]}),n.email&&d.jsxs("span",{className:"txt",children:[d.jsx("i",{className:"fa-regular fa-envelope"})," ",n.email]})]}),Ve.state.userInfo.uid==n.id&&d.jsx("div",{className:"bts",children:d.jsxs(at,{to:"/user/signout",className:"btn sm logout",children:[d.jsx("i",{className:"fa-regular fa-right-from-bracket"}),"Logout"]})})]}):null,d.jsxs("div",{className:"user-post",children:[d.jsxs("ul",{className:"menu",children:[d.jsx("li",{className:a==0?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(0),children:d.jsx("span",{children:d.jsx("i",{className:"fa-regular fa-bookmark"})})})}),d.jsx("li",{className:a==1?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(1),children:d.jsx("span",{children:d.jsx("i",{className:"fa-regular fa-list"})})})}),d.jsx("li",{className:a==2?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(2),children:d.jsx("span",{children:d.jsx("i",{className:"fa-regular fa-users"})})})})]}),d.jsxs(gu,{className:"swiper-wrapper swiper pctn ",modules:[Tp,Cp,Rp,xp,Ip],spaceBetween:0,slidesPerView:1,loop:!1,autoplay:!1,wrapperTag:"div",initialSlide:0,autoHeight:!0,watchOverflow:!0,observer:!0,observeSlideChildren:!0,observeParents:!0,onSwiper:u=>{console.log("initialize swiper",u),o(u),l(0)},onSlideChange:u=>{console.log("slide change",u.realIndex,u.activeIndex),l(u.realIndex)},children:[d.jsx(zs,{tag:"section",className:"ctn like",children:d.jsx(sY,{uInfo:n,swiper:i})}),d.jsx(zs,{tag:"section",className:"ctn post",children:d.jsx(rY,{})}),d.jsx(zs,{tag:"section",className:"ctn repl",children:d.jsx(iY,{})})]})]})]})})]})}function aY(){return Ve.authState(),T.useEffect(()=>{const t=es();return hf(t,e=>{e&&JSON.parse(sessionStorage.getItem("user"))}),()=>{}},[]),d.jsx(d.Fragment,{children:d.jsx(D3,{children:d.jsxs(YD,{children:[d.jsxs(sm,{children:[d.jsx(se,{path:"home/*",element:d.jsx(ao,{prop:{headerType:"main"}})}),d.jsx(se,{path:":menu/*",element:d.jsx(ao,{prop:{headerType:"main"}})}),d.jsx(se,{path:"list/*",element:d.jsx(ao,{prop:{headerType:"main"}})}),d.jsx(se,{path:"search/*",element:d.jsx(ao,{prop:{headerType:"main"}})}),d.jsx(se,{path:"movie/*",element:d.jsx(ao,{prop:{headerType:"main"}})}),d.jsx(se,{path:"user",children:d.jsx(se,{path:":id",element:d.jsx(ao,{prop:{headerType:"sub"}})})})]}),d.jsxs(sm,{children:[d.jsx(se,{path:"/",element:d.jsx(FD,{to:"/home/",replace:!0})}),d.jsx(se,{path:"home",element:d.jsx(gC,{})}),d.jsx(se,{path:"home/:menu",element:d.jsx(gC,{}),children:d.jsxs(se,{path:":id",element:d.jsx(rd,{prop:{page:"home"}}),children:[d.jsx(se,{path:"poster/:nums",element:d.jsx(rl,{})}),d.jsx(se,{path:"person/:nums",element:d.jsx(sl,{})}),d.jsx(se,{path:"videos/:nums",element:d.jsx(il,{})})]})}),d.jsx(se,{path:"list",children:d.jsx(se,{path:":menu",children:d.jsx(se,{path:":cate",element:d.jsx(qQ,{}),children:d.jsxs(se,{path:":id",element:d.jsx(rd,{prop:{page:"search"}}),children:[d.jsx(se,{path:"poster/:nums",element:d.jsx(rl,{})}),d.jsx(se,{path:"person/:nums",element:d.jsx(sl,{})}),d.jsx(se,{path:"videos/:nums",element:d.jsx(il,{})})]})})})}),d.jsxs(se,{path:":menu",children:[d.jsx(se,{path:"*",element:d.jsx(vC,{})}),d.jsxs(se,{path:":id",element:d.jsx(XQ,{prop:{page:"page"}}),children:[d.jsx(se,{path:"poster/:nums",element:d.jsx(rl,{})}),d.jsx(se,{path:"person/:nums",element:d.jsx(sl,{})}),d.jsx(se,{path:"videos/:nums",element:d.jsx(il,{})})]})]}),d.jsx(se,{path:"search",children:d.jsxs(se,{path:":menu",element:d.jsx(_C,{}),children:[d.jsxs(se,{path:":id",element:d.jsx(rd,{prop:{page:"search"}}),children:[d.jsx(se,{path:"poster/:nums",element:d.jsx(rl,{prop:{page:"search"}})}),d.jsx(se,{path:"person/:nums",element:d.jsx(sl,{prop:{page:"search"}})}),d.jsx(se,{path:"videos/:nums",element:d.jsx(il,{prop:{page:"search"}})})]}),d.jsx(se,{path:":keyword",element:d.jsx(_C,{})})]})}),d.jsxs(se,{path:"user",children:[d.jsx(se,{path:"*",element:d.jsx(vC,{})}),d.jsx(se,{path:"signin",element:d.jsx(ZQ,{})}),d.jsx(se,{path:"signout",element:d.jsx(tY,{})}),d.jsx(se,{path:"signup",element:d.jsx(nY,{})}),d.jsx(se,{path:":id",element:d.jsx(oY,{}),children:d.jsx(se,{path:":menu",children:d.jsxs(se,{path:":id",element:d.jsx(rd,{prop:{page:"search"}}),children:[d.jsx(se,{path:"poster/:nums",element:d.jsx(rl,{})}),d.jsx(se,{path:"person/:nums",element:d.jsx(sl,{})}),d.jsx(se,{path:"videos/:nums",element:d.jsx(il,{})})]})})})]}),d.jsx(se,{path:"snslogin",element:d.jsx(eY,{})})]}),d.jsxs(sm,{children:[d.jsx(se,{path:"home/*",element:d.jsx(lo,{})}),d.jsx(se,{path:":menu/*",element:d.jsx(lo,{})}),d.jsx(se,{path:"list/*",element:d.jsx(lo,{})}),d.jsx(se,{path:"search/*",element:d.jsx(lo,{})}),d.jsx(se,{path:"movie/*",element:d.jsx(lo,{})}),d.jsx(se,{path:"user",children:d.jsx(se,{path:":id",element:d.jsx(lo,{})})})]})]})})})}Xm.createRoot(document.getElementById("root")).render(d.jsx(fe.StrictMode,{children:d.jsx(aY,{})}));

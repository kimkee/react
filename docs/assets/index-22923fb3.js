function DP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function II(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var CI={exports:{}},Uh={},RI={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tc=Symbol.for("react.element"),MP=Symbol.for("react.portal"),VP=Symbol.for("react.fragment"),$P=Symbol.for("react.strict_mode"),jP=Symbol.for("react.profiler"),FP=Symbol.for("react.provider"),UP=Symbol.for("react.context"),BP=Symbol.for("react.forward_ref"),zP=Symbol.for("react.suspense"),HP=Symbol.for("react.memo"),WP=Symbol.for("react.lazy"),u0=Symbol.iterator;function qP(t){return t===null||typeof t!="object"?null:(t=u0&&t[u0]||t["@@iterator"],typeof t=="function"?t:null)}var AI={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},NI=Object.assign,xI={};function da(t,e,n){this.props=t,this.context=e,this.refs=xI,this.updater=n||AI}da.prototype.isReactComponent={};da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function bI(){}bI.prototype=da.prototype;function Y_(t,e,n){this.props=t,this.context=e,this.refs=xI,this.updater=n||AI}var X_=Y_.prototype=new bI;X_.constructor=Y_;NI(X_,da.prototype);X_.isPureReactComponent=!0;var d0=Array.isArray,kI=Object.prototype.hasOwnProperty,J_={current:null},PI={key:!0,ref:!0,__self:!0,__source:!0};function LI(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)kI.call(e,r)&&!PI.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Tc,type:t,key:i,ref:o,props:s,_owner:J_.current}}function GP(t,e){return{$$typeof:Tc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Z_(t){return typeof t=="object"&&t!==null&&t.$$typeof===Tc}function KP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h0=/\/+/g;function Rp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?KP(""+t.key):e.toString(36)}function nd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Tc:case MP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Rp(o,0):r,d0(s)?(n="",t!=null&&(n=t.replace(h0,"$&/")+"/"),nd(s,e,n,"",function(c){return c})):s!=null&&(Z_(s)&&(s=GP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(h0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",d0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Rp(i,a);o+=nd(i,e,n,l,s)}else if(l=qP(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Rp(i,a++),o+=nd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pu(t,e,n){if(t==null)return t;var r=[],s=0;return nd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function QP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},rd={transition:null},YP={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:rd,ReactCurrentOwner:J_};Re.Children={map:pu,forEach:function(t,e,n){pu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pu(t,function(){e++}),e},toArray:function(t){return pu(t,function(e){return e})||[]},only:function(t){if(!Z_(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=da;Re.Fragment=VP;Re.Profiler=jP;Re.PureComponent=Y_;Re.StrictMode=$P;Re.Suspense=zP;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YP;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=NI({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=J_.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)kI.call(e,l)&&!PI.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Tc,type:t.type,key:s,ref:i,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:UP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FP,_context:t},t.Consumer=t};Re.createElement=LI;Re.createFactory=function(t){var e=LI.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:BP,render:t}};Re.isValidElement=Z_;Re.lazy=function(t){return{$$typeof:WP,_payload:{_status:-1,_result:t},_init:QP}};Re.memo=function(t,e){return{$$typeof:HP,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=rd.transition;rd.transition={};try{t()}finally{rd.transition=e}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(t,e){return ln.current.useCallback(t,e)};Re.useContext=function(t){return ln.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};Re.useEffect=function(t,e){return ln.current.useEffect(t,e)};Re.useId=function(){return ln.current.useId()};Re.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return ln.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};Re.useRef=function(t){return ln.current.useRef(t)};Re.useState=function(t){return ln.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return ln.current.useTransition()};Re.version="18.2.0";RI.exports=Re;var C=RI.exports;const pe=II(C),f0=DP({__proto__:null,default:pe},[C]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XP=C,JP=Symbol.for("react.element"),ZP=Symbol.for("react.fragment"),eL=Object.prototype.hasOwnProperty,tL=XP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nL={key:!0,ref:!0,__self:!0,__source:!0};function OI(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)eL.call(e,r)&&!nL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:JP,type:t,key:i,ref:o,props:s,_owner:tL.current}}Uh.Fragment=ZP;Uh.jsx=OI;Uh.jsxs=OI;CI.exports=Uh;var h=CI.exports,qm={},DI={exports:{}},An={},MI={exports:{}},VI={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,W){var ne=M.length;M.push(W);e:for(;0<ne;){var Ie=ne-1>>>1,x=M[Ie];if(0<s(x,W))M[Ie]=W,M[ne]=x,ne=Ie;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var W=M[0],ne=M.pop();if(ne!==W){M[0]=ne;e:for(var Ie=0,x=M.length,$=x>>>1;Ie<$;){var j=2*(Ie+1)-1,ie=M[j],Y=j+1,_e=M[Y];if(0>s(ie,ne))Y<x&&0>s(_e,ie)?(M[Ie]=_e,M[Y]=ne,Ie=Y):(M[Ie]=ie,M[j]=ne,Ie=j);else if(Y<x&&0>s(_e,ne))M[Ie]=_e,M[Y]=ne,Ie=Y;else break e}}return W}function s(M,W){var ne=M.sortIndex-W.sortIndex;return ne!==0?ne:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,d=null,f=3,p=!1,m=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=M)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function S(M){if(g=!1,y(M),!m)if(n(l)!==null)m=!0,oe(w);else{var W=n(c);W!==null&&se(S,W.startTime-M)}}function w(M,W){m=!1,g&&(g=!1,_(O),O=-1),p=!0;var ne=f;try{for(y(W),d=n(l);d!==null&&(!(d.expirationTime>W)||M&&!b());){var Ie=d.callback;if(typeof Ie=="function"){d.callback=null,f=d.priorityLevel;var x=Ie(d.expirationTime<=W);W=t.unstable_now(),typeof x=="function"?d.callback=x:d===n(l)&&r(l),y(W)}else r(l);d=n(l)}if(d!==null)var $=!0;else{var j=n(c);j!==null&&se(S,j.startTime-W),$=!1}return $}finally{d=null,f=ne,p=!1}}var N=!1,P=null,O=-1,J=5,T=-1;function b(){return!(t.unstable_now()-T<J)}function R(){if(P!==null){var M=t.unstable_now();T=M;var W=!0;try{W=P(!0,M)}finally{W?k():(N=!1,P=null)}}else N=!1}var k;if(typeof v=="function")k=function(){v(R)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=R,k=function(){z.postMessage(null)}}else k=function(){E(R,0)};function oe(M){P=M,N||(N=!0,k())}function se(M,W){O=E(function(){M(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,oe(w))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var ne=f;f=W;try{return M()}finally{f=ne}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var ne=f;f=M;try{return W()}finally{f=ne}},t.unstable_scheduleCallback=function(M,W,ne){var Ie=t.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Ie+ne:Ie):ne=Ie,M){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=ne+x,M={id:u++,callback:W,priorityLevel:M,startTime:ne,expirationTime:x,sortIndex:-1},ne>Ie?(M.sortIndex=ne,e(c,M),n(l)===null&&M===n(c)&&(g?(_(O),O=-1):g=!0,se(S,ne-Ie))):(M.sortIndex=x,e(l,M),m||p||(m=!0,oe(w))),M},t.unstable_shouldYield=b,t.unstable_wrapCallback=function(M){var W=f;return function(){var ne=f;f=W;try{return M.apply(this,arguments)}finally{f=ne}}}})(VI);MI.exports=VI;var rL=MI.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $I=C,Cn=rL;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jI=new Set,Ol={};function Ui(t,e){Fo(t,e),Fo(t+"Capture",e)}function Fo(t,e){for(Ol[t]=e,t=0;t<e.length;t++)jI.add(e[t])}var Kr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,sL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p0={},m0={};function iL(t){return Gm.call(m0,t)?!0:Gm.call(p0,t)?!1:sL.test(t)?m0[t]=!0:(p0[t]=!0,!1)}function oL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function aL(t,e,n,r){if(e===null||typeof e>"u"||oL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){jt[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];jt[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){jt[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){jt[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){jt[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){jt[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){jt[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){jt[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){jt[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var ev=/[\-:]([a-z])/g;function tv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ev,tv);jt[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ev,tv);jt[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ev,tv);jt[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){jt[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});jt.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){jt[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function nv(t,e,n,r){var s=jt.hasOwnProperty(e)?jt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(aL(e,n,s,r)&&(n=null),r||s===null?iL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var is=$I.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,mu=Symbol.for("react.element"),ao=Symbol.for("react.portal"),lo=Symbol.for("react.fragment"),rv=Symbol.for("react.strict_mode"),Km=Symbol.for("react.profiler"),FI=Symbol.for("react.provider"),UI=Symbol.for("react.context"),sv=Symbol.for("react.forward_ref"),Qm=Symbol.for("react.suspense"),Ym=Symbol.for("react.suspense_list"),iv=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),BI=Symbol.for("react.offscreen"),g0=Symbol.iterator;function La(t){return t===null||typeof t!="object"?null:(t=g0&&t[g0]||t["@@iterator"],typeof t=="function"?t:null)}var st=Object.assign,Ap;function el(t){if(Ap===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ap=e&&e[1]||""}return`
`+Ap+t}var Np=!1;function xp(t,e){if(!t||Np)return"";Np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?el(t):""}function lL(t){switch(t.tag){case 5:return el(t.type);case 16:return el("Lazy");case 13:return el("Suspense");case 19:return el("SuspenseList");case 0:case 2:case 15:return t=xp(t.type,!1),t;case 11:return t=xp(t.type.render,!1),t;case 1:return t=xp(t.type,!0),t;default:return""}}function Xm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case lo:return"Fragment";case ao:return"Portal";case Km:return"Profiler";case rv:return"StrictMode";case Qm:return"Suspense";case Ym:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case UI:return(t.displayName||"Context")+".Consumer";case FI:return(t._context.displayName||"Context")+".Provider";case sv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case iv:return e=t.displayName||null,e!==null?e:Xm(t.type)||"Memo";case ds:e=t._payload,t=t._init;try{return Xm(t(e))}catch{}}return null}function cL(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Xm(e);case 8:return e===rv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Us(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function zI(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function uL(t){var e=zI(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gu(t){t._valueTracker||(t._valueTracker=uL(t))}function HI(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=zI(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ad(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Jm(t,e){var n=e.checked;return st({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function _0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Us(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function WI(t,e){e=e.checked,e!=null&&nv(t,"checked",e,!1)}function Zm(t,e){WI(t,e);var n=Us(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?eg(t,e.type,n):e.hasOwnProperty("defaultValue")&&eg(t,e.type,Us(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function v0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function eg(t,e,n){(e!=="number"||Ad(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var tl=Array.isArray;function Io(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Us(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function tg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return st({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(tl(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Us(n)}}function qI(t,e){var n=Us(e.value),r=Us(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function E0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function GI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ng(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?GI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _u,KI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_u=_u||document.createElement("div"),_u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Dl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var hl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dL=["Webkit","ms","Moz","O"];Object.keys(hl).forEach(function(t){dL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hl[e]=hl[t]})});function QI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||hl.hasOwnProperty(t)&&hl[t]?(""+e).trim():e+"px"}function YI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=QI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var hL=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rg(t,e){if(e){if(hL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function sg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ig=null;function ov(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var og=null,Co=null,Ro=null;function S0(t){if(t=Rc(t)){if(typeof og!="function")throw Error(U(280));var e=t.stateNode;e&&(e=qh(e),og(t.stateNode,t.type,e))}}function XI(t){Co?Ro?Ro.push(t):Ro=[t]:Co=t}function JI(){if(Co){var t=Co,e=Ro;if(Ro=Co=null,S0(t),e)for(t=0;t<e.length;t++)S0(e[t])}}function ZI(t,e){return t(e)}function eC(){}var bp=!1;function tC(t,e,n){if(bp)return t(e,n);bp=!0;try{return ZI(t,e,n)}finally{bp=!1,(Co!==null||Ro!==null)&&(eC(),JI())}}function Ml(t,e){var n=t.stateNode;if(n===null)return null;var r=qh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var ag=!1;if(Kr)try{var Oa={};Object.defineProperty(Oa,"passive",{get:function(){ag=!0}}),window.addEventListener("test",Oa,Oa),window.removeEventListener("test",Oa,Oa)}catch{ag=!1}function fL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var fl=!1,Nd=null,xd=!1,lg=null,pL={onError:function(t){fl=!0,Nd=t}};function mL(t,e,n,r,s,i,o,a,l){fl=!1,Nd=null,fL.apply(pL,arguments)}function gL(t,e,n,r,s,i,o,a,l){if(mL.apply(this,arguments),fl){if(fl){var c=Nd;fl=!1,Nd=null}else throw Error(U(198));xd||(xd=!0,lg=c)}}function Bi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function nC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w0(t){if(Bi(t)!==t)throw Error(U(188))}function _L(t){var e=t.alternate;if(!e){if(e=Bi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return w0(s),t;if(i===r)return w0(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function rC(t){return t=_L(t),t!==null?sC(t):null}function sC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sC(t);if(e!==null)return e;t=t.sibling}return null}var iC=Cn.unstable_scheduleCallback,T0=Cn.unstable_cancelCallback,vL=Cn.unstable_shouldYield,yL=Cn.unstable_requestPaint,lt=Cn.unstable_now,EL=Cn.unstable_getCurrentPriorityLevel,av=Cn.unstable_ImmediatePriority,oC=Cn.unstable_UserBlockingPriority,bd=Cn.unstable_NormalPriority,SL=Cn.unstable_LowPriority,aC=Cn.unstable_IdlePriority,Bh=null,vr=null;function wL(t){if(vr&&typeof vr.onCommitFiberRoot=="function")try{vr.onCommitFiberRoot(Bh,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:CL,TL=Math.log,IL=Math.LN2;function CL(t){return t>>>=0,t===0?32:31-(TL(t)/IL|0)|0}var vu=64,yu=4194304;function nl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function kd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=nl(a):(i&=o,i!==0&&(r=nl(i)))}else o=n&~s,o!==0?r=nl(o):i!==0&&(r=nl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),s=1<<n,r|=t[n],e&=~s;return r}function RL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=RL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function cg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function lC(){var t=vu;return vu<<=1,!(vu&4194240)&&(vu=64),t}function kp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ic(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function NL(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function lv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function cC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var uC,cv,dC,hC,fC,ug=!1,Eu=[],Rs=null,As=null,Ns=null,Vl=new Map,$l=new Map,ps=[],xL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function I0(t,e){switch(t){case"focusin":case"focusout":Rs=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Ns=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(e.pointerId)}}function Da(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Rc(e),e!==null&&cv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function bL(t,e,n,r,s){switch(e){case"focusin":return Rs=Da(Rs,t,e,n,r,s),!0;case"dragenter":return As=Da(As,t,e,n,r,s),!0;case"mouseover":return Ns=Da(Ns,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vl.set(i,Da(Vl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,$l.set(i,Da($l.get(i)||null,t,e,n,r,s)),!0}return!1}function pC(t){var e=di(t.target);if(e!==null){var n=Bi(e);if(n!==null){if(e=n.tag,e===13){if(e=nC(n),e!==null){t.blockedOn=e,fC(t.priority,function(){dC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=dg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ig=r,n.target.dispatchEvent(r),ig=null}else return e=Rc(n),e!==null&&cv(e),t.blockedOn=n,!1;e.shift()}return!0}function C0(t,e,n){sd(t)&&n.delete(e)}function kL(){ug=!1,Rs!==null&&sd(Rs)&&(Rs=null),As!==null&&sd(As)&&(As=null),Ns!==null&&sd(Ns)&&(Ns=null),Vl.forEach(C0),$l.forEach(C0)}function Ma(t,e){t.blockedOn===e&&(t.blockedOn=null,ug||(ug=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,kL)))}function jl(t){function e(s){return Ma(s,t)}if(0<Eu.length){Ma(Eu[0],t);for(var n=1;n<Eu.length;n++){var r=Eu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Rs!==null&&Ma(Rs,t),As!==null&&Ma(As,t),Ns!==null&&Ma(Ns,t),Vl.forEach(e),$l.forEach(e),n=0;n<ps.length;n++)r=ps[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ps.length&&(n=ps[0],n.blockedOn===null);)pC(n),n.blockedOn===null&&ps.shift()}var Ao=is.ReactCurrentBatchConfig,Pd=!0;function PL(t,e,n,r){var s=Me,i=Ao.transition;Ao.transition=null;try{Me=1,uv(t,e,n,r)}finally{Me=s,Ao.transition=i}}function LL(t,e,n,r){var s=Me,i=Ao.transition;Ao.transition=null;try{Me=4,uv(t,e,n,r)}finally{Me=s,Ao.transition=i}}function uv(t,e,n,r){if(Pd){var s=dg(t,e,n,r);if(s===null)Up(t,e,r,Ld,n),I0(t,r);else if(bL(s,t,e,n,r))r.stopPropagation();else if(I0(t,r),e&4&&-1<xL.indexOf(t)){for(;s!==null;){var i=Rc(s);if(i!==null&&uC(i),i=dg(t,e,n,r),i===null&&Up(t,e,r,Ld,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Up(t,e,r,null,n)}}var Ld=null;function dg(t,e,n,r){if(Ld=null,t=ov(r),t=di(t),t!==null)if(e=Bi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=nC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ld=t,null}function mC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EL()){case av:return 1;case oC:return 4;case bd:case SL:return 16;case aC:return 536870912;default:return 16}default:return 16}}var Es=null,dv=null,id=null;function gC(){if(id)return id;var t,e=dv,n=e.length,r,s="value"in Es?Es.value:Es.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return id=s.slice(t,1<r?1-r:void 0)}function od(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Su(){return!0}function R0(){return!1}function Nn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Su:R0,this.isPropagationStopped=R0,this}return st(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),e}var ha={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hv=Nn(ha),Cc=st({},ha,{view:0,detail:0}),OL=Nn(Cc),Pp,Lp,Va,zh=st({},Cc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Va&&(Va&&t.type==="mousemove"?(Pp=t.screenX-Va.screenX,Lp=t.screenY-Va.screenY):Lp=Pp=0,Va=t),Pp)},movementY:function(t){return"movementY"in t?t.movementY:Lp}}),A0=Nn(zh),DL=st({},zh,{dataTransfer:0}),ML=Nn(DL),VL=st({},Cc,{relatedTarget:0}),Op=Nn(VL),$L=st({},ha,{animationName:0,elapsedTime:0,pseudoElement:0}),jL=Nn($L),FL=st({},ha,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),UL=Nn(FL),BL=st({},ha,{data:0}),N0=Nn(BL),zL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},HL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},WL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=WL[t])?!!e[t]:!1}function fv(){return qL}var GL=st({},Cc,{key:function(t){if(t.key){var e=zL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=od(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?HL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fv,charCode:function(t){return t.type==="keypress"?od(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?od(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),KL=Nn(GL),QL=st({},zh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),x0=Nn(QL),YL=st({},Cc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fv}),XL=Nn(YL),JL=st({},ha,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZL=Nn(JL),eO=st({},zh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tO=Nn(eO),nO=[9,13,27,32],pv=Kr&&"CompositionEvent"in window,pl=null;Kr&&"documentMode"in document&&(pl=document.documentMode);var rO=Kr&&"TextEvent"in window&&!pl,_C=Kr&&(!pv||pl&&8<pl&&11>=pl),b0=String.fromCharCode(32),k0=!1;function vC(t,e){switch(t){case"keyup":return nO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var co=!1;function sO(t,e){switch(t){case"compositionend":return yC(e);case"keypress":return e.which!==32?null:(k0=!0,b0);case"textInput":return t=e.data,t===b0&&k0?null:t;default:return null}}function iO(t,e){if(co)return t==="compositionend"||!pv&&vC(t,e)?(t=gC(),id=dv=Es=null,co=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return _C&&e.locale!=="ko"?null:e.data;default:return null}}var oO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oO[t.type]:e==="textarea"}function EC(t,e,n,r){XI(r),e=Od(e,"onChange"),0<e.length&&(n=new hv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ml=null,Fl=null;function aO(t){kC(t,0)}function Hh(t){var e=fo(t);if(HI(e))return t}function lO(t,e){if(t==="change")return e}var SC=!1;if(Kr){var Dp;if(Kr){var Mp="oninput"in document;if(!Mp){var L0=document.createElement("div");L0.setAttribute("oninput","return;"),Mp=typeof L0.oninput=="function"}Dp=Mp}else Dp=!1;SC=Dp&&(!document.documentMode||9<document.documentMode)}function O0(){ml&&(ml.detachEvent("onpropertychange",wC),Fl=ml=null)}function wC(t){if(t.propertyName==="value"&&Hh(Fl)){var e=[];EC(e,Fl,t,ov(t)),tC(aO,e)}}function cO(t,e,n){t==="focusin"?(O0(),ml=e,Fl=n,ml.attachEvent("onpropertychange",wC)):t==="focusout"&&O0()}function uO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hh(Fl)}function dO(t,e){if(t==="click")return Hh(e)}function hO(t,e){if(t==="input"||t==="change")return Hh(e)}function fO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sr=typeof Object.is=="function"?Object.is:fO;function Ul(t,e){if(sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Gm.call(e,s)||!sr(t[s],e[s]))return!1}return!0}function D0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function M0(t,e){var n=D0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=D0(n)}}function TC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function IC(){for(var t=window,e=Ad();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ad(t.document)}return e}function mv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function pO(t){var e=IC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TC(n.ownerDocument.documentElement,n)){if(r!==null&&mv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=M0(n,i);var o=M0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var mO=Kr&&"documentMode"in document&&11>=document.documentMode,uo=null,hg=null,gl=null,fg=!1;function V0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;fg||uo==null||uo!==Ad(r)||(r=uo,"selectionStart"in r&&mv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),gl&&Ul(gl,r)||(gl=r,r=Od(hg,"onSelect"),0<r.length&&(e=new hv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=uo)))}function wu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ho={animationend:wu("Animation","AnimationEnd"),animationiteration:wu("Animation","AnimationIteration"),animationstart:wu("Animation","AnimationStart"),transitionend:wu("Transition","TransitionEnd")},Vp={},CC={};Kr&&(CC=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function Wh(t){if(Vp[t])return Vp[t];if(!ho[t])return t;var e=ho[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in CC)return Vp[t]=e[n];return t}var RC=Wh("animationend"),AC=Wh("animationiteration"),NC=Wh("animationstart"),xC=Wh("transitionend"),bC=new Map,$0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ks(t,e){bC.set(t,e),Ui(e,[t])}for(var $p=0;$p<$0.length;$p++){var jp=$0[$p],gO=jp.toLowerCase(),_O=jp[0].toUpperCase()+jp.slice(1);Ks(gO,"on"+_O)}Ks(RC,"onAnimationEnd");Ks(AC,"onAnimationIteration");Ks(NC,"onAnimationStart");Ks("dblclick","onDoubleClick");Ks("focusin","onFocus");Ks("focusout","onBlur");Ks(xC,"onTransitionEnd");Fo("onMouseEnter",["mouseout","mouseover"]);Fo("onMouseLeave",["mouseout","mouseover"]);Fo("onPointerEnter",["pointerout","pointerover"]);Fo("onPointerLeave",["pointerout","pointerover"]);Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vO=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function j0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gL(r,e,void 0,t),t.currentTarget=null}function kC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;j0(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;j0(s,a,c),i=l}}}if(xd)throw t=lg,xd=!1,lg=null,t}function Be(t,e){var n=e[vg];n===void 0&&(n=e[vg]=new Set);var r=t+"__bubble";n.has(r)||(PC(e,t,2,!1),n.add(r))}function Fp(t,e,n){var r=0;e&&(r|=4),PC(n,t,r,e)}var Tu="_reactListening"+Math.random().toString(36).slice(2);function Bl(t){if(!t[Tu]){t[Tu]=!0,jI.forEach(function(n){n!=="selectionchange"&&(vO.has(n)||Fp(n,!1,t),Fp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Tu]||(e[Tu]=!0,Fp("selectionchange",!1,e))}}function PC(t,e,n,r){switch(mC(e)){case 1:var s=PL;break;case 4:s=LL;break;default:s=uv}n=s.bind(null,e,n,t),s=void 0,!ag||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Up(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=di(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}tC(function(){var c=i,u=ov(n),d=[];e:{var f=bC.get(t);if(f!==void 0){var p=hv,m=t;switch(t){case"keypress":if(od(n)===0)break e;case"keydown":case"keyup":p=KL;break;case"focusin":m="focus",p=Op;break;case"focusout":m="blur",p=Op;break;case"beforeblur":case"afterblur":p=Op;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=A0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=ML;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=XL;break;case RC:case AC:case NC:p=jL;break;case xC:p=ZL;break;case"scroll":p=OL;break;case"wheel":p=tO;break;case"copy":case"cut":case"paste":p=UL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=x0}var g=(e&4)!==0,E=!g&&t==="scroll",_=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,y;v!==null;){y=v;var S=y.stateNode;if(y.tag===5&&S!==null&&(y=S,_!==null&&(S=Ml(v,_),S!=null&&g.push(zl(v,S,y)))),E)break;v=v.return}0<g.length&&(f=new p(f,m,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==ig&&(m=n.relatedTarget||n.fromElement)&&(di(m)||m[Qr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?di(m):null,m!==null&&(E=Bi(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=A0,S="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=x0,S="onPointerLeave",_="onPointerEnter",v="pointer"),E=p==null?f:fo(p),y=m==null?f:fo(m),f=new g(S,v+"leave",p,n,u),f.target=E,f.relatedTarget=y,S=null,di(u)===c&&(g=new g(_,v+"enter",m,n,u),g.target=y,g.relatedTarget=E,S=g),E=S,p&&m)t:{for(g=p,_=m,v=0,y=g;y;y=eo(y))v++;for(y=0,S=_;S;S=eo(S))y++;for(;0<v-y;)g=eo(g),v--;for(;0<y-v;)_=eo(_),y--;for(;v--;){if(g===_||_!==null&&g===_.alternate)break t;g=eo(g),_=eo(_)}g=null}else g=null;p!==null&&F0(d,f,p,g,!1),m!==null&&E!==null&&F0(d,E,m,g,!0)}}e:{if(f=c?fo(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var w=lO;else if(P0(f))if(SC)w=hO;else{w=uO;var N=cO}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=dO);if(w&&(w=w(t,c))){EC(d,w,n,u);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&eg(f,"number",f.value)}switch(N=c?fo(c):window,t){case"focusin":(P0(N)||N.contentEditable==="true")&&(uo=N,hg=c,gl=null);break;case"focusout":gl=hg=uo=null;break;case"mousedown":fg=!0;break;case"contextmenu":case"mouseup":case"dragend":fg=!1,V0(d,n,u);break;case"selectionchange":if(mO)break;case"keydown":case"keyup":V0(d,n,u)}var P;if(pv)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else co?vC(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(_C&&n.locale!=="ko"&&(co||O!=="onCompositionStart"?O==="onCompositionEnd"&&co&&(P=gC()):(Es=u,dv="value"in Es?Es.value:Es.textContent,co=!0)),N=Od(c,O),0<N.length&&(O=new N0(O,t,null,n,u),d.push({event:O,listeners:N}),P?O.data=P:(P=yC(n),P!==null&&(O.data=P)))),(P=rO?sO(t,n):iO(t,n))&&(c=Od(c,"onBeforeInput"),0<c.length&&(u=new N0("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=P))}kC(d,e)})}function zl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Od(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ml(t,n),i!=null&&r.unshift(zl(t,i,s)),i=Ml(t,e),i!=null&&r.push(zl(t,i,s))),t=t.return}return r}function eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ml(n,i),l!=null&&o.unshift(zl(n,l,a))):s||(l=Ml(n,i),l!=null&&o.push(zl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var yO=/\r\n?/g,EO=/\u0000|\uFFFD/g;function U0(t){return(typeof t=="string"?t:""+t).replace(yO,`
`).replace(EO,"")}function Iu(t,e,n){if(e=U0(e),U0(t)!==e&&n)throw Error(U(425))}function Dd(){}var pg=null,mg=null;function gg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _g=typeof setTimeout=="function"?setTimeout:void 0,SO=typeof clearTimeout=="function"?clearTimeout:void 0,B0=typeof Promise=="function"?Promise:void 0,wO=typeof queueMicrotask=="function"?queueMicrotask:typeof B0<"u"?function(t){return B0.resolve(null).then(t).catch(TO)}:_g;function TO(t){setTimeout(function(){throw t})}function Bp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),jl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);jl(e)}function xs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function z0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var fa=Math.random().toString(36).slice(2),hr="__reactFiber$"+fa,Hl="__reactProps$"+fa,Qr="__reactContainer$"+fa,vg="__reactEvents$"+fa,IO="__reactListeners$"+fa,CO="__reactHandles$"+fa;function di(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Qr]||n[hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=z0(t);t!==null;){if(n=t[hr])return n;t=z0(t)}return e}t=n,n=t.parentNode}return null}function Rc(t){return t=t[hr]||t[Qr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function fo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function qh(t){return t[Hl]||null}var yg=[],po=-1;function Qs(t){return{current:t}}function Ke(t){0>po||(t.current=yg[po],yg[po]=null,po--)}function Ue(t,e){po++,yg[po]=t.current,t.current=e}var Bs={},en=Qs(Bs),pn=Qs(!1),Ti=Bs;function Uo(t,e){var n=t.type.contextTypes;if(!n)return Bs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mn(t){return t=t.childContextTypes,t!=null}function Md(){Ke(pn),Ke(en)}function H0(t,e,n){if(en.current!==Bs)throw Error(U(168));Ue(en,e),Ue(pn,n)}function LC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,cL(t)||"Unknown",s));return st({},n,r)}function Vd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Bs,Ti=en.current,Ue(en,t),Ue(pn,pn.current),!0}function W0(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=LC(t,e,Ti),r.__reactInternalMemoizedMergedChildContext=t,Ke(pn),Ke(en),Ue(en,t)):Ke(pn),Ue(pn,n)}var Dr=null,Gh=!1,zp=!1;function OC(t){Dr===null?Dr=[t]:Dr.push(t)}function RO(t){Gh=!0,OC(t)}function Ys(){if(!zp&&Dr!==null){zp=!0;var t=0,e=Me;try{var n=Dr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dr=null,Gh=!1}catch(s){throw Dr!==null&&(Dr=Dr.slice(t+1)),iC(av,Ys),s}finally{Me=e,zp=!1}}return null}var mo=[],go=0,$d=null,jd=0,Ln=[],On=0,Ii=null,Vr=1,$r="";function oi(t,e){mo[go++]=jd,mo[go++]=$d,$d=t,jd=e}function DC(t,e,n){Ln[On++]=Vr,Ln[On++]=$r,Ln[On++]=Ii,Ii=t;var r=Vr;t=$r;var s=32-tr(r)-1;r&=~(1<<s),n+=1;var i=32-tr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Vr=1<<32-tr(e)+s|n<<s|r,$r=i+t}else Vr=1<<i|n<<s|r,$r=t}function gv(t){t.return!==null&&(oi(t,1),DC(t,1,0))}function _v(t){for(;t===$d;)$d=mo[--go],mo[go]=null,jd=mo[--go],mo[go]=null;for(;t===Ii;)Ii=Ln[--On],Ln[On]=null,$r=Ln[--On],Ln[On]=null,Vr=Ln[--On],Ln[On]=null}var Tn=null,wn=null,et=!1,Yn=null;function MC(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function q0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,wn=xs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,wn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ii!==null?{id:Vr,overflow:$r}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,wn=null,!0):!1;default:return!1}}function Eg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sg(t){if(et){var e=wn;if(e){var n=e;if(!q0(t,e)){if(Eg(t))throw Error(U(418));e=xs(n.nextSibling);var r=Tn;e&&q0(t,e)?MC(r,n):(t.flags=t.flags&-4097|2,et=!1,Tn=t)}}else{if(Eg(t))throw Error(U(418));t.flags=t.flags&-4097|2,et=!1,Tn=t}}}function G0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function Cu(t){if(t!==Tn)return!1;if(!et)return G0(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!gg(t.type,t.memoizedProps)),e&&(e=wn)){if(Eg(t))throw VC(),Error(U(418));for(;e;)MC(t,e),e=xs(e.nextSibling)}if(G0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){wn=xs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}wn=null}}else wn=Tn?xs(t.stateNode.nextSibling):null;return!0}function VC(){for(var t=wn;t;)t=xs(t.nextSibling)}function Bo(){wn=Tn=null,et=!1}function vv(t){Yn===null?Yn=[t]:Yn.push(t)}var AO=is.ReactCurrentBatchConfig;function Kn(t,e){if(t&&t.defaultProps){e=st({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Fd=Qs(null),Ud=null,_o=null,yv=null;function Ev(){yv=_o=Ud=null}function Sv(t){var e=Fd.current;Ke(Fd),t._currentValue=e}function wg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function No(t,e){Ud=t,yv=_o=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(hn=!0),t.firstContext=null)}function Bn(t){var e=t._currentValue;if(yv!==t)if(t={context:t,memoizedValue:e,next:null},_o===null){if(Ud===null)throw Error(U(308));_o=t,Ud.dependencies={lanes:0,firstContext:t}}else _o=_o.next=t;return e}var hi=null;function wv(t){hi===null?hi=[t]:hi.push(t)}function $C(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,wv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Yr(t,r)}function Yr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var hs=!1;function Tv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bs(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Yr(t,n)}return s=r.interleaved,s===null?(e.next=e,wv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Yr(t,n)}function ad(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lv(t,n)}}function K0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bd(t,e,n,r){var s=t.updateQueue;hs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=st({},d,f);break e;case 2:hs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=d):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ri|=o,t.lanes=o,t.memoizedState=d}}function Q0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var FC=new $I.Component().refs;function Tg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:st({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kh={isMounted:function(t){return(t=t._reactInternals)?Bi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ps(t),i=zr(r,s);i.payload=e,n!=null&&(i.callback=n),e=bs(t,i,s),e!==null&&(nr(e,t,s,r),ad(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ps(t),i=zr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=bs(t,i,s),e!==null&&(nr(e,t,s,r),ad(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Ps(t),s=zr(n,r);s.tag=2,e!=null&&(s.callback=e),e=bs(t,s,r),e!==null&&(nr(e,t,r,n),ad(e,t,r))}};function Y0(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ul(n,r)||!Ul(s,i):!0}function UC(t,e,n){var r=!1,s=Bs,i=e.contextType;return typeof i=="object"&&i!==null?i=Bn(i):(s=mn(e)?Ti:en.current,r=e.contextTypes,i=(r=r!=null)?Uo(t,s):Bs),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function X0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kh.enqueueReplaceState(e,e.state,null)}function Ig(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=FC,Tv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Bn(i):(i=mn(e)?Ti:en.current,s.context=Uo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Tg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Kh.enqueueReplaceState(s,s.state,null),Bd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $a(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===FC&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function Ru(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function J0(t){var e=t._init;return e(t._payload)}function BC(t){function e(_,v){if(t){var y=_.deletions;y===null?(_.deletions=[v],_.flags|=16):y.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=Ls(_,v),_.index=0,_.sibling=null,_}function i(_,v,y){return _.index=y,t?(y=_.alternate,y!==null?(y=y.index,y<v?(_.flags|=2,v):y):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,y,S){return v===null||v.tag!==6?(v=Yp(y,_.mode,S),v.return=_,v):(v=s(v,y),v.return=_,v)}function l(_,v,y,S){var w=y.type;return w===lo?u(_,v,y.props.children,S,y.key):v!==null&&(v.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ds&&J0(w)===v.type)?(S=s(v,y.props),S.ref=$a(_,v,y),S.return=_,S):(S=fd(y.type,y.key,y.props,null,_.mode,S),S.ref=$a(_,v,y),S.return=_,S)}function c(_,v,y,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=Xp(y,_.mode,S),v.return=_,v):(v=s(v,y.children||[]),v.return=_,v)}function u(_,v,y,S,w){return v===null||v.tag!==7?(v=yi(y,_.mode,S,w),v.return=_,v):(v=s(v,y),v.return=_,v)}function d(_,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Yp(""+v,_.mode,y),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case mu:return y=fd(v.type,v.key,v.props,null,_.mode,y),y.ref=$a(_,null,v),y.return=_,y;case ao:return v=Xp(v,_.mode,y),v.return=_,v;case ds:var S=v._init;return d(_,S(v._payload),y)}if(tl(v)||La(v))return v=yi(v,_.mode,y,null),v.return=_,v;Ru(_,v)}return null}function f(_,v,y,S){var w=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:a(_,v,""+y,S);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case mu:return y.key===w?l(_,v,y,S):null;case ao:return y.key===w?c(_,v,y,S):null;case ds:return w=y._init,f(_,v,w(y._payload),S)}if(tl(y)||La(y))return w!==null?null:u(_,v,y,S,null);Ru(_,y)}return null}function p(_,v,y,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return _=_.get(y)||null,a(v,_,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case mu:return _=_.get(S.key===null?y:S.key)||null,l(v,_,S,w);case ao:return _=_.get(S.key===null?y:S.key)||null,c(v,_,S,w);case ds:var N=S._init;return p(_,v,y,N(S._payload),w)}if(tl(S)||La(S))return _=_.get(y)||null,u(v,_,S,w,null);Ru(v,S)}return null}function m(_,v,y,S){for(var w=null,N=null,P=v,O=v=0,J=null;P!==null&&O<y.length;O++){P.index>O?(J=P,P=null):J=P.sibling;var T=f(_,P,y[O],S);if(T===null){P===null&&(P=J);break}t&&P&&T.alternate===null&&e(_,P),v=i(T,v,O),N===null?w=T:N.sibling=T,N=T,P=J}if(O===y.length)return n(_,P),et&&oi(_,O),w;if(P===null){for(;O<y.length;O++)P=d(_,y[O],S),P!==null&&(v=i(P,v,O),N===null?w=P:N.sibling=P,N=P);return et&&oi(_,O),w}for(P=r(_,P);O<y.length;O++)J=p(P,_,O,y[O],S),J!==null&&(t&&J.alternate!==null&&P.delete(J.key===null?O:J.key),v=i(J,v,O),N===null?w=J:N.sibling=J,N=J);return t&&P.forEach(function(b){return e(_,b)}),et&&oi(_,O),w}function g(_,v,y,S){var w=La(y);if(typeof w!="function")throw Error(U(150));if(y=w.call(y),y==null)throw Error(U(151));for(var N=w=null,P=v,O=v=0,J=null,T=y.next();P!==null&&!T.done;O++,T=y.next()){P.index>O?(J=P,P=null):J=P.sibling;var b=f(_,P,T.value,S);if(b===null){P===null&&(P=J);break}t&&P&&b.alternate===null&&e(_,P),v=i(b,v,O),N===null?w=b:N.sibling=b,N=b,P=J}if(T.done)return n(_,P),et&&oi(_,O),w;if(P===null){for(;!T.done;O++,T=y.next())T=d(_,T.value,S),T!==null&&(v=i(T,v,O),N===null?w=T:N.sibling=T,N=T);return et&&oi(_,O),w}for(P=r(_,P);!T.done;O++,T=y.next())T=p(P,_,O,T.value,S),T!==null&&(t&&T.alternate!==null&&P.delete(T.key===null?O:T.key),v=i(T,v,O),N===null?w=T:N.sibling=T,N=T);return t&&P.forEach(function(R){return e(_,R)}),et&&oi(_,O),w}function E(_,v,y,S){if(typeof y=="object"&&y!==null&&y.type===lo&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case mu:e:{for(var w=y.key,N=v;N!==null;){if(N.key===w){if(w=y.type,w===lo){if(N.tag===7){n(_,N.sibling),v=s(N,y.props.children),v.return=_,_=v;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===ds&&J0(w)===N.type){n(_,N.sibling),v=s(N,y.props),v.ref=$a(_,N,y),v.return=_,_=v;break e}n(_,N);break}else e(_,N);N=N.sibling}y.type===lo?(v=yi(y.props.children,_.mode,S,y.key),v.return=_,_=v):(S=fd(y.type,y.key,y.props,null,_.mode,S),S.ref=$a(_,v,y),S.return=_,_=S)}return o(_);case ao:e:{for(N=y.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(_,v.sibling),v=s(v,y.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Xp(y,_.mode,S),v.return=_,_=v}return o(_);case ds:return N=y._init,E(_,v,N(y._payload),S)}if(tl(y))return m(_,v,y,S);if(La(y))return g(_,v,y,S);Ru(_,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,y),v.return=_,_=v):(n(_,v),v=Yp(y,_.mode,S),v.return=_,_=v),o(_)):n(_,v)}return E}var zo=BC(!0),zC=BC(!1),Ac={},yr=Qs(Ac),Wl=Qs(Ac),ql=Qs(Ac);function fi(t){if(t===Ac)throw Error(U(174));return t}function Iv(t,e){switch(Ue(ql,e),Ue(Wl,t),Ue(yr,Ac),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ng(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ng(e,t)}Ke(yr),Ue(yr,e)}function Ho(){Ke(yr),Ke(Wl),Ke(ql)}function HC(t){fi(ql.current);var e=fi(yr.current),n=ng(e,t.type);e!==n&&(Ue(Wl,t),Ue(yr,n))}function Cv(t){Wl.current===t&&(Ke(yr),Ke(Wl))}var nt=Qs(0);function zd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Hp=[];function Rv(){for(var t=0;t<Hp.length;t++)Hp[t]._workInProgressVersionPrimary=null;Hp.length=0}var ld=is.ReactCurrentDispatcher,Wp=is.ReactCurrentBatchConfig,Ci=0,rt=null,mt=null,Ct=null,Hd=!1,_l=!1,Gl=0,NO=0;function Ut(){throw Error(U(321))}function Av(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function Nv(t,e,n,r,s,i){if(Ci=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ld.current=t===null||t.memoizedState===null?PO:LO,t=n(r,s),_l){i=0;do{if(_l=!1,Gl=0,25<=i)throw Error(U(301));i+=1,Ct=mt=null,e.updateQueue=null,ld.current=OO,t=n(r,s)}while(_l)}if(ld.current=Wd,e=mt!==null&&mt.next!==null,Ci=0,Ct=mt=rt=null,Hd=!1,e)throw Error(U(300));return t}function xv(){var t=Gl!==0;return Gl=0,t}function ur(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?rt.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function zn(){if(mt===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=Ct===null?rt.memoizedState:Ct.next;if(e!==null)Ct=e,mt=t;else{if(t===null)throw Error(U(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Ct===null?rt.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function Kl(t,e){return typeof e=="function"?e(t):e}function qp(t){var e=zn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((Ci&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,rt.lanes|=u,Ri|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,sr(r,e.memoizedState)||(hn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,Ri|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Gp(t){var e=zn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);sr(i,e.memoizedState)||(hn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function WC(){}function qC(t,e){var n=rt,r=zn(),s=e(),i=!sr(r.memoizedState,s);if(i&&(r.memoizedState=s,hn=!0),r=r.queue,bv(QC.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Ct!==null&&Ct.memoizedState.tag&1){if(n.flags|=2048,Ql(9,KC.bind(null,n,r,s,e),void 0,null),Nt===null)throw Error(U(349));Ci&30||GC(n,e,s)}return s}function GC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function KC(t,e,n,r){e.value=n,e.getSnapshot=r,YC(e)&&XC(t)}function QC(t,e,n){return n(function(){YC(e)&&XC(t)})}function YC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!sr(t,n)}catch{return!0}}function XC(t){var e=Yr(t,1);e!==null&&nr(e,t,1,-1)}function Z0(t){var e=ur();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:t},e.queue=t,t=t.dispatch=kO.bind(null,rt,t),[e.memoizedState,t]}function Ql(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function JC(){return zn().memoizedState}function cd(t,e,n,r){var s=ur();rt.flags|=t,s.memoizedState=Ql(1|e,n,void 0,r===void 0?null:r)}function Qh(t,e,n,r){var s=zn();r=r===void 0?null:r;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,r!==null&&Av(r,o.deps)){s.memoizedState=Ql(e,n,i,r);return}}rt.flags|=t,s.memoizedState=Ql(1|e,n,i,r)}function eS(t,e){return cd(8390656,8,t,e)}function bv(t,e){return Qh(2048,8,t,e)}function ZC(t,e){return Qh(4,2,t,e)}function eR(t,e){return Qh(4,4,t,e)}function tR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nR(t,e,n){return n=n!=null?n.concat([t]):null,Qh(4,4,tR.bind(null,e,t),n)}function kv(){}function rR(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Av(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sR(t,e){var n=zn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Av(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function iR(t,e,n){return Ci&21?(sr(n,e)||(n=lC(),rt.lanes|=n,Ri|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,hn=!0),t.memoizedState=n)}function xO(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Wp.transition;Wp.transition={};try{t(!1),e()}finally{Me=n,Wp.transition=r}}function oR(){return zn().memoizedState}function bO(t,e,n){var r=Ps(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},aR(t))lR(e,n);else if(n=$C(t,e,n,r),n!==null){var s=an();nr(n,t,r,s),cR(n,e,r)}}function kO(t,e,n){var r=Ps(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(aR(t))lR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,sr(a,o)){var l=e.interleaved;l===null?(s.next=s,wv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=$C(t,e,s,r),n!==null&&(s=an(),nr(n,t,r,s),cR(n,e,r))}}function aR(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function lR(t,e){_l=Hd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,lv(t,n)}}var Wd={readContext:Bn,useCallback:Ut,useContext:Ut,useEffect:Ut,useImperativeHandle:Ut,useInsertionEffect:Ut,useLayoutEffect:Ut,useMemo:Ut,useReducer:Ut,useRef:Ut,useState:Ut,useDebugValue:Ut,useDeferredValue:Ut,useTransition:Ut,useMutableSource:Ut,useSyncExternalStore:Ut,useId:Ut,unstable_isNewReconciler:!1},PO={readContext:Bn,useCallback:function(t,e){return ur().memoizedState=[t,e===void 0?null:e],t},useContext:Bn,useEffect:eS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,cd(4194308,4,tR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return cd(4194308,4,t,e)},useInsertionEffect:function(t,e){return cd(4,2,t,e)},useMemo:function(t,e){var n=ur();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=ur();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=bO.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=ur();return t={current:t},e.memoizedState=t},useState:Z0,useDebugValue:kv,useDeferredValue:function(t){return ur().memoizedState=t},useTransition:function(){var t=Z0(!1),e=t[0];return t=xO.bind(null,t[1]),ur().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=ur();if(et){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Nt===null)throw Error(U(349));Ci&30||GC(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,eS(QC.bind(null,r,i,t),[t]),r.flags|=2048,Ql(9,KC.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=ur(),e=Nt.identifierPrefix;if(et){var n=$r,r=Vr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Gl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=NO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LO={readContext:Bn,useCallback:rR,useContext:Bn,useEffect:bv,useImperativeHandle:nR,useInsertionEffect:ZC,useLayoutEffect:eR,useMemo:sR,useReducer:qp,useRef:JC,useState:function(){return qp(Kl)},useDebugValue:kv,useDeferredValue:function(t){var e=zn();return iR(e,mt.memoizedState,t)},useTransition:function(){var t=qp(Kl)[0],e=zn().memoizedState;return[t,e]},useMutableSource:WC,useSyncExternalStore:qC,useId:oR,unstable_isNewReconciler:!1},OO={readContext:Bn,useCallback:rR,useContext:Bn,useEffect:bv,useImperativeHandle:nR,useInsertionEffect:ZC,useLayoutEffect:eR,useMemo:sR,useReducer:Gp,useRef:JC,useState:function(){return Gp(Kl)},useDebugValue:kv,useDeferredValue:function(t){var e=zn();return mt===null?e.memoizedState=t:iR(e,mt.memoizedState,t)},useTransition:function(){var t=Gp(Kl)[0],e=zn().memoizedState;return[t,e]},useMutableSource:WC,useSyncExternalStore:qC,useId:oR,unstable_isNewReconciler:!1};function Wo(t,e){try{var n="",r=e;do n+=lL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Kp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Cg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DO=typeof WeakMap=="function"?WeakMap:Map;function uR(t,e,n){n=zr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Gd||(Gd=!0,Dg=r),Cg(t,e)},n}function dR(t,e,n){n=zr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Cg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Cg(t,e),typeof r!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function tS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=QO.bind(null,t,e,n),e.then(t,t))}function nS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zr(-1,1),e.tag=2,bs(n,e,1))),n.lanes|=1),t)}var MO=is.ReactCurrentOwner,hn=!1;function sn(t,e,n,r){e.child=t===null?zC(e,null,n,r):zo(e,t.child,n,r)}function sS(t,e,n,r,s){n=n.render;var i=e.ref;return No(e,s),r=Nv(t,e,n,r,i,s),n=xv(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(et&&n&&gv(e),e.flags|=1,sn(t,e,r,s),e.child)}function iS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!jv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,hR(t,e,i,r,s)):(t=fd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ul,n(o,r)&&t.ref===e.ref)return Xr(t,e,s)}return e.flags|=1,t=Ls(i,r),t.ref=e.ref,t.return=e,e.child=t}function hR(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ul(i,r)&&t.ref===e.ref)if(hn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(hn=!0);else return e.lanes=t.lanes,Xr(t,e,s)}return Rg(t,e,n,r,s)}function fR(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(yo,En),En|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(yo,En),En|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ue(yo,En),En|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ue(yo,En),En|=r;return sn(t,e,s,n),e.child}function pR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Rg(t,e,n,r,s){var i=mn(n)?Ti:en.current;return i=Uo(e,i),No(e,s),n=Nv(t,e,n,r,i,s),r=xv(),t!==null&&!hn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Xr(t,e,s)):(et&&r&&gv(e),e.flags|=1,sn(t,e,n,s),e.child)}function oS(t,e,n,r,s){if(mn(n)){var i=!0;Vd(e)}else i=!1;if(No(e,s),e.stateNode===null)ud(t,e),UC(e,n,r),Ig(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Bn(c):(c=mn(n)?Ti:en.current,c=Uo(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&X0(e,o,r,c),hs=!1;var f=e.memoizedState;o.state=f,Bd(e,r,o,s),l=e.memoizedState,a!==r||f!==l||pn.current||hs?(typeof u=="function"&&(Tg(e,n,u,r),l=e.memoizedState),(a=hs||Y0(e,n,a,r,f,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Kn(e.type,a),o.props=c,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Bn(l):(l=mn(n)?Ti:en.current,l=Uo(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&X0(e,o,r,l),hs=!1,f=e.memoizedState,o.state=f,Bd(e,r,o,s);var m=e.memoizedState;a!==d||f!==m||pn.current||hs?(typeof p=="function"&&(Tg(e,n,p,r),m=e.memoizedState),(c=hs||Y0(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Ag(t,e,n,r,i,s)}function Ag(t,e,n,r,s,i){pR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&W0(e,n,!1),Xr(t,e,i);r=e.stateNode,MO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zo(e,t.child,null,i),e.child=zo(e,null,a,i)):sn(t,e,a,i),e.memoizedState=r.state,s&&W0(e,n,!0),e.child}function mR(t){var e=t.stateNode;e.pendingContext?H0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&H0(t,e.context,!1),Iv(t,e.containerInfo)}function aS(t,e,n,r,s){return Bo(),vv(s),e.flags|=256,sn(t,e,n,r),e.child}var Ng={dehydrated:null,treeContext:null,retryLane:0};function xg(t){return{baseLanes:t,cachePool:null,transitions:null}}function gR(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ue(nt,s&1),t===null)return Sg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Jh(o,r,0,null),t=yi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=xg(n),e.memoizedState=Ng,t):Pv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return VO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ls(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ls(a,i):(i=yi(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?xg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Ng,r}return i=t.child,t=i.sibling,r=Ls(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Pv(t,e){return e=Jh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Au(t,e,n,r){return r!==null&&vv(r),zo(e,t.child,null,n),t=Pv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function VO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Kp(Error(U(422))),Au(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Jh({mode:"visible",children:r.children},s,0,null),i=yi(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&zo(e,t.child,null,o),e.child.memoizedState=xg(o),e.memoizedState=Ng,i);if(!(e.mode&1))return Au(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=Kp(i,r,void 0),Au(t,e,o,r)}if(a=(o&t.childLanes)!==0,hn||a){if(r=Nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Yr(t,s),nr(r,t,s,-1))}return $v(),r=Kp(Error(U(421))),Au(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=YO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,wn=xs(s.nextSibling),Tn=e,et=!0,Yn=null,t!==null&&(Ln[On++]=Vr,Ln[On++]=$r,Ln[On++]=Ii,Vr=t.id,$r=t.overflow,Ii=e),e=Pv(e,r.children),e.flags|=4096,e)}function lS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),wg(t.return,e,n)}function Qp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function _R(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(sn(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&lS(t,n,e);else if(t.tag===19)lS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Qp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Qp(e,!0,n,null,i);break;case"together":Qp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ud(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Ls(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ls(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function $O(t,e,n){switch(e.tag){case 3:mR(e),Bo();break;case 5:HC(e);break;case 1:mn(e.type)&&Vd(e);break;case 4:Iv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ue(Fd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?gR(t,e,n):(Ue(nt,nt.current&1),t=Xr(t,e,n),t!==null?t.sibling:null);Ue(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _R(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,fR(t,e,n)}return Xr(t,e,n)}var vR,bg,yR,ER;vR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bg=function(){};yR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,fi(yr.current);var i=null;switch(n){case"input":s=Jm(t,s),r=Jm(t,r),i=[];break;case"select":s=st({},s,{value:void 0}),r=st({},r,{value:void 0}),i=[];break;case"textarea":s=tg(t,s),r=tg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dd)}rg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ol.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};ER=function(t,e,n,r){n!==r&&(e.flags|=4)};function ja(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jO(t,e,n){var r=e.pendingProps;switch(_v(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return mn(e.type)&&Md(),Bt(e),null;case 3:return r=e.stateNode,Ho(),Ke(pn),Ke(en),Rv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&($g(Yn),Yn=null))),bg(t,e),Bt(e),null;case 5:Cv(e);var s=fi(ql.current);if(n=e.type,t!==null&&e.stateNode!=null)yR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Bt(e),null}if(t=fi(yr.current),Cu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hr]=e,r[Hl]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<rl.length;s++)Be(rl[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":_0(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":y0(r,i),Be("invalid",r)}rg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Iu(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Iu(r.textContent,a,t),s=["children",""+a]):Ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":gu(r),v0(r,i,!0);break;case"textarea":gu(r),E0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Dd)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=GI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hr]=e,t[Hl]=r,vR(t,e,!1,!1),e.stateNode=t;e:{switch(o=sg(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<rl.length;s++)Be(rl[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":_0(t,r),s=Jm(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=st({},r,{value:void 0}),Be("invalid",t);break;case"textarea":y0(t,r),s=tg(t,r),Be("invalid",t);break;default:s=r}rg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?YI(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&KI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Dl(t,l):typeof l=="number"&&Dl(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Ol.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",t):l!=null&&nv(t,i,l,o))}switch(n){case"input":gu(t),v0(t,r,!1);break;case"textarea":gu(t),E0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Us(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Io(t,!!r.multiple,i,!1):r.defaultValue!=null&&Io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Dd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)ER(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=fi(ql.current),fi(yr.current),Cu(e)){if(r=e.stateNode,n=e.memoizedProps,r[hr]=e,(i=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:Iu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Iu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r}return Bt(e),null;case 13:if(Ke(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&wn!==null&&e.mode&1&&!(e.flags&128))VC(),Bo(),e.flags|=98560,i=!1;else if(i=Cu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[hr]=e}else Bo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),i=!1}else Yn!==null&&($g(Yn),Yn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?_t===0&&(_t=3):$v())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return Ho(),bg(t,e),t===null&&Bl(e.stateNode.containerInfo),Bt(e),null;case 10:return Sv(e.type._context),Bt(e),null;case 17:return mn(e.type)&&Md(),Bt(e),null;case 19:if(Ke(nt),i=e.memoizedState,i===null)return Bt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ja(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zd(t),o!==null){for(e.flags|=128,ja(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>qo&&(e.flags|=128,r=!0,ja(i,!1),e.lanes=4194304)}else{if(!r)if(t=zd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ja(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!et)return Bt(e),null}else 2*lt()-i.renderingStartTime>qo&&n!==1073741824&&(e.flags|=128,r=!0,ja(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=nt.current,Ue(nt,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return Vv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?En&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function FO(t,e){switch(_v(e),e.tag){case 1:return mn(e.type)&&Md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ho(),Ke(pn),Ke(en),Rv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cv(e),null;case 13:if(Ke(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Bo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(nt),null;case 4:return Ho(),null;case 10:return Sv(e.type._context),null;case 22:case 23:return Vv(),null;case 24:return null;default:return null}}var Nu=!1,Wt=!1,UO=typeof WeakSet=="function"?WeakSet:Set,Z=null;function vo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function kg(t,e,n){try{n()}catch(r){it(t,e,r)}}var cS=!1;function BO(t,e){if(pg=Pd,t=IC(),mv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(mg={focusedElem:t,selectionRange:n},Pd=!1,Z=e;Z!==null;)if(e=Z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Z=t;else for(;Z!==null;){e=Z;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,E=m.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:Kn(e.type,g),E);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(S){it(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}return m=cS,cS=!1,m}function vl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&kg(e,n,i)}s=s.next}while(s!==r)}}function Yh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Pg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SR(t){var e=t.alternate;e!==null&&(t.alternate=null,SR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hr],delete e[Hl],delete e[vg],delete e[IO],delete e[CO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function wR(t){return t.tag===5||t.tag===3||t.tag===4}function uS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||wR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Lg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dd));else if(r!==4&&(t=t.child,t!==null))for(Lg(t,e,n),t=t.sibling;t!==null;)Lg(t,e,n),t=t.sibling}function Og(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Og(t,e,n),t=t.sibling;t!==null;)Og(t,e,n),t=t.sibling}var Lt=null,Qn=!1;function ls(t,e,n){for(n=n.child;n!==null;)TR(t,e,n),n=n.sibling}function TR(t,e,n){if(vr&&typeof vr.onCommitFiberUnmount=="function")try{vr.onCommitFiberUnmount(Bh,n)}catch{}switch(n.tag){case 5:Wt||vo(n,e);case 6:var r=Lt,s=Qn;Lt=null,ls(t,e,n),Lt=r,Qn=s,Lt!==null&&(Qn?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(Qn?(t=Lt,n=n.stateNode,t.nodeType===8?Bp(t.parentNode,n):t.nodeType===1&&Bp(t,n),jl(t)):Bp(Lt,n.stateNode));break;case 4:r=Lt,s=Qn,Lt=n.stateNode.containerInfo,Qn=!0,ls(t,e,n),Lt=r,Qn=s;break;case 0:case 11:case 14:case 15:if(!Wt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&kg(n,e,o),s=s.next}while(s!==r)}ls(t,e,n);break;case 1:if(!Wt&&(vo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}ls(t,e,n);break;case 21:ls(t,e,n);break;case 22:n.mode&1?(Wt=(r=Wt)||n.memoizedState!==null,ls(t,e,n),Wt=r):ls(t,e,n);break;default:ls(t,e,n)}}function dS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new UO),e.forEach(function(r){var s=XO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,Qn=!1;break e;case 3:Lt=a.stateNode.containerInfo,Qn=!0;break e;case 4:Lt=a.stateNode.containerInfo,Qn=!0;break e}a=a.return}if(Lt===null)throw Error(U(160));TR(i,o,s),Lt=null,Qn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){it(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IR(e,t),e=e.sibling}function IR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),cr(t),r&4){try{vl(3,t,t.return),Yh(3,t)}catch(g){it(t,t.return,g)}try{vl(5,t,t.return)}catch(g){it(t,t.return,g)}}break;case 1:qn(e,t),cr(t),r&512&&n!==null&&vo(n,n.return);break;case 5:if(qn(e,t),cr(t),r&512&&n!==null&&vo(n,n.return),t.flags&32){var s=t.stateNode;try{Dl(s,"")}catch(g){it(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&WI(s,i),sg(a,o);var c=sg(a,i);for(o=0;o<l.length;o+=2){var u=l[o],d=l[o+1];u==="style"?YI(s,d):u==="dangerouslySetInnerHTML"?KI(s,d):u==="children"?Dl(s,d):nv(s,u,d,c)}switch(a){case"input":Zm(s,i);break;case"textarea":qI(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Io(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Io(s,!!i.multiple,i.defaultValue,!0):Io(s,!!i.multiple,i.multiple?[]:"",!1))}s[Hl]=i}catch(g){it(t,t.return,g)}}break;case 6:if(qn(e,t),cr(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){it(t,t.return,g)}}break;case 3:if(qn(e,t),cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{jl(e.containerInfo)}catch(g){it(t,t.return,g)}break;case 4:qn(e,t),cr(t);break;case 13:qn(e,t),cr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Dv=lt())),r&4&&dS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Wt=(c=Wt)||u,qn(e,t),Wt=c):qn(e,t),cr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Z=t,u=t.child;u!==null;){for(d=Z=u;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:vl(4,f,f.return);break;case 1:vo(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){it(r,n,g)}}break;case 5:vo(f,f.return);break;case 22:if(f.memoizedState!==null){fS(d);continue}}p!==null?(p.return=f,Z=p):fS(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=QI("display",o))}catch(g){it(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){it(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qn(e,t),cr(t),r&4&&dS(t);break;case 21:break;default:qn(e,t),cr(t)}}function cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(wR(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Dl(s,""),r.flags&=-33);var i=uS(t);Og(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=uS(t);Lg(t,a,o);break;default:throw Error(U(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zO(t,e,n){Z=t,CR(t)}function CR(t,e,n){for(var r=(t.mode&1)!==0;Z!==null;){var s=Z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Nu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Wt;a=Nu;var c=Wt;if(Nu=o,(Wt=l)&&!c)for(Z=s;Z!==null;)o=Z,l=o.child,o.tag===22&&o.memoizedState!==null?pS(s):l!==null?(l.return=o,Z=l):pS(s);for(;i!==null;)Z=i,CR(i),i=i.sibling;Z=s,Nu=a,Wt=c}hS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,Z=i):hS(t)}}function hS(t){for(;Z!==null;){var e=Z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wt||Yh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Kn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Q0(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Q0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&jl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Wt||e.flags&512&&Pg(e)}catch(f){it(e,e.return,f)}}if(e===t){Z=null;break}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}}function fS(t){for(;Z!==null;){var e=Z;if(e===t){Z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Z=n;break}Z=e.return}}function pS(t){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yh(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){it(e,s,l)}}var i=e.return;try{Pg(e)}catch(l){it(e,i,l)}break;case 5:var o=e.return;try{Pg(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var HO=Math.ceil,qd=is.ReactCurrentDispatcher,Lv=is.ReactCurrentOwner,jn=is.ReactCurrentBatchConfig,Le=0,Nt=null,ht=null,Vt=0,En=0,yo=Qs(0),_t=0,Yl=null,Ri=0,Xh=0,Ov=0,yl=null,dn=null,Dv=0,qo=1/0,Or=null,Gd=!1,Dg=null,ks=null,xu=!1,Ss=null,Kd=0,El=0,Mg=null,dd=-1,hd=0;function an(){return Le&6?lt():dd!==-1?dd:dd=lt()}function Ps(t){return t.mode&1?Le&2&&Vt!==0?Vt&-Vt:AO.transition!==null?(hd===0&&(hd=lC()),hd):(t=Me,t!==0||(t=window.event,t=t===void 0?16:mC(t.type)),t):1}function nr(t,e,n,r){if(50<El)throw El=0,Mg=null,Error(U(185));Ic(t,n,r),(!(Le&2)||t!==Nt)&&(t===Nt&&(!(Le&2)&&(Xh|=n),_t===4&&ms(t,Vt)),gn(t,r),n===1&&Le===0&&!(e.mode&1)&&(qo=lt()+500,Gh&&Ys()))}function gn(t,e){var n=t.callbackNode;AL(t,e);var r=kd(t,t===Nt?Vt:0);if(r===0)n!==null&&T0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&T0(n),e===1)t.tag===0?RO(mS.bind(null,t)):OC(mS.bind(null,t)),wO(function(){!(Le&6)&&Ys()}),n=null;else{switch(cC(r)){case 1:n=av;break;case 4:n=oC;break;case 16:n=bd;break;case 536870912:n=aC;break;default:n=bd}n=LR(n,RR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function RR(t,e){if(dd=-1,hd=0,Le&6)throw Error(U(327));var n=t.callbackNode;if(xo()&&t.callbackNode!==n)return null;var r=kd(t,t===Nt?Vt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qd(t,r);else{e=r;var s=Le;Le|=2;var i=NR();(Nt!==t||Vt!==e)&&(Or=null,qo=lt()+500,vi(t,e));do try{GO();break}catch(a){AR(t,a)}while(1);Ev(),qd.current=i,Le=s,ht!==null?e=0:(Nt=null,Vt=0,e=_t)}if(e!==0){if(e===2&&(s=cg(t),s!==0&&(r=s,e=Vg(t,s))),e===1)throw n=Yl,vi(t,0),ms(t,r),gn(t,lt()),n;if(e===6)ms(t,r);else{if(s=t.current.alternate,!(r&30)&&!WO(s)&&(e=Qd(t,r),e===2&&(i=cg(t),i!==0&&(r=i,e=Vg(t,i))),e===1))throw n=Yl,vi(t,0),ms(t,r),gn(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ai(t,dn,Or);break;case 3:if(ms(t,r),(r&130023424)===r&&(e=Dv+500-lt(),10<e)){if(kd(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=_g(ai.bind(null,t,dn,Or),e);break}ai(t,dn,Or);break;case 4:if(ms(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-tr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HO(r/1960))-r,10<r){t.timeoutHandle=_g(ai.bind(null,t,dn,Or),r);break}ai(t,dn,Or);break;case 5:ai(t,dn,Or);break;default:throw Error(U(329))}}}return gn(t,lt()),t.callbackNode===n?RR.bind(null,t):null}function Vg(t,e){var n=yl;return t.current.memoizedState.isDehydrated&&(vi(t,e).flags|=256),t=Qd(t,e),t!==2&&(e=dn,dn=n,e!==null&&$g(e)),t}function $g(t){dn===null?dn=t:dn.push.apply(dn,t)}function WO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!sr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ms(t,e){for(e&=~Ov,e&=~Xh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function mS(t){if(Le&6)throw Error(U(327));xo();var e=kd(t,0);if(!(e&1))return gn(t,lt()),null;var n=Qd(t,e);if(t.tag!==0&&n===2){var r=cg(t);r!==0&&(e=r,n=Vg(t,r))}if(n===1)throw n=Yl,vi(t,0),ms(t,e),gn(t,lt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ai(t,dn,Or),gn(t,lt()),null}function Mv(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(qo=lt()+500,Gh&&Ys())}}function Ai(t){Ss!==null&&Ss.tag===0&&!(Le&6)&&xo();var e=Le;Le|=1;var n=jn.transition,r=Me;try{if(jn.transition=null,Me=1,t)return t()}finally{Me=r,jn.transition=n,Le=e,!(Le&6)&&Ys()}}function Vv(){En=yo.current,Ke(yo)}function vi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,SO(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(_v(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Md();break;case 3:Ho(),Ke(pn),Ke(en),Rv();break;case 5:Cv(r);break;case 4:Ho();break;case 13:Ke(nt);break;case 19:Ke(nt);break;case 10:Sv(r.type._context);break;case 22:case 23:Vv()}n=n.return}if(Nt=t,ht=t=Ls(t.current,null),Vt=En=e,_t=0,Yl=null,Ov=Xh=Ri=0,dn=yl=null,hi!==null){for(e=0;e<hi.length;e++)if(n=hi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}hi=null}return t}function AR(t,e){do{var n=ht;try{if(Ev(),ld.current=Wd,Hd){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Hd=!1}if(Ci=0,Ct=mt=rt=null,_l=!1,Gl=0,Lv.current=null,n===null||n.return===null){_t=1,Yl=e,ht=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=nS(o);if(p!==null){p.flags&=-257,rS(p,o,a,i,e),p.mode&1&&tS(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){tS(i,c,e),$v();break e}l=Error(U(426))}}else if(et&&a.mode&1){var E=nS(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),rS(E,o,a,i,e),vv(Wo(l,a));break e}}i=l=Wo(l,a),_t!==4&&(_t=2),yl===null?yl=[i]:yl.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=uR(i,l,e);K0(i,_);break e;case 1:a=l;var v=i.type,y=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(ks===null||!ks.has(y)))){i.flags|=65536,e&=-e,i.lanes|=e;var S=dR(i,a,e);K0(i,S);break e}}i=i.return}while(i!==null)}bR(n)}catch(w){e=w,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function NR(){var t=qd.current;return qd.current=Wd,t===null?Wd:t}function $v(){(_t===0||_t===3||_t===2)&&(_t=4),Nt===null||!(Ri&268435455)&&!(Xh&268435455)||ms(Nt,Vt)}function Qd(t,e){var n=Le;Le|=2;var r=NR();(Nt!==t||Vt!==e)&&(Or=null,vi(t,e));do try{qO();break}catch(s){AR(t,s)}while(1);if(Ev(),Le=n,qd.current=r,ht!==null)throw Error(U(261));return Nt=null,Vt=0,_t}function qO(){for(;ht!==null;)xR(ht)}function GO(){for(;ht!==null&&!vL();)xR(ht)}function xR(t){var e=PR(t.alternate,t,En);t.memoizedProps=t.pendingProps,e===null?bR(t):ht=e,Lv.current=null}function bR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=FO(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ht=null;return}}else if(n=jO(n,e,En),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);_t===0&&(_t=5)}function ai(t,e,n){var r=Me,s=jn.transition;try{jn.transition=null,Me=1,KO(t,e,n,r)}finally{jn.transition=s,Me=r}return null}function KO(t,e,n,r){do xo();while(Ss!==null);if(Le&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(NL(t,i),t===Nt&&(ht=Nt=null,Vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||xu||(xu=!0,LR(bd,function(){return xo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=jn.transition,jn.transition=null;var o=Me;Me=1;var a=Le;Le|=4,Lv.current=null,BO(t,n),IR(n,t),pO(mg),Pd=!!pg,mg=pg=null,t.current=n,zO(n),yL(),Le=a,Me=o,jn.transition=i}else t.current=n;if(xu&&(xu=!1,Ss=t,Kd=s),i=t.pendingLanes,i===0&&(ks=null),wL(n.stateNode),gn(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Gd)throw Gd=!1,t=Dg,Dg=null,t;return Kd&1&&t.tag!==0&&xo(),i=t.pendingLanes,i&1?t===Mg?El++:(El=0,Mg=t):El=0,Ys(),null}function xo(){if(Ss!==null){var t=cC(Kd),e=jn.transition,n=Me;try{if(jn.transition=null,Me=16>t?16:t,Ss===null)var r=!1;else{if(t=Ss,Ss=null,Kd=0,Le&6)throw Error(U(331));var s=Le;for(Le|=4,Z=t.current;Z!==null;){var i=Z,o=i.child;if(Z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Z=c;Z!==null;){var u=Z;switch(u.tag){case 0:case 11:case 15:vl(8,u,i)}var d=u.child;if(d!==null)d.return=u,Z=d;else for(;Z!==null;){u=Z;var f=u.sibling,p=u.return;if(SR(u),u===c){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}Z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,Z=o;else e:for(;Z!==null;){if(i=Z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,Z=_;break e}Z=i.return}}var v=t.current;for(Z=v;Z!==null;){o=Z;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,Z=y;else e:for(o=v;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Yh(9,a)}}catch(w){it(a,a.return,w)}if(a===o){Z=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,Z=S;break e}Z=a.return}}if(Le=s,Ys(),vr&&typeof vr.onPostCommitFiberRoot=="function")try{vr.onPostCommitFiberRoot(Bh,t)}catch{}r=!0}return r}finally{Me=n,jn.transition=e}}return!1}function gS(t,e,n){e=Wo(n,e),e=uR(t,e,1),t=bs(t,e,1),e=an(),t!==null&&(Ic(t,1,e),gn(t,e))}function it(t,e,n){if(t.tag===3)gS(t,t,n);else for(;e!==null;){if(e.tag===3){gS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ks===null||!ks.has(r))){t=Wo(n,t),t=dR(e,t,1),e=bs(e,t,1),t=an(),e!==null&&(Ic(e,1,t),gn(e,t));break}}e=e.return}}function QO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Vt&n)===n&&(_t===4||_t===3&&(Vt&130023424)===Vt&&500>lt()-Dv?vi(t,0):Ov|=n),gn(t,e)}function kR(t,e){e===0&&(t.mode&1?(e=yu,yu<<=1,!(yu&130023424)&&(yu=4194304)):e=1);var n=an();t=Yr(t,e),t!==null&&(Ic(t,e,n),gn(t,n))}function YO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kR(t,n)}function XO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),kR(t,n)}var PR;PR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)hn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return hn=!1,$O(t,e,n);hn=!!(t.flags&131072)}else hn=!1,et&&e.flags&1048576&&DC(e,jd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ud(t,e),t=e.pendingProps;var s=Uo(e,en.current);No(e,n),s=Nv(null,e,r,t,s,n);var i=xv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(i=!0,Vd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Tv(e),s.updater=Kh,e.stateNode=s,s._reactInternals=e,Ig(e,r,t,n),e=Ag(null,e,r,!0,i,n)):(e.tag=0,et&&i&&gv(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ud(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ZO(r),t=Kn(r,t),s){case 0:e=Rg(null,e,r,t,n);break e;case 1:e=oS(null,e,r,t,n);break e;case 11:e=sS(null,e,r,t,n);break e;case 14:e=iS(null,e,r,Kn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),Rg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),oS(t,e,r,s,n);case 3:e:{if(mR(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,jC(t,e),Bd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Wo(Error(U(423)),e),e=aS(t,e,r,n,s);break e}else if(r!==s){s=Wo(Error(U(424)),e),e=aS(t,e,r,n,s);break e}else for(wn=xs(e.stateNode.containerInfo.firstChild),Tn=e,et=!0,Yn=null,n=zC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Bo(),r===s){e=Xr(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return HC(e),t===null&&Sg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,gg(r,s)?o=null:i!==null&&gg(r,i)&&(e.flags|=32),pR(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&Sg(e),null;case 13:return gR(t,e,n);case 4:return Iv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zo(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),sS(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ue(Fd,r._currentValue),r._currentValue=o,i!==null)if(sr(i.value,o)){if(i.children===s.children&&!pn.current){e=Xr(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=zr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),wg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),wg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,No(e,n),s=Bn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=Kn(r,e.pendingProps),s=Kn(r.type,s),iS(t,e,r,s,n);case 15:return hR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Kn(r,s),ud(t,e),e.tag=1,mn(r)?(t=!0,Vd(e)):t=!1,No(e,n),UC(e,r,s),Ig(e,r,s,n),Ag(null,e,r,!0,t,n);case 19:return _R(t,e,n);case 22:return fR(t,e,n)}throw Error(U(156,e.tag))};function LR(t,e){return iC(t,e)}function JO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new JO(t,e,n,r)}function jv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZO(t){if(typeof t=="function")return jv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===sv)return 11;if(t===iv)return 14}return 2}function Ls(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function fd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")jv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case lo:return yi(n.children,s,i,e);case rv:o=8,s|=8;break;case Km:return t=Vn(12,n,e,s|2),t.elementType=Km,t.lanes=i,t;case Qm:return t=Vn(13,n,e,s),t.elementType=Qm,t.lanes=i,t;case Ym:return t=Vn(19,n,e,s),t.elementType=Ym,t.lanes=i,t;case BI:return Jh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case FI:o=10;break e;case UI:o=9;break e;case sv:o=11;break e;case iv:o=14;break e;case ds:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function yi(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function Jh(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=BI,t.lanes=n,t.stateNode={isHidden:!1},t}function Yp(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function Xp(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=kp(0),this.expirationTimes=kp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fv(t,e,n,r,s,i,o,a,l){return t=new eD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Vn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tv(i),t}function tD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ao,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function OR(t){if(!t)return Bs;t=t._reactInternals;e:{if(Bi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(mn(n))return LC(t,n,e)}return e}function DR(t,e,n,r,s,i,o,a,l){return t=Fv(n,r,!0,t,s,i,o,a,l),t.context=OR(null),n=t.current,r=an(),s=Ps(n),i=zr(r,s),i.callback=e??null,bs(n,i,s),t.current.lanes=s,Ic(t,s,r),gn(t,r),t}function Zh(t,e,n,r){var s=e.current,i=an(),o=Ps(s);return n=OR(n),e.context===null?e.context=n:e.pendingContext=n,e=zr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bs(s,e,o),t!==null&&(nr(t,s,o,i),ad(t,s,o)),o}function Yd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function _S(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uv(t,e){_S(t,e),(t=t.alternate)&&_S(t,e)}function nD(){return null}var MR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bv(t){this._internalRoot=t}ef.prototype.render=Bv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Zh(t,e,null,null)};ef.prototype.unmount=Bv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ai(function(){Zh(null,t,null,null)}),e[Qr]=null}};function ef(t){this._internalRoot=t}ef.prototype.unstable_scheduleHydration=function(t){if(t){var e=hC();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ps.length&&e!==0&&e<ps[n].priority;n++);ps.splice(n,0,t),n===0&&pC(t)}};function zv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function tf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vS(){}function rD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Yd(o);i.call(c)}}var o=DR(e,r,t,0,null,!1,!1,"",vS);return t._reactRootContainer=o,t[Qr]=o.current,Bl(t.nodeType===8?t.parentNode:t),Ai(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Yd(l);a.call(c)}}var l=Fv(t,0,!1,null,null,!1,!1,"",vS);return t._reactRootContainer=l,t[Qr]=l.current,Bl(t.nodeType===8?t.parentNode:t),Ai(function(){Zh(e,l,n,r)}),l}function nf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Yd(o);a.call(l)}}Zh(e,o,t,s)}else o=rD(n,e,t,s,r);return Yd(o)}uC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=nl(e.pendingLanes);n!==0&&(lv(e,n|1),gn(e,lt()),!(Le&6)&&(qo=lt()+500,Ys()))}break;case 13:Ai(function(){var r=Yr(t,1);if(r!==null){var s=an();nr(r,t,1,s)}}),Uv(t,1)}};cv=function(t){if(t.tag===13){var e=Yr(t,134217728);if(e!==null){var n=an();nr(e,t,134217728,n)}Uv(t,134217728)}};dC=function(t){if(t.tag===13){var e=Ps(t),n=Yr(t,e);if(n!==null){var r=an();nr(n,t,e,r)}Uv(t,e)}};hC=function(){return Me};fC=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};og=function(t,e,n){switch(e){case"input":if(Zm(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=qh(r);if(!s)throw Error(U(90));HI(r),Zm(r,s)}}}break;case"textarea":qI(t,n);break;case"select":e=n.value,e!=null&&Io(t,!!n.multiple,e,!1)}};ZI=Mv;eC=Ai;var sD={usingClientEntryPoint:!1,Events:[Rc,fo,qh,XI,JI,Mv]},Fa={findFiberByHostInstance:di,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iD={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:is.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rC(t),t===null?null:t.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||nD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{Bh=bu.inject(iD),vr=bu}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sD;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zv(e))throw Error(U(200));return tD(t,e,null,n)};An.createRoot=function(t,e){if(!zv(t))throw Error(U(299));var n=!1,r="",s=MR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fv(t,1,!1,null,null,n,!1,r,s),t[Qr]=e.current,Bl(t.nodeType===8?t.parentNode:t),new Bv(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=rC(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return Ai(t)};An.hydrate=function(t,e,n){if(!tf(e))throw Error(U(200));return nf(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!zv(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=MR;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=DR(e,null,t,1,n??null,s,!1,i,o),t[Qr]=e.current,Bl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ef(e)};An.render=function(t,e,n){if(!tf(e))throw Error(U(200));return nf(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!tf(t))throw Error(U(40));return t._reactRootContainer?(Ai(function(){nf(null,null,t,!1,function(){t._reactRootContainer=null,t[Qr]=null})}),!0):!1};An.unstable_batchedUpdates=Mv;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!tf(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return nf(t,e,n,!1,r)};An.version="18.2.0-next-9e3b772b8-20220608";function VR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VR)}catch(t){console.error(t)}}VR(),DI.exports=An;var $R=DI.exports;const oD=II($R);var yS=$R;qm.createRoot=yS.createRoot,qm.hydrateRoot=yS.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xl.apply(this,arguments)}var ws;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ws||(ws={}));const ES="popstate";function aD(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=zi(s.location.hash.substr(1));return jg("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Xd(i))}function r(s,i){rf(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return cD(e,n,r,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lD(){return Math.random().toString(36).substr(2,8)}function SS(t,e){return{usr:t.state,key:t.key,idx:e}}function jg(t,e,n,r){return n===void 0&&(n=null),Xl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zi(e):e,{state:n,key:e&&e.key||r||lD()})}function Xd(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function cD(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ws.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(Xl({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=ws.Pop;let E=u(),_=E==null?null:E-c;c=E,l&&l({action:a,location:g.location,delta:_})}function f(E,_){a=ws.Push;let v=jg(g.location,E,_);n&&n(v,E),c=u()+1;let y=SS(v,c),S=g.createHref(v);try{o.pushState(y,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(S)}i&&l&&l({action:a,location:g.location,delta:1})}function p(E,_){a=ws.Replace;let v=jg(g.location,E,_);n&&n(v,E),c=u();let y=SS(v,c),S=g.createHref(v);o.replaceState(y,"",S),i&&l&&l({action:a,location:g.location,delta:0})}function m(E){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof E=="string"?E:Xd(E);return ct(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let g={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(ES,d),l=E,()=>{s.removeEventListener(ES,d),l=null}},createHref(E){return e(s,E)},createURL:m,encodeLocation(E){let _=m(E);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(E){return o.go(E)}};return g}var wS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(wS||(wS={}));function uD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?zi(e):e,s=Hv(r.pathname||"/",n);if(s==null)return null;let i=jR(t);dD(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=ED(i[a],TD(s));return o}function jR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Os([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jR(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:vD(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of FR(i.path))s(i,o,l)}),e}function FR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=FR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function dD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:yD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const hD=/^:\w+$/,fD=3,pD=2,mD=1,gD=10,_D=-2,TS=t=>t==="*";function vD(t,e){let n=t.split("/"),r=n.length;return n.some(TS)&&(r+=_D),e&&(r+=pD),n.filter(s=>!TS(s)).reduce((s,i)=>s+(hD.test(i)?fD:i===""?mD:gD),r)}function yD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function ED(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=SD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;i.push({params:r,pathname:Os([s,u.pathname]),pathnameBase:AD(Os([s,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(s=Os([s,u.pathnameBase]))}return i}function SD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let f=a[d]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=ID(a[d]||"",u),c},{}),pathname:i,pathnameBase:o,pattern:t}}function wD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),rf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function TD(t){try{return decodeURI(t)}catch(e){return rf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ID(t,e){try{return decodeURIComponent(t)}catch(n){return rf(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Hv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function CD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?zi(t):t;return{pathname:n?n.startsWith("/")?n:RD(n,e):e,search:ND(r),hash:xD(s)}}function RD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Jp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=zi(t):(s=Xl({},t),ct(!s.pathname||!s.pathname.includes("?"),Jp("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),Jp("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),Jp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=CD(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Os=t=>t.join("/").replace(/\/\/+/g,"/"),AD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ND=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function bD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const UR=["post","put","patch","delete"];new Set(UR);const kD=["get",...UR];new Set(kD);/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jd(){return Jd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jd.apply(this,arguments)}const Gv=C.createContext(null),BR=C.createContext(null),Hi=C.createContext(null),sf=C.createContext(null),Cr=C.createContext({outlet:null,matches:[],isDataRoute:!1}),zR=C.createContext(null);function PD(t,e){let{relative:n}=e===void 0?{}:e;pa()||ct(!1);let{basename:r,navigator:s}=C.useContext(Hi),{hash:i,pathname:o,search:a}=Kv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Os([r,o])),s.createHref({pathname:l,search:a,hash:i})}function pa(){return C.useContext(sf)!=null}function xn(){return pa()||ct(!1),C.useContext(sf).location}function HR(t){C.useContext(Hi).static||C.useLayoutEffect(t)}function bn(){let{isDataRoute:t}=C.useContext(Cr);return t?GD():LD()}function LD(){pa()||ct(!1);let t=C.useContext(Gv),{basename:e,navigator:n}=C.useContext(Hi),{matches:r}=C.useContext(Cr),{pathname:s}=xn(),i=JSON.stringify(Wv(r).map(l=>l.pathnameBase)),o=C.useRef(!1);return HR(()=>{o.current=!0}),C.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=qv(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Os([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,s,t])}const OD=C.createContext(null);function DD(t){let e=C.useContext(Cr).outlet;return e&&C.createElement(OD.Provider,{value:t},e)}function lr(){let{matches:t}=C.useContext(Cr),e=t[t.length-1];return e?e.params:{}}function Kv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=C.useContext(Cr),{pathname:s}=xn(),i=JSON.stringify(Wv(r).map(o=>o.pathnameBase));return C.useMemo(()=>qv(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function MD(t,e){return VD(t,e)}function VD(t,e,n){pa()||ct(!1);let{navigator:r}=C.useContext(Hi),{matches:s}=C.useContext(Cr),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=xn(),c;if(e){var u;let g=typeof e=="string"?zi(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||ct(!1),c=g}else c=l;let d=c.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=uD(t,{pathname:f}),m=BD(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Os([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Os([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n);return e&&m?C.createElement(sf.Provider,{value:{location:Jd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ws.Pop}},m):m}function $D(){let t=qD(),e=bD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),n?C.createElement("pre",{style:s},n):null,i)}const jD=C.createElement($D,null);class FD extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?C.createElement(Cr.Provider,{value:this.props.routeContext},C.createElement(zR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function UD(t){let{routeContext:e,match:n,children:r}=t,s=C.useContext(Gv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),C.createElement(Cr.Provider,{value:e},r)}function BD(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ct(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||jD);let f=e.concat(i.slice(0,c+1)),p=()=>{let m;return u?m=d:l.route.Component?m=C.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,C.createElement(UD,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?C.createElement(FD,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var Fg;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Fg||(Fg={}));var Jl;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Jl||(Jl={}));function zD(t){let e=C.useContext(Gv);return e||ct(!1),e}function HD(t){let e=C.useContext(BR);return e||ct(!1),e}function WD(t){let e=C.useContext(Cr);return e||ct(!1),e}function WR(t){let e=WD(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function qD(){var t;let e=C.useContext(zR),n=HD(Jl.UseRouteError),r=WR(Jl.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function GD(){let{router:t}=zD(Fg.UseNavigateStable),e=WR(Jl.UseNavigateStable),n=C.useRef(!1);return HR(()=>{n.current=!0}),C.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Jd({fromRouteId:e},i)))},[t,e])}function KD(t){let{to:e,replace:n,state:r,relative:s}=t;pa()||ct(!1);let{matches:i}=C.useContext(Cr),{pathname:o}=xn(),a=bn(),l=qv(e,Wv(i).map(u=>u.pathnameBase),o,s==="path"),c=JSON.stringify(l);return C.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:s}),[a,c,s,n,r]),null}function Xs(t){return DD(t.context)}function ve(t){ct(!1)}function QD(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ws.Pop,navigator:i,static:o=!1}=t;pa()&&ct(!1);let a=e.replace(/^\/*/,"/"),l=C.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=zi(r));let{pathname:c="/",search:u="",hash:d="",state:f=null,key:p="default"}=r,m=C.useMemo(()=>{let g=Hv(c,a);return g==null?null:{location:{pathname:g,search:u,hash:d,state:f,key:p},navigationType:s}},[a,c,u,d,f,p,s]);return m==null?null:C.createElement(Hi.Provider,{value:l},C.createElement(sf.Provider,{children:n,value:m}))}function IS(t){let{children:e,location:n}=t;return MD(Ug(e),n)}var CS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(CS||(CS={}));new Promise(()=>{});function Ug(t,e){e===void 0&&(e=[]);let n=[];return C.Children.forEach(t,(r,s)=>{if(!C.isValidElement(r))return;let i=[...e,s];if(r.type===C.Fragment){n.push.apply(n,Ug(r.props.children,i));return}r.type!==ve&&ct(!1),!r.props.index||!r.props.children||ct(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ug(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zd(){return Zd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zd.apply(this,arguments)}function qR(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function YD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XD(t,e){return t.button===0&&(!e||e==="_self")&&!YD(t)}function Bg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function JD(t,e){let n=Bg(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)});return n}const ZD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],eM=["aria-current","caseSensitive","className","end","style","to","children"],RS="startTransition";function tM(t){let{basename:e,children:n,window:r}=t,s=C.useRef();s.current==null&&(s.current=aD({window:r,v5Compat:!0}));let i=s.current,[o,a]=C.useState({action:i.action,location:i.location}),l=C.useCallback(c=>{RS in f0?f0[RS](()=>a(c)):a(c)},[a]);return C.useLayoutEffect(()=>i.listen(l),[i,l]),C.createElement(QD,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const nM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=C.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,d=qR(e,ZD),{basename:f}=C.useContext(Hi),p,m=!1;if(typeof c=="string"&&rM.test(c)&&(p=c,nM))try{let v=new URL(window.location.href),y=c.startsWith("//")?new URL(v.protocol+c):new URL(c),S=Hv(y.pathname,f);y.origin===v.origin&&S!=null?c=S+y.search+y.hash:m=!0}catch{}let g=PD(c,{relative:s}),E=sM(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s});function _(v){r&&r(v),v.defaultPrevented||E(v)}return C.createElement("a",Zd({},d,{href:p||g,onClick:m||i?r:_,ref:n,target:l}))}),dr=C.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,children:c}=e,u=qR(e,eM),d=Kv(l,{relative:u.relative}),f=xn(),p=C.useContext(BR),{navigator:m}=C.useContext(Hi),g=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,E=f.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(E=E.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase());let v=E===g||!o&&E.startsWith(g)&&E.charAt(g.length)==="/",y=_!=null&&(_===g||!o&&_.startsWith(g)&&_.charAt(g.length)==="/"),S=v?r:void 0,w;typeof i=="function"?w=i({isActive:v,isPending:y}):w=[i,v?"active":null,y?"pending":null].filter(Boolean).join(" ");let N=typeof a=="function"?a({isActive:v,isPending:y}):a;return C.createElement(gt,Zd({},u,{"aria-current":S,className:w,ref:n,style:N,to:l}),typeof c=="function"?c({isActive:v,isPending:y}):c)});var AS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(AS||(AS={}));var NS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(NS||(NS={}));function sM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=bn(),l=xn(),c=Kv(t,{relative:o});return C.useCallback(u=>{if(XD(u,n)){u.preventDefault();let d=r!==void 0?r:Xd(l)===Xd(c);a(t,{replace:d,state:s,preventScrollReset:i,relative:o})}},[l,a,c,r,s,n,t,i,o])}function iM(t){let e=C.useRef(Bg(t)),n=C.useRef(!1),r=xn(),s=C.useMemo(()=>JD(r.search,n.current?null:e.current),[r.search]),i=bn(),o=C.useCallback((a,l)=>{const c=Bg(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}function oM(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var aM=oM,Se=aM;function lM(t){return!!t&&typeof t.then=="function"}var Ge=lM;function cM(t,e){if(t!=null)return t;throw Se(e??"Got unexpected null or undefined")}var tt=cM;function ye(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class of{getValue(){throw Se("BaseLoadable")}toPromise(){throw Se("BaseLoadable")}valueMaybe(){throw Se("BaseLoadable")}valueOrThrow(){throw Se(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Se("BaseLoadable")}promiseOrThrow(){throw Se(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Se("BaseLoadable")}errorOrThrow(){throw Se(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Se("BaseLoadable")}}class uM extends of{constructor(e){super(),ye(this,"state","hasValue"),ye(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Ge(n)?Ni(n):Go(n)?n:Nc(n)}catch(n){return Ge(n)?Ni(n.next(()=>this.map(e))):af(n)}}}class dM extends of{constructor(e){super(),ye(this,"state","hasError"),ye(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class GR extends of{constructor(e){super(),ye(this,"state","loading"),ye(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Ni(this.contents.then(n=>{const r=e(n);if(Go(r)){const s=r;switch(s.state){case"hasValue":return s.contents;case"hasError":throw s.contents;case"loading":return s.contents}}return r}).catch(n=>{if(Ge(n))return n.then(()=>this.map(e).contents);throw n}))}}function Nc(t){return Object.freeze(new uM(t))}function af(t){return Object.freeze(new dM(t))}function Ni(t){return Object.freeze(new GR(t))}function KR(){return Object.freeze(new GR(new Promise(()=>{})))}function hM(t){return t.every(e=>e.state==="hasValue")?Nc(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?af(tt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Ni(Promise.all(t.map(e=>e.contents)))}function QR(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(s=>t[s])).map(s=>Go(s)?s:Ge(s)?Ni(s):Nc(s)),r=hM(n);return Array.isArray(t)?r:r.map(s=>Object.getOwnPropertyNames(t).reduce((i,o,a)=>({...i,[o]:s[a]}),{}))}function Go(t){return t instanceof of}const fM={of:t=>Ge(t)?Ni(t):Go(t)?t:Nc(t),error:t=>af(t),loading:()=>KR(),all:QR,isLoadable:Go};var Wi={loadableWithValue:Nc,loadableWithError:af,loadableWithPromise:Ni,loadableLoading:KR,loadableAll:QR,isLoadable:Go,RecoilLoadable:fM},pM=Wi.loadableWithValue,mM=Wi.loadableWithError,gM=Wi.loadableWithPromise,_M=Wi.loadableLoading,vM=Wi.loadableAll,yM=Wi.isLoadable,EM=Wi.RecoilLoadable,xc=Object.freeze({__proto__:null,loadableWithValue:pM,loadableWithError:mM,loadableWithPromise:gM,loadableLoading:_M,loadableAll:vM,isLoadable:yM,RecoilLoadable:EM});const zg={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function SM(t,e){var n,r;const s=(n=process.env[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(s==null||s==="")return;if(!["true","false"].includes(s))throw Se(`({}).${t} value must be 'true', 'false', or empty: ${s}`);e(s==="true")}function wM(t,e){var n;const r=(n=process.env[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function TM(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(SM("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{zg.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),wM("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{zg.RECOIL_GKS_ENABLED.add(n)})}))}TM();var ma=zg;function lf(t){return ma.RECOIL_GKS_ENABLED.has(t)}lf.setPass=t=>{ma.RECOIL_GKS_ENABLED.add(t)};lf.setFail=t=>{ma.RECOIL_GKS_ENABLED.delete(t)};lf.clear=()=>{ma.RECOIL_GKS_ENABLED.clear()};var Fe=lf;function IM(t,e,{error:n}={}){return null}var CM=IM,Qv=CM,Zp,em,tm;const RM=(Zp=pe.createMutableSource)!==null&&Zp!==void 0?Zp:pe.unstable_createMutableSource,YR=(em=pe.useMutableSource)!==null&&em!==void 0?em:pe.unstable_useMutableSource,XR=(tm=pe.useSyncExternalStore)!==null&&tm!==void 0?tm:pe.unstable_useSyncExternalStore;function AM(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function NM(){return Fe("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Fe("recoil_sync_external_store")&&XR!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Fe("recoil_mutable_source")&&YR!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Fe("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Fe("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function xM(){return!1}var bc={createMutableSource:RM,useMutableSource:YR,useSyncExternalStore:XR,currentRendererSupportsUseSyncExternalStore:AM,reactMode:NM,isFastRefreshEnabled:xM};class Yv{constructor(e){ye(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class JR extends Yv{}class ZR extends Yv{}function bM(t){return t instanceof JR||t instanceof ZR}var cf={AbstractRecoilValue:Yv,RecoilState:JR,RecoilValueReadOnly:ZR,isRecoilValue:bM},kM=cf.AbstractRecoilValue,PM=cf.RecoilState,LM=cf.RecoilValueReadOnly,OM=cf.isRecoilValue,Ko=Object.freeze({__proto__:null,AbstractRecoilValue:kM,RecoilState:PM,RecoilValueReadOnly:LM,isRecoilValue:OM});function DM(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var uf=DM;class e1{}const MM=new e1,xi=new Map,Xv=new Map;function VM(t){return uf(t,e=>tt(Xv.get(e)))}function $M(t){if(xi.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function jM(t){ma.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&$M(t.key),xi.set(t.key,t);const e=t.set==null?new Ko.RecoilValueReadOnly(t.key):new Ko.RecoilState(t.key);return Xv.set(t.key,e),e}class t1 extends Error{}function FM(t){const e=xi.get(t);if(e==null)throw new t1(`Missing definition for RecoilValue: "${t}""`);return e}function UM(t){return xi.get(t)}const eh=new Map;function BM(t){var e;if(!Fe("recoil_memory_managament_2020"))return;const n=xi.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;xi.delete(t),(r=n1(t))===null||r===void 0||r(),eh.delete(t)}}function zM(t,e){Fe("recoil_memory_managament_2020")&&(e===void 0?eh.delete(t):eh.set(t,e))}function n1(t){return eh.get(t)}var yn={nodes:xi,recoilValues:Xv,registerNode:jM,getNode:FM,getNodeMaybe:UM,deleteNodeConfigIfPossible:BM,setConfigDeletionHandler:zM,getConfigDeletionHandler:n1,recoilValuesForKeys:VM,NodeMissingError:t1,DefaultValue:e1,DEFAULT_VALUE:MM};function HM(t,e){e()}var WM={enqueueExecution:HM};function qM(t,e){return e={exports:{}},t(e,e.exports),e.exports}var GM=qM(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},n={},r=5,s=Math.pow(2,r),i=s-1,o=s/2,a=s/4,l={},c=function(I){return function(){return I}},u=n.hash=function(A){var I=typeof A>"u"?"undefined":e(A);if(I==="number")return A;I!=="string"&&(A+="");for(var F=0,K=0,Q=A.length;K<Q;++K){var te=A.charCodeAt(K);F=(F<<5)-F+te|0}return F},d=function(I){return I-=I>>1&1431655765,I=(I&858993459)+(I>>2&858993459),I=I+(I>>4)&252645135,I+=I>>8,I+=I>>16,I&127},f=function(I,F){return F>>>I&i},p=function(I){return 1<<I},m=function(I,F){return d(I&F-1)},g=function(I,F,K,Q){var te=Q;if(!I){var he=Q.length;te=new Array(he);for(var ue=0;ue<he;++ue)te[ue]=Q[ue]}return te[F]=K,te},E=function(I,F,K){var Q=K.length-1,te=0,he=0,ue=K;if(I)te=he=F;else for(ue=new Array(Q);te<F;)ue[he++]=K[te++];for(++te;te<=Q;)ue[he++]=K[te++];return I&&(ue.length=Q),ue},_=function(I,F,K,Q){var te=Q.length;if(I){for(var he=te;he>=F;)Q[he--]=Q[he];return Q[F]=K,Q}for(var ue=0,de=0,Te=new Array(te+1);ue<F;)Te[de++]=Q[ue++];for(Te[F]=K;ue<te;)Te[++de]=Q[ue++];return Te},v=1,y=2,S=3,w=4,N={__hamt_isEmpty:!0},P=function(I){return I===N||I&&I.__hamt_isEmpty},O=function(I,F,K,Q){return{type:v,edit:I,hash:F,key:K,value:Q,_modify:M}},J=function(I,F,K){return{type:y,edit:I,hash:F,children:K,_modify:W}},T=function(I,F,K){return{type:S,edit:I,mask:F,children:K,_modify:ne}},b=function(I,F,K){return{type:w,edit:I,size:F,children:K,_modify:Ie}},R=function(I){return I===N||I.type===v||I.type===y},k=function(I,F,K,Q,te){for(var he=[],ue=Q,de=0,Te=0;ue;++Te)ue&1&&(he[Te]=te[de++]),ue>>>=1;return he[F]=K,b(I,de+1,he)},L=function(I,F,K,Q){for(var te=new Array(F-1),he=0,ue=0,de=0,Te=Q.length;de<Te;++de)if(de!==K){var Ze=Q[de];Ze&&!P(Ze)&&(te[he++]=Ze,ue|=1<<de)}return T(I,ue,te)},z=function A(I,F,K,Q,te,he){if(K===te)return J(I,K,[he,Q]);var ue=f(F,K),de=f(F,te);return T(I,p(ue)|p(de),ue===de?[A(I,F+r,K,Q,te,he)]:ue<de?[Q,he]:[he,Q])},oe=function(I,F,K,Q,te,he,ue,de){for(var Te=te.length,Ze=0;Ze<Te;++Ze){var un=te[Ze];if(K(ue,un.key)){var wt=un.value,Pn=he(wt);return Pn===wt?te:Pn===l?(--de.value,E(I,Ze,te)):g(I,Ze,O(F,Q,ue,Pn),te)}}var Wn=he();return Wn===l?te:(++de.value,g(I,Te,O(F,Q,ue,Wn),te))},se=function(I,F){return I===F.edit},M=function(I,F,K,Q,te,he,ue){if(F(he,this.key)){var de=Q(this.value);return de===this.value?this:de===l?(--ue.value,N):se(I,this)?(this.value=de,this):O(I,te,he,de)}var Te=Q();return Te===l?this:(++ue.value,z(I,K,this.hash,this,te,O(I,te,he,Te)))},W=function(I,F,K,Q,te,he,ue){if(te===this.hash){var de=se(I,this),Te=oe(de,I,F,this.hash,this.children,Q,he,ue);return Te===this.children?this:Te.length>1?J(I,this.hash,Te):Te[0]}var Ze=Q();return Ze===l?this:(++ue.value,z(I,K,this.hash,this,te,O(I,te,he,Ze)))},ne=function(I,F,K,Q,te,he,ue){var de=this.mask,Te=this.children,Ze=f(K,te),un=p(Ze),wt=m(de,un),Pn=de&un,Wn=Pn?Te[wt]:N,Zi=Wn._modify(I,F,K+r,Q,te,he,ue);if(Wn===Zi)return this;var fu=se(I,this),ka=de,Pa=void 0;if(Pn&&P(Zi)){if(ka&=~un,!ka)return N;if(Te.length<=2&&R(Te[wt^1]))return Te[wt^1];Pa=E(fu,wt,Te)}else if(!Pn&&!P(Zi)){if(Te.length>=o)return k(I,Ze,Zi,de,Te);ka|=un,Pa=_(fu,wt,Zi,Te)}else Pa=g(fu,wt,Zi,Te);return fu?(this.mask=ka,this.children=Pa,this):T(I,ka,Pa)},Ie=function(I,F,K,Q,te,he,ue){var de=this.size,Te=this.children,Ze=f(K,te),un=Te[Ze],wt=(un||N)._modify(I,F,K+r,Q,te,he,ue);if(un===wt)return this;var Pn=se(I,this),Wn=void 0;if(P(un)&&!P(wt))++de,Wn=g(Pn,Ze,wt,Te);else if(!P(un)&&P(wt)){if(--de,de<=a)return L(I,de,Ze,Te);Wn=g(Pn,Ze,N,Te)}else Wn=g(Pn,Ze,wt,Te);return Pn?(this.size=de,this.children=Wn,this):b(I,de,Wn)};N._modify=function(A,I,F,K,Q,te,he){var ue=K();return ue===l?N:(++he.value,O(A,Q,te,ue))};function x(A,I,F,K,Q){this._editable=A,this._edit=I,this._config=F,this._root=K,this._size=Q}x.prototype.setTree=function(A,I){return this._editable?(this._root=A,this._size=I,this):A===this._root?this:new x(this._editable,this._edit,this._config,A,I)};var $=n.tryGetHash=function(A,I,F,K){for(var Q=K._root,te=0,he=K._config.keyEq;;)switch(Q.type){case v:return he(F,Q.key)?Q.value:A;case y:{if(I===Q.hash)for(var ue=Q.children,de=0,Te=ue.length;de<Te;++de){var Ze=ue[de];if(he(F,Ze.key))return Ze.value}return A}case S:{var un=f(te,I),wt=p(un);if(Q.mask&wt){Q=Q.children[m(Q.mask,wt)],te+=r;break}return A}case w:{if(Q=Q.children[f(te,I)],Q){te+=r;break}return A}default:return A}};x.prototype.tryGetHash=function(A,I,F){return $(A,I,F,this)};var j=n.tryGet=function(A,I,F){return $(A,F._config.hash(I),I,F)};x.prototype.tryGet=function(A,I){return j(A,I,this)};var ie=n.getHash=function(A,I,F){return $(void 0,A,I,F)};x.prototype.getHash=function(A,I){return ie(A,I,this)},n.get=function(A,I){return $(void 0,I._config.hash(A),A,I)},x.prototype.get=function(A,I){return j(I,A,this)};var Y=n.has=function(A,I,F){return $(l,A,I,F)!==l};x.prototype.hasHash=function(A,I){return Y(A,I,this)};var _e=n.has=function(A,I){return Y(I._config.hash(A),A,I)};x.prototype.has=function(A){return _e(A,this)};var we=function(I,F){return I===F};n.make=function(A){return new x(0,0,{keyEq:A&&A.keyEq||we,hash:A&&A.hash||u},N,0)},n.empty=n.make();var le=n.isEmpty=function(A){return A&&!!P(A._root)};x.prototype.isEmpty=function(){return le(this)};var Xe=n.modifyHash=function(A,I,F,K){var Q={value:K._size},te=K._root._modify(K._editable?K._edit:NaN,K._config.keyEq,0,A,I,F,Q);return K.setTree(te,Q.value)};x.prototype.modifyHash=function(A,I,F){return Xe(F,A,I,this)};var St=n.modify=function(A,I,F){return Xe(A,F._config.hash(I),I,F)};x.prototype.modify=function(A,I){return St(I,A,this)};var $e=n.setHash=function(A,I,F,K){return Xe(c(F),A,I,K)};x.prototype.setHash=function(A,I,F){return $e(A,I,F,this)};var Je=n.set=function(A,I,F){return $e(F._config.hash(A),A,I,F)};x.prototype.set=function(A,I){return Je(A,I,this)};var kn=c(l),kr=n.removeHash=function(A,I,F){return Xe(kn,A,I,F)};x.prototype.removeHash=x.prototype.deleteHash=function(A,I){return kr(A,I,this)};var rn=n.remove=function(A,I){return kr(I._config.hash(A),A,I)};x.prototype.remove=x.prototype.delete=function(A){return rn(A,this)};var Ft=n.beginMutation=function(A){return new x(A._editable+1,A._edit+1,A._config,A._root,A._size)};x.prototype.beginMutation=function(){return Ft(this)};var hu=n.endMutation=function(A){return A._editable=A._editable&&A._editable-1,A};x.prototype.endMutation=function(){return hu(this)};var CP=n.mutate=function(A,I){var F=Ft(I);return A(F),hu(F)};x.prototype.mutate=function(A){return CP(A,this)};var Tp=function(I){return I&&a0(I[0],I[1],I[2],I[3],I[4])},a0=function(I,F,K,Q,te){for(;K<I;){var he=F[K++];if(he&&!P(he))return l0(he,Q,[I,F,K,Q,te])}return Tp(te)},l0=function(I,F,K){switch(I.type){case v:return{value:F(I),rest:K};case y:case w:case S:var Q=I.children;return a0(Q.length,Q,0,F,K);default:return Tp(K)}},RP={done:!0};function Ip(A){this.v=A}Ip.prototype.next=function(){if(!this.v)return RP;var A=this.v;return this.v=Tp(A.rest),A},Ip.prototype[Symbol.iterator]=function(){return this};var Cp=function(I,F){return new Ip(l0(I._root,F))},AP=function(I){return[I.key,I.value]},NP=n.entries=function(A){return Cp(A,AP)};x.prototype.entries=x.prototype[Symbol.iterator]=function(){return NP(this)};var xP=function(I){return I.key},bP=n.keys=function(A){return Cp(A,xP)};x.prototype.keys=function(){return bP(this)};var kP=function(I){return I.value},PP=n.values=x.prototype.values=function(A){return Cp(A,kP)};x.prototype.values=function(){return PP(this)};var c0=n.fold=function(A,I,F){var K=F._root;if(K.type===v)return A(I,K.value,K.key);for(var Q=[K.children],te=void 0;te=Q.pop();)for(var he=0,ue=te.length;he<ue;){var de=te[he++];de&&de.type&&(de.type===v?I=A(I,de.value,de.key):Q.push(de.children))}return I};x.prototype.fold=function(A,I){return c0(A,I,this)};var LP=n.forEach=function(A,I){return c0(function(F,K,Q){return A(K,Q,I)},null,I)};x.prototype.forEach=function(A){return LP(A,this)};var OP=n.count=function(A){return A._size};x.prototype.count=function(){return OP(this)},Object.defineProperty(x.prototype,"size",{get:x.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class KM{constructor(e){ye(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Zv(this)}toMap(){return new Map(this._map)}}class Jv{constructor(e){if(ye(this,"_hamt",GM.empty.beginMutation()),e instanceof Jv){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Zv(this)}toMap(){return new Map(this._hamt)}}function Zv(t){return Fe("recoil_hamt_2020")?new Jv(t):new KM(t)}var QM={persistentMap:Zv},YM=QM.persistentMap,XM=Object.freeze({__proto__:null,persistentMap:YM});function JM(t,...e){const n=new Set;e:for(const r of t){for(const s of e)if(s.has(r))continue e;n.add(r)}return n}var Sl=JM;function ZM(t,e){const n=new Map;return t.forEach((r,s)=>{n.set(s,e(r,s))}),n}var th=ZM;function eV(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function tV(t){return{nodeDeps:th(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:th(t.nodeToNodeSubscriptions,e=>new Set(e))}}function nm(t,e,n,r){const{nodeDeps:s,nodeToNodeSubscriptions:i}=n,o=s.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;s.set(t,e);const a=o==null?e:Sl(e,o);for(const l of a)i.has(l)||i.set(l,new Set),tt(i.get(l)).add(t);if(o){const l=Sl(o,e);for(const c of l){if(!i.has(c))return;const u=tt(i.get(c));u.delete(t),u.size===0&&i.delete(c)}}}function nV(t,e,n,r){var s,i,o,a;const l=n.getState();r===l.currentTree.version||r===((s=l.nextTree)===null||s===void 0?void 0:s.version)||((i=l.previousTree)===null||i===void 0||i.version);const c=n.getGraph(r);if(nm(t,e,c),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const d=n.getGraph(l.currentTree.version);nm(t,e,d,c)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var u;const d=(u=l.nextTree)===null||u===void 0?void 0:u.version;if(d!==void 0){const f=n.getGraph(d);nm(t,e,f,c)}}}var kc={cloneGraph:tV,graph:eV,saveDepsToStore:nV};let rV=0;const sV=()=>rV++;let iV=0;const oV=()=>iV++;let aV=0;const lV=()=>aV++;var df={getNextTreeStateVersion:sV,getNextStoreID:oV,getNextComponentID:lV};const{persistentMap:xS}=XM,{graph:cV}=kc,{getNextTreeStateVersion:r1}=df;function s1(){const t=r1();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:xS(),nonvalidatedAtoms:xS()}}function uV(){const t=s1();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,cV()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var i1={makeEmptyTreeState:s1,makeEmptyStoreState:uV,getNextTreeStateVersion:r1};class o1{}function dV(){return new o1}var hf={RetentionZone:o1,retentionZone:dV};function hV(t,e){const n=new Set(t);return n.add(e),n}function fV(t,e){const n=new Set(t);return n.delete(e),n}function pV(t,e,n){const r=new Map(t);return r.set(e,n),r}function mV(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function gV(t,e){const n=new Map(t);return n.delete(e),n}function _V(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var a1={setByAddingToSet:hV,setByDeletingFromSet:fV,mapBySettingInMap:pV,mapByUpdatingInMap:mV,mapByDeletingFromMap:gV,mapByDeletingMultipleFromMap:_V};function*vV(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var ey=vV;function yV(t,e){return new Proxy(t,{get:(r,s)=>(!(s in r)&&s in e&&(r[s]=e[s]()),r[s]),ownKeys:r=>Object.keys(r)})}var l1=yV;const{getNode:Pc,getNodeMaybe:EV,recoilValuesForKeys:bS}=yn,{RetentionZone:kS}=hf,{setByAddingToSet:SV}=a1,wV=Object.freeze(new Set);class TV extends Error{}function IV(t,e,n){if(!Fe("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function s(i){let o=r.get(i);o||r.set(i,o=new Set),o.add(e)}if(n instanceof kS)s(n);else if(Array.isArray(n))for(const i of n)s(i);return()=>{if(!Fe("recoil_memory_managament_2020"))return;const{retention:i}=t.getState();function o(a){const l=i.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&i.nodesRetainedByZone.delete(a)}if(n instanceof kS)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function ty(t,e,n,r){const s=t.getState();if(s.nodeCleanupFunctions.has(n))return;const i=Pc(n),o=IV(t,n,i.retainedBy),a=i.init(t,e,r);s.nodeCleanupFunctions.set(n,()=>{a(),o()})}function CV(t,e,n){ty(t,t.getState().currentTree,e,n)}function RV(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function AV(t,e,n){return ty(t,e,n,"get"),Pc(n).get(t,e)}function c1(t,e,n){return Pc(n).peek(t,e)}function NV(t,e,n){var r;const s=EV(e);return s==null||(r=s.invalidate)===null||r===void 0||r.call(s,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:SV(t.dirtyAtoms,e)}}function xV(t,e,n,r){const s=Pc(n);if(s.set==null)throw new TV(`Attempt to set read-only RecoilValue: ${n}`);const i=s.set;return ty(t,e,n,"set"),i(t,e,r)}function bV(t,e,n){const r=t.getState(),s=t.getGraph(e.version),i=Pc(n).nodeType;return l1({type:i},{loadable:()=>c1(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>i==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return bS((o=s.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:bS(ey(u1(t,e,new Set([n])),l=>l!==n)),components:uf((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function u1(t,e,n){const r=new Set,s=Array.from(n),i=t.getGraph(e.version);for(let a=s.pop();a;a=s.pop()){var o;r.add(a);const l=(o=i.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:wV;for(const c of l)r.has(c)||s.push(c)}return r}var Js={getNodeLoadable:AV,peekNodeLoadable:c1,setNodeValue:xV,initializeNode:CV,cleanUpNode:RV,setUnvalidatedAtomValue_DEPRECATED:NV,peekNodeInfo:bV,getDownstreamNodes:u1};let d1=null;function kV(t){d1=t}function PV(){var t;(t=d1)===null||t===void 0||t()}var h1={setInvalidateMemoizedSnapshot:kV,invalidateMemoizedSnapshot:PV};const{getDownstreamNodes:LV,getNodeLoadable:f1,setNodeValue:OV}=Js,{getNextComponentID:DV}=df,{getNode:MV,getNodeMaybe:p1}=yn,{DefaultValue:ny}=yn,{reactMode:VV}=bc,{AbstractRecoilValue:$V,RecoilState:jV,RecoilValueReadOnly:FV,isRecoilValue:UV}=Ko,{invalidateMemoizedSnapshot:BV}=h1;function zV(t,{key:e},n=t.getState().currentTree){var r,s;const i=t.getState();n.version===i.currentTree.version||n.version===((r=i.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(s=i.previousTree)===null||s===void 0||s.version);const o=f1(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function HV(t,e){const n=t.clone();return e.forEach((r,s)=>{r.state==="hasValue"&&r.contents instanceof ny?n.delete(s):n.set(s,r)}),n}function WV(t,e,{key:n},r){if(typeof r=="function"){const s=f1(t,e,n);if(s.state==="loading"){const i=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Se(i)}else if(s.state==="hasError")throw s.contents;return r(s.contents)}else return r}function qV(t,e,n){if(n.type==="set"){const{recoilValue:s,valueOrUpdater:i}=n,o=WV(t,e,s,i),a=OV(t,e,s.key,o);for(const[l,c]of a.entries())Hg(e,l,c)}else if(n.type==="setLoadable"){const{recoilValue:{key:s},loadable:i}=n;Hg(e,s,i)}else if(n.type==="markModified"){const{recoilValue:{key:s}}=n;e.dirtyAtoms.add(s)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:s},unvalidatedValue:i}=n,o=p1(s);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(s),e.nonvalidatedAtoms.set(s,i),e.dirtyAtoms.add(s)}else Qv(`Unknown action ${n.type}`)}function Hg(t,e,n){n.state==="hasValue"&&n.contents instanceof ny?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function m1(t,e){t.replaceState(n=>{const r=g1(n);for(const s of e)qV(t,r,s);return _1(t,r),BV(),r})}function ff(t,e){if(wl.length){const n=wl[wl.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else m1(t,[e])}const wl=[];function GV(){const t=new Map;return wl.push(t),()=>{for(const[e,n]of t)m1(e,n);wl.pop()}}function g1(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function _1(t,e){const n=LV(t,e,e.dirtyAtoms);for(const i of n){var r,s;(r=p1(i))===null||r===void 0||(s=r.invalidate)===null||s===void 0||s.call(r,e)}}function v1(t,e,n){ff(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function KV(t,e,n){if(n instanceof ny)return v1(t,e,n);ff(t,{type:"setLoadable",recoilValue:e,loadable:n})}function QV(t,e){ff(t,{type:"markModified",recoilValue:e})}function YV(t,e,n){ff(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function XV(t,{key:e},n,r=null){const s=DV(),i=t.getState();i.nodeToComponentSubscriptions.has(e)||i.nodeToComponentSubscriptions.set(e,new Map),tt(i.nodeToComponentSubscriptions.get(e)).set(s,[r??"<not captured>",n]);const o=VV();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(s)||(l.delete(s),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function JV(t,e){var n;const{currentTree:r}=t.getState(),s=MV(e.key);(n=s.clearCache)===null||n===void 0||n.call(s,t,r)}var Rr={RecoilValueReadOnly:FV,AbstractRecoilValue:$V,RecoilState:jV,getRecoilValueAsLoadable:zV,setRecoilValue:v1,setRecoilValueLoadable:KV,markRecoilValueModified:QV,setUnvalidatedRecoilValue:YV,subscribeToRecoilValue:XV,isRecoilValue:UV,applyAtomValueWrites:HV,batchStart:GV,writeLoadableToTreeState:Hg,invalidateDownstreams:_1,copyTreeState:g1,refreshRecoilValue:JV};function ZV(t,e,n){const r=t.entries();let s=r.next();for(;!s.done;){const i=s.value;if(e.call(n,i[1],i[0],t))return!0;s=r.next()}return!1}var e$=ZV;const{cleanUpNode:t$}=Js,{deleteNodeConfigIfPossible:n$,getNode:y1}=yn,{RetentionZone:E1}=hf,r$=12e4,S1=new Set;function w1(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const s=new Set;for(const o of e)if(o instanceof E1)for(const a of a$(n,o))s.add(a);else s.add(o);const i=s$(t,s);for(const o of i)o$(t,r,o)}function s$(t,e){const n=t.getState(),r=n.currentTree,s=t.getGraph(r.version),i=new Set,o=new Set;return a(e),i;function a(l){const c=new Set,u=i$(t,r,l,i,o);for(const m of u){var d;if(y1(m).retainedBy==="recoilRoot"){o.add(m);continue}if(((d=n.retention.referenceCounts.get(m))!==null&&d!==void 0?d:0)>0){o.add(m);continue}if(T1(m).some(E=>n.retention.referenceCounts.get(E))){o.add(m);continue}const g=s.nodeToNodeSubscriptions.get(m);if(g&&e$(g,E=>o.has(E))){o.add(m);continue}i.add(m),c.add(m)}const f=new Set;for(const m of c)for(const g of(p=s.nodeDeps.get(m))!==null&&p!==void 0?p:S1){var p;i.has(g)||f.add(g)}f.size&&a(f)}}function i$(t,e,n,r,s){const i=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(tt(n.values().next().value));return o;function l(c){if(r.has(c)||s.has(c)){n.delete(c);return}if(a.has(c))return;const u=i.nodeToNodeSubscriptions.get(c);if(u)for(const d of u)l(d);a.add(c),n.delete(c),o.push(c)}}function o$(t,e,n){if(!Fe("recoil_memory_managament_2020"))return;t$(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const s=T1(n);for(const l of s){var i;(i=r.retention.nodesRetainedByZone.get(l))===null||i===void 0||i.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const c of l){var a;(a=o.nodeToNodeSubscriptions.get(c))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}n$(n)}function a$(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:S1}function T1(t){const e=y1(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof E1?[e]:e}function l$(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):w1(t,new Set([e]))}function c$(t,e,n){var r;if(!Fe("recoil_memory_managament_2020"))return;const s=t.getState().retention.referenceCounts,i=((r=s.get(e))!==null&&r!==void 0?r:0)+n;i===0?I1(t,e):s.set(e,i)}function I1(t,e){if(!Fe("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),l$(t,e)}function u$(t){if(!Fe("recoil_memory_managament_2020"))return;const e=t.getState();w1(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function d$(t){return t===void 0?"recoilRoot":t}var qi={SUSPENSE_TIMEOUT_MS:r$,updateRetainCount:c$,updateRetainCountToZero:I1,releaseScheduledRetainablesNow:u$,retainedByOptionWithDefault:d$};const{unstable_batchedUpdates:h$}=oD;var f$={unstable_batchedUpdates:h$};const{unstable_batchedUpdates:p$}=f$;var m$={unstable_batchedUpdates:p$};const{batchStart:g$}=Rr,{unstable_batchedUpdates:_$}=m$;let ry=_$||(t=>t());const v$=t=>{ry=t},y$=()=>ry,E$=t=>{ry(()=>{let e=()=>{};try{e=g$(),t()}finally{e()}})};var pf={getBatcher:y$,setBatcher:v$,batchUpdates:E$};function*S$(t){for(const e of t)for(const n of e)yield n}var C1=S$;const R1=typeof Window>"u"||typeof window>"u",w$=t=>!R1&&(t===window||t instanceof Window),T$=typeof navigator<"u"&&navigator.product==="ReactNative";var mf={isSSR:R1,isReactNative:T$,isWindow:w$};function I$(t,e){let n;return(...r)=>{n||(n={});const s=e(...r);return Object.hasOwnProperty.call(n,s)||(n[s]=t(...r)),n[s]}}function C$(t,e){let n,r;return(...s)=>{const i=e(...s);return n===i||(n=i,r=t(...s)),r}}function R$(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var A$={memoizeWithArgsHash:I$,memoizeOneWithArgsHash:C$,memoizeOneWithArgsHashAndInvalidation:R$};const{batchUpdates:Wg}=pf,{initializeNode:N$,peekNodeInfo:x$}=Js,{graph:b$}=kc,{getNextStoreID:k$}=df,{DEFAULT_VALUE:P$,recoilValues:PS,recoilValuesForKeys:LS}=yn,{AbstractRecoilValue:L$,getRecoilValueAsLoadable:O$,setRecoilValue:OS,setUnvalidatedRecoilValue:D$}=Rr,{updateRetainCount:pd}=qi,{setInvalidateMemoizedSnapshot:M$}=h1,{getNextTreeStateVersion:V$,makeEmptyStoreState:$$}=i1,{isSSR:j$}=mf,{memoizeOneWithArgsHashAndInvalidation:F$}=A$;class gf{constructor(e,n){ye(this,"_store",void 0),ye(this,"_refCount",1),ye(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),O$(this._store,r))),ye(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),ye(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return LS(o.dirtyAtoms)}const s=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?PS.values():r.isInitialized===!0?LS(C1([s,i])):ey(PS.values(),({key:o})=>!s.has(o)&&!i.has(o))}),ye(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),x$(this._store,this._store.getState().currentTree,r))),ye(this,"map",r=>{this.checkRefCount_INTERNAL();const s=new qg(this,Wg);return r(s),s}),ye(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const s=new qg(this,Wg);return s.retain(),await r(s),s.autoRelease_INTERNAL(),s}),this._store={storeID:k$(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const s=e.graphsByVersion;if(s.has(r))return tt(s.get(r));const i=b$();return s.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Se("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)N$(this._store,r,"get"),pd(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){j$||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Fe("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Fe("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function A1(t,e,n=!1){const r=t.getState(),s=n?V$():e.version;return{currentTree:{version:n?s:e.version,stateID:n?s:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(s,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(uf(r.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function U$(t){const e=new gf($$());return t!=null?e.map(t):e}const[DS,N1]=F$((t,e)=>{var n;const r=t.getState(),s=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:tt(r.previousTree);return new gf(A1(t,s),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});M$(N1);function B$(t,e="latest"){const n=DS(t,e);return n.isRetained()?n:(N1(),DS(t,e))}class qg extends gf{constructor(e,n){super(A1(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),ye(this,"_batch",void 0),ye(this,"set",(r,s)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{pd(i,r.key,1),OS(this.getStore_INTERNAL(),r,s)})}),ye(this,"reset",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{pd(s,r.key,1),OS(this.getStore_INTERNAL(),r,P$)})}),ye(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();Wg(()=>{for(const[i,o]of r.entries())pd(s,i,1),D$(s,new L$(i),o)})}),this._batch=n}}var _f={Snapshot:gf,MutableSnapshot:qg,freshSnapshot:U$,cloneSnapshot:B$},z$=_f.Snapshot,H$=_f.MutableSnapshot,W$=_f.freshSnapshot,q$=_f.cloneSnapshot,vf=Object.freeze({__proto__:null,Snapshot:z$,MutableSnapshot:H$,freshSnapshot:W$,cloneSnapshot:q$});function G$(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var K$=G$;const{useRef:Q$}=pe;function Y$(t){const e=Q$(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var MS=Y$;const{getNextTreeStateVersion:X$,makeEmptyStoreState:x1}=i1,{cleanUpNode:J$,getDownstreamNodes:Z$,initializeNode:e2,setNodeValue:t2,setUnvalidatedAtomValue_DEPRECATED:n2}=Js,{graph:r2}=kc,{cloneGraph:s2}=kc,{getNextStoreID:b1}=df,{createMutableSource:rm,reactMode:k1}=bc,{applyAtomValueWrites:i2}=Rr,{releaseScheduledRetainablesNow:P1}=qi,{freshSnapshot:o2}=vf,{useCallback:a2,useContext:L1,useEffect:Gg,useMemo:l2,useRef:c2,useState:u2}=pe;function Ua(){throw Se("This component must be used inside a <RecoilRoot> component.")}const O1=Object.freeze({storeID:b1(),getState:Ua,replaceState:Ua,getGraph:Ua,subscribeToTransactions:Ua,addTransactionMetadata:Ua});let Kg=!1;function VS(t){if(Kg)throw Se("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Fe("recoil_memory_managament_2020")&&Fe("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&P1(t);const n=e.currentTree.version,r=X$();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,s2(tt(e.graphsByVersion.get(n))))}}const D1=pe.createContext({current:O1}),yf=()=>L1(D1),M1=pe.createContext(null);function d2(){return L1(M1)}function sy(t,e,n){const r=Z$(t,n,n.dirtyAtoms);for(const s of r){const i=e.nodeToComponentSubscriptions.get(s);if(i)for(const[o,[a,l]]of i)l(n)}}function V1(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[s,i]of e.nodeTransactionSubscriptions)if(r.has(s))for(const[o,a]of i)a(t);for(const[s,i]of e.transactionSubscriptions)i(t);(!k1().early||e.suspendedComponentResolvers.size>0)&&(sy(t,e,n),e.suspendedComponentResolvers.forEach(s=>s()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(s=>s(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function h2(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,V1(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):Qv("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Fe("recoil_memory_managament_2020")&&n==null&&P1(t)}finally{e.commitDepth--}}function f2({setNotifyBatcherOfChange:t}){const e=yf(),[,n]=u2([]);return t(()=>n({})),Gg(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),Gg(()=>{WM.enqueueExecution("Batcher",()=>{h2(e.current)})}),null}function p2(t,e){const n=x1();return e({set:(r,s)=>{const i=n.currentTree,o=t2(t,i,r.key,s),a=new Set(o.keys()),l=i.nonvalidatedAtoms.clone();for(const c of a)l.delete(c);n.currentTree={...i,dirtyAtoms:K$(i.dirtyAtoms,a),atomValues:i2(i.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((s,i)=>{n.currentTree=n2(n.currentTree,i,s)})}}),n}function m2(t){const e=o2(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let $S=0;function g2({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let s;const i=p=>{const m=s.current.graphsByVersion;if(m.has(p))return tt(m.get(p));const g=r2();return m.set(p,g),g},o=(p,m)=>{if(m==null){const{transactionSubscriptions:g}=d.current.getState(),E=$S++;return g.set(E,p),{release:()=>{g.delete(E)}}}else{const{nodeTransactionSubscriptions:g}=d.current.getState();g.has(m)||g.set(m,new Map);const E=$S++;return tt(g.get(m)).set(E,p),{release:()=>{const _=g.get(m);_&&(_.delete(E),_.size===0&&g.delete(m))}}}},a=p=>{VS(d.current);for(const m of Object.keys(p))tt(d.current.getState().nextTree).transactionMetadata[m]=p[m]},l=p=>{VS(d.current);const m=tt(s.current.nextTree);let g;try{Kg=!0,g=p(m)}finally{Kg=!1}g!==m&&(s.current.nextTree=g,k1().early&&sy(d.current,s.current,g),tt(c.current)())},c=c2(null),u=a2(p=>{c.current=p},[c]),d=MS(()=>n??{storeID:b1(),getState:()=>s.current,replaceState:l,getGraph:i,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(d.current=n),s=MS(()=>t!=null?p2(d.current,t):e!=null?m2(e):x1());const f=l2(()=>rm==null?void 0:rm(s,()=>s.current.currentTree.version),[s]);return Gg(()=>{const p=d.current;for(const m of new Set(p.getState().knownAtoms))e2(p,m,"get");return()=>{for(const m of p.getState().knownAtoms)J$(p,m)}},[d]),pe.createElement(D1.Provider,{value:d},pe.createElement(M1.Provider,{value:f},pe.createElement(f2,{setNotifyBatcherOfChange:u}),r))}function _2(t){const{override:e,...n}=t,r=yf();return e===!1&&r.current!==O1?t.children:pe.createElement(g2,n)}function v2(){return yf().current.storeID}var os={RecoilRoot:_2,useStoreRef:yf,useRecoilMutableSource:d2,useRecoilStoreID:v2,notifyComponents_FOR_TESTING:sy,sendEndOfBatchNotifications_FOR_TESTING:V1};function y2(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var E2=y2;const{useEffect:S2,useRef:w2}=pe;function T2(t){const e=w2();return S2(()=>{e.current=t}),e.current}var $1=T2;const{useStoreRef:I2}=os,{SUSPENSE_TIMEOUT_MS:C2}=qi,{updateRetainCount:Ba}=qi,{RetentionZone:R2}=hf,{useEffect:A2,useRef:N2}=pe,{isSSR:jS}=mf;function x2(t){if(Fe("recoil_memory_managament_2020"))return b2(t)}function b2(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof R2?o:o.key),r=I2();A2(()=>{if(!Fe("recoil_memory_managament_2020"))return;const o=r.current;if(s.current&&!jS)window.clearTimeout(s.current),s.current=null;else for(const a of n)Ba(o,a,1);return()=>{for(const a of n)Ba(o,a,-1)}},[r,...n]);const s=N2(),i=$1(n);if(!jS&&(i===void 0||!E2(i,n))){const o=r.current;for(const a of n)Ba(o,a,1);if(i)for(const a of i)Ba(o,a,-1);s.current&&window.clearTimeout(s.current),s.current=window.setTimeout(()=>{s.current=null;for(const a of n)Ba(o,a,-1)},C2)}}var iy=x2;function k2(){return"<component name not available>"}var Lc=k2;const{batchUpdates:P2}=pf,{DEFAULT_VALUE:j1}=yn,{currentRendererSupportsUseSyncExternalStore:L2,reactMode:ga,useMutableSource:O2,useSyncExternalStore:D2}=bc,{useRecoilMutableSource:M2,useStoreRef:Ar}=os,{AbstractRecoilValue:Qg,getRecoilValueAsLoadable:Oc,setRecoilValue:nh,setUnvalidatedRecoilValue:V2,subscribeToRecoilValue:Qo}=Rr,{useCallback:_n,useEffect:Yo,useMemo:F1,useRef:Tl,useState:oy}=pe,{setByAddingToSet:$2}=a1,{isSSR:j2}=mf;function ay(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(s=>{const i=n.current.getState().suspendedComponentResolvers;i.add(s),j2&&Ge(t.contents)&&t.contents.finally(()=>{i.delete(s)})}):t.state==="hasError"?t.contents:Se(`Invalid value of loadable atom "${e.key}"`)}function F2(){const t=Lc(),e=Ar(),[,n]=oy([]),r=Tl(new Set);r.current=new Set;const s=Tl(new Set),i=Tl(new Map),o=_n(l=>{const c=i.current.get(l);c&&(c.release(),i.current.delete(l))},[i]),a=_n((l,c)=>{i.current.has(c)&&n([])},[]);return Yo(()=>{const l=e.current;Sl(r.current,s.current).forEach(c=>{if(i.current.has(c))return;const u=Qo(l,new Qg(c),f=>a(f,c),t);i.current.set(c,u),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),c)}):a(l.getState(),c)}),Sl(s.current,r.current).forEach(c=>{o(c)}),s.current=r.current}),Yo(()=>{const l=i.current;return Sl(r.current,new Set(l.keys())).forEach(c=>{const u=Qo(e.current,new Qg(c),d=>a(d,c),t);l.set(c,u)}),()=>l.forEach((c,u)=>o(u))},[t,e,o,a]),F1(()=>{function l(m){return g=>{nh(e.current,m,g)}}function c(m){return()=>nh(e.current,m,j1)}function u(m){var g;r.current.has(m.key)||(r.current=$2(r.current,m.key));const E=e.current.getState();return Oc(e.current,m,ga().early&&(g=E.nextTree)!==null&&g!==void 0?g:E.currentTree)}function d(m){const g=u(m);return ay(g,m,e)}function f(m){return[d(m),l(m)]}function p(m){return[u(m),l(m)]}return{getRecoilValue:d,getRecoilValueLoadable:u,getRecoilState:f,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:c}},[r,e])}const U2={current:0};function B2(t){const e=Ar(),n=Lc(),r=_n(()=>{var a;const l=e.current,c=l.getState(),u=ga().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return{loadable:Oc(l,t,u),key:t.key}},[e,t]),s=_n(a=>{let l;return()=>{var c,u;const d=a();return(c=l)!==null&&c!==void 0&&c.loadable.is(d.loadable)&&((u=l)===null||u===void 0?void 0:u.key)===d.key?l:(l=d,d)}},[]),i=F1(()=>s(r),[r,s]),o=_n(a=>{const l=e.current;return Qo(l,t,a,n).release},[e,t,n]);return D2(o,i,i).loadable}function z2(t){const e=Ar(),n=_n(()=>{var c;const u=e.current,d=u.getState(),f=ga().early&&(c=d.nextTree)!==null&&c!==void 0?c:d.currentTree;return Oc(u,t,f)},[e,t]),r=_n(()=>n(),[n]),s=Lc(),i=_n((c,u)=>{const d=e.current;return Qo(d,t,()=>{if(!Fe("recoil_suppress_rerender_in_callback"))return u();const p=n();l.current.is(p)||u(),l.current=p},s).release},[e,t,s,n]),o=M2();if(o==null)throw Se("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=O2(o,r,i),l=Tl(a);return Yo(()=>{l.current=a}),a}function Yg(t){const e=Ar(),n=Lc(),r=_n(()=>{var l;const c=e.current,u=c.getState(),d=ga().early&&(l=u.nextTree)!==null&&l!==void 0?l:u.currentTree;return Oc(c,t,d)},[e,t]),s=_n(()=>({loadable:r(),key:t.key}),[r,t.key]),i=_n(l=>{const c=s();return l.loadable.is(c.loadable)&&l.key===c.key?l:c},[s]);Yo(()=>{const l=Qo(e.current,t,c=>{a(i)},n);return a(i),l.release},[n,t,e,i]);const[o,a]=oy(s);return o.key!==t.key?s().loadable:o.loadable}function H2(t){const e=Ar(),[,n]=oy([]),r=Lc(),s=_n(()=>{var a;const l=e.current,c=l.getState(),u=ga().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return Oc(l,t,u)},[e,t]),i=s(),o=Tl(i);return Yo(()=>{o.current=i}),Yo(()=>{const a=e.current,l=a.getState(),c=Qo(a,t,d=>{var f;if(!Fe("recoil_suppress_rerender_in_callback"))return n([]);const p=s();(f=o.current)!==null&&f!==void 0&&f.is(p)||n(p),o.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var u;if(!Fe("recoil_suppress_rerender_in_callback"))return n([]);const d=s();(u=o.current)!==null&&u!==void 0&&u.is(d)||n(d),o.current=d}return c.release},[r,s,t,e]),i}function ly(t){return Fe("recoil_memory_managament_2020")&&iy(t),{TRANSITION_SUPPORT:Yg,SYNC_EXTERNAL_STORE:L2()?B2:Yg,MUTABLE_SOURCE:z2,LEGACY:H2}[ga().mode](t)}function U1(t){const e=Ar(),n=ly(t);return ay(n,t,e)}function Ef(t){const e=Ar();return _n(n=>{nh(e.current,t,n)},[e,t])}function W2(t){const e=Ar();return _n(()=>{nh(e.current,t,j1)},[e,t])}function q2(t){return[U1(t),Ef(t)]}function G2(t){return[ly(t),Ef(t)]}function K2(){const t=Ar();return(e,n={})=>{P2(()=>{t.current.addTransactionMetadata(n),e.forEach((r,s)=>V2(t.current,new Qg(s),r))})}}function B1(t){return Fe("recoil_memory_managament_2020")&&iy(t),Yg(t)}function z1(t){const e=Ar(),n=B1(t);return ay(n,t,e)}function Q2(t){return[z1(t),Ef(t)]}var Y2={recoilComponentGetRecoilValueCount_FOR_TESTING:U2,useRecoilInterface:F2,useRecoilState:q2,useRecoilStateLoadable:G2,useRecoilValue:U1,useRecoilValueLoadable:ly,useResetRecoilState:W2,useSetRecoilState:Ef,useSetUnvalidatedAtomValues:K2,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:B1,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:z1,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:Q2};function X2(t,e){const n=new Map;for(const[r,s]of t)e(s,r)&&n.set(r,s);return n}var J2=X2;function Z2(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var ej=Z2;function tj(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let s;for(;!(s=r.next()).done;)e.set(s.value,t[n].get(s.value))}return e}var nj=tj;const{batchUpdates:rj}=pf,{DEFAULT_VALUE:sj,getNode:H1,nodes:ij}=yn,{useStoreRef:cy}=os,{AbstractRecoilValue:oj,setRecoilValueLoadable:aj}=Rr,{SUSPENSE_TIMEOUT_MS:lj}=qi,{cloneSnapshot:rh}=vf,{useCallback:Sf,useEffect:W1,useRef:FS,useState:cj}=pe,{isSSR:US}=mf;function wf(t){const e=cy();W1(()=>e.current.subscribeToTransactions(t).release,[t,e])}function BS(t){const e=t.atomValues.toMap(),n=th(J2(e,(r,s)=>{const o=H1(s).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return nj(t.nonvalidatedAtoms.toMap(),n)}function uj(t){wf(Sf(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const s=BS(r),i=BS(n),o=th(ij,l=>{var c,u,d,f;return{persistence_UNSTABLE:{type:(c=(u=l.persistence_UNSTABLE)===null||u===void 0?void 0:u.type)!==null&&c!==void 0?c:"none",backButton:(d=(f=l.persistence_UNSTABLE)===null||f===void 0?void 0:f.backButton)!==null&&d!==void 0?d:!1}}}),a=ej(r.dirtyAtoms,l=>s.has(l)||i.has(l));t({atomValues:s,previousAtomValues:i,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function dj(t){wf(Sf(e=>{const n=rh(e,"latest"),r=rh(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function hj(){const t=cy(),[e,n]=cj(()=>rh(t.current)),r=$1(e),s=FS(),i=FS();if(wf(Sf(a=>n(rh(a)),[])),W1(()=>{const a=e.retain();if(s.current&&!US){var l;window.clearTimeout(s.current),s.current=null,(l=i.current)===null||l===void 0||l.call(i),i.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!US){if(s.current){var o;window.clearTimeout(s.current),s.current=null,(o=i.current)===null||o===void 0||o.call(i),i.current=null}i.current=e.retain(),s.current=window.setTimeout(()=>{var a;s.current=null,(a=i.current)===null||a===void 0||a.call(i),i.current=null},lj)}return e}function q1(t,e){var n;const r=t.getState(),s=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,i=e.getStore_INTERNAL().getState().currentTree;rj(()=>{const o=new Set;for(const c of[s.atomValues.keys(),i.atomValues.keys()])for(const u of c){var a,l;((a=s.atomValues.get(u))===null||a===void 0?void 0:a.contents)!==((l=i.atomValues.get(u))===null||l===void 0?void 0:l.contents)&&H1(u).shouldRestoreFromSnapshots&&o.add(u)}o.forEach(c=>{aj(t,new oj(c),i.atomValues.has(c)?tt(i.atomValues.get(c)):sj)}),t.replaceState(c=>({...c,stateID:e.getID()}))})}function fj(){const t=cy();return Sf(e=>q1(t.current,e),[t])}var G1={useRecoilSnapshot:hj,gotoSnapshot:q1,useGotoRecoilSnapshot:fj,useRecoilTransactionObserver:dj,useTransactionObservation_DEPRECATED:uj,useTransactionSubscription_DEPRECATED:wf};const{peekNodeInfo:pj}=Js,{useStoreRef:mj}=os;function gj(){const t=mj();return({key:e})=>pj(t.current,t.current.getState().currentTree,e)}var _j=gj;const{reactMode:vj}=bc,{RecoilRoot:yj,useStoreRef:Ej}=os,{useMemo:Sj}=pe;function wj(){vj().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=Ej().current;return Sj(()=>{function e({children:n}){return pe.createElement(yj,{store_INTERNAL:t},n)}return e},[t])}var Tj=wj;const{loadableWithValue:Ij}=xc,{initializeNode:Cj}=Js,{DEFAULT_VALUE:Rj,getNode:Aj}=yn,{copyTreeState:Nj,getRecoilValueAsLoadable:xj,invalidateDownstreams:bj,writeLoadableToTreeState:kj}=Rr;function zS(t){return Aj(t.key).nodeType==="atom"}class Pj{constructor(e,n){ye(this,"_store",void 0),ye(this,"_treeState",void 0),ye(this,"_changes",void 0),ye(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!zS(r))throw Se("Reading selectors within atomicUpdate is not supported");const s=xj(this._store,r,this._treeState);if(s.state==="hasValue")return s.contents;throw s.state==="hasError"?s.contents:Se(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),ye(this,"set",(r,s)=>{if(!zS(r))throw Se("Setting selectors within atomicUpdate is not supported");if(typeof s=="function"){const i=this.get(r);this._changes.set(r.key,s(i))}else Cj(this._store,r.key,"set"),this._changes.set(r.key,s)}),ye(this,"reset",r=>{this.set(r,Rj)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=Nj(this._treeState);for(const[n,r]of this._changes)kj(e,n,Ij(r));return bj(this._store,e),e}}function Lj(t){return e=>{t.replaceState(n=>{const r=new Pj(t,n);return e(r),r.newTreeState_INTERNAL()})}}var Oj={atomicUpdater:Lj},Dj=Oj.atomicUpdater,K1=Object.freeze({__proto__:null,atomicUpdater:Dj});function Mj(t,e){if(!t)throw new Error(e)}var Vj=Mj,sl=Vj;const{atomicUpdater:$j}=K1,{batchUpdates:jj}=pf,{DEFAULT_VALUE:Fj}=yn,{useStoreRef:Uj}=os,{refreshRecoilValue:Bj,setRecoilValue:HS}=Rr,{cloneSnapshot:zj}=vf,{gotoSnapshot:Hj}=G1,{useCallback:Wj}=pe;class Q1{}const qj=new Q1;function Y1(t,e,n,r){let s=qj,i;if(jj(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Se(a);const l=l1({...r??{},set:(u,d)=>HS(t,u,d),reset:u=>HS(t,u,Fj),refresh:u=>Bj(t,u),gotoSnapshot:u=>Hj(t,u),transact_UNSTABLE:u=>$j(t)(u)},{snapshot:()=>{const u=zj(t);return i=u.retain(),u}}),c=e(l);if(typeof c!="function")throw Se(a);s=c(...n)}),s instanceof Q1&&sl(!1),Ge(s))s=s.finally(()=>{var a;(a=i)===null||a===void 0||a()});else{var o;(o=i)===null||o===void 0||o()}return s}function Gj(t,e){const n=Uj();return Wj((...r)=>Y1(n.current,t,r),e!=null?[...e,n]:void 0)}var X1={recoilCallback:Y1,useRecoilCallback:Gj};const{useStoreRef:Kj}=os,{refreshRecoilValue:Qj}=Rr,{useCallback:Yj}=pe;function Xj(t){const e=Kj();return Yj(()=>{const n=e.current;Qj(n,t)},[t,e])}var Jj=Xj;const{atomicUpdater:Zj}=K1,{useStoreRef:eF}=os,{useMemo:tF}=pe;function nF(t,e){const n=eF();return tF(()=>(...r)=>{Zj(n.current)(i=>{t(i)(...r)})},e!=null?[...e,n]:void 0)}var rF=nF;class sF{constructor(e){ye(this,"value",void 0),this.value=e}}var iF={WrappedValue:sF},oF=iF.WrappedValue,J1=Object.freeze({__proto__:null,WrappedValue:oF});const{isFastRefreshEnabled:aF}=bc;class WS extends Error{}class lF{constructor(e){var n,r,s;ye(this,"_name",void 0),ye(this,"_numLeafs",void 0),ye(this,"_root",void 0),ye(this,"_onHit",void 0),ye(this,"_onSet",void 0),ye(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(s=e==null?void 0:e.mapNodeValue)!==null&&s!==void 0?s:i=>i}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const s=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(s)}}set(e,n,r){const s=()=>{var i,o,a,l;let c,u;for(const[E,_]of e){var d,f,p;const v=this._root;if((v==null?void 0:v.type)==="leaf")throw this.invalidCacheError();const y=c;if(c=y?y.branches.get(u):v,c=(d=c)!==null&&d!==void 0?d:{type:"branch",nodeKey:E,parent:y,branches:new Map,branchKey:u},c.type!=="branch"||c.nodeKey!==E)throw this.invalidCacheError();y==null||y.branches.set(u,c),r==null||(f=r.onNodeVisit)===null||f===void 0||f.call(r,c),u=this._mapNodeValue(_),this._root=(p=this._root)!==null&&p!==void 0?p:c}const m=c?(i=c)===null||i===void 0?void 0:i.branches.get(u):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==u))throw this.invalidCacheError();const g={type:"leaf",value:n,parent:c,branchKey:u};(o=c)===null||o===void 0||o.branches.set(u,g),this._root=(a=this._root)!==null&&a!==void 0?a:g,this._numLeafs++,this._onSet(g),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,g)};try{s()}catch(i){if(i instanceof WS)this.clear(),s();else throw i}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,s=e.branchKey;for(;r;){var i;if(r.branches.delete(s),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;s=(i=r)===null||i===void 0?void 0:i.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=aF()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw Qv(e+(this._name!=null?` - ${this._name}`:"")),new WS}}var cF={TreeCache:lF},uF=cF.TreeCache,Z1=Object.freeze({__proto__:null,TreeCache:uF});class dF{constructor(e){var n;ye(this,"_maxSize",void 0),ye(this,"_size",void 0),ye(this,"_head",void 0),ye(this,"_tail",void 0),ye(this,"_map",void 0),ye(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const i=this.head(),o={key:e,right:i,left:null,value:n};i?i.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=tt(this._map.get(n)),s=r.right,i=r.left;s&&(s.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=s),r===this.tail()&&(this._tail=i),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var hF={LRUCache:dF},fF=hF.LRUCache,eA=Object.freeze({__proto__:null,LRUCache:fF});const{LRUCache:pF}=eA,{TreeCache:mF}=Z1;function gF({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new pF({maxSize:e}),s=new mF({name:t,mapNodeValue:n,onHit:i=>{r.set(i,!0)},onSet:i=>{const o=r.tail();r.set(i,!0),o&&s.size()>e&&s.delete(o.key)}});return s}var qS=gF;function Gn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Se("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Ge(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((s,i)=>Gn(s,e,i.toString()))}]`;if(typeof t.toJSON=="function")return Gn(t.toJSON(n),e,n);if(t instanceof Map){const s={};for(const[i,o]of t)s[typeof i=="string"?i:Gn(i,e)]=o;return Gn(s,e,n)}return t instanceof Set?Gn(Array.from(t).sort((s,i)=>Gn(s,e).localeCompare(Gn(i,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Gn(Array.from(t),e,n):`{${Object.keys(t).filter(s=>t[s]!==void 0).sort().map(s=>`${Gn(s,e)}:${Gn(t[s],e,s)}`).join(",")}}`}function _F(t,e={allowFunctions:!1}){return Gn(t,e)}var Tf=_F;const{TreeCache:vF}=Z1,ku={equality:"reference",eviction:"keep-all",maxSize:1/0};function yF({equality:t=ku.equality,eviction:e=ku.eviction,maxSize:n=ku.maxSize}=ku,r){const s=EF(t);return SF(e,n,s,r)}function EF(t){switch(t){case"reference":return e=>e;case"value":return e=>Tf(e)}throw Se(`Unrecognized equality policy ${t}`)}function SF(t,e,n,r){switch(t){case"keep-all":return new vF({name:r,mapNodeValue:n});case"lru":return qS({name:r,maxSize:tt(e),mapNodeValue:n});case"most-recent":return qS({name:r,maxSize:1,mapNodeValue:n})}throw Se(`Unrecognized eviction policy ${t}`)}var wF=yF;function TF(t){return()=>null}var IF={startPerfBlock:TF};const{isLoadable:CF,loadableWithError:Pu,loadableWithPromise:RF,loadableWithValue:sm}=xc,{WrappedValue:tA}=J1,{getNodeLoadable:Lu,peekNodeLoadable:AF,setNodeValue:NF}=Js,{saveDepsToStore:xF}=kc,{DEFAULT_VALUE:bF,getConfigDeletionHandler:kF,getNode:PF,registerNode:GS}=yn,{isRecoilValue:LF}=Ko,{markRecoilValueModified:KS}=Rr,{retainedByOptionWithDefault:OF}=qi,{recoilCallback:DF}=X1,{startPerfBlock:MF}=IF;class nA{}const za=new nA,Ha=[],Ou=new Map,VF=(()=>{let t=0;return()=>t++})();function rA(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:s}=t,i=t.set!=null?t.set:void 0,o=new Set,a=wF(s??{equality:"reference",eviction:"keep-all"},n),l=OF(t.retainedBy_UNSTABLE),c=new Map;let u=0;function d(){return!Fe("recoil_memory_managament_2020")||u>0}function f(x){return x.getState().knownSelectors.add(n),u++,()=>{u--}}function p(){return kF(n)!==void 0&&!d()}function m(x,$,j,ie,Y){oe($,ie,Y),g(x,j)}function g(x,$){L(x,$)&&k(x),_($,!0)}function E(x,$){L(x,$)&&(tt(T(x)).stateVersions.clear(),_($,!1))}function _(x,$){const j=Ou.get(x);if(j!=null){for(const ie of j)KS(ie,tt(e));$&&Ou.delete(x)}}function v(x,$){let j=Ou.get($);j==null&&Ou.set($,j=new Set),j.add(x)}function y(x,$,j,ie,Y,_e){return $.then(we=>{if(!d())throw k(x),za;const le=sm(we);return m(x,j,Y,le,ie),we}).catch(we=>{if(!d())throw k(x),za;if(Ge(we))return S(x,we,j,ie,Y,_e);const le=Pu(we);throw m(x,j,Y,le,ie),we})}function S(x,$,j,ie,Y,_e){return $.then(we=>{if(!d())throw k(x),za;_e.loadingDepKey!=null&&_e.loadingDepPromise===$?j.atomValues.set(_e.loadingDepKey,sm(we)):x.getState().knownSelectors.forEach($e=>{j.atomValues.delete($e)});const le=P(x,j);if(le&&le.state!=="loading"){if((L(x,Y)||T(x)==null)&&g(x,Y),le.state==="hasValue")return le.contents;throw le.contents}if(!L(x,Y)){const $e=J(x,j);if($e!=null)return $e.loadingLoadable.contents}const[Xe,St]=N(x,j,Y);if(Xe.state!=="loading"&&m(x,j,Y,Xe,St),Xe.state==="hasError")throw Xe.contents;return Xe.contents}).catch(we=>{if(we instanceof nA)throw za;if(!d())throw k(x),za;const le=Pu(we);throw m(x,j,Y,le,ie),we})}function w(x,$,j,ie){var Y,_e,we,le;if(L(x,ie)||$.version===((Y=x.getState())===null||Y===void 0||(_e=Y.currentTree)===null||_e===void 0?void 0:_e.version)||$.version===((we=x.getState())===null||we===void 0||(le=we.nextTree)===null||le===void 0?void 0:le.version)){var Xe,St,$e;xF(n,j,x,(Xe=(St=x.getState())===null||St===void 0||($e=St.nextTree)===null||$e===void 0?void 0:$e.version)!==null&&Xe!==void 0?Xe:x.getState().currentTree.version)}for(const Je of j)o.add(Je)}function N(x,$,j){const ie=MF(n);let Y=!0,_e=!0;const we=()=>{ie(),_e=!1};let le,Xe=!1,St;const $e={loadingDepKey:null,loadingDepPromise:null},Je=new Map;function kn({key:rn}){const Ft=Lu(x,$,rn);switch(Je.set(rn,Ft),Y||(w(x,$,new Set(Je.keys()),j),E(x,j)),Ft.state){case"hasValue":return Ft.contents;case"hasError":throw Ft.contents;case"loading":throw $e.loadingDepKey=rn,$e.loadingDepPromise=Ft.contents,Ft.contents}throw Se("Invalid Loadable state")}const kr=rn=>(...Ft)=>{if(_e)throw Se("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&sl(!1),DF(x,rn,Ft,{node:e})};try{le=r({get:kn,getCallback:kr}),le=LF(le)?kn(le):le,CF(le)&&(le.state==="hasError"&&(Xe=!0),le=le.contents),Ge(le)?le=y(x,le,$,Je,j,$e).finally(we):we(),le=le instanceof tA?le.value:le}catch(rn){le=rn,Ge(le)?le=S(x,le,$,Je,j,$e).finally(we):(Xe=!0,we())}return Xe?St=Pu(le):Ge(le)?St=RF(le):St=sm(le),Y=!1,R(x,j,Je),w(x,$,new Set(Je.keys()),j),[St,Je]}function P(x,$){let j=$.atomValues.get(n);if(j!=null)return j;const ie=new Set;try{j=a.get(_e=>(typeof _e!="string"&&sl(!1),Lu(x,$,_e).contents),{onNodeVisit:_e=>{_e.type==="branch"&&_e.nodeKey!==n&&ie.add(_e.nodeKey)}})}catch(_e){throw Se(`Problem with cache lookup for selector "${n}": ${_e.message}`)}if(j){var Y;$.atomValues.set(n,j),w(x,$,ie,(Y=T(x))===null||Y===void 0?void 0:Y.executionID)}return j}function O(x,$){const j=P(x,$);if(j!=null)return k(x),j;const ie=J(x,$);if(ie!=null){var Y;return((Y=ie.loadingLoadable)===null||Y===void 0?void 0:Y.state)==="loading"&&v(x,ie.executionID),ie.loadingLoadable}const _e=VF(),[we,le]=N(x,$,_e);return we.state==="loading"?(b(x,_e,we,le,$),v(x,_e)):(k(x),oe($,we,le)),we}function J(x,$){const j=C1([c.has(x)?[tt(c.get(x))]:[],uf(ey(c,([Y])=>Y!==x),([,Y])=>Y)]);function ie(Y){for(const[_e,we]of Y)if(!Lu(x,$,_e).is(we))return!0;return!1}for(const Y of j){if(Y.stateVersions.get($.version)||!ie(Y.depValuesDiscoveredSoFarDuringAsyncWork))return Y.stateVersions.set($.version,!0),Y;Y.stateVersions.set($.version,!1)}}function T(x){return c.get(x)}function b(x,$,j,ie,Y){c.set(x,{depValuesDiscoveredSoFarDuringAsyncWork:ie,executionID:$,loadingLoadable:j,stateVersions:new Map([[Y.version,!0]])})}function R(x,$,j){if(L(x,$)){const ie=T(x);ie!=null&&(ie.depValuesDiscoveredSoFarDuringAsyncWork=j)}}function k(x){c.delete(x)}function L(x,$){var j;return $===((j=T(x))===null||j===void 0?void 0:j.executionID)}function z(x){return Array.from(x.entries()).map(([$,j])=>[$,j.contents])}function oe(x,$,j){x.atomValues.set(n,$);try{a.set(z(j),$)}catch(ie){throw Se(`Problem with setting cache for selector "${n}": ${ie.message}`)}}function se(x){if(Ha.includes(n)){const $=`Recoil selector has circular dependencies: ${Ha.slice(Ha.indexOf(n)).join("  ")}`;return Pu(Se($))}Ha.push(n);try{return x()}finally{Ha.pop()}}function M(x,$){const j=$.atomValues.get(n);return j??a.get(ie=>{var Y;return typeof ie!="string"&&sl(!1),(Y=AF(x,$,ie))===null||Y===void 0?void 0:Y.contents})}function W(x,$){return se(()=>O(x,$))}function ne(x){x.atomValues.delete(n)}function Ie(x,$){e==null&&sl(!1);for(const ie of o){var j;const Y=PF(ie);(j=Y.clearCache)===null||j===void 0||j.call(Y,x,$)}o.clear(),ne($),a.clear(),KS(x,e)}return i!=null?e=GS({key:n,nodeType:"selector",peek:M,get:W,set:($,j,ie)=>{let Y=!1;const _e=new Map;function we({key:$e}){if(Y)throw Se("Recoil: Async selector sets are not currently supported.");const Je=Lu($,j,$e);if(Je.state==="hasValue")return Je.contents;if(Je.state==="loading"){const kn=`Getting value of asynchronous atom or selector "${$e}" in a pending state while setting selector "${n}" is not yet supported.`;throw Se(kn)}else throw Je.contents}function le($e,Je){if(Y)throw Se("Recoil: Async selector sets are not currently supported.");const kn=typeof Je=="function"?Je(we($e)):Je;NF($,j,$e.key,kn).forEach((rn,Ft)=>_e.set(Ft,rn))}function Xe($e){le($e,bF)}const St=i({set:le,get:we,reset:Xe},ie);if(St!==void 0)throw Ge(St)?Se("Recoil: Async selector sets are not currently supported."):Se("Recoil: selector set should be a void function.");return Y=!0,_e},init:f,invalidate:ne,clearCache:Ie,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=GS({key:n,nodeType:"selector",peek:M,get:W,init:f,invalidate:ne,clearCache:Ie,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}rA.value=t=>new tA(t);var Xo=rA;const{isLoadable:$F,loadableWithError:im,loadableWithPromise:om,loadableWithValue:to}=xc,{WrappedValue:sA}=J1,{peekNodeInfo:jF}=Js,{DEFAULT_VALUE:ui,DefaultValue:fs,getConfigDeletionHandler:iA,registerNode:FF,setConfigDeletionHandler:UF}=yn,{isRecoilValue:BF}=Ko,{getRecoilValueAsLoadable:zF,markRecoilValueModified:HF,setRecoilValue:QS,setRecoilValueLoadable:WF}=Rr,{retainedByOptionWithDefault:qF}=qi,Wa=t=>t instanceof sA?t.value:t;function GF(t){const{key:e,persistence_UNSTABLE:n}=t,r=qF(t.retainedBy_UNSTABLE);let s=0;function i(v){return om(v.then(y=>(o=to(y),y)).catch(y=>{throw o=im(y),y}))}let o=Ge(t.default)?i(t.default):$F(t.default)?t.default.state==="loading"?i(t.default.contents):t.default:to(Wa(t.default));o.contents;let a;const l=new Map;function c(v){return v}function u(v,y){const S=y.then(w=>{var N,P;return((P=((N=v.getState().nextTree)!==null&&N!==void 0?N:v.getState().currentTree).atomValues.get(e))===null||P===void 0?void 0:P.contents)===S&&QS(v,_,w),w}).catch(w=>{var N,P;throw((P=((N=v.getState().nextTree)!==null&&N!==void 0?N:v.getState().currentTree).atomValues.get(e))===null||P===void 0?void 0:P.contents)===S&&WF(v,_,im(w)),w});return S}function d(v,y,S){var w;s++;const N=()=>{var k;s--,(k=l.get(v))===null||k===void 0||k.forEach(L=>L()),l.delete(v)};if(v.getState().knownAtoms.add(e),o.state==="loading"){const k=()=>{var L;((L=v.getState().nextTree)!==null&&L!==void 0?L:v.getState().currentTree).atomValues.has(e)||HF(v,_)};o.contents.finally(k)}const P=(w=t.effects)!==null&&w!==void 0?w:t.effects_UNSTABLE;if(P!=null){let se=function($){if(L&&$.key===e){const j=k;return j instanceof fs?f(v,y):Ge(j)?om(j.then(ie=>ie instanceof fs?o.toPromise():ie)):to(j)}return zF(v,$)},M=function($){return se($).toPromise()},W=function($){var j;const ie=jF(v,(j=v.getState().nextTree)!==null&&j!==void 0?j:v.getState().currentTree,$.key);return L&&$.key===e&&!(k instanceof fs)?{...ie,isSet:!0,loadable:se($)}:ie};var T=se,b=M,R=W;let k=ui,L=!0,z=!1,oe=null;const ne=$=>j=>{if(L){const ie=se(_),Y=ie.state==="hasValue"?ie.contents:ui;k=typeof j=="function"?j(Y):j,Ge(k)&&(k=k.then(_e=>(oe={effect:$,value:_e},_e)))}else{if(Ge(j))throw Se("Setting atoms to async values is not implemented.");typeof j!="function"&&(oe={effect:$,value:Wa(j)}),QS(v,_,typeof j=="function"?ie=>{const Y=Wa(j(ie));return oe={effect:$,value:Y},Y}:Wa(j))}},Ie=$=>()=>ne($)(ui),x=$=>j=>{var ie;const{release:Y}=v.subscribeToTransactions(_e=>{var we;let{currentTree:le,previousTree:Xe}=_e.getState();Xe||(Xe=le);const St=(we=le.atomValues.get(e))!==null&&we!==void 0?we:o;if(St.state==="hasValue"){var $e,Je,kn,kr;const rn=St.contents,Ft=($e=Xe.atomValues.get(e))!==null&&$e!==void 0?$e:o,hu=Ft.state==="hasValue"?Ft.contents:ui;((Je=oe)===null||Je===void 0?void 0:Je.effect)!==$||((kn=oe)===null||kn===void 0?void 0:kn.value)!==rn?j(rn,hu,!le.atomValues.has(e)):((kr=oe)===null||kr===void 0?void 0:kr.effect)===$&&(oe=null)}},e);l.set(v,[...(ie=l.get(v))!==null&&ie!==void 0?ie:[],Y])};for(const $ of P)try{const j=$({node:_,storeID:v.storeID,parentStoreID_UNSTABLE:v.parentStoreID,trigger:S,setSelf:ne($),resetSelf:Ie($),onSet:x($),getPromise:M,getLoadable:se,getInfo_UNSTABLE:W});if(j!=null){var O;l.set(v,[...(O=l.get(v))!==null&&O!==void 0?O:[],j])}}catch(j){k=j,z=!0}if(L=!1,!(k instanceof fs)){var J;const $=z?im(k):Ge(k)?om(u(v,k)):to(Wa(k));$.contents,y.atomValues.set(e,$),(J=v.getState().nextTree)===null||J===void 0||J.atomValues.set(e,$)}}return N}function f(v,y){var S,w;return(S=(w=y.atomValues.get(e))!==null&&w!==void 0?w:a)!==null&&S!==void 0?S:o}function p(v,y){if(y.atomValues.has(e))return tt(y.atomValues.get(e));if(y.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const S=y.nonvalidatedAtoms.get(e),w=n.validator(S,ui);return a=w instanceof fs?o:to(w),a}else return o}function m(){a=void 0}function g(v,y,S){if(y.atomValues.has(e)){const w=tt(y.atomValues.get(e));if(w.state==="hasValue"&&S===w.contents)return new Map}else if(!y.nonvalidatedAtoms.has(e)&&S instanceof fs)return new Map;return a=void 0,new Map().set(e,to(S))}function E(){return iA(e)!==void 0&&s<=0}const _=FF({key:e,nodeType:"atom",peek:f,get:p,set:g,init:d,invalidate:m,shouldDeleteConfigOnRelease:E,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return _}function uy(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return BF(n)?KF({...e,default:n}):GF({...e,default:n})}function KF(t){const e=uy({...t,default:ui,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof fs?r:tt(t.persistence_UNSTABLE).validator(r,ui)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Xo({key:`${t.key}__withFallback`,get:({get:r})=>{const s=r(e);return s instanceof fs?t.default:s},set:({set:r},s)=>r(e,s),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return UF(n.key,iA(t.key)),n}uy.value=t=>new sA(t);var oA=uy;class QF{constructor(e){var n;ye(this,"_map",void 0),ye(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var YF={MapCache:QF},XF=YF.MapCache,JF=Object.freeze({__proto__:null,MapCache:XF});const{LRUCache:YS}=eA,{MapCache:ZF}=JF,Du={equality:"reference",eviction:"none",maxSize:1/0};function eU({equality:t=Du.equality,eviction:e=Du.eviction,maxSize:n=Du.maxSize}=Du){const r=tU(t);return nU(e,n,r)}function tU(t){switch(t){case"reference":return e=>e;case"value":return e=>Tf(e)}throw Se(`Unrecognized equality policy ${t}`)}function nU(t,e,n){switch(t){case"keep-all":return new ZF({mapKey:n});case"lru":return new YS({mapKey:n,maxSize:tt(e)});case"most-recent":return new YS({mapKey:n,maxSize:1})}throw Se(`Unrecognized eviction policy ${t}`)}var aA=eU;const{setConfigDeletionHandler:rU}=yn;function sU(t){var e,n;const r=aA({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i,o;const a=r.get(s);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...c}=t,u="default"in t?t.default:new Promise(()=>{}),d=oA({...c,key:`${t.key}__${(i=Tf(s))!==null&&i!==void 0?i:"void"}`,default:typeof u=="function"?u(s):u,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(s):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(s):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(s,d),rU(d.key,()=>{r.delete(s)}),d}}var iU=sU;const{setConfigDeletionHandler:oU}=yn;let aU=0;function lU(t){var e,n;const r=aA({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i;let o;try{o=r.get(s)}catch(f){throw Se(`Problem with cache lookup for selector ${t.key}: ${f.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(i=Tf(s,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${aU++}`,l=f=>t.get(s)(f),c=t.cachePolicy_UNSTABLE,u=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE;let d;if(t.set!=null){const f=t.set;d=Xo({key:a,get:l,set:(m,g)=>f(s)(m,g),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else d=Xo({key:a,get:l,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(s,d),oU(d.key,()=>{r.delete(s)}),d}}var Zs=lU;const cU=Zs({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function uU(t){return cU(t)}var dU=uU;const hU=Zs({key:"__error",get:t=>()=>{throw Se(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function fU(t){return hU(t)}var pU=fU;function mU(t){return t}var gU=mU;const{loadableWithError:lA,loadableWithPromise:cA,loadableWithValue:uA}=xc;function If(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[s,i]of e.entries())try{n[s]=t(i)}catch(o){r[s]=o}return[n,r]}function _U(t){return t!=null&&!Ge(t)}function Cf(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Xg(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,s)=>({...n,[r]:e[s]}),{})}function bo(t,e,n){const r=n.map((s,i)=>s==null?uA(e[i]):Ge(s)?cA(s):lA(s));return Xg(t,r)}function vU(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const yU=Zs({key:"__waitForNone",get:t=>({get:e})=>{const n=Cf(t),[r,s]=If(e,n);return bo(t,r,s)},dangerouslyAllowMutability:!0}),EU=Zs({key:"__waitForAny",get:t=>({get:e})=>{const n=Cf(t),[r,s]=If(e,n);return s.some(i=>!Ge(i))?bo(t,r,s):new Promise(i=>{for(const[o,a]of s.entries())Ge(a)&&a.then(l=>{r[o]=l,s[o]=void 0,i(bo(t,r,s))}).catch(l=>{s[o]=l,i(bo(t,r,s))})})},dangerouslyAllowMutability:!0}),SU=Zs({key:"__waitForAll",get:t=>({get:e})=>{const n=Cf(t),[r,s]=If(e,n);if(s.every(o=>o==null))return Xg(t,r);const i=s.find(_U);if(i!=null)throw i;return Promise.all(s).then(o=>Xg(t,vU(r,o)))},dangerouslyAllowMutability:!0}),wU=Zs({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Cf(t),[r,s]=If(e,n);return s.every(i=>!Ge(i))?bo(t,r,s):Promise.all(s.map((i,o)=>Ge(i)?i.then(a=>{r[o]=a,s[o]=void 0}).catch(a=>{r[o]=void 0,s[o]=a}):null)).then(()=>bo(t,r,s))},dangerouslyAllowMutability:!0}),TU=Zs({key:"__noWait",get:t=>({get:e})=>{try{return Xo.value(uA(e(t)))}catch(n){return Xo.value(Ge(n)?cA(n):lA(n))}},dangerouslyAllowMutability:!0});var IU={waitForNone:yU,waitForAny:EU,waitForAll:SU,waitForAllSettled:wU,noWait:TU};const{RecoilLoadable:CU}=xc,{DefaultValue:RU}=yn,{RecoilRoot:AU,useRecoilStoreID:NU}=os,{isRecoilValue:xU}=Ko,{retentionZone:bU}=hf,{freshSnapshot:kU}=vf,{useRecoilState:PU,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:LU,useRecoilStateLoadable:OU,useRecoilValue:DU,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:MU,useRecoilValueLoadable:VU,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:$U,useResetRecoilState:jU,useSetRecoilState:FU}=Y2,{useGotoRecoilSnapshot:UU,useRecoilSnapshot:BU,useRecoilTransactionObserver:zU}=G1,{useRecoilCallback:HU}=X1,{noWait:WU,waitForAll:qU,waitForAllSettled:GU,waitForAny:KU,waitForNone:QU}=IU;var dy={DefaultValue:RU,isRecoilValue:xU,RecoilLoadable:CU,RecoilEnv:ma,RecoilRoot:AU,useRecoilStoreID:NU,useRecoilBridgeAcrossReactRoots_UNSTABLE:Tj,atom:oA,selector:Xo,atomFamily:iU,selectorFamily:Zs,constSelector:dU,errorSelector:pU,readOnlySelector:gU,noWait:WU,waitForNone:QU,waitForAny:KU,waitForAll:qU,waitForAllSettled:GU,useRecoilValue:DU,useRecoilValueLoadable:VU,useRecoilState:PU,useRecoilStateLoadable:OU,useSetRecoilState:FU,useResetRecoilState:jU,useGetRecoilValueInfo_UNSTABLE:_j,useRecoilRefresher_UNSTABLE:Jj,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:$U,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:MU,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:LU,useRecoilCallback:HU,useRecoilTransaction_UNSTABLE:rF,useGotoRecoilSnapshot:UU,useRecoilSnapshot:BU,useRecoilTransactionObserver_UNSTABLE:zU,snapshot_UNSTABLE:kU,useRetain:iy,retentionZone:bU},YU=dy.RecoilRoot,hy=dy.atom,am=dy.useRecoilState;const ee={init:function(){this.dpmode.init(),this.viewport.init.evt(),console.log("ui.init")},e:1,aaa:function(){console.log("dsfafsafdsffsafasfdfas")},iosx:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top").replace(/[^0-9]/g,""))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom").replace(/[^0-9]/g,""))||0},viewport:{init:{evt:function(){window.addEventListener("load",this.set),window.addEventListener("resize",this.set)},set:()=>document.documentElement.style.setProperty("--vh",window.innerHeight*.01+"px")},height:()=>parseInt(window.visualViewport?visualViewport.height:window.innerHeight),width:()=>parseInt(window.visualViewport?visualViewport.width:window.innerWidth),docHeight:()=>parseInt(document.documentElement.scrollHeight||document.body.clientHeight),scrollTop:()=>parseInt(document.documentElement.scrollTop)},dateForm:(t,e)=>(e=e===void 0?e="medium":null,new Intl.DateTimeFormat("ko-KR",{dateStyle:e,timeStyle:e}).format(t)),getSafe:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top"))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom"))||0,watch:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-watch"))||0},dpmode:{init:function(){setInterval(this.set,500)},set:function(){const t=window.matchMedia("(display-mode: fullscreen)").matches,e=window.matchMedia("(display-mode: standalone)").matches;t?document.documentElement.classList.add("is-pwa-fullscreen"):document.documentElement.classList.remove("is-pwa-fullscreen"),t?document.documentElement.style.setProperty("--safe-watch","24px"):document.documentElement.style.setProperty("--safe-watch","0px"),e?document.documentElement.classList.add("is-pwa-standalone"):document.documentElement.classList.remove("is-pwa-standalone")}},scrollTo:(t,e,n,r)=>{const s=document.querySelector(t);if(!s)return;console.log(s);const i=s.scrollTop||document.documentElement.scrollTop,o=e,a=performance.now(),l=c=>{const u=c-a,d=Math.min(u/n,1),f=d<.5?4*d*d*d:(d-1)*(2*d-2)*(2*d-2)+1,p=i+(o-i)*f;s===document.body?window.scrollTo(0,p):s.scrollTop=p,u<n?requestAnimationFrame(l):typeof r=="function"&&r()};requestAnimationFrame(l)},popup:{evt:function(){},resize:function(){var s,i;let t=document.querySelector(".pop-layer"),e=t.offsetHeight||0,n=((s=t.querySelector(".pbt"))==null?void 0:s.offsetHeight)||0,r=((i=t.querySelector(".phd"))==null?void 0:i.offsetHeight)||0;e=e-r||0,console.log(e),t.querySelector(".pct").style.maxHeight=e-n+"px"}},alert:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:""},e);if(document.querySelectorAll(".ui-alert").length)return;ee.lock.using(!0);var r=`<article class="ui-alert ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-alert");s.classList.add("is-alert"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelectorAll(".btn-confirm, .btn-close").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-alert"),document.querySelectorAll(".pop-layer").length<1&&ee.lock.using(!1)}},confirm:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"",ncb:"",nbt:""},e);if(document.querySelectorAll(".ui-confrim").length)return;ee.lock.using(!0);let r=`<article class="ui-confrim ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-cancel">${n.nbt}</button>
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-confrim");s.classList.add("is-confrim"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelector(".btn-cancel").addEventListener("click",()=>window.setTimeout(n.ncb)),i.querySelectorAll(".btn-confirm, .btn-close , .btn-cancel").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-confrim"),document.querySelectorAll(".pop-layer").length<1&&ee.lock.using(!1)}},loading:{show:function(){if(!document.querySelectorAll("body>.ui-loading-dot").length){var t=`<div class="ui-loading-dot">
                    <div class="bx"><em><i></i></em></div>
                </div>`;document.querySelector("body").insertAdjacentHTML("afterbegin",t),document.querySelector("body").classList.add("is-loading")}},hide:function(){document.querySelectorAll(".ui-loading-dot").forEach(t=>t.remove()),document.querySelector("body").classList.remove("is-loading")}},lock:{sct:0,stat:!1,els:".pop-layer  , .ui-confrim , .ui-alert",set:function(){document.querySelectorAll(this.els).length<=0&&this.using(!1)},using:function(t){const e=document.querySelectorAll("body , html"),n=document.querySelector("html");t===!0&&this.stat===!1&&(ee.lock.stat=!0,ee.lock.sct=window.scrollY,e.forEach(r=>r.classList.add("is-lock","is-lock-end")),n.style.top=-ee.lock.sct+"px"),t===!1&&document.querySelectorAll(this.els).length<=0&&n.classList.contains("is-lock")&&(ee.lock.stat=!1,e.forEach(r=>r.classList.remove("is-lock")),n.style.top="",window.scrollTo(0,ee.lock.sct),setTimeout(()=>{e.forEach(r=>r.classList.remove("is-lock-end"))},50))}}};window.ui=ee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(t,e){if(!t)throw _a(e)},_a=function(t){return new Error("Firebase Database ("+dA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},XU=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},fy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||d==null)throw new JU;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JU extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fA=function(t){const e=hA(t);return fy.encodeByteArray(e,!0)},sh=function(t){return fA(t).replace(/\./g,"")},ih=function(t){try{return fy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZU(t){return pA(void 0,t)}function pA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!e4(n)||(t[n]=pA(t[n],e[n]));return t}function e4(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=()=>t4().__FIREBASE_DEFAULTS__,r4=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},s4=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ih(t[1]);return e&&JSON.parse(e)},py=()=>{try{return n4()||r4()||s4()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mA=t=>{var e,n;return(n=(e=py())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gA=t=>{const e=mA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},_A=()=>{var t;return(t=py())===null||t===void 0?void 0:t.config},vA=t=>{var e;return(e=py())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class my{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[sh(JSON.stringify(n)),sh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function i4(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function o4(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SA(){return dA.NODE_ADMIN===!0}function a4(){try{return typeof indexedDB=="object"}catch{return!1}}function l4(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c4="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=c4,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dc.prototype.create)}}class Dc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?u4(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Nr(s,a,r)}}function u4(t,e){return t.replace(d4,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const d4=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(t){return JSON.parse(t)}function Dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wA=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=Zl(ih(i[0])||""),n=Zl(ih(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},h4=function(t){const e=wA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},f4=function(t){const e=wA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Jg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function oh(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function ah(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(XS(i)&&XS(o)){if(!ah(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function XS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function il(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ol(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p4{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let d=0;d<80;d++){d<40?d<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):d<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function m4(t,e){const n=new g4(t,e);return n.subscribe.bind(n)}class g4{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");_4(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=lm),s.error===void 0&&(s.error=lm),s.complete===void 0&&(s.complete=lm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function _4(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lm(){}function v4(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,q(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Rf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class Jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E4{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new my;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(w4(e))try{this.getOrInitializeService({instanceIdentifier:li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=li){return this.instances.has(e)}getOptions(e=li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:S4(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=li){return this.component?this.component.multipleInstances?e:li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function S4(t){return t===li?void 0:t}function w4(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T4{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new E4(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const I4={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},C4=ke.INFO,R4={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},A4=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=R4[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Af{constructor(e){this.name=e,this._logLevel=C4,this._logHandler=A4,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I4[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const N4=(t,e)=>e.some(n=>t instanceof n);let JS,ZS;function x4(){return JS||(JS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function b4(){return ZS||(ZS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TA=new WeakMap,Zg=new WeakMap,IA=new WeakMap,cm=new WeakMap,_y=new WeakMap;function k4(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ds(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&TA.set(n,t)}).catch(()=>{}),_y.set(e,t),e}function P4(t){if(Zg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Zg.set(t,e)}let e_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Zg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ds(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function L4(t){e_=t(e_)}function O4(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(um(this),e,...n);return IA.set(r,e.sort?e.sort():[e]),Ds(r)}:b4().includes(t)?function(...e){return t.apply(um(this),e),Ds(TA.get(this))}:function(...e){return Ds(t.apply(um(this),e))}}function D4(t){return typeof t=="function"?O4(t):(t instanceof IDBTransaction&&P4(t),N4(t,x4())?new Proxy(t,e_):t)}function Ds(t){if(t instanceof IDBRequest)return k4(t);if(cm.has(t))return cm.get(t);const e=D4(t);return e!==t&&(cm.set(t,e),_y.set(e,t)),e}const um=t=>_y.get(t);function M4(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ds(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Ds(o.result),l.oldVersion,l.newVersion,Ds(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const V4=["get","getKey","getAll","getAllKeys","count"],$4=["put","add","delete","clear"],dm=new Map;function ew(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(dm.get(e))return dm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=$4.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||V4.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return dm.set(e,i),i}L4(t=>({...t,get:(e,n,r)=>ew(e,n)||t.get(e,n,r),has:(e,n)=>!!ew(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(F4(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function F4(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const t_="@firebase/app",tw="0.9.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new Af("@firebase/app"),U4="@firebase/app-compat",B4="@firebase/analytics-compat",z4="@firebase/analytics",H4="@firebase/app-check-compat",W4="@firebase/app-check",q4="@firebase/auth",G4="@firebase/auth-compat",K4="@firebase/database",Q4="@firebase/database-compat",Y4="@firebase/functions",X4="@firebase/functions-compat",J4="@firebase/installations",Z4="@firebase/installations-compat",eB="@firebase/messaging",tB="@firebase/messaging-compat",nB="@firebase/performance",rB="@firebase/performance-compat",sB="@firebase/remote-config",iB="@firebase/remote-config-compat",oB="@firebase/storage",aB="@firebase/storage-compat",lB="@firebase/firestore",cB="@firebase/firestore-compat",uB="firebase",dB="10.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_="[DEFAULT]",hB={[t_]:"fire-core",[U4]:"fire-core-compat",[z4]:"fire-analytics",[B4]:"fire-analytics-compat",[W4]:"fire-app-check",[H4]:"fire-app-check-compat",[q4]:"fire-auth",[G4]:"fire-auth-compat",[K4]:"fire-rtdb",[Q4]:"fire-rtdb-compat",[Y4]:"fire-fn",[X4]:"fire-fn-compat",[J4]:"fire-iid",[Z4]:"fire-iid-compat",[eB]:"fire-fcm",[tB]:"fire-fcm-compat",[nB]:"fire-perf",[rB]:"fire-perf-compat",[sB]:"fire-rc",[iB]:"fire-rc-compat",[oB]:"fire-gcs",[aB]:"fire-gcs-compat",[lB]:"fire-fst",[cB]:"fire-fst-compat","fire-js":"fire-js",[uB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new Map,r_=new Map;function fB(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function zs(t){const e=t.name;if(r_.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;r_.set(e,t);for(const n of lh.values())fB(n,t);return!0}function Nf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ms=new Dc("app","Firebase",pB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ms.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=dB;function CA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:n_,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Ms.create("bad-app-name",{appName:String(s)});if(n||(n=_A()),!n)throw Ms.create("no-options");const i=lh.get(s);if(i){if(ah(n,i.options)&&ah(r,i.config))return i;throw Ms.create("duplicate-app",{appName:s})}const o=new T4(s);for(const l of r_.values())o.addComponent(l);const a=new mB(n,r,o);return lh.set(s,a),a}function vy(t=n_){const e=lh.get(t);if(!e&&t===n_&&_A())return CA();if(!e)throw Ms.create("no-app",{appName:t});return e}function Fn(t,e,n){var r;let s=(r=hB[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}zs(new Jr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="firebase-heartbeat-database",_B=1,ec="firebase-heartbeat-store";let hm=null;function RA(){return hm||(hm=M4(gB,_B,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(ec)}}}).catch(t=>{throw Ms.create("idb-open",{originalErrorMessage:t.message})})),hm}async function vB(t){try{return await(await RA()).transaction(ec).objectStore(ec).get(AA(t))}catch(e){if(e instanceof Nr)bi.warn(e.message);else{const n=Ms.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function nw(t,e){try{const r=(await RA()).transaction(ec,"readwrite");await r.objectStore(ec).put(e,AA(t)),await r.done}catch(n){if(n instanceof Nr)bi.warn(n.message);else{const r=Ms.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function AA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yB=1024,EB=30*24*60*60*1e3;class SB{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new TB(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rw();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=EB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rw(),{heartbeatsToSend:n,unsentEntries:r}=wB(this._heartbeatsCache.heartbeats),s=sh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function rw(){return new Date().toISOString().substring(0,10)}function wB(t,e=yB){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),sw(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class TB{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return a4()?l4().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await vB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sw(t){return sh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IB(t){zs(new Jr("platform-logger",e=>new j4(e),"PRIVATE")),zs(new Jr("heartbeat",e=>new SB(e),"PRIVATE")),Fn(t_,tw,t),Fn(t_,tw,"esm2017"),Fn("fire-js","")}IB("");var CB="firebase",RB="10.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fn(CB,RB,"app");var AB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},G,yy=yy||{},me=AB||self;function xf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Mc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function NB(t){return Object.prototype.hasOwnProperty.call(t,fm)&&t[fm]||(t[fm]=++xB)}var fm="closure_uid_"+(1e9*Math.random()>>>0),xB=0;function bB(t,e,n){return t.call.apply(t.bind,arguments)}function kB(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Xt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Xt=bB:Xt=kB,Xt.apply(null,arguments)}function Mu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ti(){this.s=this.s,this.o=this.o}var PB=0;ti.prototype.s=!1;ti.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),PB!=0)&&NB(this)};ti.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const NA=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Ey(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function iw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xf(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Jt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Jt.prototype.h=function(){this.defaultPrevented=!0};var LB=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function tc(t){return/^[\s\xa0]*$/.test(t)}function bf(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function fr(t){return bf().indexOf(t)!=-1}function Sy(t){return Sy[" "](t),t}Sy[" "]=function(){};function OB(t,e){var n=Rz;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var DB=fr("Opera"),Zo=fr("Trident")||fr("MSIE"),xA=fr("Edge"),s_=xA||Zo,bA=fr("Gecko")&&!(bf().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge"))&&!(fr("Trident")||fr("MSIE"))&&!fr("Edge"),MB=bf().toLowerCase().indexOf("webkit")!=-1&&!fr("Edge");function kA(){var t=me.document;return t?t.documentMode:void 0}var i_;e:{var pm="",mm=function(){var t=bf();if(bA)return/rv:([^\);]+)(\)|;)/.exec(t);if(xA)return/Edge\/([\d\.]+)/.exec(t);if(Zo)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(MB)return/WebKit\/(\S+)/.exec(t);if(DB)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(mm&&(pm=mm?mm[1]:""),Zo){var gm=kA();if(gm!=null&&gm>parseFloat(pm)){i_=String(gm);break e}}i_=pm}var o_;if(me.document&&Zo){var ow=kA();o_=ow||parseInt(i_,10)||void 0}else o_=void 0;var VB=o_;function nc(t,e){if(Jt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(bA){e:{try{Sy(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:$B[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&nc.$.h.call(this)}}kt(nc,Jt);var $B={2:"touch",3:"pen",4:"mouse"};nc.prototype.h=function(){nc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vc="closure_listenable_"+(1e6*Math.random()|0),jB=0;function FB(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++jB,this.fa=this.ia=!1}function kf(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function wy(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function UB(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function PA(t){const e={};for(const n in t)e[n]=t[n];return e}const aw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function LA(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<aw.length;i++)n=aw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Pf(t){this.src=t,this.g={},this.h=0}Pf.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=l_(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new FB(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function a_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=NA(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(kf(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function l_(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Ty="closure_lm_"+(1e6*Math.random()|0),_m={};function OA(t,e,n,r,s){if(r&&r.once)return MA(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)OA(t,e[i],n,r,s);return null}return n=Ry(n),t&&t[Vc]?t.O(e,n,Mc(r)?!!r.capture:!!r,s):DA(t,e,n,!1,r,s)}function DA(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Mc(s)?!!s.capture:!!s,a=Cy(t);if(a||(t[Ty]=a=new Pf(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=BB(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)LB||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent($A(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function BB(){function t(n){return e.call(t.src,t.listener,n)}const e=zB;return t}function MA(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)MA(t,e[i],n,r,s);return null}return n=Ry(n),t&&t[Vc]?t.P(e,n,Mc(r)?!!r.capture:!!r,s):DA(t,e,n,!0,r,s)}function VA(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)VA(t,e[i],n,r,s);else r=Mc(r)?!!r.capture:!!r,n=Ry(n),t&&t[Vc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=l_(i,n,r,s),-1<n&&(kf(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Cy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=l_(e,n,r,s)),(n=-1<t?e[t]:null)&&Iy(n))}function Iy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Vc])a_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent($A(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Cy(e))?(a_(n,t),n.h==0&&(n.src=null,e[Ty]=null)):kf(t)}}}function $A(t){return t in _m?_m[t]:_m[t]="on"+t}function zB(t,e){if(t.fa)t=!0;else{e=new nc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Iy(t),t=n.call(r,e)}return t}function Cy(t){return t=t[Ty],t instanceof Pf?t:null}var vm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ry(t){return typeof t=="function"?t:(t[vm]||(t[vm]=function(e){return t.handleEvent(e)}),t[vm])}function bt(){ti.call(this),this.i=new Pf(this),this.S=this,this.J=null}kt(bt,ti);bt.prototype[Vc]=!0;bt.prototype.removeEventListener=function(t,e,n,r){VA(this,t,e,n,r)};function $t(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Jt(e,t);else if(e instanceof Jt)e.target=e.target||t;else{var s=e;e=new Jt(r,t),LA(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=Vu(o,r,!0,e)&&s}if(o=e.g=t,s=Vu(o,r,!0,e)&&s,s=Vu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=Vu(o,r,!1,e)&&s}bt.prototype.N=function(){if(bt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)kf(n[r]);delete t.g[e],t.h--}}this.J=null};bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function Vu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&a_(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Ay=me.JSON.stringify;class HB{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function WB(){var t=Ny;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class qB{constructor(){this.h=this.g=null}add(e,n){const r=jA.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var jA=new HB(()=>new GB,t=>t.reset());class GB{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function KB(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function QB(t){me.setTimeout(()=>{throw t},0)}let rc,sc=!1,Ny=new qB,FA=()=>{const t=me.Promise.resolve(void 0);rc=()=>{t.then(YB)}};var YB=()=>{for(var t;t=WB();){try{t.h.call(t.g)}catch(n){QB(n)}var e=jA;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}sc=!1};function Lf(t,e){bt.call(this),this.h=t||1,this.g=e||me,this.j=Xt(this.qb,this),this.l=Date.now()}kt(Lf,bt);G=Lf.prototype;G.ga=!1;G.T=null;G.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),$t(this,"tick"),this.ga&&(xy(this),this.start()))}};G.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}G.N=function(){Lf.$.N.call(this),xy(this),delete this.g};function by(t,e,n){if(typeof t=="function")n&&(t=Xt(t,n));else if(t&&typeof t.handleEvent=="function")t=Xt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function UA(t){t.g=by(()=>{t.g=null,t.i&&(t.i=!1,UA(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class XB extends ti{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:UA(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ic(t){ti.call(this),this.h=t,this.g={}}kt(ic,ti);var lw=[];function BA(t,e,n,r){Array.isArray(n)||(n&&(lw[0]=n.toString()),n=lw);for(var s=0;s<n.length;s++){var i=OA(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function zA(t){wy(t.g,function(e,n){this.g.hasOwnProperty(n)&&Iy(e)},t),t.g={}}ic.prototype.N=function(){ic.$.N.call(this),zA(this)};ic.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Of(){this.g=!0}Of.prototype.Ea=function(){this.g=!1};function JB(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function ZB(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Eo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+tz(t,n)+(r?" "+r:"")})}function ez(t,e){t.info(function(){return"TIMEOUT: "+e})}Of.prototype.info=function(){};function tz(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Ay(n)}catch{return e}}var Gi={},cw=null;function Df(){return cw=cw||new bt}Gi.Ta="serverreachability";function HA(t){Jt.call(this,Gi.Ta,t)}kt(HA,Jt);function oc(t){const e=Df();$t(e,new HA(e))}Gi.STAT_EVENT="statevent";function WA(t,e){Jt.call(this,Gi.STAT_EVENT,t),this.stat=e}kt(WA,Jt);function on(t){const e=Df();$t(e,new WA(e,t))}Gi.Ua="timingevent";function qA(t,e){Jt.call(this,Gi.Ua,t),this.size=e}kt(qA,Jt);function $c(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var Mf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},GA={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ky(){}ky.prototype.h=null;function uw(t){return t.h||(t.h=t.i())}function KA(){}var jc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Py(){Jt.call(this,"d")}kt(Py,Jt);function Ly(){Jt.call(this,"c")}kt(Ly,Jt);var c_;function Vf(){}kt(Vf,ky);Vf.prototype.g=function(){return new XMLHttpRequest};Vf.prototype.i=function(){return{}};c_=new Vf;function Fc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new ic(this),this.P=nz,t=s_?125:void 0,this.V=new Lf(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new QA}function QA(){this.i=null,this.g="",this.h=!1}var nz=45e3,u_={},ch={};G=Fc.prototype;G.setTimeout=function(t){this.P=t};function d_(t,e,n){t.L=1,t.v=jf(Zr(e)),t.s=n,t.S=!0,YA(t,null)}function YA(t,e){t.G=Date.now(),Uc(t),t.A=Zr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),sN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new QA,t.g=CN(t.l,n?e:null,!t.s),0<t.O&&(t.M=new XB(Xt(t.Pa,t,t.g),t.O)),BA(t.U,t.g,"readystatechange",t.nb),e=t.I?PA(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),oc(),JB(t.j,t.u,t.A,t.m,t.W,t.s)}G.nb=function(t){t=t.target;const e=this.M;e&&pr(t)==3?e.l():this.Pa(t)};G.Pa=function(t){try{if(t==this.g)e:{const u=pr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||s_||this.g&&(this.h.h||this.g.ja()||pw(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?oc(3):oc(2)),$f(this);var n=this.g.da();this.ca=n;t:if(XA(this)){var r=pw(this.g);t="";var s=r.length,i=pr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),Il(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,ZB(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tc(a)){var c=a;break t}}c=null}if(n=c)Eo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,h_(this,n);else{this.i=!1,this.o=3,on(12),pi(this),Il(this);break e}}this.S?(JA(this,u,o),s_&&this.i&&u==3&&(BA(this.U,this.V,"tick",this.mb),this.V.start())):(Eo(this.j,this.m,o,null),h_(this,o)),u==4&&pi(this),this.i&&!this.J&&(u==4?SN(this.l,this):(this.i=!1,Uc(this)))}else Tz(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,on(12)):(this.o=0,on(13)),pi(this),Il(this)}}}catch{}finally{}};function XA(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function JA(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=rz(t,n),s==ch){e==4&&(t.o=4,on(14),r=!1),Eo(t.j,t.m,null,"[Incomplete Response]");break}else if(s==u_){t.o=4,on(15),Eo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Eo(t.j,t.m,s,null),h_(t,s);XA(t)&&s!=ch&&s!=u_&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),jy(e),e.M=!0,on(11))):(Eo(t.j,t.m,n,"[Invalid Chunked Response]"),pi(t),Il(t))}G.mb=function(){if(this.g){var t=pr(this.g),e=this.g.ja();this.C<e.length&&($f(this),JA(this,t,e),this.i&&t!=4&&Uc(this))}};function rz(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ch:(n=Number(e.substring(n,r)),isNaN(n)?u_:(r+=1,r+n>e.length?ch:(e=e.slice(r,r+n),t.C=r+n,e)))}G.cancel=function(){this.J=!0,pi(this)};function Uc(t){t.Y=Date.now()+t.P,ZA(t,t.P)}function ZA(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=$c(Xt(t.lb,t),e)}function $f(t){t.B&&(me.clearTimeout(t.B),t.B=null)}G.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(ez(this.j,this.A),this.L!=2&&(oc(),on(17)),pi(this),this.o=2,Il(this)):ZA(this,this.Y-t)};function Il(t){t.l.H==0||t.J||SN(t.l,t)}function pi(t){$f(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,xy(t.V),zA(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function h_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||f_(n.i,t))){if(!t.K&&f_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)hh(n),Bf(n);else break e;$y(n),on(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=$c(Xt(n.ib,n),6e3));if(1>=aN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else mi(n,11)}else if((t.K||n.g==t)&&hh(n),!tc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Oy(i,i.h),i.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,We(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=IN(r,r.J?r.pa:null,r.Y),o.K){lN(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&($f(a),Uc(a)),r.g=o}else yN(r);0<n.j.length&&zf(n)}else c[0]!="stop"&&c[0]!="close"||mi(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?mi(n,7):Vy(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}oc(4)}catch{}}function sz(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function iz(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function eN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=iz(t),r=sz(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var tN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function oz(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ei(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ei){this.h=t.h,uh(this,t.j),this.s=t.s,this.g=t.g,dh(this,t.m),this.l=t.l;var e=t.i,n=new ac;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),dw(this,n),this.o=t.o}else t&&(e=String(t).match(tN))?(this.h=!1,uh(this,e[1]||"",!0),this.s=al(e[2]||""),this.g=al(e[3]||"",!0),dh(this,e[4]),this.l=al(e[5]||"",!0),dw(this,e[6]||"",!0),this.o=al(e[7]||"")):(this.h=!1,this.i=new ac(null,this.h))}Ei.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ll(e,hw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(ll(e,hw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(ll(n,n.charAt(0)=="/"?cz:lz,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ll(n,dz)),t.join("")};function Zr(t){return new Ei(t)}function uh(t,e,n){t.j=n?al(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function dh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function dw(t,e,n){e instanceof ac?(t.i=e,hz(t.i,t.h)):(n||(e=ll(e,uz)),t.i=new ac(e,t.h))}function We(t,e,n){t.i.set(e,n)}function jf(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function al(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ll(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,az),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function az(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var hw=/[#\/\?@]/g,lz=/[#\?:]/g,cz=/[#\?]/g,uz=/[#\?@]/g,dz=/#/g;function ac(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ni(t){t.g||(t.g=new Map,t.h=0,t.i&&oz(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}G=ac.prototype;G.add=function(t,e){ni(this),this.i=null,t=ya(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function nN(t,e){ni(t),e=ya(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function rN(t,e){return ni(t),e=ya(t,e),t.g.has(e)}G.forEach=function(t,e){ni(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};G.ta=function(){ni(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};G.Z=function(t){ni(this);let e=[];if(typeof t=="string")rN(this,t)&&(e=e.concat(this.g.get(ya(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};G.set=function(t,e){return ni(this),this.i=null,t=ya(this,t),rN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};G.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function sN(t,e,n){nN(t,e),0<n.length&&(t.i=null,t.g.set(ya(t,e),Ey(n)),t.h+=n.length)}G.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function ya(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function hz(t,e){e&&!t.j&&(ni(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(nN(this,r),sN(this,s,n))},t)),t.j=e}var fz=class{constructor(t,e){this.g=t,this.map=e}};function iN(t){this.l=t||pz,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var pz=10;function oN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function aN(t){return t.h?1:t.g?t.g.size:0}function f_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Oy(t,e){t.g?t.g.add(e):t.h=e}function lN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}iN.prototype.cancel=function(){if(this.i=cN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function cN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Ey(t.i)}var mz=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function gz(){this.g=new mz}function _z(t,e,n){const r=n||"";try{eN(t,function(s,i){let o=s;Mc(s)&&(o=Ay(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function vz(t,e){const n=new Of;if(me.Image){const r=new Image;r.onload=Mu($u,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Mu($u,n,r,"TestLoadImage: error",!1,e),r.onabort=Mu($u,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Mu($u,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function $u(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Bc(t){this.l=t.fc||null,this.j=t.ob||!1}kt(Bc,ky);Bc.prototype.g=function(){return new Ff(this.l,this.j)};Bc.prototype.i=function(t){return function(){return t}}({});function Ff(t,e){bt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Dy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(Ff,bt);var Dy=0;G=Ff.prototype;G.open=function(t,e){if(this.readyState!=Dy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,lc(this)};G.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};G.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,zc(this)),this.readyState=Dy};G.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,lc(this)),this.g&&(this.readyState=3,lc(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;uN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function uN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}G.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?zc(this):lc(this),this.readyState==3&&uN(this)}};G.Za=function(t){this.g&&(this.response=this.responseText=t,zc(this))};G.Ya=function(t){this.g&&(this.response=t,zc(this))};G.ka=function(){this.g&&zc(this)};function zc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,lc(t)}G.setRequestHeader=function(t,e){this.v.append(t,e)};G.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};G.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function lc(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ff.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var yz=me.JSON.parse;function ot(t){bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=dN,this.L=this.M=!1}kt(ot,bt);var dN="",Ez=/^https?$/i,Sz=["POST","PUT"];G=ot.prototype;G.Oa=function(t){this.M=t};G.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():c_.g(),this.C=this.u?uw(this.u):uw(c_),this.g.onreadystatechange=Xt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){fw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=me.FormData&&t instanceof me.FormData,!(0<=NA(Sz,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{pN(this),0<this.B&&((this.L=wz(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Xt(this.ua,this)):this.A=by(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){fw(this,i)}};function wz(t){return Zo&&typeof t.timeout=="number"&&t.ontimeout!==void 0}G.ua=function(){typeof yy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,$t(this,"timeout"),this.abort(8))};function fw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,hN(t),Uf(t)}function hN(t){t.F||(t.F=!0,$t(t,"complete"),$t(t,"error"))}G.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,$t(this,"complete"),$t(this,"abort"),Uf(this))};G.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uf(this,!0)),ot.$.N.call(this)};G.La=function(){this.s||(this.G||this.v||this.l?fN(this):this.kb())};G.kb=function(){fN(this)};function fN(t){if(t.h&&typeof yy<"u"&&(!t.C[1]||pr(t)!=4||t.da()!=2)){if(t.v&&pr(t)==4)by(t.La,0,t);else if($t(t,"readystatechange"),pr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(tN)[1]||null;!s&&me.self&&me.self.location&&(s=me.self.location.protocol.slice(0,-1)),r=!Ez.test(s?s.toLowerCase():"")}n=r}if(n)$t(t,"complete"),$t(t,"success");else{t.m=6;try{var i=2<pr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",hN(t)}}finally{Uf(t)}}}}function Uf(t,e){if(t.g){pN(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||$t(t,"ready");try{n.onreadystatechange=r}catch{}}}function pN(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}G.isActive=function(){return!!this.g};function pr(t){return t.g?t.g.readyState:0}G.da=function(){try{return 2<pr(this)?this.g.status:-1}catch{return-1}};G.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};G.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),yz(e)}};function pw(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case dN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function Tz(t){const e={};t=(t.g&&2<=pr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(tc(t[r]))continue;var n=KB(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}UB(e,function(r){return r.join(", ")})}G.Ia=function(){return this.m};G.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function mN(t){let e="";return wy(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function My(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=mN(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function qa(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function gN(t){this.Ga=0,this.j=[],this.l=new Of,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qa("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qa("baseRetryDelayMs",5e3,t),this.hb=qa("retryDelaySeedMs",1e4,t),this.eb=qa("forwardChannelMaxRetries",2,t),this.xa=qa("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new iN(t&&t.concurrentRequestLimit),this.Ja=new gz,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}G=gN.prototype;G.ra=8;G.H=1;function Vy(t){if(_N(t),t.H==3){var e=t.W++,n=Zr(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),Hc(t,n),e=new Fc(t,t.l,e),e.L=2,e.v=jf(Zr(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=CN(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Uc(e)}TN(t)}function Bf(t){t.g&&(jy(t),t.g.cancel(),t.g=null)}function _N(t){Bf(t),t.u&&(me.clearTimeout(t.u),t.u=null),hh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function zf(t){if(!oN(t.i)&&!t.m){t.m=!0;var e=t.Na;rc||FA(),sc||(rc(),sc=!0),Ny.add(e,t),t.C=0}}function Iz(t,e){return aN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=$c(Xt(t.Na,t,e),wN(t,t.C)),t.C++,!0)}G.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Fc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=PA(i),LA(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=vN(this,s,e),n=Zr(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),Hc(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(mN(i)))+"&"+e:this.o&&My(n,this.o,i)),Oy(this.i,s),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),s.aa=!0,d_(s,n,null)):d_(s,n,e),this.H=2}}else this.H==3&&(t?mw(this,t):this.j.length==0||oN(this.i)||mw(this))};function mw(t,e){var n;e?n=e.m:n=t.W++;const r=Zr(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),Hc(t,r),t.o&&t.s&&My(r,t.o,t.s),n=new Fc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=vN(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Oy(t.i,n),d_(n,r,e)}function Hc(t,e){t.na&&wy(t.na,function(n,r){We(e,r,n)}),t.h&&eN({},function(n,r){We(e,r,n)})}function vN(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Xt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{_z(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function yN(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;rc||FA(),sc||(rc(),sc=!0),Ny.add(e,t),t.A=0}}function $y(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=$c(Xt(t.Ma,t),wN(t,t.A)),t.A++,!0)}G.Ma=function(){if(this.u=null,EN(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=$c(Xt(this.jb,this),t)}};G.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),Bf(this),EN(this))};function jy(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function EN(t){t.g=new Fc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Zr(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),Hc(t,e),t.o&&t.s&&My(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=jf(Zr(e)),n.s=null,n.S=!0,YA(n,t)}G.ib=function(){this.v!=null&&(this.v=null,Bf(this),$y(this),on(19))};function hh(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function SN(t,e){var n=null;if(t.g==e){hh(t),jy(t),t.g=null;var r=2}else if(f_(t.i,e))n=e.F,lN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Df(),$t(r,new qA(r,n)),zf(t)}else yN(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&Iz(t,e)||r==2&&$y(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:mi(t,5);break;case 4:mi(t,10);break;case 3:mi(t,6);break;default:mi(t,2)}}}function wN(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function mi(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Xt(t.pb,t);n||(n=new Ei("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||uh(n,"https"),jf(n)),vz(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),TN(t),_N(t)}G.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))};function TN(t){if(t.H=0,t.ma=[],t.h){const e=cN(t.i);(e.length!=0||t.j.length!=0)&&(iw(t.ma,e),iw(t.ma,t.j),t.i.i.length=0,Ey(t.j),t.j.length=0),t.h.ya()}}function IN(t,e,n){var r=n instanceof Ei?Zr(n):new Ei(n);if(r.g!="")e&&(r.g=e+"."+r.g),dh(r,r.m);else{var s=me.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ei(null);r&&uh(i,r),e&&(i.g=e),s&&dh(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&We(r,n,e),We(r,"VER",t.ra),Hc(t,r),r}function CN(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ot(new Bc({ob:!0})):new ot(t.va),e.Oa(t.J),e}G.isActive=function(){return!!this.h&&this.h.isActive(this)};function RN(){}G=RN.prototype;G.Ba=function(){};G.Aa=function(){};G.za=function(){};G.ya=function(){};G.isActive=function(){return!0};G.Va=function(){};function fh(){if(Zo&&!(10<=Number(VB)))throw Error("Environmental error: no available transport.")}fh.prototype.g=function(t,e){return new Rn(t,e)};function Rn(t,e){bt.call(this),this.g=new gN(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!tc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ea(this)}kt(Rn,bt);Rn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=IN(t,null,t.Y),zf(t)};Rn.prototype.close=function(){Vy(this.g)};Rn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Ay(t),t=n);e.j.push(new fz(e.fb++,t)),e.H==3&&zf(e)};Rn.prototype.N=function(){this.g.h=null,delete this.j,Vy(this.g),delete this.g,Rn.$.N.call(this)};function AN(t){Py.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kt(AN,Py);function NN(){Ly.call(this),this.status=1}kt(NN,Ly);function Ea(t){this.g=t}kt(Ea,RN);Ea.prototype.Ba=function(){$t(this.g,"a")};Ea.prototype.Aa=function(t){$t(this.g,new AN(t))};Ea.prototype.za=function(t){$t(this.g,new NN)};Ea.prototype.ya=function(){$t(this.g,"b")};function Cz(){this.blockSize=-1}function ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kt(ir,Cz);ir.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function ym(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}ir.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)ym(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){ym(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){ym(this,r),s=0;break}}this.h=s,this.i+=e};ir.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var Rz={};function Fy(t){return-128<=t&&128>t?OB(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function mr(t){if(isNaN(t)||!isFinite(t))return ko;if(0>t)return Ot(mr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=p_;return new Ve(e,0)}function xN(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ot(xN(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=mr(Math.pow(e,8)),r=ko,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=mr(Math.pow(e,i)),r=r.R(i).add(mr(o))):(r=r.R(n),r=r.add(mr(o)))}return r}var p_=4294967296,ko=Fy(0),m_=Fy(1),gw=Fy(16777216);G=Ve.prototype;G.ea=function(){if(Dn(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:p_+r)*e,e*=p_}return t};G.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(jr(this))return"0";if(Dn(this))return"-"+Ot(this).toString(t);for(var e=mr(Math.pow(t,6)),n=this,r="";;){var s=mh(n,e).g;n=ph(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,jr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};G.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function jr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Dn(t){return t.h==-1}G.X=function(t){return t=ph(this,t),Dn(t)?-1:jr(t)?0:1};function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(m_)}G.abs=function(){return Dn(this)?Ot(this):this};G.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function ph(t,e){return t.add(Ot(e))}G.R=function(t){if(jr(this)||jr(t))return ko;if(Dn(this))return Dn(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if(Dn(t))return Ot(this.R(Ot(t)));if(0>this.X(gw)&&0>t.X(gw))return mr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,ju(n,2*r+2*s),n[2*r+2*s+1]+=i*l,ju(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,ju(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,ju(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function ju(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ga(t,e){this.g=t,this.h=e}function mh(t,e){if(jr(e))throw Error("division by zero");if(jr(t))return new Ga(ko,ko);if(Dn(t))return e=mh(Ot(t),e),new Ga(Ot(e.g),Ot(e.h));if(Dn(e))return e=mh(t,Ot(e)),new Ga(Ot(e.g),e.h);if(30<t.g.length){if(Dn(t)||Dn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=m_,r=e;0>=r.X(t);)n=_w(n),r=_w(r);var s=no(n,1),i=no(r,1);for(r=no(r,2),n=no(n,2);!jr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=no(r,1),n=no(n,1)}return e=ph(t,s.R(e)),new Ga(s,e)}for(s=ko;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=mr(n),o=i.R(e);Dn(o)||0<o.X(t);)n-=r,i=mr(n),o=i.R(e);jr(i)&&(i=m_),s=s.add(i),t=ph(t,o)}return new Ga(s,t)}G.gb=function(t){return mh(this,t).h};G.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};G.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};G.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function _w(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function no(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ve(s,t.h)}fh.prototype.createWebChannel=fh.prototype.g;Rn.prototype.send=Rn.prototype.u;Rn.prototype.open=Rn.prototype.m;Rn.prototype.close=Rn.prototype.close;Mf.NO_ERROR=0;Mf.TIMEOUT=8;Mf.HTTP_ERROR=6;GA.COMPLETE="complete";KA.EventType=jc;jc.OPEN="a";jc.CLOSE="b";jc.ERROR="c";jc.MESSAGE="d";bt.prototype.listen=bt.prototype.O;ot.prototype.listenOnce=ot.prototype.P;ot.prototype.getLastError=ot.prototype.Sa;ot.prototype.getLastErrorCode=ot.prototype.Ia;ot.prototype.getStatus=ot.prototype.da;ot.prototype.getResponseJson=ot.prototype.Wa;ot.prototype.getResponseText=ot.prototype.ja;ot.prototype.send=ot.prototype.ha;ot.prototype.setWithCredentials=ot.prototype.Oa;ir.prototype.digest=ir.prototype.l;ir.prototype.reset=ir.prototype.reset;ir.prototype.update=ir.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=mr;Ve.fromString=xN;var Az=function(){return new fh},Nz=function(){return Df()},Em=Mf,xz=GA,bz=Gi,vw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},kz=Bc,Fu=KA,Pz=ot,Lz=ir,Po=Ve;const yw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sa="10.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki=new Af("@firebase/firestore");function Ew(){return ki.logLevel}function re(t,...e){if(ki.logLevel<=ke.DEBUG){const n=e.map(Uy);ki.debug(`Firestore (${Sa}): ${t}`,...n)}}function es(t,...e){if(ki.logLevel<=ke.ERROR){const n=e.map(Uy);ki.error(`Firestore (${Sa}): ${t}`,...n)}}function ea(t,...e){if(ki.logLevel<=ke.WARN){const n=e.map(Uy);ki.warn(`Firestore (${Sa}): ${t}`,...n)}}function Uy(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${Sa}) INTERNAL ASSERTION FAILED: `+t;throw es(e),new Error(e)}function Qe(t,e){t||fe()}function Ee(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Oz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class Dz{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Mz{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new bN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new Ht(e)}}class Vz{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class $z{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Vz(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jz{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fz{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new jz(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=Uz(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function ta(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new X(V.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(V.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new vt(0,0))}static max(){return new ge(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return cc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof cc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends cc{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new X(V.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const Bz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends cc{construct(e,n,r){return new Qt(e,n,r)}static isValidIdentifier(e){return Bz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Qt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new X(V.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new X(V.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new X(V.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(qe.fromString(e))}static fromName(e){return new ae(qe.fromString(e).popFirst(5))}static empty(){return new ae(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new qe(e.slice()))}}function zz(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Hs(s,ae.empty(),e)}function Hz(t){return new Hs(t.readTime,t.key,-1)}class Hs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hs(ge.min(),ae.empty(),-1)}static max(){return new Hs(ge.max(),ae.empty(),-1)}}function Wz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Gz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(t){if(t.code!==V.FAILED_PRECONDITION||t.message!==qz)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function qc(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class By{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}By.ae=-1;function Hf(t){return t==null}function gh(t){return t===0&&1/t==-1/0}function Kz(t){return typeof t=="number"&&Number.isInteger(t)&&!gh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function wa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pt=class g_{constructor(e,n){this.comparator=e,this.root=n||Vs.EMPTY}insert(e,n){return new g_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vs.BLACK,null,null))}remove(e){return new g_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Uu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Uu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Uu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Uu(this.root,e,this.comparator,!0)}},Uu=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Vs=class Pr{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pr.RED,this.left=s??Pr.EMPTY,this.right=i??Pr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pr(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}};Vs.EMPTY=null,Vs.RED=!0,Vs.BLACK=!1;Vs.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Vs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ww(this.data.getIterator())}getIteratorFrom(e){return new ww(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Zt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Zt(this.comparator);return n.data=e,n}}class ww{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Jn([])}unionWith(e){let n=new Zt(Qt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Jn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ta(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new LN("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const Qz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=Qz.exec(t);if(Qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Pi(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hy(t){const e=t.mapValue.fields.__previous_value__;return zy(e)?Hy(e):e}function uc(t){const e=Ws(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class dc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Li(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zy(t)?4:Xz(t)?9007199254740991:10:fe()}function Tr(t,e){if(t===e)return!0;const n=Li(t);if(n!==Li(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uc(t).isEqual(uc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ws(s.timestampValue),a=Ws(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Pi(s.bytesValue).isEqual(Pi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return dt(s.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(s.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return dt(s.integerValue)===dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=dt(s.doubleValue),a=dt(i.doubleValue);return o===a?gh(o)===gh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ta(t.arrayValue.values||[],e.arrayValue.values||[],Tr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Sw(o)!==Sw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Tr(o[l],a[l])))return!1;return!0}(t,e);default:return fe()}}function hc(t,e){return(t.values||[]).find(n=>Tr(n,e))!==void 0}function na(t,e){if(t===e)return 0;const n=Li(t),r=Li(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=dt(i.integerValue||i.doubleValue),l=dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Tw(t.timestampValue,e.timestampValue);case 4:return Tw(uc(t),uc(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Pi(i),l=Pi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Oe(a[c],l[c]);if(u!==0)return u}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(dt(i.latitude),dt(o.latitude));return a!==0?a:Oe(dt(i.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=na(a[c],l[c]);if(u)return u}return Oe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Bu.mapValue&&o===Bu.mapValue)return 0;if(i===Bu.mapValue)return 1;if(o===Bu.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const f=Oe(l[d],u[d]);if(f!==0)return f;const p=na(a[l[d]],c[u[d]]);if(p!==0)return p}return Oe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw fe()}}function Tw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Ws(t),r=Ws(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function ra(t){return __(t)}function __(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ws(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Pi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=__(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${__(n.fields[o])}`;return s+"}"}(t.mapValue):fe()}function Iw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function v_(t){return!!t&&"integerValue"in t}function Wy(t){return!!t&&"arrayValue"in t}function Cw(t){return!!t&&"nullValue"in t}function Rw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function md(t){return!!t&&"mapValue"in t}function Cl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return wa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Cl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Cl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Xz(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e){this.value=e}static empty(){return new Mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cl(n)}setAll(e){let n=Qt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Cl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Tr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];md(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){wa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Mn(Cl(this.value))}}function ON(t){const e=[];return wa(t.fields,(n,r)=>{const s=new Qt([n]);if(md(r)){const i=ON(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Jn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new qt(e,0,ge.min(),ge.min(),ge.min(),Mn.empty(),0)}static newFoundDocument(e,n,r,s){return new qt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new qt(e,2,n,ge.min(),ge.min(),Mn.empty(),0)}static newUnknownDocument(e,n){return new qt(e,3,n,ge.min(),ge.min(),Mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function Aw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=na(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Nw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Tr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n="asc"){this.field=e,this.dir=n}}function Jz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{}class ft extends DN{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new e3(e,n,r):n==="array-contains"?new r3(e,r):n==="in"?new s3(e,r):n==="not-in"?new i3(e,r):n==="array-contains-any"?new o3(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new t3(e,r):new n3(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(na(n,this.value)):n!==null&&Li(this.value)===Li(n)&&this.matchesComparison(na(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class or extends DN{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new or(e,n)}matches(e){return MN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function MN(t){return t.op==="and"}function VN(t){return Zz(t)&&MN(t)}function Zz(t){for(const e of t.filters)if(e instanceof or)return!1;return!0}function y_(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+ra(t.value);if(VN(t))return t.filters.map(e=>y_(e)).join(",");{const e=t.filters.map(n=>y_(n)).join(",");return`${t.op}(${e})`}}function $N(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&Tr(r.value,s.value)}(t,e):t instanceof or?function(r,s){return s instanceof or&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&$N(o,s.filters[a]),!0):!1}(t,e):void fe()}function jN(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${ra(n.value)}`}(t):t instanceof or?function(n){return n.op.toString()+" {"+n.getFilters().map(jN).join(" ,")+"}"}(t):"Filter"}class e3 extends ft{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class t3 extends ft{constructor(e,n){super(e,"in",n),this.keys=FN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class n3 extends ft{constructor(e,n){super(e,"not-in",n),this.keys=FN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function FN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class r3 extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wy(n)&&hc(n.arrayValue,this.value)}}class s3 extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&hc(this.value.arrayValue,n)}}class i3 extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!hc(this.value.arrayValue,n)}}class o3 extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wy(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>hc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.he=null}}function xw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new a3(t,e,n,r,s,i,o)}function qy(t){const e=Ee(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>y_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Hf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ra(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ra(r)).join(",")),e.he=n}return e.he}function Gy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Jz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!$N(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nw(t.startAt,e.startAt)&&Nw(t.endAt,e.endAt)}function E_(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function l3(t,e,n,r,s,i,o,a){return new Ta(t,e,n,r,s,i,o,a)}function Ky(t){return new Ta(t)}function bw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Qy(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Wf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function UN(t){return t.collectionGroup!==null}function Rl(t){const e=Ee(t);if(e.Pe===null){e.Pe=[];const n=Wf(e),r=Qy(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Lo(n)),e.Pe.push(new Lo(Qt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.Pe.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Lo(Qt.keyField(),i))}}}return e.Pe}function ts(t){const e=Ee(t);return e.Ie||(e.Ie=c3(e,Rl(t))),e.Ie}function c3(t,e){if(t.limitType==="F")return xw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Lo(s.field,i)});const n=t.endAt?new _h(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new _h(t.startAt.position,t.startAt.inclusive):null;return xw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function S_(t,e){e.getFirstInequalityField(),Wf(t);const n=t.filters.concat([e]);return new Ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function vh(t,e,n){return new Ta(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function qf(t,e){return Gy(ts(t),ts(e))&&t.limitType===e.limitType}function BN(t){return`${qy(ts(t))}|lt:${t.limitType}`}function w_(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>jN(s)).join(", ")}]`),Hf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ra(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ra(s)).join(",")),`Target(${r})`}(ts(t))}; limitType=${t.limitType})`}function Gf(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Rl(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Aw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Rl(r),s)||r.endAt&&!function(o,a,l){const c=Aw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Rl(r),s))}(t,e)}function u3(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function zN(t){return(e,n)=>{let r=!1;for(const s of Rl(t)){const i=d3(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function d3(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?na(l,c):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){wa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return PN(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=new pt(ae.comparator);function ns(){return h3}const HN=new pt(ae.comparator);function cl(...t){let e=HN;for(const n of t)e=e.insert(n.key,n);return e}function WN(t){let e=HN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gi(){return Al()}function qN(){return Al()}function Al(){return new Ia(t=>t.toString(),(t,e)=>t.isEqual(e))}const f3=new pt(ae.comparator),p3=new Zt(ae.comparator);function Ce(...t){let e=p3;for(const n of t)e=e.add(n);return e}const m3=new Zt(Oe);function g3(){return m3}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function KN(t){return{integerValue:""+t}}function _3(t,e){return Kz(e)?KN(e):GN(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this._=void 0}}function v3(t,e,n){return t instanceof yh?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&zy(i)&&(i=Hy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof fc?YN(t,e):t instanceof pc?XN(t,e):function(s,i){const o=QN(s,i),a=kw(o)+kw(s.Ee);return v_(o)&&v_(s.Ee)?KN(a):GN(s.serializer,a)}(t,e)}function y3(t,e,n){return t instanceof fc?YN(t,e):t instanceof pc?XN(t,e):n}function QN(t,e){return t instanceof Eh?function(r){return v_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class yh extends Kf{}class fc extends Kf{constructor(e){super(),this.elements=e}}function YN(t,e){const n=JN(e);for(const r of t.elements)n.some(s=>Tr(s,r))||n.push(r);return{arrayValue:{values:n}}}class pc extends Kf{constructor(e){super(),this.elements=e}}function XN(t,e){let n=JN(e);for(const r of t.elements)n=n.filter(s=>!Tr(s,r));return{arrayValue:{values:n}}}class Eh extends Kf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function kw(t){return dt(t.integerValue||t.doubleValue)}function JN(t){return Wy(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function E3(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof fc&&s instanceof fc||r instanceof pc&&s instanceof pc?ta(r.elements,s.elements,Tr):r instanceof Eh&&s instanceof Eh?Tr(r.Ee,s.Ee):r instanceof yh&&s instanceof yh}(t.transform,e.transform)}class S3{constructor(e,n){this.version=e,this.transformResults=n}}class Wr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Wr}static exists(e){return new Wr(void 0,e)}static updateTime(e){return new Wr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qf{}function ZN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new tx(t.key,Wr.none()):new Gc(t.key,t.data,Wr.none());{const n=t.data,r=Mn.empty();let s=new Zt(Qt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Ki(t.key,r,new Jn(s.toArray()),Wr.none())}}function w3(t,e,n){t instanceof Gc?function(s,i,o){const a=s.value.clone(),l=Lw(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ki?function(s,i,o){if(!gd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Lw(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(ex(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Nl(t,e,n,r){return t instanceof Gc?function(i,o,a,l){if(!gd(i.precondition,o))return a;const c=i.value.clone(),u=Ow(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ki?function(i,o,a,l){if(!gd(i.precondition,o))return a;const c=Ow(i.fieldTransforms,l,o),u=o.data;return u.setAll(ex(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return gd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function T3(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=QN(r.transform,s||null);i!=null&&(n===null&&(n=Mn.empty()),n.set(r.field,i))}return n||null}function Pw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&ta(r,s,(i,o)=>E3(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Gc extends Qf{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ki extends Qf{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ex(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Lw(t,e,n){const r=new Map;Qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,y3(o,a,n[s]))}return r}function Ow(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,v3(i,o,e))}return r}class tx extends Qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class I3 extends Qf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C3{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&w3(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Nl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=qN();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=ZN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&ta(this.mutations,e.mutations,(n,r)=>Pw(n,r))&&ta(this.baseMutations,e.baseMutations,(n,r)=>Pw(n,r))}}class Yy{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length);let s=function(){return f3}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Yy(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ne;function N3(t){switch(t){default:return fe();case V.CANCELLED:case V.UNKNOWN:case V.DEADLINE_EXCEEDED:case V.RESOURCE_EXHAUSTED:case V.INTERNAL:case V.UNAVAILABLE:case V.UNAUTHENTICATED:return!1;case V.INVALID_ARGUMENT:case V.NOT_FOUND:case V.ALREADY_EXISTS:case V.PERMISSION_DENIED:case V.FAILED_PRECONDITION:case V.ABORTED:case V.OUT_OF_RANGE:case V.UNIMPLEMENTED:case V.DATA_LOSS:return!0}}function nx(t){if(t===void 0)return es("GRPC error has no .code"),V.UNKNOWN;switch(t){case ut.OK:return V.OK;case ut.CANCELLED:return V.CANCELLED;case ut.UNKNOWN:return V.UNKNOWN;case ut.DEADLINE_EXCEEDED:return V.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return V.RESOURCE_EXHAUSTED;case ut.INTERNAL:return V.INTERNAL;case ut.UNAVAILABLE:return V.UNAVAILABLE;case ut.UNAUTHENTICATED:return V.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return V.INVALID_ARGUMENT;case ut.NOT_FOUND:return V.NOT_FOUND;case ut.ALREADY_EXISTS:return V.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return V.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return V.FAILED_PRECONDITION;case ut.ABORTED:return V.ABORTED;case ut.OUT_OF_RANGE:return V.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return V.UNIMPLEMENTED;case ut.DATA_LOSS:return V.DATA_LOSS;default:return fe()}}(Ne=ut||(ut={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zu}static getOrCreateInstance(){return zu===null&&(zu=new Xy),zu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let zu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b3=new Po([4294967295,4294967295],0);function Dw(t){const e=x3().encode(t),n=new Lz;return n.update(e),new Uint8Array(n.digest())}function Mw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Po([n,r],0),new Po([s,i],0)]}class Jy{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ul(`Invalid padding: ${n}`);if(r<0)throw new ul(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ul(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ul(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=Po.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(Po.fromNumber(r)));return s.compare(b3)===1&&(s=new Po([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=Dw(e),[r,s]=Mw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);if(!this.me(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Jy(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=Dw(e),[r,s]=Mw(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Kc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Yf(ge.min(),s,new pt(Oe),ns(),Ce())}}class Kc{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Kc(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class rx{constructor(e,n){this.targetId=e,this.ye=n}}class sx{constructor(e,n,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Vw{constructor(){this.we=0,this.Se=jw(),this.be=nn.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return this.we!==0}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=Ce(),n=Ce(),r=Ce();return this.Se.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe()}}),new Kc(this.be,this.De,e,n,r)}Oe(){this.ve=!1,this.Se=jw()}Ne(e,n){this.ve=!0,this.Se=this.Se.insert(e,n)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class k3{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=ns(),this.Ue=$w(),this.We=new pt(Oe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){var n;const r=e.targetId,s=e.ye.count,i=this.et(r);if(i){const o=i.target;if(E_(o))if(s===0){const a=new ae(o.path);this.je(r,a,qt.newNoDocument(a,ge.min()))}else Qe(s===1);else{const a=this.tt(r);if(a!==s){const l=this.nt(e),c=l?this.rt(l,e,a):1;if(c!==0){this.Ze(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(r,u)}(n=Xy.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,f,p,m,g){var E,_,v,y,S,w;const N={localCacheCount:d,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},P=f.unchangedNames;return P&&(N.bloomFilter={applied:g===0,hashCount:(E=P==null?void 0:P.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(y=(v=(_=P==null?void 0:P.bits)===null||_===void 0?void 0:_.bitmap)===null||v===void 0?void 0:v.length)!==null&&y!==void 0?y:0,padding:(w=(S=P==null?void 0:P.bits)===null||S===void 0?void 0:S.padding)!==null&&w!==void 0?w:0,mightContain:O=>{var J;return(J=m==null?void 0:m.mightContain(O))!==null&&J!==void 0&&J}}),N}(a,e.ye,this.Qe.it(),l,c))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Pi(r).toUint8Array()}catch(l){if(l instanceof LN)return ea("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Jy(o,s,i)}catch(l){return ea(l instanceof ul?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Qe.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.je(n,i,null),s++)}),s}ot(e){const n=new Map;this.Ke.forEach((i,o)=>{const a=this.et(o);if(a){if(i.current&&E_(a.target)){const l=new ae(a.target.path);this.$e.get(l)!==null||this._t(o,l)||this.je(o,l,qt.newNoDocument(l,e))}i.Fe&&(n.set(o,i.xe()),i.Oe())}});let r=Ce();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.et(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.$e.forEach((i,o)=>o.setReadTime(e));const s=new Yf(e,n,this.We,this.$e,r);return this.$e=ns(),this.Ue=$w(),this.We=new pt(Oe),s}ze(e,n){if(!this.Ye(e))return;const r=this._t(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ut(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this._t(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ut(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new Vw,this.Ke.set(e,n)),n}ut(e){let n=this.Ue.get(e);return n||(n=new Zt(Oe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.Ce?null:this.Qe.ct(e)}Ze(e){this.Ke.set(e,new Vw),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}_t(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function $w(){return new pt(ae.comparator)}function jw(){return new pt(ae.comparator)}const P3=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),L3=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),O3=(()=>({and:"AND",or:"OR"}))();class D3{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function T_(t,e){return t.useProto3Json||Hf(e)?e:{value:e}}function Sh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ix(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function M3(t,e){return Sh(t,e.toTimestamp())}function Er(t){return Qe(!!t),ge.fromTimestamp(function(n){const r=Ws(n);return new vt(r.seconds,r.nanos)}(t))}function Zy(t,e){return function(r){return new qe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function ox(t){const e=qe.fromString(t);return Qe(ux(e)),e}function I_(t,e){return Zy(t.databaseId,e.path)}function Sm(t,e){const n=ox(e);if(n.get(1)!==t.databaseId.projectId)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new X(V.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(ax(n))}function C_(t,e){return Zy(t.databaseId,e)}function V3(t){const e=ox(t);return e.length===4?qe.emptyPath():ax(e)}function R_(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ax(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Fw(t,e,n){return{name:I_(t,e),fields:n.value.mapValue.fields}}function $3(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Qe(u===void 0||typeof u=="string"),nn.fromBase64String(u||"")):(Qe(u===void 0||u instanceof Uint8Array),nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?V.UNKNOWN:nx(c.code);return new X(u,c.message||"")}(o);n=new sx(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Sm(t,r.document.name),i=Er(r.document.updateTime),o=r.document.createTime?Er(r.document.createTime):ge.min(),a=new Mn({mapValue:{fields:r.document.fields}}),l=qt.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new _d(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Sm(t,r.document),i=r.readTime?Er(r.readTime):ge.min(),o=qt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new _d([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Sm(t,r.document),i=r.removedTargetIds||[];n=new _d([],i,s,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new A3(s,i),a=r.targetId;n=new rx(a,o)}}return n}function j3(t,e){let n;if(e instanceof Gc)n={update:Fw(t,e.key,e.value)};else if(e instanceof tx)n={delete:I_(t,e.key)};else if(e instanceof Ki)n={update:Fw(t,e.key,e.data),updateMask:K3(e.fieldMask)};else{if(!(e instanceof I3))return fe();n={verify:I_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof yh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof pc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Eh)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:M3(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.precondition)),n}function F3(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Er(s.updateTime):Er(i);return o.isEqual(ge.min())&&(o=Er(i)),new S3(o,s.transformResults||[])}(n,e))):[]}function U3(t,e){return{documents:[C_(t,e.path)]}}function B3(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=C_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=C_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return cx(or.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(d){return{field:io(d.field),direction:W3(d.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=T_(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function z3(t){let e=V3(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(d){const f=lx(d);return f instanceof or&&VN(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(m){return new Lo(oo(m.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Hf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new _h(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(d){const f=!d.before,p=d.values||[];return new _h(p,f)}(n.endAt)),l3(e,s,o,i,a,"F",l,c)}function H3(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function lx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=oo(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=oo(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=oo(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=oo(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(oo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return or.create(n.compositeFilter.filters.map(r=>lx(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function W3(t){return P3[t]}function q3(t){return L3[t]}function G3(t){return O3[t]}function io(t){return{fieldPath:t.canonicalString()}}function oo(t){return Qt.fromServerFormat(t.fieldPath)}function cx(t){return t instanceof ft?function(n){if(n.op==="=="){if(Rw(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NAN"}};if(Cw(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Rw(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NAN"}};if(Cw(n.value))return{unaryFilter:{field:io(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:io(n.field),op:q3(n.op),value:n.value}}}(t):t instanceof or?function(n){const r=n.getFilters().map(s=>cx(s));return r.length===1?r[0]:{compositeFilter:{op:G3(n.op),filters:r}}}(t):fe()}function K3(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ux(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q3{constructor(e){this.lt=e}}function Y3(t){const e=z3({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?vh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X3{constructor(){this.on=new J3}addToCollectionParentIndex(e,n){return this.on.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Hs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Hs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class J3{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Zt(qe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Zt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new sa(0)}static Nn(){return new sa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(){this.changes=new Ia(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,qt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Nl(r.mutation,s,Jn.empty(),vt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const s=gi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=cl();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=gi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ns();const o=Al(),a=function(){return Al()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Ki)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Nl(u.mutation,c,u.mutation.getFieldMask(),vt.now())):o.set(c.key,Jn.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new e6(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Al();let s=new pt((o,a)=>o-a),i=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||Jn.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(s.get(a.batchId)||Ce()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=qN();u.forEach(f=>{if(!i.has(f)){const p=ZN(n.get(f),r.get(f));p!==null&&d.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return ae.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):UN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(gi());let a=-1,l=i;return o.next(c=>B.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(u)?B.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ce())).next(u=>({batchId:a,changes:WN(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=cl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=cl();return this.indexManager.getCollectionParents(e,s).next(o=>B.forEach(o,a=>{const l=function(u,d){return new Ta(d,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{i=i.insert(u,d)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,qt.newInvalidDocument(c)))});let o=cl();return i.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Nl(c.mutation,l,Jn.empty(),vt.now()),Gf(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return B.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Er(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:Y3(s.bundledQuery),readTime:Er(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6{constructor(){this.overlays=new pt(ae.comparator),this.lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=gi();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Pt(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=gi(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new pt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=gi(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=gi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return B.resolve(a)}Pt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new R3(n,r));let i=this.lr.get(n);i===void 0&&(i=Ce(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.hr=new Zt(It.Pr),this.Ir=new Zt(It.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new It(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new It(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new ae(new qe([])),r=new It(n,e),s=new It(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new ae(new qe([])),r=new It(n,e),s=new It(n,e+1);let i=Ce();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new It(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class It{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return ae.comparator(e.key,n.key)||Oe(e.gr,n.gr)}static Tr(e,n){return Oe(e.gr,n.gr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Zt(It.Pr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new C3(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new It(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new It(n,0),s=new It(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Zt(Oe);return n.forEach(s=>{const i=new It(s,0),o=new It(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),B.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new It(new ae(i),0);let a=new Zt(Oe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),B.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return B.forEach(n.mutations,s=>{const i=new It(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new It(n,0),s=this.yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(e){this.vr=e,this.docs=function(){return new pt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():qt.newInvalidDocument(n))}getEntries(e,n){let r=ns();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():qt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ns();const o=n.path,a=new ae(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Wz(Hz(u),r)<=0||(s.has(u.key)||Gf(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe()}Cr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new o6(this)}getSize(e){return B.resolve(this.size)}}class o6 extends Z3{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6{constructor(e){this.persistence=e,this.Fr=new Ia(n=>qy(n),Gy),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Mr=0,this.Or=new eE,this.targetCount=0,this.Nr=sa.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),B.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new sa(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.kn(n),B.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e,n){this.Br={},this.overlays={},this.Lr=new By(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new a6(this),this.indexManager=new X3,this.remoteDocumentCache=function(s){return new i6(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new Q3(n),this.Kr=new n6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new r6,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new s6(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new c6(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class c6 extends Gz{constructor(e){super(),this.currentSequenceNumber=e}}class tE{constructor(e){this.persistence=e,this.Gr=new eE,this.zr=null}static jr(e){return new tE(e)}get Hr(){if(this.zr)return this.zr;throw fe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,r=>{const s=ae.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return B.or([()=>B.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=Ce(),s=Ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new nE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.Ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ui(e,n).next(i=>i||this.Wi(e,n,s,r)).next(i=>i||this.Gi(e,n))}Ui(e,n){if(bw(n))return B.resolve(null);let r=ts(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=vh(n,null,"F"),r=ts(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ce(...i);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.zi(n,a);return this.ji(n,c,o,l.readTime)?this.Ui(e,vh(n,null,"F")):this.Hi(e,c,n,l)}))})))}Wi(e,n,r,s){return bw(n)||s.isEqual(ge.min())?this.Gi(e,n):this.$i.getDocuments(e,r).next(i=>{const o=this.zi(n,i);return this.ji(n,o,r,s)?this.Gi(e,n):(Ew()<=ke.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),w_(n)),this.Hi(e,o,n,zz(s,-1)))})}zi(e,n){let r=new Zt(zN(e));return n.forEach((s,i)=>{Gf(e,i)&&(r=r.add(i))}),r}ji(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Gi(e,n){return Ew()<=ke.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",w_(n)),this.$i.getDocumentsMatchingQuery(e,n,Hs.min())}Hi(e,n,r,s){return this.$i.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d6{constructor(e,n,r,s){this.persistence=e,this.Ji=n,this.serializer=s,this.Yi=new pt(Oe),this.Zi=new Ia(i=>qy(i),Gy),this.Xi=new Map,this.es=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.ts(r)}ts(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new t6(this.es,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.es.setIndexManager(this.indexManager),this.Ji.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Yi))}}function h6(t,e,n,r){return new d6(t,e,n,r)}async function dx(t,e){const n=Ee(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ts(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ce();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function f6(t,e){const n=Ee(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.es.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,f=d.keys();let p=B.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const E=c.docVersions.get(m);Qe(E!==null),g.version.compareTo(E)<0&&(d.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function hx(t){const e=Ee(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function p6(t,e){const n=Ee(t),r=e.snapshotVersion;let s=n.Yi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.es.newChangeBuffer({trackRemovals:!0});s=n.Yi;const a=[];e.targetChanges.forEach((u,d)=>{const f=s.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,d).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,d)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(nn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(d,p),function(g,E,_){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,u)&&a.push(n.qr.updateTargetData(i,p))});let l=ns(),c=Ce();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(m6(i,o,e.documentUpdates).next(u=>{l=u.rs,c=u.ss})),!r.isEqual(ge.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(d=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Yi=s,i))}function m6(t,e,n){let r=Ce(),s=Ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ns();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{rs:o,ss:s}})}function g6(t,e){const n=Ee(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function _6(t,e){const n=Ee(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Ts(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Yi.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Yi=n.Yi.insert(r.targetId,r),n.Zi.set(e,r.targetId)),r})}async function A_(t,e,n){const r=Ee(t),s=r.Yi.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!qc(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Yi=r.Yi.remove(e),r.Zi.delete(s.target)}function Uw(t,e,n){const r=Ee(t);let s=ge.min(),i=Ce();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,c,u){const d=Ee(l),f=d.Zi.get(u);return f!==void 0?B.resolve(d.Yi.get(f)):d.qr.getTargetData(c,u)}(r,o,ts(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ji.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Ce())).next(a=>(v6(r,u3(e),a),{documents:a,os:i})))}function v6(t,e,n){let r=t.Xi.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class Bw{constructor(){this.activeTargetIds=g3()}Ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}Is(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class y6{constructor(){this.Js=new Bw,this.Ys={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Js.Ps(e),this.Ys[e]||"not-current"}updateQueryState(e,n,r){this.Ys[e]=n}removeLocalQueryTarget(e){this.Js.Is(e)}isLocalQueryTarget(e){return this.Js.activeTargetIds.has(e)}clearQueryState(e){delete this.Ys[e]}getAllActiveQueryTargets(){return this.Js.activeTargetIds}isActiveQueryTarget(e){return this.Js.activeTargetIds.has(e)}start(){return this.Js=new Bw,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{Zs(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(){this.Xs=()=>this.eo(),this.no=()=>this.ro(),this.io=[],this.so()}Zs(e){this.io.push(e)}shutdown(){window.removeEventListener("online",this.Xs),window.removeEventListener("offline",this.no)}so(){window.addEventListener("online",this.Xs),window.addEventListener("offline",this.no)}eo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.io)e(0)}ro(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.io)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hu=null;function wm(){return Hu===null?Hu=function(){return 268435456+Math.round(2147483648*Math.random())}():Hu++,"0x"+Hu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w6{constructor(e){this.oo=e.oo,this._o=e._o}ao(e){this.uo=e}co(e){this.lo=e}onMessage(e){this.ho=e}close(){this._o()}send(e){this.oo(e)}Po(){this.uo()}Io(e){this.lo(e)}To(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection";class T6 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Eo=r+"://"+n.host,this.Ao=`projects/${s}/databases/${i}`,this.Ro=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Vo(){return!1}mo(n,r,s,i,o){const a=wm(),l=this.fo(n,r);re("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ao,"x-goog-request-params":this.Ro};return this.po(c,i,o),this.yo(n,l,c,s).then(u=>(re("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ea("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}wo(n,r,s,i,o,a){return this.mo(n,r,s,i,o)}po(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Sa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}fo(n,r){const s=S6[n];return`${this.Eo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}yo(e,n,r,s){const i=wm();return new Promise((o,a)=>{const l=new Pz;l.setWithCredentials(!0),l.listenOnce(xz.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Em.NO_ERROR:const u=l.getResponseJson();re(zt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Em.TIMEOUT:re(zt,`RPC '${e}' ${i} timed out`),a(new X(V.DEADLINE_EXCEEDED,"Request time out"));break;case Em.HTTP_ERROR:const d=l.getStatus();if(re(zt,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(E){const _=E.toLowerCase().replace(/_/g,"-");return Object.values(V).indexOf(_)>=0?_:V.UNKNOWN}(p.status);a(new X(m,p.message))}else a(new X(V.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new X(V.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{re(zt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);re(zt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}So(e,n,r){const s=wm(),i=[this.Eo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=Az(),a=Nz(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new kz({})),this.po(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");re(zt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const d=o.createWebChannel(u,l);let f=!1,p=!1;const m=new w6({oo:E=>{p?re(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(re(zt,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),re(zt,`RPC '${e}' stream ${s} sending:`,E),d.send(E))},_o:()=>d.close()}),g=(E,_,v)=>{E.listen(_,y=>{try{v(y)}catch(S){setTimeout(()=>{throw S},0)}})};return g(d,Fu.EventType.OPEN,()=>{p||re(zt,`RPC '${e}' stream ${s} transport opened.`)}),g(d,Fu.EventType.CLOSE,()=>{p||(p=!0,re(zt,`RPC '${e}' stream ${s} transport closed`),m.Io())}),g(d,Fu.EventType.ERROR,E=>{p||(p=!0,ea(zt,`RPC '${e}' stream ${s} transport errored:`,E),m.Io(new X(V.UNAVAILABLE,"The operation could not be completed")))}),g(d,Fu.EventType.MESSAGE,E=>{var _;if(!p){const v=E.data[0];Qe(!!v);const y=v,S=y.error||((_=y[0])===null||_===void 0?void 0:_.error);if(S){re(zt,`RPC '${e}' stream ${s} received error:`,S);const w=S.status;let N=function(J){const T=ut[J];if(T!==void 0)return nx(T)}(w),P=S.message;N===void 0&&(N=V.INTERNAL,P="Unknown error status: "+w+" with message "+S.message),p=!0,m.Io(new X(N,P)),d.close()}else re(zt,`RPC '${e}' stream ${s} received:`,v),m.To(v)}}),g(a,bz.STAT_EVENT,E=>{E.stat===vw.PROXY?re(zt,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===vw.NOPROXY&&re(zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Po()},0),m}}function Tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xf(t){return new D3(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.bo=r,this.Do=s,this.vo=i,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}reset(){this.Co=0}xo(){this.Co=this.vo}Oo(e){this.cancel();const n=Math.floor(this.Co+this.No()),r=Math.max(0,Date.now()-this.Mo),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Co} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Fo=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Mo=Date.now(),e())),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}Bo(){this.Fo!==null&&(this.Fo.skipDelay(),this.Fo=null)}cancel(){this.Fo!==null&&(this.Fo.cancel(),this.Fo=null)}No(){return(Math.random()-.5)*this.Co}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class px{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Lo=r,this.ko=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.qo=0,this.Qo=null,this.Ko=null,this.stream=null,this.$o=new fx(e,n)}Uo(){return this.state===1||this.state===5||this.Wo()}Wo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}zo(){this.state=0,this.$o.reset()}jo(){this.Wo()&&this.Qo===null&&(this.Qo=this.si.enqueueAfterDelay(this.Lo,6e4,()=>this.Ho()))}Jo(e){this.Yo(),this.stream.send(e)}async Ho(){if(this.Wo())return this.close(0)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}async close(e,n){this.Yo(),this.Zo(),this.$o.cancel(),this.qo++,e!==4?this.$o.reset():n&&n.code===V.RESOURCE_EXHAUSTED?(es(n.toString()),es("Using maximum backoff delay to prevent overloading the backend."),this.$o.xo()):n&&n.code===V.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Xo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Xo(){}auth(){this.state=1;const e=this.e_(this.qo),n=this.qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.qo===n&&this.t_(r,s)},r=>{e(()=>{const s=new X(V.UNKNOWN,"Fetching auth token failed: "+r.message);return this.n_(s)})})}t_(e,n){const r=this.e_(this.qo);this.stream=this.r_(e,n),this.stream.ao(()=>{r(()=>(this.state=2,this.Ko=this.si.enqueueAfterDelay(this.ko,1e4,()=>(this.Wo()&&(this.state=3),Promise.resolve())),this.listener.ao()))}),this.stream.co(s=>{r(()=>this.n_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.$o.Oo(async()=>{this.state=0,this.start()})}n_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}e_(e){return n=>{this.si.enqueueAndForget(()=>this.qo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class I6 extends px{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}r_(e,n){return this.connection.So("Listen",e,n)}onMessage(e){this.$o.reset();const n=$3(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Er(o.readTime):ge.min()}(e);return this.listener.i_(n,r)}s_(e){const n={};n.database=R_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=E_(l)?{documents:U3(i,l)}:{query:B3(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ix(i,o.resumeToken);const c=T_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=Sh(i,o.snapshotVersion.toTimestamp());const c=T_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=H3(this.serializer,e);r&&(n.labels=r),this.Jo(n)}o_(e){const n={};n.database=R_(this.serializer),n.removeTarget=e,this.Jo(n)}}class C6 extends px{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.__=!1}get a_(){return this.__}start(){this.__=!1,this.lastStreamToken=void 0,super.start()}Xo(){this.__&&this.u_([])}r_(e,n){return this.connection.So("Write",e,n)}onMessage(e){if(Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.__){this.$o.reset();const n=F3(e.writeResults,e.commitTime),r=Er(e.commitTime);return this.listener.c_(r,n)}return Qe(!e.writeResults||e.writeResults.length===0),this.__=!0,this.listener.l_()}h_(){const e={};e.database=R_(this.serializer),this.Jo(e)}u_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>j3(this.serializer,r))};this.Jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R6 extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.P_=!1}I_(){if(this.P_)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.")}mo(e,n,r){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.mo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new X(V.UNKNOWN,s.toString())})}wo(e,n,r,s){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===V.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new X(V.UNKNOWN,i.toString())})}terminate(){this.P_=!0}}class A6{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.E_=0,this.d_=null,this.A_=!0}R_(){this.E_===0&&(this.V_("Unknown"),this.d_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.d_=null,this.m_("Backend didn't respond within 10 seconds."),this.V_("Offline"),Promise.resolve())))}f_(e){this.state==="Online"?this.V_("Unknown"):(this.E_++,this.E_>=1&&(this.g_(),this.m_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.V_("Offline")))}set(e){this.g_(),this.E_=0,e==="Online"&&(this.A_=!1),this.V_(e)}V_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}m_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.A_?(es(n),this.A_=!1):re("OnlineStateTracker",n)}g_(){this.d_!==null&&(this.d_.cancel(),this.d_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.p_=[],this.y_=new Map,this.w_=new Set,this.S_=[],this.b_=i,this.b_.Zs(o=>{r.enqueueAndForget(async()=>{Qi(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=Ee(l);c.w_.add(4),await Qc(c),c.D_.set("Unknown"),c.w_.delete(4),await Jf(c)}(this))})}),this.D_=new A6(r,s)}}async function Jf(t){if(Qi(t))for(const e of t.S_)await e(!0)}async function Qc(t){for(const e of t.S_)await e(!1)}function mx(t,e){const n=Ee(t);n.y_.has(e.targetId)||(n.y_.set(e.targetId,e),iE(n)?sE(n):Ca(n).Wo()&&rE(n,e))}function gx(t,e){const n=Ee(t),r=Ca(n);n.y_.delete(e),r.Wo()&&_x(n,e),n.y_.size===0&&(r.Wo()?r.jo():Qi(n)&&n.D_.set("Unknown"))}function rE(t,e){if(t.v_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ca(t).s_(e)}function _x(t,e){t.v_.Le(e),Ca(t).o_(e)}function sE(t){t.v_=new k3({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ct:e=>t.y_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Ca(t).start(),t.D_.R_()}function iE(t){return Qi(t)&&!Ca(t).Uo()&&t.y_.size>0}function Qi(t){return Ee(t).w_.size===0}function vx(t){t.v_=void 0}async function x6(t){t.y_.forEach((e,n)=>{rE(t,e)})}async function b6(t,e){vx(t),iE(t)?(t.D_.f_(e),sE(t)):t.D_.set("Unknown")}async function k6(t,e,n){if(t.D_.set("Online"),e instanceof sx&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.y_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.y_.delete(a),s.v_.removeTarget(a))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wh(t,r)}else if(e instanceof _d?t.v_.Ge(e):e instanceof rx?t.v_.Xe(e):t.v_.He(e),!n.isEqual(ge.min()))try{const r=await hx(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.v_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.y_.get(c);u&&i.y_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.y_.get(l);if(!u)return;i.y_.set(l,u.withResumeToken(nn.EMPTY_BYTE_STRING,u.snapshotVersion)),_x(i,l);const d=new Ts(u.target,l,c,u.sequenceNumber);rE(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await wh(t,r)}}async function wh(t,e,n){if(!qc(e))throw e;t.w_.add(1),await Qc(t),t.D_.set("Offline"),n||(n=()=>hx(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.w_.delete(1),await Jf(t)})}function yx(t,e){return e().catch(n=>wh(t,n,e))}async function Zf(t){const e=Ee(t),n=qs(e);let r=e.p_.length>0?e.p_[e.p_.length-1].batchId:-1;for(;P6(e);)try{const s=await g6(e.localStore,r);if(s===null){e.p_.length===0&&n.jo();break}r=s.batchId,L6(e,s)}catch(s){await wh(e,s)}Ex(e)&&Sx(e)}function P6(t){return Qi(t)&&t.p_.length<10}function L6(t,e){t.p_.push(e);const n=qs(t);n.Wo()&&n.a_&&n.u_(e.mutations)}function Ex(t){return Qi(t)&&!qs(t).Uo()&&t.p_.length>0}function Sx(t){qs(t).start()}async function O6(t){qs(t).h_()}async function D6(t){const e=qs(t);for(const n of t.p_)e.u_(n.mutations)}async function M6(t,e,n){const r=t.p_.shift(),s=Yy.from(r,e,n);await yx(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Zf(t)}async function V6(t,e){e&&qs(t).a_&&await async function(r,s){if(function(o){return N3(o)&&o!==V.ABORTED}(s.code)){const i=r.p_.shift();qs(r).zo(),await yx(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Zf(r)}}(t,e),Ex(t)&&Sx(t)}async function Hw(t,e){const n=Ee(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=Qi(n);n.w_.add(3),await Qc(n),r&&n.D_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.w_.delete(3),await Jf(n)}async function $6(t,e){const n=Ee(t);e?(n.w_.delete(2),await Jf(n)):e||(n.w_.add(2),await Qc(n),n.D_.set("Unknown"))}function Ca(t){return t.C_||(t.C_=function(n,r,s){const i=Ee(n);return i.I_(),new I6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:x6.bind(null,t),co:b6.bind(null,t),i_:k6.bind(null,t)}),t.S_.push(async e=>{e?(t.C_.zo(),iE(t)?sE(t):t.D_.set("Unknown")):(await t.C_.stop(),vx(t))})),t.C_}function qs(t){return t.F_||(t.F_=function(n,r,s){const i=Ee(n);return i.I_(),new C6(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:O6.bind(null,t),co:V6.bind(null,t),l_:D6.bind(null,t),c_:M6.bind(null,t)}),t.S_.push(async e=>{e?(t.F_.zo(),await Zf(t)):(await t.F_.stop(),t.p_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.p_.length} pending writes`),t.p_=[]))})),t.F_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new oE(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new X(V.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function aE(t,e){if(es("AsyncQueue",`${e}: ${t}`),qc(t))return new X(V.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=cl(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new Oo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Oo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(){this.M_=new pt(ae.comparator)}track(e){const n=e.doc.key,r=this.M_.get(n);r?e.type!==0&&r.type===3?this.M_=this.M_.insert(n,e):e.type===3&&r.type!==1?this.M_=this.M_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.M_=this.M_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.M_=this.M_.remove(n):e.type===1&&r.type===2?this.M_=this.M_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):fe():this.M_=this.M_.insert(n,e)}x_(){const e=[];return this.M_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ia{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ia(e,n,Oo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&qf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j6{constructor(){this.O_=void 0,this.listeners=[]}}class F6{constructor(){this.queries=new Ia(e=>BN(e),qf),this.onlineState="Unknown",this.N_=new Set}}async function wx(t,e){const n=Ee(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new j6),s)try{i.O_=await n.onListen(r)}catch(o){const a=aE(o,`Initialization of query '${w_(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.B_(n.onlineState),i.O_&&e.L_(i.O_)&&lE(n)}async function Tx(t,e){const n=Ee(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function U6(t,e){const n=Ee(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.L_(s)&&(r=!0);o.O_=s}}r&&lE(n)}function B6(t,e,n){const r=Ee(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function lE(t){t.N_.forEach(e=>{e.next()})}class Ix{constructor(e,n,r){this.query=e,this.k_=n,this.q_=!1,this.Q_=null,this.onlineState="Unknown",this.options=r||{}}L_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ia(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.q_?this.K_(e)&&(this.k_.next(e),n=!0):this.U_(e,this.onlineState)&&(this.W_(e),n=!0),this.Q_=e,n}onError(e){this.k_.error(e)}B_(e){this.onlineState=e;let n=!1;return this.Q_&&!this.q_&&this.U_(this.Q_,e)&&(this.W_(this.Q_),n=!0),n}U_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.G_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}K_(e){if(e.docChanges.length>0)return!0;const n=this.Q_&&this.Q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}W_(e){e=ia.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.q_=!0,this.k_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(e){this.key=e}}class Rx{constructor(e){this.key=e}}class z6{constructor(e,n){this.query=e,this.ea=n,this.ta=null,this.hasCachedResults=!1,this.current=!1,this.na=Ce(),this.mutatedKeys=Ce(),this.ra=zN(e),this.ia=new Oo(this.ra)}get sa(){return this.ea}oa(e,n){const r=n?n._a:new Ww,s=n?n.ia:this.ia;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,d)=>{const f=s.get(u),p=Gf(this.query,d)?d:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),E=!0):this.aa(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ra(p,l)>0||c&&this.ra(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||c)&&(a=!0)),E&&(p?(o=o.add(p),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ia:o,_a:r,ji:a,mutatedKeys:i}}aa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ia;this.ia=e.ia,this.mutatedKeys=e.mutatedKeys;const i=e._a.x_();i.sort((c,u)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return m(f)-m(p)}(c.type,u.type)||this.ra(c.doc,u.doc)),this.ua(r);const o=n?this.ca():[],a=this.na.size===0&&this.current?1:0,l=a!==this.ta;return this.ta=a,i.length!==0||l?{snapshot:new ia(this.query,e.ia,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),la:o}:{la:o}}B_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ia:this.ia,_a:new Ww,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{la:[]}}ha(e){return!this.ea.has(e)&&!!this.ia.has(e)&&!this.ia.get(e).hasLocalMutations}ua(e){e&&(e.addedDocuments.forEach(n=>this.ea=this.ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ea=this.ea.delete(n)),this.current=e.current)}ca(){if(!this.current)return[];const e=this.na;this.na=Ce(),this.ia.forEach(r=>{this.ha(r.key)&&(this.na=this.na.add(r.key))});const n=[];return e.forEach(r=>{this.na.has(r)||n.push(new Rx(r))}),this.na.forEach(r=>{e.has(r)||n.push(new Cx(r))}),n}Pa(e){this.ea=e.os,this.na=Ce();const n=this.oa(e.documents);return this.applyChanges(n,!0)}Ia(){return ia.fromInitialDocuments(this.query,this.ia,this.mutatedKeys,this.ta===0,this.hasCachedResults)}}class H6{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class W6{constructor(e){this.key=e,this.Ta=!1}}class q6{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ea={},this.da=new Ia(a=>BN(a),qf),this.Aa=new Map,this.Ra=new Set,this.Va=new pt(ae.comparator),this.ma=new Map,this.fa=new eE,this.ga={},this.pa=new Map,this.ya=sa.Nn(),this.onlineState="Unknown",this.wa=void 0}get isPrimaryClient(){return this.wa===!0}}async function G6(t,e){const n=r9(t);let r,s;const i=n.da.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Ia();else{const o=await _6(n.localStore,ts(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await K6(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&mx(n.remoteStore,o)}return s}async function K6(t,e,n,r,s){t.Sa=(d,f,p)=>async function(g,E,_,v){let y=E.view.oa(_);y.ji&&(y=await Uw(g.localStore,E.query,!1).then(({documents:N})=>E.view.oa(N,y)));const S=v&&v.targetChanges.get(E.targetId),w=E.view.applyChanges(y,g.isPrimaryClient,S);return Gw(g,E.targetId,w.la),w.snapshot}(t,d,f,p);const i=await Uw(t.localStore,e,!0),o=new z6(e,i.os),a=o.oa(i.documents),l=Kc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);Gw(t,n,c.la);const u=new H6(e,n,o);return t.da.set(e,u),t.Aa.has(n)?t.Aa.get(n).push(e):t.Aa.set(n,[e]),c.snapshot}async function Q6(t,e){const n=Ee(t),r=n.da.get(e),s=n.Aa.get(r.targetId);if(s.length>1)return n.Aa.set(r.targetId,s.filter(i=>!qf(i,e))),void n.da.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await A_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),gx(n.remoteStore,r.targetId),N_(n,r.targetId)}).catch(Wc)):(N_(n,r.targetId),await A_(n.localStore,r.targetId,!0))}async function Y6(t,e,n){const r=s9(t);try{const s=await function(o,a){const l=Ee(o),c=vt.now(),u=a.reduce((p,m)=>p.add(m.key),Ce());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=ns(),g=Ce();return l.es.getEntries(p,u).next(E=>{m=E,m.forEach((_,v)=>{v.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(E=>{d=E;const _=[];for(const v of a){const y=T3(v,d.get(v.key).overlayedDocument);y!=null&&_.push(new Ki(v.key,y,ON(y.value.mapValue),Wr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(E=>{f=E;const _=E.applyToLocalDocumentSet(d,g);return l.documentOverlayCache.saveOverlays(p,E.batchId,_)})}).then(()=>({batchId:f.batchId,changes:WN(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.ga[o.currentUser.toKey()];c||(c=new pt(Oe)),c=c.insert(a,l),o.ga[o.currentUser.toKey()]=c}(r,s.batchId,n),await Yc(r,s.changes),await Zf(r.remoteStore)}catch(s){const i=aE(s,"Failed to persist write");n.reject(i)}}async function Ax(t,e){const n=Ee(t);try{const r=await p6(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ma.get(i);o&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ta=!0:s.modifiedDocuments.size>0?Qe(o.Ta):s.removedDocuments.size>0&&(Qe(o.Ta),o.Ta=!1))}),await Yc(n,r,e)}catch(r){await Wc(r)}}function qw(t,e,n){const r=Ee(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.da.forEach((i,o)=>{const a=o.view.B_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Ee(o);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const f of d.listeners)f.B_(a)&&(c=!0)}),c&&lE(l)}(r.eventManager,e),s.length&&r.Ea.i_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function X6(t,e,n){const r=Ee(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ma.get(e),i=s&&s.key;if(i){let o=new pt(ae.comparator);o=o.insert(i,qt.newNoDocument(i,ge.min()));const a=Ce().add(i),l=new Yf(ge.min(),new Map,new pt(Oe),o,a);await Ax(r,l),r.Va=r.Va.remove(i),r.ma.delete(e),cE(r)}else await A_(r.localStore,e,!1).then(()=>N_(r,e,n)).catch(Wc)}async function J6(t,e){const n=Ee(t),r=e.batch.batchId;try{const s=await f6(n.localStore,e);xx(n,r,null),Nx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Yc(n,s)}catch(s){await Wc(s)}}async function Z6(t,e,n){const r=Ee(t);try{const s=await function(o,a){const l=Ee(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Qe(d!==null),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);xx(r,e,n),Nx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Yc(r,s)}catch(s){await Wc(s)}}function Nx(t,e){(t.pa.get(e)||[]).forEach(n=>{n.resolve()}),t.pa.delete(e)}function xx(t,e,n){const r=Ee(t);let s=r.ga[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.ga[r.currentUser.toKey()]=s}}function N_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Aa.get(e))t.da.delete(r),n&&t.Ea.ba(r,n);t.Aa.delete(e),t.isPrimaryClient&&t.fa.Rr(e).forEach(r=>{t.fa.containsKey(r)||bx(t,r)})}function bx(t,e){t.Ra.delete(e.path.canonicalString());const n=t.Va.get(e);n!==null&&(gx(t.remoteStore,n),t.Va=t.Va.remove(e),t.ma.delete(n),cE(t))}function Gw(t,e,n){for(const r of n)r instanceof Cx?(t.fa.addReference(r.key,e),e9(t,r)):r instanceof Rx?(re("SyncEngine","Document no longer in limbo: "+r.key),t.fa.removeReference(r.key,e),t.fa.containsKey(r.key)||bx(t,r.key)):fe()}function e9(t,e){const n=e.key,r=n.path.canonicalString();t.Va.get(n)||t.Ra.has(r)||(re("SyncEngine","New document in limbo: "+n),t.Ra.add(r),cE(t))}function cE(t){for(;t.Ra.size>0&&t.Va.size<t.maxConcurrentLimboResolutions;){const e=t.Ra.values().next().value;t.Ra.delete(e);const n=new ae(qe.fromString(e)),r=t.ya.next();t.ma.set(r,new W6(n)),t.Va=t.Va.insert(n,r),mx(t.remoteStore,new Ts(ts(Ky(n.path)),r,"TargetPurposeLimboResolution",By.ae))}}async function Yc(t,e,n){const r=Ee(t),s=[],i=[],o=[];r.da.isEmpty()||(r.da.forEach((a,l)=>{o.push(r.Sa(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=nE.Qi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.Ea.i_(s),await async function(l,c){const u=Ee(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>B.forEach(c,f=>B.forEach(f.ki,p=>u.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>B.forEach(f.qi,p=>u.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!qc(d))throw d;re("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const f=d.targetId;if(!d.fromCache){const p=u.Yi.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.Yi=u.Yi.insert(f,g)}}}(r.localStore,i))}async function t9(t,e){const n=Ee(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await dx(n.localStore,e);n.currentUser=e,function(i,o){i.pa.forEach(a=>{a.forEach(l=>{l.reject(new X(V.CANCELLED,o))})}),i.pa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Yc(n,r.ns)}}function n9(t,e){const n=Ee(t),r=n.ma.get(e);if(r&&r.Ta)return Ce().add(r.key);{let s=Ce();const i=n.Aa.get(e);if(!i)return s;for(const o of i){const a=n.da.get(o);s=s.unionWith(a.view.sa)}return s}}function r9(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ax.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=n9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X6.bind(null,e),e.Ea.i_=U6.bind(null,e.eventManager),e.Ea.ba=B6.bind(null,e.eventManager),e}function s9(t){const e=Ee(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z6.bind(null,e),e}class Kw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Xf(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return h6(this.persistence,new u6,e.initialUser,this.serializer)}createPersistence(e){return new l6(tE.jr,this.serializer)}createSharedClientState(e){return new y6}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class i9{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=t9.bind(null,this.syncEngine),await $6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new F6}()}createDatastore(e){const n=Xf(e.databaseInfo.databaseId),r=function(i){return new T6(i)}(e.databaseInfo);return function(i,o,a,l){return new R6(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new N6(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>qw(this.syncEngine,n,0),function(){return zw.v()?new zw:new E6}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const d=new q6(s,i,o,a,l,c);return u&&(d.wa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=Ee(n);re("RemoteStore","RemoteStore shutting down."),r.w_.add(5),await Qc(r),r.b_.shutdown(),r.D_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ca(this.observer.next,e)}error(e){this.observer.error?this.Ca(this.observer.error,e):es("Uncaught Error in snapshot listener:",e.toString())}Fa(){this.muted=!0}Ca(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=kN.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{re("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(re("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(V.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=aE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Im(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await dx(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Qw(t,e){t.asyncQueue.verifyOperationInProgress();const n=await l9(t);re("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Hw(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Hw(e.remoteStore,i)),t._onlineComponents=e}function a9(t){return t.name==="FirebaseError"?t.code===V.FAILED_PRECONDITION||t.code===V.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function l9(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Im(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!a9(n))throw n;ea("Error using user provided cache. Falling back to memory cache: "+n),await Im(t,new Kw)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Im(t,new Kw);return t._offlineComponents}async function Px(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await Qw(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await Qw(t,new i9))),t._onlineComponents}function c9(t){return Px(t).then(e=>e.syncEngine)}async function Lx(t){const e=await Px(t),n=e.eventManager;return n.onListen=G6.bind(null,e.syncEngine),n.onUnlisten=Q6.bind(null,e.syncEngine),n}function u9(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new kx({next:f=>{o.enqueueAndForget(()=>Tx(i,d));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new X(V.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new X(V.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new Ix(Ky(a.path),u,{includeMetadataChanges:!0,G_:!0});return wx(i,d)}(await Lx(t),t.asyncQueue,e,n,r)),r.promise}function d9(t,e,n={}){const r=new Hr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new kx({next:f=>{o.enqueueAndForget(()=>Tx(i,d)),f.fromCache&&l.source==="server"?c.reject(new X(V.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),d=new Ix(a,u,{includeMetadataChanges:!0,G_:!0});return wx(i,d)}(await Lx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dx(t,e,n){if(!n)throw new X(V.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function h9(t,e,n,r){if(e===!0&&r===!0)throw new X(V.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Xw(t){if(!ae.isDocumentKey(t))throw new X(V.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Jw(t){if(ae.isDocumentKey(t))throw new X(V.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ep(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function Oi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new X(V.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ep(t);throw new X(V.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function f9(t,e){if(e<=0)throw new X(V.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new X(V.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new X(V.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}h9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ox((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new X(V.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class tp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new X(V.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new X(V.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zw(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Oz;switch(r.type){case"firstParty":return new $z(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new X(V.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Yw.get(n);r&&(re("ComponentProvider","Removing Datastore"),Yw.delete(n),r.terminate())}(this),Promise.resolve()}}function p9(t,e,n,r={}){var s;const i=(t=Oi(t,tp))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ea("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=Ht.MOCK_USER;else{a=yA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new X(V.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Ht(c)}t._authCredentials=new Dz(new bN(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ri(this.firestore,e,this._query)}}class vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class $s extends ri{constructor(e,n,r){super(e,n,Ky(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ae(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function m9(t,e,...n){if(t=yt(t),Dx("collection","path",e),t instanceof tp){const r=qe.fromString(e,...n);return Jw(r),new $s(t,null,r)}{if(!(t instanceof vn||t instanceof $s))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return Jw(r),new $s(t.firestore,null,r)}}function uE(t,e,...n){if(t=yt(t),arguments.length===1&&(e=kN.V()),Dx("doc","path",e),t instanceof tp){const r=qe.fromString(e,...n);return Xw(r),new vn(t,null,new ae(r))}{if(!(t instanceof vn||t instanceof $s))throw new X(V.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return Xw(r),new vn(t.firestore,t instanceof $s?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g9{constructor(){this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new fx(this,"async_queue_retry"),this.eu=()=>{const n=Tm();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.$o.Bo()};const e=Tm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.eu)}get isShuttingDown(){return this.ja}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.tu(),this.nu(e)}enterRestrictedMode(e){if(!this.ja){this.ja=!0,this.Za=e||!1;const n=Tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.eu)}}enqueue(e){if(this.tu(),this.ja)return new Promise(()=>{});const n=new Hr;return this.nu(()=>this.ja&&this.Za?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.za.push(e),this.ru()))}async ru(){if(this.za.length!==0){try{await this.za[0](),this.za.shift(),this.$o.reset()}catch(e){if(!qc(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.za.length>0&&this.$o.Oo(()=>this.ru())}}nu(e){const n=this.Ga.then(()=>(this.Ya=!0,e().catch(r=>{this.Ja=r,this.Ya=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw es("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ya=!1,r))));return this.Ga=n,n}enqueueAfterDelay(e,n,r){this.tu(),this.Xa.indexOf(e)>-1&&(n=0);const s=oE.createAndSchedule(this,e,n,r,i=>this.iu(i));return this.Ha.push(s),s}tu(){this.Ja&&fe()}verifyOperationInProgress(){}async su(){let e;do e=this.Ga,await e;while(e!==this.Ga)}ou(e){for(const n of this.Ha)if(n.timerId===e)return!0;return!1}_u(e){return this.su().then(()=>{this.Ha.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Ha)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.su()})}au(e){this.Xa.push(e)}iu(e){const n=this.Ha.indexOf(e);this.Ha.splice(n,1)}}class np extends tp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new g9}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Mx(this),this._firestoreClient.terminate()}}function _9(t,e){const n=typeof t=="object"?t:vy(),r=typeof t=="string"?t:e||"(default)",s=Nf(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=gA("firestore");i&&p9(s,...i)}return s}function dE(t){return t._firestoreClient||Mx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Mx(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new Yz(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Ox(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new o9(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oa(nn.fromBase64String(e))}catch(n){throw new X(V.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new oa(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new X(V.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new X(V.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new X(V.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v9=/^__.*__$/;class y9{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,n,this.fieldTransforms):new Gc(e,this.data,n,this.fieldTransforms)}}function $x(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class pE{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.uu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get cu(){return this.settings.cu}lu(e){return new pE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}hu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.Iu(e),s}Tu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.uu(),s}Eu(e){return this.lu({path:void 0,Pu:!0})}du(e){return Th(e,this.settings.methodName,this.settings.Au||!1,this.path,this.settings.Ru)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}uu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Iu(this.path.get(e))}Iu(e){if(e.length===0)throw this.du("Document fields must not be empty");if($x(this.cu)&&v9.test(e))throw this.du('Document fields cannot begin and end with "__"')}}class E9{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xf(e)}Vu(e,n,r,s=!1){return new pE({cu:e,methodName:n,Ru:r,path:Qt.emptyPath(),Pu:!1,Au:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jx(t){const e=t._freezeSettings(),n=Xf(t._databaseId);return new E9(t._databaseId,!!e.ignoreUndefinedProperties,n)}function S9(t,e,n,r,s,i={}){const o=t.Vu(i.merge||i.mergeFields?2:0,e,n,s);Bx("Data must be an object, but it was:",o,r);const a=Fx(r,o);let l,c;if(i.merge)l=new Jn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const d of i.mergeFields){const f=T9(e,d,n);if(!o.contains(f))throw new X(V.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);C9(u,f)||u.push(f)}l=new Jn(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new y9(new Mn(a),l,c)}function w9(t,e,n,r=!1){return mE(n,t.Vu(r?4:3,e))}function mE(t,e){if(Ux(t=yt(t)))return Bx("Unsupported field value:",e,t),Fx(t,e);if(t instanceof Vx)return function(r,s){if(!$x(s.cu))throw s.du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Pu&&e.cu!==4)throw e.du("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=mE(a,s.Eu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _3(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=vt.fromDate(r);return{timestampValue:Sh(s.serializer,i)}}if(r instanceof vt){const i=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Sh(s.serializer,i)}}if(r instanceof fE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof oa)return{bytesValue:ix(s.serializer,r._byteString)};if(r instanceof vn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Zy(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.du(`Unsupported field value: ${ep(r)}`)}(t,e)}function Fx(t,e){const n={};return PN(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):wa(t,(r,s)=>{const i=mE(s,e.hu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Ux(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof fE||t instanceof oa||t instanceof vn||t instanceof Vx)}function Bx(t,e,n){if(!Ux(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ep(n);throw r==="an object"?e.du(t+" a custom object"):e.du(t+" "+r)}}function T9(t,e,n){if((e=yt(e))instanceof hE)return e._internalPath;if(typeof e=="string")return zx(t,e);throw Th("Field path arguments must be of type string or ",t,!1,void 0,n)}const I9=new RegExp("[~\\*/\\[\\]]");function zx(t,e,n){if(e.search(I9)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new hE(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Th(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new X(V.INVALID_ARGUMENT,a+t+l)}function C9(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new R9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(gE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class R9 extends Hx{data(){return super.data()}}function gE(t,e){return typeof e=="string"?zx(t,e):e instanceof hE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A9(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new X(V.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _E{}class vE extends _E{}function N9(t,e,...n){let r=[];e instanceof _E&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof EE).length,a=i.filter(l=>l instanceof yE).length;if(o>1||o>0&&a>0)throw new X(V.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class yE extends vE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new yE(e,n,r)}_apply(e){const n=this._parse(e);return Wx(e._query,n),new ri(e.firestore,e.converter,S_(e._query,n))}_parse(e){const n=jx(e.firestore);return function(i,o,a,l,c,u,d){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new X(V.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){tT(d,u);const p=[];for(const m of d)p.push(eT(l,i,m));f={arrayValue:{values:p}}}else f=eT(l,i,d)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||tT(d,u),f=w9(a,o,d,u==="in"||u==="not-in");return ft.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class EE extends _E{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new EE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:or.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Wx(o,l),o=S_(o,l)}(e._query,n),new ri(e.firestore,e.converter,S_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class SE extends vE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new SE(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new X(V.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new X(V.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Lo(i,o);return function(c,u){if(Qy(c)===null){const d=Wf(c);d!==null&&qx(c,d,u.field)}}(s,a),a}(e._query,this._field,this._direction);return new ri(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Ta(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function x9(t,e="asc"){const n=e,r=gE("orderBy",t);return SE._create(r,n)}class wE extends vE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new wE(e,n,r)}_apply(e){return new ri(e.firestore,e.converter,vh(e._query,this._limit,this._limitType))}}function b9(t){return f9("limit",t),wE._create("limit",t,"F")}function eT(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new X(V.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!UN(e)&&n.indexOf("/")!==-1)throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!ae.isDocumentKey(r))throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Iw(t,new ae(r))}if(n instanceof vn)return Iw(t,n._key);throw new X(V.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ep(n)}.`)}function tT(t,e){if(!Array.isArray(t)||t.length===0)throw new X(V.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Wx(t,e){if(e.isInequality()){const r=Wf(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new X(V.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=Qy(t);i!==null&&qx(t,s,i)}const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new X(V.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function qx(t,e,n){if(!n.isEqual(e))throw new X(V.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class k9{convertValue(e,n="none"){switch(Li(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Pi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return wa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new fE(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hy(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(uc(e));default:return null}}convertTimestamp(e){const n=Ws(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Qe(ux(r));const s=new dc(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||es(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Gx extends Hx{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new vd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(gE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class vd extends Gx{data(e={}){return super.data(e)}}class L9{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new dl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new vd(this._firestore,this._userDataWriter,r.key,r,new dl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new X(V.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new vd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new dl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new vd(s._firestore,s._userDataWriter,a.doc.key,a.doc,new dl(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:O9(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function O9(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(t){t=Oi(t,vn);const e=Oi(t.firestore,np);return u9(dE(e),t._key).then(n=>$9(e,t,n))}class Qx extends k9{constructor(e){super(),this.firestore=e}convertBytes(e){return new oa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}}function D9(t){t=Oi(t,ri);const e=Oi(t.firestore,np),n=dE(e),r=new Qx(e);return A9(t._query),d9(n,t._query).then(s=>new L9(e,r,t,s))}function M9(t,e,n){t=Oi(t,vn);const r=Oi(t.firestore,np),s=P9(t.converter,e,n);return V9(r,[S9(jx(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Wr.none())])}function V9(t,e){return function(r,s){const i=new Hr;return r.asyncQueue.enqueueAndForget(async()=>Y6(await c9(r),s,i)),i.promise}(dE(t),e)}function $9(t,e,n){const r=n.docs.get(e._key),s=new Qx(t);return new Gx(t,s,e._key,r,new dl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Sa=s})(ei),zs(new Jr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new np(new Mz(r.getProvider("auth-internal")),new Fz(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new X(V.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Fn(yw,"4.1.1",e),Fn(yw,"4.1.1","esm2017")})();const nT="@firebase/database",rT="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yx="";function j9(t){Yx=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Zl(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U9{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return as(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new F9(e)}}catch{}return new U9},_i=Xx("localStorage"),x_=Xx("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=new Af("@firebase/database"),B9=function(){let t=1;return function(){return t++}}(),Jx=function(t){const e=y4(t),n=new p4;n.update(e);const r=n.digest();return fy.encodeByteArray(r)},Xc=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Xc.apply(null,r):typeof r=="object"?e+=Dt(r):e+=r,e+=" "}return e};let Si=null,sT=!0;const z9=function(t,e){q(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Do.logLevel=ke.VERBOSE,Si=Do.log.bind(Do),e&&x_.set("logging_enabled",!0)):typeof t=="function"?Si=t:(Si=null,x_.remove("logging_enabled"))},Gt=function(...t){if(sT===!0&&(sT=!1,Si===null&&x_.get("logging_enabled")===!0&&z9(!0)),Si){const e=Xc.apply(null,t);Si(e)}},Jc=function(t){return function(...e){Gt(t,...e)}},b_=function(...t){const e="FIREBASE INTERNAL ERROR: "+Xc(...t);Do.error(e)},rs=function(...t){const e=`FIREBASE FATAL ERROR: ${Xc(...t)}`;throw Do.error(e),new Error(e)},In=function(...t){const e="FIREBASE WARNING: "+Xc(...t);Do.warn(e)},H9=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&In("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Zx=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},W9=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},aa="[MIN_NAME]",Di="[MAX_NAME]",Ra=function(t,e){if(t===e)return 0;if(t===aa||e===Di)return-1;if(e===aa||t===Di)return 1;{const n=iT(t),r=iT(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},q9=function(t,e){return t===e?0:t<e?-1:1},Ka=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Dt(e))},TE=function(t){if(typeof t!="object"||t===null)return Dt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Dt(e[r]),n+=":",n+=TE(t[e[r]]);return n+="}",n},eb=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Hn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const tb=function(t){q(!Zx(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},G9=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},K9=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},Q9=new RegExp("^-?(0*)\\d{1,10}$"),Y9=-2147483648,X9=2147483647,iT=function(t){if(Q9.test(t)){const e=Number(t);if(e>=Y9&&e<=X9)return e}return null},Zc=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw In("Exception was thrown by user callback.",n),e},Math.floor(0))}},J9=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},xl=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){In(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eH{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Gt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',In(e)}}class Mo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Mo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="5",nb="v",rb="s",sb="r",ib="f",ob=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ab="ls",lb="p",k_="ac",cb="websocket",ub="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=_i.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&_i.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function tH(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function hb(t,e,n){q(typeof e=="string","typeof type must == string"),q(typeof n=="object","typeof params must == object");let r;if(e===cb)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===ub)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);tH(t)&&(n.ns=t.namespace);const s=[];return Hn(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(){this.counters_={}}incrementCounter(e,n=1){as(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ZU(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm={},Rm={};function CE(t){const e=t.toString();return Cm[e]||(Cm[e]=new nH),Cm[e]}function rH(t,e){const n=t.toString();return Rm[n]||(Rm[n]=e()),Rm[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sH{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Zc(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT="start",iH="close",oH="pLPCommand",aH="pRTLPCB",fb="id",pb="pw",mb="ser",lH="cb",cH="seg",uH="ts",dH="d",hH="dframe",gb=1870,_b=30,fH=gb-_b,pH=25e3,mH=3e4;class So{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Jc(e),this.stats_=CE(n),this.urlFn=l=>(this.appCheckToken&&(l[k_]=this.appCheckToken),hb(n,ub,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new sH(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(mH)),W9(()=>{if(this.isClosed_)return;this.scriptTagHolder=new RE((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===oT)this.id=a,this.password=l;else if(o===iH)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[oT]="t",r[mb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[lH]=this.scriptTagHolder.uniqueCallbackIdentifier),r[nb]=IE,this.transportSessionId&&(r[rb]=this.transportSessionId),this.lastSessionId&&(r[ab]=this.lastSessionId),this.applicationId&&(r[lb]=this.applicationId),this.appCheckToken&&(r[k_]=this.appCheckToken),typeof location<"u"&&location.hostname&&ob.test(location.hostname)&&(r[sb]=ib);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){So.forceAllow_=!0}static forceDisallow(){So.forceDisallow_=!0}static isAvailable(){return So.forceAllow_?!0:!So.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!G9()&&!K9()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=fA(n),s=eb(r,fH);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[hH]="t",r[fb]=e,r[pb]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class RE{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=B9(),window[oH+this.uniqueCallbackIdentifier]=e,window[aH+this.uniqueCallbackIdentifier]=n,this.myIFrame=RE.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Gt("frame writing exception"),a.stack&&Gt(a.stack),Gt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Gt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[fb]=this.myID,e[pb]=this.myPW,e[mb]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+_b+r.length<=gb;){const o=this.pendingSegs.shift();r=r+"&"+cH+s+"="+o.seg+"&"+uH+s+"="+o.ts+"&"+dH+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(pH)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Gt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=16384,_H=45e3;let Ih=null;typeof MozWebSocket<"u"?Ih=MozWebSocket:typeof WebSocket<"u"&&(Ih=WebSocket);class Xn{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Jc(this.connId),this.stats_=CE(n),this.connURL=Xn.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[nb]=IE,typeof location<"u"&&location.hostname&&ob.test(location.hostname)&&(o[sb]=ib),n&&(o[rb]=n),r&&(o[ab]=r),s&&(o[k_]=s),i&&(o[lb]=i),hb(e,cb,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_i.set("previous_websocket_failure",!0);try{let r;SA(),this.mySock=new Ih(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Xn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Ih!==null&&!Xn.forceDisallow_}static previouslyFailed(){return _i.isInMemoryStorage||_i.get("previous_websocket_failure")===!0}markConnectionHealthy(){_i.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Zl(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(q(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=eb(n,gH);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(_H))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Xn.responsesRequiredToBeHealthy=2;Xn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[So,Xn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Xn&&Xn.isAvailable();let r=n&&!Xn.previouslyFailed();if(e.webSocketOnly&&(n||In("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Xn];else{const s=this.transports_=[];for(const i of mc.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);mc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}mc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH=6e4,yH=5e3,EH=10*1024,SH=100*1024,Am="t",aT="d",wH="s",lT="r",TH="e",cT="o",uT="a",dT="n",hT="p",IH="h";class CH{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Jc("c:"+this.id+":"),this.transportManager_=new mc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=xl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>SH?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>EH?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Am in e){const n=e[Am];n===uT?this.upgradeIfSecondaryHealthy_():n===lT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===cT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Ka("t",e),r=Ka("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:hT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:uT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:dT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Ka("t",e),r=Ka("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Ka(Am,e);if(aT in e){const r=e[aT];if(n===IH){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===dT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===wH?this.onConnectionShutdown_(r):n===lT?this.onReset_(r):n===TH?b_("Server Error: "+r):n===cT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):b_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),IE!==r&&In("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),xl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(vH))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):xl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(yH))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:hT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_i.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.allowedEvents_=e,this.listeners_={},q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends yb{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!gy()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Ch}getInitialEvent(e){return q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fT=32,pT=768;class Ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function je(){return new Ye("")}function xe(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Gs(t){return t.pieces_.length-t.pieceNum_}function He(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ye(t.pieces_,e)}function Eb(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function RH(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Sb(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function wb(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ye(e,0)}function At(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ye(n,0)}function Ae(t){return t.pieceNum_>=t.pieces_.length}function $n(t,e){const n=xe(t),r=xe(e);if(n===null)return e;if(n===r)return $n(He(t),He(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Tb(t,e){if(Gs(t)!==Gs(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Zn(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Gs(t)>Gs(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class AH{constructor(e,n){this.errorPrefix_=n,this.parts_=Sb(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Rf(this.parts_[r]);Ib(this)}}function NH(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Rf(e),Ib(t)}function xH(t){const e=t.parts_.pop();t.byteLength_-=Rf(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ib(t){if(t.byteLength_>pT)throw new Error(t.errorPrefix_+"has a key path longer than "+pT+" bytes ("+t.byteLength_+").");if(t.parts_.length>fT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+fT+") or object contains a cycle "+ci(t))}function ci(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AE extends yb{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new AE}getInitialEvent(e){return q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qa=1e3,bH=60*5*1e3,mT=30*1e3,kH=1.3,PH=3e4,LH="server_kill",gT=3;class qr extends vb{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=qr.nextPersistentConnectionId_++,this.log_=Jc("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Qa,this.maxReconnectDelay_=bH,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!SA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");AE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Ch.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Dt(i)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new my,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;qr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&as(e,"w")){const r=Jo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();In(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||f4(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=mT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=h4(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Dt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):b_("Unrecognized action received from server: "+Dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>PH&&(this.reconnectDelay_=Qa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*kH)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+qr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(d){q(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?Gt("getToken() completed but was canceled"):(Gt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new CH(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{In(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(LH)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&In(d),l())}}}interrupt(e){Gt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Gt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Jg(this.interruptReasons_)&&(this.reconnectDelay_=Qa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>TE(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ye(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Gt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=gT&&(this.reconnectDelay_=mT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Gt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=gT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Yx.replace(/\./g,"-")]=1,gy()?e["framework.cordova"]=1:EA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Ch.getInstance().currentlyOnline();return Jg(this.interruptReasons_)&&e}}qr.nextPersistentConnectionId_=0;qr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new be(aa,e),s=new be(aa,n);return this.compare(r,s)!==0}minPost(){return be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wu;class Cb extends rp{static get __EMPTY_NODE(){return Wu}static set __EMPTY_NODE(e){Wu=e}compare(e,n){return Ra(e.name,n.name)}isDefinedOn(e){throw _a("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return be.MIN}maxPost(){return new be(Di,Wu)}makePost(e,n){return q(typeof e=="string","KeyIndex indexValue must always be a string."),new be(e,Wu)}toString(){return".key"}}const Vo=new Cb;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??fn.EMPTY_NODE,this.right=i??fn.EMPTY_NODE}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return fn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return fn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Rt.RED=!0;Rt.BLACK=!1;class OH{copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class fn{constructor(e,n=fn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new fn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))}remove(e){return new fn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new qu(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new qu(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new qu(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new qu(this.root_,null,this.comparator_,!0,e)}}fn.EMPTY_NODE=new OH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t,e){return Ra(t.name,e.name)}function NE(t,e){return Ra(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P_;function MH(t){P_=t}const Rb=function(t){return typeof t=="number"?"number:"+tb(t):"string:"+t},Ab=function(t){if(t.isLeafNode()){const e=t.val();q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&as(e,".sv"),"Priority must be a string or number.")}else q(t===P_||t.isEmpty(),"priority of unexpected type.");q(t===P_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _T;class Tt{constructor(e,n=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Ab(this.priorityNode_)}static set __childrenNodeConstructor(e){_T=e}static get __childrenNodeConstructor(){return _T}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ae(e)?this:xe(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=xe(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(q(r!==".priority"||Gs(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Rb(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=tb(this.value_):e+=this.value_,this.lazyHash_=Jx(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Tt.VALUE_TYPE_ORDER.indexOf(n),i=Tt.VALUE_TYPE_ORDER.indexOf(r);return q(s>=0,"Unknown leaf type: "+n),q(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nb,xb;function VH(t){Nb=t}function $H(t){xb=t}class jH extends rp{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?Ra(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return be.MIN}maxPost(){return new be(Di,new Tt("[PRIORITY-POST]",xb))}makePost(e,n){const r=Nb(e);return new be(n,new Tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Yt=new jH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FH=Math.log(2);class UH{constructor(e){const n=i=>parseInt(Math.log(i)/FH,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Rh=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let d,f;if(u===0)return null;if(u===1)return d=t[l],f=n?n(d):d,new Rt(f,d.node,Rt.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=s(l,p),g=s(p+1,c);return d=t[p],f=n?n(d):d,new Rt(f,d.node,Rt.BLACK,m,g)}},i=function(l){let c=null,u=null,d=t.length;const f=function(m,g){const E=d-m,_=d;d-=m;const v=s(E+1,_),y=t[E],S=n?n(y):y;p(new Rt(S,y.node,g,null,v))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),E=Math.pow(2,l.count-(m+1));g?f(E,Rt.BLACK):(f(E,Rt.BLACK),f(E,Rt.RED))}return u},o=new UH(t.length),a=i(o);return new fn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nm;const ro={};class Fr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return q(ro&&Yt,"ChildrenNode.ts has not been loaded"),Nm=Nm||new Fr({".priority":ro},{".priority":Yt}),Nm}get(e){const n=Jo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof fn?n:null}hasIndex(e){return as(this.indexSet_,e.toString())}addIndex(e,n){q(e!==Vo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(be.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Rh(r,e.getCompare()):a=ro;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new Fr(u,c)}addToIndexes(e,n){const r=oh(this.indexes_,(s,i)=>{const o=Jo(this.indexSet_,i);if(q(o,"Missing index implementation for "+i),s===ro)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(be.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Rh(a,o.getCompare())}else return ro;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new be(e.name,a))),l.insert(e,e.node)}});return new Fr(r,this.indexSet_)}removeFromIndexes(e,n){const r=oh(this.indexes_,s=>{if(s===ro)return s;{const i=n.get(e.name);return i?s.remove(new be(e.name,i)):s}});return new Fr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ya;class De{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Ab(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Ya||(Ya=new De(new fn(NE),null,Fr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ya}updatePriority(e){return this.children_.isEmpty()?this:new De(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Ya:n}}getChild(e){const n=xe(e);return n===null?this:this.getImmediateChild(n).getChild(He(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(q(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new be(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?Ya:this.priorityNode_;return new De(s,o,i)}}updateChild(e,n){const r=xe(e);if(r===null)return n;{q(xe(e)!==".priority"||Gs(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(He(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Yt,(o,a)=>{n[o]=a.val(e),r++,i&&De.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Rb(this.getPriority().val())+":"),this.forEachChild(Yt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Jx(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new be(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,be.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===eu?-1:0}withIndex(e){if(e===Vo||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new De(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Vo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Yt),s=n.getIterator(Yt);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Vo?null:this.indexMap_.get(e.toString())}}De.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class BH extends De{constructor(){super(new fn(NE),De.EMPTY_NODE,Fr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return De.EMPTY_NODE}isEmpty(){return!1}}const eu=new BH;Object.defineProperties(be,{MIN:{value:new be(aa,De.EMPTY_NODE)},MAX:{value:new be(Di,eu)}});Cb.__EMPTY_NODE=De.EMPTY_NODE;Tt.__childrenNodeConstructor=De;MH(eu);$H(eu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zH=!0;function Kt(t,e=null){if(t===null)return De.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tt(n,Kt(e))}if(!(t instanceof Array)&&zH){const n=[];let r=!1;if(Hn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Kt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new be(o,l)))}}),n.length===0)return De.EMPTY_NODE;const i=Rh(n,DH,o=>o.name,NE);if(r){const o=Rh(n,Yt.getCompare());return new De(i,Kt(e),new Fr({".priority":o},{".priority":Yt}))}else return new De(i,Kt(e),Fr.Default)}else{let n=De.EMPTY_NODE;return Hn(t,(r,s)=>{if(as(t,r)&&r.substring(0,1)!=="."){const i=Kt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Kt(e))}}VH(Kt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HH extends rp{constructor(e){super(),this.indexPath_=e,q(!Ae(e)&&xe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?Ra(e.name,n.name):i}makePost(e,n){const r=Kt(e),s=De.EMPTY_NODE.updateChild(this.indexPath_,r);return new be(n,s)}maxPost(){const e=De.EMPTY_NODE.updateChild(this.indexPath_,eu);return new be(Di,e)}toString(){return Sb(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WH extends rp{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Ra(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(e,n){const r=Kt(e);return new be(n,r)}toString(){return".value"}}const qH=new WH;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GH(t){return{type:"value",snapshotNode:t}}function KH(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function QH(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function vT(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function YH(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:aa}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Di}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Yt}copy(){const e=new xE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function yT(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Yt?n="$priority":t.index_===qH?n="$value":t.index_===Vo?n="$key":(q(t.index_ instanceof HH,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Dt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Dt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Dt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Dt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ET(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Yt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah extends vb{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=Jc("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Ah.getListenId_(e,r),a={};this.listens_[o]=a;const l=yT(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let d=u;if(c===404&&(d=null,c=null),c===null&&this.onDataUpdate_(i,d,!1,r),Jo(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Ah.getListenId_(e,n);delete this.listens_[r]}get(e){const n=yT(e._queryParams),r=e._path.toString(),s=new my;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+va(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Zl(a.responseText)}catch{In("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&In("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XH{constructor(){this.rootNode_=De.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(){return{value:null,children:new Map}}function bb(t,e,n){if(Ae(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=xe(e);t.children.has(r)||t.children.set(r,Nh());const s=t.children.get(r);e=He(e),bb(s,e,n)}}function L_(t,e,n){t.value!==null?n(e,t.value):JH(t,(r,s)=>{const i=new Ye(e.toString()+"/"+r);L_(s,i,n)})}function JH(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZH{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Hn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=10*1e3,eW=30*1e3,tW=5*60*1e3;class nW{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new ZH(e);const r=ST+(eW-ST)*Math.random();xl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Hn(e,(s,i)=>{i>0&&as(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),xl(this.reportStats_.bind(this),Math.floor(Math.random()*2*tW))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gr;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gr||(gr={}));function kb(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Pb(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Lb(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=gr.ACK_USER_WRITE,this.source=kb()}operationForChild(e){if(Ae(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ye(e));return new xh(je(),n,this.revert)}}else return q(xe(this.path)===e,"operationForChild called for unrelated child."),new xh(He(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=gr.OVERWRITE}operationForChild(e){return Ae(this.path)?new Mi(this.source,je(),this.snap.getImmediateChild(e)):new Mi(this.source,He(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=gr.MERGE}operationForChild(e){if(Ae(this.path)){const n=this.children.subtree(new Ye(e));return n.isEmpty()?null:n.value?new Mi(this.source,je(),n.value):new gc(this.source,je(),n)}else return q(xe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new gc(this.source,He(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ae(e))return this.isFullyInitialized()&&!this.filtered_;const n=xe(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function rW(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(YH(o.childName,o.snapshotNode))}),Xa(t,s,"child_removed",e,r,n),Xa(t,s,"child_added",e,r,n),Xa(t,s,"child_moved",i,r,n),Xa(t,s,"child_changed",e,r,n),Xa(t,s,"value",e,r,n),s}function Xa(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>iW(t,a,l)),o.forEach(a=>{const l=sW(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function sW(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function iW(t,e,n){if(e.childName==null||n.childName==null)throw _a("Should only compare child_ events.");const r=new be(e.childName,e.snapshotNode),s=new be(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(t,e){return{eventCache:t,serverCache:e}}function bl(t,e,n,r){return Ob(new bE(e,n,r),t.serverCache)}function Db(t,e,n,r){return Ob(t.eventCache,new bE(e,n,r))}function O_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Vi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xm;const oW=()=>(xm||(xm=new fn(q9)),xm);class ze{constructor(e,n=oW()){this.value=e,this.children=n}static fromObject(e){let n=new ze(null);return Hn(e,(r,s)=>{n=n.set(new Ye(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:je(),value:this.value};if(Ae(e))return null;{const r=xe(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(He(e),n);return i!=null?{path:At(new Ye(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ae(e))return this;{const n=xe(e),r=this.children.get(n);return r!==null?r.subtree(He(e)):new ze(null)}}set(e,n){if(Ae(e))return new ze(n,this.children);{const r=xe(e),i=(this.children.get(r)||new ze(null)).set(He(e),n),o=this.children.insert(r,i);return new ze(this.value,o)}}remove(e){if(Ae(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=xe(e),r=this.children.get(n);if(r){const s=r.remove(He(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ze(null):new ze(this.value,i)}else return this}}get(e){if(Ae(e))return this.value;{const n=xe(e),r=this.children.get(n);return r?r.get(He(e)):null}}setTree(e,n){if(Ae(e))return n;{const r=xe(e),i=(this.children.get(r)||new ze(null)).setTree(He(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ze(this.value,o)}}fold(e){return this.fold_(je(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(At(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,je(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Ae(e))return null;{const i=xe(e),o=this.children.get(i);return o?o.findOnPath_(He(e),At(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,je(),n)}foreachOnPath_(e,n,r){if(Ae(e))return this;{this.value&&r(n,this.value);const s=xe(e),i=this.children.get(s);return i?i.foreachOnPath_(He(e),At(n,s),r):new ze(null)}}foreach(e){this.foreach_(je(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(At(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e){this.writeTree_=e}static empty(){return new rr(new ze(null))}}function kl(t,e,n){if(Ae(e))return new rr(new ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=$n(s,e);return i=i.updateChild(o,n),new rr(t.writeTree_.set(s,i))}else{const s=new ze(n),i=t.writeTree_.setTree(e,s);return new rr(i)}}}function wT(t,e,n){let r=t;return Hn(n,(s,i)=>{r=kl(r,At(e,s),i)}),r}function TT(t,e){if(Ae(e))return rr.empty();{const n=t.writeTree_.setTree(e,new ze(null));return new rr(n)}}function D_(t,e){return Yi(t,e)!=null}function Yi(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($n(n.path,e)):null}function IT(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Yt,(r,s)=>{e.push(new be(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new be(r,s.value))}),e}function js(t,e){if(Ae(e))return t;{const n=Yi(t,e);return n!=null?new rr(new ze(n)):new rr(t.writeTree_.subtree(e))}}function M_(t){return t.writeTree_.isEmpty()}function la(t,e){return Mb(je(),t.writeTree_,e)}function Mb(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(q(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Mb(At(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(At(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t,e){return Bb(e,t)}function aW(t,e,n,r,s){q(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=kl(t.visibleWrites,e,n)),t.lastWriteId=r}function lW(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function cW(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);q(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&uW(a,r.path)?s=!1:Zn(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return dW(t),!0;if(r.snap)t.visibleWrites=TT(t.visibleWrites,r.path);else{const a=r.children;Hn(a,l=>{t.visibleWrites=TT(t.visibleWrites,At(r.path,l))})}return!0}else return!1}function uW(t,e){if(t.snap)return Zn(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Zn(At(t.path,n),e))return!0;return!1}function dW(t){t.visibleWrites=$b(t.allWrites,hW,je()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function hW(t){return t.visible}function $b(t,e,n){let r=rr.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)Zn(n,o)?(a=$n(n,o),r=kl(r,a,i.snap)):Zn(o,n)&&(a=$n(o,n),r=kl(r,je(),i.snap.getChild(a)));else if(i.children){if(Zn(n,o))a=$n(n,o),r=wT(r,a,i.children);else if(Zn(o,n))if(a=$n(o,n),Ae(a))r=wT(r,je(),i.children);else{const l=Jo(i.children,xe(a));if(l){const c=l.getChild(He(a));r=kl(r,je(),c)}}}else throw _a("WriteRecord should have .snap or .children")}}return r}function jb(t,e,n,r,s){if(!r&&!s){const i=Yi(t.visibleWrites,e);if(i!=null)return i;{const o=js(t.visibleWrites,e);if(M_(o))return n;if(n==null&&!D_(o,je()))return null;{const a=n||De.EMPTY_NODE;return la(o,a)}}}else{const i=js(t.visibleWrites,e);if(!s&&M_(i))return n;if(!s&&n==null&&!D_(i,je()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(Zn(c.path,e)||Zn(e,c.path))},a=$b(t.allWrites,o,e),l=n||De.EMPTY_NODE;return la(a,l)}}}function fW(t,e,n){let r=De.EMPTY_NODE;const s=Yi(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Yt,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=js(t.visibleWrites,e);return n.forEachChild(Yt,(o,a)=>{const l=la(js(i,new Ye(o)),a);r=r.updateImmediateChild(o,l)}),IT(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=js(t.visibleWrites,e);return IT(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function pW(t,e,n,r,s){q(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=At(e,n);if(D_(t.visibleWrites,i))return null;{const o=js(t.visibleWrites,i);return M_(o)?s.getChild(n):la(o,s.getChild(n))}}function mW(t,e,n,r){const s=At(e,n),i=Yi(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=js(t.visibleWrites,s);return la(o,r.getNode().getImmediateChild(n))}else return null}function gW(t,e){return Yi(t.visibleWrites,e)}function _W(t,e,n,r,s,i,o){let a;const l=js(t.visibleWrites,e),c=Yi(l,je());if(c!=null)a=c;else if(n!=null)a=la(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],d=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<s;)d(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function vW(){return{visibleWrites:rr.empty(),allWrites:[],lastWriteId:-1}}function V_(t,e,n,r){return jb(t.writeTree,t.treePath,e,n,r)}function Fb(t,e){return fW(t.writeTree,t.treePath,e)}function CT(t,e,n,r){return pW(t.writeTree,t.treePath,e,n,r)}function bh(t,e){return gW(t.writeTree,At(t.treePath,e))}function yW(t,e,n,r,s,i){return _W(t.writeTree,t.treePath,e,n,r,s,i)}function kE(t,e,n){return mW(t.writeTree,t.treePath,e,n)}function Ub(t,e){return Bb(At(t.treePath,e),t.writeTree)}function Bb(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EW{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),q(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,vT(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,QH(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,KH(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,vT(r,e.snapshotNode,s.oldSnap));else throw _a("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SW{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const zb=new SW;class PE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new bE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Vi(this.viewCache_),i=yW(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function wW(t,e){q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function TW(t,e,n,r,s){const i=new EW;let o,a;if(n.type===gr.OVERWRITE){const c=n;c.source.fromUser?o=$_(t,e,c.path,c.snap,r,s,i):(q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Ae(c.path),o=kh(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===gr.MERGE){const c=n;c.source.fromUser?o=CW(t,e,c.path,c.children,r,s,i):(q(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=j_(t,e,c.path,c.children,r,s,a,i))}else if(n.type===gr.ACK_USER_WRITE){const c=n;c.revert?o=NW(t,e,c.path,r,s,i):o=RW(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===gr.LISTEN_COMPLETE)o=AW(t,e,n.path,r,i);else throw _a("Unknown operation type: "+n.type);const l=i.getChanges();return IW(e,o,l),{viewCache:o,changes:l}}function IW(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=O_(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(GH(O_(e)))}}function Hb(t,e,n,r,s,i){const o=e.eventCache;if(bh(r,n)!=null)return e;{let a,l;if(Ae(n))if(q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Vi(e),u=c instanceof De?c:De.EMPTY_NODE,d=Fb(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const c=V_(r,Vi(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=xe(n);if(c===".priority"){q(Gs(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=CT(r,n,u,l);d!=null?a=t.filter.updatePriority(u,d):a=o.getNode()}else{const u=He(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=CT(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(c).updateChild(u,f):d=o.getNode().getImmediateChild(c)}else d=kE(r,c,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),c,d,u,s,i):a=o.getNode()}}return bl(e,a,o.isFullyInitialized()||Ae(n),t.filter.filtersNodes())}}function kh(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Ae(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=xe(n);if(!l.isCompleteForPath(n)&&Gs(n)>1)return e;const m=He(n),E=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),E):c=u.updateChild(l.getNode(),p,E,m,zb,null)}const d=Db(e,c,l.isFullyInitialized()||Ae(n),u.filtersNodes()),f=new PE(s,d,i);return Hb(t,d,n,s,f,a)}function $_(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new PE(s,e,i);if(Ae(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=bl(e,c,!0,t.filter.filtersNodes());else{const d=xe(n);if(d===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=bl(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=He(n),p=a.getNode().getImmediateChild(d);let m;if(Ae(f))m=r;else{const g=u.getCompleteChild(d);g!=null?Eb(f)===".priority"&&g.getChild(wb(f)).isEmpty()?m=g:m=g.updateChild(f,r):m=De.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),d,m,f,u,o);l=bl(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function RT(t,e){return t.eventCache.isCompleteForChild(e)}function CW(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=At(n,l);RT(e,xe(u))&&(a=$_(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=At(n,l);RT(e,xe(u))||(a=$_(t,a,u,c,s,i,o))}),a}function AT(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function j_(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Ae(n)?c=r:c=new ze(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),m=AT(t,p,f);l=kh(t,l,new Ye(d),m,s,i,o,a)}}),c.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!p){const m=e.serverCache.getNode().getImmediateChild(d),g=AT(t,m,f);l=kh(t,l,new Ye(d),g,s,i,o,a)}}),l}function RW(t,e,n,r,s,i,o){if(bh(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ae(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return kh(t,e,n,l.getNode().getChild(n),s,i,a,o);if(Ae(n)){let c=new ze(null);return l.getNode().forEachChild(Vo,(u,d)=>{c=c.set(new Ye(u),d)}),j_(t,e,n,c,s,i,a,o)}else return e}else{let c=new ze(null);return r.foreach((u,d)=>{const f=At(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),j_(t,e,n,c,s,i,a,o)}}function AW(t,e,n,r,s){const i=e.serverCache,o=Db(e,i.getNode(),i.isFullyInitialized()||Ae(n),i.isFiltered());return Hb(t,o,n,r,zb,s)}function NW(t,e,n,r,s,i){let o;if(bh(r,n)!=null)return e;{const a=new PE(r,e,s),l=e.eventCache.getNode();let c;if(Ae(n)||xe(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=V_(r,Vi(e));else{const d=e.serverCache.getNode();q(d instanceof De,"serverChildren would be complete if leaf node"),u=Fb(r,d)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=xe(n);let d=kE(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),d!=null?c=t.filter.updateChild(l,u,d,He(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,De.EMPTY_NODE,He(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=V_(r,Vi(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||bh(r,je())!=null,bl(e,c,o,t.filter.filtersNodes())}}function xW(t,e){const n=Vi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ae(e)&&!n.getImmediateChild(xe(e)).isEmpty())?n.getChild(e):null}function NT(t,e,n,r){e.type===gr.MERGE&&e.source.queryId!==null&&(q(Vi(t.viewCache_),"We should always have a full cache before handling merges"),q(O_(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=TW(t.processor_,s,e,n,r);return wW(t.processor_,i.viewCache),q(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,bW(t,i.changes,i.viewCache.eventCache.getNode(),null)}function bW(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return rW(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xT;function kW(t){q(!xT,"__referenceConstructor has already been defined"),xT=t}function LE(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return q(i!=null,"SyncTree gave us an op for an invalid query."),NT(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(NT(o,e,n,r));return i}}function OE(t,e){let n=null;for(const r of t.views.values())n=n||xW(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bT;function PW(t){q(!bT,"__referenceConstructor has already been defined"),bT=t}class kT{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=vW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function LW(t,e,n,r,s){return aW(t.pendingWriteTree_,e,n,r,s),s?ip(t,new Mi(kb(),e,n)):[]}function wo(t,e,n=!1){const r=lW(t.pendingWriteTree_,e);if(cW(t.pendingWriteTree_,e)){let i=new ze(null);return r.snap!=null?i=i.set(je(),!0):Hn(r.children,o=>{i=i.set(new Ye(o),!0)}),ip(t,new xh(r.path,i,n))}else return[]}function sp(t,e,n){return ip(t,new Mi(Pb(),e,n))}function OW(t,e,n){const r=ze.fromObject(n);return ip(t,new gc(Pb(),e,r))}function DW(t,e,n,r){const s=Kb(t,r);if(s!=null){const i=Qb(s),o=i.path,a=i.queryId,l=$n(o,e),c=new Mi(Lb(a),l,n);return Yb(t,o,c)}else return[]}function MW(t,e,n,r){const s=Kb(t,r);if(s){const i=Qb(s),o=i.path,a=i.queryId,l=$n(o,e),c=ze.fromObject(n),u=new gc(Lb(a),l,c);return Yb(t,o,u)}else return[]}function Wb(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=$n(o,e),c=OE(a,l);if(c)return c});return jb(s,e,i,n,!0)}function ip(t,e){return qb(e,t.syncPointTree_,null,Vb(t.pendingWriteTree_,je()))}function qb(t,e,n,r){if(Ae(t.path))return Gb(t,e,n,r);{const s=e.get(je());n==null&&s!=null&&(n=OE(s,je()));let i=[];const o=xe(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Ub(r,o);i=i.concat(qb(a,l,c,u))}return s&&(i=i.concat(LE(s,t,r,n))),i}}function Gb(t,e,n,r){const s=e.get(je());n==null&&s!=null&&(n=OE(s,je()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Ub(r,o),u=t.operationForChild(o);u&&(i=i.concat(Gb(u,a,l,c)))}),s&&(i=i.concat(LE(s,t,r,n))),i}function Kb(t,e){return t.tagToQueryMap.get(e)}function Qb(t){const e=t.indexOf("$");return q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ye(t.substr(0,e))}}function Yb(t,e,n){const r=t.syncPointTree_.get(e);q(r,"Missing sync point for query tag that we're tracking");const s=Vb(t.pendingWriteTree_,e);return LE(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new DE(n)}node(){return this.node_}}class ME{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=At(this.path_,e);return new ME(this.syncTree_,n)}node(){return Wb(this.syncTree_,this.path_)}}const VW=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},PT=function(t,e,n){if(!t||typeof t!="object")return t;if(q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return $W(t[".sv"],e,n);if(typeof t[".sv"]=="object")return jW(t[".sv"],e);q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},$W=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:q(!1,"Unexpected server value: "+t)}},jW=function(t,e,n){t.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&q(!1,"Unexpected increment value: "+r);const s=e.node();if(q(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},FW=function(t,e,n,r){return VE(e,new ME(n,t),r)},UW=function(t,e,n){return VE(t,new DE(e),n)};function VE(t,e,n){const r=t.getPriority().val(),s=PT(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=PT(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Tt(a,Kt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Tt(s))),o.forEachChild(Yt,(a,l)=>{const c=VE(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function jE(t,e){let n=e instanceof Ye?e:new Ye(e),r=t,s=xe(n);for(;s!==null;){const i=Jo(r.node.children,s)||{children:{},childCount:0};r=new $E(s,r,i),n=He(n),s=xe(n)}return r}function Aa(t){return t.node.value}function Xb(t,e){t.node.value=e,F_(t)}function Jb(t){return t.node.childCount>0}function BW(t){return Aa(t)===void 0&&!Jb(t)}function op(t,e){Hn(t.node.children,(n,r)=>{e(new $E(n,t,r))})}function Zb(t,e,n,r){n&&!r&&e(t),op(t,s=>{Zb(s,e,!0,r)}),n&&r&&e(t)}function zW(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function tu(t){return new Ye(t.parent===null?t.name:tu(t.parent)+"/"+t.name)}function F_(t){t.parent!==null&&HW(t.parent,t.name,t)}function HW(t,e,n){const r=BW(n),s=as(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,F_(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,F_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WW=/[\[\].#$\/\u0000-\u001F\u007F]/,qW=/[\[\].#$\u0000-\u001F\u007F]/,bm=10*1024*1024,ek=function(t){return typeof t=="string"&&t.length!==0&&!WW.test(t)},GW=function(t){return typeof t=="string"&&t.length!==0&&!qW.test(t)},KW=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GW(t)},tk=function(t,e,n){const r=n instanceof Ye?new AH(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+ci(r));if(typeof e=="function")throw new Error(t+"contains a function "+ci(r)+" with contents = "+e.toString());if(Zx(e))throw new Error(t+"contains "+e.toString()+" "+ci(r));if(typeof e=="string"&&e.length>bm/3&&Rf(e)>bm)throw new Error(t+"contains a string greater than "+bm+" utf8 bytes "+ci(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Hn(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!ek(o)))throw new Error(t+" contains an invalid key ("+o+") "+ci(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);NH(r,o),tk(t,a,r),xH(r)}),s&&i)throw new Error(t+' contains ".value" child '+ci(r)+" in addition to actual children.")}},QW=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ek(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!KW(n))throw new Error(v4(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function XW(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Tb(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Xi(t,e,n){XW(t,n),JW(t,r=>Zn(r,e)||Zn(e,r))}function JW(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(ZW(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function ZW(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Si&&Gt("event: "+n.toString()),Zc(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eq="repo_interrupt",tq=25;class nq{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new YW,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Nh(),this.transactionQueueTree_=new $E,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rq(t,e,n){if(t.stats_=CE(t.repoInfo_),t.forceRestClient_||J9())t.server_=new Ah(t.repoInfo_,(r,s,i,o)=>{LT(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>OT(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Dt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new qr(t.repoInfo_,e,(r,s,i,o)=>{LT(t,r,s,i,o)},r=>{OT(t,r)},r=>{iq(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=rH(t.repoInfo_,()=>new nW(t.stats_,t.server_)),t.infoData_=new XH,t.infoSyncTree_=new kT({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=sp(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),FE(t,"connected",!1),t.serverSyncTree_=new kT({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Xi(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function sq(t){const n=t.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function nk(t){return VW({timestamp:sq(t)})}function LT(t,e,n,r,s){t.dataUpdateCount++;const i=new Ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=oh(n,c=>Kt(c));o=MW(t.serverSyncTree_,i,l,s)}else{const l=Kt(n);o=DW(t.serverSyncTree_,i,l,s)}else if(r){const l=oh(n,c=>Kt(c));o=OW(t.serverSyncTree_,i,l)}else{const l=Kt(n);o=sp(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=BE(t,i)),Xi(t.eventQueue_,a,o)}function OT(t,e){FE(t,"connected",e),e===!1&&aq(t)}function iq(t,e){Hn(e,(n,r)=>{FE(t,n,r)})}function FE(t,e,n){const r=new Ye("/.info/"+e),s=Kt(n);t.infoData_.updateSnapshot(r,s);const i=sp(t.infoSyncTree_,r,s);Xi(t.eventQueue_,r,i)}function oq(t){return t.nextWriteId_++}function aq(t){rk(t,"onDisconnectEvents");const e=nk(t),n=Nh();L_(t.onDisconnect_,je(),(s,i)=>{const o=FW(s,i,t.serverSyncTree_,e);bb(n,s,o)});let r=[];L_(n,je(),(s,i)=>{r=r.concat(sp(t.serverSyncTree_,s,i));const o=dq(t,s);BE(t,o)}),t.onDisconnect_=Nh(),Xi(t.eventQueue_,je(),r)}function lq(t){t.persistentConnection_&&t.persistentConnection_.interrupt(eq)}function rk(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Gt(n,...e)}function sk(t,e,n){return Wb(t.serverSyncTree_,e,n)||De.EMPTY_NODE}function UE(t,e=t.transactionQueueTree_){if(e||ap(t,e),Aa(e)){const n=ok(t,e);q(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&cq(t,tu(e),n)}else Jb(e)&&op(e,n=>{UE(t,n)})}function cq(t,e,n){const r=n.map(c=>c.currentWriteId),s=sk(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];q(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=$n(e,u.path);i=i.updateChild(d,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{rk(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(wo(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ap(t,jE(t.transactionQueueTree_,e)),UE(t,t.transactionQueueTree_),Xi(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)Zc(d[f])}else{if(c==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{In("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}BE(t,e)}},o)}function BE(t,e){const n=ik(t,e),r=tu(n),s=ok(t,n);return uq(t,s,r),r}function uq(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=$n(n,l.path);let u=!1,d;if(q(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,d=l.abortReason,s=s.concat(wo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=tq)u=!0,d="maxretry",s=s.concat(wo(t.serverSyncTree_,l.currentWriteId,!0));else{const f=sk(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){tk("transaction failed: Data returned ",p,l.path);let m=Kt(p);typeof p=="object"&&p!=null&&as(p,".priority")||(m=m.updatePriority(f.getPriority()));const E=l.currentWriteId,_=nk(t),v=UW(m,f,_);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=v,l.currentWriteId=oq(t),o.splice(o.indexOf(E),1),s=s.concat(LW(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),s=s.concat(wo(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",s=s.concat(wo(t.serverSyncTree_,l.currentWriteId,!0))}Xi(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ap(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Zc(r[a]);UE(t,t.transactionQueueTree_)}function ik(t,e){let n,r=t.transactionQueueTree_;for(n=xe(e);n!==null&&Aa(r)===void 0;)r=jE(r,n),e=He(e),n=xe(e);return r}function ok(t,e){const n=[];return ak(t,e,n),n.sort((r,s)=>r.order-s.order),n}function ak(t,e,n){const r=Aa(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);op(e,s=>{ak(t,s,n)})}function ap(t,e){const n=Aa(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,Xb(e,n.length>0?n:void 0)}op(e,r=>{ap(t,r)})}function dq(t,e){const n=tu(ik(t,e)),r=jE(t.transactionQueueTree_,e);return zW(r,s=>{km(t,s)}),km(t,r),Zb(r,s=>{km(t,s)}),n}function km(t,e){const n=Aa(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(q(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(q(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(wo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?Xb(e,void 0):n.length=i+1,Xi(t.eventQueue_,tu(e),s);for(let o=0;o<r.length;o++)Zc(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hq(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function fq(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):In(`Invalid query segment '${n}' in query '${t}'`)}return e}const DT=function(t,e){const n=pq(t),r=n.namespace;n.domain==="firebase.com"&&rs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&rs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||H9();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new db(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ye(n.pathString)}},pq=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(s=hq(t.substring(u,d)));const f=fq(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Ae(this._path)?null:Eb(this._path)}get ref(){return new Na(this._repo,this._path)}get _queryIdentifier(){const e=ET(this._queryParams),n=TE(e);return n==="{}"?"default":n}get _queryObject(){return ET(this._queryParams)}isEqual(e){if(e=yt(e),!(e instanceof zE))return!1;const n=this._repo===e._repo,r=Tb(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+RH(this._path)}}class Na extends zE{constructor(e,n){super(e,n,new xE,!1)}get parent(){const e=wb(this._path);return e===null?null:new Na(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}kW(Na);PW(Na);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mq="FIREBASE_DATABASE_EMULATOR_HOST",U_={};let gq=!1;function _q(t,e,n,r){t.repoInfo_=new db(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function vq(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||rs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=DT(i,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[mq]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=DT(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new Mo(Mo.OWNER):new eH(t.name,t.options,e);QW("Invalid Firebase Database URL",o),Ae(o.path)||rs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Eq(a,t,u,new Z9(t.name,n));return new Sq(d,t)}function yq(t,e){const n=U_[e];(!n||n[t.key]!==t)&&rs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),lq(t),delete n[t.key]}function Eq(t,e,n,r){let s=U_[e.name];s||(s={},U_[e.name]=s);let i=s[t.toURLString()];return i&&rs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new nq(t,gq,n,r),s[t.toURLString()]=i,i}class Sq{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rq(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Na(this._repo,je())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yq(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&rs("Cannot call "+e+" on a deleted database.")}}function wq(t=vy(),e){const n=Nf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=gA("database");r&&Tq(n,...r)}return n}function Tq(t,e,n,r={}){t=yt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&rs("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&rs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new Mo(Mo.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:yA(r.mockUserToken,t.app.options.projectId);i=new Mo(o)}_q(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iq(t){j9(ei),zs(new Jr("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return vq(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Fn(nT,rT,t),Fn(nT,rT,"esm2017")}qr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};qr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Iq();const Cq={apiKey:"AIzaSyBSaPFkAnkoc_uu_xR9LUvHL1Cc8mOWcyc",authDomain:"mybbs-5642f.firebaseapp.com",projectId:"mybbs-5642f",storageBucket:"mybbs-5642f.appspot.com",messagingSenderId:"210742350834",appId:"1:210742350834:web:a65b2a1d7d470593a3516b",databaseURL:"https://mybbs-5642f-default-rtdb.asia-southeast1.firebasedatabase.app/",measurementId:"G-SZ9V5BHSER"},lk=CA(Cq),lp=_9(lk),Rq=wq(lk);console.log(Rq);function HE(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function MT(t){return t!==void 0&&t.enterprise!==void 0}class Aq{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function ck(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Nq=ck,uk=new Dc("auth","Firebase",ck());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ph=new Af("@firebase/auth");function xq(t,...e){Ph.logLevel<=ke.WARN&&Ph.warn(`Auth (${ei}): ${t}`,...e)}function yd(t,...e){Ph.logLevel<=ke.ERROR&&Ph.error(`Auth (${ei}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ar(t,...e){throw WE(t,...e)}function Sr(t,...e){return WE(t,...e)}function bq(t,e,n){const r=Object.assign(Object.assign({},Nq()),{[e]:n});return new Dc("auth","Firebase",r).create(e,{appName:t.name})}function WE(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return uk.create(t,...e)}function ce(t,e,...n){if(!t)throw WE(e,...n)}function Ur(t){const e="INTERNAL ASSERTION FAILED: "+t;throw yd(e),new Error(e)}function ss(t,e){t||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kq(){return VT()==="http:"||VT()==="https:"}function VT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kq()||i4()||"connection"in navigator)?navigator.onLine:!0}function Lq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ss(n>e,"Short delay should be less than long delay!"),this.isMobile=gy()||EA()}get(){return Pq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(t,e){ss(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq=new nu(3e4,6e4);function si(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ii(t,e,n,r,s={}){return hk(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=va(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),dk.fetch()(fk(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function hk(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Oq),e);try{const s=new Mq(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Gu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Gu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Gu(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw bq(t,u,c);ar(t,u)}}catch(s){if(s instanceof Nr)throw s;ar(t,"network-request-failed",{message:String(s)})}}async function ru(t,e,n,r,s={}){const i=await ii(t,e,n,r,s);return"mfaPendingCredential"in i&&ar(t,"multi-factor-auth-required",{_serverResponse:i}),i}function fk(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?qE(t.config,s):`${t.config.apiScheme}://${s}`}class Mq{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),Dq.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Gu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sr(t,e,r);return s.customData._tokenResponse=n,s}async function Vq(t,e){return ii(t,"GET","/v2/recaptchaConfig",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $q(t,e){return ii(t,"POST","/v1/accounts:delete",e)}async function jq(t,e){return ii(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Fq(t,e=!1){const n=yt(t),r=await n.getIdToken(e),s=GE(r);ce(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Pl(Pm(s.auth_time)),issuedAtTime:Pl(Pm(s.iat)),expirationTime:Pl(Pm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Pm(t){return Number(t)*1e3}function GE(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return yd("JWT malformed, contained fewer than 3 sections"),null;try{const s=ih(n);return s?JSON.parse(s):(yd("Failed to decode base64 JWT payload"),null)}catch(s){return yd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Uq(t){const e=GE(t);return ce(e,"internal-error"),ce(typeof e.exp<"u","internal-error"),ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _c(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&Bq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Bq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t){var e;const n=t.auth,r=await t.getIdToken(),s=await _c(t,jq(n,{idToken:r}));ce(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?qq(i.providerUserInfo):[],a=Wq(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new pk(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function Hq(t){const e=yt(t);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Wq(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function qq(t){return t.map(e=>{var{providerId:n}=e,r=HE(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gq(t,e){const n=await hk(t,{},async()=>{const r=va({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=fk(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",dk.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ce(e.idToken,"internal-error"),ce(typeof e.idToken<"u","internal-error"),ce(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Uq(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return ce(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await Gq(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new vc;return r&&(ce(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ce(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ce(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new vc,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(t,e){ce(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=HE(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new pk(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await _c(this,this.stsTokenManager.getToken(this.auth,e));return ce(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Fq(this,e)}reload(){return Hq(this)}_assign(e){this!==e&&(ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await _c(this,$q(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,E=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:y,emailVerified:S,isAnonymous:w,providerData:N,stsTokenManager:P}=n;ce(y&&P,e,"internal-error");const O=vc.fromJSON(this.name,P);ce(typeof y=="string",e,"internal-error"),cs(d,e.name),cs(f,e.name),ce(typeof S=="boolean",e,"internal-error"),ce(typeof w=="boolean",e,"internal-error"),cs(p,e.name),cs(m,e.name),cs(g,e.name),cs(E,e.name),cs(_,e.name),cs(v,e.name);const J=new wi({uid:y,auth:e,email:f,emailVerified:S,displayName:d,isAnonymous:w,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:O,createdAt:_,lastLoginAt:v});return N&&Array.isArray(N)&&(J.providerData=N.map(T=>Object.assign({},T))),E&&(J._redirectEventId=E),J}static async _fromIdTokenResponse(e,n,r=!1){const s=new vc;s.updateFromServerResponse(n);const i=new wi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Lh(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=new Map;function Br(t){ss(t instanceof Function,"Expected a class definition");let e=$T.get(t);return e?(ss(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,$T.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mk.type="NONE";const jT=mk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ed(t,e,n){return`firebase:${t}:${e}:${n}`}class $o{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ed(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ed("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new $o(Br(jT),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Br(jT);const o=Ed(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const d=wi._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new $o(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new $o(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(gk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ek(e))return"Blackberry";if(Sk(e))return"Webos";if(KE(e))return"Safari";if((e.includes("chrome/")||_k(e))&&!e.includes("edge/"))return"Chrome";if(yk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function gk(t=tn()){return/firefox\//i.test(t)}function KE(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _k(t=tn()){return/crios\//i.test(t)}function vk(t=tn()){return/iemobile/i.test(t)}function yk(t=tn()){return/android/i.test(t)}function Ek(t=tn()){return/blackberry/i.test(t)}function Sk(t=tn()){return/webos/i.test(t)}function cp(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Kq(t=tn()){var e;return cp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Qq(){return o4()&&document.documentMode===10}function wk(t=tn()){return cp(t)||yk(t)||Sk(t)||Ek(t)||/windows phone/i.test(t)||vk(t)}function Yq(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(t,e=[]){let n;switch(t){case"Browser":n=FT(tn());break;case"Worker":n=`${FT(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ei}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xq{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jq(t,e={}){return ii(t,"GET","/v2/passwordPolicy",si(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zq=6;class e5{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Zq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t5{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UT(this),this.idTokenSubscription=new UT(this),this.beforeStateQueue=new Xq(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=uk,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Lq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?yt(e):null;return n&&ce(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Jq(this),n=new e5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Br(e)||this._popupRedirectResolver;ce(n,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ce(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&xq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ji(t){return yt(t)}class UT{constructor(e){this.auth=e,this.observer=null,this.addObserver=m4(n=>this.observer=n)}get next(){return ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n5(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Ik(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Sr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",n5().appendChild(r)})}function r5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const s5="https://www.google.com/recaptcha/enterprise.js?render=",i5="recaptcha-enterprise",o5="NO_RECAPTCHA";class a5{constructor(e){this.type=i5,this.auth=Ji(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{Vq(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Aq(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;MT(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(o5)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&MT(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Ik(s5+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function Oh(t,e,n,r=!1){const s=new a5(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l5(t,e){const n=Nf(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ah(i,e??{}))return s;ar(s,"already-initialized")}return n.initialize({options:e})}function c5(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function u5(t,e,n){const r=Ji(t);ce(r._canInitEmulator,r,"emulator-config-failed"),ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Ck(e),{host:o,port:a}=d5(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||h5()}function Ck(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function d5(t){const e=Ck(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:BT(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:BT(o)}}}function BT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function h5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,n){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function f5(t,e){return ii(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lm(t,e){return ru(t,"POST","/v1/accounts:signInWithPassword",si(t,e))}async function p5(t,e){return ii(t,"POST","/v1/accounts:sendOobCode",si(t,e))}async function m5(t,e){return p5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g5(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",si(t,e))}async function _5(t,e){return ru(t,"POST","/v1/accounts:signInWithEmailLink",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends QE{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new yc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new yc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await Oh(e,r,"signInWithPassword");return Lm(e,s)}else return Lm(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await Oh(e,r,"signInWithPassword");return Lm(e,i)}else return Promise.reject(s)});case"emailLink":return g5(e,{email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return f5(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return _5(e,{idToken:n,email:this._email,oobCode:this._password});default:ar(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jo(t,e){return ru(t,"POST","/v1/accounts:signInWithIdp",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v5="http://localhost";class $i extends QE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new $i(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ar("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=HE(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new $i(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return jo(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,jo(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,jo(e,n)}buildRequest(){const e={requestUri:v5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=va(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E5(t){const e=il(ol(t)).link,n=e?il(ol(e)).deep_link_id:null,r=il(ol(t)).deep_link_id;return(r?il(ol(r)).link:null)||r||n||e||t}class YE{constructor(e){var n,r,s,i,o,a;const l=il(ol(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,d=y5((s=l.mode)!==null&&s!==void 0?s:null);ce(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=E5(e);try{return new YE(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(){this.providerId=xa.PROVIDER_ID}static credential(e,n){return yc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=YE.parseLink(n);return ce(r,"argument-error"),yc._fromEmailAndCode(e,r.code,r.tenantId)}}xa.PROVIDER_ID="password";xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends Rk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs extends su{constructor(){super("facebook.com")}static credential(e){return $i._fromParams({providerId:gs.PROVIDER_ID,signInMethod:gs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return gs.credentialFromTaggedObject(e)}static credentialFromError(e){return gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return gs.credential(e.oauthAccessToken)}catch{return null}}}gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";gs.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return $i._fromParams({providerId:_s.PROVIDER_ID,signInMethod:_s.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _s.credentialFromTaggedObject(e)}static credentialFromError(e){return _s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _s.credential(n,r)}catch{return null}}}_s.GOOGLE_SIGN_IN_METHOD="google.com";_s.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs extends su{constructor(){super("github.com")}static credential(e){return $i._fromParams({providerId:vs.PROVIDER_ID,signInMethod:vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vs.credentialFromTaggedObject(e)}static credentialFromError(e){return vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vs.credential(e.oauthAccessToken)}catch{return null}}}vs.GITHUB_SIGN_IN_METHOD="github.com";vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys extends su{constructor(){super("twitter.com")}static credential(e,n){return $i._fromParams({providerId:ys.PROVIDER_ID,signInMethod:ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ys.credentialFromTaggedObject(e)}static credentialFromError(e){return ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ys.credential(n,r)}catch{return null}}}ys.TWITTER_SIGN_IN_METHOD="twitter.com";ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Om(t,e){return ru(t,"POST","/v1/accounts:signUp",si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await wi._fromIdTokenResponse(e,r,s),o=zT(r);return new ji({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=zT(r);return new ji({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function zT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends Nr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Dh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Dh(e,n,r,s)}}function Ak(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Dh._fromErrorAndOperation(t,i,e,r):i})}async function S5(t,e,n=!1){const r=await _c(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ji._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await _c(t,Ak(r,s,e,t),n);ce(i.idToken,r,"internal-error");const o=GE(i.idToken);ce(o,r,"internal-error");const{sub:a}=o;return ce(t.uid===a,r,"user-mismatch"),ji._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&ar(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nk(t,e,n=!1){const r="signIn",s=await Ak(t,r,e),i=await ji._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function T5(t,e){return Nk(Ji(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I5(t,e,n){var r;ce(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),ce(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(ce(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(ce(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xk(t){const e=Ji(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C5(t,e,n){var r;const s=Ji(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await Oh(s,i,"signUpPassword");o=Om(s,c)}else o=Om(s,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await Oh(s,i,"signUpPassword");return Om(s,u)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&xk(t),c}),l=await ji._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function HT(t,e,n){return T5(yt(t),xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&xk(t),r})}async function R5(t,e){const n=yt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&I5(n.auth,s,e);const{email:i}=await m5(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t,e){return yt(t).setPersistence(e)}function N5(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function x5(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function bk(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function b5(t){return yt(t).signOut()}const Mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Mh,"1"),this.storage.removeItem(Mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k5(){const t=tn();return KE(t)||cp(t)}const P5=1e3,L5=10;class Pk extends kk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=k5()&&Yq(),this.fallbackToPolling=wk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);Qq()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,L5):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Pk.type="LOCAL";const O5=Pk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk extends kk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Lk.type="SESSION";const XE=Lk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new up(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await D5(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}up.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JE(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=JE("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(d){const f=d;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function V5(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function $5(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j5(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function F5(){return Ok()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk="firebaseLocalStorageDb",U5=1,Vh="firebaseLocalStorage",Mk="fbase_key";class iu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dp(t,e){return t.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function B5(){const t=indexedDB.deleteDatabase(Dk);return new iu(t).toPromise()}function z_(){const t=indexedDB.open(Dk,U5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Vh,{keyPath:Mk})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Vh)?e(r):(r.close(),await B5(),e(await z_()))})})}async function WT(t,e,n){const r=dp(t,!0).put({[Mk]:e,value:n});return new iu(r).toPromise()}async function z5(t,e){const n=dp(t,!1).get(e),r=await new iu(n).toPromise();return r===void 0?null:r.value}function qT(t,e){const n=dp(t,!0).delete(e);return new iu(n).toPromise()}const H5=800,W5=3;class Vk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await z_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>W5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ok()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=up._getInstance(F5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $5(),!this.activeServiceWorker)return;this.sender=new M5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await z_();return await WT(e,Mh,"1"),await qT(e,Mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>WT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>z5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>qT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=dp(s,!1).getAll();return new iu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Vk.type="LOCAL";const q5=Vk;new nu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t,e){return e?Br(e):(ce(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends QE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return jo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return jo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return jo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function K5(t){return Nk(t.auth,new ZE(t),t.bypassAuthState)}function Q5(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),w5(n,new ZE(t),t.bypassAuthState)}async function Y5(t){const{auth:e,user:n}=t;return ce(n,e,"internal-error"),S5(n,new ZE(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K5;case"linkViaPopup":case"linkViaRedirect":return Y5;case"reauthViaPopup":case"reauthViaRedirect":return Q5;default:ar(this.auth,"internal-error")}}resolve(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ss(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X5=new nu(2e3,1e4);class To extends $k{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,To.currentPopupAction&&To.currentPopupAction.cancel(),To.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ce(e,this.auth,"internal-error"),e}async onExecution(){ss(this.filter.length===1,"Popup operations only handle one event");const e=JE();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,To.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X5.get())};e()}}To.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="pendingRedirect",Sd=new Map;class Z5 extends $k{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Sd.get(this.auth._key());if(!e){try{const r=await eG(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Sd.set(this.auth._key(),e)}return this.bypassAuthState||Sd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eG(t,e){const n=rG(e),r=nG(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function tG(t,e){Sd.set(t._key(),e)}function nG(t){return Br(t._redirectPersistence)}function rG(t){return Ed(J5,t.config.apiKey,t.name)}async function sG(t,e,n=!1){const r=Ji(t),s=G5(r,e),o=await new Z5(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iG=10*60*1e3;class oG{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aG(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jk(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iG&&this.cachedEventUids.clear(),this.cachedEventUids.has(GT(e))}saveEventToCache(e){this.cachedEventUids.add(GT(e)),this.lastProcessedEventTime=Date.now()}}function GT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aG(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lG(t,e={}){return ii(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cG=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uG=/^https?/;async function dG(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lG(t);for(const n of e)try{if(hG(n))return}catch{}ar(t,"unauthorized-domain")}function hG(t){const e=B_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!uG.test(n))return!1;if(cG.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fG=new nu(3e4,6e4);function KT(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function pG(t){return new Promise((e,n)=>{var r,s,i;function o(){KT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KT(),n(Sr(t,"network-request-failed"))},timeout:fG.get()})}if(!((s=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=wr().gapi)===null||i===void 0)&&i.load)o();else{const a=r5("iframefcb");return wr()[a]=()=>{gapi.load?o():n(Sr(t,"network-request-failed"))},Ik(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wd=null,e})}let wd=null;function mG(t){return wd=wd||pG(t),wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gG=new nu(5e3,15e3),_G="__/auth/iframe",vG="emulator/auth/iframe",yG={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EG=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SG(t){const e=t.config;ce(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?qE(e,vG):`https://${t.config.authDomain}/${_G}`,r={apiKey:e.apiKey,appName:t.name,v:ei},s=EG.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${va(r).slice(1)}`}async function wG(t){const e=await mG(t),n=wr().gapi;return ce(n,t,"internal-error"),e.open({where:document.body,url:SG(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yG,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Sr(t,"network-request-failed"),a=wr().setTimeout(()=>{i(o)},gG.get());function l(){wr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TG={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IG=500,CG=600,RG="_blank",AG="http://localhost";class QT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function NG(t,e,n,r=IG,s=CG){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},TG),{width:r.toString(),height:s.toString(),top:i,left:o}),c=tn().toLowerCase();n&&(a=_k(c)?RG:n),gk(c)&&(e=e||AG,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(Kq(c)&&a!=="_self")return xG(e||"",a),new QT(null);const d=window.open(e||"",a,u);ce(d,t,"popup-blocked");try{d.focus()}catch{}return new QT(d)}function xG(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bG="__/auth/handler",kG="emulator/auth/handler",PG=encodeURIComponent("fac");async function YT(t,e,n,r,s,i){ce(t.config.authDomain,t,"auth-domain-config-required"),ce(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ei,eventId:s};if(e instanceof Rk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Jg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(i||{}))o[u]=d}if(e instanceof su){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${PG}=${encodeURIComponent(l)}`:"";return`${LG(t)}?${va(a).slice(1)}${c}`}function LG({config:t}){return t.emulator?qE(t,kG):`https://${t.authDomain}/${bG}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dm="webStorageSupport";class OG{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=XE,this._completeRedirectFn=sG,this._overrideRedirectResult=tG}async _openPopup(e,n,r,s){var i;ss((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await YT(e,n,r,B_(),s);return NG(e,o,JE())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await YT(e,n,r,B_(),s);return V5(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(ss(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wG(e),r=new oG(e);return n.register("authEvent",s=>(ce(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Dm,{type:Dm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Dm];o!==void 0&&n(!!o),ar(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=dG(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return wk()||KE()||cp()}}const DG=OG;var XT="@firebase/auth",JT="1.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VG(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function $G(t){zs(new Jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tk(t)},c=new t5(r,s,i,l);return c5(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),zs(new Jr("auth-internal",e=>{const n=Ji(e.getProvider("auth").getImmediate());return(r=>new MG(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fn(XT,JT,VG(t)),Fn(XT,JT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jG=5*60,FG=vA("authIdTokenMaxAge")||jG;let ZT=null;const UG=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FG)return;const s=n==null?void 0:n.token;ZT!==s&&(ZT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ou(t=vy()){const e=Nf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=l5(t,{popupRedirectResolver:DG,persistence:[q5,O5,XE]}),r=vA("authTokenSyncURL");if(r){const i=UG(r);x5(n,i,()=>i(n.currentUser)),N5(n,o=>i(o))}const s=mA("auth");return s&&u5(n,`http://${s}`),n}$G("Browser");const Fk=hy({key:"textState",default:"2312312"}),Uk=hy({key:"sss",default:{a:1,b:2}}),Bk=hy({key:"atomStore",default:{state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"],todos:"fdsssssss",saying:"sssssssss",count:0}}}),at={state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"],todos:"fdsssssss",saying:"sssssssss",count:0},authState:()=>{const t=ou();bk(t,n=>{if(n){e(n),sessionStorage.setItem("user",JSON.stringify(n));return}sessionStorage.removeItem("user"),at.state.userInfo={},at.state.userInfo.stat=!1,console.log("logout  ",at.state.userInfo),console.table(at.state.userInfo)});const e=async n=>{const r=uE(lp,"member",n.uid);try{const s=await Kx(r);at.state.userInfo.stat=!0,at.state.userInfo.email=s.data().email,at.state.userInfo.avatar=s.data().avatar,at.state.userInfo.nick=s.data().nick,at.state.userInfo.uid=n.uid,at.state.userInfo.liked=s.data().liked||[],console.table(at.state.userInfo)}catch(s){console.log(s)}}}};at.authState();window.store=at;function Ja({prop:t}){console.log(t.headerType+"===================================");let e=lr();const n=xn(),r=bn();n.pathname,console.log(e,n),C.useEffect(()=>()=>{});const s=()=>{ee.confirm("   ?",{ycb:function(){console.log(" "),window.location.href="https://kimkee.github.io/vue"},ncb:function(){console.log(" ")},ybt:"!",nbt:"!"})};return h.jsx("header",{className:`header ${t.headerType}`,children:h.jsxs("div",{className:"inr",children:[h.jsxs("div",{className:"ldt",children:[t.headerType=="main"?h.jsxs("h1",{className:"logo",children:[" ",h.jsx(gt,{to:"/home/",className:"btlogo",children:h.jsx("i",{className:"fa-brands fa-vuejs"})})]}):h.jsxs("button",{type:"button",className:"bt back",onClick:()=>r(-1),children:[h.jsx("i",{className:"fa-regular fa-arrow-left"}),""]}),e.id?h.jsx("h3",{className:"htit",children:at.state.userInfo.nick}):null]}),h.jsx("div",{className:"rdt",children:h.jsxs("button",{type:"button",onClick:s,className:"bt gnb",children:[h.jsx("i",{className:"fa-regular fa-bars"}),h.jsx("b",{children:""})]})})]})})}function BG(){const t=xn();console.log(t);const e=c=>t.pathname.includes(`${c}`)?"active":"",n=()=>{var u,d;const c=ee.viewport.scrollTop();ee.lock.stat||(c>50?(u=document.querySelector(".floatnav"))==null||u.classList.add("on-top"):(d=document.querySelector(".floatnav"))==null||d.classList.remove("on-top"))},r=()=>{ee.scrollTo("body",0,200)},s=ou(),[i,o]=C.useState(null),[a,l]=C.useState({});return C.useEffect(()=>{window.addEventListener("scroll",n);const c=bk(s,u=>{u?(o(u),l({uid:u.uid})):(o(null),l({}))});return()=>{c(),window.removeEventListener("scroll",n)}},[a.id]),h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"floatnav",children:h.jsxs("button",{type:"button",className:"bt top",onClick:r,children:[h.jsx("i",{className:"fa-solid fa-arrow-up"}),h.jsx("em",{children:""})]})}),h.jsx("nav",{id:"menubar",className:"menubar",children:h.jsx("div",{className:"inr",children:h.jsxs("ul",{className:"menu",children:[h.jsx("li",{className:e("home"),children:h.jsxs(dr,{to:"./home/",className:"bt",children:[h.jsx("i",{className:"fa-regular fa-house"}),h.jsx("em",{children:"Home"})]})}),h.jsx("li",{className:e("list/movie/0"),children:h.jsxs(dr,{to:"./list/movie/0/",className:"bt",children:[h.jsx("i",{className:"fa-regular fa-clapperboard-play"}),h.jsx("em",{children:"Movie"})]})}),h.jsx("li",{className:e("list/tv/0"),children:h.jsxs(dr,{to:"./list/tv/0/",className:"bt",children:[h.jsx("i",{className:"fa-regular fa-tv-retro"}),h.jsx("em",{children:"TV"})]})}),h.jsx("li",{className:e("search/movie"),children:h.jsxs(dr,{to:"./search/movie/",className:"bt",children:[h.jsx("i",{className:"fa-regular fa-search"}),h.jsx("em",{children:"Search"})]})}),h.jsxs("li",{className:e("user/"),children:[(at.state.userInfo.stat||a.uid)&&h.jsxs(dr,{to:`./user/${a.uid}`,className:"bt",children:[" ",h.jsx("i",{className:"fa-regular fa-user"}),h.jsx("em",{children:"Mypage"})]}),!a.uid&&h.jsxs(dr,{to:"./user/signin",className:"bt",children:[h.jsx("i",{className:"fa-regular fa-user"}),h.jsx("em",{children:"Login"})]})]})]})})})]})}function zk(t,e){return function(){return t.apply(e,arguments)}}const{toString:zG}=Object.prototype,{getPrototypeOf:e0}=Object,hp=(t=>e=>{const n=zG.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),xr=t=>(t=t.toLowerCase(),e=>hp(e)===t),fp=t=>e=>typeof e===t,{isArray:ba}=Array,Ec=fp("undefined");function HG(t){return t!==null&&!Ec(t)&&t.constructor!==null&&!Ec(t.constructor)&&Un(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Hk=xr("ArrayBuffer");function WG(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Hk(t.buffer),e}const qG=fp("string"),Un=fp("function"),Wk=fp("number"),pp=t=>t!==null&&typeof t=="object",GG=t=>t===!0||t===!1,Td=t=>{if(hp(t)!=="object")return!1;const e=e0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},KG=xr("Date"),QG=xr("File"),YG=xr("Blob"),XG=xr("FileList"),JG=t=>pp(t)&&Un(t.pipe),ZG=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Un(t.append)&&((e=hp(t))==="formdata"||e==="object"&&Un(t.toString)&&t.toString()==="[object FormData]"))},e8=xr("URLSearchParams"),t8=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function au(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),ba(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function qk(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const Gk=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Kk=t=>!Ec(t)&&t!==Gk;function H_(){const{caseless:t}=Kk(this)&&this||{},e={},n=(r,s)=>{const i=t&&qk(e,s)||s;Td(e[i])&&Td(r)?e[i]=H_(e[i],r):Td(r)?e[i]=H_({},r):ba(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&au(arguments[r],n);return e}const n8=(t,e,n,{allOwnKeys:r}={})=>(au(e,(s,i)=>{n&&Un(s)?t[i]=zk(s,n):t[i]=s},{allOwnKeys:r}),t),r8=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),s8=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},i8=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&e0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},o8=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},a8=t=>{if(!t)return null;if(ba(t))return t;let e=t.length;if(!Wk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},l8=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&e0(Uint8Array)),c8=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},u8=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},d8=xr("HTMLFormElement"),h8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),eI=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),f8=xr("RegExp"),Qk=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};au(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},p8=t=>{Qk(t,(e,n)=>{if(Un(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Un(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},m8=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return ba(t)?r(t):r(String(t).split(e)),n},g8=()=>{},_8=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Mm="abcdefghijklmnopqrstuvwxyz",tI="0123456789",Yk={DIGIT:tI,ALPHA:Mm,ALPHA_DIGIT:Mm+Mm.toUpperCase()+tI},v8=(t=16,e=Yk.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function y8(t){return!!(t&&Un(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const E8=t=>{const e=new Array(10),n=(r,s)=>{if(pp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=ba(r)?[]:{};return au(r,(o,a)=>{const l=n(o,s+1);!Ec(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},S8=xr("AsyncFunction"),w8=t=>t&&(pp(t)||Un(t))&&Un(t.then)&&Un(t.catch),D={isArray:ba,isArrayBuffer:Hk,isBuffer:HG,isFormData:ZG,isArrayBufferView:WG,isString:qG,isNumber:Wk,isBoolean:GG,isObject:pp,isPlainObject:Td,isUndefined:Ec,isDate:KG,isFile:QG,isBlob:YG,isRegExp:f8,isFunction:Un,isStream:JG,isURLSearchParams:e8,isTypedArray:l8,isFileList:XG,forEach:au,merge:H_,extend:n8,trim:t8,stripBOM:r8,inherits:s8,toFlatObject:i8,kindOf:hp,kindOfTest:xr,endsWith:o8,toArray:a8,forEachEntry:c8,matchAll:u8,isHTMLForm:d8,hasOwnProperty:eI,hasOwnProp:eI,reduceDescriptors:Qk,freezeMethods:p8,toObjectSet:m8,toCamelCase:h8,noop:g8,toFiniteNumber:_8,findKey:qk,global:Gk,isContextDefined:Kk,ALPHABET:Yk,generateString:v8,isSpecCompliantForm:y8,toJSONObject:E8,isAsyncFn:S8,isThenable:w8};function Pe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}D.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Xk=Pe.prototype,Jk={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Jk[t]={value:t}});Object.defineProperties(Pe,Jk);Object.defineProperty(Xk,"isAxiosError",{value:!0});Pe.from=(t,e,n,r,s,i)=>{const o=Object.create(Xk);return D.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Pe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const T8=null;function W_(t){return D.isPlainObject(t)||D.isArray(t)}function Zk(t){return D.endsWith(t,"[]")?t.slice(0,-2):t}function nI(t,e,n){return t?t.concat(e).map(function(s,i){return s=Zk(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function I8(t){return D.isArray(t)&&!t.some(W_)}const C8=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function mp(t,e,n){if(!D.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,E){return!D.isUndefined(E[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(D.isDate(m))return m.toISOString();if(!l&&D.isBlob(m))throw new Pe("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(m)||D.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,E){let _=m;if(m&&!E&&typeof m=="object"){if(D.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(D.isArray(m)&&I8(m)||(D.isFileList(m)||D.endsWith(g,"[]"))&&(_=D.toArray(m)))return g=Zk(g),_.forEach(function(y,S){!(D.isUndefined(y)||y===null)&&e.append(o===!0?nI([g],S,i):o===null?g:g+"[]",c(y))}),!1}return W_(m)?!0:(e.append(nI(E,g,i),c(m)),!1)}const d=[],f=Object.assign(C8,{defaultVisitor:u,convertValue:c,isVisitable:W_});function p(m,g){if(!D.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),D.forEach(m,function(_,v){(!(D.isUndefined(_)||_===null)&&s.call(e,_,D.isString(v)?v.trim():v,g,f))===!0&&p(_,g?g.concat(v):[v])}),d.pop()}}if(!D.isObject(t))throw new TypeError("data must be an object");return p(t),e}function rI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function t0(t,e){this._pairs=[],t&&mp(t,this,e)}const eP=t0.prototype;eP.append=function(e,n){this._pairs.push([e,n])};eP.toString=function(e){const n=e?function(r){return e.call(this,r,rI)}:rI;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function R8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function tP(t,e,n){if(!e)return t;const r=n&&n.encode||R8,s=n&&n.serialize;let i;if(s?i=s(e,n):i=D.isURLSearchParams(e)?e.toString():new t0(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class A8{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(r){r!==null&&e(r)})}}const sI=A8,nP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},N8=typeof URLSearchParams<"u"?URLSearchParams:t0,x8=typeof FormData<"u"?FormData:null,b8=typeof Blob<"u"?Blob:null,k8=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),P8=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),_r={isBrowser:!0,classes:{URLSearchParams:N8,FormData:x8,Blob:b8},isStandardBrowserEnv:k8,isStandardBrowserWebWorkerEnv:P8,protocols:["http","https","file","blob","url","data"]};function L8(t,e){return mp(t,new _r.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return _r.isNode&&D.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function O8(t){return D.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function D8(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function rP(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&D.isArray(s)?s.length:o,l?(D.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!D.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&D.isArray(s[o])&&(s[o]=D8(s[o])),!a)}if(D.isFormData(t)&&D.isFunction(t.entries)){const n={};return D.forEachEntry(t,(r,s)=>{e(O8(r),s,n,0)}),n}return null}const M8={"Content-Type":void 0};function V8(t,e,n){if(D.isString(t))try{return(e||JSON.parse)(t),D.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const gp={transitional:nP,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=D.isObject(e);if(i&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return s&&s?JSON.stringify(rP(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return L8(e,this.formSerializer).toString();if((a=D.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return mp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),V8(e)):e}],transformResponse:[function(e){const n=this.transitional||gp.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&D.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Pe.from(a,Pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:_r.classes.FormData,Blob:_r.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};D.forEach(["delete","get","head"],function(e){gp.headers[e]={}});D.forEach(["post","put","patch"],function(e){gp.headers[e]=D.merge(M8)});const n0=gp,$8=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),j8=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&$8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},iI=Symbol("internals");function Za(t){return t&&String(t).trim().toLowerCase()}function Id(t){return t===!1||t==null?t:D.isArray(t)?t.map(Id):String(t)}function F8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const U8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Vm(t,e,n,r,s){if(D.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!D.isString(e)){if(D.isString(r))return e.indexOf(r)!==-1;if(D.isRegExp(r))return r.test(e)}}function B8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function z8(t,e){const n=D.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class _p{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=Za(l);if(!u)throw new Error("header name must be a non-empty string");const d=D.findKey(s,u);(!d||s[d]===void 0||c===!0||c===void 0&&s[d]!==!1)&&(s[d||l]=Id(a))}const o=(a,l)=>D.forEach(a,(c,u)=>i(c,u,l));return D.isPlainObject(e)||e instanceof this.constructor?o(e,n):D.isString(e)&&(e=e.trim())&&!U8(e)?o(j8(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=Za(e),e){const r=D.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return F8(s);if(D.isFunction(n))return n.call(this,s,r);if(D.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Za(e),e){const r=D.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Vm(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=Za(o),o){const a=D.findKey(r,o);a&&(!n||Vm(r,r[a],a,n))&&(delete r[a],s=!0)}}return D.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Vm(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return D.forEach(this,(s,i)=>{const o=D.findKey(r,i);if(o){n[o]=Id(s),delete n[i];return}const a=e?B8(i):String(i).trim();a!==i&&delete n[i],n[a]=Id(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return D.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&D.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[iI]=this[iI]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Za(o);r[a]||(z8(s,o),r[a]=!0)}return D.isArray(e)?e.forEach(i):i(e),this}}_p.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.freezeMethods(_p.prototype);D.freezeMethods(_p);const Gr=_p;function $m(t,e){const n=this||n0,r=e||n,s=Gr.from(r.headers);let i=r.data;return D.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function sP(t){return!!(t&&t.__CANCEL__)}function lu(t,e,n){Pe.call(this,t??"canceled",Pe.ERR_CANCELED,e,n),this.name="CanceledError"}D.inherits(lu,Pe,{__CANCEL__:!0});function H8(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const W8=_r.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),D.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),D.isString(i)&&l.push("path="+i),D.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function q8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function G8(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function iP(t,e){return t&&!q8(e)?G8(t,e):e}const K8=_r.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=D.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function Q8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Y8(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let d=i,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function oI(t,e){let n=0;const r=Y8(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),c=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const X8=typeof XMLHttpRequest<"u",J8=X8&&function(t){return new Promise(function(n,r){let s=t.data;const i=Gr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}D.isFormData(s)&&(_r.isStandardBrowserEnv||_r.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+m))}const u=iP(t.baseURL,t.url);c.open(t.method.toUpperCase(),tP(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!c)return;const p=Gr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};H8(function(_){n(_),l()},function(_){r(_),l()},g),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(r(new Pe("Request aborted",Pe.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Pe("Network Error",Pe.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||nP;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Pe(m,g.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,t,c)),c=null},_r.isStandardBrowserEnv){const p=(t.withCredentials||K8(u))&&t.xsrfCookieName&&W8.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}s===void 0&&i.setContentType(null),"setRequestHeader"in c&&D.forEach(i.toJSON(),function(m,g){c.setRequestHeader(g,m)}),D.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",oI(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",oI(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{c&&(r(!p||p.type?new lu(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=Q8(u);if(f&&_r.protocols.indexOf(f)===-1){r(new Pe("Unsupported protocol "+f+":",Pe.ERR_BAD_REQUEST,t));return}c.send(s||null)})},Cd={http:T8,xhr:J8};D.forEach(Cd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const Z8={getAdapter:t=>{t=D.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=D.isString(n)?Cd[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new Pe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(D.hasOwnProp(Cd,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!D.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Cd};function jm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lu(null,t)}function aI(t){return jm(t),t.headers=Gr.from(t.headers),t.data=$m.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Z8.getAdapter(t.adapter||n0.adapter)(t).then(function(r){return jm(t),r.data=$m.call(t,t.transformResponse,r),r.headers=Gr.from(r.headers),r},function(r){return sP(r)||(jm(t),r&&r.response&&(r.response.data=$m.call(t,t.transformResponse,r.response),r.response.headers=Gr.from(r.response.headers))),Promise.reject(r)})}const lI=t=>t instanceof Gr?t.toJSON():t;function ca(t,e){e=e||{};const n={};function r(c,u,d){return D.isPlainObject(c)&&D.isPlainObject(u)?D.merge.call({caseless:d},c,u):D.isPlainObject(u)?D.merge({},u):D.isArray(u)?u.slice():u}function s(c,u,d){if(D.isUndefined(u)){if(!D.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function i(c,u){if(!D.isUndefined(u))return r(void 0,u)}function o(c,u){if(D.isUndefined(u)){if(!D.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(lI(c),lI(u),!0)};return D.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||s,f=d(t[u],e[u],u);D.isUndefined(f)&&d!==a||(n[u]=f)}),n}const oP="1.4.0",r0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{r0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const cI={};r0.transitional=function(e,n,r){function s(i,o){return"[Axios v"+oP+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Pe(s(o," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!cI[o]&&(cI[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function eK(t,e,n){if(typeof t!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Pe("option "+i+" must be "+l,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+i,Pe.ERR_BAD_OPTION)}}const q_={assertOptions:eK,validators:r0},us=q_.validators;class $h{constructor(e){this.defaults=e,this.interceptors={request:new sI,response:new sI}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=ca(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&q_.assertOptions(r,{silentJSONParsing:us.transitional(us.boolean),forcedJSONParsing:us.transitional(us.boolean),clarifyTimeoutError:us.transitional(us.boolean)},!1),s!=null&&(D.isFunction(s)?n.paramsSerializer={serialize:s}:q_.assertOptions(s,{encode:us.function,serialize:us.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&D.merge(i.common,i[n.method]),o&&D.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Gr.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,d=0,f;if(!l){const m=[aI.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);d<f;)u=u.then(m[d++],m[d++]);return u}f=a.length;let p=n;for(d=0;d<f;){const m=a[d++],g=a[d++];try{p=m(p)}catch(E){g.call(this,E);break}}try{u=aI.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=c.length;d<f;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=ca(this.defaults,e);const n=iP(e.baseURL,e.url);return tP(n,e.params,e.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(e){$h.prototype[e]=function(n,r){return this.request(ca(r||{},{method:e,url:n,data:(r||{}).data}))}});D.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(ca(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}$h.prototype[e]=n(),$h.prototype[e+"Form"]=n(!0)});const Rd=$h;class s0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new lu(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new s0(function(s){e=s}),cancel:e}}}const tK=s0;function nK(t){return function(n){return t.apply(null,n)}}function rK(t){return D.isObject(t)&&t.isAxiosError===!0}const G_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(G_).forEach(([t,e])=>{G_[e]=t});const sK=G_;function aP(t){const e=new Rd(t),n=zk(Rd.prototype.request,e);return D.extend(n,Rd.prototype,e,{allOwnKeys:!0}),D.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return aP(ca(t,s))},n}const Et=aP(n0);Et.Axios=Rd;Et.CanceledError=lu;Et.CancelToken=tK;Et.isCancel=sP;Et.VERSION=oP;Et.toFormData=mp;Et.AxiosError=Pe;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=nK;Et.isAxiosError=rK;Et.mergeConfig=ca;Et.AxiosHeaders=Gr;Et.formToJSON=t=>rP(D.isHTMLForm(t)?new FormData(t):t);Et.HttpStatusCode=sK;Et.default=Et;const Mt=Et;function uI(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function i0(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:uI(e[n])&&uI(t[n])&&Object.keys(e[n]).length>0&&i0(t[n],e[n])})}const lP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function xt(){const t=typeof document<"u"?document:{};return i0(t,lP),t}const iK={document:lP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Pt(){const t=typeof window<"u"?window:{};return i0(t,iK),t}function oK(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class Is extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),oK(this))}}function cu(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...cu(n)):e.push(n)}),e}function cP(t,e){return Array.prototype.filter.call(t,e)}function aK(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function lK(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let s=0;s<r.length;s+=1)n.push(r[s]);return n}function H(t,e){const n=Pt(),r=xt();let s=[];if(!e&&t instanceof Is)return t;if(!t)return new Is(s);if(typeof t=="string"){const i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let o="div";i.indexOf("<li")===0&&(o="ul"),i.indexOf("<tr")===0&&(o="tbody"),(i.indexOf("<td")===0||i.indexOf("<th")===0)&&(o="tr"),i.indexOf("<tbody")===0&&(o="table"),i.indexOf("<option")===0&&(o="select");const a=r.createElement(o);a.innerHTML=i;for(let l=0;l<a.childNodes.length;l+=1)s.push(a.childNodes[l])}else s=lK(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof Is)return t;s=t}return new Is(aK(s))}H.fn=Is.prototype;function cK(...t){const e=cu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function uK(...t){const e=cu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function dK(...t){const e=cu(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function hK(...t){const e=cu(t.map(n=>n.split(" ")));return cP(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function fK(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function pK(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function mK(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function gK(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function _K(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);function i(c){const u=c.target;if(!u)return;const d=c.target.dom7EventData||[];if(d.indexOf(c)<0&&d.unshift(c),H(u).is(n))r.apply(u,d);else{const f=H(u).parents();for(let p=0;p<f.length;p+=1)H(f[p]).is(n)&&r.apply(f[p],d)}}function o(c){const u=c&&c.target?c.target.dom7EventData||[]:[];u.indexOf(c)<0&&u.unshift(c),r.apply(this,u)}const a=e.split(" ");let l;for(let c=0;c<this.length;c+=1){const u=this[c];if(n)for(l=0;l<a.length;l+=1){const d=a[l];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[d]||(u.dom7LiveListeners[d]=[]),u.dom7LiveListeners[d].push({listener:r,proxyListener:i}),u.addEventListener(d,i,s)}else for(l=0;l<a.length;l+=1){const d=a[l];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[d]||(u.dom7Listeners[d]=[]),u.dom7Listeners[d].push({listener:r,proxyListener:o}),u.addEventListener(d,o,s)}}return this}function vK(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);const i=e.split(" ");for(let o=0;o<i.length;o+=1){const a=i[o];for(let l=0;l<this.length;l+=1){const c=this[l];let u;if(!n&&c.dom7Listeners?u=c.dom7Listeners[a]:n&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[a]),u&&u.length)for(let d=u.length-1;d>=0;d-=1){const f=u[d];r&&f.listener===r||r&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===r?(c.removeEventListener(a,f.proxyListener,s),u.splice(d,1)):r||(c.removeEventListener(a,f.proxyListener,s),u.splice(d,1))}}}return this}function yK(...t){const e=Pt(),n=t[0].split(" "),r=t[1];for(let s=0;s<n.length;s+=1){const i=n[s];for(let o=0;o<this.length;o+=1){const a=this[o];if(e.CustomEvent){const l=new e.CustomEvent(i,{detail:r,bubbles:!0,cancelable:!0});a.dom7EventData=t.filter((c,u)=>u>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function EK(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function SK(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function wK(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function TK(){if(this.length>0){const t=Pt(),e=xt(),n=this[0],r=n.getBoundingClientRect(),s=e.body,i=n.clientTop||s.clientTop||0,o=n.clientLeft||s.clientLeft||0,a=n===t?t.scrollY:n.scrollTop,l=n===t?t.scrollX:n.scrollLeft;return{top:r.top+a-i,left:r.left+l-o}}return null}function IK(){const t=Pt();return this[0]?t.getComputedStyle(this[0],null):{}}function CK(t,e){const n=Pt();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const s in t)this[r].style[s]=t[s];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function RK(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function AK(t){const e=cP(this,t);return H(e)}function NK(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function xK(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function bK(t){const e=Pt(),n=xt(),r=this[0];let s,i;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=H(t),i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof Is){for(s=t.nodeType?[t]:t,i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}return!1}function kK(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function PK(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return H([]);if(t<0){const n=e+t;return n<0?H([]):H([this[n]])}return H([this[t]])}function LK(...t){let e;const n=xt();for(let r=0;r<t.length;r+=1){e=t[r];for(let s=0;s<this.length;s+=1)if(typeof e=="string"){const i=n.createElement("div");for(i.innerHTML=e;i.firstChild;)this[s].appendChild(i.firstChild)}else if(e instanceof Is)for(let i=0;i<e.length;i+=1)this[s].appendChild(e[i]);else this[s].appendChild(e)}return this}function OK(t){const e=xt();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const s=e.createElement("div");for(s.innerHTML=t,r=s.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(s.childNodes[r],this[n].childNodes[0])}else if(t instanceof Is)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function DK(t){return this.length>0?t?this[0].nextElementSibling&&H(this[0].nextElementSibling).is(t)?H([this[0].nextElementSibling]):H([]):this[0].nextElementSibling?H([this[0].nextElementSibling]):H([]):H([])}function MK(t){const e=[];let n=this[0];if(!n)return H([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?H(r).is(t)&&e.push(r):e.push(r),n=r}return H(e)}function VK(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&H(e.previousElementSibling).is(t)?H([e.previousElementSibling]):H([]):e.previousElementSibling?H([e.previousElementSibling]):H([])}return H([])}function $K(t){const e=[];let n=this[0];if(!n)return H([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?H(r).is(t)&&e.push(r):e.push(r),n=r}return H(e)}function jK(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?H(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return H(e)}function FK(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?H(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return H(e)}function UK(t){let e=this;return typeof t>"u"?H([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function BK(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let s=0;s<r.length;s+=1)e.push(r[s])}return H(e)}function zK(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let s=0;s<r.length;s+=1)(!t||H(r[s]).is(t))&&e.push(r[s])}return H(e)}function HK(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const dI={addClass:cK,removeClass:uK,hasClass:hK,toggleClass:dK,attr:fK,removeAttr:pK,transform:mK,transition:gK,on:_K,off:vK,trigger:yK,transitionEnd:EK,outerWidth:SK,outerHeight:wK,styles:IK,offset:TK,css:CK,each:RK,html:NK,text:xK,is:bK,index:kK,eq:PK,append:LK,prepend:OK,next:DK,nextAll:MK,prev:VK,prevAll:$K,parent:jK,parents:FK,closest:UK,find:BK,children:zK,filter:AK,remove:HK};Object.keys(dI).forEach(t=>{Object.defineProperty(H.fn,t,{value:dI[t],writable:!0})});function WK(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function Sc(t,e=0){return setTimeout(t,e)}function wc(){return Date.now()}function qK(t){const e=Pt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function GK(t,e="x"){const n=Pt();let r,s,i;const o=qK(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Ku(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function KK(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Sn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!KK(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,a=i.length;o<a;o+=1){const l=i[o],c=Object.getOwnPropertyDescriptor(s,l);c!==void 0&&c.enumerable&&(Ku(e[l])&&Ku(s[l])?s[l].__swiper__?e[l]=s[l]:Sn(e[l],s[l]):!Ku(e[l])&&Ku(s[l])?(e[l]={},s[l].__swiper__?e[l]=s[l]:Sn(e[l],s[l])):e[l]=s[l])}}}return e}function Qu(t,e,n){t.style.setProperty(e,n)}function uP({swiper:t,targetPosition:e,side:n}){const r=Pt(),s=-t.translate;let i=null,o;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const l=e>s?"next":"prev",c=(d,f)=>l==="next"&&d>=f||l==="prev"&&d<=f,u=()=>{o=new Date().getTime(),i===null&&(i=o);const d=Math.max(Math.min((o-i)/a,1),0),f=.5-Math.cos(d*Math.PI)/2;let p=s+f*(e-s);if(c(p,e)&&(p=e),t.wrapperEl.scrollTo({[n]:p}),c(p,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(u)};u()}let Fm;function QK(){const t=Pt(),e=xt();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const s=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,s)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function dP(){return Fm||(Fm=QK()),Fm}let Um;function YK({userAgent:t}={}){const e=dP(),n=Pt(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const u=s.match(/(iPod)(.*OS\s([\d_]+))?/),d=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=r==="Win32";let p=r==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&p&&e.touch&&m.indexOf(`${o}x${a}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!f&&(i.os="android",i.android=!0),(c||d||u)&&(i.os="ios",i.ios=!0),i}function XK(t={}){return Um||(Um=YK(t)),Um}let Bm;function JK(){const t=Pt();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function ZK(){return Bm||(Bm=JK()),Bm}function e7({swiper:t,on:e,emit:n}){const r=Pt();let s=null,i=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(u=>{i=r.requestAnimationFrame(()=>{const{width:d,height:f}=t;let p=d,m=f;u.forEach(({contentBoxSize:g,contentRect:E,target:_})=>{_&&_!==t.el||(p=E?E.width:(g[0]||g).inlineSize,m=E?E.height:(g[0]||g).blockSize)}),(p!==d||m!==f)&&o()})}),s.observe(t.el))},l=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},c=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",c)}),e("destroy",()=>{l(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",c)})}function t7({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=Pt(),o=(c,u={})=>{const d=i.MutationObserver||i.WebkitMutationObserver,f=new d(p=>{if(p.length===1){r("observerUpdate",p[0]);return}const m=function(){r("observerUpdate",p[0])};i.requestAnimationFrame?i.requestAnimationFrame(m):i.setTimeout(m,0)});f.observe(c,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:typeof u.childList>"u"?!0:u.childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),s.push(f)},a=()=>{if(t.params.observer){if(t.params.observeParents){const c=t.$el.parents();for(let u=0;u<c.length;u+=1)o(c[u])}o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}},l=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}const n7={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(s,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(a=>{a.apply(s,r)})}),e}};function r7(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function s7(){const t=this;function e(T){return t.isHorizontal()?T:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[T]}function n(T,b){return parseFloat(T.getPropertyValue(e(b))||0)}const r=t.params,{$wrapperEl:s,size:i,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&r.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=s.children(`.${t.params.slideClass}`),d=l?t.virtual.slides.length:u.length;let f=[];const p=[],m=[];let g=r.slidesOffsetBefore;typeof g=="function"&&(g=r.slidesOffsetBefore.call(t));let E=r.slidesOffsetAfter;typeof E=="function"&&(E=r.slidesOffsetAfter.call(t));const _=t.snapGrid.length,v=t.slidesGrid.length;let y=r.spaceBetween,S=-g,w=0,N=0;if(typeof i>"u")return;typeof y=="string"&&y.indexOf("%")>=0&&(y=parseFloat(y.replace("%",""))/100*i),t.virtualSize=-y,o?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(Qu(t.wrapperEl,"--swiper-centered-offset-before",""),Qu(t.wrapperEl,"--swiper-centered-offset-after",""));const P=r.grid&&r.grid.rows>1&&t.grid;P&&t.grid.initSlides(d);let O;const J=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(T=>typeof r.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<d;T+=1){O=0;const b=u.eq(T);if(P&&t.grid.updateSlide(T,b,d,e),b.css("display")!=="none"){if(r.slidesPerView==="auto"){J&&(u[T].style[e("width")]="");const R=getComputedStyle(b[0]),k=b[0].style.transform,L=b[0].style.webkitTransform;if(k&&(b[0].style.transform="none"),L&&(b[0].style.webkitTransform="none"),r.roundLengths)O=t.isHorizontal()?b.outerWidth(!0):b.outerHeight(!0);else{const z=n(R,"width"),oe=n(R,"padding-left"),se=n(R,"padding-right"),M=n(R,"margin-left"),W=n(R,"margin-right"),ne=R.getPropertyValue("box-sizing");if(ne&&ne==="border-box")O=z+M+W;else{const{clientWidth:Ie,offsetWidth:x}=b[0];O=z+oe+se+M+W+(x-Ie)}}k&&(b[0].style.transform=k),L&&(b[0].style.webkitTransform=L),r.roundLengths&&(O=Math.floor(O))}else O=(i-(r.slidesPerView-1)*y)/r.slidesPerView,r.roundLengths&&(O=Math.floor(O)),u[T]&&(u[T].style[e("width")]=`${O}px`);u[T]&&(u[T].swiperSlideSize=O),m.push(O),r.centeredSlides?(S=S+O/2+w/2+y,w===0&&T!==0&&(S=S-i/2-y),T===0&&(S=S-i/2-y),Math.abs(S)<1/1e3&&(S=0),r.roundLengths&&(S=Math.floor(S)),N%r.slidesPerGroup===0&&f.push(S),p.push(S)):(r.roundLengths&&(S=Math.floor(S)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&f.push(S),p.push(S),S=S+O+y),t.virtualSize+=O+y,w=O,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+E,o&&a&&(r.effect==="slide"||r.effect==="coverflow")&&s.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&s.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),P&&t.grid.updateWrapperSize(O,f,e),!r.centeredSlides){const T=[];for(let b=0;b<f.length;b+=1){let R=f[b];r.roundLengths&&(R=Math.floor(R)),f[b]<=t.virtualSize-i&&T.push(R)}f=T,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(f.length===0&&(f=[0]),r.spaceBetween!==0){const T=t.isHorizontal()&&o?"marginLeft":e("marginRight");u.filter((b,R)=>r.cssMode?R!==u.length-1:!0).css({[T]:`${y}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let T=0;m.forEach(R=>{T+=R+(r.spaceBetween?r.spaceBetween:0)}),T-=r.spaceBetween;const b=T-i;f=f.map(R=>R<0?-g:R>b?b+E:R)}if(r.centerInsufficientSlides){let T=0;if(m.forEach(b=>{T+=b+(r.spaceBetween?r.spaceBetween:0)}),T-=r.spaceBetween,T<i){const b=(i-T)/2;f.forEach((R,k)=>{f[k]=R-b}),p.forEach((R,k)=>{p[k]=R+b})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:m}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){Qu(t.wrapperEl,"--swiper-centered-offset-before",`${-f[0]}px`),Qu(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const T=-t.snapGrid[0],b=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(R=>R+T),t.slidesGrid=t.slidesGrid.map(R=>R+b)}if(d!==c&&t.emit("slidesLengthChange"),f.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==v&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const T=`${r.containerModifierClass}backface-hidden`,b=t.$el.hasClass(T);d<=r.maxBackfaceHiddenSlides?b||t.$el.addClass(T):b&&t.$el.removeClass(T)}}function i7(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||H([])).each(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&e.$wrapperEl.css("height",`${s}px`)}function o7(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function a7(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<r.length;a+=1){const l=r[a];let c=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const u=(o+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),d=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),f=-(o-c),p=f+e.slidesSizesGrid[a];(f>=0&&f<e.size-1||p>1&&p<=e.size||f<=0&&p>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass)),l.progress=s?-u:u,l.originalProgress=s?-d:d}e.visibleSlides=H(e.visibleSlides)}function l7(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o}=e;const a=i,l=o;r===0?(s=0,i=!0,o=!0):(s=(t-e.minTranslate())/r,i=s<=0,o=s>=1),Object.assign(e,{progress:s,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!a&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(a&&!i||l&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function c7(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:s,realIndex:i}=t,o=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let a;o?a=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${s}"]`):a=e.eq(s),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass));let l=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&l.length===0&&(l=e.eq(0),l.addClass(n.slideNextClass));let c=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&c.length===0&&(c=e.eq(-1),c.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function u7(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:s,params:i,activeIndex:o,realIndex:a,snapIndex:l}=e;let c=t,u;if(typeof c>"u"){for(let f=0;f<r.length;f+=1)typeof r[f+1]<"u"?n>=r[f]&&n<r[f+1]-(r[f+1]-r[f])/2?c=f:n>=r[f]&&n<r[f+1]&&(c=f+1):n>=r[f]&&(c=f);i.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0)}if(s.indexOf(n)>=0)u=s.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,c);u=f+Math.floor((c-f)/i.slidesPerGroup)}if(u>=s.length&&(u=s.length-1),c===o){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}const d=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(e,{snapIndex:u,realIndex:d,previousIndex:o,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==d&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function d7(t){const e=this,n=e.params,r=H(t).closest(`.${n.slideClass}`)[0];let s=!1,i;if(r){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===r){s=!0,i=o;break}}if(r&&s)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(H(r).attr("data-swiper-slide-index"),10):e.clickedIndex=i;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const h7={updateSize:r7,updateSlides:s7,updateAutoHeight:i7,updateSlidesOffset:o7,updateSlidesProgress:a7,updateProgress:l7,updateSlidesClasses:c7,updateActiveIndex:u7,updateClickedSlide:d7};function f7(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,$wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=GK(i[0],t);return r&&(o=-o),o||0}function p7(t,e){const n=this,{rtlTranslate:r,params:s,$wrapperEl:i,wrapperEl:o,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||i.transform(`translate3d(${l}px, ${c}px, ${u}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c;let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function m7(){return-this.snapGrid[0]}function g7(){return-this.snapGrid[this.snapGrid.length-1]}function _7(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let u;if(r&&t>l?u=l:r&&t<c?u=c:u=t,i.updateProgress(u),o.cssMode){const d=i.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return uP({swiper:i,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}const v7={getTranslate:f7,setTranslate:p7,minTranslate:m7,maxTranslate:g7,translateTo:_7};function y7(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function hP({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let o=n;if(o||(s>i?o="next":s<i?o="prev":o="reset"),t.emit(`transition${r}`),e&&s!==i){if(o==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function E7(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),hP({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function S7(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),hP({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const w7={setTransition:y7,transitionStart:E7,transitionEnd:S7};function T7(t=0,e=this.params.speed,n=!0,r,s){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const y=parseInt(t,10);if(!isFinite(y))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=y}const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:f,wrapperEl:p,enabled:m}=i;if(i.animating&&a.preventInteractionOnTransition||!m&&!r&&!s)return!1;const g=Math.min(i.params.slidesPerGroupSkip,o);let E=g+Math.floor((o-g)/i.params.slidesPerGroup);E>=l.length&&(E=l.length-1);const _=-l[E];if(a.normalizeSlideIndex)for(let y=0;y<c.length;y+=1){const S=-Math.floor(_*100),w=Math.floor(c[y]*100),N=Math.floor(c[y+1]*100);typeof c[y+1]<"u"?S>=w&&S<N-(N-w)/2?o=y:S>=w&&S<N&&(o=y+1):S>=w&&(o=y)}if(i.initialized&&o!==d&&(!i.allowSlideNext&&_<i.translate&&_<i.minTranslate()||!i.allowSlidePrev&&_>i.translate&&_>i.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(_);let v;if(o>d?v="next":o<d?v="prev":v="reset",f&&-_===i.translate||!f&&_===i.translate)return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(_),v!=="reset"&&(i.transitionStart(n,v),i.transitionEnd(n,v)),!1;if(a.cssMode){const y=i.isHorizontal(),S=f?_:-_;if(e===0){const w=i.virtual&&i.params.virtual.enabled;w&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),p[y?"scrollLeft":"scrollTop"]=S,w&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._swiperImmediateVirtual=!1})}else{if(!i.support.smoothScroll)return uP({swiper:i,targetPosition:S,side:y?"left":"top"}),!0;p.scrollTo({[y?"left":"top"]:S,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(_),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,v),e===0?i.transitionEnd(n,v):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(S){!i||i.destroyed||S.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,v))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd)),!0}function I7(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const o=parseInt(t,10);if(!isFinite(o))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=o}const s=this;let i=t;return s.params.loop&&(i+=s.loopedSlides),s.slideTo(i,e,n,r)}function C7(t=this.params.speed,e=!0,n){const r=this,{animating:s,enabled:i,params:o}=r;if(!i)return r;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(s&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function R7(t=this.params.speed,e=!0,n){const r=this,{params:s,animating:i,snapGrid:o,slidesGrid:a,rtlTranslate:l,enabled:c}=r;if(!c)return r;if(s.loop){if(i&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const u=l?r.translate:-r.translate;function d(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const f=d(u),p=o.map(E=>d(E));let m=o[p.indexOf(f)-1];if(typeof m>"u"&&s.cssMode){let E;o.forEach((_,v)=>{f>=_&&(E=v)}),typeof E<"u"&&(m=o[E>0?E-1:E])}let g=0;if(typeof m<"u"&&(g=a.indexOf(m),g<0&&(g=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,t,e,n)}return r.slideTo(g,t,e,n)}function A7(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function N7(t=this.params.speed,e=!0,n,r=.5){const s=this;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],u=s.snapGrid[a+1];l-c>(u-c)*r&&(i+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],u=s.snapGrid[a];l-c<=(u-c)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function x7(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;if(e.loop){if(t.animating)return;i=parseInt(H(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Sc(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),Sc(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}const b7={slideTo:T7,slideToLoop:I7,slideNext:C7,slidePrev:R7,slideReset:A7,slideToClosest:N7,slideToClickedSlide:x7};function k7(){const t=this,e=xt(),{params:n,$wrapperEl:r}=t,s=r.children().length>0?H(r.children()[0].parentNode):r;s.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let i=s.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-i.length%n.slidesPerGroup;if(l!==n.slidesPerGroup){for(let c=0;c<l;c+=1){const u=H(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);s.append(u)}i=s.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>i.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=i.length);const o=[],a=[];i.each((l,c)=>{H(l).attr("data-swiper-slide-index",c)});for(let l=0;l<t.loopedSlides;l+=1){const c=l-Math.floor(l/i.length)*i.length;a.push(i.eq(c)[0]),o.unshift(i.eq(i.length-c-1)[0])}for(let l=0;l<a.length;l+=1)s.append(H(a[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let l=o.length-1;l>=0;l-=1)s.prepend(H(o[l].cloneNode(!0)).addClass(n.slideDuplicateClass))}function P7(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:s,allowSlideNext:i,snapGrid:o,rtlTranslate:a}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const u=-o[e]-t.getTranslate();e<r?(l=n.length-r*3+e,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)):e>=n.length-r&&(l=-n.length+e+r,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)),t.allowSlidePrev=s,t.allowSlideNext=i,t.emit("loopFix")}function L7(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const O7={loopCreate:k7,loopFix:P7,loopDestroy:L7};function D7(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function M7(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const V7={setGrabCursor:D7,unsetGrabCursor:M7};function $7(t,e=this){function n(r){if(!r||r===xt()||r===Pt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function j7(t){const e=this,n=xt(),r=Pt(),s=e.touchEventsData,{params:i,touches:o,enabled:a}=e;if(!a||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let c=H(l.target);if(i.touchEventsTarget==="wrapper"&&!c.closest(e.wrapperEl).length||(s.isTouchEvent=l.type==="touchstart",!s.isTouchEvent&&"which"in l&&l.which===3)||!s.isTouchEvent&&"button"in l&&l.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",d=t.composedPath?t.composedPath():t.path;u&&l.target&&l.target.shadowRoot&&d&&(c=H(d[0]));const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(i.noSwiping&&(p?$7(f,c[0]):c.closest(f)[0])){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler)[0])return;o.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,o.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const m=o.currentX,g=o.currentY,E=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,_=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(E&&(m<=_||m>=r.innerWidth-_))if(E==="prevent")t.preventDefault();else return;if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,s.touchStartTime=wc(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1),l.type!=="touchstart"){let v=!0;c.is(s.focusableElements)&&(v=!1,c[0].nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&H(n.activeElement).is(s.focusableElements)&&n.activeElement!==c[0]&&n.activeElement.blur();const y=v&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||y)&&!c[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function F7(t){const e=xt(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}if(r.isTouchEvent&&l.type!=="touchmove")return;const c=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u=l.type==="touchmove"?c.pageX:l.pageX,d=l.type==="touchmove"?c.pageY:l.pageY;if(l.preventedByNestedSwiper){i.startX=u,i.startY=d;return}if(!n.allowTouchMove){H(l.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:d,currentX:u,currentY:d}),r.touchStartTime=wc());return}if(r.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(d<i.startY&&n.translate<=n.maxTranslate()||d>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&H(l.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;i.currentX=u,i.currentY=d;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let _;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(_=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?_>s.touchAngle:90-_>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),r.isMoved||(s.loop&&!s.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let m=n.isHorizontal()?f:p;i.diff=m,m*=s.touchRatio,o&&(m=-m),n.swipeDirection=m>0?"prev":"next",r.currentTranslate=m+r.startTranslate;let g=!0,E=s.resistanceRatio;if(s.touchReleaseOnEdges&&(E=0),m>0&&r.currentTranslate>n.minTranslate()?(g=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+m)**E)):m<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-m)**E)),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(m)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function U7(t){const e=this,n=e.touchEventsData,{params:r,touches:s,rtlTranslate:i,slidesGrid:o,enabled:a}=e;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=wc(),u=c-n.touchStartTime;if(e.allowClick){const v=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(v&&v[0]||l.target),e.emit("tap click",l),u<300&&c-n.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(n.lastClickTime=wc(),Sc(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let d;if(r.followFinger?d=i?e.translate:-e.translate:d=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:d});return}let f=0,p=e.slidesSizesGrid[0];for(let v=0;v<o.length;v+=v<r.slidesPerGroupSkip?1:r.slidesPerGroup){const y=v<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof o[v+y]<"u"?d>=o[v]&&d<o[v+y]&&(f=v,p=o[v+y]-o[v]):d>=o[v]&&(f=v,p=o[o.length-1]-o[o.length-2])}let m=null,g=null;r.rewind&&(e.isBeginning?g=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const E=(d-o[f])/p,_=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?m:f+_):e.slideTo(f)),e.swipeDirection==="prev"&&(E>1-r.longSwipesRatio?e.slideTo(f+_):g!==null&&E<0&&Math.abs(E)>r.longSwipesRatio?e.slideTo(g):e.slideTo(f))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(f+_):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:f+_),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:f))}}function hI(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function B7(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function z7(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let fI=!1;function H7(){}const fP=(t,e)=>{const n=xt(),{params:r,touchEvents:s,el:i,wrapperEl:o,device:a,support:l}=t,c=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",d=e;if(!l.touch)i[u](s.start,t.onTouchStart,!1),n[u](s.move,t.onTouchMove,c),n[u](s.end,t.onTouchEnd,!1);else{const f=s.start==="touchstart"&&l.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;i[u](s.start,t.onTouchStart,f),i[u](s.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),i[u](s.end,t.onTouchEnd,f),s.cancel&&i[u](s.cancel,t.onTouchEnd,f)}(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&o[u]("scroll",t.onScroll),r.updateOnWindowResize?t[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",hI,!0):t[d]("observerUpdate",hI,!0)};function W7(){const t=this,e=xt(),{params:n,support:r}=t;t.onTouchStart=j7.bind(t),t.onTouchMove=F7.bind(t),t.onTouchEnd=U7.bind(t),n.cssMode&&(t.onScroll=z7.bind(t)),t.onClick=B7.bind(t),r.touch&&!fI&&(e.addEventListener("touchstart",H7),fI=!0),fP(t,"on")}function q7(){fP(this,"off")}const G7={attachEvents:W7,detachEvents:q7},pI=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function K7(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:s,$el:i}=t,o=s.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in o?o[a]:void 0)||t.originalParams,u=pI(t,s),d=pI(t,c),f=s.enabled;u&&!d?(i.removeClass(`${s.containerModifierClass}grid ${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&d&&(i.addClass(`${s.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&s.grid.fill==="column")&&i.addClass(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{const _=s[E]&&s[E].enabled,v=c[E]&&c[E].enabled;_&&!v&&t[E].disable(),!_&&v&&t[E].enable()});const p=c.direction&&c.direction!==s.direction,m=s.loop&&(c.slidesPerView!==s.slidesPerView||p);p&&n&&t.changeDirection(),Sn(t.params,c);const g=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!g?t.disable():!f&&g&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),m&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",c)}function Q7(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=Pt(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}const Y7={setBreakpoint:K7,getBreakpoint:Q7};function X7(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function J7(){const t=this,{classNames:e,params:n,rtl:r,$el:s,device:i,support:o}=t,a=X7(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.addClass([...e].join(" ")),t.emitContainerClasses()}function Z7(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const eQ={addClasses:J7,removeClasses:Z7};function tQ(t,e,n,r,s,i){const o=Pt();let a;function l(){i&&i()}!H(t).parent("picture")[0]&&(!t.complete||!s)&&e?(a=new o.Image,a.onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):l()}function nQ(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const rQ={loadImage:tQ,preloadImages:nQ};function sQ(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const iQ={checkOverflow:sQ},mI={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function oQ(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Sn(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&t[s]===!0&&(t[s]={auto:!0}),!(s in t&&"enabled"in i)){Sn(e,r);return}t[s]===!0&&(t[s]={enabled:!0}),typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Sn(e,r)}}const zm={eventsEmitter:n7,update:h7,translate:v7,transition:w7,slide:b7,loop:O7,grabCursor:V7,events:G7,breakpoints:Y7,checkOverflow:iQ,classes:eQ,images:rQ},Hm={};let ua=class Lr{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Sn({},r),n&&!r.el&&(r.el=n),r.el&&H(r.el).length>1){const a=[];return H(r.el).each(l=>{const c=Sn({},r,{el:l});a.push(new Lr(c))}),a}const s=this;s.__swiper__=!0,s.support=dP(),s.device=XK({userAgent:r.userAgent}),s.browser=ZK(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const i={};s.modules.forEach(a=>{a({swiper:s,extendParams:oQ(r,i),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const o=Sn({},mI,i);return s.params=Sn({},o,Hm,r),s.originalParams=Sn({},s.params),s.passedParams=Sn({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(a=>{s.on(a,s.params.on[a])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=H,Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:H(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const l=["touchstart","touchmove","touchend","touchcancel"],c=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},s.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:wc(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(s.centeredSlides){let d=i[c].swiperSlideSize,f;for(let p=c+1;p<i.length;p+=1)i[p]&&!f&&(d+=i[p].swiperSlideSize,u+=1,d>l&&(f=!0));for(let p=c-1;p>=0;p-=1)i[p]&&!f&&(d+=i[p].swiperSlideSize,u+=1,d>l&&(f=!0))}else if(e==="current")for(let d=c+1;d<i.length;d+=1)(n?o[d]+a[d]-o[c]<l:o[d]-o[c]<l)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;e.params.freeMode&&e.params.freeMode.enabled?(s(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?i=e.slideTo(e.slides.length-1,0,!1,!0):i=e.slideTo(e.activeIndex,0,!1,!0),i||s()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${s}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=H(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const a=H(e.shadowRoot.querySelector(s()));return a.children=l=>r.children(l),a}return r.children?r.children(s()):H(r).children(s())})();if(o.length===0&&n.params.createElements){const l=xt().createElement("div");o=H(l),l.className=n.params.wrapperClass,r.append(l),r.children(`.${n.params.slideClass}`).each(c=>{o.append(c)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:o.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:s,$el:i,$wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.$el[0].swiper=null,WK(r)),r.destroyed=!0),null}static extendDefaults(e){Sn(Hm,e)}static get extendedDefaults(){return Hm}static get defaults(){return mI}static installModule(e){Lr.prototype.__modules__||(Lr.prototype.__modules__=[]);const n=Lr.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Lr.installModule(n)),Lr):(Lr.installModule(e),Lr)}};Object.keys(zm).forEach(t=>{Object.keys(zm[t]).forEach(e=>{ua.prototype[e]=zm[t][e]})});ua.use([e7,t7]);function o0(t,e,n,r){const s=xt();return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=t.$el.children(`.${r[i]}`)[0];o||(o=s.createElement("div"),o.className=r[i],t.$el.append(o)),n[i]=o,e[i]=o}}),n}function vp({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function s(p){let m;return p&&(m=H(p),t.params.uniqueNavElements&&typeof p=="string"&&m.length>1&&t.$el.find(p).length===1&&(m=t.$el.find(p))),m}function i(p,m){const g=t.params.navigation;p&&p.length>0&&(p[m?"addClass":"removeClass"](g.disabledClass),p[0]&&p[0].tagName==="BUTTON"&&(p[0].disabled=m),t.params.watchOverflow&&t.enabled&&p[t.isLocked?"addClass":"removeClass"](g.lockClass))}function o(){if(t.params.loop)return;const{$nextEl:p,$prevEl:m}=t.navigation;i(m,t.isBeginning&&!t.params.rewind),i(p,t.isEnd&&!t.params.rewind)}function a(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function l(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function c(){const p=t.params.navigation;if(t.params.navigation=o0(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;const m=s(p.nextEl),g=s(p.prevEl);m&&m.length>0&&m.on("click",l),g&&g.length>0&&g.on("click",a),Object.assign(t.navigation,{$nextEl:m,nextEl:m&&m[0],$prevEl:g,prevEl:g&&g[0]}),t.enabled||(m&&m.addClass(p.lockClass),g&&g.addClass(p.lockClass))}function u(){const{$nextEl:p,$prevEl:m}=t.navigation;p&&p.length&&(p.off("click",l),p.removeClass(t.params.navigation.disabledClass)),m&&m.length&&(m.off("click",a),m.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?f():(c(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{u()}),n("enable disable",()=>{const{$nextEl:p,$prevEl:m}=t.navigation;p&&p[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),m&&m[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(p,m)=>{const{$nextEl:g,$prevEl:E}=t.navigation,_=m.target;if(t.params.navigation.hideOnClick&&!H(_).is(E)&&!H(_).is(g)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===_||t.pagination.el.contains(_)))return;let v;g?v=g.hasClass(t.params.navigation.hiddenClass):E&&(v=E.hasClass(t.params.navigation.hiddenClass)),r(v===!0?"navigationShow":"navigationHide"),g&&g.toggleClass(t.params.navigation.hiddenClass),E&&E.toggleClass(t.params.navigation.hiddenClass)}});const d=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),c(),o()},f=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),u()};Object.assign(t.navigation,{enable:d,disable:f,update:o,init:c,destroy:u})}function Mr(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function yp({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let i,o=0;function a(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function l(g,E){const{bulletActiveClass:_}=t.params.pagination;g[E]().addClass(`${_}-${E}`)[E]().addClass(`${_}-${E}-${E}`)}function c(){const g=t.rtl,E=t.params.pagination;if(a())return;const _=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,v=t.pagination.$el;let y;const S=t.params.loop?Math.ceil((_-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(y=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),y>_-1-t.loopedSlides*2&&(y-=_-t.loopedSlides*2),y>S-1&&(y-=S),y<0&&t.params.paginationType!=="bullets"&&(y=S+y)):typeof t.snapIndex<"u"?y=t.snapIndex:y=t.activeIndex||0,E.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const w=t.pagination.bullets;let N,P,O;if(E.dynamicBullets&&(i=w.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),v.css(t.isHorizontal()?"width":"height",`${i*(E.dynamicMainBullets+4)}px`),E.dynamicMainBullets>1&&t.previousIndex!==void 0&&(o+=y-(t.previousIndex-t.loopedSlides||0),o>E.dynamicMainBullets-1?o=E.dynamicMainBullets-1:o<0&&(o=0)),N=Math.max(y-o,0),P=N+(Math.min(w.length,E.dynamicMainBullets)-1),O=(P+N)/2),w.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(J=>`${E.bulletActiveClass}${J}`).join(" ")),v.length>1)w.each(J=>{const T=H(J),b=T.index();b===y&&T.addClass(E.bulletActiveClass),E.dynamicBullets&&(b>=N&&b<=P&&T.addClass(`${E.bulletActiveClass}-main`),b===N&&l(T,"prev"),b===P&&l(T,"next"))});else{const J=w.eq(y),T=J.index();if(J.addClass(E.bulletActiveClass),E.dynamicBullets){const b=w.eq(N),R=w.eq(P);for(let k=N;k<=P;k+=1)w.eq(k).addClass(`${E.bulletActiveClass}-main`);if(t.params.loop)if(T>=w.length){for(let k=E.dynamicMainBullets;k>=0;k-=1)w.eq(w.length-k).addClass(`${E.bulletActiveClass}-main`);w.eq(w.length-E.dynamicMainBullets-1).addClass(`${E.bulletActiveClass}-prev`)}else l(b,"prev"),l(R,"next");else l(b,"prev"),l(R,"next")}}if(E.dynamicBullets){const J=Math.min(w.length,E.dynamicMainBullets+4),T=(i*J-i)/2-O*i,b=g?"right":"left";w.css(t.isHorizontal()?b:"top",`${T}px`)}}if(E.type==="fraction"&&(v.find(Mr(E.currentClass)).text(E.formatFractionCurrent(y+1)),v.find(Mr(E.totalClass)).text(E.formatFractionTotal(S))),E.type==="progressbar"){let w;E.progressbarOpposite?w=t.isHorizontal()?"vertical":"horizontal":w=t.isHorizontal()?"horizontal":"vertical";const N=(y+1)/S;let P=1,O=1;w==="horizontal"?P=N:O=N,v.find(Mr(E.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${P}) scaleY(${O})`).transition(t.params.speed)}E.type==="custom"&&E.renderCustom?(v.html(E.renderCustom(t,y+1,S)),r("paginationRender",v[0])):r("paginationUpdate",v[0]),t.params.watchOverflow&&t.enabled&&v[t.isLocked?"addClass":"removeClass"](E.lockClass)}function u(){const g=t.params.pagination;if(a())return;const E=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,_=t.pagination.$el;let v="";if(g.type==="bullets"){let y=t.params.loop?Math.ceil((E-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&y>E&&(y=E);for(let S=0;S<y;S+=1)g.renderBullet?v+=g.renderBullet.call(t,S,g.bulletClass):v+=`<${g.bulletElement} class="${g.bulletClass}"></${g.bulletElement}>`;_.html(v),t.pagination.bullets=_.find(Mr(g.bulletClass))}g.type==="fraction"&&(g.renderFraction?v=g.renderFraction.call(t,g.currentClass,g.totalClass):v=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`,_.html(v)),g.type==="progressbar"&&(g.renderProgressbar?v=g.renderProgressbar.call(t,g.progressbarFillClass):v=`<span class="${g.progressbarFillClass}"></span>`,_.html(v)),g.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function d(){t.params.pagination=o0(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const g=t.params.pagination;if(!g.el)return;let E=H(g.el);E.length!==0&&(t.params.uniqueNavElements&&typeof g.el=="string"&&E.length>1&&(E=t.$el.find(g.el),E.length>1&&(E=E.filter(_=>H(_).parents(".swiper")[0]===t.el))),g.type==="bullets"&&g.clickable&&E.addClass(g.clickableClass),E.addClass(g.modifierClass+g.type),E.addClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(E.addClass(`${g.modifierClass}${g.type}-dynamic`),o=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&E.addClass(g.progressbarOppositeClass),g.clickable&&E.on("click",Mr(g.bulletClass),function(v){v.preventDefault();let y=H(this).index()*t.params.slidesPerGroup;t.params.loop&&(y+=t.loopedSlides),t.slideTo(y)}),Object.assign(t.pagination,{$el:E,el:E[0]}),t.enabled||E.addClass(g.lockClass))}function f(){const g=t.params.pagination;if(a())return;const E=t.pagination.$el;E.removeClass(g.hiddenClass),E.removeClass(g.modifierClass+g.type),E.removeClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(g.bulletActiveClass),g.clickable&&E.off("click",Mr(g.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?m():(d(),u(),c())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&c()}),n("snapIndexChange",()=>{t.params.loop||c()}),n("slidesLengthChange",()=>{t.params.loop&&(u(),c())}),n("snapGridLengthChange",()=>{t.params.loop||(u(),c())}),n("destroy",()=>{f()}),n("enable disable",()=>{const{$el:g}=t.pagination;g&&g[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{c()}),n("click",(g,E)=>{const _=E.target,{$el:v}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&v&&v.length>0&&!H(_).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&_===t.navigation.nextEl||t.navigation.prevEl&&_===t.navigation.prevEl))return;const y=v.hasClass(t.params.pagination.hiddenClass);r(y===!0?"paginationShow":"paginationHide"),v.toggleClass(t.params.pagination.hiddenClass)}});const p=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),d(),u(),c()},m=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),f()};Object.assign(t.pagination,{enable:p,disable:m,render:u,update:c,init:d,destroy:f})}function Ep({swiper:t,extendParams:e,on:n,emit:r}){const s=xt();let i=!1,o=null,a=null,l,c,u,d;e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:b,rtlTranslate:R,progress:k}=t,{$dragEl:L,$el:z}=b,oe=t.params.scrollbar;let se=c,M=(u-c)*k;R?(M=-M,M>0?(se=c-M,M=0):-M+c>u&&(se=u+M)):M<0?(se=c+M,M=0):M+c>u&&(se=u-M),t.isHorizontal()?(L.transform(`translate3d(${M}px, 0, 0)`),L[0].style.width=`${se}px`):(L.transform(`translate3d(0px, ${M}px, 0)`),L[0].style.height=`${se}px`),oe.hide&&(clearTimeout(o),z[0].style.opacity=1,o=setTimeout(()=>{z[0].style.opacity=0,z.transition(400)},1e3))}function p(b){!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(b)}function m(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:b}=t,{$dragEl:R,$el:k}=b;R[0].style.width="",R[0].style.height="",u=t.isHorizontal()?k[0].offsetWidth:k[0].offsetHeight,d=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?c=u*d:c=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?R[0].style.width=`${c}px`:R[0].style.height=`${c}px`,d>=1?k[0].style.display="none":k[0].style.display="",t.params.scrollbar.hide&&(k[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&b.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function g(b){return t.isHorizontal()?b.type==="touchstart"||b.type==="touchmove"?b.targetTouches[0].clientX:b.clientX:b.type==="touchstart"||b.type==="touchmove"?b.targetTouches[0].clientY:b.clientY}function E(b){const{scrollbar:R,rtlTranslate:k}=t,{$el:L}=R;let z;z=(g(b)-L.offset()[t.isHorizontal()?"left":"top"]-(l!==null?l:c/2))/(u-c),z=Math.max(Math.min(z,1),0),k&&(z=1-z);const oe=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*z;t.updateProgress(oe),t.setTranslate(oe),t.updateActiveIndex(),t.updateSlidesClasses()}function _(b){const R=t.params.scrollbar,{scrollbar:k,$wrapperEl:L}=t,{$el:z,$dragEl:oe}=k;i=!0,l=b.target===oe[0]||b.target===oe?g(b)-b.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,b.preventDefault(),b.stopPropagation(),L.transition(100),oe.transition(100),E(b),clearTimeout(a),z.transition(0),R.hide&&z.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),r("scrollbarDragStart",b)}function v(b){const{scrollbar:R,$wrapperEl:k}=t,{$el:L,$dragEl:z}=R;i&&(b.preventDefault?b.preventDefault():b.returnValue=!1,E(b),k.transition(0),L.transition(0),z.transition(0),r("scrollbarDragMove",b))}function y(b){const R=t.params.scrollbar,{scrollbar:k,$wrapperEl:L}=t,{$el:z}=k;i&&(i=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),L.transition("")),R.hide&&(clearTimeout(a),a=Sc(()=>{z.css("opacity",0),z.transition(400)},1e3)),r("scrollbarDragEnd",b),R.snapOnRelease&&t.slideToClosest())}function S(b){const{scrollbar:R,touchEventsTouch:k,touchEventsDesktop:L,params:z,support:oe}=t,se=R.$el;if(!se)return;const M=se[0],W=oe.passiveListener&&z.passiveListeners?{passive:!1,capture:!1}:!1,ne=oe.passiveListener&&z.passiveListeners?{passive:!0,capture:!1}:!1;if(!M)return;const Ie=b==="on"?"addEventListener":"removeEventListener";oe.touch?(M[Ie](k.start,_,W),M[Ie](k.move,v,W),M[Ie](k.end,y,ne)):(M[Ie](L.start,_,W),s[Ie](L.move,v,W),s[Ie](L.end,y,ne))}function w(){!t.params.scrollbar.el||!t.scrollbar.el||S("on")}function N(){!t.params.scrollbar.el||!t.scrollbar.el||S("off")}function P(){const{scrollbar:b,$el:R}=t;t.params.scrollbar=o0(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const k=t.params.scrollbar;if(!k.el)return;let L=H(k.el);t.params.uniqueNavElements&&typeof k.el=="string"&&L.length>1&&R.find(k.el).length===1&&(L=R.find(k.el)),L.addClass(t.isHorizontal()?k.horizontalClass:k.verticalClass);let z=L.find(`.${t.params.scrollbar.dragClass}`);z.length===0&&(z=H(`<div class="${t.params.scrollbar.dragClass}"></div>`),L.append(z)),Object.assign(b,{$el:L,el:L[0],$dragEl:z,dragEl:z[0]}),k.draggable&&w(),L&&L[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function O(){const b=t.params.scrollbar,R=t.scrollbar.$el;R&&R.removeClass(t.isHorizontal()?b.horizontalClass:b.verticalClass),N()}n("init",()=>{t.params.scrollbar.enabled===!1?T():(P(),m(),f())}),n("update resize observerUpdate lock unlock",()=>{m()}),n("setTranslate",()=>{f()}),n("setTransition",(b,R)=>{p(R)}),n("enable disable",()=>{const{$el:b}=t.scrollbar;b&&b[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),n("destroy",()=>{O()});const J=()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),P(),m(),f()},T=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),O()};Object.assign(t.scrollbar,{enable:J,disable:T,updateSize:m,setTranslate:f,init:P,destroy:O})}function Sp({swiper:t,extendParams:e,on:n}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let r=null;function s(R){const k=r;k.length!==0&&(k.html(""),k.html(R))}function i(R=16){const k=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(R).replace(/x/g,k)}function o(R){R.attr("tabIndex","0")}function a(R){R.attr("tabIndex","-1")}function l(R,k){R.attr("role",k)}function c(R,k){R.attr("aria-roledescription",k)}function u(R,k){R.attr("aria-controls",k)}function d(R,k){R.attr("aria-label",k)}function f(R,k){R.attr("id",k)}function p(R,k){R.attr("aria-live",k)}function m(R){R.attr("aria-disabled",!0)}function g(R){R.attr("aria-disabled",!1)}function E(R){if(R.keyCode!==13&&R.keyCode!==32)return;const k=t.params.a11y,L=H(R.target);t.navigation&&t.navigation.$nextEl&&L.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?s(k.lastSlideMessage):s(k.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&L.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?s(k.firstSlideMessage):s(k.prevSlideMessage)),t.pagination&&L.is(Mr(t.params.pagination.bulletClass))&&L[0].click()}function _(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:R,$prevEl:k}=t.navigation;k&&k.length>0&&(t.isBeginning?(m(k),a(k)):(g(k),o(k))),R&&R.length>0&&(t.isEnd?(m(R),a(R)):(g(R),o(R)))}function v(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function y(){return v()&&t.params.pagination.clickable}function S(){const R=t.params.a11y;v()&&t.pagination.bullets.each(k=>{const L=H(k);t.params.pagination.clickable&&(o(L),t.params.pagination.renderBullet||(l(L,"button"),d(L,R.paginationBulletMessage.replace(/\{\{index\}\}/,L.index()+1)))),L.is(`.${t.params.pagination.bulletActiveClass}`)?L.attr("aria-current","true"):L.removeAttr("aria-current")})}const w=(R,k,L)=>{o(R),R[0].tagName!=="BUTTON"&&(l(R,"button"),R.on("keydown",E)),d(R,L),u(R,k)},N=()=>{t.a11y.clicked=!0},P=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},O=R=>{if(t.a11y.clicked)return;const k=R.target.closest(`.${t.params.slideClass}`);if(!k||!t.slides.includes(k))return;const L=t.slides.indexOf(k)===t.activeIndex,z=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(k);L||z||R.sourceCapabilities&&R.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(k),0))},J=()=>{const R=t.params.a11y;R.itemRoleDescriptionMessage&&c(H(t.slides),R.itemRoleDescriptionMessage),R.slideRole&&l(H(t.slides),R.slideRole);const k=t.params.loop?t.slides.filter(L=>!L.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;R.slideLabelMessage&&t.slides.each((L,z)=>{const oe=H(L),se=t.params.loop?parseInt(oe.attr("data-swiper-slide-index"),10):z,M=R.slideLabelMessage.replace(/\{\{index\}\}/,se+1).replace(/\{\{slidesLength\}\}/,k);d(oe,M)})},T=()=>{const R=t.params.a11y;t.$el.append(r);const k=t.$el;R.containerRoleDescriptionMessage&&c(k,R.containerRoleDescriptionMessage),R.containerMessage&&d(k,R.containerMessage);const L=t.$wrapperEl,z=R.id||L.attr("id")||`swiper-wrapper-${i(16)}`,oe=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";f(L,z),p(L,oe),J();let se,M;t.navigation&&t.navigation.$nextEl&&(se=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(M=t.navigation.$prevEl),se&&se.length&&w(se,z,R.nextSlideMessage),M&&M.length&&w(M,z,R.prevSlideMessage),y()&&t.pagination.$el.on("keydown",Mr(t.params.pagination.bulletClass),E),t.$el.on("focus",O,!0),t.$el.on("pointerdown",N,!0),t.$el.on("pointerup",P,!0)};function b(){r&&r.length>0&&r.remove();let R,k;t.navigation&&t.navigation.$nextEl&&(R=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(k=t.navigation.$prevEl),R&&R.off("keydown",E),k&&k.off("keydown",E),y()&&t.pagination.$el.off("keydown",Mr(t.params.pagination.bulletClass),E),t.$el.off("focus",O,!0),t.$el.off("pointerdown",N,!0),t.$el.off("pointerup",P,!0)}n("beforeInit",()=>{r=H(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),n("afterInit",()=>{t.params.a11y.enabled&&T()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&J()}),n("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&_()}),n("paginationUpdate",()=>{t.params.a11y.enabled&&S()}),n("destroy",()=>{t.params.a11y.enabled&&b()})}function wp({swiper:t,extendParams:e,on:n,emit:r}){let s;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function i(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const g=t.slides.eq(t.activeIndex);let E=t.params.autoplay.delay;g.attr("data-swiper-autoplay")&&(E=g.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(s),s=Sc(()=>{let _;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),_=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?a():(_=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(_=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),_=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?a():(_=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(_=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||_===!1)&&i()},E)}function o(){return typeof s<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),i(),!0)}function a(){return!t.autoplay.running||typeof s>"u"?!1:(s&&(clearTimeout(s),s=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function l(g){t.autoplay.running&&(t.autoplay.paused||(s&&clearTimeout(s),t.autoplay.paused=!0,g===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,i()):["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].addEventListener(E,u)})))}function c(){const g=xt();g.visibilityState==="hidden"&&t.autoplay.running&&l(),g.visibilityState==="visible"&&t.autoplay.paused&&(i(),t.autoplay.paused=!1)}function u(g){!t||t.destroyed||!t.$wrapperEl||g.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].removeEventListener(E,u)}),t.autoplay.paused=!1,t.autoplay.running?i():a())}function d(){t.params.autoplay.disableOnInteraction?a():(r("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach(g=>{t.$wrapperEl[0].removeEventListener(g,u)})}function f(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),i())}function p(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",d),t.$el.on("mouseleave",f))}function m(){t.$el.off("mouseenter",d),t.$el.off("mouseleave",f)}n("init",()=>{t.params.autoplay.enabled&&(o(),xt().addEventListener("visibilitychange",c),p())}),n("beforeTransitionStart",(g,E,_)=>{t.autoplay.running&&(_||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(E):a())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?a():l())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&i()}),n("destroy",()=>{m(),t.autoplay.running&&a(),xt().removeEventListener("visibilitychange",c)}),Object.assign(t.autoplay,{pause:l,run:i,start:o,stop:a})}function aQ(t){const{effect:e,swiper:n,on:r,setTranslate:s,setTransition:i,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;r("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(n.params,d),Object.assign(n.originalParams,d)}),r("setTranslate",()=>{n.params.effect===e&&s()}),r("setTransition",(d,f)=>{n.params.effect===e&&i(f)}),r("transitionEnd",()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.each(d=>{n.$(d).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}});let u;r("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(s(),u=!1)}))})}function lQ(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function cQ({swiper:t,duration:e,transformEl:n,allSlides:r}){const{slides:s,activeIndex:i,$wrapperEl:o}=t;if(t.params.virtualTranslate&&e!==0){let a=!1,l;r?l=n?s.find(n):s:l=n?s.eq(i).find(n):s.eq(i),l.transitionEnd(()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const c=["webkitTransitionEnd","transitionend"];for(let u=0;u<c.length;u+=1)o.trigger(c[u])})}}function pP({swiper:t,extendParams:e,on:n}){e({fadeEffect:{crossFade:!1,transformEl:null}}),aQ({effect:"fade",swiper:t,on:n,setTranslate:()=>{const{slides:i}=t,o=t.params.fadeEffect;for(let a=0;a<i.length;a+=1){const l=t.slides.eq(a);let u=-l[0].swiperSlideOffset;t.params.virtualTranslate||(u-=t.translate);let d=0;t.isHorizontal()||(d=u,u=0);const f=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(l[0].progress),0):1+Math.min(Math.max(l[0].progress,-1),0);lQ(o,l).css({opacity:f}).transform(`translate3d(${u}px, ${d}px, 0px)`)}},setTransition:i=>{const{transformEl:o}=t.params.fadeEffect;(o?t.slides.find(o):t.slides).transition(i),cQ({swiper:t,duration:i,transformEl:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function Fi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Cs(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Fi(e[r])&&Fi(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Cs(t[r],e[r]):t[r]=e[r]})}function mP(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function gP(t={}){return t.pagination&&typeof t.pagination.el>"u"}function _P(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function vP(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const yP=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function uQ(t={},e=!0){const n={on:{}},r={},s={};Cs(n,ua.defaults),Cs(n,ua.extendedDefaults),n._emitClasses=!0,n.init=!1;const i={},o=yP.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?Fi(t[l])?(n[l]={},s[l]={},Cs(n[l],t[l]),Cs(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:i[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:r}}function dQ({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){mP(o)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),gP(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),_P(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}const EP=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const s=ua.prototype.getBreakpoint(e.breakpoints),i=s in e.breakpoints?e.breakpoints[s]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function hQ(t,e,n){const r=e.map((l,c)=>pe.cloneElement(l,{swiper:t,"data-swiper-slide-index":c}));function s(l,c,u){return pe.cloneElement(l,{key:`${l.key}-duplicate-${c}-${u}`,className:`${l.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-r.length%n.slidesPerGroup;if(l!==n.slidesPerGroup)for(let c=0;c<l;c+=1){const u=pe.createElement("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(u)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const i=EP(r,n),o=[],a=[];for(let l=0;l<i;l+=1){const c=l-Math.floor(l/r.length)*r.length;a.push(s(r[c],l,"append")),o.unshift(s(r[r.length-c-1],l,"prepend"))}return t&&(t.loopedSlides=i),[...o,...r,...a]}function fQ(t,e,n,r,s){const i=[];if(!e)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(s),c=n.map(s);l.join("")!==c.join("")&&o("children"),r.length!==n.length&&o("children")}return yP.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Fi(t[l])&&Fi(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),i}function SP(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function wP(t){const e=[];return pe.Children.toArray(t).forEach(n=>{SP(n)?e.push(n):n.props&&n.props.children&&wP(n.props.children).forEach(r=>e.push(r))}),e}function pQ(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return pe.Children.toArray(t).forEach(r=>{if(SP(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=wP(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function mQ({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:a}){const l=r.filter(w=>w!=="children"&&w!=="direction"),{params:c,pagination:u,navigation:d,scrollbar:f,virtual:p,thumbs:m}=t;let g,E,_,v,y;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(g=!0),r.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(E=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(c.pagination||c.pagination===!1)&&u&&!u.el&&(_=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&f&&!f.el&&(v=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&d&&!d.prevEl&&!d.nextEl&&(y=!0);const S=w=>{t[w]&&(t[w].destroy(),w==="navigation"?(c[w].prevEl=void 0,c[w].nextEl=void 0,t[w].prevEl=void 0,t[w].nextEl=void 0):(c[w].el=void 0,t[w].el=void 0))};l.forEach(w=>{if(Fi(c[w])&&Fi(n[w]))Cs(c[w],n[w]);else{const N=n[w];(N===!0||N===!1)&&(w==="navigation"||w==="pagination"||w==="scrollbar")?N===!1&&S(w):c[w]=n[w]}}),l.includes("controller")&&!E&&t.controller&&t.controller.control&&c.controller&&c.controller.control&&(t.controller.control=c.controller.control),r.includes("children")&&e&&p&&c.virtual.enabled?(p.slides=e,p.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),g&&m.init()&&m.update(!0),E&&(t.controller.control=c.controller.control),_&&(a&&(c.pagination.el=a),u.init(),u.render(),u.update()),v&&(o&&(c.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),y&&(s&&(c.navigation.nextEl=s),i&&(c.navigation.prevEl=i),d.init(),d.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function gQ(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((s,i)=>i>=n.from&&i<=n.to).map(s=>pe.cloneElement(s,{swiper:t,style:r}))}const _Q=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Ll(t,e){return typeof window>"u"?C.useEffect(t,e):C.useLayoutEffect(t,e)}const vQ=C.createContext(null),yQ=C.createContext(null);function K_(){return K_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},K_.apply(this,arguments)}const uu=C.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,u]=C.useState("swiper"),[d,f]=C.useState(null),[p,m]=C.useState(!1),g=C.useRef(!1),E=C.useRef(null),_=C.useRef(null),v=C.useRef(null),y=C.useRef(null),S=C.useRef(null),w=C.useRef(null),N=C.useRef(null),P=C.useRef(null),{params:O,passedParams:J,rest:T,events:b}=uQ(a),{slides:R,slots:k}=pQ(i),L=()=>{m(!p)};Object.assign(O.on,{_containerClasses(W,ne){u(ne)}});const z=()=>{if(Object.assign(O.on,b),l=!0,_.current=new ua(O),_.current.loopCreate=()=>{},_.current.loopDestroy=()=>{},O.loop&&(_.current.loopedSlides=EP(R,O)),_.current.virtual&&_.current.params.virtual.enabled){_.current.virtual.slides=R;const W={cache:!1,slides:R,renderExternal:f,renderExternalUpdate:!1};Cs(_.current.params.virtual,W),Cs(_.current.originalParams.virtual,W)}};E.current||z(),_.current&&_.current.on("_beforeBreakpoint",L);const oe=()=>{l||!b||!_.current||Object.keys(b).forEach(W=>{_.current.on(W,b[W])})},se=()=>{!b||!_.current||Object.keys(b).forEach(W=>{_.current.off(W,b[W])})};C.useEffect(()=>()=>{_.current&&_.current.off("_beforeBreakpoint",L)}),C.useEffect(()=>{!g.current&&_.current&&(_.current.emitSlidesClasses(),g.current=!0)}),Ll(()=>{if(e&&(e.current=E.current),!!E.current)return _.current.destroyed&&z(),dQ({el:E.current,nextEl:S.current,prevEl:w.current,paginationEl:N.current,scrollbarEl:P.current,swiper:_.current},O),o&&o(_.current),()=>{_.current&&!_.current.destroyed&&_.current.destroy(!0,!1)}},[]),Ll(()=>{oe();const W=fQ(J,v.current,R,y.current,ne=>ne.key);return v.current=J,y.current=R,W.length&&_.current&&!_.current.destroyed&&mQ({swiper:_.current,slides:R,passedParams:J,changedParams:W,nextEl:S.current,prevEl:w.current,scrollbarEl:P.current,paginationEl:N.current}),()=>{se()}}),Ll(()=>{_Q(_.current)},[d]);function M(){return O.virtual?gQ(_.current,R,d):!O.loop||_.current&&_.current.destroyed?R.map(W=>pe.cloneElement(W,{swiper:_.current})):hQ(_.current,R,O)}return pe.createElement(r,K_({ref:E,className:vP(`${c}${n?` ${n}`:""}`)},T),pe.createElement(yQ.Provider,{value:_.current},k["container-start"],pe.createElement(s,{className:"swiper-wrapper"},k["wrapper-start"],M(),k["wrapper-end"]),mP(O)&&pe.createElement(pe.Fragment,null,pe.createElement("div",{ref:w,className:"swiper-button-prev"}),pe.createElement("div",{ref:S,className:"swiper-button-next"})),_P(O)&&pe.createElement("div",{ref:P,className:"swiper-scrollbar"}),gP(O)&&pe.createElement("div",{ref:N,className:"swiper-pagination"}),k["container-end"]))});uu.displayName="Swiper";function Q_(){return Q_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Q_.apply(this,arguments)}const Fs=C.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,virtualIndex:a,...l}=t===void 0?{}:t;const c=C.useRef(null),[u,d]=C.useState("swiper-slide");function f(g,E,_){E===c.current&&d(_)}Ll(()=>{if(e&&(e.current=c.current),!(!c.current||!i)){if(i.destroyed){u!=="swiper-slide"&&d("swiper-slide");return}return i.on("_slideClass",f),()=>{i&&i.off("_slideClass",f)}}}),Ll(()=>{i&&c.current&&!i.destroyed&&d(i.getSlideClasses(c.current))},[i]);const p={isActive:u.indexOf("swiper-slide-active")>=0||u.indexOf("swiper-slide-duplicate-active")>=0,isVisible:u.indexOf("swiper-slide-visible")>=0,isDuplicate:u.indexOf("swiper-slide-duplicate")>=0,isPrev:u.indexOf("swiper-slide-prev")>=0||u.indexOf("swiper-slide-duplicate-prev")>=0,isNext:u.indexOf("swiper-slide-next")>=0||u.indexOf("swiper-slide-duplicate-next")>=0},m=()=>typeof r=="function"?r(p):r;return pe.createElement(n,Q_({ref:c,className:vP(`${u}${s?` ${s}`:""}`),"data-swiper-slide-index":a},l),pe.createElement(vQ.Provider,{value:p},o?pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},m()):m()))});Fs.displayName="SwiperSlide";function du({point:t}){const[e,n]=C.useState(null),r=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],s=()=>{let i=(Math.round(t*100)/100).toFixed(1)/2,o=0;r.reverse().forEach(a=>i<=a?o=a:null),n(o)};return C.useEffect(()=>{s()},[e]),h.jsxs("em",{className:"ui-star",children:[e===0&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===.5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1.5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2.5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3.5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4.5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp-half"})]}),e===5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"})]})]})}function EQ({opts:t}){console.log(t);let e=Math.floor(Math.random()*3)+1;const[n,r]=C.useState([]),s=c=>{ee.loading.show();const u=`https://api.themoviedb.org/3/${t.opts}/now_playing?language=ko&region=kr&page=${c}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Mt.get(u).then(d=>{var f;console.log(d.data),r(p=>[...p,...d.data.results]),console.log(c+"=== "+d.data.total_pages),ee.loading.hide(),d.data.total_pages<=c&&((f=document.querySelector(".ui-loadmore"))==null||f.classList.add("hide"))}).catch(d=>{var f;console.log(d),ee.loading.hide(),(f=document.querySelector(".ui-loadmore"))==null||f.classList.add("error")})},[i,o]=C.useState(null),a=()=>{i==null||i.slideTo(Math.floor(Math.random()*10),0)};C.useEffect(()=>(s(e),a(),window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}),[]);const l=()=>{const c=parseInt(ee.viewport.scrollTop()/1.8);ee.lock.stat||document.querySelectorAll(".page.home .sect.mnTop .slide ul>li .box .pics").forEach(u=>{u.style.transform="translate3D(0rem , 0"+c+"rem , 0rem)"})};return console.log(11111111111111111e4),h.jsx(h.Fragment,{children:h.jsx("section",{className:"sect mnTop",children:h.jsx("div",{className:"inr",id:"slide",children:h.jsx(uu,{className:"swiper-wrapper swiper slide",modules:[vp,yp,Ep,wp,Sp],spaceBetween:0,slidesPerView:1,loop:!0,effect:"fade",autoplay:{delay:3e3,waitForTransition:!1,pauseOnMouseEnter:!0,disableOnInteraction:!1},wrapperTag:"ul",pagination:{clickable:!0},autoHeight:!1,onSwiper:c=>{console.log("initialize swiper",c),o(c),c.slideTo(Math.floor(Math.random()*10))},onSlideChange:()=>{},children:n==null?void 0:n.filter((c,u)=>u<10).map((c,u)=>{const d="https://image.tmdb.org/t/p/w780"+c.poster_path;return h.jsx(Fs,{tag:"li",className:"swiper-slide pbox",children:h.jsxs(gt,{className:"box",to:`${t.opts}/${c.id}`,children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:`${d}`,alt:"",className:"img",onError:f=>{f.target.src="./img/common/non_poster.png"}})}),h.jsxs("div",{className:"info",children:[h.jsx("div",{className:"star",children:h.jsx(du,{point:c.vote_average})}),h.jsx("div",{className:"tit",children:c.title})]}),h.jsx("div",{className:"screen"})]})},u)})})})})})}function so({opts:t}){const[e,n]=C.useState([]);console.log(t);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=i=>{ee.loading.show(),console.log(" ");const o=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Mt.get(o).then(a=>{var l;console.log(a.data),n(c=>[...c,...a.data.results]),console.log(i+"=== "+a.data.total_pages),ee.loading.hide(),a.data.total_pages<=i&&((l=document.querySelector(".ui-loadmore"))==null||l.classList.add("hide"))}).catch(a=>{var l;console.log(a),ee.loading.hide(),(l=document.querySelector(".ui-loadmore"))==null||l.classList.add("error")})};return C.useEffect(()=>(s(1),()=>{}),[]),h.jsx(h.Fragment,{children:h.jsxs("section",{className:"sect mnList",children:[h.jsxs(gt,{to:`/list/${t.opts}/${t.cate||0}`,className:"hbox",children:[h.jsx("h3",{className:"stit",children:t.title}),h.jsx("span",{className:"more",children:h.jsx("i",{className:"fa-regular fa-chevron-right"})})]}),h.jsx("div",{className:"inr",children:h.jsx("div",{className:"slide",children:h.jsx("ul",{children:e==null?void 0:e.filter((i,o)=>o<20).map((i,o)=>{const a="https://image.tmdb.org/t/p/w154"+i.poster_path;return h.jsx("li",{className:"pbox",children:h.jsxs(gt,{className:"box",to:`${t.opts}/${i.id}`,children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:`${a}`,alt:"",className:"img",onError:l=>{l.target.src="./img/common/non_poster.png"}})}),h.jsx("div",{className:"info"})]})},o)})})})})]})})}function gI({opts:t}){const[e,n]=C.useState([]);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=i=>{ee.loading.show(),console.log(" ");const o=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Mt.get(o).then(a=>{var l;console.log(a.data),n(c=>[...c,...a.data.results]),console.log(i+"=== "+a.data.total_pages),ee.loading.hide(),a.data.total_pages<=i&&((l=document.querySelector(".ui-loadmore"))==null||l.classList.add("hide"))}).catch(a=>{var l;console.log(a),ee.loading.hide(),(l=document.querySelector(".ui-loadmore"))==null||l.classList.add("error")})};return C.useEffect(()=>(s(1),()=>{}),[]),h.jsx(h.Fragment,{children:h.jsxs("section",{className:"sect mnList topic",children:[h.jsx("div",{className:"hbox",children:h.jsx("h3",{className:"stit",children:t.title})}),h.jsx("div",{className:"inr",children:h.jsx("div",{className:"slide",children:h.jsx("ul",{children:e==null?void 0:e.filter((i,o)=>o<20).map((i,o)=>{const a="https://image.tmdb.org/t/p/w154"+i.poster_path;return h.jsx("li",{className:"pbox",children:h.jsxs(gt,{className:"box",to:`${t.opts}/${i.id}`,children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:`${a}`,alt:"",className:"img",onError:l=>{l.target.src="./img/common/non_poster.png"}})}),h.jsx("div",{className:"info",children:h.jsx(du,{point:i.vote_average})})]})},o)})})})})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP="firebasestorage.googleapis.com",SQ="storageBucket",wQ=2*60*1e3,TQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br extends Nr{constructor(e,n,r=0){super(Wm(e),`Firebase Storage: ${n} (${Wm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Wm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ir;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ir||(Ir={}));function Wm(t){return"storage/"+t}function IQ(){const t="An unknown error occurred, please check the error payload for server response.";return new br(Ir.UNKNOWN,t)}function CQ(){return new br(Ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function RQ(){return new br(Ir.CANCELED,"User canceled the upload/download.")}function AQ(t){return new br(Ir.INVALID_URL,"Invalid URL '"+t+"'.")}function NQ(t){return new br(Ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _I(t){return new br(Ir.INVALID_ARGUMENT,t)}function IP(){return new br(Ir.APP_DELETED,"The Firebase app was deleted.")}function xQ(t){return new br(Ir.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=er.makeFromUrl(e,n)}catch{return new er(e,"")}if(r.path==="")return r;throw NQ(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(S){S.path.charAt(S.path.length-1)==="/"&&(S.path_=S.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(S){S.path_=decodeURIComponent(S.path)}const u="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},g=n===TP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",_=new RegExp(`^https?://${g}/${s}/${E}`,"i"),y=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let S=0;S<y.length;S++){const w=y[S],N=w.regex.exec(e);if(N){const P=N[w.indices.bucket];let O=N[w.indices.path];O||(O=""),r=new er(P,O),w.postModify(r);break}}if(r==null)throw AQ(e);return r}}class bQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kQ(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){s=setTimeout(()=>{s=null,t(p,l())},E)}function f(){i&&clearTimeout(i)}function p(E,..._){if(c){f();return}if(E){f(),u.call(null,E,..._);return}if(l()||o){f(),u.call(null,E,..._);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,d(y)}let m=!1;function g(E){m||(m=!0,f(),!c&&(s!==null?(E||(a=2),clearTimeout(s),d(0)):E||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function PQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LQ(t){return t!==void 0}function vI(t,e,n,r){if(r<e)throw _I(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw _I(`Invalid value for '${t}'. Expected ${n} or less.`)}function OQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(jh||(jh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DQ(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MQ{constructor(e,n,r,s,i,o,a,l,c,u,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Yu(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===jh.NO_ERROR,l=i.getStatus();if(!a||DQ(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===jh.ABORT;r(!1,new Yu(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Yu(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());LQ(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=IQ();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?IP():RQ();o(l)}else{const l=CQ();o(l)}};this.canceled_?n(!1,new Yu(!1,null,!0)):this.backoffId_=kQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Yu{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function VQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $Q(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function jQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function FQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function UQ(t,e,n,r,s,i,o=!0){const a=OQ(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return jQ(c,e),VQ(c,n),$Q(c,i),FQ(c,r),new MQ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n){this._service=e,n instanceof er?this._location=n:this._location=er.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Fh(e,n)}get root(){const e=new er(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return zQ(this._location.path)}get storage(){return this._service}get parent(){const e=BQ(this._location.path);if(e===null)return null;const n=new er(this._location.bucket,e);return new Fh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw xQ(e)}}function yI(t,e){const n=e==null?void 0:e[SQ];return n==null?null:er.makeFromBucketSpec(n,t)}class HQ{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=TP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wQ,this._maxUploadRetryTime=TQ,this._requests=new Set,s!=null?this._bucket=er.makeFromBucketSpec(s,this._host):this._bucket=yI(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=er.makeFromBucketSpec(this._url,e):this._bucket=yI(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vI("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vI("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Fh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new bQ(IP());{const o=UQ(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const EI="@firebase/storage",SI="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WQ="storage";function qQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new HQ(n,r,s,e,ei)}function GQ(){zs(new Jr(WQ,qQ,"PUBLIC").setMultipleInstances(!0)),Fn(EI,SI,""),Fn(EI,SI,"esm2017")}GQ();function wI(){const t=()=>{const n=document.querySelector(".header"),r=parseInt(ee.viewport.scrollTop());ee.lock.stat||(r>100?n.classList.add("trans"):n.classList.remove("trans"))},e=async n=>{const r=N9(m9(lp,"bbs"),x9("timestamp","desc"),b9(n));(await D9(r)).forEach(i=>{console.log(i.data().title)})};return C.useEffect(()=>{window.scrollTo(0,0);const n=document.querySelector(".header");return n.classList.add("home"),window.addEventListener("scroll",t),e(10),()=>{n.classList.remove("home"),window.removeEventListener("scroll",t)}},[]),h.jsxs(h.Fragment,{children:[h.jsx(Xs,{}),h.jsx("div",{className:"container page home",children:h.jsxs("main",{className:"contents",children:[h.jsx(EQ,{opts:{opts:"movie"}}),h.jsx(gI,{opts:{opts:"movie",list:"/trending/movie/week",cate:"0",title:"Weekly  TOP 20"}}),h.jsx(so,{opts:{opts:"movie",list:"discover/movie",cate:"16",title:"/"}}),h.jsx(so,{opts:{opts:"movie",list:"discover/movie",cate:"10402",title:"/"}}),h.jsx(so,{opts:{opts:"movie",list:"discover/movie",cate:"99",title:"/"}}),h.jsx(gI,{opts:{opts:"tv",list:"/trending/tv/week",cate:"0",title:"Weekly TV TOP 20"}}),h.jsx(so,{opts:{opts:"tv",list:"discover/tv",cate:"16",title:"TV/"}}),h.jsx(so,{opts:{opts:"tv",list:"discover/tv",cate:"10764",title:"TV/Reality"}}),h.jsx(so,{opts:{opts:"tv",list:"discover/tv",cate:"80",title:"TV/"}})]})})]})}function Xu(){return C.useEffect(()=>()=>{},[]),h.jsx(h.Fragment,{children:h.jsx("div",{className:"container page n404",children:h.jsx("main",{className:"contents",children:"404"})})})}function KQ({data:t,cate:e}){const n="https://image.tmdb.org/t/p/w200"+t.poster_path;return h.jsx(h.Fragment,{children:h.jsxs(gt,{className:"box",to:""+t.id,children:[h.jsxs("div",{className:"cont",children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:`${n}`,alt:"",className:"img",onError:r=>{r.target.src="./img/common/non_poster.png"}})}),h.jsx("div",{className:"desc",children:h.jsx(du,{point:t.vote_average})})]}),h.jsx("div",{className:"tits",children:t.title||t.name})]})})}function QQ({menu:t,opts:e}){let n=lr();const[r,s]=C.useState(0),i=a=>{document.querySelectorAll(".cate-box ul>li .bt.active").forEach(m=>{a=parseInt(m.closest("li").getAttribute("data-index"))});const l=document.querySelector(".cate-box>.inr"),c=l.offsetWidth*.5,u=document.querySelector(".cate-box ul>li .bt.active"),d=u==null?void 0:u.offsetLeft,f=(u==null?void 0:u.offsetWidth)*.5,p=d-c+f;l.scrollTo(p,0),s(a),console.log("slideActive == "+r+"  "+d)},o=n.cate;return C.useEffect(()=>(i(r),()=>{}),[o,r,t,e]),h.jsx(h.Fragment,{children:h.jsx("div",{className:"cate-box "+o,children:h.jsx("div",{className:"inr",children:h.jsxs("ul",{className:"list",children:[h.jsx("li",{"data-index":"0",className:o==="0"?"active":null,children:h.jsx(dr,{type:"button",className:"bt",to:`/list/${e}/0`,children:""})}),t.map((a,l)=>h.jsx("li",{"data-index":l+1,cate:a.id,className:a.id.toString()===o?"active":null,children:h.jsxs(dr,{type:"button",className:"bt",to:`/list/${e}/${a.id}`,children:[" ",a.name," "]})},a.id))]})})})})}function YQ(){let t=lr();console.log(t);let e=xn(),n=bn(),r=t.menu;const s=t.cate;s===void 0&&n(`/${r}/0`),console.log(s),console.log(t,e.pathname);let i;i=s!=="0"?`&with_genres=${s}`:"",console.log(i);const[o,a]=C.useState([]),[l,c]=C.useState([]);let u=1;const[d,f]=C.useState({}),p=async()=>{let y={genr:{}};await Mt.get(`https://api.themoviedb.org/3/genre/${r}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(S=>{S.data.genres.forEach(w=>y.genr[w.id]=w.name),console.log(S.data.genres),c(S.data.genres)}).then(S=>{f(y),console.log(y)})},[m,g]=C.useState({pge:0,tot:0}),E=y=>{console.log(" "+y);let S=`https://api.themoviedb.org/3/discover/${r}?${i}&page=${y}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Mt.get(S).then(w=>{var N,P,O;console.log(w.data),a(J=>[...J,...w.data.results]),console.log(y+"=== "+w.data.total_pages),_=!0,console.log(_),g({pge:w.data.page,tot:w.data.total_pages}),w.data.total_pages<=y?(_=!1,(N=document.querySelector(".ui-loadmore"))==null||N.classList.add("hide")):(P=document.querySelector(".ui-loadmore"))==null||P.classList.remove("hide"),(O=document.querySelector(".ui-loadmore"))==null||O.classList.remove("active")}).catch(w=>{var N;console.log(w),(N=document.querySelector(".ui-loadmore"))==null||N.classList.add("error")})};C.useEffect(()=>(a([]),window.scrollTo(0,0),E(u),p(),document.querySelector(".header").classList.remove("trans"),window.addEventListener("scroll",v),()=>{window.removeEventListener("scroll",v)}),[s,r]);let _=!0;const v=()=>{var N;const y=ee.viewport.height(),S=ee.viewport.docHeight(),w=ee.viewport.scrollTop()+y+300;if(console.log(_+" =  "+u),S<=w&&_===!0){if(console.log(""),(N=document.querySelector(".ui-loadmore"))==null||N.classList.add("active"),_=!1,console.log(_),ee.lock.stat){_=!0;return}setTimeout(()=>{u=u+1,E(u)},400)}};return h.jsxs(h.Fragment,{children:[h.jsx(Xs,{}),h.jsx("div",{className:"container page movie list",children:h.jsxs("main",{className:"contents",children:[h.jsx("div",{className:"poster-list",children:o.length?h.jsxs(h.Fragment,{children:[h.jsx("ul",{className:"list",children:o.map((y,S)=>h.jsx("li",{"data-id":y.id+"_"+S,children:h.jsx(KQ,{data:y,cate:d,opts:r})},y.id+"_"+S))}),h.jsxs("div",{className:"ui-loadmore",children:[h.jsx("em",{children:h.jsx("i",{className:"fa-duotone fa-spinner"})}),h.jsx("button",{onClick:y=>{E(u+1)},type:"button",className:"btn-load",children:h.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]}):h.jsxs("div",{className:"ui-loading-dot on",children:[" ",h.jsx("div",{className:"bx",children:h.jsx("em",{children:h.jsx("i",{})})})," "]})}),h.jsx("div",{className:"page-set",children:h.jsx("div",{className:"inr",children:h.jsxs("div",{className:"pg",children:[m.pge," / ",m.tot]})})})]})}),h.jsx(QQ,{menu:l,opts:r})]})}function XQ({overview:t}){C.useEffect(()=>(e.set(),()=>{}),[]);const e={evt:n=>{const r=n.currentTarget,s=r.closest("[data-ui='elips']"),i=r.querySelector(".btn-tog");s.classList.contains("open")?(i.innerHTML='<span></span> <i class="fa-solid fa-caret-down"></i>',s.classList.remove("open")):(i.innerHTML='<i class="fa-solid fa-caret-up"></i> <span></span>',s.classList.add("open"))},set:n=>{const r=document.querySelector("[data-ui='elips']"),s=r.querySelector(".txt"),i=s.offsetHeight,o=s.scrollHeight;console.log("scrollHeight == ",o,".txtHeight == ",i),i<o&&r.classList.add("elips")}};return h.jsx("div",{className:"vinf","data-ui":"elips",onClick:e.evt,onKeyUp:n=>n.key==="Enter"?e.evt(n):null,tabIndex:0,children:h.jsxs("div",{className:"txt",children:[t,h.jsxs("span",{className:"btn-tog",children:[h.jsx("span",{children:""})," ",h.jsx("i",{className:"fa-solid fa-caret-down"})]})]})})}function JQ({postID:t,opts:e}){console.log(t);const[n,r]=C.useState(null),s=`https://api.themoviedb.org/3/${e}/${t}/reviews?api_key=f76021076e8162ea929bd2cea62c6646`,i=()=>{Mt.get(s).then(a=>{console.log("",a.data),r(a.data)}).catch(a=>{console.log(a)})},o={evt:a=>{console.log(a.currentTarget);const c=a.currentTarget.closest("[data-ui='elips']");c.classList.contains("open")?c.classList.remove("open"):c.classList.add("open")},set:a=>{document.querySelectorAll(".ut-reply ul.rlist>li .rpset .ment").forEach(c=>{const u=c.offsetHeight,d=c.scrollHeight;u<d?c.closest("[data-ui='elips']").classList.add("elips"):c.closest("[data-ui='elips']").classList.remove("elips")})}};return C.useEffect(()=>(i(),()=>{}),[]),console.log(n),n?(o.set(),h.jsx(h.Fragment,{children:n.results.length?h.jsxs("div",{className:"sect revw",children:[h.jsx("h4",{className:"tts",children:""}),h.jsx("div",{className:"ut-reply",children:h.jsx("div",{className:"rplist",children:h.jsx("ul",{className:"rlist a",children:n.results&&n.results.map((a,l)=>{let u=(a.author_details.avatar_path||"").replace(/^\/+/g,"");return h.jsx("li",{children:h.jsxs("div",{className:"rpset",children:[h.jsx("div",{className:"user",children:h.jsx("span",{className:"pic",children:h.jsx("img",{src:u,alt:"",className:"img",onError:d=>{d.target.src="./img/common/user.png"}})})}),h.jsxs("div",{className:"infs",children:[h.jsx("div",{className:"name",children:h.jsx("em",{className:"nm",children:a.author_details.name||a.author_details.username})}),h.jsx("div",{className:"desc",children:h.jsx("em",{className:"time",children:ee.dateForm(new Date(a.created_at))})}),h.jsx("div",{"data-ui":"elips",className:"mbox",children:h.jsx("div",{className:"ment txt",onClick:o.evt,children:a.content})})]})]})},l)})})})})]}):null})):h.jsx("div",{children:"Loading..."})}function Ju({prop:t}){let e=lr();console.log(e);let n=e.menu,r=bn();t.page=t.page||"page",console.log(e,n);const[s,i]=C.useState({}),o=async()=>{let T={genr:{}};await Mt.get(`https://api.themoviedb.org/3/genre/${n}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(b=>{b.data.genres.forEach(R=>T.genr[R.id]=R.name)}).then(b=>{i(T),console.log(T)})},a=e.id,l=()=>{var L,z;let T=document.querySelector(".popup.movie"),b=T.offsetHeight||0,R=((L=T.querySelector(".pbt"))==null?void 0:L.offsetHeight)||0,k=((z=T.querySelector(".phd"))==null?void 0:z.offsetHeight)||0;b=b-k||0,console.log(b),T.querySelector(".pct").style.height=b-R+"px"},[c,u]=C.useState(null),[d,f]=C.useState(null),[p,m]=C.useState(null),[g,E]=C.useState(""),_=`https://api.themoviedb.org/3/${n}/${a}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,v=()=>{Mt.get(_).then(T=>{console.log("",T.data),u(T.data);let b=T.data.backdrop_path?T.data.backdrop_path:T.data.poster_path;E("https://image.tmdb.org/t/p/w780"+b)}).catch(T=>{console.log(T)})},y=`https://api.themoviedb.org/3/${n}/${a}/credits?&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,S=()=>{Mt.get(y).then(T=>{console.log(",",T.data),f(T.data)}).catch(T=>{console.log(T)})},w=`https://api.themoviedb.org/3/${n}/${a}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,N=()=>{Mt.get(w).then(T=>{console.log("",T.data),m(T.data)}).catch(T=>{console.log(T)})},P=()=>{var b,R;parseInt(document.querySelector(".popup.movie .pct").scrollTop)>50?(document.querySelector(".popup.movie .phd").classList.add("trans"),(b=document.querySelector(".floatpop"))==null||b.classList.add("on-top")):(document.querySelector(".popup.movie .phd").classList.remove("trans"),(R=document.querySelector(".floatpop"))==null||R.classList.remove("on-top"))};console.log(t.page+"  d");const O=()=>t.page==="list"||t.page==="search"||t.page==="home",J=()=>{ee.scrollTo(".popup.movie .pct",0,200)};return C.useEffect(()=>(J(),console.log(document.querySelector(".pct").offsetHeight),o(),v(),S(),N(),l(),document.querySelector(".popup.movie .pct").addEventListener("scroll",P),window.addEventListener("resize",l),document.querySelector(".popup.movie").classList.add("ani","on"),ee.lock.using(!0),()=>{window.removeEventListener("resize",l),console.log("  "),ee.lock.using(!1)}),[e.id]),h.jsxs(h.Fragment,{children:[h.jsx(Xs,{}),h.jsx("article",{className:`pop-layer a bottom popup movie view ${O()?"":"page"} `,children:h.jsxs("div",{className:"pbd",children:[h.jsx("div",{className:"phd",children:h.jsx("div",{className:"inr",children:h.jsx("div",{className:"ptit",children:(c==null?void 0:c.title)||(c==null?void 0:c.name)})})}),O()?h.jsx(h.Fragment,{children:h.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{r(-1)},children:h.jsx("i",{className:"fa-regular fa-arrow-left"})})}):h.jsx("button",{type:"button",className:"btn-pop-close home",onClick:()=>{r("/home/")},children:h.jsx("i",{className:"fa-solid fa-house"})}),h.jsx("div",{className:"bgs",style:{backgroundImage:`url(${g}) `}}),h.jsx("div",{className:"pct",children:h.jsxs("main",{className:"poptents",children:[!c&&!d&&!p&&h.jsx("div",{className:"m-info",children:h.jsxs("div",{className:"ui-loading-dot on",children:[" ",h.jsx("div",{className:"bx",children:h.jsx("em",{children:h.jsx("i",{})})})," "]})}),c&&d&&p&&h.jsxs("div",{className:"m-info",children:[h.jsxs("div",{className:"info",children:[h.jsxs("div",{className:"desc",children:[c.title&&h.jsx("p",{className:"tit",children:c.title}),c.tagline&&h.jsx("p",{className:"sit",children:c.tagline}),c.original_title&&h.jsx("p",{className:"tio",children:c.original_title}),c.name&&h.jsx("p",{className:"tit",children:c.name}),c.original_name&&h.jsx("p",{className:"tio",children:c.original_name}),h.jsx("div",{className:"star",children:h.jsx(du,{point:c.vote_average})}),h.jsx("div",{className:"cate",children:c.genres.map(T=>h.jsxs("em",{className:"ico",children:[" ",s.genr?s.genr[T.id]:null]},T.id))}),h.jsxs("ul",{className:"lst",children:[h.jsxs("li",{className:"vot",children:[h.jsx("i",{className:"fa-regular fa-thumbs-up"})," ",h.jsx("b",{children:""})," : ",c.vote_average," / 10"]}),c.release_date&&h.jsxs("li",{className:"opn",children:[h.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",h.jsx("b",{children:""})," : ",c.release_date]}),c.first_air_date&&h.jsxs("li",{className:"opn",children:[h.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",c.first_air_date," ~ ",c.last_air_date]}),c.runtime&&h.jsxs("li",{className:"tim",children:[h.jsx("i",{className:"fa-regular fa-timer"})," ",h.jsx("b",{children:""})," : ",c.runtime," "]}),c.number_of_seasons&&h.jsxs("li",{className:"tim",children:[h.jsx("i",{className:"fa-regular fa-timer"})," ",h.jsx("b",{children:""})," : ",c.number_of_seasons,"  - ",h.jsx("b",{children:""})," : ",c.number_of_episodes,""]}),c.homepage&&h.jsxs("li",{className:"web",children:[h.jsx("i",{className:"fa-regular fa-globe"})," ",h.jsx("a",{className:"lk",href:c.homepage,target:"_blank",rel:"noopener noreferrer",children:c.homepage})]})]})]}),h.jsx("div",{className:"thum",children:h.jsx(gt,{to:"./poster/0",className:"pics",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w300"+c.poster_path,alt:c.title,className:"img",onError:T=>{T.target.src="./img/common/non_poster.png"}})})})]}),c.overview&&h.jsx(XQ,{overview:c.overview}),d.cast.length?h.jsxs("div",{className:"sect cast",children:[h.jsx("h4",{className:"tts",children:""}),h.jsx("div",{className:"lst",children:d.cast.filter((T,b)=>b<999).map(T=>h.jsxs(gt,{to:`./person/${T.id}`,className:"profile",children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w92"+T.profile_path,alt:T.name,className:"img",onError:b=>{b.target.src="./img/common/user.png"},loading:"lazy"})}),h.jsx("div",{className:"name",children:T.name}),h.jsx("div",{className:"carc",children:T.character})]},T.credit_id))})]}):null,p.results.length>0?h.jsxs("div",{className:"sect movs",children:[h.jsx("h4",{className:"tts",children:""}),h.jsx("div",{className:"lst",children:p.results.filter((T,b)=>b<100).reverse().map((T,b)=>h.jsx("div",{className:"box",children:h.jsxs(gt,{to:`./videos/${b+1}`,className:"pic",children:[h.jsx("span",{className:"msg",children:h.jsx("span",{className:"tit",children:T.name})}),h.jsx("i",{className:"ico fa-solid fa-play"}),h.jsx("img",{className:"img",src:"//i.ytimg.com/vi/"+T.key+"/sddefault.jpg",onError:R=>{R.target.src="./img/common/user.png"},alt:T.name,loading:"lazy"})]})},T.id))})]}):null,d.crew.length?h.jsxs("div",{className:"sect cast",children:[h.jsx("h4",{className:"tts",children:""}),h.jsx("div",{className:"lst",children:d.crew.filter((T,b)=>b<999).map(T=>h.jsxs(gt,{to:`./person/${T.id}`,className:"profile",children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w92"+T.profile_path,alt:T.name,className:"img",onError:b=>{b.target.src="./img/common/user.png"},loading:"lazy"})}),h.jsx("div",{className:"name",children:T.name}),h.jsx("div",{className:"carc",children:T.known_for_department})]},T.credit_id))})]}):null,c.images.posters.length?h.jsxs("div",{className:"sect post",children:[h.jsxs("h4",{className:"tts",children:[" : ",c.images.posters.length+1]}),h.jsxs("div",{className:"lst",children:[h.jsx("div",{className:"box","data-index":0,children:h.jsx(gt,{to:"./poster/0",className:"pic",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w300"+c.poster_path,alt:c.title,className:"img",onError:T=>{T.target.src="./img/common/non_poster.png"},loading:"lazy"})})}),c.images.posters.map((T,b)=>h.jsx("div",{className:"box","data-index":b+1,children:h.jsx(gt,{to:`./poster/${b+1}`,className:"pic",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w300"+T.file_path,alt:T.name,className:"img",onError:R=>{R.target.src="./img/common/non_poster.png"},loading:"lazy"})})},b))]})]}):null,h.jsx(JQ,{postID:a,opts:n}),c.production_companies.length?h.jsx(h.Fragment,{children:h.jsx("div",{className:"sect comp",children:c.production_companies.map(T=>T.logo_path?h.jsx("span",{className:"logo",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w92"+T.logo_path,alt:T.name,className:"img"})},T.id):h.jsx("span",{className:"logo",children:T.name},T.id))})}):null]})]})}),h.jsx("div",{className:"floatpop",children:h.jsxs("button",{type:"button",className:"bt top",onClick:J,children:[h.jsx("i",{className:"fa-solid fa-arrow-up"}),h.jsx("em",{children:""})]})})]})})]})}function Zu({prop:t}){let e=bn(),n=lr();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var _,v;let p=document.querySelector(".popup.poster"),m=p.offsetHeight||0,g=((_=p.querySelector(".pbt"))==null?void 0:_.offsetHeight)||0,E=((v=p.querySelector(".phd"))==null?void 0:v.offsetHeight)||0;m=m-E||0,console.log(m),p.querySelector(".pct").style.maxHeight=m-g+"px"},[o,a]=C.useState(null),[l,c]=C.useState(""),u=()=>o.images.posters.length>1,d=`https://api.themoviedb.org/3/${r}/${s}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,f=()=>{Mt.get(d).then(p=>{console.log("",p.data),a(p.data);let m=p.data.poster_path?p.data.poster_path:p.data.backdrop_path;c("https://image.tmdb.org/t/p/w780"+m)}).catch(p=>{console.log(p)})};return C.useEffect(()=>(console.log(document.querySelector(".popup.poster .pct").offsetHeight),f(),i(),window.addEventListener("resize",i),document.querySelector(".popup.poster").classList.add("ani","on"),ee.lock.using(!0),()=>{window.removeEventListener("resize",i),ee.lock.using(!1)}),[]),h.jsx(h.Fragment,{children:h.jsx("article",{className:"pop-layer c bottom popup poster",children:h.jsxs("div",{className:"pbd",children:[h.jsx("div",{className:"phd",children:h.jsx("div",{className:"inr",children:h.jsx("div",{className:"ptit",children:(o==null?void 0:o.title)||(o==null?void 0:o.name)})})}),h.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:h.jsx("i",{className:"fa-regular fa-xmark"})}),h.jsx("div",{className:"pct",children:h.jsx("main",{className:"poptents",children:h.jsx("div",{className:"poster-box",children:o&&o.images.posters?h.jsxs(uu,{className:"swiper-wrapper swiper slide",modules:[vp,yp,Ep,wp,pP,Sp],spaceBetween:20,slidesPerView:1,loop:u(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},autoHeight:!0,onSwiper:p=>{console.log("initialize swiper",p),p.slideToLoop(n.nums,0)},onSlideChange:()=>{},children:[h.jsx(Fs,{tag:"li",children:h.jsx("div",{className:"box",children:h.jsxs("div",{className:"pics",children:[h.jsx("img",{src:l,className:"img",alt:(o==null?void 0:o.title)||(o==null?void 0:o.name),onError:p=>{p.target.src="./img/common/non_poster.png"},loading:"lazy"}),h.jsx("div",{className:"lazy-preloader",children:h.jsx("i",{className:"fa-duotone fa-spinner"})})]})})}),o.images.posters.map((p,m)=>{const g="https://image.tmdb.org/t/p/w780"+p.file_path;return h.jsx(Fs,{tag:"li",className:"swiper-slide pbox",children:h.jsx("div",{className:"box",children:h.jsxs("div",{className:"pics",children:[h.jsx("img",{src:`${g}`,alt:(o==null?void 0:o.title)||(o==null?void 0:o.name),className:"img",onError:E=>{E.target.src="./img/common/non_poster.png"},loading:"lazy"}),h.jsx("div",{className:"lazy-preloader",children:h.jsx("i",{className:"fa-duotone fa-spinner"})})]})})},m)})]}):null})})})]})})})}function ed(){let t=lr(),e=bn();const n=t.opts;console.log(t);const r=t.nums,s=()=>{var w,N;let _=document.querySelector(".popup.person"),v=_.offsetHeight||0,y=((w=_.querySelector(".pbt"))==null?void 0:w.offsetHeight)||0,S=((N=_.querySelector(".phd"))==null?void 0:N.offsetHeight)||0;v=v-S||0,_.querySelector(".pct").style.maxHeight=v-ee.getSafe.top()-ee.getSafe.watch()-y-10+"px",console.log(v)},[i,o]=C.useState(null),[a,l]=C.useState(null),[c,u]=C.useState(null),d=`https://api.themoviedb.org/3/person/${r}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,f=()=>{Mt.get(d).then(_=>{console.log(" ",_.data),o(_.data)}).catch(_=>{console.log(_)})},p=`https://api.themoviedb.org/3/person/${r}/movie_credits?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,m=()=>{Mt.get(p).then(_=>{console.log(" ",_.data),l(_.data)}).catch(_=>{console.log(_)})},g=`https://api.themoviedb.org/3/person/${r}/images?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,E=()=>{Mt.get(g).then(_=>{console.log(" ",_.data),u(_.data)}).catch(_=>{console.log(_)})};return C.useEffect(()=>(console.log(document.querySelector(".popup.person .pct").offsetHeight),f(),m(),E(),s(),window.addEventListener("resize",s),document.querySelector(".popup.person").classList.add("ani","on"),ee.lock.using(!0),()=>{window.removeEventListener("resize",s),ee.lock.using(!1)}),[]),h.jsx(h.Fragment,{children:h.jsx("article",{className:"pop-layer c bottom popup person",children:h.jsxs("div",{className:"pbd",children:[h.jsx("div",{className:"phd",children:h.jsx("div",{className:"inr",children:h.jsx("div",{className:"ptit"})})}),h.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:h.jsx("i",{className:"fa-regular fa-xmark"})}),h.jsx("div",{className:"pct",children:h.jsxs("main",{className:"poptents",children:[!i&&!a&&!c&&h.jsx("div",{className:"m-info",children:h.jsxs("div",{className:"ui-loading-dot on",children:[" ",h.jsx("div",{className:"bx",children:h.jsx("em",{children:h.jsx("i",{})})})," "]})}),i&&a&&c&&h.jsxs("div",{className:"m-info",children:[h.jsxs("div",{className:"info",children:[h.jsxs("div",{className:"desc",children:[i.title&&h.jsx("p",{className:"tit",children:i.title}),i.original_title&&h.jsx("p",{className:"tio",children:i.original_title}),i.name&&h.jsx("p",{className:"tit",children:i.name}),i.known_for_department&&h.jsx("p",{className:"tio",children:i.known_for_department}),i.original_name&&h.jsx("p",{className:"tio",children:i.original_name}),h.jsxs("ul",{className:"lst",children:[i.birthday&&h.jsxs("li",{className:"vot",children:[h.jsx("i",{className:"fa-regular fa-calendar-days"}),"  ",i.birthday]}),i.place_of_birth&&h.jsxs("li",{className:"vot",children:[h.jsx("i",{className:"fa-regular fa-location-dot"}),"  ",i.place_of_birth]}),h.jsxs("li",{className:"vot",children:[" ",h.jsx("i",{className:"fa-regular fa-star"})," ",i.popularity," / 100 "]}),i.homepage&&h.jsxs("li",{className:"web",children:[h.jsx("i",{className:"fa-regular fa-globe"})," ",h.jsx("a",{className:"lk",href:i.homepage,target:"_blank",rel:"noopener noreferrer",children:i.homepage})]})]})]}),h.jsx("div",{className:"thum",children:h.jsx("div",{className:"pics",children:h.jsx("img",{src:`https://image.tmdb.org/t/p/w780${i.profile_path}`,alt:i.title,className:"img",onError:_=>{_.target.src="./img/common/user.png"}})})})]}),a.cast.length?h.jsxs("div",{className:"sect post",children:[h.jsx("h4",{className:"tts",children:" "}),h.jsx("div",{className:"lst",children:a.cast.map((_,v)=>h.jsx("div",{className:"box","data-index":v+1,children:h.jsx(gt,{to:`/movie/${_.id}`,className:"pic",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.poster_path,alt:_.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null,a.crew.length?h.jsxs("div",{className:"sect post",children:[h.jsx("h4",{className:"tts",children:" "}),h.jsx("div",{className:"lst",children:a.crew.map((_,v)=>h.jsx("div",{className:"box","data-index":v+1,children:h.jsx(gt,{to:`/movie/${_.id}`,className:"pic",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.poster_path,alt:_.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null,c.profiles.length?h.jsxs("div",{className:"sect post",children:[h.jsx("h4",{className:"tts",children:" "}),h.jsx("div",{className:"lst",children:c.profiles.map((_,v)=>h.jsx("div",{className:"box","data-index":v+1,children:h.jsx("div",{to:`/list/${n}/0/${_.id}`,className:"pic",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.file_path,alt:_.title,className:"img",onError:y=>{y.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null]})]})})]})})})}function td({prop:t}){let e=bn(),n=lr();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var g,E;let d=document.querySelector(".popup.videos"),f=d.offsetHeight||0,p=((g=d.querySelector(".pbt"))==null?void 0:g.offsetHeight)||0,m=((E=d.querySelector(".phd"))==null?void 0:E.offsetHeight)||0;f=f-m||0,console.log(f),d.querySelector(".pct").style.maxHeight=f-p+"px"},[o,a]=C.useState(null),l=()=>o.results.length>1,c=`https://api.themoviedb.org/3/${r}/${s}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,u=()=>{Mt.get(c).then(d=>{console.log("",d.data),a(d.data)}).catch(d=>{console.log(d)})};return C.useEffect(()=>(console.log(document.querySelector(".popup.videos .pct").offsetHeight),u(),i(),window.addEventListener("resize",i),document.querySelector(".popup.videos").classList.add("ani","on"),ee.lock.using(!0),()=>{window.removeEventListener("resize",i),ee.lock.using(!1)}),[]),h.jsx(h.Fragment,{children:h.jsx("article",{className:"pop-layer b bottom popup videos",children:h.jsxs("div",{className:"pbd",children:[h.jsx("div",{className:"phd",children:h.jsx("div",{className:"inr",children:h.jsx("div",{className:"ptit",children:(o==null?void 0:o.title)||(o==null?void 0:o.name)})})}),h.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:h.jsx("i",{className:"fa-regular fa-xmark"})}),h.jsx("div",{className:"pct",children:h.jsx("main",{className:"poptents",children:h.jsx("div",{className:"videos-box",children:o&&o.results.length?h.jsx(uu,{className:"swiper-wrapper swiper slide",modules:[vp,yp,Ep,wp,pP,Sp],spaceBetween:20,slidesPerView:1,navigation:!0,loop:l(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},observeParents:!0,observeSlideChildren:!0,observer:!0,wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},onSwiper:d=>{console.log("initialize swiper",d),d.slideTo(n.nums,0)},onSlideChange:()=>{},children:o.results.filter((d,f)=>f<100).reverse().map((d,f)=>h.jsx(Fs,{tag:"li",className:"swiper-slide pbox",children:h.jsx("div",{className:"box",children:h.jsxs("div",{className:"pics",children:[h.jsxs("span",{className:"ui-load-glx full",children:[" ",h.jsxs("span",{className:"gbx",children:[" ",h.jsxs("em",{className:"bx",children:[" ",h.jsx("i",{})," ",h.jsx("i",{})," ",h.jsx("i",{})," ",h.jsx("i",{})," "]})," "]})," "]}),h.jsx("iframe",{className:"iframe",title:d.name,src:"//www.youtube.com/embed/"+d.key,allow:"autoplay; encrypted-media",allowFullScreen:!0,loading:"lazy"})]})})},f))}):null})})})]})})})}function ZQ({data:t,cate:e,opts:n}){const r="https://image.tmdb.org/t/p/w200",s=t.poster_path?r+t.poster_path:"./img/common/non_poster.png",i=t.backdrop_path?r+t.backdrop_path:r+t.poster_path;return h.jsx(h.Fragment,{children:h.jsxs(gt,{className:"box",to:`/search/${n}/${t.id}`,children:[h.jsxs("div",{className:"cont",children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:`${s}`,alt:"",className:"img",onError:o=>{o.target.src="./img/common/non_poster.png"}})}),h.jsxs("div",{className:"desc",children:[h.jsx("div",{className:"tits",children:t.title||t.name}),h.jsx("div",{className:"text",children:t.overview})]})]}),h.jsxs("div",{className:"info",children:[h.jsx("div",{className:"dd",children:h.jsx("div",{className:"cate",children:h.jsx("span",{className:"txt",children:t.genre_ids.map(o=>h.jsxs("em",{className:"ico",children:[" ",e.genr?e.genr[o]:null," "]},o))})})}),h.jsxs("div",{className:"dd",children:[h.jsxs("div",{className:"hits",children:[h.jsx(du,{point:t.vote_average}),h.jsxs("em",{children:[h.jsx("i",{className:"fa-regular fa-heart"})," ",h.jsx("b",{children:t.vote_average})]})]}),h.jsxs("div",{className:"date",children:[h.jsx("i",{className:"fa-regular fa-calendar-days"})," ",h.jsx("b",{children:t.release_date||t.first_air_date})]})]})]}),h.jsx("div",{className:"bgs",style:{backgroundImage:`url(${i})`}})]})})}function TI(){var k;const[t]=iM();let e=lr();console.log(e);const n=e.menu;let[r,s]=C.useState(t.get("search"));const[i,o]=C.useState([]);let a=1;const[l,c]=C.useState({}),u=async()=>{let L={genr:{}};await Mt.get(`https://api.themoviedb.org/3/genre/${n}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(z=>{z.data.genres.forEach(oe=>L.genr[oe.id]=oe.name)}).then(z=>{c(L),console.log(L)}).catch(z=>{console.log(z),c(null)})},[d,f]=C.useState({pge:0,tot:0}),p=C.useRef(),m=(L,z)=>{console.log(" "+r),console.log(" "+L),p.current.value=r,z=r;let oe=`https://api.themoviedb.org/3/search/${n}?language=ko&region=kr&page=${L}&query=${z}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;if(r==null){oe="",ee.loading.hide();return}Mt.get(oe).then(se=>{var M,W;console.log(se.data),o(ne=>[...ne,...se.data.results]),console.log(L+"=== "+se.data.total_pages),E=!0,console.log(E),ee.loading.hide(),f({pge:se.data.page,tot:se.data.total_pages}),se.data.total_pages<=L&&(E=!1,(M=document.querySelector(".ui-loadmore"))==null||M.classList.add("hide")),(W=document.querySelector(".ui-loadmore"))==null||W.classList.remove("active")}).catch(se=>{var M;console.log(se),ee.loading.hide(),(M=document.querySelector(".ui-loadmore"))==null||M.classList.add("error")})};C.useEffect(()=>(u(),ee.loading.show(),m(a),document.querySelector(".header").classList.add("hide"),o([]),!r&&!document.querySelector(".pop-layer")&&p.current.focus(),window.addEventListener("scroll",_),window.scrollTo(0,0),T(),document.querySelectorAll("*").forEach(L=>L.addEventListener("focus",g)),document.addEventListener("touchstart",g),()=>{document.querySelector(".header").classList.remove("hide"),window.removeEventListener("scroll",_),document.querySelectorAll("*").forEach(L=>L.removeEventListener("focus",g)),document.removeEventListener("touchstart",g)}),[r,n]);const g=L=>{L.target.closest(".schs-form")};let E=!0;const _=()=>{var se;const L=ee.viewport.height(),z=ee.viewport.docHeight(),oe=ee.viewport.scrollTop()+L+10;if(console.log(E+" =  "+a),z<=oe&&E===!0){if(console.log(""),(se=document.querySelector(".ui-loadmore"))==null||se.classList.add("active"),E=!1,ee.lock.stat){E=!0;return}setTimeout(()=>{a=a+1,m(a)},400)}},v=L=>{var z,oe,se;s((z=p.current)==null?void 0:z.value),window.history.replaceState(null,null,`#/search/${n}?search=${(oe=p.current)==null?void 0:oe.value}`),o([]),m(1),L.preventDefault(),document.querySelector(".movie-list").focus(),J((se=p.current)==null?void 0:se.value)},y=L=>{p.current.value=L,s(L),window.history.replaceState(null,null,`#/search/${n}?search=${L}`),new URL(window.location).searchParams.set("search",L)},S=L=>{s(L.target.value),o([]);const z=new URL(window.location);z.searchParams.set("search",L.target.value),console.log(z),window.history.replaceState(null,null,`#/search/${n}?search=${L.target.value}`)},w=C.useRef(),N=C.useRef(),[P,O]=C.useState([]),J=L=>{let z=JSON.parse(localStorage.getItem("keyword")||'[""," "]');L.trim()!==""&&z.unshift(L);let oe=[...new Set(z)].slice(0,10);localStorage.setItem("keyword",JSON.stringify(oe)),O(oe)},T=L=>{var se,M;let z=JSON.parse(localStorage.getItem("keyword")||'[""," "]'),oe=[...new Set(z)];O(oe),(se=N.current)==null||se.classList.add("open"),(M=P.current)==null||M.classList.add("open")},b=(L,z)=>{const oe=P.filter(M=>M!==z);let se=[...new Set(oe)];return localStorage.setItem("keyword",JSON.stringify(se)),O(se),w.current.classList.add("open"),setTimeout(()=>p.current.focus()),L.preventDefault(),!1},R=(L,z)=>{console.log(L),p.current.value="",p.current.focus()};return console.log(i),console.log(P),console.log((k=p.current)==null?void 0:k.value),h.jsxs(h.Fragment,{children:[h.jsx(Xs,{}),h.jsx("div",{className:"container page movie search",children:h.jsxs("main",{className:"contents",children:[h.jsx("div",{className:"schs-form",ref:N,children:h.jsx("div",{className:"inr",children:h.jsxs("form",{className:"form",onSubmit:v,children:[h.jsxs("div",{className:"bts",children:[h.jsx(dr,{className:"bt",to:`/search/movie?search=${r}`,children:"Movie"}),h.jsx(dr,{className:"bt",to:`/search/tv?search=${r}`,children:"TV"})]}),h.jsxs("span",{className:"input",children:[h.jsx("input",{type:"text",placeholder:" .",ref:p,required:!0,maxLength:12,onMouseDown:T,onChange:S,onInvalid:L=>L.preventDefault()}),h.jsx("button",{type:"button",className:"btdel",title:"",onClick:R,children:h.jsx("i",{className:"fa-regular fa-xmark"})})]}),h.jsx("button",{type:"submit",className:"bt-sch",children:h.jsx("i",{className:"fa-regular fa-search"})})]})})}),h.jsx("div",{className:P.length>0?"recent-kwds open":"recent-kwds",ref:w,children:P.length<1?"":h.jsx("ul",{className:"lst",children:P.map(L=>h.jsxs("li",{children:[h.jsx("button",{className:"kwd",type:"button",onClick:()=>y(L),children:L}),h.jsx("button",{className:"del",type:"button",onClick:z=>b(z,L),children:h.jsx("i",{className:"fa-regular fa-xmark"})})]},L))})}),h.jsx("div",{className:"movie-list",tabIndex:"-1",children:i.length<=0?h.jsxs("div",{className:"nodata",children:[h.jsx("i",{className:"fa-solid fa-file-magnifying-glass"}),r?h.jsxs("p",{children:[" ",r,"   ."]}):null]}):h.jsxs(h.Fragment,{children:[h.jsx("ul",{className:"list",children:i.map((L,z)=>h.jsx("li",{"data-id":L.id+"_"+z,children:h.jsx(ZQ,{data:L,cate:l,opts:n})},L.id+"_"+z))}),i.length>0&&h.jsxs("div",{className:"ui-loadmore",children:[h.jsx("em",{children:h.jsx("i",{className:"fa-duotone fa-spinner"})}),h.jsx("button",{onClick:L=>{a=a+1,m(a,L)},type:"button",className:"btn-load",title:"",children:h.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]})}),i.length>0&&h.jsx("div",{className:"page-set",children:h.jsx("div",{className:"inr",children:h.jsxs("div",{className:"pg",children:[d.pge," / ",d.tot]})})})]})})]})}function eY(){let t=lr();console.log(t),xn();let e=bn();t.menu;const n={"auth/user-not-found":"       ","auth/wrong-password":"   ","auth/too-many-requests":"        ","auth/weak-password":" 6   ","auth/missing-email":"  ","auth/invalid-email":"     ","auth/email-already-in-use":"     ID     ","auth/invalid-phone-number":"      ","auth/internal-error":" ."},r=C.useRef(),s=C.useRef(),i=C.useRef(),o=async()=>{const l=r.current.value,c=s.current.value,u=ou();ee.loading.show(),console.log(l,c,u),await HT(u,l,c).then(d=>{const f=d.user;console.log(f.email),ee.loading.hide(),ee.alert(""+f.email+"<br>  !",{ycb:()=>{e("/")}})}).catch(d=>{console.log(d.code,d);const f=n[d.code];ee.loading.hide(),ee.alert(f,{tit:" "})}),i.current.checked==!1&&A5(u,XE).then(()=>HT(u,l,c)).catch(d=>{const f=d.code,p=d.message;console.log(f,"====",p)})},a=()=>{const l=i.current.checked;if(console.log(l),l){const c=`
         <br> 
          <br>
          .<br><br>
               .<br><br>
         ?
      `;ee.confirm(c,{tit:" ",ycb:()=>{i.current.checked=!0},ncb:()=>{i.current.checked=!1},ybt:"",nbt:""})}};return C.useEffect(()=>(window.scrollTo(0,0),()=>{})),h.jsxs(h.Fragment,{children:[h.jsx(Xs,{}),h.jsx("div",{className:"container page user sign in",children:h.jsx("main",{className:"contents",children:h.jsxs("div",{className:"sign-form",children:[h.jsx("div",{className:"hdt",children:""}),h.jsxs("ul",{className:"list",children:[h.jsxs("li",{children:[h.jsx("label",{className:"dt",children:" (user@test.com) "}),h.jsx("div",{className:"dd",children:h.jsx("span",{className:"input",children:h.jsx("input",{type:"email",ref:r,placeholder:""})})})]}),h.jsxs("li",{children:[h.jsx("label",{className:"dt",children:" (123456) "}),h.jsx("div",{className:"dd",children:h.jsx("span",{className:"input",children:h.jsx("input",{type:"password",ref:s,placeholder:""})})})]})]}),h.jsx("div",{className:"savelogin",children:h.jsxs("label",{className:"checkbox",children:[h.jsx("input",{type:"checkbox",ref:i,onChange:a}),h.jsx("span",{className:"txt",children:" "})]})}),h.jsx("div",{className:"btsbox btn-set",children:h.jsxs("button",{type:"button",className:"btn",onClick:o,children:[h.jsx("i",{className:"fa-regular fa-right-to-bracket"}),h.jsx("em",{children:""})]})}),h.jsx("div",{className:"link",children:h.jsxs(gt,{className:"bt",to:"/user/signup",children:["  ",h.jsx("i",{className:"fa-regular fa-chevron-right"})]})})]})})})]})}function tY(){let t=bn();C.useRef(),C.useRef(),C.useRef();const e=async()=>{const n=ou();b5(n).then(()=>{t("/")}).catch(r=>{console.log(r)})};return C.useEffect(()=>(window.scrollTo(0,0),e(),()=>{})),h.jsxs(h.Fragment,{children:[h.jsx(Xs,{}),h.jsx("div",{className:"container page user sign out",children:h.jsx("main",{className:"contents"})})]})}function nY(){let t=lr();xn();let e=bn();t.menu;const[n,r,s,i]=[C.useRef(),C.useRef(),C.useRef(),C.useRef()],o={"auth/user-not-found":"       ","auth/wrong-password":"   ","auth/too-many-requests":"        ","auth/weak-password":" 6   ","auth/invalid-email":"     ","auth/email-already-in-use":"     ID     ","auth/invalid-phone-number":"      ","auth/internal-error":" ."},[a,l]=C.useState({isMail:!1,isPwds:!1,isNick:!1});console.log(a);const c=d=>{const f={mail:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,pass:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,15}$/,nick:/^[a-zA-Z0-9-]{1,15}$/};switch(d.name){case"email":l(p=>({...p,isMail:f.mail.test(d.value)}));break;case"password":l(p=>({...p,isPwds:f.pass.test(d.value)}));break;case"nickname":l(p=>({...p,isNick:f.nick.test(d.value)}));break}},u={joinReq:async()=>{console.log(document.querySelector('[name="avatar"]:checked').value),console.log(n.current.value),console.log(r.current.value),console.log(s.current.value),ee.loading.show();const d=n.current.value,f=r.current.value,p=ou();C5(p,d,f).then(m=>{const g=m.user;console.log(g),console.log("uid : "+g.uid),console.log(": "+g.accessToken);const E="/";u.addMember(g,E)}).catch(m=>{ee.loading.hide(),console.log(m.code);const g=o[m.code];ee.alert(g)}),await R5(user).then(()=>{ee.alert(`[${d}]    . `)}).catch(m=>{})},addMember:async(d,f)=>{await M9(uE(lp,"member",d.uid),{id:d.uid,email:d.email,nick:s.current.value,avatar:document.querySelector('[name="avatar"]:checked').value,liked:[],date:new Date}).then(()=>{ee.loading.show(),console.log(" : "),ee.alert(".",{ycb:()=>{e(f)}})}).catch(p=>{console.error("  Error : ",p)})}};return console.log(a.isMail,a.isPwds,a.isNick,a.isMail&&a.isPwds&&a.isNick),C.useEffect(()=>(window.scrollTo(0,0),()=>{})),h.jsxs(h.Fragment,{children:[h.jsx(Xs,{}),h.jsx("div",{className:"container page user sign up",children:h.jsx("main",{className:"contents",children:h.jsxs("div",{className:"sign-form",children:[h.jsx("div",{className:"hdt",children:""}),h.jsxs("ul",{className:"list",children:[h.jsxs("li",{children:[h.jsx("label",{className:"dt",children:""}),h.jsx("div",{className:"dd",children:h.jsx("div",{className:"ut-avata",children:at.state.avatar.map((d,f)=>h.jsxs("label",{children:[h.jsx("input",{type:"radio",name:"avatar",ref:i,value:f,defaultChecked:f==0}),h.jsx("span",{className:"txt",children:h.jsx("img",{className:"img",src:d,alt:""})})]},f))})})]}),h.jsxs("li",{children:[h.jsx("label",{className:"dt",children:""}),h.jsxs("div",{className:"dd",children:[h.jsx("span",{className:"input",children:h.jsx("input",{ref:n,name:"email",type:"email",placeholder:") test@naver.com",onInput:d=>c(d.currentTarget),"data-webkit-autofill":!0})}),a.isMail?h.jsx("i",{className:"chk fa-regular fa-check"}):h.jsx("p",{className:"msg-valid",children:"   ."})]})]}),h.jsxs("li",{children:[h.jsx("label",{className:"dt",children:""}),h.jsxs("div",{className:"dd",children:[h.jsx("span",{className:"input",children:h.jsx("input",{ref:r,name:"password",type:"password",placeholder:") abc123",onInput:d=>c(d.currentTarget),maxLength:15})}),a.isPwds?h.jsx("i",{className:"chk fa-regular fa-check"}):h.jsx("p",{className:"msg-valid",children:",  6  ."})]})]}),h.jsxs("li",{children:[h.jsx("label",{className:"dt",children:""}),h.jsxs("div",{className:"dd",children:[h.jsx("span",{className:"input",children:h.jsx("input",{ref:s,name:"nickname",type:"text",placeholder:"",onInput:d=>c(d.currentTarget),maxLength:15})}),a.isNick?h.jsx("i",{className:"chk fa-regular fa-check"}):h.jsx("p",{className:"msg-valid",children:"  ."})]})]})]}),h.jsx("div",{className:"btsbox btn-set",children:h.jsxs("button",{type:"button",className:"btn",disabled:!(a.isMail&&a.isPwds&&a.isNick),onClick:u.joinReq,children:[h.jsx("i",{className:"fa-regular fa-right-to-bracket"}),h.jsx("em",{children:""})]})}),h.jsxs("div",{className:"link",children:[" ? ",h.jsxs(gt,{className:"bt",to:"/user/signin",children:["  ",h.jsx("i",{className:"fa-regular fa-chevron-right"})]})]})]})})})]})}console.log(Bk,Fk,Uk);function rY(){const[t,e]=am(Fk),[n,r]=am(Uk),[s,i]=am(Bk),o=a=>{e(a.target.value)};return h.jsxs("div",{children:[h.jsx("input",{type:"text",value:t,onChange:o}),h.jsx("br",{}),"Echo: ",t,h.jsx("br",{})," ",n.a,h.jsx("br",{})," ",n.b,h.jsx("br",{})," ",s.state.userInfo.nick]})}function sY(){let t=lr();console.log(t),xn(),bn();let e=t.id;const[n,r]=C.useState({}),s=async u=>{const d=uE(lp,"member",u),f=await Kx(d);f.exists()?r({id:f.id,uid:f.data().uid,nick:f.data().nick,avatar:f.data().avatar,email:f.data().email,date:ee.dateForm(f.data().date.toDate()),liked:f.data().liked.length}):console.log("No such document!"),document.querySelector(".page.user").classList.add("load"),document.querySelector(".header .htit").innerText=n.nick||"",ee.loading.hide()},[i,o]=C.useState(null),[a,l]=C.useState(0),c=u=>{console.log(u),i.slideTo(u)};return C.useEffect(()=>(window.scrollTo(0,0),console.log(e,t),s(e),()=>{}),[n.nick]),console.log(at),h.jsxs(h.Fragment,{children:[h.jsx(Xs,{}),h.jsx("div",{className:"container page user view",children:h.jsxs("main",{className:"contents",children:[at!=null&&at.state?h.jsxs("div",{className:"profile",children:[h.jsxs("div",{className:"user",children:[h.jsx("span",{className:"pic",children:h.jsx("img",{src:at.state.avatar[n.avatar],className:"img"})}),h.jsxs("div",{className:"info",children:[h.jsxs("div",{className:"num b",children:[h.jsx("b",{className:"n",children:n.bbsNum||0}),h.jsx("p",{className:"t",children:"Post"})]}),h.jsxs("div",{className:"num p",children:[h.jsx("b",{className:"n",children:n.photoNum||0}),h.jsx("p",{className:"t",children:"Reply"})]}),h.jsxs("div",{className:"num l",children:[h.jsx("b",{className:"n",children:n.liked||0}),h.jsx("p",{className:"t",children:"Liked"})]})]})]}),h.jsxs("div",{className:"desc",children:[h.jsxs("span",{className:"txt",children:[h.jsx("i",{className:"fa-regular fa-calendar-days"})," Join : ",n.date]}),h.jsxs("span",{className:"txt",children:[h.jsx("i",{className:"fa-regular fa-envelope"})," ",n.email]})]})]}):null,h.jsxs("div",{className:"post",children:[h.jsxs("ul",{className:"menu",children:[h.jsx("li",{className:a==0?"active":"",children:h.jsx("button",{type:"button",className:"bt",onClick:()=>c(0),children:h.jsx("span",{children:h.jsx("i",{className:"fa-regular fa-list"})})})}),h.jsx("li",{className:a==1?"active":"",children:h.jsx("button",{type:"button",className:"bt",onClick:()=>c(1),children:h.jsx("span",{children:h.jsx("i",{className:"fa-regular fa-heart"})})})}),h.jsx("li",{className:a==2?"active":"",children:h.jsx("button",{type:"button",className:"bt",onClick:()=>c(2),children:h.jsx("span",{children:h.jsx("i",{className:"fa-regular fa-user"})})})})]}),h.jsxs(uu,{className:"swiper-wrapper swiper pctn ",modules:[vp,yp,Ep,wp,Sp],spaceBetween:0,slidesPerView:1,loop:!1,autoplay:!1,wrapperTag:"div",autoHeight:!1,onSwiper:u=>{console.log("initialize swiper",u),o(u)},onSlideChange:u=>{console.log("slide change",u.realIndex),l(u.realIndex),c(u.realIndex)},children:[h.jsxs(Fs,{tag:"article",className:"ctn repl",children:[" ",h.jsx(rY,{})]}),h.jsx(Fs,{tag:"article",className:"ctn like",children:""}),h.jsx(Fs,{tag:"article",className:"ctn revw",children:h.jsxs(gt,{to:"/user/signout",className:"btn logout",children:[h.jsx("i",{className:"fa-regular fa-right-from-bracket"}),"Logout"]})})]})]})]})})]})}function iY(){const t=JSON.parse(sessionStorage.getItem("user"));return t&&(store.state.userInfo.stat=!0,store.state.userInfo.uid=t==null?void 0:t.uid,store.state.userInfo.email=t==null?void 0:t.email,store.state.userInfo.join=new Date(parseInt(t==null?void 0:t.createdAt))),h.jsx(h.Fragment,{children:h.jsx(YU,{children:h.jsxs(tM,{children:[h.jsxs(IS,{children:[h.jsx(ve,{path:"*",element:h.jsx(Xu,{})}),h.jsx(ve,{path:"home/*",element:h.jsx(Ja,{prop:{headerType:"main"}})}),h.jsx(ve,{path:"list/*",element:h.jsx(Ja,{prop:{headerType:"main"}})}),h.jsx(ve,{path:"search/*",element:h.jsx(Ja,{prop:{headerType:"main"}})}),h.jsx(ve,{path:"movie/*",element:h.jsx(Ja,{prop:{headerType:"main"}})}),h.jsx(ve,{path:"user",children:h.jsx(ve,{path:":id",element:h.jsx(Ja,{prop:{headerType:"sub"}})})})]}),h.jsxs(IS,{children:[h.jsx(ve,{path:"*",element:h.jsx(Xu,{})}),h.jsx(ve,{path:"/",element:h.jsx(KD,{to:"/home/"})}),h.jsx(ve,{path:"home",element:h.jsx(wI,{})}),h.jsx(ve,{path:"home/:menu",element:h.jsx(wI,{}),children:h.jsxs(ve,{path:":id",element:h.jsx(Ju,{prop:{page:"home"}}),children:[h.jsx(ve,{path:"poster/:nums",element:h.jsx(Zu,{})}),h.jsx(ve,{path:"person/:nums",element:h.jsx(ed,{})}),h.jsx(ve,{path:"videos/:nums",element:h.jsx(td,{})})]})}),h.jsx(ve,{path:"list",children:h.jsx(ve,{path:":menu",children:h.jsx(ve,{path:":cate",element:h.jsx(YQ,{}),children:h.jsxs(ve,{path:":id",element:h.jsx(Ju,{prop:{page:"search"}}),children:[h.jsx(ve,{path:"poster/:nums",element:h.jsx(Zu,{})}),h.jsx(ve,{path:"person/:nums",element:h.jsx(ed,{})}),h.jsx(ve,{path:"videos/:nums",element:h.jsx(td,{})})]})})})}),h.jsxs(ve,{path:":menu",children:[h.jsx(ve,{path:"*",element:h.jsx(Xu,{})}),h.jsxs(ve,{path:":id",element:h.jsx(Ju,{prop:{page:"page"}}),children:[h.jsx(ve,{path:"poster/:nums",element:h.jsx(Zu,{})}),h.jsx(ve,{path:"person/:nums",element:h.jsx(ed,{})}),h.jsx(ve,{path:"videos/:nums",element:h.jsx(td,{})})]})]}),h.jsx(ve,{path:"search",children:h.jsxs(ve,{path:":menu",element:h.jsx(TI,{}),children:[h.jsxs(ve,{path:":id",element:h.jsx(Ju,{prop:{page:"search"}}),children:[h.jsx(ve,{path:"poster/:nums",element:h.jsx(Zu,{prop:{page:"search"}})}),h.jsx(ve,{path:"person/:nums",element:h.jsx(ed,{prop:{page:"search"}})}),h.jsx(ve,{path:"videos/:nums",element:h.jsx(td,{prop:{page:"search"}})})]}),h.jsx(ve,{path:":keyword",element:h.jsx(TI,{})})]})}),h.jsxs(ve,{path:"user",children:[h.jsx(ve,{path:"*",element:h.jsx(Xu,{})}),h.jsx(ve,{path:"signin",element:h.jsx(eY,{})}),h.jsx(ve,{path:"signout",element:h.jsx(tY,{})}),h.jsx(ve,{path:"signup",element:h.jsx(nY,{})}),h.jsx(ve,{path:":id",element:h.jsx(sY,{})})]})]}),h.jsx(BG,{})]})})})}qm.createRoot(document.getElementById("root")).render(h.jsx(pe.StrictMode,{children:h.jsx(iY,{})}));

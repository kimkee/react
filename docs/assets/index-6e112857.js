function sx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ix(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var E0={exports:{}},Ju={},w0={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=Symbol.for("react.element"),ox=Symbol.for("react.portal"),ax=Symbol.for("react.fragment"),lx=Symbol.for("react.strict_mode"),ux=Symbol.for("react.profiler"),cx=Symbol.for("react.provider"),dx=Symbol.for("react.context"),hx=Symbol.for("react.forward_ref"),fx=Symbol.for("react.suspense"),px=Symbol.for("react.memo"),mx=Symbol.for("react.lazy"),qg=Symbol.iterator;function gx(t){return t===null||typeof t!="object"?null:(t=qg&&t[qg]||t["@@iterator"],typeof t=="function"?t:null)}var S0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T0=Object.assign,C0={};function Oi(t,e,n){this.props=t,this.context=e,this.refs=C0,this.updater=n||S0}Oi.prototype.isReactComponent={};Oi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Oi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function x0(){}x0.prototype=Oi.prototype;function ap(t,e,n){this.props=t,this.context=e,this.refs=C0,this.updater=n||S0}var lp=ap.prototype=new x0;lp.constructor=ap;T0(lp,Oi.prototype);lp.isPureReactComponent=!0;var Wg=Array.isArray,I0=Object.prototype.hasOwnProperty,up={current:null},N0={key:!0,ref:!0,__self:!0,__source:!0};function R0(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)I0.call(e,r)&&!N0.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:wa,type:t,key:i,ref:o,props:s,_owner:up.current}}function yx(t,e){return{$$typeof:wa,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cp(t){return typeof t=="object"&&t!==null&&t.$$typeof===wa}function _x(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Gg=/\/+/g;function nd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?_x(""+t.key):e.toString(36)}function Dl(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wa:case ox:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+nd(o,0):r,Wg(s)?(n="",t!=null&&(n=t.replace(Gg,"$&/")+"/"),Dl(s,e,n,"",function(u){return u})):s!=null&&(cp(s)&&(s=yx(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Gg,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Wg(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+nd(i,a);o+=Dl(i,e,n,l,s)}else if(l=gx(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+nd(i,a++),o+=Dl(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Xa(t,e,n){if(t==null)return t;var r=[],s=0;return Dl(t,r,"","",function(i){return e.call(n,i,s++)}),r}function vx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Nt={current:null},Ll={transition:null},Ex={ReactCurrentDispatcher:Nt,ReactCurrentBatchConfig:Ll,ReactCurrentOwner:up};ee.Children={map:Xa,forEach:function(t,e,n){Xa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Xa(t,function(){e++}),e},toArray:function(t){return Xa(t,function(e){return e})||[]},only:function(t){if(!cp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ee.Component=Oi;ee.Fragment=ax;ee.Profiler=ux;ee.PureComponent=ap;ee.StrictMode=lx;ee.Suspense=fx;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ex;ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=T0({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=up.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)I0.call(e,l)&&!N0.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:wa,type:t.type,key:s,ref:i,props:r,_owner:o}};ee.createContext=function(t){return t={$$typeof:dx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cx,_context:t},t.Consumer=t};ee.createElement=R0;ee.createFactory=function(t){var e=R0.bind(null,t);return e.type=t,e};ee.createRef=function(){return{current:null}};ee.forwardRef=function(t){return{$$typeof:hx,render:t}};ee.isValidElement=cp;ee.lazy=function(t){return{$$typeof:mx,_payload:{_status:-1,_result:t},_init:vx}};ee.memo=function(t,e){return{$$typeof:px,type:t,compare:e===void 0?null:e}};ee.startTransition=function(t){var e=Ll.transition;Ll.transition={};try{t()}finally{Ll.transition=e}};ee.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ee.useCallback=function(t,e){return Nt.current.useCallback(t,e)};ee.useContext=function(t){return Nt.current.useContext(t)};ee.useDebugValue=function(){};ee.useDeferredValue=function(t){return Nt.current.useDeferredValue(t)};ee.useEffect=function(t,e){return Nt.current.useEffect(t,e)};ee.useId=function(){return Nt.current.useId()};ee.useImperativeHandle=function(t,e,n){return Nt.current.useImperativeHandle(t,e,n)};ee.useInsertionEffect=function(t,e){return Nt.current.useInsertionEffect(t,e)};ee.useLayoutEffect=function(t,e){return Nt.current.useLayoutEffect(t,e)};ee.useMemo=function(t,e){return Nt.current.useMemo(t,e)};ee.useReducer=function(t,e,n){return Nt.current.useReducer(t,e,n)};ee.useRef=function(t){return Nt.current.useRef(t)};ee.useState=function(t){return Nt.current.useState(t)};ee.useSyncExternalStore=function(t,e,n){return Nt.current.useSyncExternalStore(t,e,n)};ee.useTransition=function(){return Nt.current.useTransition()};ee.version="18.2.0";w0.exports=ee;var x=w0.exports;const Pe=ix(x),Kg=sx({__proto__:null,default:Pe},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx=x,Sx=Symbol.for("react.element"),Tx=Symbol.for("react.fragment"),Cx=Object.prototype.hasOwnProperty,xx=wx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ix={key:!0,ref:!0,__self:!0,__source:!0};function A0(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Cx.call(e,r)&&!Ix.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Sx,type:t,key:i,ref:o,props:s,_owner:xx.current}}Ju.Fragment=Tx;Ju.jsx=A0;Ju.jsxs=A0;E0.exports=Ju;var h=E0.exports,uh={},k0={exports:{}},zt={},P0={exports:{}},b0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(b,U){var G=b.length;b.push(U);e:for(;0<G;){var de=G-1>>>1,De=b[de];if(0<s(De,U))b[de]=U,b[G]=De,G=de;else break e}}function n(b){return b.length===0?null:b[0]}function r(b){if(b.length===0)return null;var U=b[0],G=b.pop();if(G!==U){b[0]=G;e:for(var de=0,De=b.length,Qa=De>>>1;de<Qa;){var Ur=2*(de+1)-1,td=b[Ur],zr=Ur+1,Ya=b[zr];if(0>s(td,G))zr<De&&0>s(Ya,td)?(b[de]=Ya,b[zr]=G,de=zr):(b[de]=td,b[Ur]=G,de=Ur);else if(zr<De&&0>s(Ya,G))b[de]=Ya,b[zr]=G,de=zr;else break e}}return U}function s(b,U){var G=b.sortIndex-U.sortIndex;return G!==0?G:b.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,_=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(b){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=b)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function w(b){if(g=!1,v(b),!_)if(n(l)!==null)_=!0,X(S);else{var U=n(u);U!==null&&Q(w,U.startTime-b)}}function S(b,U){_=!1,g&&(g=!1,m(A),A=-1),p=!0;var G=f;try{for(v(U),d=n(l);d!==null&&(!(d.expirationTime>U)||b&&!I());){var de=d.callback;if(typeof de=="function"){d.callback=null,f=d.priorityLevel;var De=de(d.expirationTime<=U);U=t.unstable_now(),typeof De=="function"?d.callback=De:d===n(l)&&r(l),v(U)}else r(l);d=n(l)}if(d!==null)var Qa=!0;else{var Ur=n(u);Ur!==null&&Q(w,Ur.startTime-U),Qa=!1}return Qa}finally{d=null,f=G,p=!1}}var N=!1,O=null,A=-1,q=5,T=-1;function I(){return!(t.unstable_now()-T<q)}function C(){if(O!==null){var b=t.unstable_now();T=b;var U=!0;try{U=O(!0,b)}finally{U?P():(N=!1,O=null)}}else N=!1}var P;if(typeof y=="function")P=function(){y(C)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,j=k.port2;k.port1.onmessage=C,P=function(){j.postMessage(null)}}else P=function(){E(C,0)};function X(b){O=b,N||(N=!0,P())}function Q(b,U){A=E(function(){b(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(b){b.callback=null},t.unstable_continueExecution=function(){_||p||(_=!0,X(S))},t.unstable_forceFrameRate=function(b){0>b||125<b?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<b?Math.floor(1e3/b):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(b){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var G=f;f=U;try{return b()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(b,U){switch(b){case 1:case 2:case 3:case 4:case 5:break;default:b=3}var G=f;f=b;try{return U()}finally{f=G}},t.unstable_scheduleCallback=function(b,U,G){var de=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?de+G:de):G=de,b){case 1:var De=-1;break;case 2:De=250;break;case 5:De=1073741823;break;case 4:De=1e4;break;default:De=5e3}return De=G+De,b={id:c++,callback:U,priorityLevel:b,startTime:G,expirationTime:De,sortIndex:-1},G>de?(b.sortIndex=G,e(u,b),n(l)===null&&b===n(u)&&(g?(m(A),A=-1):g=!0,Q(w,G-de))):(b.sortIndex=De,e(l,b),_||p||(_=!0,X(S))),b},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(b){var U=f;return function(){var G=f;f=U;try{return b.apply(this,arguments)}finally{f=G}}}})(b0);P0.exports=b0;var Nx=P0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O0=x,Ft=Nx;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var D0=new Set,Mo={};function Es(t,e){di(t,e),di(t+"Capture",e)}function di(t,e){for(Mo[t]=e,t=0;t<e.length;t++)D0.add(e[t])}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ch=Object.prototype.hasOwnProperty,Rx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Qg={},Yg={};function Ax(t){return ch.call(Yg,t)?!0:ch.call(Qg,t)?!1:Rx.test(t)?Yg[t]=!0:(Qg[t]=!0,!1)}function kx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Px(t,e,n,r){if(e===null||typeof e>"u"||kx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rt(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var at={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){at[t]=new Rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];at[e]=new Rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){at[t]=new Rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){at[t]=new Rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){at[t]=new Rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){at[t]=new Rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){at[t]=new Rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){at[t]=new Rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){at[t]=new Rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dp=/[\-:]([a-z])/g;function hp(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dp,hp);at[e]=new Rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dp,hp);at[e]=new Rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dp,hp);at[e]=new Rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){at[t]=new Rt(t,1,!1,t.toLowerCase(),null,!1,!1)});at.xlinkHref=new Rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){at[t]=new Rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fp(t,e,n,r){var s=at.hasOwnProperty(e)?at[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Px(e,n,s,r)&&(n=null),r||s===null?Ax(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xn=O0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ja=Symbol.for("react.element"),Ls=Symbol.for("react.portal"),Ms=Symbol.for("react.fragment"),pp=Symbol.for("react.strict_mode"),dh=Symbol.for("react.profiler"),L0=Symbol.for("react.provider"),M0=Symbol.for("react.context"),mp=Symbol.for("react.forward_ref"),hh=Symbol.for("react.suspense"),fh=Symbol.for("react.suspense_list"),gp=Symbol.for("react.memo"),rr=Symbol.for("react.lazy"),$0=Symbol.for("react.offscreen"),Xg=Symbol.iterator;function Ki(t){return t===null||typeof t!="object"?null:(t=Xg&&t[Xg]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,rd;function uo(t){if(rd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);rd=e&&e[1]||""}return`
`+rd+t}var sd=!1;function id(t,e){if(!t||sd)return"";sd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{sd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uo(t):""}function bx(t){switch(t.tag){case 5:return uo(t.type);case 16:return uo("Lazy");case 13:return uo("Suspense");case 19:return uo("SuspenseList");case 0:case 2:case 15:return t=id(t.type,!1),t;case 11:return t=id(t.type.render,!1),t;case 1:return t=id(t.type,!0),t;default:return""}}function ph(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ms:return"Fragment";case Ls:return"Portal";case dh:return"Profiler";case pp:return"StrictMode";case hh:return"Suspense";case fh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M0:return(t.displayName||"Context")+".Consumer";case L0:return(t._context.displayName||"Context")+".Provider";case mp:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gp:return e=t.displayName||null,e!==null?e:ph(t.type)||"Memo";case rr:e=t._payload,t=t._init;try{return ph(t(e))}catch{}}return null}function Ox(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ph(e);case 8:return e===pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Rr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function j0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Dx(t){var e=j0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Za(t){t._valueTracker||(t._valueTracker=Dx(t))}function V0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=j0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mh(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Jg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Rr(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F0(t,e){e=e.checked,e!=null&&fp(t,"checked",e,!1)}function gh(t,e){F0(t,e);var n=Rr(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yh(t,e.type,n):e.hasOwnProperty("defaultValue")&&yh(t,e.type,Rr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Zg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yh(t,e,n){(e!=="number"||Zl(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var co=Array.isArray;function Ys(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Rr(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function _h(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ey(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(co(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Rr(n)}}function U0(t,e){var n=Rr(e.value),r=Rr(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ty(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function z0(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?z0(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var el,B0=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(el=el||document.createElement("div"),el.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=el.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function $o(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _o={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Lx=["Webkit","ms","Moz","O"];Object.keys(_o).forEach(function(t){Lx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_o[e]=_o[t]})});function H0(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_o.hasOwnProperty(t)&&_o[t]?(""+e).trim():e+"px"}function q0(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=H0(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Mx=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eh(t,e){if(e){if(Mx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function wh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sh=null;function yp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Th=null,Xs=null,Js=null;function ny(t){if(t=Ca(t)){if(typeof Th!="function")throw Error(D(280));var e=t.stateNode;e&&(e=rc(e),Th(t.stateNode,t.type,e))}}function W0(t){Xs?Js?Js.push(t):Js=[t]:Xs=t}function G0(){if(Xs){var t=Xs,e=Js;if(Js=Xs=null,ny(t),e)for(t=0;t<e.length;t++)ny(e[t])}}function K0(t,e){return t(e)}function Q0(){}var od=!1;function Y0(t,e,n){if(od)return t(e,n);od=!0;try{return K0(t,e,n)}finally{od=!1,(Xs!==null||Js!==null)&&(Q0(),G0())}}function jo(t,e){var n=t.stateNode;if(n===null)return null;var r=rc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var Ch=!1;if(Bn)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){Ch=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{Ch=!1}function $x(t,e,n,r,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var vo=!1,eu=null,tu=!1,xh=null,jx={onError:function(t){vo=!0,eu=t}};function Vx(t,e,n,r,s,i,o,a,l){vo=!1,eu=null,$x.apply(jx,arguments)}function Fx(t,e,n,r,s,i,o,a,l){if(Vx.apply(this,arguments),vo){if(vo){var u=eu;vo=!1,eu=null}else throw Error(D(198));tu||(tu=!0,xh=u)}}function ws(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function X0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ry(t){if(ws(t)!==t)throw Error(D(188))}function Ux(t){var e=t.alternate;if(!e){if(e=ws(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return ry(s),t;if(i===r)return ry(s),e;i=i.sibling}throw Error(D(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(D(189))}}if(n.alternate!==r)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function J0(t){return t=Ux(t),t!==null?Z0(t):null}function Z0(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Z0(t);if(e!==null)return e;t=t.sibling}return null}var eE=Ft.unstable_scheduleCallback,sy=Ft.unstable_cancelCallback,zx=Ft.unstable_shouldYield,Bx=Ft.unstable_requestPaint,be=Ft.unstable_now,Hx=Ft.unstable_getCurrentPriorityLevel,_p=Ft.unstable_ImmediatePriority,tE=Ft.unstable_UserBlockingPriority,nu=Ft.unstable_NormalPriority,qx=Ft.unstable_LowPriority,nE=Ft.unstable_IdlePriority,Zu=null,Tn=null;function Wx(t){if(Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Zu,t,void 0,(t.current.flags&128)===128)}catch{}}var ln=Math.clz32?Math.clz32:Qx,Gx=Math.log,Kx=Math.LN2;function Qx(t){return t>>>=0,t===0?32:31-(Gx(t)/Kx|0)|0}var tl=64,nl=4194304;function ho(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=ho(a):(i&=o,i!==0&&(r=ho(i)))}else o=n&~s,o!==0?r=ho(o):i!==0&&(r=ho(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-ln(e),s=1<<n,r|=t[n],e&=~s;return r}function Yx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-ln(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=Yx(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ih(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rE(){var t=tl;return tl<<=1,!(tl&4194240)&&(tl=64),t}function ad(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sa(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ln(e),t[e]=n}function Jx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-ln(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function vp(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-ln(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var pe=0;function sE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var iE,Ep,oE,aE,lE,Nh=!1,rl=[],mr=null,gr=null,yr=null,Vo=new Map,Fo=new Map,ir=[],Zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function iy(t,e){switch(t){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fo.delete(e.pointerId)}}function Yi(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Ca(e),e!==null&&Ep(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function eI(t,e,n,r,s){switch(e){case"focusin":return mr=Yi(mr,t,e,n,r,s),!0;case"dragenter":return gr=Yi(gr,t,e,n,r,s),!0;case"mouseover":return yr=Yi(yr,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vo.set(i,Yi(Vo.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Fo.set(i,Yi(Fo.get(i)||null,t,e,n,r,s)),!0}return!1}function uE(t){var e=Gr(t.target);if(e!==null){var n=ws(e);if(n!==null){if(e=n.tag,e===13){if(e=X0(n),e!==null){t.blockedOn=e,lE(t.priority,function(){oE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ml(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Rh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sh=r,n.target.dispatchEvent(r),Sh=null}else return e=Ca(n),e!==null&&Ep(e),t.blockedOn=n,!1;e.shift()}return!0}function oy(t,e,n){Ml(t)&&n.delete(e)}function tI(){Nh=!1,mr!==null&&Ml(mr)&&(mr=null),gr!==null&&Ml(gr)&&(gr=null),yr!==null&&Ml(yr)&&(yr=null),Vo.forEach(oy),Fo.forEach(oy)}function Xi(t,e){t.blockedOn===e&&(t.blockedOn=null,Nh||(Nh=!0,Ft.unstable_scheduleCallback(Ft.unstable_NormalPriority,tI)))}function Uo(t){function e(s){return Xi(s,t)}if(0<rl.length){Xi(rl[0],t);for(var n=1;n<rl.length;n++){var r=rl[n];r.blockedOn===t&&(r.blockedOn=null)}}for(mr!==null&&Xi(mr,t),gr!==null&&Xi(gr,t),yr!==null&&Xi(yr,t),Vo.forEach(e),Fo.forEach(e),n=0;n<ir.length;n++)r=ir[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)uE(n),n.blockedOn===null&&ir.shift()}var Zs=Xn.ReactCurrentBatchConfig,su=!0;function nI(t,e,n,r){var s=pe,i=Zs.transition;Zs.transition=null;try{pe=1,wp(t,e,n,r)}finally{pe=s,Zs.transition=i}}function rI(t,e,n,r){var s=pe,i=Zs.transition;Zs.transition=null;try{pe=4,wp(t,e,n,r)}finally{pe=s,Zs.transition=i}}function wp(t,e,n,r){if(su){var s=Rh(t,e,n,r);if(s===null)yd(t,e,r,iu,n),iy(t,r);else if(eI(s,t,e,n,r))r.stopPropagation();else if(iy(t,r),e&4&&-1<Zx.indexOf(t)){for(;s!==null;){var i=Ca(s);if(i!==null&&iE(i),i=Rh(t,e,n,r),i===null&&yd(t,e,r,iu,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else yd(t,e,r,null,n)}}var iu=null;function Rh(t,e,n,r){if(iu=null,t=yp(r),t=Gr(t),t!==null)if(e=ws(t),e===null)t=null;else if(n=e.tag,n===13){if(t=X0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return iu=t,null}function cE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hx()){case _p:return 1;case tE:return 4;case nu:case qx:return 16;case nE:return 536870912;default:return 16}default:return 16}}var ar=null,Sp=null,$l=null;function dE(){if($l)return $l;var t,e=Sp,n=e.length,r,s="value"in ar?ar.value:ar.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return $l=s.slice(t,1<r?1-r:void 0)}function jl(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sl(){return!0}function ay(){return!1}function Bt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?sl:ay,this.isPropagationStopped=ay,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sl)},persist:function(){},isPersistent:sl}),e}var Di={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tp=Bt(Di),Ta=Re({},Di,{view:0,detail:0}),sI=Bt(Ta),ld,ud,Ji,ec=Re({},Ta,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ji&&(Ji&&t.type==="mousemove"?(ld=t.screenX-Ji.screenX,ud=t.screenY-Ji.screenY):ud=ld=0,Ji=t),ld)},movementY:function(t){return"movementY"in t?t.movementY:ud}}),ly=Bt(ec),iI=Re({},ec,{dataTransfer:0}),oI=Bt(iI),aI=Re({},Ta,{relatedTarget:0}),cd=Bt(aI),lI=Re({},Di,{animationName:0,elapsedTime:0,pseudoElement:0}),uI=Bt(lI),cI=Re({},Di,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dI=Bt(cI),hI=Re({},Di,{data:0}),uy=Bt(hI),fI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=mI[t])?!!e[t]:!1}function Cp(){return gI}var yI=Re({},Ta,{key:function(t){if(t.key){var e=fI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=jl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cp,charCode:function(t){return t.type==="keypress"?jl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?jl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),_I=Bt(yI),vI=Re({},ec,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cy=Bt(vI),EI=Re({},Ta,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cp}),wI=Bt(EI),SI=Re({},Di,{propertyName:0,elapsedTime:0,pseudoElement:0}),TI=Bt(SI),CI=Re({},ec,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xI=Bt(CI),II=[9,13,27,32],xp=Bn&&"CompositionEvent"in window,Eo=null;Bn&&"documentMode"in document&&(Eo=document.documentMode);var NI=Bn&&"TextEvent"in window&&!Eo,hE=Bn&&(!xp||Eo&&8<Eo&&11>=Eo),dy=String.fromCharCode(32),hy=!1;function fE(t,e){switch(t){case"keyup":return II.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var $s=!1;function RI(t,e){switch(t){case"compositionend":return pE(e);case"keypress":return e.which!==32?null:(hy=!0,dy);case"textInput":return t=e.data,t===dy&&hy?null:t;default:return null}}function AI(t,e){if($s)return t==="compositionend"||!xp&&fE(t,e)?(t=dE(),$l=Sp=ar=null,$s=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hE&&e.locale!=="ko"?null:e.data;default:return null}}var kI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!kI[t.type]:e==="textarea"}function mE(t,e,n,r){W0(r),e=ou(e,"onChange"),0<e.length&&(n=new Tp("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var wo=null,zo=null;function PI(t){IE(t,0)}function tc(t){var e=Fs(t);if(V0(e))return t}function bI(t,e){if(t==="change")return e}var gE=!1;if(Bn){var dd;if(Bn){var hd="oninput"in document;if(!hd){var py=document.createElement("div");py.setAttribute("oninput","return;"),hd=typeof py.oninput=="function"}dd=hd}else dd=!1;gE=dd&&(!document.documentMode||9<document.documentMode)}function my(){wo&&(wo.detachEvent("onpropertychange",yE),zo=wo=null)}function yE(t){if(t.propertyName==="value"&&tc(zo)){var e=[];mE(e,zo,t,yp(t)),Y0(PI,e)}}function OI(t,e,n){t==="focusin"?(my(),wo=e,zo=n,wo.attachEvent("onpropertychange",yE)):t==="focusout"&&my()}function DI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(zo)}function LI(t,e){if(t==="click")return tc(e)}function MI(t,e){if(t==="input"||t==="change")return tc(e)}function $I(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:$I;function Bo(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ch.call(e,s)||!dn(t[s],e[s]))return!1}return!0}function gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yy(t,e){var n=gy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=gy(n)}}function _E(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_E(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vE(){for(var t=window,e=Zl();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zl(t.document)}return e}function Ip(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function jI(t){var e=vE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_E(n.ownerDocument.documentElement,n)){if(r!==null&&Ip(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=yy(n,i);var o=yy(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var VI=Bn&&"documentMode"in document&&11>=document.documentMode,js=null,Ah=null,So=null,kh=!1;function _y(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;kh||js==null||js!==Zl(r)||(r=js,"selectionStart"in r&&Ip(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),So&&Bo(So,r)||(So=r,r=ou(Ah,"onSelect"),0<r.length&&(e=new Tp("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=js)))}function il(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vs={animationend:il("Animation","AnimationEnd"),animationiteration:il("Animation","AnimationIteration"),animationstart:il("Animation","AnimationStart"),transitionend:il("Transition","TransitionEnd")},fd={},EE={};Bn&&(EE=document.createElement("div").style,"AnimationEvent"in window||(delete Vs.animationend.animation,delete Vs.animationiteration.animation,delete Vs.animationstart.animation),"TransitionEvent"in window||delete Vs.transitionend.transition);function nc(t){if(fd[t])return fd[t];if(!Vs[t])return t;var e=Vs[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in EE)return fd[t]=e[n];return t}var wE=nc("animationend"),SE=nc("animationiteration"),TE=nc("animationstart"),CE=nc("transitionend"),xE=new Map,vy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(t,e){xE.set(t,e),Es(e,[t])}for(var pd=0;pd<vy.length;pd++){var md=vy[pd],FI=md.toLowerCase(),UI=md[0].toUpperCase()+md.slice(1);Dr(FI,"on"+UI)}Dr(wE,"onAnimationEnd");Dr(SE,"onAnimationIteration");Dr(TE,"onAnimationStart");Dr("dblclick","onDoubleClick");Dr("focusin","onFocus");Dr("focusout","onBlur");Dr(CE,"onTransitionEnd");di("onMouseEnter",["mouseout","mouseover"]);di("onMouseLeave",["mouseout","mouseover"]);di("onPointerEnter",["pointerout","pointerover"]);di("onPointerLeave",["pointerout","pointerover"]);Es("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Es("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Es("onBeforeInput",["compositionend","keypress","textInput","paste"]);Es("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Es("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zI=new Set("cancel close invalid load scroll toggle".split(" ").concat(fo));function Ey(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Fx(r,e,void 0,t),t.currentTarget=null}function IE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Ey(s,a,u),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Ey(s,a,u),i=l}}}if(tu)throw t=xh,tu=!1,xh=null,t}function _e(t,e){var n=e[Lh];n===void 0&&(n=e[Lh]=new Set);var r=t+"__bubble";n.has(r)||(NE(e,t,2,!1),n.add(r))}function gd(t,e,n){var r=0;e&&(r|=4),NE(n,t,r,e)}var ol="_reactListening"+Math.random().toString(36).slice(2);function Ho(t){if(!t[ol]){t[ol]=!0,D0.forEach(function(n){n!=="selectionchange"&&(zI.has(n)||gd(n,!1,t),gd(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ol]||(e[ol]=!0,gd("selectionchange",!1,e))}}function NE(t,e,n,r){switch(cE(e)){case 1:var s=nI;break;case 4:s=rI;break;default:s=wp}n=s.bind(null,e,n,t),s=void 0,!Ch||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function yd(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Gr(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Y0(function(){var u=i,c=yp(n),d=[];e:{var f=xE.get(t);if(f!==void 0){var p=Tp,_=t;switch(t){case"keypress":if(jl(n)===0)break e;case"keydown":case"keyup":p=_I;break;case"focusin":_="focus",p=cd;break;case"focusout":_="blur",p=cd;break;case"beforeblur":case"afterblur":p=cd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ly;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=oI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=wI;break;case wE:case SE:case TE:p=uI;break;case CE:p=TI;break;case"scroll":p=sI;break;case"wheel":p=xI;break;case"copy":case"cut":case"paste":p=dI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=cy}var g=(e&4)!==0,E=!g&&t==="scroll",m=g?f!==null?f+"Capture":null:f;g=[];for(var y=u,v;y!==null;){v=y;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,m!==null&&(w=jo(y,m),w!=null&&g.push(qo(y,w,v)))),E)break;y=y.return}0<g.length&&(f=new p(f,_,null,n,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Sh&&(_=n.relatedTarget||n.fromElement)&&(Gr(_)||_[Hn]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(_=n.relatedTarget||n.toElement,p=u,_=_?Gr(_):null,_!==null&&(E=ws(_),_!==E||_.tag!==5&&_.tag!==6)&&(_=null)):(p=null,_=u),p!==_)){if(g=ly,w="onMouseLeave",m="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(g=cy,w="onPointerLeave",m="onPointerEnter",y="pointer"),E=p==null?f:Fs(p),v=_==null?f:Fs(_),f=new g(w,y+"leave",p,n,c),f.target=E,f.relatedTarget=v,w=null,Gr(c)===u&&(g=new g(m,y+"enter",_,n,c),g.target=v,g.relatedTarget=E,w=g),E=w,p&&_)t:{for(g=p,m=_,y=0,v=g;v;v=As(v))y++;for(v=0,w=m;w;w=As(w))v++;for(;0<y-v;)g=As(g),y--;for(;0<v-y;)m=As(m),v--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=As(g),m=As(m)}g=null}else g=null;p!==null&&wy(d,f,p,g,!1),_!==null&&E!==null&&wy(d,E,_,g,!0)}}e:{if(f=u?Fs(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=bI;else if(fy(f))if(gE)S=MI;else{S=DI;var N=OI}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=LI);if(S&&(S=S(t,u))){mE(d,S,n,c);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&yh(f,"number",f.value)}switch(N=u?Fs(u):window,t){case"focusin":(fy(N)||N.contentEditable==="true")&&(js=N,Ah=u,So=null);break;case"focusout":So=Ah=js=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,_y(d,n,c);break;case"selectionchange":if(VI)break;case"keydown":case"keyup":_y(d,n,c)}var O;if(xp)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else $s?fE(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(hE&&n.locale!=="ko"&&($s||A!=="onCompositionStart"?A==="onCompositionEnd"&&$s&&(O=dE()):(ar=c,Sp="value"in ar?ar.value:ar.textContent,$s=!0)),N=ou(u,A),0<N.length&&(A=new uy(A,t,null,n,c),d.push({event:A,listeners:N}),O?A.data=O:(O=pE(n),O!==null&&(A.data=O)))),(O=NI?RI(t,n):AI(t,n))&&(u=ou(u,"onBeforeInput"),0<u.length&&(c=new uy("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=O))}IE(d,e)})}function qo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ou(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=jo(t,n),i!=null&&r.unshift(qo(t,i,s)),i=jo(t,e),i!=null&&r.push(qo(t,i,s))),t=t.return}return r}function As(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wy(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=jo(n,i),l!=null&&o.unshift(qo(n,l,a))):s||(l=jo(n,i),l!=null&&o.push(qo(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BI=/\r\n?/g,HI=/\u0000|\uFFFD/g;function Sy(t){return(typeof t=="string"?t:""+t).replace(BI,`
`).replace(HI,"")}function al(t,e,n){if(e=Sy(e),Sy(t)!==e&&n)throw Error(D(425))}function au(){}var Ph=null,bh=null;function Oh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dh=typeof setTimeout=="function"?setTimeout:void 0,qI=typeof clearTimeout=="function"?clearTimeout:void 0,Ty=typeof Promise=="function"?Promise:void 0,WI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ty<"u"?function(t){return Ty.resolve(null).then(t).catch(GI)}:Dh;function GI(t){setTimeout(function(){throw t})}function _d(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Uo(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Uo(e)}function _r(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Cy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Li=Math.random().toString(36).slice(2),gn="__reactFiber$"+Li,Wo="__reactProps$"+Li,Hn="__reactContainer$"+Li,Lh="__reactEvents$"+Li,KI="__reactListeners$"+Li,QI="__reactHandles$"+Li;function Gr(t){var e=t[gn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Hn]||n[gn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Cy(t);t!==null;){if(n=t[gn])return n;t=Cy(t)}return e}t=n,n=t.parentNode}return null}function Ca(t){return t=t[gn]||t[Hn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function rc(t){return t[Wo]||null}var Mh=[],Us=-1;function Lr(t){return{current:t}}function Se(t){0>Us||(t.current=Mh[Us],Mh[Us]=null,Us--)}function ye(t,e){Us++,Mh[Us]=t.current,t.current=e}var Ar={},wt=Lr(Ar),bt=Lr(!1),os=Ar;function hi(t,e){var n=t.type.contextTypes;if(!n)return Ar;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(t){return t=t.childContextTypes,t!=null}function lu(){Se(bt),Se(wt)}function xy(t,e,n){if(wt.current!==Ar)throw Error(D(168));ye(wt,e),ye(bt,n)}function RE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(D(108,Ox(t)||"Unknown",s));return Re({},n,r)}function uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ar,os=wt.current,ye(wt,t),ye(bt,bt.current),!0}function Iy(t,e,n){var r=t.stateNode;if(!r)throw Error(D(169));n?(t=RE(t,e,os),r.__reactInternalMemoizedMergedChildContext=t,Se(bt),Se(wt),ye(wt,t)):Se(bt),ye(bt,n)}var Dn=null,sc=!1,vd=!1;function AE(t){Dn===null?Dn=[t]:Dn.push(t)}function YI(t){sc=!0,AE(t)}function Mr(){if(!vd&&Dn!==null){vd=!0;var t=0,e=pe;try{var n=Dn;for(pe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Dn=null,sc=!1}catch(s){throw Dn!==null&&(Dn=Dn.slice(t+1)),eE(_p,Mr),s}finally{pe=e,vd=!1}}return null}var zs=[],Bs=0,cu=null,du=0,Ht=[],qt=0,as=null,Mn=1,$n="";function Br(t,e){zs[Bs++]=du,zs[Bs++]=cu,cu=t,du=e}function kE(t,e,n){Ht[qt++]=Mn,Ht[qt++]=$n,Ht[qt++]=as,as=t;var r=Mn;t=$n;var s=32-ln(r)-1;r&=~(1<<s),n+=1;var i=32-ln(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Mn=1<<32-ln(e)+s|n<<s|r,$n=i+t}else Mn=1<<i|n<<s|r,$n=t}function Np(t){t.return!==null&&(Br(t,1),kE(t,1,0))}function Rp(t){for(;t===cu;)cu=zs[--Bs],zs[Bs]=null,du=zs[--Bs],zs[Bs]=null;for(;t===as;)as=Ht[--qt],Ht[qt]=null,$n=Ht[--qt],Ht[qt]=null,Mn=Ht[--qt],Ht[qt]=null}var jt=null,$t=null,Ce=!1,rn=null;function PE(t,e){var n=Gt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ny(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jt=t,$t=_r(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jt=t,$t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=as!==null?{id:Mn,overflow:$n}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Gt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jt=t,$t=null,!0):!1;default:return!1}}function $h(t){return(t.mode&1)!==0&&(t.flags&128)===0}function jh(t){if(Ce){var e=$t;if(e){var n=e;if(!Ny(t,e)){if($h(t))throw Error(D(418));e=_r(n.nextSibling);var r=jt;e&&Ny(t,e)?PE(r,n):(t.flags=t.flags&-4097|2,Ce=!1,jt=t)}}else{if($h(t))throw Error(D(418));t.flags=t.flags&-4097|2,Ce=!1,jt=t}}}function Ry(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jt=t}function ll(t){if(t!==jt)return!1;if(!Ce)return Ry(t),Ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Oh(t.type,t.memoizedProps)),e&&(e=$t)){if($h(t))throw bE(),Error(D(418));for(;e;)PE(t,e),e=_r(e.nextSibling)}if(Ry(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$t=_r(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$t=null}}else $t=jt?_r(t.stateNode.nextSibling):null;return!0}function bE(){for(var t=$t;t;)t=_r(t.nextSibling)}function fi(){$t=jt=null,Ce=!1}function Ap(t){rn===null?rn=[t]:rn.push(t)}var XI=Xn.ReactCurrentBatchConfig;function tn(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var hu=Lr(null),fu=null,Hs=null,kp=null;function Pp(){kp=Hs=fu=null}function bp(t){var e=hu.current;Se(hu),t._currentValue=e}function Vh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ei(t,e){fu=t,kp=Hs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kt=!0),t.firstContext=null)}function Xt(t){var e=t._currentValue;if(kp!==t)if(t={context:t,memoizedValue:e,next:null},Hs===null){if(fu===null)throw Error(D(308));Hs=t,fu.dependencies={lanes:0,firstContext:t}}else Hs=Hs.next=t;return e}var Kr=null;function Op(t){Kr===null?Kr=[t]:Kr.push(t)}function OE(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Op(e)):(n.next=s.next,s.next=n),e.interleaved=n,qn(t,r)}function qn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sr=!1;function Dp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function DE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,qn(t,n)}return s=r.interleaved,s===null?(e.next=e,Op(r)):(e.next=s.next,s.next=e),r.interleaved=e,qn(t,n)}function Vl(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vp(t,n)}}function Ay(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pu(t,e,n,r){var s=t.updateQueue;sr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,c=u=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,g=a;switch(f=e,p=n,g.tag){case 1:if(_=g.payload,typeof _=="function"){d=_.call(p,d,f);break e}d=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=g.payload,f=typeof _=="function"?_.call(p,d,f):_,f==null)break e;d=Re({},d,f);break e;case 2:sr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(c===null&&(l=d),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);us|=o,t.lanes=o,t.memoizedState=d}}function ky(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(D(191,s));s.call(r)}}}var LE=new O0.Component().refs;function Fh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ic={isMounted:function(t){return(t=t._reactInternals)?ws(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=It(),s=wr(t),i=Fn(r,s);i.payload=e,n!=null&&(i.callback=n),e=vr(t,i,s),e!==null&&(un(e,t,s,r),Vl(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=It(),s=wr(t),i=Fn(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=vr(t,i,s),e!==null&&(un(e,t,s,r),Vl(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=It(),r=wr(t),s=Fn(n,r);s.tag=2,e!=null&&(s.callback=e),e=vr(t,s,r),e!==null&&(un(e,t,r,n),Vl(e,t,r))}};function Py(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Bo(n,r)||!Bo(s,i):!0}function ME(t,e,n){var r=!1,s=Ar,i=e.contextType;return typeof i=="object"&&i!==null?i=Xt(i):(s=Ot(e)?os:wt.current,r=e.contextTypes,i=(r=r!=null)?hi(t,s):Ar),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ic,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function by(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ic.enqueueReplaceState(e,e.state,null)}function Uh(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=LE,Dp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Xt(i):(i=Ot(e)?os:wt.current,s.context=hi(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Fh(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&ic.enqueueReplaceState(s,s.state,null),pu(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Zi(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var r=n.stateNode}if(!r)throw Error(D(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===LE&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function ul(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Oy(t){var e=t._init;return e(t._payload)}function $E(t){function e(m,y){if(t){var v=m.deletions;v===null?(m.deletions=[y],m.flags|=16):v.push(y)}}function n(m,y){if(!t)return null;for(;y!==null;)e(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(m,y){return m=Sr(m,y),m.index=0,m.sibling=null,m}function i(m,y,v){return m.index=v,t?(v=m.alternate,v!==null?(v=v.index,v<y?(m.flags|=2,y):v):(m.flags|=2,y)):(m.flags|=1048576,y)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,y,v,w){return y===null||y.tag!==6?(y=Id(v,m.mode,w),y.return=m,y):(y=s(y,v),y.return=m,y)}function l(m,y,v,w){var S=v.type;return S===Ms?c(m,y,v.props.children,w,v.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===rr&&Oy(S)===y.type)?(w=s(y,v.props),w.ref=Zi(m,y,v),w.return=m,w):(w=ql(v.type,v.key,v.props,null,m.mode,w),w.ref=Zi(m,y,v),w.return=m,w)}function u(m,y,v,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==v.containerInfo||y.stateNode.implementation!==v.implementation?(y=Nd(v,m.mode,w),y.return=m,y):(y=s(y,v.children||[]),y.return=m,y)}function c(m,y,v,w,S){return y===null||y.tag!==7?(y=ts(v,m.mode,w,S),y.return=m,y):(y=s(y,v),y.return=m,y)}function d(m,y,v){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Id(""+y,m.mode,v),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ja:return v=ql(y.type,y.key,y.props,null,m.mode,v),v.ref=Zi(m,null,y),v.return=m,v;case Ls:return y=Nd(y,m.mode,v),y.return=m,y;case rr:var w=y._init;return d(m,w(y._payload),v)}if(co(y)||Ki(y))return y=ts(y,m.mode,v,null),y.return=m,y;ul(m,y)}return null}function f(m,y,v,w){var S=y!==null?y.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:a(m,y,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ja:return v.key===S?l(m,y,v,w):null;case Ls:return v.key===S?u(m,y,v,w):null;case rr:return S=v._init,f(m,y,S(v._payload),w)}if(co(v)||Ki(v))return S!==null?null:c(m,y,v,w,null);ul(m,v)}return null}function p(m,y,v,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(v)||null,a(y,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ja:return m=m.get(w.key===null?v:w.key)||null,l(y,m,w,S);case Ls:return m=m.get(w.key===null?v:w.key)||null,u(y,m,w,S);case rr:var N=w._init;return p(m,y,v,N(w._payload),S)}if(co(w)||Ki(w))return m=m.get(v)||null,c(y,m,w,S,null);ul(y,w)}return null}function _(m,y,v,w){for(var S=null,N=null,O=y,A=y=0,q=null;O!==null&&A<v.length;A++){O.index>A?(q=O,O=null):q=O.sibling;var T=f(m,O,v[A],w);if(T===null){O===null&&(O=q);break}t&&O&&T.alternate===null&&e(m,O),y=i(T,y,A),N===null?S=T:N.sibling=T,N=T,O=q}if(A===v.length)return n(m,O),Ce&&Br(m,A),S;if(O===null){for(;A<v.length;A++)O=d(m,v[A],w),O!==null&&(y=i(O,y,A),N===null?S=O:N.sibling=O,N=O);return Ce&&Br(m,A),S}for(O=r(m,O);A<v.length;A++)q=p(O,m,A,v[A],w),q!==null&&(t&&q.alternate!==null&&O.delete(q.key===null?A:q.key),y=i(q,y,A),N===null?S=q:N.sibling=q,N=q);return t&&O.forEach(function(I){return e(m,I)}),Ce&&Br(m,A),S}function g(m,y,v,w){var S=Ki(v);if(typeof S!="function")throw Error(D(150));if(v=S.call(v),v==null)throw Error(D(151));for(var N=S=null,O=y,A=y=0,q=null,T=v.next();O!==null&&!T.done;A++,T=v.next()){O.index>A?(q=O,O=null):q=O.sibling;var I=f(m,O,T.value,w);if(I===null){O===null&&(O=q);break}t&&O&&I.alternate===null&&e(m,O),y=i(I,y,A),N===null?S=I:N.sibling=I,N=I,O=q}if(T.done)return n(m,O),Ce&&Br(m,A),S;if(O===null){for(;!T.done;A++,T=v.next())T=d(m,T.value,w),T!==null&&(y=i(T,y,A),N===null?S=T:N.sibling=T,N=T);return Ce&&Br(m,A),S}for(O=r(m,O);!T.done;A++,T=v.next())T=p(O,m,A,T.value,w),T!==null&&(t&&T.alternate!==null&&O.delete(T.key===null?A:T.key),y=i(T,y,A),N===null?S=T:N.sibling=T,N=T);return t&&O.forEach(function(C){return e(m,C)}),Ce&&Br(m,A),S}function E(m,y,v,w){if(typeof v=="object"&&v!==null&&v.type===Ms&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case Ja:e:{for(var S=v.key,N=y;N!==null;){if(N.key===S){if(S=v.type,S===Ms){if(N.tag===7){n(m,N.sibling),y=s(N,v.props.children),y.return=m,m=y;break e}}else if(N.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===rr&&Oy(S)===N.type){n(m,N.sibling),y=s(N,v.props),y.ref=Zi(m,N,v),y.return=m,m=y;break e}n(m,N);break}else e(m,N);N=N.sibling}v.type===Ms?(y=ts(v.props.children,m.mode,w,v.key),y.return=m,m=y):(w=ql(v.type,v.key,v.props,null,m.mode,w),w.ref=Zi(m,y,v),w.return=m,m=w)}return o(m);case Ls:e:{for(N=v.key;y!==null;){if(y.key===N)if(y.tag===4&&y.stateNode.containerInfo===v.containerInfo&&y.stateNode.implementation===v.implementation){n(m,y.sibling),y=s(y,v.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else e(m,y);y=y.sibling}y=Nd(v,m.mode,w),y.return=m,m=y}return o(m);case rr:return N=v._init,E(m,y,N(v._payload),w)}if(co(v))return _(m,y,v,w);if(Ki(v))return g(m,y,v,w);ul(m,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,y!==null&&y.tag===6?(n(m,y.sibling),y=s(y,v),y.return=m,m=y):(n(m,y),y=Id(v,m.mode,w),y.return=m,m=y),o(m)):n(m,y)}return E}var pi=$E(!0),jE=$E(!1),xa={},Cn=Lr(xa),Go=Lr(xa),Ko=Lr(xa);function Qr(t){if(t===xa)throw Error(D(174));return t}function Lp(t,e){switch(ye(Ko,e),ye(Go,t),ye(Cn,xa),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vh(e,t)}Se(Cn),ye(Cn,e)}function mi(){Se(Cn),Se(Go),Se(Ko)}function VE(t){Qr(Ko.current);var e=Qr(Cn.current),n=vh(e,t.type);e!==n&&(ye(Go,t),ye(Cn,n))}function Mp(t){Go.current===t&&(Se(Cn),Se(Go))}var xe=Lr(0);function mu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ed=[];function $p(){for(var t=0;t<Ed.length;t++)Ed[t]._workInProgressVersionPrimary=null;Ed.length=0}var Fl=Xn.ReactCurrentDispatcher,wd=Xn.ReactCurrentBatchConfig,ls=0,Ne=null,Ve=null,qe=null,gu=!1,To=!1,Qo=0,JI=0;function lt(){throw Error(D(321))}function jp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function Vp(t,e,n,r,s,i){if(ls=i,Ne=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fl.current=t===null||t.memoizedState===null?nN:rN,t=n(r,s),To){i=0;do{if(To=!1,Qo=0,25<=i)throw Error(D(301));i+=1,qe=Ve=null,e.updateQueue=null,Fl.current=sN,t=n(r,s)}while(To)}if(Fl.current=yu,e=Ve!==null&&Ve.next!==null,ls=0,qe=Ve=Ne=null,gu=!1,e)throw Error(D(300));return t}function Fp(){var t=Qo!==0;return Qo=0,t}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qe===null?Ne.memoizedState=qe=t:qe=qe.next=t,qe}function Jt(){if(Ve===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=Ve.next;var e=qe===null?Ne.memoizedState:qe.next;if(e!==null)qe=e,Ve=t;else{if(t===null)throw Error(D(310));Ve=t,t={memoizedState:Ve.memoizedState,baseState:Ve.baseState,baseQueue:Ve.baseQueue,queue:Ve.queue,next:null},qe===null?Ne.memoizedState=qe=t:qe=qe.next=t}return qe}function Yo(t,e){return typeof e=="function"?e(t):e}function Sd(t){var e=Jt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=Ve,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((ls&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,Ne.lanes|=c,us|=c}u=u.next}while(u!==null&&u!==i);l===null?o=r:l.next=a,dn(r,e.memoizedState)||(kt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ne.lanes|=i,us|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Td(t){var e=Jt(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);dn(i,e.memoizedState)||(kt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function FE(){}function UE(t,e){var n=Ne,r=Jt(),s=e(),i=!dn(r.memoizedState,s);if(i&&(r.memoizedState=s,kt=!0),r=r.queue,Up(HE.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||qe!==null&&qe.memoizedState.tag&1){if(n.flags|=2048,Xo(9,BE.bind(null,n,r,s,e),void 0,null),Ke===null)throw Error(D(349));ls&30||zE(n,e,s)}return s}function zE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function BE(t,e,n,r){e.value=n,e.getSnapshot=r,qE(e)&&WE(t)}function HE(t,e,n){return n(function(){qE(e)&&WE(t)})}function qE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function WE(t){var e=qn(t,1);e!==null&&un(e,t,1,-1)}function Dy(t){var e=mn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yo,lastRenderedState:t},e.queue=t,t=t.dispatch=tN.bind(null,Ne,t),[e.memoizedState,t]}function Xo(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ne.updateQueue,e===null?(e={lastEffect:null,stores:null},Ne.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function GE(){return Jt().memoizedState}function Ul(t,e,n,r){var s=mn();Ne.flags|=t,s.memoizedState=Xo(1|e,n,void 0,r===void 0?null:r)}function oc(t,e,n,r){var s=Jt();r=r===void 0?null:r;var i=void 0;if(Ve!==null){var o=Ve.memoizedState;if(i=o.destroy,r!==null&&jp(r,o.deps)){s.memoizedState=Xo(e,n,i,r);return}}Ne.flags|=t,s.memoizedState=Xo(1|e,n,i,r)}function Ly(t,e){return Ul(8390656,8,t,e)}function Up(t,e){return oc(2048,8,t,e)}function KE(t,e){return oc(4,2,t,e)}function QE(t,e){return oc(4,4,t,e)}function YE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function XE(t,e,n){return n=n!=null?n.concat([t]):null,oc(4,4,YE.bind(null,e,t),n)}function zp(){}function JE(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ZE(t,e){var n=Jt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ew(t,e,n){return ls&21?(dn(n,e)||(n=rE(),Ne.lanes|=n,us|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kt=!0),t.memoizedState=n)}function ZI(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var r=wd.transition;wd.transition={};try{t(!1),e()}finally{pe=n,wd.transition=r}}function tw(){return Jt().memoizedState}function eN(t,e,n){var r=wr(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},nw(t))rw(e,n);else if(n=OE(t,e,n,r),n!==null){var s=It();un(n,t,r,s),sw(n,e,r)}}function tN(t,e,n){var r=wr(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(nw(t))rw(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,dn(a,o)){var l=e.interleaved;l===null?(s.next=s,Op(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=OE(t,e,s,r),n!==null&&(s=It(),un(n,t,r,s),sw(n,e,r))}}function nw(t){var e=t.alternate;return t===Ne||e!==null&&e===Ne}function rw(t,e){To=gu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function sw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,vp(t,n)}}var yu={readContext:Xt,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useInsertionEffect:lt,useLayoutEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useMutableSource:lt,useSyncExternalStore:lt,useId:lt,unstable_isNewReconciler:!1},nN={readContext:Xt,useCallback:function(t,e){return mn().memoizedState=[t,e===void 0?null:e],t},useContext:Xt,useEffect:Ly,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ul(4194308,4,YE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ul(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ul(4,2,t,e)},useMemo:function(t,e){var n=mn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eN.bind(null,Ne,t),[r.memoizedState,t]},useRef:function(t){var e=mn();return t={current:t},e.memoizedState=t},useState:Dy,useDebugValue:zp,useDeferredValue:function(t){return mn().memoizedState=t},useTransition:function(){var t=Dy(!1),e=t[0];return t=ZI.bind(null,t[1]),mn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ne,s=mn();if(Ce){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Ke===null)throw Error(D(349));ls&30||zE(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Ly(HE.bind(null,r,i,t),[t]),r.flags|=2048,Xo(9,BE.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=mn(),e=Ke.identifierPrefix;if(Ce){var n=$n,r=Mn;n=(r&~(1<<32-ln(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Qo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=JI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rN={readContext:Xt,useCallback:JE,useContext:Xt,useEffect:Up,useImperativeHandle:XE,useInsertionEffect:KE,useLayoutEffect:QE,useMemo:ZE,useReducer:Sd,useRef:GE,useState:function(){return Sd(Yo)},useDebugValue:zp,useDeferredValue:function(t){var e=Jt();return ew(e,Ve.memoizedState,t)},useTransition:function(){var t=Sd(Yo)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:FE,useSyncExternalStore:UE,useId:tw,unstable_isNewReconciler:!1},sN={readContext:Xt,useCallback:JE,useContext:Xt,useEffect:Up,useImperativeHandle:XE,useInsertionEffect:KE,useLayoutEffect:QE,useMemo:ZE,useReducer:Td,useRef:GE,useState:function(){return Td(Yo)},useDebugValue:zp,useDeferredValue:function(t){var e=Jt();return Ve===null?e.memoizedState=t:ew(e,Ve.memoizedState,t)},useTransition:function(){var t=Td(Yo)[0],e=Jt().memoizedState;return[t,e]},useMutableSource:FE,useSyncExternalStore:UE,useId:tw,unstable_isNewReconciler:!1};function gi(t,e){try{var n="",r=e;do n+=bx(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Cd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var iN=typeof WeakMap=="function"?WeakMap:Map;function iw(t,e,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vu||(vu=!0,Jh=r),zh(t,e)},n}function ow(t,e,n){n=Fn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zh(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zh(t,e),typeof r!="function"&&(Er===null?Er=new Set([this]):Er.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function My(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new iN;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=vN.bind(null,t,e,n),e.then(t,t))}function $y(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Fn(-1,1),e.tag=2,vr(n,e,1))),n.lanes|=1),t)}var oN=Xn.ReactCurrentOwner,kt=!1;function Tt(t,e,n,r){e.child=t===null?jE(e,null,n,r):pi(e,t.child,n,r)}function Vy(t,e,n,r,s){n=n.render;var i=e.ref;return ei(e,s),r=Vp(t,e,n,r,i,s),n=Fp(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wn(t,e,s)):(Ce&&n&&Np(e),e.flags|=1,Tt(t,e,r,s),e.child)}function Fy(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Yp(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,aw(t,e,i,r,s)):(t=ql(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Bo,n(o,r)&&t.ref===e.ref)return Wn(t,e,s)}return e.flags|=1,t=Sr(i,r),t.ref=e.ref,t.return=e,e.child=t}function aw(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Bo(i,r)&&t.ref===e.ref)if(kt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(kt=!0);else return e.lanes=t.lanes,Wn(t,e,s)}return Bh(t,e,n,r,s)}function lw(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ye(Ws,Lt),Lt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ye(Ws,Lt),Lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ye(Ws,Lt),Lt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ye(Ws,Lt),Lt|=r;return Tt(t,e,s,n),e.child}function uw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Bh(t,e,n,r,s){var i=Ot(n)?os:wt.current;return i=hi(e,i),ei(e,s),n=Vp(t,e,n,r,i,s),r=Fp(),t!==null&&!kt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Wn(t,e,s)):(Ce&&r&&Np(e),e.flags|=1,Tt(t,e,n,s),e.child)}function Uy(t,e,n,r,s){if(Ot(n)){var i=!0;uu(e)}else i=!1;if(ei(e,s),e.stateNode===null)zl(t,e),ME(e,n,r),Uh(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Xt(u):(u=Ot(n)?os:wt.current,u=hi(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&by(e,o,r,u),sr=!1;var f=e.memoizedState;o.state=f,pu(e,r,o,s),l=e.memoizedState,a!==r||f!==l||bt.current||sr?(typeof c=="function"&&(Fh(e,n,c,r),l=e.memoizedState),(a=sr||Py(e,n,a,r,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,DE(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:tn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Xt(l):(l=Ot(n)?os:wt.current,l=hi(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&by(e,o,r,l),sr=!1,f=e.memoizedState,o.state=f,pu(e,r,o,s);var _=e.memoizedState;a!==d||f!==_||bt.current||sr?(typeof p=="function"&&(Fh(e,n,p,r),_=e.memoizedState),(u=sr||Py(e,n,u,r,f,_,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Hh(t,e,n,r,i,s)}function Hh(t,e,n,r,s,i){uw(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Iy(e,n,!1),Wn(t,e,i);r=e.stateNode,oN.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=pi(e,t.child,null,i),e.child=pi(e,null,a,i)):Tt(t,e,a,i),e.memoizedState=r.state,s&&Iy(e,n,!0),e.child}function cw(t){var e=t.stateNode;e.pendingContext?xy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xy(t,e.context,!1),Lp(t,e.containerInfo)}function zy(t,e,n,r,s){return fi(),Ap(s),e.flags|=256,Tt(t,e,n,r),e.child}var qh={dehydrated:null,treeContext:null,retryLane:0};function Wh(t){return{baseLanes:t,cachePool:null,transitions:null}}function dw(t,e,n){var r=e.pendingProps,s=xe.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ye(xe,s&1),t===null)return jh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=uc(o,r,0,null),t=ts(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Wh(n),e.memoizedState=qh,t):Bp(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return aN(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Sr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Sr(a,i):(i=ts(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Wh(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=qh,r}return i=t.child,t=i.sibling,r=Sr(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Bp(t,e){return e=uc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cl(t,e,n,r){return r!==null&&Ap(r),pi(e,t.child,null,n),t=Bp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function aN(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Cd(Error(D(422))),cl(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=uc({mode:"visible",children:r.children},s,0,null),i=ts(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&pi(e,t.child,null,o),e.child.memoizedState=Wh(o),e.memoizedState=qh,i);if(!(e.mode&1))return cl(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(D(419)),r=Cd(i,r,void 0),cl(t,e,o,r)}if(a=(o&t.childLanes)!==0,kt||a){if(r=Ke,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,qn(t,s),un(r,t,s,-1))}return Qp(),r=Cd(Error(D(421))),cl(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=EN.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$t=_r(s.nextSibling),jt=e,Ce=!0,rn=null,t!==null&&(Ht[qt++]=Mn,Ht[qt++]=$n,Ht[qt++]=as,Mn=t.id,$n=t.overflow,as=e),e=Bp(e,r.children),e.flags|=4096,e)}function By(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vh(t.return,e,n)}function xd(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hw(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Tt(t,e,r.children,n),r=xe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&By(t,n,e);else if(t.tag===19)By(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ye(xe,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mu(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xd(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mu(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xd(e,!0,n,null,i);break;case"together":xd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zl(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Wn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),us|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=Sr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Sr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lN(t,e,n){switch(e.tag){case 3:cw(e),fi();break;case 5:VE(e);break;case 1:Ot(e.type)&&uu(e);break;case 4:Lp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ye(hu,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ye(xe,xe.current&1),e.flags|=128,null):n&e.child.childLanes?dw(t,e,n):(ye(xe,xe.current&1),t=Wn(t,e,n),t!==null?t.sibling:null);ye(xe,xe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hw(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ye(xe,xe.current),r)break;return null;case 22:case 23:return e.lanes=0,lw(t,e,n)}return Wn(t,e,n)}var fw,Gh,pw,mw;fw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gh=function(){};pw=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Qr(Cn.current);var i=null;switch(n){case"input":s=mh(t,s),r=mh(t,r),i=[];break;case"select":s=Re({},s,{value:void 0}),r=Re({},r,{value:void 0}),i=[];break;case"textarea":s=_h(t,s),r=_h(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=au)}Eh(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mo.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&_e("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};mw=function(t,e,n,r){n!==r&&(e.flags|=4)};function eo(t,e){if(!Ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function uN(t,e,n){var r=e.pendingProps;switch(Rp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(e),null;case 1:return Ot(e.type)&&lu(),ut(e),null;case 3:return r=e.stateNode,mi(),Se(bt),Se(wt),$p(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ll(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rn!==null&&(tf(rn),rn=null))),Gh(t,e),ut(e),null;case 5:Mp(e);var s=Qr(Ko.current);if(n=e.type,t!==null&&e.stateNode!=null)pw(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(D(166));return ut(e),null}if(t=Qr(Cn.current),ll(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[gn]=e,r[Wo]=i,t=(e.mode&1)!==0,n){case"dialog":_e("cancel",r),_e("close",r);break;case"iframe":case"object":case"embed":_e("load",r);break;case"video":case"audio":for(s=0;s<fo.length;s++)_e(fo[s],r);break;case"source":_e("error",r);break;case"img":case"image":case"link":_e("error",r),_e("load",r);break;case"details":_e("toggle",r);break;case"input":Jg(r,i),_e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},_e("invalid",r);break;case"textarea":ey(r,i),_e("invalid",r)}Eh(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&al(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&al(r.textContent,a,t),s=["children",""+a]):Mo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&_e("scroll",r)}switch(n){case"input":Za(r),Zg(r,i,!0);break;case"textarea":Za(r),ty(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=au)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=z0(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[gn]=e,t[Wo]=r,fw(t,e,!1,!1),e.stateNode=t;e:{switch(o=wh(n,r),n){case"dialog":_e("cancel",t),_e("close",t),s=r;break;case"iframe":case"object":case"embed":_e("load",t),s=r;break;case"video":case"audio":for(s=0;s<fo.length;s++)_e(fo[s],t);s=r;break;case"source":_e("error",t),s=r;break;case"img":case"image":case"link":_e("error",t),_e("load",t),s=r;break;case"details":_e("toggle",t),s=r;break;case"input":Jg(t,r),s=mh(t,r),_e("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Re({},r,{value:void 0}),_e("invalid",t);break;case"textarea":ey(t,r),s=_h(t,r),_e("invalid",t);break;default:s=r}Eh(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?q0(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&B0(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$o(t,l):typeof l=="number"&&$o(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Mo.hasOwnProperty(i)?l!=null&&i==="onScroll"&&_e("scroll",t):l!=null&&fp(t,i,l,o))}switch(n){case"input":Za(t),Zg(t,r,!1);break;case"textarea":Za(t),ty(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Rr(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ys(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ys(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=au)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ut(e),null;case 6:if(t&&e.stateNode!=null)mw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(D(166));if(n=Qr(Ko.current),Qr(Cn.current),ll(e)){if(r=e.stateNode,n=e.memoizedProps,r[gn]=e,(i=r.nodeValue!==n)&&(t=jt,t!==null))switch(t.tag){case 3:al(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&al(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[gn]=e,e.stateNode=r}return ut(e),null;case 13:if(Se(xe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ce&&$t!==null&&e.mode&1&&!(e.flags&128))bE(),fi(),e.flags|=98560,i=!1;else if(i=ll(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(D(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(D(317));i[gn]=e}else fi(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ut(e),i=!1}else rn!==null&&(tf(rn),rn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xe.current&1?Fe===0&&(Fe=3):Qp())),e.updateQueue!==null&&(e.flags|=4),ut(e),null);case 4:return mi(),Gh(t,e),t===null&&Ho(e.stateNode.containerInfo),ut(e),null;case 10:return bp(e.type._context),ut(e),null;case 17:return Ot(e.type)&&lu(),ut(e),null;case 19:if(Se(xe),i=e.memoizedState,i===null)return ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)eo(i,!1);else{if(Fe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mu(t),o!==null){for(e.flags|=128,eo(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ye(xe,xe.current&1|2),e.child}t=t.sibling}i.tail!==null&&be()>yi&&(e.flags|=128,r=!0,eo(i,!1),e.lanes=4194304)}else{if(!r)if(t=mu(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),eo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ce)return ut(e),null}else 2*be()-i.renderingStartTime>yi&&n!==1073741824&&(e.flags|=128,r=!0,eo(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=be(),e.sibling=null,n=xe.current,ye(xe,r?n&1|2:n&1),e):(ut(e),null);case 22:case 23:return Kp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Lt&1073741824&&(ut(e),e.subtreeFlags&6&&(e.flags|=8192)):ut(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function cN(t,e){switch(Rp(e),e.tag){case 1:return Ot(e.type)&&lu(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return mi(),Se(bt),Se(wt),$p(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mp(e),null;case 13:if(Se(xe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));fi()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Se(xe),null;case 4:return mi(),null;case 10:return bp(e.type._context),null;case 22:case 23:return Kp(),null;case 24:return null;default:return null}}var dl=!1,ht=!1,dN=typeof WeakSet=="function"?WeakSet:Set,z=null;function qs(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ae(t,e,r)}else n.current=null}function Kh(t,e,n){try{n()}catch(r){Ae(t,e,r)}}var Hy=!1;function hN(t,e){if(Ph=su,t=vE(),Ip(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==n||s!==0&&d.nodeType!==3||(a=o+s),d!==i||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===n&&++u===s&&(a=o),f===i&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(bh={focusedElem:t,selectionRange:n},su=!1,z=e;z!==null;)if(e=z,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,z=t;else for(;z!==null;){e=z;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var g=_.memoizedProps,E=_.memoizedState,m=e.stateNode,y=m.getSnapshotBeforeUpdate(e.elementType===e.type?g:tn(e.type,g),E);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(w){Ae(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,z=t;break}z=e.return}return _=Hy,Hy=!1,_}function Co(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kh(e,n,i)}s=s.next}while(s!==r)}}function ac(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qh(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function gw(t){var e=t.alternate;e!==null&&(t.alternate=null,gw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[gn],delete e[Wo],delete e[Lh],delete e[KI],delete e[QI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function yw(t){return t.tag===5||t.tag===3||t.tag===4}function qy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||yw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=au));else if(r!==4&&(t=t.child,t!==null))for(Yh(t,e,n),t=t.sibling;t!==null;)Yh(t,e,n),t=t.sibling}function Xh(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xh(t,e,n),t=t.sibling;t!==null;)Xh(t,e,n),t=t.sibling}var tt=null,nn=!1;function tr(t,e,n){for(n=n.child;n!==null;)_w(t,e,n),n=n.sibling}function _w(t,e,n){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Zu,n)}catch{}switch(n.tag){case 5:ht||qs(n,e);case 6:var r=tt,s=nn;tt=null,tr(t,e,n),tt=r,nn=s,tt!==null&&(nn?(t=tt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):tt.removeChild(n.stateNode));break;case 18:tt!==null&&(nn?(t=tt,n=n.stateNode,t.nodeType===8?_d(t.parentNode,n):t.nodeType===1&&_d(t,n),Uo(t)):_d(tt,n.stateNode));break;case 4:r=tt,s=nn,tt=n.stateNode.containerInfo,nn=!0,tr(t,e,n),tt=r,nn=s;break;case 0:case 11:case 14:case 15:if(!ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kh(n,e,o),s=s.next}while(s!==r)}tr(t,e,n);break;case 1:if(!ht&&(qs(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ae(n,e,a)}tr(t,e,n);break;case 21:tr(t,e,n);break;case 22:n.mode&1?(ht=(r=ht)||n.memoizedState!==null,tr(t,e,n),ht=r):tr(t,e,n);break;default:tr(t,e,n)}}function Wy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dN),e.forEach(function(r){var s=wN.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function en(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tt=a.stateNode,nn=!1;break e;case 3:tt=a.stateNode.containerInfo,nn=!0;break e;case 4:tt=a.stateNode.containerInfo,nn=!0;break e}a=a.return}if(tt===null)throw Error(D(160));_w(i,o,s),tt=null,nn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Ae(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vw(e,t),e=e.sibling}function vw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),pn(t),r&4){try{Co(3,t,t.return),ac(3,t)}catch(g){Ae(t,t.return,g)}try{Co(5,t,t.return)}catch(g){Ae(t,t.return,g)}}break;case 1:en(e,t),pn(t),r&512&&n!==null&&qs(n,n.return);break;case 5:if(en(e,t),pn(t),r&512&&n!==null&&qs(n,n.return),t.flags&32){var s=t.stateNode;try{$o(s,"")}catch(g){Ae(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&F0(s,i),wh(a,o);var u=wh(a,i);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?q0(s,d):c==="dangerouslySetInnerHTML"?B0(s,d):c==="children"?$o(s,d):fp(s,c,d,u)}switch(a){case"input":gh(s,i);break;case"textarea":U0(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ys(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Ys(s,!!i.multiple,i.defaultValue,!0):Ys(s,!!i.multiple,i.multiple?[]:"",!1))}s[Wo]=i}catch(g){Ae(t,t.return,g)}}break;case 6:if(en(e,t),pn(t),r&4){if(t.stateNode===null)throw Error(D(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){Ae(t,t.return,g)}}break;case 3:if(en(e,t),pn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Uo(e.containerInfo)}catch(g){Ae(t,t.return,g)}break;case 4:en(e,t),pn(t);break;case 13:en(e,t),pn(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Wp=be())),r&4&&Wy(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ht=(u=ht)||c,en(e,t),ht=u):en(e,t),pn(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(z=t,c=t.child;c!==null;){for(d=z=c;z!==null;){switch(f=z,p=f.child,f.tag){case 0:case 11:case 14:case 15:Co(4,f,f.return);break;case 1:qs(f,f.return);var _=f.stateNode;if(typeof _.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(g){Ae(r,n,g)}}break;case 5:qs(f,f.return);break;case 22:if(f.memoizedState!==null){Ky(d);continue}}p!==null?(p.return=f,z=p):Ky(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{s=d.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=H0("display",o))}catch(g){Ae(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Ae(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:en(e,t),pn(t),r&4&&Wy(t);break;case 21:break;default:en(e,t),pn(t)}}function pn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(yw(n)){var r=n;break e}n=n.return}throw Error(D(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($o(s,""),r.flags&=-33);var i=qy(t);Xh(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=qy(t);Yh(t,a,o);break;default:throw Error(D(161))}}catch(l){Ae(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function fN(t,e,n){z=t,Ew(t)}function Ew(t,e,n){for(var r=(t.mode&1)!==0;z!==null;){var s=z,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||dl;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ht;a=dl;var u=ht;if(dl=o,(ht=l)&&!u)for(z=s;z!==null;)o=z,l=o.child,o.tag===22&&o.memoizedState!==null?Qy(s):l!==null?(l.return=o,z=l):Qy(s);for(;i!==null;)z=i,Ew(i),i=i.sibling;z=s,dl=a,ht=u}Gy(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,z=i):Gy(t)}}function Gy(t){for(;z!==null;){var e=z;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ht||ac(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:tn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&ky(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ky(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Uo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}ht||e.flags&512&&Qh(e)}catch(f){Ae(e,e.return,f)}}if(e===t){z=null;break}if(n=e.sibling,n!==null){n.return=e.return,z=n;break}z=e.return}}function Ky(t){for(;z!==null;){var e=z;if(e===t){z=null;break}var n=e.sibling;if(n!==null){n.return=e.return,z=n;break}z=e.return}}function Qy(t){for(;z!==null;){var e=z;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ac(4,e)}catch(l){Ae(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Ae(e,s,l)}}var i=e.return;try{Qh(e)}catch(l){Ae(e,i,l)}break;case 5:var o=e.return;try{Qh(e)}catch(l){Ae(e,o,l)}}}catch(l){Ae(e,e.return,l)}if(e===t){z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,z=a;break}z=e.return}}var pN=Math.ceil,_u=Xn.ReactCurrentDispatcher,Hp=Xn.ReactCurrentOwner,Qt=Xn.ReactCurrentBatchConfig,le=0,Ke=null,$e=null,it=0,Lt=0,Ws=Lr(0),Fe=0,Jo=null,us=0,lc=0,qp=0,xo=null,At=null,Wp=0,yi=1/0,On=null,vu=!1,Jh=null,Er=null,hl=!1,lr=null,Eu=0,Io=0,Zh=null,Bl=-1,Hl=0;function It(){return le&6?be():Bl!==-1?Bl:Bl=be()}function wr(t){return t.mode&1?le&2&&it!==0?it&-it:XI.transition!==null?(Hl===0&&(Hl=rE()),Hl):(t=pe,t!==0||(t=window.event,t=t===void 0?16:cE(t.type)),t):1}function un(t,e,n,r){if(50<Io)throw Io=0,Zh=null,Error(D(185));Sa(t,n,r),(!(le&2)||t!==Ke)&&(t===Ke&&(!(le&2)&&(lc|=n),Fe===4&&or(t,it)),Dt(t,r),n===1&&le===0&&!(e.mode&1)&&(yi=be()+500,sc&&Mr()))}function Dt(t,e){var n=t.callbackNode;Xx(t,e);var r=ru(t,t===Ke?it:0);if(r===0)n!==null&&sy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&sy(n),e===1)t.tag===0?YI(Yy.bind(null,t)):AE(Yy.bind(null,t)),WI(function(){!(le&6)&&Mr()}),n=null;else{switch(sE(r)){case 1:n=_p;break;case 4:n=tE;break;case 16:n=nu;break;case 536870912:n=nE;break;default:n=nu}n=Rw(n,ww.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ww(t,e){if(Bl=-1,Hl=0,le&6)throw Error(D(327));var n=t.callbackNode;if(ti()&&t.callbackNode!==n)return null;var r=ru(t,t===Ke?it:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wu(t,r);else{e=r;var s=le;le|=2;var i=Tw();(Ke!==t||it!==e)&&(On=null,yi=be()+500,es(t,e));do try{yN();break}catch(a){Sw(t,a)}while(1);Pp(),_u.current=i,le=s,$e!==null?e=0:(Ke=null,it=0,e=Fe)}if(e!==0){if(e===2&&(s=Ih(t),s!==0&&(r=s,e=ef(t,s))),e===1)throw n=Jo,es(t,0),or(t,r),Dt(t,be()),n;if(e===6)or(t,r);else{if(s=t.current.alternate,!(r&30)&&!mN(s)&&(e=wu(t,r),e===2&&(i=Ih(t),i!==0&&(r=i,e=ef(t,i))),e===1))throw n=Jo,es(t,0),or(t,r),Dt(t,be()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(D(345));case 2:Hr(t,At,On);break;case 3:if(or(t,r),(r&130023424)===r&&(e=Wp+500-be(),10<e)){if(ru(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){It(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Dh(Hr.bind(null,t,At,On),e);break}Hr(t,At,On);break;case 4:if(or(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-ln(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=be()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pN(r/1960))-r,10<r){t.timeoutHandle=Dh(Hr.bind(null,t,At,On),r);break}Hr(t,At,On);break;case 5:Hr(t,At,On);break;default:throw Error(D(329))}}}return Dt(t,be()),t.callbackNode===n?ww.bind(null,t):null}function ef(t,e){var n=xo;return t.current.memoizedState.isDehydrated&&(es(t,e).flags|=256),t=wu(t,e),t!==2&&(e=At,At=n,e!==null&&tf(e)),t}function tf(t){At===null?At=t:At.push.apply(At,t)}function mN(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!dn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function or(t,e){for(e&=~qp,e&=~lc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-ln(e),r=1<<n;t[n]=-1,e&=~r}}function Yy(t){if(le&6)throw Error(D(327));ti();var e=ru(t,0);if(!(e&1))return Dt(t,be()),null;var n=wu(t,e);if(t.tag!==0&&n===2){var r=Ih(t);r!==0&&(e=r,n=ef(t,r))}if(n===1)throw n=Jo,es(t,0),or(t,e),Dt(t,be()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Hr(t,At,On),Dt(t,be()),null}function Gp(t,e){var n=le;le|=1;try{return t(e)}finally{le=n,le===0&&(yi=be()+500,sc&&Mr())}}function cs(t){lr!==null&&lr.tag===0&&!(le&6)&&ti();var e=le;le|=1;var n=Qt.transition,r=pe;try{if(Qt.transition=null,pe=1,t)return t()}finally{pe=r,Qt.transition=n,le=e,!(le&6)&&Mr()}}function Kp(){Lt=Ws.current,Se(Ws)}function es(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,qI(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Rp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&lu();break;case 3:mi(),Se(bt),Se(wt),$p();break;case 5:Mp(r);break;case 4:mi();break;case 13:Se(xe);break;case 19:Se(xe);break;case 10:bp(r.type._context);break;case 22:case 23:Kp()}n=n.return}if(Ke=t,$e=t=Sr(t.current,null),it=Lt=e,Fe=0,Jo=null,qp=lc=us=0,At=xo=null,Kr!==null){for(e=0;e<Kr.length;e++)if(n=Kr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Kr=null}return t}function Sw(t,e){do{var n=$e;try{if(Pp(),Fl.current=yu,gu){for(var r=Ne.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gu=!1}if(ls=0,qe=Ve=Ne=null,To=!1,Qo=0,Hp.current=null,n===null||n.return===null){Fe=1,Jo=e,$e=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=it,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=$y(o);if(p!==null){p.flags&=-257,jy(p,o,a,i,e),p.mode&1&&My(i,u,e),e=p,l=u;var _=e.updateQueue;if(_===null){var g=new Set;g.add(l),e.updateQueue=g}else _.add(l);break e}else{if(!(e&1)){My(i,u,e),Qp();break e}l=Error(D(426))}}else if(Ce&&a.mode&1){var E=$y(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),jy(E,o,a,i,e),Ap(gi(l,a));break e}}i=l=gi(l,a),Fe!==4&&(Fe=2),xo===null?xo=[i]:xo.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=iw(i,l,e);Ay(i,m);break e;case 1:a=l;var y=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Er===null||!Er.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=ow(i,a,e);Ay(i,w);break e}}i=i.return}while(i!==null)}xw(n)}catch(S){e=S,$e===n&&n!==null&&($e=n=n.return);continue}break}while(1)}function Tw(){var t=_u.current;return _u.current=yu,t===null?yu:t}function Qp(){(Fe===0||Fe===3||Fe===2)&&(Fe=4),Ke===null||!(us&268435455)&&!(lc&268435455)||or(Ke,it)}function wu(t,e){var n=le;le|=2;var r=Tw();(Ke!==t||it!==e)&&(On=null,es(t,e));do try{gN();break}catch(s){Sw(t,s)}while(1);if(Pp(),le=n,_u.current=r,$e!==null)throw Error(D(261));return Ke=null,it=0,Fe}function gN(){for(;$e!==null;)Cw($e)}function yN(){for(;$e!==null&&!zx();)Cw($e)}function Cw(t){var e=Nw(t.alternate,t,Lt);t.memoizedProps=t.pendingProps,e===null?xw(t):$e=e,Hp.current=null}function xw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=cN(n,e),n!==null){n.flags&=32767,$e=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Fe=6,$e=null;return}}else if(n=uN(n,e,Lt),n!==null){$e=n;return}if(e=e.sibling,e!==null){$e=e;return}$e=e=t}while(e!==null);Fe===0&&(Fe=5)}function Hr(t,e,n){var r=pe,s=Qt.transition;try{Qt.transition=null,pe=1,_N(t,e,n,r)}finally{Qt.transition=s,pe=r}return null}function _N(t,e,n,r){do ti();while(lr!==null);if(le&6)throw Error(D(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Jx(t,i),t===Ke&&($e=Ke=null,it=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||hl||(hl=!0,Rw(nu,function(){return ti(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qt.transition,Qt.transition=null;var o=pe;pe=1;var a=le;le|=4,Hp.current=null,hN(t,n),vw(n,t),jI(bh),su=!!Ph,bh=Ph=null,t.current=n,fN(n),Bx(),le=a,pe=o,Qt.transition=i}else t.current=n;if(hl&&(hl=!1,lr=t,Eu=s),i=t.pendingLanes,i===0&&(Er=null),Wx(n.stateNode),Dt(t,be()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vu)throw vu=!1,t=Jh,Jh=null,t;return Eu&1&&t.tag!==0&&ti(),i=t.pendingLanes,i&1?t===Zh?Io++:(Io=0,Zh=t):Io=0,Mr(),null}function ti(){if(lr!==null){var t=sE(Eu),e=Qt.transition,n=pe;try{if(Qt.transition=null,pe=16>t?16:t,lr===null)var r=!1;else{if(t=lr,lr=null,Eu=0,le&6)throw Error(D(331));var s=le;for(le|=4,z=t.current;z!==null;){var i=z,o=i.child;if(z.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(z=u;z!==null;){var c=z;switch(c.tag){case 0:case 11:case 15:Co(8,c,i)}var d=c.child;if(d!==null)d.return=c,z=d;else for(;z!==null;){c=z;var f=c.sibling,p=c.return;if(gw(c),c===u){z=null;break}if(f!==null){f.return=p,z=f;break}z=p}}}var _=i.alternate;if(_!==null){var g=_.child;if(g!==null){_.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}z=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,z=o;else e:for(;z!==null;){if(i=z,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Co(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,z=m;break e}z=i.return}}var y=t.current;for(z=y;z!==null;){o=z;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,z=v;else e:for(o=y;z!==null;){if(a=z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ac(9,a)}}catch(S){Ae(a,a.return,S)}if(a===o){z=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,z=w;break e}z=a.return}}if(le=s,Mr(),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Zu,t)}catch{}r=!0}return r}finally{pe=n,Qt.transition=e}}return!1}function Xy(t,e,n){e=gi(n,e),e=iw(t,e,1),t=vr(t,e,1),e=It(),t!==null&&(Sa(t,1,e),Dt(t,e))}function Ae(t,e,n){if(t.tag===3)Xy(t,t,n);else for(;e!==null;){if(e.tag===3){Xy(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Er===null||!Er.has(r))){t=gi(n,t),t=ow(e,t,1),e=vr(e,t,1),t=It(),e!==null&&(Sa(e,1,t),Dt(e,t));break}}e=e.return}}function vN(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=It(),t.pingedLanes|=t.suspendedLanes&n,Ke===t&&(it&n)===n&&(Fe===4||Fe===3&&(it&130023424)===it&&500>be()-Wp?es(t,0):qp|=n),Dt(t,e)}function Iw(t,e){e===0&&(t.mode&1?(e=nl,nl<<=1,!(nl&130023424)&&(nl=4194304)):e=1);var n=It();t=qn(t,e),t!==null&&(Sa(t,e,n),Dt(t,n))}function EN(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Iw(t,n)}function wN(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(D(314))}r!==null&&r.delete(e),Iw(t,n)}var Nw;Nw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||bt.current)kt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kt=!1,lN(t,e,n);kt=!!(t.flags&131072)}else kt=!1,Ce&&e.flags&1048576&&kE(e,du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zl(t,e),t=e.pendingProps;var s=hi(e,wt.current);ei(e,n),s=Vp(null,e,r,t,s,n);var i=Fp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ot(r)?(i=!0,uu(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Dp(e),s.updater=ic,e.stateNode=s,s._reactInternals=e,Uh(e,r,t,n),e=Hh(null,e,r,!0,i,n)):(e.tag=0,Ce&&i&&Np(e),Tt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zl(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=TN(r),t=tn(r,t),s){case 0:e=Bh(null,e,r,t,n);break e;case 1:e=Uy(null,e,r,t,n);break e;case 11:e=Vy(null,e,r,t,n);break e;case 14:e=Fy(null,e,r,tn(r.type,t),n);break e}throw Error(D(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),Bh(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),Uy(t,e,r,s,n);case 3:e:{if(cw(e),t===null)throw Error(D(387));r=e.pendingProps,i=e.memoizedState,s=i.element,DE(t,e),pu(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=gi(Error(D(423)),e),e=zy(t,e,r,n,s);break e}else if(r!==s){s=gi(Error(D(424)),e),e=zy(t,e,r,n,s);break e}else for($t=_r(e.stateNode.containerInfo.firstChild),jt=e,Ce=!0,rn=null,n=jE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fi(),r===s){e=Wn(t,e,n);break e}Tt(t,e,r,n)}e=e.child}return e;case 5:return VE(e),t===null&&jh(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Oh(r,s)?o=null:i!==null&&Oh(r,i)&&(e.flags|=32),uw(t,e),Tt(t,e,o,n),e.child;case 6:return t===null&&jh(e),null;case 13:return dw(t,e,n);case 4:return Lp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pi(e,null,r,n):Tt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),Vy(t,e,r,s,n);case 7:return Tt(t,e,e.pendingProps,n),e.child;case 8:return Tt(t,e,e.pendingProps.children,n),e.child;case 12:return Tt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ye(hu,r._currentValue),r._currentValue=o,i!==null)if(dn(i.value,o)){if(i.children===s.children&&!bt.current){e=Wn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Fn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Vh(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(D(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vh(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Tt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ei(e,n),s=Xt(s),r=r(s),e.flags|=1,Tt(t,e,r,n),e.child;case 14:return r=e.type,s=tn(r,e.pendingProps),s=tn(r.type,s),Fy(t,e,r,s,n);case 15:return aw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:tn(r,s),zl(t,e),e.tag=1,Ot(r)?(t=!0,uu(e)):t=!1,ei(e,n),ME(e,r,s),Uh(e,r,s,n),Hh(null,e,r,!0,t,n);case 19:return hw(t,e,n);case 22:return lw(t,e,n)}throw Error(D(156,e.tag))};function Rw(t,e){return eE(t,e)}function SN(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gt(t,e,n,r){return new SN(t,e,n,r)}function Yp(t){return t=t.prototype,!(!t||!t.isReactComponent)}function TN(t){if(typeof t=="function")return Yp(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mp)return 11;if(t===gp)return 14}return 2}function Sr(t,e){var n=t.alternate;return n===null?(n=Gt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ql(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Yp(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ms:return ts(n.children,s,i,e);case pp:o=8,s|=8;break;case dh:return t=Gt(12,n,e,s|2),t.elementType=dh,t.lanes=i,t;case hh:return t=Gt(13,n,e,s),t.elementType=hh,t.lanes=i,t;case fh:return t=Gt(19,n,e,s),t.elementType=fh,t.lanes=i,t;case $0:return uc(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case L0:o=10;break e;case M0:o=9;break e;case mp:o=11;break e;case gp:o=14;break e;case rr:o=16,r=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=Gt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ts(t,e,n,r){return t=Gt(7,t,r,e),t.lanes=n,t}function uc(t,e,n,r){return t=Gt(22,t,r,e),t.elementType=$0,t.lanes=n,t.stateNode={isHidden:!1},t}function Id(t,e,n){return t=Gt(6,t,null,e),t.lanes=n,t}function Nd(t,e,n){return e=Gt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function CN(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ad(0),this.expirationTimes=ad(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ad(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Xp(t,e,n,r,s,i,o,a,l){return t=new CN(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Gt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dp(i),t}function xN(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ls,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Aw(t){if(!t)return Ar;t=t._reactInternals;e:{if(ws(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(Ot(n))return RE(t,n,e)}return e}function kw(t,e,n,r,s,i,o,a,l){return t=Xp(n,r,!0,t,s,i,o,a,l),t.context=Aw(null),n=t.current,r=It(),s=wr(n),i=Fn(r,s),i.callback=e??null,vr(n,i,s),t.current.lanes=s,Sa(t,s,r),Dt(t,r),t}function cc(t,e,n,r){var s=e.current,i=It(),o=wr(s);return n=Aw(n),e.context===null?e.context=n:e.pendingContext=n,e=Fn(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vr(s,e,o),t!==null&&(un(t,s,o,i),Vl(t,s,o)),o}function Su(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jy(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jp(t,e){Jy(t,e),(t=t.alternate)&&Jy(t,e)}function IN(){return null}var Pw=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zp(t){this._internalRoot=t}dc.prototype.render=Zp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));cc(t,e,null,null)};dc.prototype.unmount=Zp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;cs(function(){cc(null,t,null,null)}),e[Hn]=null}};function dc(t){this._internalRoot=t}dc.prototype.unstable_scheduleHydration=function(t){if(t){var e=aE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ir.length&&e!==0&&e<ir[n].priority;n++);ir.splice(n,0,t),n===0&&uE(t)}};function em(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function hc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Zy(){}function NN(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Su(o);i.call(u)}}var o=kw(e,r,t,0,null,!1,!1,"",Zy);return t._reactRootContainer=o,t[Hn]=o.current,Ho(t.nodeType===8?t.parentNode:t),cs(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=Su(l);a.call(u)}}var l=Xp(t,0,!1,null,null,!1,!1,"",Zy);return t._reactRootContainer=l,t[Hn]=l.current,Ho(t.nodeType===8?t.parentNode:t),cs(function(){cc(e,l,n,r)}),l}function fc(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Su(o);a.call(l)}}cc(e,o,t,s)}else o=NN(n,e,t,s,r);return Su(o)}iE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ho(e.pendingLanes);n!==0&&(vp(e,n|1),Dt(e,be()),!(le&6)&&(yi=be()+500,Mr()))}break;case 13:cs(function(){var r=qn(t,1);if(r!==null){var s=It();un(r,t,1,s)}}),Jp(t,1)}};Ep=function(t){if(t.tag===13){var e=qn(t,134217728);if(e!==null){var n=It();un(e,t,134217728,n)}Jp(t,134217728)}};oE=function(t){if(t.tag===13){var e=wr(t),n=qn(t,e);if(n!==null){var r=It();un(n,t,e,r)}Jp(t,e)}};aE=function(){return pe};lE=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};Th=function(t,e,n){switch(e){case"input":if(gh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=rc(r);if(!s)throw Error(D(90));V0(r),gh(r,s)}}}break;case"textarea":U0(t,n);break;case"select":e=n.value,e!=null&&Ys(t,!!n.multiple,e,!1)}};K0=Gp;Q0=cs;var RN={usingClientEntryPoint:!1,Events:[Ca,Fs,rc,W0,G0,Gp]},to={findFiberByHostInstance:Gr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},AN={bundleType:to.bundleType,version:to.version,rendererPackageName:to.rendererPackageName,rendererConfig:to.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=J0(t),t===null?null:t.stateNode},findFiberByHostInstance:to.findFiberByHostInstance||IN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fl.isDisabled&&fl.supportsFiber)try{Zu=fl.inject(AN),Tn=fl}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RN;zt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!em(e))throw Error(D(200));return xN(t,e,null,n)};zt.createRoot=function(t,e){if(!em(t))throw Error(D(299));var n=!1,r="",s=Pw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Xp(t,1,!1,null,null,n,!1,r,s),t[Hn]=e.current,Ho(t.nodeType===8?t.parentNode:t),new Zp(e)};zt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=J0(e),t=t===null?null:t.stateNode,t};zt.flushSync=function(t){return cs(t)};zt.hydrate=function(t,e,n){if(!hc(e))throw Error(D(200));return fc(null,t,e,!0,n)};zt.hydrateRoot=function(t,e,n){if(!em(t))throw Error(D(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Pw;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=kw(e,null,t,1,n??null,s,!1,i,o),t[Hn]=e.current,Ho(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new dc(e)};zt.render=function(t,e,n){if(!hc(e))throw Error(D(200));return fc(null,t,e,!1,n)};zt.unmountComponentAtNode=function(t){if(!hc(t))throw Error(D(40));return t._reactRootContainer?(cs(function(){fc(null,null,t,!1,function(){t._reactRootContainer=null,t[Hn]=null})}),!0):!1};zt.unstable_batchedUpdates=Gp;zt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!hc(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return fc(t,e,n,!1,r)};zt.version="18.2.0-next-9e3b772b8-20220608";function bw(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bw)}catch(t){console.error(t)}}bw(),k0.exports=zt;var kN=k0.exports,e_=kN;uh.createRoot=e_.createRoot,uh.hydrateRoot=e_.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zo(){return Zo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zo.apply(this,arguments)}var ur;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ur||(ur={}));const t_="popstate";function PN(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Ss(s.location.hash.substr(1));return nf("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,u=l.indexOf("#");a=u===-1?l:l.slice(0,u)}return a+"#"+(typeof i=="string"?i:Tu(i))}function r(s,i){pc(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return ON(e,n,r,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pc(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bN(){return Math.random().toString(36).substr(2,8)}function n_(t,e){return{usr:t.state,key:t.key,idx:e}}function nf(t,e,n,r){return n===void 0&&(n=null),Zo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ss(e):e,{state:n,key:e&&e.key||r||bN()})}function Tu(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ss(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ON(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ur.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Zo({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=ur.Pop;let E=c(),m=E==null?null:E-u;u=E,l&&l({action:a,location:g.location,delta:m})}function f(E,m){a=ur.Push;let y=nf(g.location,E,m);n&&n(y,E),u=c()+1;let v=n_(y,u),w=g.createHref(y);try{o.pushState(v,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}i&&l&&l({action:a,location:g.location,delta:1})}function p(E,m){a=ur.Replace;let y=nf(g.location,E,m);n&&n(y,E),u=c();let v=n_(y,u),w=g.createHref(y);o.replaceState(v,"",w),i&&l&&l({action:a,location:g.location,delta:0})}function _(E){let m=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof E=="string"?E:Tu(E);return Oe(m,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,m)}let g={get action(){return a},get location(){return t(s,o)},listen(E){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(t_,d),l=E,()=>{s.removeEventListener(t_,d),l=null}},createHref(E){return e(s,E)},createURL:_,encodeLocation(E){let m=_(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(E){return o.go(E)}};return g}var r_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(r_||(r_={}));function DN(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Ss(e):e,s=tm(r.pathname||"/",n);if(s==null)return null;let i=Ow(t);LN(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=HN(i[a],GN(s));return o}function Ow(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(Oe(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Tr([r,l.relativePath]),c=n.concat(l);i.children&&i.children.length>0&&(Oe(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Ow(i.children,e,c,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:zN(u,i.index),routesMeta:c})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Dw(i.path))s(i,o,l)}),e}function Dw(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Dw(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function LN(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:BN(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MN=/^:\w+$/,$N=3,jN=2,VN=1,FN=10,UN=-2,s_=t=>t==="*";function zN(t,e){let n=t.split("/"),r=n.length;return n.some(s_)&&(r+=UN),e&&(r+=jN),n.filter(s=>!s_(s)).reduce((s,i)=>s+(MN.test(i)?$N:i===""?VN:FN),r)}function BN(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function HN(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=s==="/"?e:e.slice(s.length)||"/",c=qN({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;i.push({params:r,pathname:Tr([s,c.pathname]),pathnameBase:XN(Tr([s,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(s=Tr([s,c.pathnameBase]))}return i}function qN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=WN(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,c,d)=>{if(c==="*"){let f=a[d]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return u[c]=KN(a[d]||"",c),u},{}),pathname:i,pathnameBase:o,pattern:t}}function WN(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pc(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function GN(t){try{return decodeURI(t)}catch(e){return pc(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function KN(t,e){try{return decodeURIComponent(t)}catch(n){return pc(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function tm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function QN(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ss(t):t;return{pathname:n?n.startsWith("/")?n:YN(n,e):e,search:JN(r),hash:ZN(s)}}function YN(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Rd(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nm(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rm(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Ss(t):(s=Zo({},t),Oe(!s.pathname||!s.pathname.includes("?"),Rd("?","pathname","search",s)),Oe(!s.pathname||!s.pathname.includes("#"),Rd("#","pathname","hash",s)),Oe(!s.search||!s.search.includes("#"),Rd("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let d=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;s.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=QN(s,a),u=o&&o!=="/"&&o.endsWith("/"),c=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Tr=t=>t.join("/").replace(/\/\/+/g,"/"),XN=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),JN=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ZN=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function eR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Lw=["post","put","patch","delete"];new Set(Lw);const tR=["get",...Lw];new Set(tR);/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}const sm=x.createContext(null),Mw=x.createContext(null),Ts=x.createContext(null),mc=x.createContext(null),Rn=x.createContext({outlet:null,matches:[],isDataRoute:!1}),$w=x.createContext(null);function nR(t,e){let{relative:n}=e===void 0?{}:e;Mi()||Oe(!1);let{basename:r,navigator:s}=x.useContext(Ts),{hash:i,pathname:o,search:a}=im(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Tr([r,o])),s.createHref({pathname:l,search:a,hash:i})}function Mi(){return x.useContext(mc)!=null}function Jn(){return Mi()||Oe(!1),x.useContext(mc).location}function jw(t){x.useContext(Ts).static||x.useLayoutEffect(t)}function $r(){let{isDataRoute:t}=x.useContext(Rn);return t?yR():rR()}function rR(){Mi()||Oe(!1);let t=x.useContext(sm),{basename:e,navigator:n}=x.useContext(Ts),{matches:r}=x.useContext(Rn),{pathname:s}=Jn(),i=JSON.stringify(nm(r).map(l=>l.pathnameBase)),o=x.useRef(!1);return jw(()=>{o.current=!0}),x.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=rm(l,JSON.parse(i),s,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:Tr([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,i,s,t])}const sR=x.createContext(null);function iR(t){let e=x.useContext(Rn).outlet;return e&&x.createElement(sR.Provider,{value:t},e)}function Cs(){let{matches:t}=x.useContext(Rn),e=t[t.length-1];return e?e.params:{}}function im(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=x.useContext(Rn),{pathname:s}=Jn(),i=JSON.stringify(nm(r).map(o=>o.pathnameBase));return x.useMemo(()=>rm(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function oR(t,e){return aR(t,e)}function aR(t,e,n){Mi()||Oe(!1);let{navigator:r}=x.useContext(Ts),{matches:s}=x.useContext(Rn),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=Jn(),u;if(e){var c;let g=typeof e=="string"?Ss(e):e;a==="/"||(c=g.pathname)!=null&&c.startsWith(a)||Oe(!1),u=g}else u=l;let d=u.pathname||"/",f=a==="/"?d:d.slice(a.length)||"/",p=DN(t,{pathname:f}),_=hR(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Tr([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Tr([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n);return e&&_?x.createElement(mc.Provider,{value:{location:Cu({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:ur.Pop}},_):_}function lR(){let t=gR(),e=eR(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:s},n):null,i)}const uR=x.createElement(lR,null);class cR extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?x.createElement(Rn.Provider,{value:this.props.routeContext},x.createElement($w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function dR(t){let{routeContext:e,match:n,children:r}=t,s=x.useContext(sm);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),x.createElement(Rn.Provider,{value:e},r)}function hR(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Oe(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||uR);let f=e.concat(i.slice(0,u+1)),p=()=>{let _;return c?_=d:l.route.Component?_=x.createElement(l.route.Component,null):l.route.element?_=l.route.element:_=a,x.createElement(dR,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:_})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?x.createElement(cR,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var rf;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(rf||(rf={}));var ea;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(ea||(ea={}));function fR(t){let e=x.useContext(sm);return e||Oe(!1),e}function pR(t){let e=x.useContext(Mw);return e||Oe(!1),e}function mR(t){let e=x.useContext(Rn);return e||Oe(!1),e}function Vw(t){let e=mR(),n=e.matches[e.matches.length-1];return n.route.id||Oe(!1),n.route.id}function gR(){var t;let e=x.useContext($w),n=pR(ea.UseRouteError),r=Vw(ea.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function yR(){let{router:t}=fR(rf.UseNavigateStable),e=Vw(ea.UseNavigateStable),n=x.useRef(!1);return jw(()=>{n.current=!0}),x.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Cu({fromRouteId:e},i)))},[t,e])}function _R(t){let{to:e,replace:n,state:r,relative:s}=t;Mi()||Oe(!1);let{matches:i}=x.useContext(Rn),{pathname:o}=Jn(),a=$r(),l=rm(e,nm(i).map(c=>c.pathnameBase),o,s==="path"),u=JSON.stringify(l);return x.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:s}),[a,u,s,n,r]),null}function gc(t){return iR(t.context)}function ie(t){Oe(!1)}function vR(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ur.Pop,navigator:i,static:o=!1}=t;Mi()&&Oe(!1);let a=e.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Ss(r));let{pathname:u="/",search:c="",hash:d="",state:f=null,key:p="default"}=r,_=x.useMemo(()=>{let g=tm(u,a);return g==null?null:{location:{pathname:g,search:c,hash:d,state:f,key:p},navigationType:s}},[a,u,c,d,f,p,s]);return _==null?null:x.createElement(Ts.Provider,{value:l},x.createElement(mc.Provider,{children:n,value:_}))}function i_(t){let{children:e,location:n}=t;return oR(sf(e),n)}var o_;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(o_||(o_={}));new Promise(()=>{});function sf(t,e){e===void 0&&(e=[]);let n=[];return x.Children.forEach(t,(r,s)=>{if(!x.isValidElement(r))return;let i=[...e,s];if(r.type===x.Fragment){n.push.apply(n,sf(r.props.children,i));return}r.type!==ie&&Oe(!1),!r.props.index||!r.props.children||Oe(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=sf(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xu(){return xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xu.apply(this,arguments)}function Fw(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function ER(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function wR(t,e){return t.button===0&&(!e||e==="_self")&&!ER(t)}function of(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function SR(t,e){let n=of(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)});return n}const TR=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],CR=["aria-current","caseSensitive","className","end","style","to","children"],a_="startTransition";function xR(t){let{basename:e,children:n,window:r}=t,s=x.useRef();s.current==null&&(s.current=PN({window:r,v5Compat:!0}));let i=s.current,[o,a]=x.useState({action:i.action,location:i.location}),l=x.useCallback(u=>{a_ in Kg?Kg[a_](()=>a(u)):a(u)},[a]);return x.useLayoutEffect(()=>i.listen(l),[i,l]),x.createElement(vR,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const IR=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",NR=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=x.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,d=Fw(e,TR),{basename:f}=x.useContext(Ts),p,_=!1;if(typeof u=="string"&&NR.test(u)&&(p=u,IR))try{let y=new URL(window.location.href),v=u.startsWith("//")?new URL(y.protocol+u):new URL(u),w=tm(v.pathname,f);v.origin===y.origin&&w!=null?u=w+v.search+v.hash:_=!0}catch{}let g=nR(u,{relative:s}),E=RR(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:s});function m(y){r&&r(y),y.defaultPrevented||E(y)}return x.createElement("a",xu({},d,{href:p||g,onClick:_||i?r:m,ref:n,target:l}))}),cr=x.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,children:u}=e,c=Fw(e,CR),d=im(l,{relative:c.relative}),f=Jn(),p=x.useContext(Mw),{navigator:_}=x.useContext(Ts),g=_.encodeLocation?_.encodeLocation(d).pathname:d.pathname,E=f.pathname,m=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(E=E.toLowerCase(),m=m?m.toLowerCase():null,g=g.toLowerCase());let y=E===g||!o&&E.startsWith(g)&&E.charAt(g.length)==="/",v=m!=null&&(m===g||!o&&m.startsWith(g)&&m.charAt(g.length)==="/"),w=y?r:void 0,S;typeof i=="function"?S=i({isActive:y,isPending:v}):S=[i,y?"active":null,v?"pending":null].filter(Boolean).join(" ");let N=typeof a=="function"?a({isActive:y,isPending:v}):a;return x.createElement(ft,xu({},c,{"aria-current":w,className:S,ref:n,style:N,to:l}),typeof u=="function"?u({isActive:y,isPending:v}):u)});var l_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(l_||(l_={}));var u_;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(u_||(u_={}));function RR(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=$r(),l=Jn(),u=im(t,{relative:o});return x.useCallback(c=>{if(wR(c,n)){c.preventDefault();let d=r!==void 0?r:Tu(l)===Tu(u);a(t,{replace:d,state:s,preventScrollReset:i,relative:o})}},[l,a,u,r,s,n,t,i,o])}function AR(t){let e=x.useRef(of(t)),n=x.useRef(!1),r=Jn(),s=x.useMemo(()=>SR(r.search,n.current?null:e.current),[r.search]),i=$r(),o=x.useCallback((a,l)=>{const u=of(typeof a=="function"?a(s):a);n.current=!0,i("?"+u,l)},[i,s]);return[s,o]}const W={init:function(){this.dpmode.init(),this.viewport.init.evt(),console.log("ui.init")},e:1,aaa:function(){console.log("dsfafsafdsffsafasfdfas")},iosx:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top").replace(/[^0-9]/g,""))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom").replace(/[^0-9]/g,""))||0},viewport:{init:{evt:function(){window.addEventListener("load",this.set),window.addEventListener("resize",this.set)},set:()=>document.documentElement.style.setProperty("--vh",window.innerHeight*.01+"px")},height:()=>parseInt(window.visualViewport?visualViewport.height:window.innerHeight),width:()=>parseInt(window.visualViewport?visualViewport.width:window.innerWidth),docHeight:()=>parseInt(document.documentElement.scrollHeight||document.body.clientHeight),scrollTop:()=>parseInt(document.documentElement.scrollTop)},dateForm:(t,e)=>(e=e===void 0?e="medium":null,new Intl.DateTimeFormat("ko-KR",{dateStyle:e,timeStyle:e}).format(t)),getSafe:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top"))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom"))||0,watch:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-watch"))||0},dpmode:{init:function(){setInterval(this.set,500)},set:function(){const t=window.matchMedia("(display-mode: fullscreen)").matches,e=window.matchMedia("(display-mode: standalone)").matches;t?document.documentElement.classList.add("is-pwa-fullscreen"):document.documentElement.classList.remove("is-pwa-fullscreen"),t?document.documentElement.style.setProperty("--safe-watch","24px"):document.documentElement.style.setProperty("--safe-watch","0px"),e?document.documentElement.classList.add("is-pwa-standalone"):document.documentElement.classList.remove("is-pwa-standalone")}},scrollTo:(t,e,n,r)=>{const s=document.querySelector(t);if(!s)return;console.log(s);const i=s.scrollTop||document.documentElement.scrollTop,o=e,a=performance.now(),l=u=>{const c=u-a,d=Math.min(c/n,1),f=d<.5?4*d*d*d:(d-1)*(2*d-2)*(2*d-2)+1,p=i+(o-i)*f;s===document.body?window.scrollTo(0,p):s.scrollTop=p,c<n?requestAnimationFrame(l):typeof r=="function"&&r()};requestAnimationFrame(l)},popup:{evt:function(){},resize:function(){var s,i;let t=document.querySelector(".pop-layer"),e=t.offsetHeight||0,n=((s=t.querySelector(".pbt"))==null?void 0:s.offsetHeight)||0,r=((i=t.querySelector(".phd"))==null?void 0:i.offsetHeight)||0;e=e-r||0,console.log(e),t.querySelector(".pct").style.maxHeight=e-n+"px"}},alert:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인"},e);if(document.querySelectorAll(".ui-alert").length)return;W.lock.using(!0);var r=`<article class="ui-alert ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-alert");s.classList.add("is-alert"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelectorAll(".btn-confirm, .btn-close").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-alert"),document.querySelectorAll(".pop-layer").length<1&&W.lock.using(!1)}},confirm:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인",ncb:"",nbt:"취소"},e);if(document.querySelectorAll(".ui-confrim").length)return;W.lock.using(!0);let r=`<article class="ui-confrim ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-cancel">${n.nbt}</button>
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-confrim");s.classList.add("is-confrim"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelector(".btn-cancel").addEventListener("click",()=>window.setTimeout(n.ncb)),i.querySelectorAll(".btn-confirm, .btn-close , .btn-cancel").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-confrim"),document.querySelectorAll(".pop-layer").length<1&&W.lock.using(!1)}},loading:{show:function(){if(!document.querySelectorAll("body>.ui-loading-dot").length){var t=`<div class="ui-loading-dot">
                    <div class="bx"><em><i></i></em></div>
                </div>`;document.querySelector("body").insertAdjacentHTML("afterbegin",t),document.querySelector("body").classList.add("is-loading")}},hide:function(){document.querySelectorAll(".ui-loading-dot").forEach(t=>t.remove()),document.querySelector("body").classList.remove("is-loading")}},lock:{sct:0,stat:!1,els:".pop-layer  , .ui-confrim , .ui-alert",set:function(){document.querySelectorAll(this.els).length<=0&&this.using(!1)},using:function(t){const e=document.querySelectorAll("body , html"),n=document.querySelector("html");t===!0&&this.stat===!1&&(W.lock.stat=!0,W.lock.sct=window.scrollY,e.forEach(r=>r.classList.add("is-lock","is-lock-end")),n.style.top=-W.lock.sct+"px"),t===!1&&document.querySelectorAll(this.els).length<=0&&n.classList.contains("is-lock")&&(W.lock.stat=!1,e.forEach(r=>r.classList.remove("is-lock")),n.style.top="",window.scrollTo(0,W.lock.sct),setTimeout(()=>{e.forEach(r=>r.classList.remove("is-lock-end"))},50))}}};window.ui=W;function pl({cls:t}){console.log(t+"==================================="),x.useEffect(()=>()=>{},[]);const e=()=>{W.confirm("리액트 보다 쀼가 짱입니까?",{ycb:function(){console.log("컴펌 예"),window.location.href="https://kimkee.github.io/vue"},ncb:function(){console.log("컴펌 아뇨")},ybt:"마자요!",nbt:"아니오!"})};return h.jsx("header",{className:"header ",children:h.jsxs("div",{className:"inr",children:[h.jsx("div",{className:"ldt",children:h.jsxs("h1",{className:"logo",children:[" ",h.jsx(ft,{to:"/home/",className:"btlogo",children:h.jsx("i",{className:"fa-brands fa-vuejs"})})]})}),h.jsx("div",{className:"rdt",children:h.jsxs("button",{type:"button",onClick:e,className:"bt gnb",children:[h.jsx("i",{className:"fa-regular fa-bars"}),h.jsx("b",{children:"메뉴"})]})})]})})}function kR(){const t=Jn();console.log(t);const e=s=>t.pathname.includes(`${s}`)?" active":"",n=()=>{var i,o;const s=W.viewport.scrollTop();W.lock.stat||(s>50?(i=document.querySelector(".floatnav"))==null||i.classList.add("on-top"):(o=document.querySelector(".floatnav"))==null||o.classList.remove("on-top"))},r=()=>{W.scrollTo("body",0,200)};return x.useEffect(()=>(window.addEventListener("scroll",n),()=>{window.removeEventListener("scroll",n)}),[]),h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"floatnav",children:h.jsxs("button",{type:"button",className:"bt top",onClick:r,children:[h.jsx("i",{className:"fa-solid fa-arrow-up"}),h.jsx("em",{children:"위로"})]})}),h.jsx("nav",{id:"menubar",className:"menubar",children:h.jsx("div",{className:"inr",children:h.jsxs("ul",{className:"menu",children:[h.jsx("li",{children:h.jsxs(cr,{to:"./home/",className:"bt"+e("home"),children:[h.jsx("i",{className:"fa-regular fa-house"}),h.jsx("em",{children:"Home"})]})}),h.jsx("li",{children:h.jsxs(cr,{to:"./list/movie/0/",className:"bt"+e("list/movie"),children:[h.jsx("i",{className:"fa-regular fa-clapperboard-play"}),h.jsx("em",{children:"Movie"})]})}),h.jsx("li",{children:h.jsxs(cr,{to:"./list/tv/0/",className:"bt"+e("list/tv"),children:[h.jsx("i",{className:"fa-regular fa-tv-retro"}),h.jsx("em",{children:"TV"})]})}),h.jsx("li",{children:h.jsxs(cr,{to:"./search/movie/",className:"bt"+e("search/"),children:[h.jsx("i",{className:"fa-regular fa-search"}),h.jsx("em",{children:"Search"})]})})]})})})]})}function Uw(t,e){return function(){return t.apply(e,arguments)}}const{toString:PR}=Object.prototype,{getPrototypeOf:om}=Object,yc=(t=>e=>{const n=PR.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),An=t=>(t=t.toLowerCase(),e=>yc(e)===t),_c=t=>e=>typeof e===t,{isArray:$i}=Array,ta=_c("undefined");function bR(t){return t!==null&&!ta(t)&&t.constructor!==null&&!ta(t.constructor)&&Yt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const zw=An("ArrayBuffer");function OR(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&zw(t.buffer),e}const DR=_c("string"),Yt=_c("function"),Bw=_c("number"),vc=t=>t!==null&&typeof t=="object",LR=t=>t===!0||t===!1,Wl=t=>{if(yc(t)!=="object")return!1;const e=om(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},MR=An("Date"),$R=An("File"),jR=An("Blob"),VR=An("FileList"),FR=t=>vc(t)&&Yt(t.pipe),UR=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yt(t.append)&&((e=yc(t))==="formdata"||e==="object"&&Yt(t.toString)&&t.toString()==="[object FormData]"))},zR=An("URLSearchParams"),BR=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ia(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),$i(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Hw(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const qw=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Ww=t=>!ta(t)&&t!==qw;function af(){const{caseless:t}=Ww(this)&&this||{},e={},n=(r,s)=>{const i=t&&Hw(e,s)||s;Wl(e[i])&&Wl(r)?e[i]=af(e[i],r):Wl(r)?e[i]=af({},r):$i(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&Ia(arguments[r],n);return e}const HR=(t,e,n,{allOwnKeys:r}={})=>(Ia(e,(s,i)=>{n&&Yt(s)?t[i]=Uw(s,n):t[i]=s},{allOwnKeys:r}),t),qR=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),WR=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},GR=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&om(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},KR=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},QR=t=>{if(!t)return null;if($i(t))return t;let e=t.length;if(!Bw(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},YR=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&om(Uint8Array)),XR=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},JR=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},ZR=An("HTMLFormElement"),eA=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),c_=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),tA=An("RegExp"),Gw=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Ia(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},nA=t=>{Gw(t,(e,n)=>{if(Yt(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(Yt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},rA=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return $i(t)?r(t):r(String(t).split(e)),n},sA=()=>{},iA=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Ad="abcdefghijklmnopqrstuvwxyz",d_="0123456789",Kw={DIGIT:d_,ALPHA:Ad,ALPHA_DIGIT:Ad+Ad.toUpperCase()+d_},oA=(t=16,e=Kw.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function aA(t){return!!(t&&Yt(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const lA=t=>{const e=new Array(10),n=(r,s)=>{if(vc(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=$i(r)?[]:{};return Ia(r,(o,a)=>{const l=n(o,s+1);!ta(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},uA=An("AsyncFunction"),cA=t=>t&&(vc(t)||Yt(t))&&Yt(t.then)&&Yt(t.catch),R={isArray:$i,isArrayBuffer:zw,isBuffer:bR,isFormData:UR,isArrayBufferView:OR,isString:DR,isNumber:Bw,isBoolean:LR,isObject:vc,isPlainObject:Wl,isUndefined:ta,isDate:MR,isFile:$R,isBlob:jR,isRegExp:tA,isFunction:Yt,isStream:FR,isURLSearchParams:zR,isTypedArray:YR,isFileList:VR,forEach:Ia,merge:af,extend:HR,trim:BR,stripBOM:qR,inherits:WR,toFlatObject:GR,kindOf:yc,kindOfTest:An,endsWith:KR,toArray:QR,forEachEntry:XR,matchAll:JR,isHTMLForm:ZR,hasOwnProperty:c_,hasOwnProp:c_,reduceDescriptors:Gw,freezeMethods:nA,toObjectSet:rA,toCamelCase:eA,noop:sA,toFiniteNumber:iA,findKey:Hw,global:qw,isContextDefined:Ww,ALPHABET:Kw,generateString:oA,isSpecCompliantForm:aA,toJSONObject:lA,isAsyncFn:uA,isThenable:cA};function oe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}R.inherits(oe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:R.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Qw=oe.prototype,Yw={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Yw[t]={value:t}});Object.defineProperties(oe,Yw);Object.defineProperty(Qw,"isAxiosError",{value:!0});oe.from=(t,e,n,r,s,i)=>{const o=Object.create(Qw);return R.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),oe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const dA=null;function lf(t){return R.isPlainObject(t)||R.isArray(t)}function Xw(t){return R.endsWith(t,"[]")?t.slice(0,-2):t}function h_(t,e,n){return t?t.concat(e).map(function(s,i){return s=Xw(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function hA(t){return R.isArray(t)&&!t.some(lf)}const fA=R.toFlatObject(R,{},null,function(e){return/^is[A-Z]/.test(e)});function Ec(t,e,n){if(!R.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=R.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,E){return!R.isUndefined(E[g])});const r=n.metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&R.isSpecCompliantForm(e);if(!R.isFunction(s))throw new TypeError("visitor must be a function");function u(_){if(_===null)return"";if(R.isDate(_))return _.toISOString();if(!l&&R.isBlob(_))throw new oe("Blob is not supported. Use a Buffer instead.");return R.isArrayBuffer(_)||R.isTypedArray(_)?l&&typeof Blob=="function"?new Blob([_]):Buffer.from(_):_}function c(_,g,E){let m=_;if(_&&!E&&typeof _=="object"){if(R.endsWith(g,"{}"))g=r?g:g.slice(0,-2),_=JSON.stringify(_);else if(R.isArray(_)&&hA(_)||(R.isFileList(_)||R.endsWith(g,"[]"))&&(m=R.toArray(_)))return g=Xw(g),m.forEach(function(v,w){!(R.isUndefined(v)||v===null)&&e.append(o===!0?h_([g],w,i):o===null?g:g+"[]",u(v))}),!1}return lf(_)?!0:(e.append(h_(E,g,i),u(_)),!1)}const d=[],f=Object.assign(fA,{defaultVisitor:c,convertValue:u,isVisitable:lf});function p(_,g){if(!R.isUndefined(_)){if(d.indexOf(_)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(_),R.forEach(_,function(m,y){(!(R.isUndefined(m)||m===null)&&s.call(e,m,R.isString(y)?y.trim():y,g,f))===!0&&p(m,g?g.concat(y):[y])}),d.pop()}}if(!R.isObject(t))throw new TypeError("data must be an object");return p(t),e}function f_(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function am(t,e){this._pairs=[],t&&Ec(t,this,e)}const Jw=am.prototype;Jw.append=function(e,n){this._pairs.push([e,n])};Jw.toString=function(e){const n=e?function(r){return e.call(this,r,f_)}:f_;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function pA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zw(t,e,n){if(!e)return t;const r=n&&n.encode||pA,s=n&&n.serialize;let i;if(s?i=s(e,n):i=R.isURLSearchParams(e)?e.toString():new am(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class mA{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){R.forEach(this.handlers,function(r){r!==null&&e(r)})}}const p_=mA,eS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},gA=typeof URLSearchParams<"u"?URLSearchParams:am,yA=typeof FormData<"u"?FormData:null,_A=typeof Blob<"u"?Blob:null,vA=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),EA=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vn={isBrowser:!0,classes:{URLSearchParams:gA,FormData:yA,Blob:_A},isStandardBrowserEnv:vA,isStandardBrowserWebWorkerEnv:EA,protocols:["http","https","file","blob","url","data"]};function wA(t,e){return Ec(t,new vn.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return vn.isNode&&R.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function SA(t){return R.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function TA(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function tS(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&R.isArray(s)?s.length:o,l?(R.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!R.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&R.isArray(s[o])&&(s[o]=TA(s[o])),!a)}if(R.isFormData(t)&&R.isFunction(t.entries)){const n={};return R.forEachEntry(t,(r,s)=>{e(SA(r),s,n,0)}),n}return null}const CA={"Content-Type":void 0};function xA(t,e,n){if(R.isString(t))try{return(e||JSON.parse)(t),R.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const wc={transitional:eS,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=R.isObject(e);if(i&&R.isHTMLForm(e)&&(e=new FormData(e)),R.isFormData(e))return s&&s?JSON.stringify(tS(e)):e;if(R.isArrayBuffer(e)||R.isBuffer(e)||R.isStream(e)||R.isFile(e)||R.isBlob(e))return e;if(R.isArrayBufferView(e))return e.buffer;if(R.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return wA(e,this.formSerializer).toString();if((a=R.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ec(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),xA(e)):e}],transformResponse:[function(e){const n=this.transitional||wc.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&R.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?oe.from(a,oe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vn.classes.FormData,Blob:vn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};R.forEach(["delete","get","head"],function(e){wc.headers[e]={}});R.forEach(["post","put","patch"],function(e){wc.headers[e]=R.merge(CA)});const lm=wc,IA=R.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),NA=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&IA[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},m_=Symbol("internals");function no(t){return t&&String(t).trim().toLowerCase()}function Gl(t){return t===!1||t==null?t:R.isArray(t)?t.map(Gl):String(t)}function RA(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const AA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function kd(t,e,n,r,s){if(R.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!R.isString(e)){if(R.isString(r))return e.indexOf(r)!==-1;if(R.isRegExp(r))return r.test(e)}}function kA(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function PA(t,e){const n=R.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Sc{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,u){const c=no(l);if(!c)throw new Error("header name must be a non-empty string");const d=R.findKey(s,c);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||l]=Gl(a))}const o=(a,l)=>R.forEach(a,(u,c)=>i(u,c,l));return R.isPlainObject(e)||e instanceof this.constructor?o(e,n):R.isString(e)&&(e=e.trim())&&!AA(e)?o(NA(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=no(e),e){const r=R.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return RA(s);if(R.isFunction(n))return n.call(this,s,r);if(R.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=no(e),e){const r=R.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||kd(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=no(o),o){const a=R.findKey(r,o);a&&(!n||kd(r,r[a],a,n))&&(delete r[a],s=!0)}}return R.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||kd(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return R.forEach(this,(s,i)=>{const o=R.findKey(r,i);if(o){n[o]=Gl(s),delete n[i];return}const a=e?kA(i):String(i).trim();a!==i&&delete n[i],n[a]=Gl(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return R.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&R.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[m_]=this[m_]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=no(o);r[a]||(PA(s,o),r[a]=!0)}return R.isArray(e)?e.forEach(i):i(e),this}}Sc.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);R.freezeMethods(Sc.prototype);R.freezeMethods(Sc);const Un=Sc;function Pd(t,e){const n=this||lm,r=e||n,s=Un.from(r.headers);let i=r.data;return R.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function nS(t){return!!(t&&t.__CANCEL__)}function Na(t,e,n){oe.call(this,t??"canceled",oe.ERR_CANCELED,e,n),this.name="CanceledError"}R.inherits(Na,oe,{__CANCEL__:!0});function bA(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new oe("Request failed with status code "+n.status,[oe.ERR_BAD_REQUEST,oe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const OA=vn.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),R.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),R.isString(i)&&l.push("path="+i),R.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function DA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function LA(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function rS(t,e){return t&&!DA(e)?LA(t,e):e}const MA=vn.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=R.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function $A(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function jA(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[s]=l,r[s]=u;let d=i,f=0;for(;d!==s;)f+=n[d++],d=d%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function g_(t,e){let n=0;const r=jA(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),u=i<=o;n=i;const c={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&u?(o-i)/l:void 0,event:s};c[e?"download":"upload"]=!0,t(c)}}const VA=typeof XMLHttpRequest<"u",FA=VA&&function(t){return new Promise(function(n,r){let s=t.data;const i=Un.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}R.isFormData(s)&&(vn.isStandardBrowserEnv||vn.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let u=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+_))}const c=rS(t.baseURL,t.url);u.open(t.method.toUpperCase(),Zw(c,t.params,t.paramsSerializer),!0),u.timeout=t.timeout;function d(){if(!u)return;const p=Un.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?u.responseText:u.response,status:u.status,statusText:u.statusText,headers:p,config:t,request:u};bA(function(m){n(m),l()},function(m){r(m),l()},g),u=null}if("onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){!u||u.readyState!==4||u.status===0&&!(u.responseURL&&u.responseURL.indexOf("file:")===0)||setTimeout(d)},u.onabort=function(){u&&(r(new oe("Request aborted",oe.ECONNABORTED,t,u)),u=null)},u.onerror=function(){r(new oe("Network Error",oe.ERR_NETWORK,t,u)),u=null},u.ontimeout=function(){let _=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||eS;t.timeoutErrorMessage&&(_=t.timeoutErrorMessage),r(new oe(_,g.clarifyTimeoutError?oe.ETIMEDOUT:oe.ECONNABORTED,t,u)),u=null},vn.isStandardBrowserEnv){const p=(t.withCredentials||MA(c))&&t.xsrfCookieName&&OA.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}s===void 0&&i.setContentType(null),"setRequestHeader"in u&&R.forEach(i.toJSON(),function(_,g){u.setRequestHeader(g,_)}),R.isUndefined(t.withCredentials)||(u.withCredentials=!!t.withCredentials),o&&o!=="json"&&(u.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&u.addEventListener("progress",g_(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&u.upload&&u.upload.addEventListener("progress",g_(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{u&&(r(!p||p.type?new Na(null,t,u):p),u.abort(),u=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=$A(c);if(f&&vn.protocols.indexOf(f)===-1){r(new oe("Unsupported protocol "+f+":",oe.ERR_BAD_REQUEST,t));return}u.send(s||null)})},Kl={http:dA,xhr:FA};R.forEach(Kl,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const UA={getAdapter:t=>{t=R.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=R.isString(n)?Kl[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new oe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(R.hasOwnProp(Kl,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!R.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Kl};function bd(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Na(null,t)}function y_(t){return bd(t),t.headers=Un.from(t.headers),t.data=Pd.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),UA.getAdapter(t.adapter||lm.adapter)(t).then(function(r){return bd(t),r.data=Pd.call(t,t.transformResponse,r),r.headers=Un.from(r.headers),r},function(r){return nS(r)||(bd(t),r&&r.response&&(r.response.data=Pd.call(t,t.transformResponse,r.response),r.response.headers=Un.from(r.response.headers))),Promise.reject(r)})}const __=t=>t instanceof Un?t.toJSON():t;function _i(t,e){e=e||{};const n={};function r(u,c,d){return R.isPlainObject(u)&&R.isPlainObject(c)?R.merge.call({caseless:d},u,c):R.isPlainObject(c)?R.merge({},c):R.isArray(c)?c.slice():c}function s(u,c,d){if(R.isUndefined(c)){if(!R.isUndefined(u))return r(void 0,u,d)}else return r(u,c,d)}function i(u,c){if(!R.isUndefined(c))return r(void 0,c)}function o(u,c){if(R.isUndefined(c)){if(!R.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,d){if(d in e)return r(u,c);if(d in t)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>s(__(u),__(c),!0)};return R.forEach(Object.keys(Object.assign({},t,e)),function(c){const d=l[c]||s,f=d(t[c],e[c],c);R.isUndefined(f)&&d!==a||(n[c]=f)}),n}const sS="1.4.0",um={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{um[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const v_={};um.transitional=function(e,n,r){function s(i,o){return"[Axios v"+sS+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new oe(s(o," has been removed"+(n?" in "+n:"")),oe.ERR_DEPRECATED);return n&&!v_[o]&&(v_[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function zA(t,e,n){if(typeof t!="object")throw new oe("options must be an object",oe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new oe("option "+i+" must be "+l,oe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new oe("Unknown option "+i,oe.ERR_BAD_OPTION)}}const uf={assertOptions:zA,validators:um},nr=uf.validators;class Iu{constructor(e){this.defaults=e,this.interceptors={request:new p_,response:new p_}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=_i(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&uf.assertOptions(r,{silentJSONParsing:nr.transitional(nr.boolean),forcedJSONParsing:nr.transitional(nr.boolean),clarifyTimeoutError:nr.transitional(nr.boolean)},!1),s!=null&&(R.isFunction(s)?n.paramsSerializer={serialize:s}:uf.assertOptions(s,{encode:nr.function,serialize:nr.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&R.merge(i.common,i[n.method]),o&&R.forEach(["delete","get","head","post","put","patch","common"],_=>{delete i[_]}),n.headers=Un.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,d=0,f;if(!l){const _=[y_.bind(this),void 0];for(_.unshift.apply(_,a),_.push.apply(_,u),f=_.length,c=Promise.resolve(n);d<f;)c=c.then(_[d++],_[d++]);return c}f=a.length;let p=n;for(d=0;d<f;){const _=a[d++],g=a[d++];try{p=_(p)}catch(E){g.call(this,E);break}}try{c=y_.call(this,p)}catch(_){return Promise.reject(_)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=_i(this.defaults,e);const n=rS(e.baseURL,e.url);return Zw(n,e.params,e.paramsSerializer)}}R.forEach(["delete","get","head","options"],function(e){Iu.prototype[e]=function(n,r){return this.request(_i(r||{},{method:e,url:n,data:(r||{}).data}))}});R.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(_i(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Iu.prototype[e]=n(),Iu.prototype[e+"Form"]=n(!0)});const Ql=Iu;class cm{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new Na(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new cm(function(s){e=s}),cancel:e}}}const BA=cm;function HA(t){return function(n){return t.apply(null,n)}}function qA(t){return R.isObject(t)&&t.isAxiosError===!0}const cf={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(cf).forEach(([t,e])=>{cf[e]=t});const WA=cf;function iS(t){const e=new Ql(t),n=Uw(Ql.prototype.request,e);return R.extend(n,Ql.prototype,e,{allOwnKeys:!0}),R.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return iS(_i(t,s))},n}const ze=iS(lm);ze.Axios=Ql;ze.CanceledError=Na;ze.CancelToken=BA;ze.isCancel=nS;ze.VERSION=sS;ze.toFormData=Ec;ze.AxiosError=oe;ze.Cancel=ze.CanceledError;ze.all=function(e){return Promise.all(e)};ze.spread=HA;ze.isAxiosError=qA;ze.mergeConfig=_i;ze.AxiosHeaders=Un;ze.formToJSON=t=>tS(R.isHTMLForm(t)?new FormData(t):t);ze.HttpStatusCode=WA;ze.default=ze;const st=ze;function E_(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function dm(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:E_(e[n])&&E_(t[n])&&Object.keys(e[n]).length>0&&dm(t[n],e[n])})}const oS={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Qe(){const t=typeof document<"u"?document:{};return dm(t,oS),t}const GA={document:oS,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ze(){const t=typeof window<"u"?window:{};return dm(t,GA),t}function KA(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class dr extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),KA(this))}}function Ra(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...Ra(n)):e.push(n)}),e}function aS(t,e){return Array.prototype.filter.call(t,e)}function QA(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function YA(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let s=0;s<r.length;s+=1)n.push(r[s]);return n}function $(t,e){const n=Ze(),r=Qe();let s=[];if(!e&&t instanceof dr)return t;if(!t)return new dr(s);if(typeof t=="string"){const i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let o="div";i.indexOf("<li")===0&&(o="ul"),i.indexOf("<tr")===0&&(o="tbody"),(i.indexOf("<td")===0||i.indexOf("<th")===0)&&(o="tr"),i.indexOf("<tbody")===0&&(o="table"),i.indexOf("<option")===0&&(o="select");const a=r.createElement(o);a.innerHTML=i;for(let l=0;l<a.childNodes.length;l+=1)s.push(a.childNodes[l])}else s=YA(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof dr)return t;s=t}return new dr(QA(s))}$.fn=dr.prototype;function XA(...t){const e=Ra(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function JA(...t){const e=Ra(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function ZA(...t){const e=Ra(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function ek(...t){const e=Ra(t.map(n=>n.split(" ")));return aS(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function tk(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function nk(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function rk(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function sk(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function ik(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);function i(u){const c=u.target;if(!c)return;const d=u.target.dom7EventData||[];if(d.indexOf(u)<0&&d.unshift(u),$(c).is(n))r.apply(c,d);else{const f=$(c).parents();for(let p=0;p<f.length;p+=1)$(f[p]).is(n)&&r.apply(f[p],d)}}function o(u){const c=u&&u.target?u.target.dom7EventData||[]:[];c.indexOf(u)<0&&c.unshift(u),r.apply(this,c)}const a=e.split(" ");let l;for(let u=0;u<this.length;u+=1){const c=this[u];if(n)for(l=0;l<a.length;l+=1){const d=a[l];c.dom7LiveListeners||(c.dom7LiveListeners={}),c.dom7LiveListeners[d]||(c.dom7LiveListeners[d]=[]),c.dom7LiveListeners[d].push({listener:r,proxyListener:i}),c.addEventListener(d,i,s)}else for(l=0;l<a.length;l+=1){const d=a[l];c.dom7Listeners||(c.dom7Listeners={}),c.dom7Listeners[d]||(c.dom7Listeners[d]=[]),c.dom7Listeners[d].push({listener:r,proxyListener:o}),c.addEventListener(d,o,s)}}return this}function ok(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);const i=e.split(" ");for(let o=0;o<i.length;o+=1){const a=i[o];for(let l=0;l<this.length;l+=1){const u=this[l];let c;if(!n&&u.dom7Listeners?c=u.dom7Listeners[a]:n&&u.dom7LiveListeners&&(c=u.dom7LiveListeners[a]),c&&c.length)for(let d=c.length-1;d>=0;d-=1){const f=c[d];r&&f.listener===r||r&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===r?(u.removeEventListener(a,f.proxyListener,s),c.splice(d,1)):r||(u.removeEventListener(a,f.proxyListener,s),c.splice(d,1))}}}return this}function ak(...t){const e=Ze(),n=t[0].split(" "),r=t[1];for(let s=0;s<n.length;s+=1){const i=n[s];for(let o=0;o<this.length;o+=1){const a=this[o];if(e.CustomEvent){const l=new e.CustomEvent(i,{detail:r,bubbles:!0,cancelable:!0});a.dom7EventData=t.filter((u,c)=>c>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function lk(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function uk(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function ck(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function dk(){if(this.length>0){const t=Ze(),e=Qe(),n=this[0],r=n.getBoundingClientRect(),s=e.body,i=n.clientTop||s.clientTop||0,o=n.clientLeft||s.clientLeft||0,a=n===t?t.scrollY:n.scrollTop,l=n===t?t.scrollX:n.scrollLeft;return{top:r.top+a-i,left:r.left+l-o}}return null}function hk(){const t=Ze();return this[0]?t.getComputedStyle(this[0],null):{}}function fk(t,e){const n=Ze();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const s in t)this[r].style[s]=t[s];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function pk(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function mk(t){const e=aS(this,t);return $(e)}function gk(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function yk(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function _k(t){const e=Ze(),n=Qe(),r=this[0];let s,i;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=$(t),i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof dr){for(s=t.nodeType?[t]:t,i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}return!1}function vk(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function Ek(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return $([]);if(t<0){const n=e+t;return n<0?$([]):$([this[n]])}return $([this[t]])}function wk(...t){let e;const n=Qe();for(let r=0;r<t.length;r+=1){e=t[r];for(let s=0;s<this.length;s+=1)if(typeof e=="string"){const i=n.createElement("div");for(i.innerHTML=e;i.firstChild;)this[s].appendChild(i.firstChild)}else if(e instanceof dr)for(let i=0;i<e.length;i+=1)this[s].appendChild(e[i]);else this[s].appendChild(e)}return this}function Sk(t){const e=Qe();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const s=e.createElement("div");for(s.innerHTML=t,r=s.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(s.childNodes[r],this[n].childNodes[0])}else if(t instanceof dr)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function Tk(t){return this.length>0?t?this[0].nextElementSibling&&$(this[0].nextElementSibling).is(t)?$([this[0].nextElementSibling]):$([]):this[0].nextElementSibling?$([this[0].nextElementSibling]):$([]):$([])}function Ck(t){const e=[];let n=this[0];if(!n)return $([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?$(r).is(t)&&e.push(r):e.push(r),n=r}return $(e)}function xk(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&$(e.previousElementSibling).is(t)?$([e.previousElementSibling]):$([]):e.previousElementSibling?$([e.previousElementSibling]):$([])}return $([])}function Ik(t){const e=[];let n=this[0];if(!n)return $([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?$(r).is(t)&&e.push(r):e.push(r),n=r}return $(e)}function Nk(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?$(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return $(e)}function Rk(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?$(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return $(e)}function Ak(t){let e=this;return typeof t>"u"?$([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function kk(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let s=0;s<r.length;s+=1)e.push(r[s])}return $(e)}function Pk(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let s=0;s<r.length;s+=1)(!t||$(r[s]).is(t))&&e.push(r[s])}return $(e)}function bk(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const w_={addClass:XA,removeClass:JA,hasClass:ek,toggleClass:ZA,attr:tk,removeAttr:nk,transform:rk,transition:sk,on:ik,off:ok,trigger:ak,transitionEnd:lk,outerWidth:uk,outerHeight:ck,styles:hk,offset:dk,css:fk,each:pk,html:gk,text:yk,is:_k,index:vk,eq:Ek,append:wk,prepend:Sk,next:Tk,nextAll:Ck,prev:xk,prevAll:Ik,parent:Nk,parents:Rk,closest:Ak,find:kk,children:Pk,filter:mk,remove:bk};Object.keys(w_).forEach(t=>{Object.defineProperty($.fn,t,{value:w_[t],writable:!0})});function Ok(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function na(t,e=0){return setTimeout(t,e)}function ra(){return Date.now()}function Dk(t){const e=Ze();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function Lk(t,e="x"){const n=Ze();let r,s,i;const o=Dk(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function ml(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Mk(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Mt(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!Mk(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,a=i.length;o<a;o+=1){const l=i[o],u=Object.getOwnPropertyDescriptor(s,l);u!==void 0&&u.enumerable&&(ml(e[l])&&ml(s[l])?s[l].__swiper__?e[l]=s[l]:Mt(e[l],s[l]):!ml(e[l])&&ml(s[l])?(e[l]={},s[l].__swiper__?e[l]=s[l]:Mt(e[l],s[l])):e[l]=s[l])}}}return e}function gl(t,e,n){t.style.setProperty(e,n)}function lS({swiper:t,targetPosition:e,side:n}){const r=Ze(),s=-t.translate;let i=null,o;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const l=e>s?"next":"prev",u=(d,f)=>l==="next"&&d>=f||l==="prev"&&d<=f,c=()=>{o=new Date().getTime(),i===null&&(i=o);const d=Math.max(Math.min((o-i)/a,1),0),f=.5-Math.cos(d*Math.PI)/2;let p=s+f*(e-s);if(u(p,e)&&(p=e),t.wrapperEl.scrollTo({[n]:p}),u(p,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(c)};c()}let Od;function $k(){const t=Ze(),e=Qe();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const s=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,s)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function uS(){return Od||(Od=$k()),Od}let Dd;function jk({userAgent:t}={}){const e=uS(),n=Ze(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const c=s.match(/(iPod)(.*OS\s([\d_]+))?/),d=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=r==="Win32";let p=r==="MacIntel";const _=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&e.touch&&_.indexOf(`${o}x${a}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),l&&!f&&(i.os="android",i.android=!0),(u||d||c)&&(i.os="ios",i.ios=!0),i}function Vk(t={}){return Dd||(Dd=jk(t)),Dd}let Ld;function Fk(){const t=Ze();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function Uk(){return Ld||(Ld=Fk()),Ld}function zk({swiper:t,on:e,emit:n}){const r=Ze();let s=null,i=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(c=>{i=r.requestAnimationFrame(()=>{const{width:d,height:f}=t;let p=d,_=f;c.forEach(({contentBoxSize:g,contentRect:E,target:m})=>{m&&m!==t.el||(p=E?E.width:(g[0]||g).inlineSize,_=E?E.height:(g[0]||g).blockSize)}),(p!==d||_!==f)&&o()})}),s.observe(t.el))},l=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},u=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",u)}),e("destroy",()=>{l(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",u)})}function Bk({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=Ze(),o=(u,c={})=>{const d=i.MutationObserver||i.WebkitMutationObserver,f=new d(p=>{if(p.length===1){r("observerUpdate",p[0]);return}const _=function(){r("observerUpdate",p[0])};i.requestAnimationFrame?i.requestAnimationFrame(_):i.setTimeout(_,0)});f.observe(u,{attributes:typeof c.attributes>"u"?!0:c.attributes,childList:typeof c.childList>"u"?!0:c.childList,characterData:typeof c.characterData>"u"?!0:c.characterData}),s.push(f)},a=()=>{if(t.params.observer){if(t.params.observeParents){const u=t.$el.parents();for(let c=0;c<u.length;c+=1)o(u[c])}o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}},l=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}const Hk={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(s,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(a=>{a.apply(s,r)})}),e}};function qk(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function Wk(){const t=this;function e(T){return t.isHorizontal()?T:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[T]}function n(T,I){return parseFloat(T.getPropertyValue(e(I))||0)}const r=t.params,{$wrapperEl:s,size:i,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&r.virtual.enabled,u=l?t.virtual.slides.length:t.slides.length,c=s.children(`.${t.params.slideClass}`),d=l?t.virtual.slides.length:c.length;let f=[];const p=[],_=[];let g=r.slidesOffsetBefore;typeof g=="function"&&(g=r.slidesOffsetBefore.call(t));let E=r.slidesOffsetAfter;typeof E=="function"&&(E=r.slidesOffsetAfter.call(t));const m=t.snapGrid.length,y=t.slidesGrid.length;let v=r.spaceBetween,w=-g,S=0,N=0;if(typeof i>"u")return;typeof v=="string"&&v.indexOf("%")>=0&&(v=parseFloat(v.replace("%",""))/100*i),t.virtualSize=-v,o?c.css({marginLeft:"",marginBottom:"",marginTop:""}):c.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(gl(t.wrapperEl,"--swiper-centered-offset-before",""),gl(t.wrapperEl,"--swiper-centered-offset-after",""));const O=r.grid&&r.grid.rows>1&&t.grid;O&&t.grid.initSlides(d);let A;const q=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(T=>typeof r.breakpoints[T].slidesPerView<"u").length>0;for(let T=0;T<d;T+=1){A=0;const I=c.eq(T);if(O&&t.grid.updateSlide(T,I,d,e),I.css("display")!=="none"){if(r.slidesPerView==="auto"){q&&(c[T].style[e("width")]="");const C=getComputedStyle(I[0]),P=I[0].style.transform,k=I[0].style.webkitTransform;if(P&&(I[0].style.transform="none"),k&&(I[0].style.webkitTransform="none"),r.roundLengths)A=t.isHorizontal()?I.outerWidth(!0):I.outerHeight(!0);else{const j=n(C,"width"),X=n(C,"padding-left"),Q=n(C,"padding-right"),b=n(C,"margin-left"),U=n(C,"margin-right"),G=C.getPropertyValue("box-sizing");if(G&&G==="border-box")A=j+b+U;else{const{clientWidth:de,offsetWidth:De}=I[0];A=j+X+Q+b+U+(De-de)}}P&&(I[0].style.transform=P),k&&(I[0].style.webkitTransform=k),r.roundLengths&&(A=Math.floor(A))}else A=(i-(r.slidesPerView-1)*v)/r.slidesPerView,r.roundLengths&&(A=Math.floor(A)),c[T]&&(c[T].style[e("width")]=`${A}px`);c[T]&&(c[T].swiperSlideSize=A),_.push(A),r.centeredSlides?(w=w+A/2+S/2+v,S===0&&T!==0&&(w=w-i/2-v),T===0&&(w=w-i/2-v),Math.abs(w)<1/1e3&&(w=0),r.roundLengths&&(w=Math.floor(w)),N%r.slidesPerGroup===0&&f.push(w),p.push(w)):(r.roundLengths&&(w=Math.floor(w)),(N-Math.min(t.params.slidesPerGroupSkip,N))%t.params.slidesPerGroup===0&&f.push(w),p.push(w),w=w+A+v),t.virtualSize+=A+v,S=A,N+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+E,o&&a&&(r.effect==="slide"||r.effect==="coverflow")&&s.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&s.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),O&&t.grid.updateWrapperSize(A,f,e),!r.centeredSlides){const T=[];for(let I=0;I<f.length;I+=1){let C=f[I];r.roundLengths&&(C=Math.floor(C)),f[I]<=t.virtualSize-i&&T.push(C)}f=T,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(f.length===0&&(f=[0]),r.spaceBetween!==0){const T=t.isHorizontal()&&o?"marginLeft":e("marginRight");c.filter((I,C)=>r.cssMode?C!==c.length-1:!0).css({[T]:`${v}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let T=0;_.forEach(C=>{T+=C+(r.spaceBetween?r.spaceBetween:0)}),T-=r.spaceBetween;const I=T-i;f=f.map(C=>C<0?-g:C>I?I+E:C)}if(r.centerInsufficientSlides){let T=0;if(_.forEach(I=>{T+=I+(r.spaceBetween?r.spaceBetween:0)}),T-=r.spaceBetween,T<i){const I=(i-T)/2;f.forEach((C,P)=>{f[P]=C-I}),p.forEach((C,P)=>{p[P]=C+I})}}if(Object.assign(t,{slides:c,snapGrid:f,slidesGrid:p,slidesSizesGrid:_}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){gl(t.wrapperEl,"--swiper-centered-offset-before",`${-f[0]}px`),gl(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-_[_.length-1]/2}px`);const T=-t.snapGrid[0],I=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(C=>C+T),t.slidesGrid=t.slidesGrid.map(C=>C+I)}if(d!==u&&t.emit("slidesLengthChange"),f.length!==m&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==y&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const T=`${r.containerModifierClass}backface-hidden`,I=t.$el.hasClass(T);d<=r.maxBackfaceHiddenSlides?I||t.$el.addClass(T):I&&t.$el.removeClass(T)}}function Gk(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||$([])).each(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&e.$wrapperEl.css("height",`${s}px`)}function Kk(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function Qk(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<r.length;a+=1){const l=r[a];let u=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const c=(o+(n.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+n.spaceBetween),d=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+n.spaceBetween),f=-(o-u),p=f+e.slidesSizesGrid[a];(f>=0&&f<e.size-1||p>1&&p<=e.size||f<=0&&p>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass)),l.progress=s?-c:c,l.originalProgress=s?-d:d}e.visibleSlides=$(e.visibleSlides)}function Yk(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o}=e;const a=i,l=o;r===0?(s=0,i=!0,o=!0):(s=(t-e.minTranslate())/r,i=s<=0,o=s>=1),Object.assign(e,{progress:s,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!a&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(a&&!i||l&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function Xk(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:s,realIndex:i}=t,o=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let a;o?a=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${s}"]`):a=e.eq(s),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass));let l=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&l.length===0&&(l=e.eq(0),l.addClass(n.slideNextClass));let u=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&u.length===0&&(u=e.eq(-1),u.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),u.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${u.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function Jk(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:s,params:i,activeIndex:o,realIndex:a,snapIndex:l}=e;let u=t,c;if(typeof u>"u"){for(let f=0;f<r.length;f+=1)typeof r[f+1]<"u"?n>=r[f]&&n<r[f+1]-(r[f+1]-r[f])/2?u=f:n>=r[f]&&n<r[f+1]&&(u=f+1):n>=r[f]&&(u=f);i.normalizeSlideIndex&&(u<0||typeof u>"u")&&(u=0)}if(s.indexOf(n)>=0)c=s.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,u);c=f+Math.floor((u-f)/i.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),u===o){c!==l&&(e.snapIndex=c,e.emit("snapIndexChange"));return}const d=parseInt(e.slides.eq(u).attr("data-swiper-slide-index")||u,10);Object.assign(e,{snapIndex:c,realIndex:d,previousIndex:o,activeIndex:u}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==d&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function Zk(t){const e=this,n=e.params,r=$(t).closest(`.${n.slideClass}`)[0];let s=!1,i;if(r){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===r){s=!0,i=o;break}}if(r&&s)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt($(r).attr("data-swiper-slide-index"),10):e.clickedIndex=i;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const eP={updateSize:qk,updateSlides:Wk,updateAutoHeight:Gk,updateSlidesOffset:Kk,updateSlidesProgress:Qk,updateProgress:Yk,updateSlidesClasses:Xk,updateActiveIndex:Jk,updateClickedSlide:Zk};function tP(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,$wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=Lk(i[0],t);return r&&(o=-o),o||0}function nP(t,e){const n=this,{rtlTranslate:r,params:s,$wrapperEl:i,wrapperEl:o,progress:a}=n;let l=0,u=0;const c=0;n.isHorizontal()?l=r?-t:t:u=t,s.roundLengths&&(l=Math.floor(l),u=Math.floor(u)),s.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-u:s.virtualTranslate||i.transform(`translate3d(${l}px, ${u}px, ${c}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:u;let d;const f=n.maxTranslate()-n.minTranslate();f===0?d=0:d=(t-n.minTranslate())/f,d!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function rP(){return-this.snapGrid[0]}function sP(){return-this.snapGrid[this.snapGrid.length-1]}function iP(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),u=i.maxTranslate();let c;if(r&&t>l?c=l:r&&t<u?c=u:c=t,i.updateProgress(c),o.cssMode){const d=i.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-c;else{if(!i.support.smoothScroll)return lS({swiper:i,targetPosition:-c,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-c,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(c),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(c),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}const oP={getTranslate:tP,setTranslate:nP,minTranslate:rP,maxTranslate:sP,translateTo:iP};function aP(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function cS({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let o=n;if(o||(s>i?o="next":s<i?o="prev":o="reset"),t.emit(`transition${r}`),e&&s!==i){if(o==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function lP(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),cS({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function uP(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),cS({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const cP={setTransition:aP,transitionStart:lP,transitionEnd:uP};function dP(t=0,e=this.params.speed,n=!0,r,s){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const v=parseInt(t,10);if(!isFinite(v))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=v}const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:u,previousIndex:c,activeIndex:d,rtlTranslate:f,wrapperEl:p,enabled:_}=i;if(i.animating&&a.preventInteractionOnTransition||!_&&!r&&!s)return!1;const g=Math.min(i.params.slidesPerGroupSkip,o);let E=g+Math.floor((o-g)/i.params.slidesPerGroup);E>=l.length&&(E=l.length-1);const m=-l[E];if(a.normalizeSlideIndex)for(let v=0;v<u.length;v+=1){const w=-Math.floor(m*100),S=Math.floor(u[v]*100),N=Math.floor(u[v+1]*100);typeof u[v+1]<"u"?w>=S&&w<N-(N-S)/2?o=v:w>=S&&w<N&&(o=v+1):w>=S&&(o=v)}if(i.initialized&&o!==d&&(!i.allowSlideNext&&m<i.translate&&m<i.minTranslate()||!i.allowSlidePrev&&m>i.translate&&m>i.maxTranslate()&&(d||0)!==o))return!1;o!==(c||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(m);let y;if(o>d?y="next":o<d?y="prev":y="reset",f&&-m===i.translate||!f&&m===i.translate)return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(m),y!=="reset"&&(i.transitionStart(n,y),i.transitionEnd(n,y)),!1;if(a.cssMode){const v=i.isHorizontal(),w=f?m:-m;if(e===0){const S=i.virtual&&i.params.virtual.enabled;S&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),p[v?"scrollLeft":"scrollTop"]=w,S&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._swiperImmediateVirtual=!1})}else{if(!i.support.smoothScroll)return lS({swiper:i,targetPosition:w,side:v?"left":"top"}),!0;p.scrollTo({[v?"left":"top"]:w,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(m),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,y),e===0?i.transitionEnd(n,y):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(w){!i||i.destroyed||w.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,y))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd)),!0}function hP(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const o=parseInt(t,10);if(!isFinite(o))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=o}const s=this;let i=t;return s.params.loop&&(i+=s.loopedSlides),s.slideTo(i,e,n,r)}function fP(t=this.params.speed,e=!0,n){const r=this,{animating:s,enabled:i,params:o}=r;if(!i)return r;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(s&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function pP(t=this.params.speed,e=!0,n){const r=this,{params:s,animating:i,snapGrid:o,slidesGrid:a,rtlTranslate:l,enabled:u}=r;if(!u)return r;if(s.loop){if(i&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const c=l?r.translate:-r.translate;function d(E){return E<0?-Math.floor(Math.abs(E)):Math.floor(E)}const f=d(c),p=o.map(E=>d(E));let _=o[p.indexOf(f)-1];if(typeof _>"u"&&s.cssMode){let E;o.forEach((m,y)=>{f>=m&&(E=y)}),typeof E<"u"&&(_=o[E>0?E-1:E])}let g=0;if(typeof _<"u"&&(g=a.indexOf(_),g<0&&(g=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&r.isBeginning){const E=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(E,t,e,n)}return r.slideTo(g,t,e,n)}function mP(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function gP(t=this.params.speed,e=!0,n,r=.5){const s=this;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const u=s.snapGrid[a],c=s.snapGrid[a+1];l-u>(c-u)*r&&(i+=s.params.slidesPerGroup)}else{const u=s.snapGrid[a-1],c=s.snapGrid[a];l-u<=(c-u)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function yP(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;if(e.loop){if(t.animating)return;i=parseInt($(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),na(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),na(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}const _P={slideTo:dP,slideToLoop:hP,slideNext:fP,slidePrev:pP,slideReset:mP,slideToClosest:gP,slideToClickedSlide:yP};function vP(){const t=this,e=Qe(),{params:n,$wrapperEl:r}=t,s=r.children().length>0?$(r.children()[0].parentNode):r;s.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let i=s.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-i.length%n.slidesPerGroup;if(l!==n.slidesPerGroup){for(let u=0;u<l;u+=1){const c=$(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);s.append(c)}i=s.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>i.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=i.length);const o=[],a=[];i.each((l,u)=>{$(l).attr("data-swiper-slide-index",u)});for(let l=0;l<t.loopedSlides;l+=1){const u=l-Math.floor(l/i.length)*i.length;a.push(i.eq(u)[0]),o.unshift(i.eq(i.length-u-1)[0])}for(let l=0;l<a.length;l+=1)s.append($(a[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let l=o.length-1;l>=0;l-=1)s.prepend($(o[l].cloneNode(!0)).addClass(n.slideDuplicateClass))}function EP(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:s,allowSlideNext:i,snapGrid:o,rtlTranslate:a}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const c=-o[e]-t.getTranslate();e<r?(l=n.length-r*3+e,l+=r,t.slideTo(l,0,!1,!0)&&c!==0&&t.setTranslate((a?-t.translate:t.translate)-c)):e>=n.length-r&&(l=-n.length+e+r,l+=r,t.slideTo(l,0,!1,!0)&&c!==0&&t.setTranslate((a?-t.translate:t.translate)-c)),t.allowSlidePrev=s,t.allowSlideNext=i,t.emit("loopFix")}function wP(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const SP={loopCreate:vP,loopFix:EP,loopDestroy:wP};function TP(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function CP(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const xP={setGrabCursor:TP,unsetGrabCursor:CP};function IP(t,e=this){function n(r){if(!r||r===Qe()||r===Ze())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function NP(t){const e=this,n=Qe(),r=Ze(),s=e.touchEventsData,{params:i,touches:o,enabled:a}=e;if(!a||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let u=$(l.target);if(i.touchEventsTarget==="wrapper"&&!u.closest(e.wrapperEl).length||(s.isTouchEvent=l.type==="touchstart",!s.isTouchEvent&&"which"in l&&l.which===3)||!s.isTouchEvent&&"button"in l&&l.button>0||s.isTouched&&s.isMoved)return;const c=!!i.noSwipingClass&&i.noSwipingClass!=="",d=t.composedPath?t.composedPath():t.path;c&&l.target&&l.target.shadowRoot&&d&&(u=$(d[0]));const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(i.noSwiping&&(p?IP(f,u[0]):u.closest(f)[0])){e.allowClick=!0;return}if(i.swipeHandler&&!u.closest(i.swipeHandler)[0])return;o.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,o.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const _=o.currentX,g=o.currentY,E=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,m=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(E&&(_<=m||_>=r.innerWidth-m))if(E==="prevent")t.preventDefault();else return;if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=_,o.startY=g,s.touchStartTime=ra(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1),l.type!=="touchstart"){let y=!0;u.is(s.focusableElements)&&(y=!1,u[0].nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&$(n.activeElement).is(s.focusableElements)&&n.activeElement!==u[0]&&n.activeElement.blur();const v=y&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||v)&&!u[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function RP(t){const e=Qe(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}if(r.isTouchEvent&&l.type!=="touchmove")return;const u=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),c=l.type==="touchmove"?u.pageX:l.pageX,d=l.type==="touchmove"?u.pageY:l.pageY;if(l.preventedByNestedSwiper){i.startX=c,i.startY=d;return}if(!n.allowTouchMove){$(l.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:c,startY:d,currentX:c,currentY:d}),r.touchStartTime=ra());return}if(r.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(d<i.startY&&n.translate<=n.maxTranslate()||d>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(c<i.startX&&n.translate<=n.maxTranslate()||c>i.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&$(l.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;i.currentX=c,i.currentY=d;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let m;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(m=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?m>s.touchAngle:90-m>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),r.isMoved||(s.loop&&!s.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let _=n.isHorizontal()?f:p;i.diff=_,_*=s.touchRatio,o&&(_=-_),n.swipeDirection=_>0?"prev":"next",r.currentTranslate=_+r.startTranslate;let g=!0,E=s.resistanceRatio;if(s.touchReleaseOnEdges&&(E=0),_>0&&r.currentTranslate>n.minTranslate()?(g=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+_)**E)):_<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-_)**E)),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(_)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function AP(t){const e=this,n=e.touchEventsData,{params:r,touches:s,rtlTranslate:i,slidesGrid:o,enabled:a}=e;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const u=ra(),c=u-n.touchStartTime;if(e.allowClick){const y=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(y&&y[0]||l.target),e.emit("tap click",l),c<300&&u-n.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(n.lastClickTime=ra(),na(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let d;if(r.followFinger?d=i?e.translate:-e.translate:d=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:d});return}let f=0,p=e.slidesSizesGrid[0];for(let y=0;y<o.length;y+=y<r.slidesPerGroupSkip?1:r.slidesPerGroup){const v=y<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof o[y+v]<"u"?d>=o[y]&&d<o[y+v]&&(f=y,p=o[y+v]-o[y]):d>=o[y]&&(f=y,p=o[o.length-1]-o[o.length-2])}let _=null,g=null;r.rewind&&(e.isBeginning?g=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(_=0));const E=(d-o[f])/p,m=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(c>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(E>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?_:f+m):e.slideTo(f)),e.swipeDirection==="prev"&&(E>1-r.longSwipesRatio?e.slideTo(f+m):g!==null&&E<0&&Math.abs(E)>r.longSwipesRatio?e.slideTo(g):e.slideTo(f))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(f+m):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(_!==null?_:f+m),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:f))}}function S_(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function kP(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function PP(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let T_=!1;function bP(){}const dS=(t,e)=>{const n=Qe(),{params:r,touchEvents:s,el:i,wrapperEl:o,device:a,support:l}=t,u=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",d=e;if(!l.touch)i[c](s.start,t.onTouchStart,!1),n[c](s.move,t.onTouchMove,u),n[c](s.end,t.onTouchEnd,!1);else{const f=s.start==="touchstart"&&l.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;i[c](s.start,t.onTouchStart,f),i[c](s.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:u}:u),i[c](s.end,t.onTouchEnd,f),s.cancel&&i[c](s.cancel,t.onTouchEnd,f)}(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&o[c]("scroll",t.onScroll),r.updateOnWindowResize?t[d](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",S_,!0):t[d]("observerUpdate",S_,!0)};function OP(){const t=this,e=Qe(),{params:n,support:r}=t;t.onTouchStart=NP.bind(t),t.onTouchMove=RP.bind(t),t.onTouchEnd=AP.bind(t),n.cssMode&&(t.onScroll=PP.bind(t)),t.onClick=kP.bind(t),r.touch&&!T_&&(e.addEventListener("touchstart",bP),T_=!0),dS(t,"on")}function DP(){dS(this,"off")}const LP={attachEvents:OP,detachEvents:DP},C_=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function MP(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:s,$el:i}=t,o=s.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const u=(a in o?o[a]:void 0)||t.originalParams,c=C_(t,s),d=C_(t,u),f=s.enabled;c&&!d?(i.removeClass(`${s.containerModifierClass}grid ${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&d&&(i.addClass(`${s.containerModifierClass}grid`),(u.grid.fill&&u.grid.fill==="column"||!u.grid.fill&&s.grid.fill==="column")&&i.addClass(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(E=>{const m=s[E]&&s[E].enabled,y=u[E]&&u[E].enabled;m&&!y&&t[E].disable(),!m&&y&&t[E].enable()});const p=u.direction&&u.direction!==s.direction,_=s.loop&&(u.slidesPerView!==s.slidesPerView||p);p&&n&&t.changeDirection(),Mt(t.params,u);const g=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!g?t.disable():!f&&g&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",u),_&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",u)}function $P(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=Ze(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:u}=o[a];e==="window"?s.matchMedia(`(min-width: ${u}px)`).matches&&(r=l):u<=n.clientWidth&&(r=l)}return r||"max"}const jP={setBreakpoint:MP,getBreakpoint:$P};function VP(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function FP(){const t=this,{classNames:e,params:n,rtl:r,$el:s,device:i,support:o}=t,a=VP(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.addClass([...e].join(" ")),t.emitContainerClasses()}function UP(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const zP={addClasses:FP,removeClasses:UP};function BP(t,e,n,r,s,i){const o=Ze();let a;function l(){i&&i()}!$(t).parent("picture")[0]&&(!t.complete||!s)&&e?(a=new o.Image,a.onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):l()}function HP(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const qP={loadImage:BP,preloadImages:HP};function WP(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const GP={checkOverflow:WP},x_={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function KP(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Mt(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&t[s]===!0&&(t[s]={auto:!0}),!(s in t&&"enabled"in i)){Mt(e,r);return}t[s]===!0&&(t[s]={enabled:!0}),typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Mt(e,r)}}const Md={eventsEmitter:Hk,update:eP,translate:oP,transition:cP,slide:_P,loop:SP,grabCursor:xP,events:LP,breakpoints:jP,checkOverflow:GP,classes:zP,images:qP},$d={};let vi=class Pn{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Mt({},r),n&&!r.el&&(r.el=n),r.el&&$(r.el).length>1){const a=[];return $(r.el).each(l=>{const u=Mt({},r,{el:l});a.push(new Pn(u))}),a}const s=this;s.__swiper__=!0,s.support=uS(),s.device=Vk({userAgent:r.userAgent}),s.browser=Uk(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const i={};s.modules.forEach(a=>{a({swiper:s,extendParams:KP(r,i),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const o=Mt({},x_,i);return s.params=Mt({},o,$d,r),s.originalParams=Mt({},s.params),s.passedParams=Mt({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(a=>{s.on(a,s.params.on[a])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=$,Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:$(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const l=["touchstart","touchmove","touchend","touchcancel"],u=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},s.touchEventsDesktop={start:u[0],move:u[1],end:u[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:ra(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:u}=r;let c=1;if(s.centeredSlides){let d=i[u].swiperSlideSize,f;for(let p=u+1;p<i.length;p+=1)i[p]&&!f&&(d+=i[p].swiperSlideSize,c+=1,d>l&&(f=!0));for(let p=u-1;p>=0;p-=1)i[p]&&!f&&(d+=i[p].swiperSlideSize,c+=1,d>l&&(f=!0))}else if(e==="current")for(let d=u+1;d<i.length;d+=1)(n?o[d]+a[d]-o[u]<l:o[d]-o[u]<l)&&(c+=1);else for(let d=u-1;d>=0;d-=1)o[u]-o[d]<l&&(c+=1);return c}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;e.params.freeMode&&e.params.freeMode.enabled?(s(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?i=e.slideTo(e.slides.length-1,0,!1,!0):i=e.slideTo(e.activeIndex,0,!1,!0),i||s()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${s}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=$(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const a=$(e.shadowRoot.querySelector(s()));return a.children=l=>r.children(l),a}return r.children?r.children(s()):$(r).children(s())})();if(o.length===0&&n.params.createElements){const l=Qe().createElement("div");o=$(l),l.className=n.params.wrapperClass,r.append(l),r.children(`.${n.params.slideClass}`).each(u=>{o.append(u)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:o.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:s,$el:i,$wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.$el[0].swiper=null,Ok(r)),r.destroyed=!0),null}static extendDefaults(e){Mt($d,e)}static get extendedDefaults(){return $d}static get defaults(){return x_}static installModule(e){Pn.prototype.__modules__||(Pn.prototype.__modules__=[]);const n=Pn.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Pn.installModule(n)),Pn):(Pn.installModule(e),Pn)}};Object.keys(Md).forEach(t=>{Object.keys(Md[t]).forEach(e=>{vi.prototype[e]=Md[t][e]})});vi.use([zk,Bk]);function hm(t,e,n,r){const s=Qe();return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=t.$el.children(`.${r[i]}`)[0];o||(o=s.createElement("div"),o.className=r[i],t.$el.append(o)),n[i]=o,e[i]=o}}),n}function fm({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function s(p){let _;return p&&(_=$(p),t.params.uniqueNavElements&&typeof p=="string"&&_.length>1&&t.$el.find(p).length===1&&(_=t.$el.find(p))),_}function i(p,_){const g=t.params.navigation;p&&p.length>0&&(p[_?"addClass":"removeClass"](g.disabledClass),p[0]&&p[0].tagName==="BUTTON"&&(p[0].disabled=_),t.params.watchOverflow&&t.enabled&&p[t.isLocked?"addClass":"removeClass"](g.lockClass))}function o(){if(t.params.loop)return;const{$nextEl:p,$prevEl:_}=t.navigation;i(_,t.isBeginning&&!t.params.rewind),i(p,t.isEnd&&!t.params.rewind)}function a(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function l(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function u(){const p=t.params.navigation;if(t.params.navigation=hm(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;const _=s(p.nextEl),g=s(p.prevEl);_&&_.length>0&&_.on("click",l),g&&g.length>0&&g.on("click",a),Object.assign(t.navigation,{$nextEl:_,nextEl:_&&_[0],$prevEl:g,prevEl:g&&g[0]}),t.enabled||(_&&_.addClass(p.lockClass),g&&g.addClass(p.lockClass))}function c(){const{$nextEl:p,$prevEl:_}=t.navigation;p&&p.length&&(p.off("click",l),p.removeClass(t.params.navigation.disabledClass)),_&&_.length&&(_.off("click",a),_.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?f():(u(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{c()}),n("enable disable",()=>{const{$nextEl:p,$prevEl:_}=t.navigation;p&&p[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),_&&_[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(p,_)=>{const{$nextEl:g,$prevEl:E}=t.navigation,m=_.target;if(t.params.navigation.hideOnClick&&!$(m).is(E)&&!$(m).is(g)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===m||t.pagination.el.contains(m)))return;let y;g?y=g.hasClass(t.params.navigation.hiddenClass):E&&(y=E.hasClass(t.params.navigation.hiddenClass)),r(y===!0?"navigationShow":"navigationHide"),g&&g.toggleClass(t.params.navigation.hiddenClass),E&&E.toggleClass(t.params.navigation.hiddenClass)}});const d=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),u(),o()},f=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),c()};Object.assign(t.navigation,{enable:d,disable:f,update:o,init:u,destroy:c})}function Ln(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function pm({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let i,o=0;function a(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function l(g,E){const{bulletActiveClass:m}=t.params.pagination;g[E]().addClass(`${m}-${E}`)[E]().addClass(`${m}-${E}-${E}`)}function u(){const g=t.rtl,E=t.params.pagination;if(a())return;const m=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,y=t.pagination.$el;let v;const w=t.params.loop?Math.ceil((m-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(v=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),v>m-1-t.loopedSlides*2&&(v-=m-t.loopedSlides*2),v>w-1&&(v-=w),v<0&&t.params.paginationType!=="bullets"&&(v=w+v)):typeof t.snapIndex<"u"?v=t.snapIndex:v=t.activeIndex||0,E.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const S=t.pagination.bullets;let N,O,A;if(E.dynamicBullets&&(i=S.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),y.css(t.isHorizontal()?"width":"height",`${i*(E.dynamicMainBullets+4)}px`),E.dynamicMainBullets>1&&t.previousIndex!==void 0&&(o+=v-(t.previousIndex-t.loopedSlides||0),o>E.dynamicMainBullets-1?o=E.dynamicMainBullets-1:o<0&&(o=0)),N=Math.max(v-o,0),O=N+(Math.min(S.length,E.dynamicMainBullets)-1),A=(O+N)/2),S.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(q=>`${E.bulletActiveClass}${q}`).join(" ")),y.length>1)S.each(q=>{const T=$(q),I=T.index();I===v&&T.addClass(E.bulletActiveClass),E.dynamicBullets&&(I>=N&&I<=O&&T.addClass(`${E.bulletActiveClass}-main`),I===N&&l(T,"prev"),I===O&&l(T,"next"))});else{const q=S.eq(v),T=q.index();if(q.addClass(E.bulletActiveClass),E.dynamicBullets){const I=S.eq(N),C=S.eq(O);for(let P=N;P<=O;P+=1)S.eq(P).addClass(`${E.bulletActiveClass}-main`);if(t.params.loop)if(T>=S.length){for(let P=E.dynamicMainBullets;P>=0;P-=1)S.eq(S.length-P).addClass(`${E.bulletActiveClass}-main`);S.eq(S.length-E.dynamicMainBullets-1).addClass(`${E.bulletActiveClass}-prev`)}else l(I,"prev"),l(C,"next");else l(I,"prev"),l(C,"next")}}if(E.dynamicBullets){const q=Math.min(S.length,E.dynamicMainBullets+4),T=(i*q-i)/2-A*i,I=g?"right":"left";S.css(t.isHorizontal()?I:"top",`${T}px`)}}if(E.type==="fraction"&&(y.find(Ln(E.currentClass)).text(E.formatFractionCurrent(v+1)),y.find(Ln(E.totalClass)).text(E.formatFractionTotal(w))),E.type==="progressbar"){let S;E.progressbarOpposite?S=t.isHorizontal()?"vertical":"horizontal":S=t.isHorizontal()?"horizontal":"vertical";const N=(v+1)/w;let O=1,A=1;S==="horizontal"?O=N:A=N,y.find(Ln(E.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${O}) scaleY(${A})`).transition(t.params.speed)}E.type==="custom"&&E.renderCustom?(y.html(E.renderCustom(t,v+1,w)),r("paginationRender",y[0])):r("paginationUpdate",y[0]),t.params.watchOverflow&&t.enabled&&y[t.isLocked?"addClass":"removeClass"](E.lockClass)}function c(){const g=t.params.pagination;if(a())return;const E=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,m=t.pagination.$el;let y="";if(g.type==="bullets"){let v=t.params.loop?Math.ceil((E-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&v>E&&(v=E);for(let w=0;w<v;w+=1)g.renderBullet?y+=g.renderBullet.call(t,w,g.bulletClass):y+=`<${g.bulletElement} class="${g.bulletClass}"></${g.bulletElement}>`;m.html(y),t.pagination.bullets=m.find(Ln(g.bulletClass))}g.type==="fraction"&&(g.renderFraction?y=g.renderFraction.call(t,g.currentClass,g.totalClass):y=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`,m.html(y)),g.type==="progressbar"&&(g.renderProgressbar?y=g.renderProgressbar.call(t,g.progressbarFillClass):y=`<span class="${g.progressbarFillClass}"></span>`,m.html(y)),g.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function d(){t.params.pagination=hm(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const g=t.params.pagination;if(!g.el)return;let E=$(g.el);E.length!==0&&(t.params.uniqueNavElements&&typeof g.el=="string"&&E.length>1&&(E=t.$el.find(g.el),E.length>1&&(E=E.filter(m=>$(m).parents(".swiper")[0]===t.el))),g.type==="bullets"&&g.clickable&&E.addClass(g.clickableClass),E.addClass(g.modifierClass+g.type),E.addClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(E.addClass(`${g.modifierClass}${g.type}-dynamic`),o=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&E.addClass(g.progressbarOppositeClass),g.clickable&&E.on("click",Ln(g.bulletClass),function(y){y.preventDefault();let v=$(this).index()*t.params.slidesPerGroup;t.params.loop&&(v+=t.loopedSlides),t.slideTo(v)}),Object.assign(t.pagination,{$el:E,el:E[0]}),t.enabled||E.addClass(g.lockClass))}function f(){const g=t.params.pagination;if(a())return;const E=t.pagination.$el;E.removeClass(g.hiddenClass),E.removeClass(g.modifierClass+g.type),E.removeClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(g.bulletActiveClass),g.clickable&&E.off("click",Ln(g.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?_():(d(),c(),u())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&u()}),n("snapIndexChange",()=>{t.params.loop||u()}),n("slidesLengthChange",()=>{t.params.loop&&(c(),u())}),n("snapGridLengthChange",()=>{t.params.loop||(c(),u())}),n("destroy",()=>{f()}),n("enable disable",()=>{const{$el:g}=t.pagination;g&&g[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{u()}),n("click",(g,E)=>{const m=E.target,{$el:y}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&y&&y.length>0&&!$(m).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&m===t.navigation.nextEl||t.navigation.prevEl&&m===t.navigation.prevEl))return;const v=y.hasClass(t.params.pagination.hiddenClass);r(v===!0?"paginationShow":"paginationHide"),y.toggleClass(t.params.pagination.hiddenClass)}});const p=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),d(),c(),u()},_=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),f()};Object.assign(t.pagination,{enable:p,disable:_,render:c,update:u,init:d,destroy:f})}function mm({swiper:t,extendParams:e,on:n,emit:r}){const s=Qe();let i=!1,o=null,a=null,l,u,c,d;e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:I,rtlTranslate:C,progress:P}=t,{$dragEl:k,$el:j}=I,X=t.params.scrollbar;let Q=u,b=(c-u)*P;C?(b=-b,b>0?(Q=u-b,b=0):-b+u>c&&(Q=c+b)):b<0?(Q=u+b,b=0):b+u>c&&(Q=c-b),t.isHorizontal()?(k.transform(`translate3d(${b}px, 0, 0)`),k[0].style.width=`${Q}px`):(k.transform(`translate3d(0px, ${b}px, 0)`),k[0].style.height=`${Q}px`),X.hide&&(clearTimeout(o),j[0].style.opacity=1,o=setTimeout(()=>{j[0].style.opacity=0,j.transition(400)},1e3))}function p(I){!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(I)}function _(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:I}=t,{$dragEl:C,$el:P}=I;C[0].style.width="",C[0].style.height="",c=t.isHorizontal()?P[0].offsetWidth:P[0].offsetHeight,d=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?u=c*d:u=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?C[0].style.width=`${u}px`:C[0].style.height=`${u}px`,d>=1?P[0].style.display="none":P[0].style.display="",t.params.scrollbar.hide&&(P[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&I.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function g(I){return t.isHorizontal()?I.type==="touchstart"||I.type==="touchmove"?I.targetTouches[0].clientX:I.clientX:I.type==="touchstart"||I.type==="touchmove"?I.targetTouches[0].clientY:I.clientY}function E(I){const{scrollbar:C,rtlTranslate:P}=t,{$el:k}=C;let j;j=(g(I)-k.offset()[t.isHorizontal()?"left":"top"]-(l!==null?l:u/2))/(c-u),j=Math.max(Math.min(j,1),0),P&&(j=1-j);const X=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*j;t.updateProgress(X),t.setTranslate(X),t.updateActiveIndex(),t.updateSlidesClasses()}function m(I){const C=t.params.scrollbar,{scrollbar:P,$wrapperEl:k}=t,{$el:j,$dragEl:X}=P;i=!0,l=I.target===X[0]||I.target===X?g(I)-I.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,I.preventDefault(),I.stopPropagation(),k.transition(100),X.transition(100),E(I),clearTimeout(a),j.transition(0),C.hide&&j.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),r("scrollbarDragStart",I)}function y(I){const{scrollbar:C,$wrapperEl:P}=t,{$el:k,$dragEl:j}=C;i&&(I.preventDefault?I.preventDefault():I.returnValue=!1,E(I),P.transition(0),k.transition(0),j.transition(0),r("scrollbarDragMove",I))}function v(I){const C=t.params.scrollbar,{scrollbar:P,$wrapperEl:k}=t,{$el:j}=P;i&&(i=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),k.transition("")),C.hide&&(clearTimeout(a),a=na(()=>{j.css("opacity",0),j.transition(400)},1e3)),r("scrollbarDragEnd",I),C.snapOnRelease&&t.slideToClosest())}function w(I){const{scrollbar:C,touchEventsTouch:P,touchEventsDesktop:k,params:j,support:X}=t,Q=C.$el;if(!Q)return;const b=Q[0],U=X.passiveListener&&j.passiveListeners?{passive:!1,capture:!1}:!1,G=X.passiveListener&&j.passiveListeners?{passive:!0,capture:!1}:!1;if(!b)return;const de=I==="on"?"addEventListener":"removeEventListener";X.touch?(b[de](P.start,m,U),b[de](P.move,y,U),b[de](P.end,v,G)):(b[de](k.start,m,U),s[de](k.move,y,U),s[de](k.end,v,G))}function S(){!t.params.scrollbar.el||!t.scrollbar.el||w("on")}function N(){!t.params.scrollbar.el||!t.scrollbar.el||w("off")}function O(){const{scrollbar:I,$el:C}=t;t.params.scrollbar=hm(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const P=t.params.scrollbar;if(!P.el)return;let k=$(P.el);t.params.uniqueNavElements&&typeof P.el=="string"&&k.length>1&&C.find(P.el).length===1&&(k=C.find(P.el)),k.addClass(t.isHorizontal()?P.horizontalClass:P.verticalClass);let j=k.find(`.${t.params.scrollbar.dragClass}`);j.length===0&&(j=$(`<div class="${t.params.scrollbar.dragClass}"></div>`),k.append(j)),Object.assign(I,{$el:k,el:k[0],$dragEl:j,dragEl:j[0]}),P.draggable&&S(),k&&k[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function A(){const I=t.params.scrollbar,C=t.scrollbar.$el;C&&C.removeClass(t.isHorizontal()?I.horizontalClass:I.verticalClass),N()}n("init",()=>{t.params.scrollbar.enabled===!1?T():(O(),_(),f())}),n("update resize observerUpdate lock unlock",()=>{_()}),n("setTranslate",()=>{f()}),n("setTransition",(I,C)=>{p(C)}),n("enable disable",()=>{const{$el:I}=t.scrollbar;I&&I[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),n("destroy",()=>{A()});const q=()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),O(),_(),f()},T=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),A()};Object.assign(t.scrollbar,{enable:q,disable:T,updateSize:_,setTranslate:f,init:O,destroy:A})}function gm({swiper:t,extendParams:e,on:n}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let r=null;function s(C){const P=r;P.length!==0&&(P.html(""),P.html(C))}function i(C=16){const P=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(C).replace(/x/g,P)}function o(C){C.attr("tabIndex","0")}function a(C){C.attr("tabIndex","-1")}function l(C,P){C.attr("role",P)}function u(C,P){C.attr("aria-roledescription",P)}function c(C,P){C.attr("aria-controls",P)}function d(C,P){C.attr("aria-label",P)}function f(C,P){C.attr("id",P)}function p(C,P){C.attr("aria-live",P)}function _(C){C.attr("aria-disabled",!0)}function g(C){C.attr("aria-disabled",!1)}function E(C){if(C.keyCode!==13&&C.keyCode!==32)return;const P=t.params.a11y,k=$(C.target);t.navigation&&t.navigation.$nextEl&&k.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?s(P.lastSlideMessage):s(P.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&k.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?s(P.firstSlideMessage):s(P.prevSlideMessage)),t.pagination&&k.is(Ln(t.params.pagination.bulletClass))&&k[0].click()}function m(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:C,$prevEl:P}=t.navigation;P&&P.length>0&&(t.isBeginning?(_(P),a(P)):(g(P),o(P))),C&&C.length>0&&(t.isEnd?(_(C),a(C)):(g(C),o(C)))}function y(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function v(){return y()&&t.params.pagination.clickable}function w(){const C=t.params.a11y;y()&&t.pagination.bullets.each(P=>{const k=$(P);t.params.pagination.clickable&&(o(k),t.params.pagination.renderBullet||(l(k,"button"),d(k,C.paginationBulletMessage.replace(/\{\{index\}\}/,k.index()+1)))),k.is(`.${t.params.pagination.bulletActiveClass}`)?k.attr("aria-current","true"):k.removeAttr("aria-current")})}const S=(C,P,k)=>{o(C),C[0].tagName!=="BUTTON"&&(l(C,"button"),C.on("keydown",E)),d(C,k),c(C,P)},N=()=>{t.a11y.clicked=!0},O=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},A=C=>{if(t.a11y.clicked)return;const P=C.target.closest(`.${t.params.slideClass}`);if(!P||!t.slides.includes(P))return;const k=t.slides.indexOf(P)===t.activeIndex,j=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(P);k||j||C.sourceCapabilities&&C.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(P),0))},q=()=>{const C=t.params.a11y;C.itemRoleDescriptionMessage&&u($(t.slides),C.itemRoleDescriptionMessage),C.slideRole&&l($(t.slides),C.slideRole);const P=t.params.loop?t.slides.filter(k=>!k.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;C.slideLabelMessage&&t.slides.each((k,j)=>{const X=$(k),Q=t.params.loop?parseInt(X.attr("data-swiper-slide-index"),10):j,b=C.slideLabelMessage.replace(/\{\{index\}\}/,Q+1).replace(/\{\{slidesLength\}\}/,P);d(X,b)})},T=()=>{const C=t.params.a11y;t.$el.append(r);const P=t.$el;C.containerRoleDescriptionMessage&&u(P,C.containerRoleDescriptionMessage),C.containerMessage&&d(P,C.containerMessage);const k=t.$wrapperEl,j=C.id||k.attr("id")||`swiper-wrapper-${i(16)}`,X=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";f(k,j),p(k,X),q();let Q,b;t.navigation&&t.navigation.$nextEl&&(Q=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(b=t.navigation.$prevEl),Q&&Q.length&&S(Q,j,C.nextSlideMessage),b&&b.length&&S(b,j,C.prevSlideMessage),v()&&t.pagination.$el.on("keydown",Ln(t.params.pagination.bulletClass),E),t.$el.on("focus",A,!0),t.$el.on("pointerdown",N,!0),t.$el.on("pointerup",O,!0)};function I(){r&&r.length>0&&r.remove();let C,P;t.navigation&&t.navigation.$nextEl&&(C=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(P=t.navigation.$prevEl),C&&C.off("keydown",E),P&&P.off("keydown",E),v()&&t.pagination.$el.off("keydown",Ln(t.params.pagination.bulletClass),E),t.$el.off("focus",A,!0),t.$el.off("pointerdown",N,!0),t.$el.off("pointerup",O,!0)}n("beforeInit",()=>{r=$(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),n("afterInit",()=>{t.params.a11y.enabled&&T()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&q()}),n("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&m()}),n("paginationUpdate",()=>{t.params.a11y.enabled&&w()}),n("destroy",()=>{t.params.a11y.enabled&&I()})}function ym({swiper:t,extendParams:e,on:n,emit:r}){let s;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function i(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const g=t.slides.eq(t.activeIndex);let E=t.params.autoplay.delay;g.attr("data-swiper-autoplay")&&(E=g.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(s),s=na(()=>{let m;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),m=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?a():(m=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(m=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),m=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?a():(m=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(m=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||m===!1)&&i()},E)}function o(){return typeof s<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),i(),!0)}function a(){return!t.autoplay.running||typeof s>"u"?!1:(s&&(clearTimeout(s),s=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function l(g){t.autoplay.running&&(t.autoplay.paused||(s&&clearTimeout(s),t.autoplay.paused=!0,g===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,i()):["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].addEventListener(E,c)})))}function u(){const g=Qe();g.visibilityState==="hidden"&&t.autoplay.running&&l(),g.visibilityState==="visible"&&t.autoplay.paused&&(i(),t.autoplay.paused=!1)}function c(g){!t||t.destroyed||!t.$wrapperEl||g.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(E=>{t.$wrapperEl[0].removeEventListener(E,c)}),t.autoplay.paused=!1,t.autoplay.running?i():a())}function d(){t.params.autoplay.disableOnInteraction?a():(r("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach(g=>{t.$wrapperEl[0].removeEventListener(g,c)})}function f(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),i())}function p(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",d),t.$el.on("mouseleave",f))}function _(){t.$el.off("mouseenter",d),t.$el.off("mouseleave",f)}n("init",()=>{t.params.autoplay.enabled&&(o(),Qe().addEventListener("visibilitychange",u),p())}),n("beforeTransitionStart",(g,E,m)=>{t.autoplay.running&&(m||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(E):a())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?a():l())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&i()}),n("destroy",()=>{_(),t.autoplay.running&&a(),Qe().removeEventListener("visibilitychange",u)}),Object.assign(t.autoplay,{pause:l,run:i,start:o,stop:a})}function QP(t){const{effect:e,swiper:n,on:r,setTranslate:s,setTransition:i,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:u}=t;r("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const d=o?o():{};Object.assign(n.params,d),Object.assign(n.originalParams,d)}),r("setTranslate",()=>{n.params.effect===e&&s()}),r("setTransition",(d,f)=>{n.params.effect===e&&i(f)}),r("transitionEnd",()=>{if(n.params.effect===e&&l){if(!u||!u().slideShadows)return;n.slides.each(d=>{n.$(d).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}});let c;r("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(c=!0),requestAnimationFrame(()=>{c&&n.slides&&n.slides.length&&(s(),c=!1)}))})}function YP(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function XP({swiper:t,duration:e,transformEl:n,allSlides:r}){const{slides:s,activeIndex:i,$wrapperEl:o}=t;if(t.params.virtualTranslate&&e!==0){let a=!1,l;r?l=n?s.find(n):s:l=n?s.eq(i).find(n):s.eq(i),l.transitionEnd(()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const u=["webkitTransitionEnd","transitionend"];for(let c=0;c<u.length;c+=1)o.trigger(u[c])})}}function hS({swiper:t,extendParams:e,on:n}){e({fadeEffect:{crossFade:!1,transformEl:null}}),QP({effect:"fade",swiper:t,on:n,setTranslate:()=>{const{slides:i}=t,o=t.params.fadeEffect;for(let a=0;a<i.length;a+=1){const l=t.slides.eq(a);let c=-l[0].swiperSlideOffset;t.params.virtualTranslate||(c-=t.translate);let d=0;t.isHorizontal()||(d=c,c=0);const f=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(l[0].progress),0):1+Math.min(Math.max(l[0].progress,-1),0);YP(o,l).css({opacity:f}).transform(`translate3d(${c}px, ${d}px, 0px)`)}},setTransition:i=>{const{transformEl:o}=t.params.fadeEffect;(o?t.slides.find(o):t.slides).transition(i),XP({swiper:t,duration:i,transformEl:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function ds(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function hr(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:ds(e[r])&&ds(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:hr(t[r],e[r]):t[r]=e[r]})}function fS(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function pS(t={}){return t.pagination&&typeof t.pagination.el>"u"}function mS(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function gS(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const yS=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function JP(t={},e=!0){const n={on:{}},r={},s={};hr(n,vi.defaults),hr(n,vi.extendedDefaults),n._emitClasses=!0,n.init=!1;const i={},o=yS.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?ds(t[l])?(n[l]={},s[l]={},hr(n[l],t[l]),hr(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:i[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:r}}function ZP({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){fS(o)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),pS(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),mS(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}const _S=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const s=vi.prototype.getBreakpoint(e.breakpoints),i=s in e.breakpoints?e.breakpoints[s]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function eb(t,e,n){const r=e.map((l,u)=>Pe.cloneElement(l,{swiper:t,"data-swiper-slide-index":u}));function s(l,u,c){return Pe.cloneElement(l,{key:`${l.key}-duplicate-${u}-${c}`,className:`${l.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-r.length%n.slidesPerGroup;if(l!==n.slidesPerGroup)for(let u=0;u<l;u+=1){const c=Pe.createElement("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(c)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const i=_S(r,n),o=[],a=[];for(let l=0;l<i;l+=1){const u=l-Math.floor(l/r.length)*r.length;a.push(s(r[u],l,"append")),o.unshift(s(r[r.length-u-1],l,"prepend"))}return t&&(t.loopedSlides=i),[...o,...r,...a]}function tb(t,e,n,r,s){const i=[];if(!e)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(s),u=n.map(s);l.join("")!==u.join("")&&o("children"),r.length!==n.length&&o("children")}return yS.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(ds(t[l])&&ds(e[l])){const u=Object.keys(t[l]),c=Object.keys(e[l]);u.length!==c.length?o(l):(u.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}),c.forEach(d=>{t[l][d]!==e[l][d]&&o(l)}))}else t[l]!==e[l]&&o(l)}),i}function vS(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function ES(t){const e=[];return Pe.Children.toArray(t).forEach(n=>{vS(n)?e.push(n):n.props&&n.props.children&&ES(n.props.children).forEach(r=>e.push(r))}),e}function nb(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return Pe.Children.toArray(t).forEach(r=>{if(vS(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=ES(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function rb({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:a}){const l=r.filter(S=>S!=="children"&&S!=="direction"),{params:u,pagination:c,navigation:d,scrollbar:f,virtual:p,thumbs:_}=t;let g,E,m,y,v;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(g=!0),r.includes("controller")&&n.controller&&n.controller.control&&u.controller&&!u.controller.control&&(E=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(u.pagination||u.pagination===!1)&&c&&!c.el&&(m=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(u.scrollbar||u.scrollbar===!1)&&f&&!f.el&&(y=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&d&&!d.prevEl&&!d.nextEl&&(v=!0);const w=S=>{t[S]&&(t[S].destroy(),S==="navigation"?(u[S].prevEl=void 0,u[S].nextEl=void 0,t[S].prevEl=void 0,t[S].nextEl=void 0):(u[S].el=void 0,t[S].el=void 0))};l.forEach(S=>{if(ds(u[S])&&ds(n[S]))hr(u[S],n[S]);else{const N=n[S];(N===!0||N===!1)&&(S==="navigation"||S==="pagination"||S==="scrollbar")?N===!1&&w(S):u[S]=n[S]}}),l.includes("controller")&&!E&&t.controller&&t.controller.control&&u.controller&&u.controller.control&&(t.controller.control=u.controller.control),r.includes("children")&&e&&p&&u.virtual.enabled?(p.slides=e,p.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),g&&_.init()&&_.update(!0),E&&(t.controller.control=u.controller.control),m&&(a&&(u.pagination.el=a),c.init(),c.render(),c.update()),y&&(o&&(u.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),v&&(s&&(u.navigation.nextEl=s),i&&(u.navigation.prevEl=i),d.init(),d.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function sb(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((s,i)=>i>=n.from&&i<=n.to).map(s=>Pe.cloneElement(s,{swiper:t,style:r}))}const ib=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function No(t,e){return typeof window>"u"?x.useEffect(t,e):x.useLayoutEffect(t,e)}const ob=x.createContext(null),ab=x.createContext(null);function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(this,arguments)}const Tc=x.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[u,c]=x.useState("swiper"),[d,f]=x.useState(null),[p,_]=x.useState(!1),g=x.useRef(!1),E=x.useRef(null),m=x.useRef(null),y=x.useRef(null),v=x.useRef(null),w=x.useRef(null),S=x.useRef(null),N=x.useRef(null),O=x.useRef(null),{params:A,passedParams:q,rest:T,events:I}=JP(a),{slides:C,slots:P}=nb(i),k=()=>{_(!p)};Object.assign(A.on,{_containerClasses(U,G){c(G)}});const j=()=>{if(Object.assign(A.on,I),l=!0,m.current=new vi(A),m.current.loopCreate=()=>{},m.current.loopDestroy=()=>{},A.loop&&(m.current.loopedSlides=_S(C,A)),m.current.virtual&&m.current.params.virtual.enabled){m.current.virtual.slides=C;const U={cache:!1,slides:C,renderExternal:f,renderExternalUpdate:!1};hr(m.current.params.virtual,U),hr(m.current.originalParams.virtual,U)}};E.current||j(),m.current&&m.current.on("_beforeBreakpoint",k);const X=()=>{l||!I||!m.current||Object.keys(I).forEach(U=>{m.current.on(U,I[U])})},Q=()=>{!I||!m.current||Object.keys(I).forEach(U=>{m.current.off(U,I[U])})};x.useEffect(()=>()=>{m.current&&m.current.off("_beforeBreakpoint",k)}),x.useEffect(()=>{!g.current&&m.current&&(m.current.emitSlidesClasses(),g.current=!0)}),No(()=>{if(e&&(e.current=E.current),!!E.current)return m.current.destroyed&&j(),ZP({el:E.current,nextEl:w.current,prevEl:S.current,paginationEl:N.current,scrollbarEl:O.current,swiper:m.current},A),o&&o(m.current),()=>{m.current&&!m.current.destroyed&&m.current.destroy(!0,!1)}},[]),No(()=>{X();const U=tb(q,y.current,C,v.current,G=>G.key);return y.current=q,v.current=C,U.length&&m.current&&!m.current.destroyed&&rb({swiper:m.current,slides:C,passedParams:q,changedParams:U,nextEl:w.current,prevEl:S.current,scrollbarEl:O.current,paginationEl:N.current}),()=>{Q()}}),No(()=>{ib(m.current)},[d]);function b(){return A.virtual?sb(m.current,C,d):!A.loop||m.current&&m.current.destroyed?C.map(U=>Pe.cloneElement(U,{swiper:m.current})):eb(m.current,C,A)}return Pe.createElement(r,df({ref:E,className:gS(`${u}${n?` ${n}`:""}`)},T),Pe.createElement(ab.Provider,{value:m.current},P["container-start"],Pe.createElement(s,{className:"swiper-wrapper"},P["wrapper-start"],b(),P["wrapper-end"]),fS(A)&&Pe.createElement(Pe.Fragment,null,Pe.createElement("div",{ref:S,className:"swiper-button-prev"}),Pe.createElement("div",{ref:w,className:"swiper-button-next"})),mS(A)&&Pe.createElement("div",{ref:O,className:"swiper-scrollbar"}),pS(A)&&Pe.createElement("div",{ref:N,className:"swiper-pagination"}),P["container-end"]))});Tc.displayName="Swiper";function hf(){return hf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hf.apply(this,arguments)}const sa=x.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,virtualIndex:a,...l}=t===void 0?{}:t;const u=x.useRef(null),[c,d]=x.useState("swiper-slide");function f(g,E,m){E===u.current&&d(m)}No(()=>{if(e&&(e.current=u.current),!(!u.current||!i)){if(i.destroyed){c!=="swiper-slide"&&d("swiper-slide");return}return i.on("_slideClass",f),()=>{i&&i.off("_slideClass",f)}}}),No(()=>{i&&u.current&&!i.destroyed&&d(i.getSlideClasses(u.current))},[i]);const p={isActive:c.indexOf("swiper-slide-active")>=0||c.indexOf("swiper-slide-duplicate-active")>=0,isVisible:c.indexOf("swiper-slide-visible")>=0,isDuplicate:c.indexOf("swiper-slide-duplicate")>=0,isPrev:c.indexOf("swiper-slide-prev")>=0||c.indexOf("swiper-slide-duplicate-prev")>=0,isNext:c.indexOf("swiper-slide-next")>=0||c.indexOf("swiper-slide-duplicate-next")>=0},_=()=>typeof r=="function"?r(p):r;return Pe.createElement(n,hf({ref:u,className:gS(`${c}${s?` ${s}`:""}`),"data-swiper-slide-index":a},l),Pe.createElement(ob.Provider,{value:p},o?Pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},_()):_()))});sa.displayName="SwiperSlide";function Aa({point:t}){const[e,n]=x.useState(null),r=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],s=()=>{let i=(Math.round(t*100)/100).toFixed(1)/2,o=0;r.reverse().forEach(a=>i<=a?o=a:null),n(o)};return x.useEffect(()=>{s()},[e]),h.jsxs("em",{className:"ui-star",children:[e===0&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===.5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1.5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2.5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3.5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4.5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-duotone fa-star-sharp-half"})]}),e===5&&h.jsxs(h.Fragment,{children:[h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"}),h.jsx("i",{className:"fa-solid fa-star-sharp"})]})]})}function lb({opts:t}){console.log(t);let e=Math.floor(Math.random()*3)+1;const[n,r]=x.useState([]),s=u=>{W.loading.show();const c=`https://api.themoviedb.org/3/${t.opts}/now_playing?language=ko&region=kr&page=${u}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;st.get(c).then(d=>{var f;console.log(d.data),r(p=>[...p,...d.data.results]),console.log(u+"=== "+d.data.total_pages),W.loading.hide(),d.data.total_pages<=u&&((f=document.querySelector(".ui-loadmore"))==null||f.classList.add("hide"))}).catch(d=>{var f;console.log(d),W.loading.hide(),(f=document.querySelector(".ui-loadmore"))==null||f.classList.add("error")})},[i,o]=x.useState(null),a=()=>{i==null||i.slideTo(Math.floor(Math.random()*10),0)};x.useEffect(()=>(s(e),a(),window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}),[]);const l=()=>{const u=parseInt(W.viewport.scrollTop()/1.8);W.lock.stat||document.querySelectorAll(".page.home .sect.mnTop .slide ul>li .box .pics").forEach(c=>{c.style.transform="translate3D(0rem , 0"+u+"rem , 0rem)"})};return console.log(11111111111111111e4),h.jsx(h.Fragment,{children:h.jsx("section",{className:"sect mnTop",children:h.jsx("div",{className:"inr",id:"slide",children:h.jsx(Tc,{className:"swiper-wrapper swiper slide",modules:[fm,pm,mm,ym,gm],spaceBetween:0,slidesPerView:1,loop:!0,effect:"fade",autoplay:{delay:3e3,waitForTransition:!1,pauseOnMouseEnter:!0,disableOnInteraction:!1},wrapperTag:"ul",pagination:{clickable:!0},autoHeight:!1,onSwiper:u=>{console.log("initialize swiper",u),o(u),u.slideTo(Math.floor(Math.random()*10))},onSlideChange:()=>{},children:n==null?void 0:n.filter((u,c)=>c<10).map((u,c)=>{const d="https://image.tmdb.org/t/p/w780"+u.poster_path;return h.jsx(sa,{tag:"li",className:"swiper-slide pbox",children:h.jsxs(ft,{className:"box",to:`${t.opts}/${u.id}`,children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:`${d}`,alt:"",className:"img",onError:f=>{f.target.src="./img/common/non_poster.png"}})}),h.jsxs("div",{className:"info",children:[h.jsx("div",{className:"star",children:h.jsx(Aa,{point:u.vote_average})}),h.jsx("div",{className:"tit",children:u.title})]}),h.jsx("div",{className:"screen"})]})},c)})})})})})}function ks({opts:t}){const[e,n]=x.useState([]);console.log(t);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=i=>{W.loading.show(),console.log("로드 ");const o=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;st.get(o).then(a=>{var l;console.log(a.data),n(u=>[...u,...a.data.results]),console.log(i+"=== "+a.data.total_pages),W.loading.hide(),a.data.total_pages<=i&&((l=document.querySelector(".ui-loadmore"))==null||l.classList.add("hide"))}).catch(a=>{var l;console.log(a),W.loading.hide(),(l=document.querySelector(".ui-loadmore"))==null||l.classList.add("error")})};return x.useEffect(()=>(s(1),()=>{}),[]),h.jsx(h.Fragment,{children:h.jsxs("section",{className:"sect mnList",children:[h.jsxs(ft,{to:`/list/${t.opts}/${t.cate||0}`,className:"hbox",children:[h.jsx("h3",{className:"stit",children:t.title}),h.jsx("span",{className:"more",children:h.jsx("i",{className:"fa-regular fa-chevron-right"})})]}),h.jsx("div",{className:"inr",children:h.jsx("div",{className:"slide",children:h.jsx("ul",{children:e==null?void 0:e.filter((i,o)=>o<20).map((i,o)=>{const a="https://image.tmdb.org/t/p/w154"+i.poster_path;return h.jsx("li",{className:"pbox",children:h.jsxs(ft,{className:"box",to:`${t.opts}/${i.id}`,children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:`${a}`,alt:"",className:"img",onError:l=>{l.target.src="./img/common/non_poster.png"}})}),h.jsx("div",{className:"info"})]})},o)})})})})]})})}function I_({opts:t}){const[e,n]=x.useState([]);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=i=>{W.loading.show(),console.log("로드 ");const o=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;st.get(o).then(a=>{var l;console.log(a.data),n(u=>[...u,...a.data.results]),console.log(i+"=== "+a.data.total_pages),W.loading.hide(),a.data.total_pages<=i&&((l=document.querySelector(".ui-loadmore"))==null||l.classList.add("hide"))}).catch(a=>{var l;console.log(a),W.loading.hide(),(l=document.querySelector(".ui-loadmore"))==null||l.classList.add("error")})};return x.useEffect(()=>(s(1),()=>{}),[]),h.jsx(h.Fragment,{children:h.jsxs("section",{className:"sect mnList topic",children:[h.jsx("div",{className:"hbox",children:h.jsx("h3",{className:"stit",children:t.title})}),h.jsx("div",{className:"inr",children:h.jsx("div",{className:"slide",children:h.jsx("ul",{children:e==null?void 0:e.filter((i,o)=>o<20).map((i,o)=>{const a="https://image.tmdb.org/t/p/w154"+i.poster_path;return h.jsx("li",{className:"pbox",children:h.jsxs(ft,{className:"box",to:`${t.opts}/${i.id}`,children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:`${a}`,alt:"",className:"img",onError:l=>{l.target.src="./img/common/non_poster.png"}})}),h.jsx("div",{className:"info",children:h.jsx(Aa,{point:i.vote_average})})]})},o)})})})})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V=function(t,e){if(!t)throw ji(e)},ji=function(t){return new Error("Firebase Database ("+wS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ub=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},_m={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,u=l?t[s+2]:0,c=i>>2,d=(i&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(SS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ub(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const d=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||u==null||d==null)throw new cb;const f=i<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const _=u<<6&192|d;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TS=function(t){const e=SS(t);return _m.encodeByteArray(e,!0)},Nu=function(t){return TS(t).replace(/\./g,"")},ff=function(t){try{return _m.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){return CS(void 0,t)}function CS(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!hb(n)||(t[n]=CS(t[n],e[n]));return t}function hb(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=()=>fb().__FIREBASE_DEFAULTS__,mb=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gb=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&ff(t[1]);return e&&JSON.parse(e)},xS=()=>{try{return pb()||mb()||gb()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yb=t=>{var e,n;return(n=(e=xS())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},IS=t=>{const e=yb(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},NS=()=>{var t;return(t=xS())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[Nu(JSON.stringify(n)),Nu(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(_b())}function vb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kS(){return wS.NODE_ADMIN===!0}function Eb(){try{return typeof indexedDB=="object"}catch{return!1}}function wb(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="FirebaseError";class xs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Sb,Object.setPrototypeOf(this,xs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,PS.prototype.create)}}class PS{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?Tb(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xs(s,a,r)}}function Tb(t,e){return t.replace(Cb,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Cb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ia(t){return JSON.parse(t)}function rt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=ia(ff(i[0])||""),n=ia(ff(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},xb=function(t){const e=bS(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Ib=function(t){const e=bS(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ei(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function N_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ru(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function pf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(R_(i)&&R_(o)){if(!pf(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function R_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^i&(o^a),c=1518500249):(u=i^o^a,c=1859775393):d<60?(u=i&o|a&(i|o),c=2400959708):(u=i^o^a,c=3395469782);const f=(s<<5|s>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function Ab(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,V(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Cc=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wi(t){return t&&t._delegate?t._delegate:t}class hs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new vm;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ob(e))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=qr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=qr){return this.instances.has(e)}getOptions(e=qr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bb(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qr){return this.component?this.component.multipleInstances?e:qr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bb(t){return t===qr?void 0:t}function Ob(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ce||(ce={}));const Lb={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},Mb=ce.INFO,$b={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},jb=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=$b[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Em{constructor(e){this.name=e,this._logLevel=Mb,this._logHandler=jb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}}const Vb=(t,e)=>e.some(n=>t instanceof n);let A_,k_;function Fb(){return A_||(A_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ub(){return k_||(k_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const OS=new WeakMap,mf=new WeakMap,DS=new WeakMap,jd=new WeakMap,wm=new WeakMap;function zb(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Cr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OS.set(n,t)}).catch(()=>{}),wm.set(e,t),e}function Bb(t){if(mf.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});mf.set(t,e)}let gf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return mf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||DS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Cr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hb(t){gf=t(gf)}function qb(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Vd(this),e,...n);return DS.set(r,e.sort?e.sort():[e]),Cr(r)}:Ub().includes(t)?function(...e){return t.apply(Vd(this),e),Cr(OS.get(this))}:function(...e){return Cr(t.apply(Vd(this),e))}}function Wb(t){return typeof t=="function"?qb(t):(t instanceof IDBTransaction&&Bb(t),Vb(t,Fb())?new Proxy(t,gf):t)}function Cr(t){if(t instanceof IDBRequest)return zb(t);if(jd.has(t))return jd.get(t);const e=Wb(t);return e!==t&&(jd.set(t,e),wm.set(e,t)),e}const Vd=t=>wm.get(t);function Gb(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Cr(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Cr(o.result),l.oldVersion,l.newVersion,Cr(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Kb=["get","getKey","getAll","getAllKeys","count"],Qb=["put","add","delete","clear"],Fd=new Map;function P_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Fd.get(e))return Fd.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=Qb.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Kb.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),s&&l.done]))[0]};return Fd.set(e,i),i}Hb(t=>({...t,get:(e,n,r)=>P_(e,n)||t.get(e,n,r),has:(e,n)=>!!P_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Xb(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Xb(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const yf="@firebase/app",b_="0.9.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs=new Em("@firebase/app"),Jb="@firebase/app-compat",Zb="@firebase/analytics-compat",eO="@firebase/analytics",tO="@firebase/app-check-compat",nO="@firebase/app-check",rO="@firebase/auth",sO="@firebase/auth-compat",iO="@firebase/database",oO="@firebase/database-compat",aO="@firebase/functions",lO="@firebase/functions-compat",uO="@firebase/installations",cO="@firebase/installations-compat",dO="@firebase/messaging",hO="@firebase/messaging-compat",fO="@firebase/performance",pO="@firebase/performance-compat",mO="@firebase/remote-config",gO="@firebase/remote-config-compat",yO="@firebase/storage",_O="@firebase/storage-compat",vO="@firebase/firestore",EO="@firebase/firestore-compat",wO="firebase",SO="10.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f="[DEFAULT]",TO={[yf]:"fire-core",[Jb]:"fire-core-compat",[eO]:"fire-analytics",[Zb]:"fire-analytics-compat",[nO]:"fire-app-check",[tO]:"fire-app-check-compat",[rO]:"fire-auth",[sO]:"fire-auth-compat",[iO]:"fire-rtdb",[oO]:"fire-rtdb-compat",[aO]:"fire-fn",[lO]:"fire-fn-compat",[uO]:"fire-iid",[cO]:"fire-iid-compat",[dO]:"fire-fcm",[hO]:"fire-fcm-compat",[fO]:"fire-perf",[pO]:"fire-perf-compat",[mO]:"fire-rc",[gO]:"fire-rc-compat",[yO]:"fire-gcs",[_O]:"fire-gcs-compat",[vO]:"fire-fst",[EO]:"fire-fst-compat","fire-js":"fire-js",[wO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Au=new Map,vf=new Map;function CO(t,e){try{t.container.addComponent(e)}catch(n){fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Si(t){const e=t.name;if(vf.has(e))return fs.debug(`There were multiple attempts to register component ${e}.`),!1;vf.set(e,t);for(const n of Au.values())CO(n,t);return!0}function LS(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},xr=new PS("app","Firebase",xO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new hs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm=SO;function MS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:_f,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw xr.create("bad-app-name",{appName:String(s)});if(n||(n=NS()),!n)throw xr.create("no-options");const i=Au.get(s);if(i){if(pf(n,i.options)&&pf(r,i.config))return i;throw xr.create("duplicate-app",{appName:s})}const o=new Db(s);for(const l of vf.values())o.addComponent(l);const a=new IO(n,r,o);return Au.set(s,a),a}function $S(t=_f){const e=Au.get(t);if(!e&&t===_f&&NS())return MS();if(!e)throw xr.create("no-app",{appName:t});return e}function xn(t,e,n){var r;let s=(r=TO[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fs.warn(a.join(" "));return}Si(new hs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NO="firebase-heartbeat-database",RO=1,oa="firebase-heartbeat-store";let Ud=null;function jS(){return Ud||(Ud=Gb(NO,RO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oa)}}}).catch(t=>{throw xr.create("idb-open",{originalErrorMessage:t.message})})),Ud}async function AO(t){try{return await(await jS()).transaction(oa).objectStore(oa).get(VS(t))}catch(e){if(e instanceof xs)fs.warn(e.message);else{const n=xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fs.warn(n.message)}}}async function O_(t,e){try{const r=(await jS()).transaction(oa,"readwrite");await r.objectStore(oa).put(e,VS(t)),await r.done}catch(n){if(n instanceof xs)fs.warn(n.message);else{const r=xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fs.warn(r.message)}}}function VS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kO=1024,PO=30*24*60*60*1e3;class bO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=D_();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=PO}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=D_(),{heartbeatsToSend:n,unsentEntries:r}=OO(this._heartbeatsCache.heartbeats),s=Nu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function D_(){return new Date().toISOString().substring(0,10)}function OO(t,e=kO){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),L_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),L_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Eb()?wb().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await AO(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return O_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return O_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function L_(t){return Nu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){Si(new hs("platform-logger",e=>new Yb(e),"PRIVATE")),Si(new hs("heartbeat",e=>new bO(e),"PRIVATE")),xn(yf,b_,t),xn(yf,b_,"esm2017"),xn("fire-js","")}LO("");var MO="firebase",$O="10.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn(MO,$O,"app");var jO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},F,Tm=Tm||{},Y=jO||self;function xc(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function ka(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function VO(t){return Object.prototype.hasOwnProperty.call(t,zd)&&t[zd]||(t[zd]=++FO)}var zd="closure_uid_"+(1e9*Math.random()>>>0),FO=0;function UO(t,e,n){return t.call.apply(t.bind,arguments)}function zO(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function _t(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_t=UO:_t=zO,_t.apply(null,arguments)}function yl(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function et(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function jr(){this.s=this.s,this.o=this.o}var BO=0;jr.prototype.s=!1;jr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),BO!=0)&&VO(this)};jr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const FS=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Cm(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function M_(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(xc(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function vt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}vt.prototype.h=function(){this.defaultPrevented=!0};var HO=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Y.addEventListener("test",()=>{},e),Y.removeEventListener("test",()=>{},e)}catch{}return t}();function aa(t){return/^[\s\xa0]*$/.test(t)}function Ic(){var t=Y.navigator;return t&&(t=t.userAgent)?t:""}function yn(t){return Ic().indexOf(t)!=-1}function xm(t){return xm[" "](t),t}xm[" "]=function(){};function qO(t,e){var n=$D;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var WO=yn("Opera"),Ti=yn("Trident")||yn("MSIE"),US=yn("Edge"),Ef=US||Ti,zS=yn("Gecko")&&!(Ic().toLowerCase().indexOf("webkit")!=-1&&!yn("Edge"))&&!(yn("Trident")||yn("MSIE"))&&!yn("Edge"),GO=Ic().toLowerCase().indexOf("webkit")!=-1&&!yn("Edge");function BS(){var t=Y.document;return t?t.documentMode:void 0}var wf;e:{var Bd="",Hd=function(){var t=Ic();if(zS)return/rv:([^\);]+)(\)|;)/.exec(t);if(US)return/Edge\/([\d\.]+)/.exec(t);if(Ti)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(GO)return/WebKit\/(\S+)/.exec(t);if(WO)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Hd&&(Bd=Hd?Hd[1]:""),Ti){var qd=BS();if(qd!=null&&qd>parseFloat(Bd)){wf=String(qd);break e}}wf=Bd}var Sf;if(Y.document&&Ti){var $_=BS();Sf=$_||parseInt(wf,10)||void 0}else Sf=void 0;var KO=Sf;function la(t,e){if(vt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(zS){e:{try{xm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:QO[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&la.$.h.call(this)}}et(la,vt);var QO={2:"touch",3:"pen",4:"mouse"};la.prototype.h=function(){la.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Pa="closure_listenable_"+(1e6*Math.random()|0),YO=0;function XO(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++YO,this.fa=this.ia=!1}function Nc(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Im(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function JO(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function HS(t){const e={};for(const n in t)e[n]=t[n];return e}const j_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qS(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<j_.length;i++)n=j_[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Rc(t){this.src=t,this.g={},this.h=0}Rc.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Cf(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new XO(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function Tf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=FS(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(Nc(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function Cf(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Nm="closure_lm_"+(1e6*Math.random()|0),Wd={};function WS(t,e,n,r,s){if(r&&r.once)return KS(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)WS(t,e[i],n,r,s);return null}return n=km(n),t&&t[Pa]?t.O(e,n,ka(r)?!!r.capture:!!r,s):GS(t,e,n,!1,r,s)}function GS(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=ka(s)?!!s.capture:!!s,a=Am(t);if(a||(t[Nm]=a=new Rc(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=ZO(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)HO||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(YS(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ZO(){function t(n){return e.call(t.src,t.listener,n)}const e=eD;return t}function KS(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)KS(t,e[i],n,r,s);return null}return n=km(n),t&&t[Pa]?t.P(e,n,ka(r)?!!r.capture:!!r,s):GS(t,e,n,!0,r,s)}function QS(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)QS(t,e[i],n,r,s);else r=ka(r)?!!r.capture:!!r,n=km(n),t&&t[Pa]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=Cf(i,n,r,s),-1<n&&(Nc(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Am(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Cf(e,n,r,s)),(n=-1<t?e[t]:null)&&Rm(n))}function Rm(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Pa])Tf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(YS(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Am(e))?(Tf(n,t),n.h==0&&(n.src=null,e[Nm]=null)):Nc(t)}}}function YS(t){return t in Wd?Wd[t]:Wd[t]="on"+t}function eD(t,e){if(t.fa)t=!0;else{e=new la(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Rm(t),t=n.call(r,e)}return t}function Am(t){return t=t[Nm],t instanceof Rc?t:null}var Gd="__closure_events_fn_"+(1e9*Math.random()>>>0);function km(t){return typeof t=="function"?t:(t[Gd]||(t[Gd]=function(e){return t.handleEvent(e)}),t[Gd])}function Xe(){jr.call(this),this.i=new Rc(this),this.S=this,this.J=null}et(Xe,jr);Xe.prototype[Pa]=!0;Xe.prototype.removeEventListener=function(t,e,n,r){QS(this,t,e,n,r)};function ot(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new vt(e,t);else if(e instanceof vt)e.target=e.target||t;else{var s=e;e=new vt(r,t),qS(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=_l(o,r,!0,e)&&s}if(o=e.g=t,s=_l(o,r,!0,e)&&s,s=_l(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=_l(o,r,!1,e)&&s}Xe.prototype.N=function(){if(Xe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Nc(n[r]);delete t.g[e],t.h--}}this.J=null};Xe.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Xe.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function _l(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Tf(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var Pm=Y.JSON.stringify;class tD{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function nD(){var t=bm;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class rD{constructor(){this.h=this.g=null}add(e,n){const r=XS.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var XS=new tD(()=>new sD,t=>t.reset());class sD{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function iD(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function oD(t){Y.setTimeout(()=>{throw t},0)}let ua,ca=!1,bm=new rD,JS=()=>{const t=Y.Promise.resolve(void 0);ua=()=>{t.then(aD)}};var aD=()=>{for(var t;t=nD();){try{t.h.call(t.g)}catch(n){oD(n)}var e=XS;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ca=!1};function Ac(t,e){Xe.call(this),this.h=t||1,this.g=e||Y,this.j=_t(this.qb,this),this.l=Date.now()}et(Ac,Xe);F=Ac.prototype;F.ga=!1;F.T=null;F.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),ot(this,"tick"),this.ga&&(Om(this),this.start()))}};F.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Om(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}F.N=function(){Ac.$.N.call(this),Om(this),delete this.g};function Dm(t,e,n){if(typeof t=="function")n&&(t=_t(t,n));else if(t&&typeof t.handleEvent=="function")t=_t(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Y.setTimeout(t,e||0)}function ZS(t){t.g=Dm(()=>{t.g=null,t.i&&(t.i=!1,ZS(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class lD extends jr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ZS(this)}N(){super.N(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(t){jr.call(this),this.h=t,this.g={}}et(da,jr);var V_=[];function eT(t,e,n,r){Array.isArray(n)||(n&&(V_[0]=n.toString()),n=V_);for(var s=0;s<n.length;s++){var i=WS(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function tT(t){Im(t.g,function(e,n){this.g.hasOwnProperty(n)&&Rm(e)},t),t.g={}}da.prototype.N=function(){da.$.N.call(this),tT(this)};da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function kc(){this.g=!0}kc.prototype.Ea=function(){this.g=!1};function uD(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function cD(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Gs(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+hD(t,n)+(r?" "+r:"")})}function dD(t,e){t.info(function(){return"TIMEOUT: "+e})}kc.prototype.info=function(){};function hD(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return Pm(n)}catch{return e}}var Is={},F_=null;function Pc(){return F_=F_||new Xe}Is.Ta="serverreachability";function nT(t){vt.call(this,Is.Ta,t)}et(nT,vt);function ha(t){const e=Pc();ot(e,new nT(e))}Is.STAT_EVENT="statevent";function rT(t,e){vt.call(this,Is.STAT_EVENT,t),this.stat=e}et(rT,vt);function xt(t){const e=Pc();ot(e,new rT(e,t))}Is.Ua="timingevent";function sT(t,e){vt.call(this,Is.Ua,t),this.size=e}et(sT,vt);function ba(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){t()},e)}var bc={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},iT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Lm(){}Lm.prototype.h=null;function U_(t){return t.h||(t.h=t.i())}function oT(){}var Oa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Mm(){vt.call(this,"d")}et(Mm,vt);function $m(){vt.call(this,"c")}et($m,vt);var xf;function Oc(){}et(Oc,Lm);Oc.prototype.g=function(){return new XMLHttpRequest};Oc.prototype.i=function(){return{}};xf=new Oc;function Da(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new da(this),this.P=fD,t=Ef?125:void 0,this.V=new Ac(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new aT}function aT(){this.i=null,this.g="",this.h=!1}var fD=45e3,If={},ku={};F=Da.prototype;F.setTimeout=function(t){this.P=t};function Nf(t,e,n){t.L=1,t.v=Lc(Gn(e)),t.s=n,t.S=!0,lT(t,null)}function lT(t,e){t.G=Date.now(),La(t),t.A=Gn(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),gT(n.i,"t",r),t.C=0,n=t.l.J,t.h=new aT,t.g=$T(t.l,n?e:null,!t.s),0<t.O&&(t.M=new lD(_t(t.Pa,t,t.g),t.O)),eT(t.U,t.g,"readystatechange",t.nb),e=t.I?HS(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),ha(),uD(t.j,t.u,t.A,t.m,t.W,t.s)}F.nb=function(t){t=t.target;const e=this.M;e&&En(t)==3?e.l():this.Pa(t)};F.Pa=function(t){try{if(t==this.g)e:{const c=En(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Ef||this.g&&(this.h.h||this.g.ja()||q_(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?ha(3):ha(2)),Dc(this);var n=this.g.da();this.ca=n;t:if(uT(this)){var r=q_(this.g);t="";var s=r.length,i=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Yr(this),Ro(this);var o="";break t}this.h.i=new Y.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,cD(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!aa(a)){var u=a;break t}}u=null}if(n=u)Gs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Rf(this,n);else{this.i=!1,this.o=3,xt(12),Yr(this),Ro(this);break e}}this.S?(cT(this,c,o),Ef&&this.i&&c==3&&(eT(this.U,this.V,"tick",this.mb),this.V.start())):(Gs(this.j,this.m,o,null),Rf(this,o)),c==4&&Yr(this),this.i&&!this.J&&(c==4?OT(this.l,this):(this.i=!1,La(this)))}else DD(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,xt(12)):(this.o=0,xt(13)),Yr(this),Ro(this)}}}catch{}finally{}};function uT(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function cT(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=pD(t,n),s==ku){e==4&&(t.o=4,xt(14),r=!1),Gs(t.j,t.m,null,"[Incomplete Response]");break}else if(s==If){t.o=4,xt(15),Gs(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Gs(t.j,t.m,s,null),Rf(t,s);uT(t)&&s!=ku&&s!=If&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,xt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Bm(e),e.M=!0,xt(11))):(Gs(t.j,t.m,n,"[Invalid Chunked Response]"),Yr(t),Ro(t))}F.mb=function(){if(this.g){var t=En(this.g),e=this.g.ja();this.C<e.length&&(Dc(this),cT(this,t,e),this.i&&t!=4&&La(this))}};function pD(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?ku:(n=Number(e.substring(n,r)),isNaN(n)?If:(r+=1,r+n>e.length?ku:(e=e.slice(r,r+n),t.C=r+n,e)))}F.cancel=function(){this.J=!0,Yr(this)};function La(t){t.Y=Date.now()+t.P,dT(t,t.P)}function dT(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=ba(_t(t.lb,t),e)}function Dc(t){t.B&&(Y.clearTimeout(t.B),t.B=null)}F.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(dD(this.j,this.A),this.L!=2&&(ha(),xt(17)),Yr(this),this.o=2,Ro(this)):dT(this,this.Y-t)};function Ro(t){t.l.H==0||t.J||OT(t.l,t)}function Yr(t){Dc(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Om(t.V),tT(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Rf(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Af(n.i,t))){if(!t.K&&Af(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Ou(n),jc(n);else break e;zm(n),xt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=ba(_t(n.ib,n),6e3));if(1>=vT(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else Xr(n,11)}else if((t.K||n.g==t)&&Ou(n),!aa(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let u=s[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const _=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var i=r.i;i.g||_.indexOf("spdy")==-1&&_.indexOf("quic")==-1&&_.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(jm(i,i.h),i.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,we(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=MT(r,r.J?r.pa:null,r.Y),o.K){ET(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Dc(a),La(a)),r.g=o}else PT(r);0<n.j.length&&Vc(n)}else u[0]!="stop"&&u[0]!="close"||Xr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Xr(n,7):Um(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ha(4)}catch{}}function mD(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(xc(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function gD(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(xc(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function hT(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(xc(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=gD(t),r=mD(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var fT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yD(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ns(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ns){this.h=t.h,Pu(this,t.j),this.s=t.s,this.g=t.g,bu(this,t.m),this.l=t.l;var e=t.i,n=new fa;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),z_(this,n),this.o=t.o}else t&&(e=String(t).match(fT))?(this.h=!1,Pu(this,e[1]||"",!0),this.s=po(e[2]||""),this.g=po(e[3]||"",!0),bu(this,e[4]),this.l=po(e[5]||"",!0),z_(this,e[6]||"",!0),this.o=po(e[7]||"")):(this.h=!1,this.i=new fa(null,this.h))}ns.prototype.toString=function(){var t=[],e=this.j;e&&t.push(mo(e,B_,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(mo(e,B_,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(mo(n,n.charAt(0)=="/"?ED:vD,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",mo(n,SD)),t.join("")};function Gn(t){return new ns(t)}function Pu(t,e,n){t.j=n?po(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function bu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function z_(t,e,n){e instanceof fa?(t.i=e,TD(t.i,t.h)):(n||(e=mo(e,wD)),t.i=new fa(e,t.h))}function we(t,e,n){t.i.set(e,n)}function Lc(t){return we(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function po(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function mo(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,_D),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function _D(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var B_=/[#\/\?@]/g,vD=/[#\?:]/g,ED=/[#\?]/g,wD=/[#\?@]/g,SD=/#/g;function fa(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Vr(t){t.g||(t.g=new Map,t.h=0,t.i&&yD(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}F=fa.prototype;F.add=function(t,e){Vr(this),this.i=null,t=Vi(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function pT(t,e){Vr(t),e=Vi(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function mT(t,e){return Vr(t),e=Vi(t,e),t.g.has(e)}F.forEach=function(t,e){Vr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};F.ta=function(){Vr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};F.Z=function(t){Vr(this);let e=[];if(typeof t=="string")mT(this,t)&&(e=e.concat(this.g.get(Vi(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};F.set=function(t,e){return Vr(this),this.i=null,t=Vi(this,t),mT(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};F.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function gT(t,e,n){pT(t,e),0<n.length&&(t.i=null,t.g.set(Vi(t,e),Cm(n)),t.h+=n.length)}F.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Vi(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function TD(t,e){e&&!t.j&&(Vr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(pT(this,r),gT(this,s,n))},t)),t.j=e}var CD=class{constructor(t,e){this.g=t,this.map=e}};function yT(t){this.l=t||xD,Y.PerformanceNavigationTiming?(t=Y.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Y.g&&Y.g.Ka&&Y.g.Ka()&&Y.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var xD=10;function _T(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function vT(t){return t.h?1:t.g?t.g.size:0}function Af(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function jm(t,e){t.g?t.g.add(e):t.h=e}function ET(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}yT.prototype.cancel=function(){if(this.i=wT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function wT(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Cm(t.i)}var ID=class{stringify(t){return Y.JSON.stringify(t,void 0)}parse(t){return Y.JSON.parse(t,void 0)}};function ND(){this.g=new ID}function RD(t,e,n){const r=n||"";try{hT(t,function(s,i){let o=s;ka(s)&&(o=Pm(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function AD(t,e){const n=new kc;if(Y.Image){const r=new Image;r.onload=yl(vl,n,r,"TestLoadImage: loaded",!0,e),r.onerror=yl(vl,n,r,"TestLoadImage: error",!1,e),r.onabort=yl(vl,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=yl(vl,n,r,"TestLoadImage: timeout",!1,e),Y.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function vl(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Ma(t){this.l=t.fc||null,this.j=t.ob||!1}et(Ma,Lm);Ma.prototype.g=function(){return new Mc(this.l,this.j)};Ma.prototype.i=function(t){return function(){return t}}({});function Mc(t,e){Xe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Vm,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}et(Mc,Xe);var Vm=0;F=Mc.prototype;F.open=function(t,e){if(this.readyState!=Vm)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,pa(this)};F.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Y).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};F.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,$a(this)),this.readyState=Vm};F.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Y.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ST(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function ST(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}F.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?$a(this):pa(this),this.readyState==3&&ST(this)}};F.Za=function(t){this.g&&(this.response=this.responseText=t,$a(this))};F.Ya=function(t){this.g&&(this.response=t,$a(this))};F.ka=function(){this.g&&$a(this)};function $a(t){t.readyState=4,t.l=null,t.j=null,t.A=null,pa(t)}F.setRequestHeader=function(t,e){this.v.append(t,e)};F.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};F.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function pa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var kD=Y.JSON.parse;function ke(t){Xe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=TT,this.L=this.M=!1}et(ke,Xe);var TT="",PD=/^https?$/i,bD=["POST","PUT"];F=ke.prototype;F.Oa=function(t){this.M=t};F.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():xf.g(),this.C=this.u?U_(this.u):U_(xf),this.g.onreadystatechange=_t(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){H_(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=Y.FormData&&t instanceof Y.FormData,!(0<=FS(bD,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{IT(this),0<this.B&&((this.L=OD(this.g))?(this.g.timeout=this.B,this.g.ontimeout=_t(this.ua,this)):this.A=Dm(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){H_(this,i)}};function OD(t){return Ti&&typeof t.timeout=="number"&&t.ontimeout!==void 0}F.ua=function(){typeof Tm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ot(this,"timeout"),this.abort(8))};function H_(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,CT(t),$c(t)}function CT(t){t.F||(t.F=!0,ot(t,"complete"),ot(t,"error"))}F.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,ot(this,"complete"),ot(this,"abort"),$c(this))};F.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),$c(this,!0)),ke.$.N.call(this)};F.La=function(){this.s||(this.G||this.v||this.l?xT(this):this.kb())};F.kb=function(){xT(this)};function xT(t){if(t.h&&typeof Tm<"u"&&(!t.C[1]||En(t)!=4||t.da()!=2)){if(t.v&&En(t)==4)Dm(t.La,0,t);else if(ot(t,"readystatechange"),En(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(fT)[1]||null;!s&&Y.self&&Y.self.location&&(s=Y.self.location.protocol.slice(0,-1)),r=!PD.test(s?s.toLowerCase():"")}n=r}if(n)ot(t,"complete"),ot(t,"success");else{t.m=6;try{var i=2<En(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",CT(t)}}finally{$c(t)}}}}function $c(t,e){if(t.g){IT(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||ot(t,"ready");try{n.onreadystatechange=r}catch{}}}function IT(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Y.clearTimeout(t.A),t.A=null)}F.isActive=function(){return!!this.g};function En(t){return t.g?t.g.readyState:0}F.da=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}};F.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};F.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),kD(e)}};function q_(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case TT:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function DD(t){const e={};t=(t.g&&2<=En(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(aa(t[r]))continue;var n=iD(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}JO(e,function(r){return r.join(", ")})}F.Ia=function(){return this.m};F.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function NT(t){let e="";return Im(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Fm(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=NT(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):we(t,e,n))}function ro(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function RT(t){this.Ga=0,this.j=[],this.l=new kc,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=ro("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=ro("baseRetryDelayMs",5e3,t),this.hb=ro("retryDelaySeedMs",1e4,t),this.eb=ro("forwardChannelMaxRetries",2,t),this.xa=ro("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new yT(t&&t.concurrentRequestLimit),this.Ja=new ND,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}F=RT.prototype;F.ra=8;F.H=1;function Um(t){if(AT(t),t.H==3){var e=t.W++,n=Gn(t.I);if(we(n,"SID",t.K),we(n,"RID",e),we(n,"TYPE","terminate"),ja(t,n),e=new Da(t,t.l,e),e.L=2,e.v=Lc(Gn(n)),n=!1,Y.navigator&&Y.navigator.sendBeacon)try{n=Y.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&Y.Image&&(new Image().src=e.v,n=!0),n||(e.g=$T(e.l,null),e.g.ha(e.v)),e.G=Date.now(),La(e)}LT(t)}function jc(t){t.g&&(Bm(t),t.g.cancel(),t.g=null)}function AT(t){jc(t),t.u&&(Y.clearTimeout(t.u),t.u=null),Ou(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Y.clearTimeout(t.m),t.m=null)}function Vc(t){if(!_T(t.i)&&!t.m){t.m=!0;var e=t.Na;ua||JS(),ca||(ua(),ca=!0),bm.add(e,t),t.C=0}}function LD(t,e){return vT(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=ba(_t(t.Na,t,e),DT(t,t.C)),t.C++,!0)}F.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Da(this,this.l,t);let i=this.s;if(this.U&&(i?(i=HS(i),qS(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=kT(this,s,e),n=Gn(this.I),we(n,"RID",t),we(n,"CVER",22),this.F&&we(n,"X-HTTP-Session-Id",this.F),ja(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(NT(i)))+"&"+e:this.o&&Fm(n,this.o,i)),jm(this.i,s),this.bb&&we(n,"TYPE","init"),this.P?(we(n,"$req",e),we(n,"SID","null"),s.aa=!0,Nf(s,n,null)):Nf(s,n,e),this.H=2}}else this.H==3&&(t?W_(this,t):this.j.length==0||_T(this.i)||W_(this))};function W_(t,e){var n;e?n=e.m:n=t.W++;const r=Gn(t.I);we(r,"SID",t.K),we(r,"RID",n),we(r,"AID",t.V),ja(t,r),t.o&&t.s&&Fm(r,t.o,t.s),n=new Da(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=kT(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),jm(t.i,n),Nf(n,r,e)}function ja(t,e){t.na&&Im(t.na,function(n,r){we(e,r,n)}),t.h&&hT({},function(n,r){we(e,r,n)})}function kT(t,e,n){n=Math.min(t.j.length,n);var r=t.h?_t(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=s[l].g;const c=s[l].map;if(u-=i,0>u)i=Math.max(0,s[l].g-100),a=!1;else try{RD(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function PT(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;ua||JS(),ca||(ua(),ca=!0),bm.add(e,t),t.A=0}}function zm(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=ba(_t(t.Ma,t),DT(t,t.A)),t.A++,!0)}F.Ma=function(){if(this.u=null,bT(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=ba(_t(this.jb,this),t)}};F.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,xt(10),jc(this),bT(this))};function Bm(t){t.B!=null&&(Y.clearTimeout(t.B),t.B=null)}function bT(t){t.g=new Da(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=Gn(t.wa);we(e,"RID","rpc"),we(e,"SID",t.K),we(e,"AID",t.V),we(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&we(e,"TO",t.qa),we(e,"TYPE","xmlhttp"),ja(t,e),t.o&&t.s&&Fm(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Lc(Gn(e)),n.s=null,n.S=!0,lT(n,t)}F.ib=function(){this.v!=null&&(this.v=null,jc(this),zm(this),xt(19))};function Ou(t){t.v!=null&&(Y.clearTimeout(t.v),t.v=null)}function OT(t,e){var n=null;if(t.g==e){Ou(t),Bm(t),t.g=null;var r=2}else if(Af(t.i,e))n=e.F,ET(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Pc(),ot(r,new sT(r,n)),Vc(t)}else PT(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&LD(t,e)||r==2&&zm(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:Xr(t,5);break;case 4:Xr(t,10);break;case 3:Xr(t,6);break;default:Xr(t,2)}}}function DT(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function Xr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=_t(t.pb,t);n||(n=new ns("//www.google.com/images/cleardot.gif"),Y.location&&Y.location.protocol=="http"||Pu(n,"https"),Lc(n)),AD(n.toString(),r)}else xt(2);t.H=0,t.h&&t.h.za(e),LT(t),AT(t)}F.pb=function(t){t?(this.l.info("Successfully pinged google.com"),xt(2)):(this.l.info("Failed to ping google.com"),xt(1))};function LT(t){if(t.H=0,t.ma=[],t.h){const e=wT(t.i);(e.length!=0||t.j.length!=0)&&(M_(t.ma,e),M_(t.ma,t.j),t.i.i.length=0,Cm(t.j),t.j.length=0),t.h.ya()}}function MT(t,e,n){var r=n instanceof ns?Gn(n):new ns(n);if(r.g!="")e&&(r.g=e+"."+r.g),bu(r,r.m);else{var s=Y.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new ns(null);r&&Pu(i,r),e&&(i.g=e),s&&bu(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&we(r,n,e),we(r,"VER",t.ra),ja(t,r),r}function $T(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new ke(new Ma({ob:!0})):new ke(t.va),e.Oa(t.J),e}F.isActive=function(){return!!this.h&&this.h.isActive(this)};function jT(){}F=jT.prototype;F.Ba=function(){};F.Aa=function(){};F.za=function(){};F.ya=function(){};F.isActive=function(){return!0};F.Va=function(){};function Du(){if(Ti&&!(10<=Number(KO)))throw Error("Environmental error: no available transport.")}Du.prototype.g=function(t,e){return new Ut(t,e)};function Ut(t,e){Xe.call(this),this.g=new RT(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!aa(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!aa(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Fi(this)}et(Ut,Xe);Ut.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;xt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=MT(t,null,t.Y),Vc(t)};Ut.prototype.close=function(){Um(this.g)};Ut.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Pm(t),t=n);e.j.push(new CD(e.fb++,t)),e.H==3&&Vc(e)};Ut.prototype.N=function(){this.g.h=null,delete this.j,Um(this.g),delete this.g,Ut.$.N.call(this)};function VT(t){Mm.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}et(VT,Mm);function FT(){$m.call(this),this.status=1}et(FT,$m);function Fi(t){this.g=t}et(Fi,jT);Fi.prototype.Ba=function(){ot(this.g,"a")};Fi.prototype.Aa=function(t){ot(this.g,new VT(t))};Fi.prototype.za=function(t){ot(this.g,new FT)};Fi.prototype.ya=function(){ot(this.g,"b")};function MD(){this.blockSize=-1}function hn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}et(hn,MD);hn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Kd(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}hn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)Kd(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){Kd(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){Kd(this,r),s=0;break}}this.h=s,this.i+=e};hn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function me(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var $D={};function Hm(t){return-128<=t&&128>t?qO(t,function(e){return new me([e|0],0>e?-1:0)}):new me([t|0],0>t?-1:0)}function wn(t){if(isNaN(t)||!isFinite(t))return ni;if(0>t)return nt(wn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=kf;return new me(e,0)}function UT(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return nt(UT(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=wn(Math.pow(e,8)),r=ni,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=wn(Math.pow(e,i)),r=r.R(i).add(wn(o))):(r=r.R(n),r=r.add(wn(o)))}return r}var kf=4294967296,ni=Hm(0),Pf=Hm(1),G_=Hm(16777216);F=me.prototype;F.ea=function(){if(Wt(this))return-nt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:kf+r)*e,e*=kf}return t};F.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(jn(this))return"0";if(Wt(this))return"-"+nt(this).toString(t);for(var e=wn(Math.pow(t,6)),n=this,r="";;){var s=Mu(n,e).g;n=Lu(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,jn(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};F.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function jn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Wt(t){return t.h==-1}F.X=function(t){return t=Lu(this,t),Wt(t)?-1:jn(t)?0:1};function nt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new me(n,~t.h).add(Pf)}F.abs=function(){return Wt(this)?nt(this):this};F.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new me(n,n[n.length-1]&-2147483648?-1:0)};function Lu(t,e){return t.add(nt(e))}F.R=function(t){if(jn(this)||jn(t))return ni;if(Wt(this))return Wt(t)?nt(this).R(nt(t)):nt(nt(this).R(t));if(Wt(t))return nt(this.R(nt(t)));if(0>this.X(G_)&&0>t.X(G_))return wn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,El(n,2*r+2*s),n[2*r+2*s+1]+=i*l,El(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,El(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,El(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new me(n,0)};function El(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function so(t,e){this.g=t,this.h=e}function Mu(t,e){if(jn(e))throw Error("division by zero");if(jn(t))return new so(ni,ni);if(Wt(t))return e=Mu(nt(t),e),new so(nt(e.g),nt(e.h));if(Wt(e))return e=Mu(t,nt(e)),new so(nt(e.g),e.h);if(30<t.g.length){if(Wt(t)||Wt(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Pf,r=e;0>=r.X(t);)n=K_(n),r=K_(r);var s=Ps(n,1),i=Ps(r,1);for(r=Ps(r,2),n=Ps(n,2);!jn(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=Ps(r,1),n=Ps(n,1)}return e=Lu(t,s.R(e)),new so(s,e)}for(s=ni;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=wn(n),o=i.R(e);Wt(o)||0<o.X(t);)n-=r,i=wn(n),o=i.R(e);jn(i)&&(i=Pf),s=s.add(i),t=Lu(t,o)}return new so(s,t)}F.gb=function(t){return Mu(this,t).h};F.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new me(n,this.h&t.h)};F.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new me(n,this.h|t.h)};F.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new me(n,this.h^t.h)};function K_(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new me(n,t.h)}function Ps(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new me(s,t.h)}Du.prototype.createWebChannel=Du.prototype.g;Ut.prototype.send=Ut.prototype.u;Ut.prototype.open=Ut.prototype.m;Ut.prototype.close=Ut.prototype.close;bc.NO_ERROR=0;bc.TIMEOUT=8;bc.HTTP_ERROR=6;iT.COMPLETE="complete";oT.EventType=Oa;Oa.OPEN="a";Oa.CLOSE="b";Oa.ERROR="c";Oa.MESSAGE="d";Xe.prototype.listen=Xe.prototype.O;ke.prototype.listenOnce=ke.prototype.P;ke.prototype.getLastError=ke.prototype.Sa;ke.prototype.getLastErrorCode=ke.prototype.Ia;ke.prototype.getStatus=ke.prototype.da;ke.prototype.getResponseJson=ke.prototype.Wa;ke.prototype.getResponseText=ke.prototype.ja;ke.prototype.send=ke.prototype.ha;ke.prototype.setWithCredentials=ke.prototype.Oa;hn.prototype.digest=hn.prototype.l;hn.prototype.reset=hn.prototype.reset;hn.prototype.update=hn.prototype.j;me.prototype.add=me.prototype.add;me.prototype.multiply=me.prototype.R;me.prototype.modulo=me.prototype.gb;me.prototype.compare=me.prototype.X;me.prototype.toNumber=me.prototype.ea;me.prototype.toString=me.prototype.toString;me.prototype.getBits=me.prototype.D;me.fromNumber=wn;me.fromString=UT;var jD=function(){return new Du},VD=function(){return Pc()},Qd=bc,FD=iT,UD=Is,Q_={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},zD=Ma,wl=oT,BD=ke,HD=hn,ri=me;const Y_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}dt.UNAUTHENTICATED=new dt(null),dt.GOOGLE_CREDENTIALS=new dt("google-credentials-uid"),dt.FIRST_PARTY=new dt("first-party-uid"),dt.MOCK_USER=new dt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ui="10.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps=new Em("@firebase/firestore");function X_(){return ps.logLevel}function H(t,...e){if(ps.logLevel<=ce.DEBUG){const n=e.map(qm);ps.debug(`Firestore (${Ui}): ${t}`,...n)}}function Kn(t,...e){if(ps.logLevel<=ce.ERROR){const n=e.map(qm);ps.error(`Firestore (${Ui}): ${t}`,...n)}}function Ci(t,...e){if(ps.logLevel<=ce.WARN){const n=e.map(qm);ps.warn(`Firestore (${Ui}): ${t}`,...n)}}function qm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z(t="Unexpected state"){const e=`FIRESTORE (${Ui}) INTERNAL ASSERTION FAILED: `+t;throw Kn(e),new Error(e)}function Ue(t,e){t||Z()}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class B extends xs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(dt.UNAUTHENTICATED))}shutdown(){}}class WD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GD{constructor(e){this.t=e,this.currentUser=dt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new rs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rs)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue(typeof r.accessToken=="string"),new zT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ue(e===null||typeof e=="string"),new dt(e)}}class KD{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=dt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class QD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new KD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(dt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YD{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ue(typeof n.token=="string"),this.R=n.token,new YD(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=JD(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function xi(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ye(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.timestamp=e}static fromTimestamp(e){return new J(e)}static min(){return new J(new Ye(0,0))}static max(){return new J(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ma.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ma?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ie extends ma{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new B(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const eL=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends ma{construct(e,n,r){return new Ct(e,n,r)}static isValidIdentifier(e){return eL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new B(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new B(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new B(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new B(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.path=e}static fromPath(e){return new K(Ie.fromString(e))}static fromName(e){return new K(Ie.fromString(e).popFirst(5))}static empty(){return new K(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Ie(e.slice()))}}function tL(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=J.fromTimestamp(r===1e9?new Ye(n+1,0):new Ye(n,r));return new kr(s,K.empty(),e)}function nL(t){return new kr(t.readTime,t.key,-1)}class kr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new kr(J.min(),K.empty(),-1)}static max(){return new kr(J.max(),K.empty(),-1)}}function rL(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=K.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iL{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wm(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==sL)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,r)=>{n(e)})}static reject(e){return new M((n,r)=>{r(e)})}static waitFor(e){return new M((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=M.resolve(!1);for(const r of e)n=n.next(s=>s?M.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new M((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===i&&r(o)},c=>s(c))}})}static doWhile(e,n){return new M((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Va(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Gm.ae=-1;function Fc(t){return t==null}function $u(t){return t===0&&1/t==-1/0}function oL(t){return typeof t=="number"&&Number.isInteger(t)&&!$u(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Fa(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function BT(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Je=class bf{constructor(e,n){this.comparator=e,this.root=n||Ir.EMPTY}insert(e,n){return new bf(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ir.BLACK,null,null))}remove(e){return new bf(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ir.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Sl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Sl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Sl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Sl(this.root,e,this.comparator,!0)}},Sl=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ir=class bn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??bn.RED,this.left=s??bn.EMPTY,this.right=i??bn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new bn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return bn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return bn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();const e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Ir.EMPTY=null,Ir.RED=!0,Ir.BLACK=!1;Ir.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ir(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Z_(this.data.getIterator())}getIteratorFrom(e){return new Z_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Et(this.comparator);return n.data=e,n}}class Z_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new fr([])}unionWith(e){let n=new Et(Ct.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new fr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xi(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new HT("Invalid base64 string: "+i):i}}(e);return new St(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const aL=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pr(t){if(Ue(!!t),typeof t=="string"){let e=0;const n=aL.exec(t);if(Ue(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Me(t.seconds),nanos:Me(t.nanos)}}function Me(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ms(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Qm(t){const e=t.mapValue.fields.__previous_value__;return Km(e)?Qm(e):e}function ga(t){const e=Pr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r,s,i,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class ya{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new ya("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function gs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Km(t)?4:uL(t)?9007199254740991:10:Z()}function In(t,e){if(t===e)return!0;const n=gs(t);if(n!==gs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ga(t).isEqual(ga(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Pr(s.timestampValue),a=Pr(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return ms(s.bytesValue).isEqual(ms(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Me(s.geoPointValue.latitude)===Me(i.geoPointValue.latitude)&&Me(s.geoPointValue.longitude)===Me(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Me(s.integerValue)===Me(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Me(s.doubleValue),a=Me(i.doubleValue);return o===a?$u(o)===$u(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return xi(t.arrayValue.values||[],e.arrayValue.values||[],In);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(J_(o)!==J_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!In(o[l],a[l])))return!1;return!0}(t,e);default:return Z()}}function _a(t,e){return(t.values||[]).find(n=>In(n,e))!==void 0}function Ii(t,e){if(t===e)return 0;const n=gs(t),r=gs(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Me(i.integerValue||i.doubleValue),l=Me(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return ev(t.timestampValue,e.timestampValue);case 4:return ev(ga(t),ga(e));case 5:return he(t.stringValue,e.stringValue);case 6:return function(i,o){const a=ms(i),l=ms(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=he(a[u],l[u]);if(c!==0)return c}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=he(Me(i.latitude),Me(o.latitude));return a!==0?a:he(Me(i.longitude),Me(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Ii(a[u],l[u]);if(c)return c}return he(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Tl.mapValue&&o===Tl.mapValue)return 0;if(i===Tl.mapValue)return 1;if(o===Tl.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const f=he(l[d],c[d]);if(f!==0)return f;const p=Ii(a[l[d]],u[c[d]]);if(p!==0)return p}return he(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Z()}}function ev(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Pr(t),r=Pr(e),s=he(n.seconds,r.seconds);return s!==0?s:he(n.nanos,r.nanos)}function Ni(t){return Of(t)}function Of(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ms(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return K.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Of(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Of(n.fields[o])}`;return s+"}"}(t.mapValue):Z()}function tv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Df(t){return!!t&&"integerValue"in t}function Ym(t){return!!t&&"arrayValue"in t}function nv(t){return!!t&&"nullValue"in t}function rv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Yd(t){return!!t&&"mapValue"in t}function Ao(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Fa(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ao(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ao(t.arrayValue.values[n]);return e}return Object.assign({},t)}function uL(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Yd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ao(n)}setAll(e){let n=Ct.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Ao(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Yd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return In(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Yd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Fa(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new _n(Ao(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pt(e,0,J.min(),J.min(),J.min(),_n.empty(),0)}static newFoundDocument(e,n,r,s){return new pt(e,1,n,J.min(),r,s,0)}static newNoDocument(e,n){return new pt(e,2,n,J.min(),J.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new pt(e,3,n,J.min(),J.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,n){this.position=e,this.inclusive=n}}function sv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=K.comparator(K.fromName(o.referenceValue),n.key):r=Ii(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function iv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!In(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e,n="asc"){this.field=e,this.dir=n}}function cL(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{}class je extends qT{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new hL(e,n,r):n==="array-contains"?new mL(e,r):n==="in"?new gL(e,r):n==="not-in"?new yL(e,r):n==="array-contains-any"?new _L(e,r):new je(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new fL(e,r):new pL(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ii(n,this.value)):n!==null&&gs(this.value)===gs(n)&&this.matchesComparison(Ii(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class fn extends qT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new fn(e,n)}matches(e){return WT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function WT(t){return t.op==="and"}function GT(t){return dL(t)&&WT(t)}function dL(t){for(const e of t.filters)if(e instanceof fn)return!1;return!0}function Lf(t){if(t instanceof je)return t.field.canonicalString()+t.op.toString()+Ni(t.value);if(GT(t))return t.filters.map(e=>Lf(e)).join(",");{const e=t.filters.map(n=>Lf(n)).join(",");return`${t.op}(${e})`}}function KT(t,e){return t instanceof je?function(r,s){return s instanceof je&&r.op===s.op&&r.field.isEqual(s.field)&&In(r.value,s.value)}(t,e):t instanceof fn?function(r,s){return s instanceof fn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&KT(o,s.filters[a]),!0):!1}(t,e):void Z()}function QT(t){return t instanceof je?function(n){return`${n.field.canonicalString()} ${n.op} ${Ni(n.value)}`}(t):t instanceof fn?function(n){return n.op.toString()+" {"+n.getFilters().map(QT).join(" ,")+"}"}(t):"Filter"}class hL extends je{constructor(e,n,r){super(e,n,r),this.key=K.fromName(r.referenceValue)}matches(e){const n=K.comparator(e.key,this.key);return this.matchesComparison(n)}}class fL extends je{constructor(e,n){super(e,"in",n),this.keys=YT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class pL extends je{constructor(e,n){super(e,"not-in",n),this.keys=YT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function YT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>K.fromName(r.referenceValue))}class mL extends je{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ym(n)&&_a(n.arrayValue,this.value)}}class gL extends je{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&_a(this.value.arrayValue,n)}}class yL extends je{constructor(e,n){super(e,"not-in",n)}matches(e){if(_a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!_a(this.value.arrayValue,n)}}class _L extends je{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>_a(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vL{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.he=null}}function ov(t,e=null,n=[],r=[],s=null,i=null,o=null){return new vL(t,e,n,r,s,i,o)}function Xm(t){const e=ue(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Fc(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ni(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ni(r)).join(",")),e.he=n}return e.he}function Jm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!cL(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!iv(t.startAt,e.startAt)&&iv(t.endAt,e.endAt)}function Mf(t){return K.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function EL(t,e,n,r,s,i,o,a){return new zi(t,e,n,r,s,i,o,a)}function XT(t){return new zi(t)}function av(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Zm(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Uc(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function JT(t){return t.collectionGroup!==null}function ko(t){const e=ue(t);if(e.Pe===null){e.Pe=[];const n=Uc(e),r=Zm(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new si(n)),e.Pe.push(new si(Ct.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.Pe.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new si(Ct.keyField(),i))}}}return e.Pe}function Qn(t){const e=ue(t);return e.Ie||(e.Ie=wL(e,ko(t))),e.Ie}function wL(t,e){if(t.limitType==="F")return ov(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new si(s.field,i)});const n=t.endAt?new ju(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ju(t.startAt.position,t.startAt.inclusive):null;return ov(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function $f(t,e){e.getFirstInequalityField(),Uc(t);const n=t.filters.concat([e]);return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Vu(t,e,n){return new zi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zc(t,e){return Jm(Qn(t),Qn(e))&&t.limitType===e.limitType}function ZT(t){return`${Xm(Qn(t))}|lt:${t.limitType}`}function jf(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>QT(s)).join(", ")}]`),Fc(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ni(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ni(s)).join(",")),`Target(${r})`}(Qn(t))}; limitType=${t.limitType})`}function Bc(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):K.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ko(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const u=sv(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ko(r),s)||r.endAt&&!function(o,a,l){const u=sv(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ko(r),s))}(t,e)}function SL(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function e1(t){return(e,n)=>{let r=!1;for(const s of ko(t)){const i=TL(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function TL(t,e,n){const r=t.field.isKeyField()?K.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Ii(l,u):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Fa(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return BT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=new Je(K.comparator);function br(){return CL}const t1=new Je(K.comparator);function go(...t){let e=t1;for(const n of t)e=e.insert(n.key,n);return e}function xL(t){let e=t1;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Jr(){return Po()}function n1(){return Po()}function Po(){return new Bi(t=>t.toString(),(t,e)=>t.isEqual(e))}const IL=new Et(K.comparator);function ae(...t){let e=IL;for(const n of t)e=e.add(n);return e}const NL=new Et(he);function RL(){return NL}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r1(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(e)?"-0":e}}function s1(t){return{integerValue:""+t}}function AL(t,e){return oL(e)?s1(e):r1(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this._=void 0}}function kL(t,e,n){return t instanceof Vf?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Km(i)&&(i=Qm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof Fu?i1(t,e):t instanceof Uu?o1(t,e):function(s,i){const o=bL(s,i),a=lv(o)+lv(s.Ee);return Df(o)&&Df(s.Ee)?s1(a):r1(s.serializer,a)}(t,e)}function PL(t,e,n){return t instanceof Fu?i1(t,e):t instanceof Uu?o1(t,e):n}function bL(t,e){return t instanceof Ff?function(r){return Df(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Vf extends Hc{}class Fu extends Hc{constructor(e){super(),this.elements=e}}function i1(t,e){const n=a1(e);for(const r of t.elements)n.some(s=>In(s,r))||n.push(r);return{arrayValue:{values:n}}}class Uu extends Hc{constructor(e){super(),this.elements=e}}function o1(t,e){let n=a1(e);for(const r of t.elements)n=n.filter(s=>!In(s,r));return{arrayValue:{values:n}}}class Ff extends Hc{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function lv(t){return Me(t.integerValue||t.doubleValue)}function a1(t){return Ym(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OL(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Fu&&s instanceof Fu||r instanceof Uu&&s instanceof Uu?xi(r.elements,s.elements,In):r instanceof Ff&&s instanceof Ff?In(r.Ee,s.Ee):r instanceof Vf&&s instanceof Vf}(t.transform,e.transform)}class ss{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ss}static exists(e){return new ss(void 0,e)}static updateTime(e){return new ss(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yl(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class eg{}function l1(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new LL(t.key,ss.none()):new tg(t.key,t.data,ss.none());{const n=t.data,r=_n.empty();let s=new Et(Ct.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new qc(t.key,r,new fr(s.toArray()),ss.none())}}function DL(t,e,n){t instanceof tg?function(s,i,o){const a=s.value.clone(),l=cv(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof qc?function(s,i,o){if(!Yl(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=cv(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(u1(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bo(t,e,n,r){return t instanceof tg?function(i,o,a,l){if(!Yl(i.precondition,o))return a;const u=i.value.clone(),c=dv(i.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof qc?function(i,o,a,l){if(!Yl(i.precondition,o))return a;const u=dv(i.fieldTransforms,l,o),c=o.data;return c.setAll(u1(i)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,o,a){return Yl(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function uv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&xi(r,s,(i,o)=>OL(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class tg extends eg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qc extends eg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function u1(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cv(t,e,n){const r=new Map;Ue(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,PL(o,a,n[s]))}return r}function dv(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,kL(i,o,e))}return r}class LL extends eg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&DL(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=n1();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=l1(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(J.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ae())}isEqual(e){return this.batchId===e.batchId&&xi(this.mutations,e.mutations,(n,r)=>uv(n,r))&&xi(this.baseMutations,e.baseMutations,(n,r)=>uv(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $L{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,ne;function c1(t){if(t===void 0)return Kn("GRPC error has no .code"),L.UNKNOWN;switch(t){case Le.OK:return L.OK;case Le.CANCELLED:return L.CANCELLED;case Le.UNKNOWN:return L.UNKNOWN;case Le.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Le.INTERNAL:return L.INTERNAL;case Le.UNAVAILABLE:return L.UNAVAILABLE;case Le.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Le.NOT_FOUND:return L.NOT_FOUND;case Le.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Le.ABORTED:return L.ABORTED;case Le.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Le.DATA_LOSS:return L.DATA_LOSS;default:return Z()}}(ne=Le||(Le={}))[ne.OK=0]="OK",ne[ne.CANCELLED=1]="CANCELLED",ne[ne.UNKNOWN=2]="UNKNOWN",ne[ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ne[ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ne[ne.NOT_FOUND=5]="NOT_FOUND",ne[ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",ne[ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",ne[ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",ne[ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ne[ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ne[ne.ABORTED=10]="ABORTED",ne[ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",ne[ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",ne[ne.INTERNAL=13]="INTERNAL",ne[ne.UNAVAILABLE=14]="UNAVAILABLE",ne[ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Cl}static getOrCreateInstance(){return Cl===null&&(Cl=new ng),Cl}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Cl=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FL=new ri([4294967295,4294967295],0);function hv(t){const e=VL().encode(t),n=new HD;return n.update(e),new Uint8Array(n.digest())}function fv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ri([n,r],0),new ri([s,i],0)]}class rg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yo(`Invalid padding: ${n}`);if(r<0)throw new yo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yo(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=ri.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(ri.fromNumber(r)));return s.compare(FL)===1&&(s=new ri([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=hv(e),[r,s]=fv(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);if(!this.me(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new rg(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=hv(e),[r,s]=fv(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ua.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Wc(J.min(),s,new Je(he),br(),ae())}}class Ua{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ua(r,n,ae(),ae(),ae())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class d1{constructor(e,n){this.targetId=e,this.ye=n}}class h1{constructor(e,n,r=St.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class pv{constructor(){this.we=0,this.Se=gv(),this.be=St.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return this.we!==0}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=ae(),n=ae(),r=ae();return this.Se.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Z()}}),new Ua(this.be,this.De,e,n,r)}Oe(){this.ve=!1,this.Se=gv()}Ne(e,n){this.ve=!0,this.Se=this.Se.insert(e,n)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class UL{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=br(),this.Ue=mv(),this.We=new Je(he)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){var n;const r=e.targetId,s=e.ye.count,i=this.et(r);if(i){const o=i.target;if(Mf(o))if(s===0){const a=new K(o.path);this.je(r,a,pt.newNoDocument(a,J.min()))}else Ue(s===1);else{const a=this.tt(r);if(a!==s){const l=this.nt(e),u=l?this.rt(l,e,a):1;if(u!==0){this.Ze(r);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(r,c)}(n=ng.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(d,f,p,_,g){var E,m,y,v,w,S;const N={localCacheCount:d,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},O=f.unchangedNames;return O&&(N.bloomFilter={applied:g===0,hashCount:(E=O==null?void 0:O.hashCount)!==null&&E!==void 0?E:0,bitmapLength:(v=(y=(m=O==null?void 0:O.bits)===null||m===void 0?void 0:m.bitmap)===null||y===void 0?void 0:y.length)!==null&&v!==void 0?v:0,padding:(S=(w=O==null?void 0:O.bits)===null||w===void 0?void 0:w.padding)!==null&&S!==void 0?S:0,mightContain:A=>{var q;return(q=_==null?void 0:_.mightContain(A))!==null&&q!==void 0&&q}}),N}(a,e.ye,this.Qe.it(),l,u))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=ms(r).toUint8Array()}catch(l){if(l instanceof HT)return Ci("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new rg(o,s,i)}catch(l){return Ci(l instanceof yo?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Qe.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.je(n,i,null),s++)}),s}ot(e){const n=new Map;this.Ke.forEach((i,o)=>{const a=this.et(o);if(a){if(i.current&&Mf(a.target)){const l=new K(a.target.path);this.$e.get(l)!==null||this._t(o,l)||this.je(o,l,pt.newNoDocument(l,e))}i.Fe&&(n.set(o,i.xe()),i.Oe())}});let r=ae();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.et(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.$e.forEach((i,o)=>o.setReadTime(e));const s=new Wc(e,n,this.We,this.$e,r);return this.$e=br(),this.Ue=mv(),this.We=new Je(he),s}ze(e,n){if(!this.Ye(e))return;const r=this._t(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ut(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this._t(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ut(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new pv,this.Ke.set(e,n)),n}ut(e){let n=this.Ue.get(e);return n||(n=new Et(he),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.Ce?null:this.Qe.ct(e)}Ze(e){this.Ke.set(e,new pv),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}_t(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function mv(){return new Je(K.comparator)}function gv(){return new Je(K.comparator)}const zL=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),BL=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),HL=(()=>({and:"AND",or:"OR"}))();class qL{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Uf(t,e){return t.useProto3Json||Fc(e)?e:{value:e}}function zf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function f1(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ii(t){return Ue(!!t),J.fromTimestamp(function(n){const r=Pr(n);return new Ye(r.seconds,r.nanos)}(t))}function p1(t,e){return function(r){return new Ie(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function m1(t){const e=Ie.fromString(t);return Ue(v1(e)),e}function Xd(t,e){const n=m1(e);if(n.get(1)!==t.databaseId.projectId)throw new B(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new K(g1(n))}function Bf(t,e){return p1(t.databaseId,e)}function WL(t){const e=m1(t);return e.length===4?Ie.emptyPath():g1(e)}function yv(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function g1(t){return Ue(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function GL(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,c){return u.useProto3Json?(Ue(c===void 0||typeof c=="string"),St.fromBase64String(c||"")):(Ue(c===void 0||c instanceof Uint8Array),St.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?L.UNKNOWN:c1(u.code);return new B(c,u.message||"")}(o);n=new h1(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Xd(t,r.document.name),i=ii(r.document.updateTime),o=r.document.createTime?ii(r.document.createTime):J.min(),a=new _n({mapValue:{fields:r.document.fields}}),l=pt.newFoundDocument(s,i,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Xl(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Xd(t,r.document),i=r.readTime?ii(r.readTime):J.min(),o=pt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Xl([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Xd(t,r.document),i=r.removedTargetIds||[];n=new Xl([],i,s,null)}else{if(!("filter"in e))return Z();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new jL(s,i),a=r.targetId;n=new d1(a,o)}}return n}function KL(t,e){return{documents:[Bf(t,e.path)]}}function QL(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=Bf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Bf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return _1(fn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(u=>function(d){return{field:Os(d.field),direction:JL(d.dir)}}(u))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=Uf(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function YL(t){let e=WL(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ue(r===1);const c=n.from[0];c.allDescendants?s=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(d){const f=y1(d);return f instanceof fn&&GT(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(_){return new si(Ds(_.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Fc(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,p=d.values||[];return new ju(p,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,p=d.values||[];return new ju(p,f)}(n.endAt)),EL(e,s,o,i,a,"F",l,u)}function XL(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function y1(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ds(n.unaryFilter.field);return je.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ds(n.unaryFilter.field);return je.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Ds(n.unaryFilter.field);return je.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ds(n.unaryFilter.field);return je.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return je.create(Ds(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return fn.create(n.compositeFilter.filters.map(r=>y1(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function JL(t){return zL[t]}function ZL(t){return BL[t]}function eM(t){return HL[t]}function Os(t){return{fieldPath:t.canonicalString()}}function Ds(t){return Ct.fromServerFormat(t.fieldPath)}function _1(t){return t instanceof je?function(n){if(n.op==="=="){if(rv(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NAN"}};if(nv(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rv(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NAN"}};if(nv(n.value))return{unaryFilter:{field:Os(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(n.field),op:ZL(n.op),value:n.value}}}(t):t instanceof fn?function(n){const r=n.getFilters().map(s=>_1(s));return r.length===1?r[0]:{compositeFilter:{op:eM(n.op),filters:r}}}(t):Z()}function v1(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,r,s,i=J.min(),o=J.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tM{constructor(e){this.lt=e}}function nM(t){const e=YL({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Vu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this.on=new sM}addToCollectionParentIndex(e,n){return this.on.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(kr.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(kr.min())}updateCollectionGroup(e,n,r){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class sM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Et(Ie.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Et(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new Ri(0)}static Nn(){return new Ri(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(){this.changes=new Bi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?M.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&bo(r.mutation,s,fr.empty(),Ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ae()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ae()){const s=Jr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=go();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Jr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ae()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=br();const o=Po(),a=function(){return Po()}();return n.forEach((l,u)=>{const c=r.get(u.key);s.has(u.key)&&(c===void 0||c.mutation instanceof qc)?i=i.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),bo(c.mutation,u,c.mutation.getFieldMask(),Ye.now())):o.set(u.key,fr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new oM(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Po();let s=new Je((o,a)=>o-a),i=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||fr.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(s.get(a.batchId)||ae()).add(l);s=s.insert(a.batchId,d)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=n1();c.forEach(f=>{if(!i.has(f)){const p=l1(n.get(f),r.get(f));p!==null&&d.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return M.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return K.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):JT(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):M.resolve(Jr());let a=-1,l=i;return o.next(u=>M.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(c)?M.resolve():this.remoteDocumentCache.getEntry(e,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,ae())).next(c=>({batchId:a,changes:xL(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new K(n)).next(r=>{let s=go();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=go();return this.indexManager.getCollectionParents(e,s).next(o=>M.forEach(o,a=>{const l=function(c,d){return new zi(d,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(u=>{u.forEach((c,d)=>{i=i.insert(c,d)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,pt.newInvalidDocument(u)))});let o=go();return i.forEach((a,l)=>{const u=s.get(a);u!==void 0&&bo(u.mutation,l,fr.empty(),Ye.now()),Bc(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return M.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ii(s.createTime)}}(n)),M.resolve()}getNamedQuery(e,n){return M.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:nM(s.bundledQuery),readTime:ii(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(){this.overlays=new Je(K.comparator),this.lr=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Jr();return M.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Pt(e,n,i)}),M.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),M.resolve()}getOverlaysForCollection(e,n,r){const s=Jr(),i=n.length+1,o=new K(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return M.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Je((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=Jr(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Jr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=s)););return M.resolve(a)}Pt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new $L(n,r));let i=this.lr.get(n);i===void 0&&(i=ae(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.hr=new Et(He.Pr),this.Ir=new Et(He.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new He(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new He(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new K(new Ie([])),r=new He(n,e),s=new He(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new K(new Ie([])),r=new He(n,e),s=new He(n,e+1);let i=ae();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new He(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class He{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return K.comparator(e.key,n.key)||he(e.gr,n.gr)}static Tr(e,n){return he(e.gr,n.gr)||K.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Et(He.Pr)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new ML(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new He(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return M.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new He(n,0),s=new He(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),M.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Et(he);return n.forEach(s=>{const i=new He(s,0),o=new He(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),M.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;K.isDocumentKey(i)||(i=i.child(""));const o=new He(new K(i),0);let a=new Et(he);return this.yr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===s&&(a=a.add(l.gr)),!0)},o),M.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ue(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return M.forEach(n.mutations,s=>{const i=new He(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new He(n,0),s=this.yr.firstAfterOrEqual(r);return M.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(e){this.vr=e,this.docs=function(){return new Je(K.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return M.resolve(r?r.document.mutableCopy():pt.newInvalidDocument(n))}getEntries(e,n){let r=br();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():pt.newInvalidDocument(s))}),M.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=br();const o=n.path,a=new K(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||rL(nL(c),r)<=0||(s.has(c.key)||Bc(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return M.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Z()}Cr(e,n){return M.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new hM(this)}getSize(e){return M.resolve(this.size)}}class hM extends iM{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),M.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(e){this.persistence=e,this.Fr=new Bi(n=>Xm(n),Jm),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.Mr=0,this.Or=new sg,this.targetCount=0,this.Nr=Ri.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),M.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new Ri(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.kn(n),M.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),M.waitFor(i).next(()=>s)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return M.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),M.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),M.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),M.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return M.resolve(r)}containsKey(e,n){return M.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n){this.Br={},this.overlays={},this.Lr=new Gm(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new fM(this),this.indexManager=new rM,this.remoteDocumentCache=function(s){return new dM(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new tM(n),this.Kr=new lM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new uM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new cM(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new mM(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return M.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class mM extends iL{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Gr=new sg,this.zr=null}static jr(e){return new ig(e)}get Hr(){if(this.zr)return this.zr;throw Z()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),M.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),M.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Hr,r=>{const s=K.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,J.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return M.or([()=>M.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=ae(),s=ae();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new og(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(){this.Ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ui(e,n).next(i=>i||this.Wi(e,n,s,r)).next(i=>i||this.Gi(e,n))}Ui(e,n){if(av(n))return M.resolve(null);let r=Qn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Vu(n,null,"F"),r=Qn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ae(...i);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.zi(n,a);return this.ji(n,u,o,l.readTime)?this.Ui(e,Vu(n,null,"F")):this.Hi(e,u,n,l)}))})))}Wi(e,n,r,s){return av(n)||s.isEqual(J.min())?this.Gi(e,n):this.$i.getDocuments(e,r).next(i=>{const o=this.zi(n,i);return this.ji(n,o,r,s)?this.Gi(e,n):(X_()<=ce.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),jf(n)),this.Hi(e,o,n,tL(s,-1)))})}zi(e,n){let r=new Et(e1(e));return n.forEach((s,i)=>{Bc(e,i)&&(r=r.add(i))}),r}ji(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Gi(e,n){return X_()<=ce.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",jf(n)),this.$i.getDocumentsMatchingQuery(e,n,kr.min())}Hi(e,n,r,s){return this.$i.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(e,n,r,s){this.persistence=e,this.Ji=n,this.serializer=s,this.Yi=new Je(he),this.Zi=new Bi(i=>Xm(i),Jm),this.Xi=new Map,this.es=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.ts(r)}ts(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new aM(this.es,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.es.setIndexManager(this.indexManager),this.Ji.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Yi))}}function _M(t,e,n,r){return new yM(t,e,n,r)}async function E1(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ts(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=ae();for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({ns:u,removedBatchIds:o,addedBatchIds:a}))})})}function w1(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function vM(t,e){const n=ue(t),r=e.snapshotVersion;let s=n.Yi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.es.newChangeBuffer({trackRemovals:!0});s=n.Yi;const a=[];e.targetChanges.forEach((c,d)=>{const f=s.get(d);if(!f)return;a.push(n.qr.removeMatchingKeys(i,c.removedDocuments,d).next(()=>n.qr.addMatchingKeys(i,c.addedDocuments,d)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(St.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),s=s.insert(d,p),function(g,E,m){return g.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,c)&&a.push(n.qr.updateTargetData(i,p))});let l=br(),u=ae();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(EM(i,o,e.documentUpdates).next(c=>{l=c.rs,u=c.ss})),!r.isEqual(J.min())){const c=n.qr.getLastRemoteSnapshotVersion(i).next(d=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return M.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.Yi=s,i))}function EM(t,e,n){let r=ae(),s=ae();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=br();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(J.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{rs:o,ss:s}})}function wM(t,e){const n=ue(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,M.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new pr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Yi.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Yi=n.Yi.insert(r.targetId,r),n.Zi.set(e,r.targetId)),r})}async function Hf(t,e,n){const r=ue(t),s=r.Yi.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Va(o))throw o;H("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Yi=r.Yi.remove(e),r.Zi.delete(s.target)}function _v(t,e,n){const r=ue(t);let s=J.min(),i=ae();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,u,c){const d=ue(l),f=d.Zi.get(c);return f!==void 0?M.resolve(d.Yi.get(f)):d.qr.getTargetData(u,c)}(r,o,Qn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ji.getDocumentsMatchingQuery(o,e,n?s:J.min(),n?i:ae())).next(a=>(SM(r,SL(e),a),{documents:a,os:i})))}function SM(t,e,n){let r=t.Xi.get(e)||J.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class vv{constructor(){this.activeTargetIds=RL()}Ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}Is(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class TM{constructor(){this.Js=new vv,this.Ys={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Js.Ps(e),this.Ys[e]||"not-current"}updateQueryState(e,n,r){this.Ys[e]=n}removeLocalQueryTarget(e){this.Js.Is(e)}isLocalQueryTarget(e){return this.Js.activeTargetIds.has(e)}clearQueryState(e){delete this.Ys[e]}getAllActiveQueryTargets(){return this.Js.activeTargetIds}isActiveQueryTarget(e){return this.Js.activeTargetIds.has(e)}start(){return this.Js=new vv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CM{Zs(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.Xs=()=>this.eo(),this.no=()=>this.ro(),this.io=[],this.so()}Zs(e){this.io.push(e)}shutdown(){window.removeEventListener("online",this.Xs),window.removeEventListener("offline",this.no)}so(){window.addEventListener("online",this.Xs),window.addEventListener("offline",this.no)}eo(){H("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.io)e(0)}ro(){H("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.io)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl=null;function Jd(){return xl===null?xl=function(){return 268435456+Math.round(2147483648*Math.random())}():xl++,"0x"+xl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(e){this.oo=e.oo,this._o=e._o}ao(e){this.uo=e}co(e){this.lo=e}onMessage(e){this.ho=e}close(){this._o()}send(e){this.oo(e)}Po(){this.uo()}Io(e){this.lo(e)}To(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ct="WebChannelConnection";class NM extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Eo=r+"://"+n.host,this.Ao=`projects/${s}/databases/${i}`,this.Ro=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Vo(){return!1}mo(n,r,s,i,o){const a=Jd(),l=this.fo(n,r);H("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const u={"google-cloud-resource-prefix":this.Ao,"x-goog-request-params":this.Ro};return this.po(u,i,o),this.yo(n,l,u,s).then(c=>(H("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ci("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",s),c})}wo(n,r,s,i,o,a){return this.mo(n,r,s,i,o)}po(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ui}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}fo(n,r){const s=xM[n];return`${this.Eo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}yo(e,n,r,s){const i=Jd();return new Promise((o,a)=>{const l=new BD;l.setWithCredentials(!0),l.listenOnce(FD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Qd.NO_ERROR:const c=l.getResponseJson();H(ct,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),o(c);break;case Qd.TIMEOUT:H(ct,`RPC '${e}' ${i} timed out`),a(new B(L.DEADLINE_EXCEEDED,"Request time out"));break;case Qd.HTTP_ERROR:const d=l.getStatus();if(H(ct,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const _=function(E){const m=E.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(m)>=0?m:L.UNKNOWN}(p.status);a(new B(_,p.message))}else a(new B(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new B(L.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{H(ct,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(s);H(ct,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",u,r,15)})}So(e,n,r){const s=Jd(),i=[this.Eo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jD(),a=VD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new zD({})),this.po(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");H(ct,`Creating RPC '${e}' stream ${s}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,p=!1;const _=new IM({oo:E=>{p?H(ct,`Not sending because RPC '${e}' stream ${s} is closed:`,E):(f||(H(ct,`Opening RPC '${e}' stream ${s} transport.`),d.open(),f=!0),H(ct,`RPC '${e}' stream ${s} sending:`,E),d.send(E))},_o:()=>d.close()}),g=(E,m,y)=>{E.listen(m,v=>{try{y(v)}catch(w){setTimeout(()=>{throw w},0)}})};return g(d,wl.EventType.OPEN,()=>{p||H(ct,`RPC '${e}' stream ${s} transport opened.`)}),g(d,wl.EventType.CLOSE,()=>{p||(p=!0,H(ct,`RPC '${e}' stream ${s} transport closed`),_.Io())}),g(d,wl.EventType.ERROR,E=>{p||(p=!0,Ci(ct,`RPC '${e}' stream ${s} transport errored:`,E),_.Io(new B(L.UNAVAILABLE,"The operation could not be completed")))}),g(d,wl.EventType.MESSAGE,E=>{var m;if(!p){const y=E.data[0];Ue(!!y);const v=y,w=v.error||((m=v[0])===null||m===void 0?void 0:m.error);if(w){H(ct,`RPC '${e}' stream ${s} received error:`,w);const S=w.status;let N=function(q){const T=Le[q];if(T!==void 0)return c1(T)}(S),O=w.message;N===void 0&&(N=L.INTERNAL,O="Unknown error status: "+S+" with message "+w.message),p=!0,_.Io(new B(N,O)),d.close()}else H(ct,`RPC '${e}' stream ${s} received:`,y),_.To(y)}}),g(a,UD.STAT_EVENT,E=>{E.stat===Q_.PROXY?H(ct,`RPC '${e}' stream ${s} detected buffering proxy`):E.stat===Q_.NOPROXY&&H(ct,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{_.Po()},0),_}}function Zd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gc(t){return new qL(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.bo=r,this.Do=s,this.vo=i,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}reset(){this.Co=0}xo(){this.Co=this.vo}Oo(e){this.cancel();const n=Math.floor(this.Co+this.No()),r=Math.max(0,Date.now()-this.Mo),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Co} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Fo=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Mo=Date.now(),e())),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}Bo(){this.Fo!==null&&(this.Fo.skipDelay(),this.Fo=null)}cancel(){this.Fo!==null&&(this.Fo.cancel(),this.Fo=null)}No(){return(Math.random()-.5)*this.Co}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Lo=r,this.ko=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.qo=0,this.Qo=null,this.Ko=null,this.stream=null,this.$o=new S1(e,n)}Uo(){return this.state===1||this.state===5||this.Wo()}Wo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}zo(){this.state=0,this.$o.reset()}jo(){this.Wo()&&this.Qo===null&&(this.Qo=this.si.enqueueAfterDelay(this.Lo,6e4,()=>this.Ho()))}Jo(e){this.Yo(),this.stream.send(e)}async Ho(){if(this.Wo())return this.close(0)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}async close(e,n){this.Yo(),this.Zo(),this.$o.cancel(),this.qo++,e!==4?this.$o.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Kn(n.toString()),Kn("Using maximum backoff delay to prevent overloading the backend."),this.$o.xo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Xo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Xo(){}auth(){this.state=1;const e=this.e_(this.qo),n=this.qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.qo===n&&this.t_(r,s)},r=>{e(()=>{const s=new B(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.n_(s)})})}t_(e,n){const r=this.e_(this.qo);this.stream=this.r_(e,n),this.stream.ao(()=>{r(()=>(this.state=2,this.Ko=this.si.enqueueAfterDelay(this.ko,1e4,()=>(this.Wo()&&(this.state=3),Promise.resolve())),this.listener.ao()))}),this.stream.co(s=>{r(()=>this.n_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.$o.Oo(async()=>{this.state=0,this.start()})}n_(e){return H("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}e_(e){return n=>{this.si.enqueueAndForget(()=>this.qo===e?n():(H("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class AM extends RM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}r_(e,n){return this.connection.So("Listen",e,n)}onMessage(e){this.$o.reset();const n=GL(this.serializer,e),r=function(i){if(!("targetChange"in i))return J.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?J.min():o.readTime?ii(o.readTime):J.min()}(e);return this.listener.i_(n,r)}s_(e){const n={};n.database=yv(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=Mf(l)?{documents:KL(i,l)}:{query:QL(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=f1(i,o.resumeToken);const u=Uf(i,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(J.min())>0){a.readTime=zf(i,o.snapshotVersion.toTimestamp());const u=Uf(i,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=XL(this.serializer,e);r&&(n.labels=r),this.Jo(n)}o_(e){const n={};n.database=yv(this.serializer),n.removeTarget=e,this.Jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.P_=!1}I_(){if(this.P_)throw new B(L.FAILED_PRECONDITION,"The client has already been terminated.")}mo(e,n,r){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.mo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(L.UNKNOWN,s.toString())})}wo(e,n,r,s){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new B(L.UNKNOWN,i.toString())})}terminate(){this.P_=!0}}class PM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.E_=0,this.d_=null,this.A_=!0}R_(){this.E_===0&&(this.V_("Unknown"),this.d_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.d_=null,this.m_("Backend didn't respond within 10 seconds."),this.V_("Offline"),Promise.resolve())))}f_(e){this.state==="Online"?this.V_("Unknown"):(this.E_++,this.E_>=1&&(this.g_(),this.m_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.V_("Offline")))}set(e){this.g_(),this.E_=0,e==="Online"&&(this.A_=!1),this.V_(e)}V_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}m_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.A_?(Kn(n),this.A_=!1):H("OnlineStateTracker",n)}g_(){this.d_!==null&&(this.d_.cancel(),this.d_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.p_=[],this.y_=new Map,this.w_=new Set,this.S_=[],this.b_=i,this.b_.Zs(o=>{r.enqueueAndForget(async()=>{Ba(this)&&(H("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ue(l);u.w_.add(4),await za(u),u.D_.set("Unknown"),u.w_.delete(4),await Kc(u)}(this))})}),this.D_=new PM(r,s)}}async function Kc(t){if(Ba(t))for(const e of t.S_)await e(!0)}async function za(t){for(const e of t.S_)await e(!1)}function T1(t,e){const n=ue(t);n.y_.has(e.targetId)||(n.y_.set(e.targetId,e),ug(n)?lg(n):Hi(n).Wo()&&ag(n,e))}function C1(t,e){const n=ue(t),r=Hi(n);n.y_.delete(e),r.Wo()&&x1(n,e),n.y_.size===0&&(r.Wo()?r.jo():Ba(n)&&n.D_.set("Unknown"))}function ag(t,e){if(t.v_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(J.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Hi(t).s_(e)}function x1(t,e){t.v_.Le(e),Hi(t).o_(e)}function lg(t){t.v_=new UL({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ct:e=>t.y_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),Hi(t).start(),t.D_.R_()}function ug(t){return Ba(t)&&!Hi(t).Uo()&&t.y_.size>0}function Ba(t){return ue(t).w_.size===0}function I1(t){t.v_=void 0}async function OM(t){t.y_.forEach((e,n)=>{ag(t,e)})}async function DM(t,e){I1(t),ug(t)?(t.D_.f_(e),lg(t)):t.D_.set("Unknown")}async function LM(t,e,n){if(t.D_.set("Online"),e instanceof h1&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.y_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.y_.delete(a),s.v_.removeTarget(a))}(t,e)}catch(r){H("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await wv(t,r)}else if(e instanceof Xl?t.v_.Ge(e):e instanceof d1?t.v_.Xe(e):t.v_.He(e),!n.isEqual(J.min()))try{const r=await w1(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.v_.ot(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.y_.get(u);c&&i.y_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=i.y_.get(l);if(!c)return;i.y_.set(l,c.withResumeToken(St.EMPTY_BYTE_STRING,c.snapshotVersion)),x1(i,l);const d=new pr(c.target,l,u,c.sequenceNumber);ag(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){H("RemoteStore","Failed to raise snapshot:",r),await wv(t,r)}}async function wv(t,e,n){if(!Va(e))throw e;t.w_.add(1),await za(t),t.D_.set("Offline"),n||(n=()=>w1(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H("RemoteStore","Retrying IndexedDB access"),await n(),t.w_.delete(1),await Kc(t)})}async function Sv(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),H("RemoteStore","RemoteStore received new credentials");const r=Ba(n);n.w_.add(3),await za(n),r&&n.D_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.w_.delete(3),await Kc(n)}async function MM(t,e){const n=ue(t);e?(n.w_.delete(2),await Kc(n)):e||(n.w_.add(2),await za(n),n.D_.set("Unknown"))}function Hi(t){return t.C_||(t.C_=function(n,r,s){const i=ue(n);return i.I_(),new AM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:OM.bind(null,t),co:DM.bind(null,t),i_:LM.bind(null,t)}),t.S_.push(async e=>{e?(t.C_.zo(),ug(t)?lg(t):t.D_.set("Unknown")):(await t.C_.stop(),I1(t))})),t.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new cg(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function N1(t,e){if(Kn("AsyncQueue",`${e}: ${t}`),Va(t))return new B(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.comparator=e?(n,r)=>e(n,r)||K.comparator(n.key,r.key):(n,r)=>K.comparator(n.key,r.key),this.keyedMap=go(),this.sortedSet=new Je(this.comparator)}static emptySet(e){return new oi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oi)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new oi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(){this.M_=new Je(K.comparator)}track(e){const n=e.doc.key,r=this.M_.get(n);r?e.type!==0&&r.type===3?this.M_=this.M_.insert(n,e):e.type===3&&r.type!==1?this.M_=this.M_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.M_=this.M_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.M_=this.M_.remove(n):e.type===1&&r.type===2?this.M_=this.M_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):Z():this.M_=this.M_.insert(n,e)}x_(){const e=[];return this.M_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ai{constructor(e,n,r,s,i,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ai(e,n,oi.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(){this.O_=void 0,this.listeners=[]}}class jM{constructor(){this.queries=new Bi(e=>ZT(e),zc),this.onlineState="Unknown",this.N_=new Set}}async function VM(t,e){const n=ue(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new $M),s)try{i.O_=await n.onListen(r)}catch(o){const a=N1(o,`Initialization of query '${jf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.B_(n.onlineState),i.O_&&e.L_(i.O_)&&dg(n)}async function FM(t,e){const n=ue(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function UM(t,e){const n=ue(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.L_(s)&&(r=!0);o.O_=s}}r&&dg(n)}function zM(t,e,n){const r=ue(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function dg(t){t.N_.forEach(e=>{e.next()})}class BM{constructor(e,n,r){this.query=e,this.k_=n,this.q_=!1,this.Q_=null,this.onlineState="Unknown",this.options=r||{}}L_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Ai(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.q_?this.K_(e)&&(this.k_.next(e),n=!0):this.U_(e,this.onlineState)&&(this.W_(e),n=!0),this.Q_=e,n}onError(e){this.k_.error(e)}B_(e){this.onlineState=e;let n=!1;return this.Q_&&!this.q_&&this.U_(this.Q_,e)&&(this.W_(this.Q_),n=!0),n}U_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.G_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}K_(e){if(e.docChanges.length>0)return!0;const n=this.Q_&&this.Q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}W_(e){e=Ai.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.q_=!0,this.k_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.key=e}}class A1{constructor(e){this.key=e}}class HM{constructor(e,n){this.query=e,this.ea=n,this.ta=null,this.hasCachedResults=!1,this.current=!1,this.na=ae(),this.mutatedKeys=ae(),this.ra=e1(e),this.ia=new oi(this.ra)}get sa(){return this.ea}oa(e,n){const r=n?n._a:new Tv,s=n?n.ia:this.ia;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,u=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((c,d)=>{const f=s.get(c),p=Bc(this.query,d)?d:null,_=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;f&&p?f.data.isEqual(p.data)?_!==g&&(r.track({type:3,doc:p}),E=!0):this.aa(f,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ra(p,l)>0||u&&this.ra(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),E=!0):f&&!p&&(r.track({type:1,doc:f}),E=!0,(l||u)&&(a=!0)),E&&(p?(o=o.add(p),i=g?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{ia:o,_a:r,ji:a,mutatedKeys:i}}aa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ia;this.ia=e.ia,this.mutatedKeys=e.mutatedKeys;const i=e._a.x_();i.sort((u,c)=>function(f,p){const _=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return _(f)-_(p)}(u.type,c.type)||this.ra(u.doc,c.doc)),this.ua(r);const o=n?this.ca():[],a=this.na.size===0&&this.current?1:0,l=a!==this.ta;return this.ta=a,i.length!==0||l?{snapshot:new Ai(this.query,e.ia,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),la:o}:{la:o}}B_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ia:this.ia,_a:new Tv,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{la:[]}}ha(e){return!this.ea.has(e)&&!!this.ia.has(e)&&!this.ia.get(e).hasLocalMutations}ua(e){e&&(e.addedDocuments.forEach(n=>this.ea=this.ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ea=this.ea.delete(n)),this.current=e.current)}ca(){if(!this.current)return[];const e=this.na;this.na=ae(),this.ia.forEach(r=>{this.ha(r.key)&&(this.na=this.na.add(r.key))});const n=[];return e.forEach(r=>{this.na.has(r)||n.push(new A1(r))}),this.na.forEach(r=>{e.has(r)||n.push(new R1(r))}),n}Pa(e){this.ea=e.os,this.na=ae();const n=this.oa(e.documents);return this.applyChanges(n,!0)}Ia(){return Ai.fromInitialDocuments(this.query,this.ia,this.mutatedKeys,this.ta===0,this.hasCachedResults)}}class qM{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class WM{constructor(e){this.key=e,this.Ta=!1}}class GM{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ea={},this.da=new Bi(a=>ZT(a),zc),this.Aa=new Map,this.Ra=new Set,this.Va=new Je(K.comparator),this.ma=new Map,this.fa=new sg,this.ga={},this.pa=new Map,this.ya=Ri.Nn(),this.onlineState="Unknown",this.wa=void 0}get isPrimaryClient(){return this.wa===!0}}async function KM(t,e){const n=t2(t);let r,s;const i=n.da.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Ia();else{const o=await wM(n.localStore,Qn(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await QM(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&T1(n.remoteStore,o)}return s}async function QM(t,e,n,r,s){t.Sa=(d,f,p)=>async function(g,E,m,y){let v=E.view.oa(m);v.ji&&(v=await _v(g.localStore,E.query,!1).then(({documents:N})=>E.view.oa(N,v)));const w=y&&y.targetChanges.get(E.targetId),S=E.view.applyChanges(v,g.isPrimaryClient,w);return xv(g,E.targetId,S.la),S.snapshot}(t,d,f,p);const i=await _v(t.localStore,e,!0),o=new HM(e,i.os),a=o.oa(i.documents),l=Ua.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),u=o.applyChanges(a,t.isPrimaryClient,l);xv(t,n,u.la);const c=new qM(e,n,o);return t.da.set(e,c),t.Aa.has(n)?t.Aa.get(n).push(e):t.Aa.set(n,[e]),u.snapshot}async function YM(t,e){const n=ue(t),r=n.da.get(e),s=n.Aa.get(r.targetId);if(s.length>1)return n.Aa.set(r.targetId,s.filter(i=>!zc(i,e))),void n.da.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Hf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),C1(n.remoteStore,r.targetId),qf(n,r.targetId)}).catch(Wm)):(qf(n,r.targetId),await Hf(n.localStore,r.targetId,!0))}async function k1(t,e){const n=ue(t);try{const r=await vM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ma.get(i);o&&(Ue(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ta=!0:s.modifiedDocuments.size>0?Ue(o.Ta):s.removedDocuments.size>0&&(Ue(o.Ta),o.Ta=!1))}),await b1(n,r,e)}catch(r){await Wm(r)}}function Cv(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.da.forEach((i,o)=>{const a=o.view.B_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ue(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const f of d.listeners)f.B_(a)&&(u=!0)}),u&&dg(l)}(r.eventManager,e),s.length&&r.Ea.i_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function XM(t,e,n){const r=ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ma.get(e),i=s&&s.key;if(i){let o=new Je(K.comparator);o=o.insert(i,pt.newNoDocument(i,J.min()));const a=ae().add(i),l=new Wc(J.min(),new Map,new Je(he),o,a);await k1(r,l),r.Va=r.Va.remove(i),r.ma.delete(e),hg(r)}else await Hf(r.localStore,e,!1).then(()=>qf(r,e,n)).catch(Wm)}function qf(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Aa.get(e))t.da.delete(r),n&&t.Ea.ba(r,n);t.Aa.delete(e),t.isPrimaryClient&&t.fa.Rr(e).forEach(r=>{t.fa.containsKey(r)||P1(t,r)})}function P1(t,e){t.Ra.delete(e.path.canonicalString());const n=t.Va.get(e);n!==null&&(C1(t.remoteStore,n),t.Va=t.Va.remove(e),t.ma.delete(n),hg(t))}function xv(t,e,n){for(const r of n)r instanceof R1?(t.fa.addReference(r.key,e),JM(t,r)):r instanceof A1?(H("SyncEngine","Document no longer in limbo: "+r.key),t.fa.removeReference(r.key,e),t.fa.containsKey(r.key)||P1(t,r.key)):Z()}function JM(t,e){const n=e.key,r=n.path.canonicalString();t.Va.get(n)||t.Ra.has(r)||(H("SyncEngine","New document in limbo: "+n),t.Ra.add(r),hg(t))}function hg(t){for(;t.Ra.size>0&&t.Va.size<t.maxConcurrentLimboResolutions;){const e=t.Ra.values().next().value;t.Ra.delete(e);const n=new K(Ie.fromString(e)),r=t.ya.next();t.ma.set(r,new WM(n)),t.Va=t.Va.insert(n,r),T1(t.remoteStore,new pr(Qn(XT(n.path)),r,"TargetPurposeLimboResolution",Gm.ae))}}async function b1(t,e,n){const r=ue(t),s=[],i=[],o=[];r.da.isEmpty()||(r.da.forEach((a,l)=>{o.push(r.Sa(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){s.push(u);const c=og.Qi(l.targetId,u);i.push(c)}}))}),await Promise.all(o),r.Ea.i_(s),await async function(l,u){const c=ue(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>M.forEach(u,f=>M.forEach(f.ki,p=>c.persistence.referenceDelegate.addReference(d,f.targetId,p)).next(()=>M.forEach(f.qi,p=>c.persistence.referenceDelegate.removeReference(d,f.targetId,p)))))}catch(d){if(!Va(d))throw d;H("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const p=c.Yi.get(f),_=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(_);c.Yi=c.Yi.insert(f,g)}}}(r.localStore,i))}async function ZM(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){H("SyncEngine","User change. New user:",e.toKey());const r=await E1(n.localStore,e);n.currentUser=e,function(i,o){i.pa.forEach(a=>{a.forEach(l=>{l.reject(new B(L.CANCELLED,o))})}),i.pa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await b1(n,r.ns)}}function e2(t,e){const n=ue(t),r=n.ma.get(e);if(r&&r.Ta)return ae().add(r.key);{let s=ae();const i=n.Aa.get(e);if(!i)return s;for(const o of i){const a=n.da.get(o);s=s.unionWith(a.view.sa)}return s}}function t2(t){const e=ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=k1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=e2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XM.bind(null,e),e.Ea.i_=UM.bind(null,e.eventManager),e.Ea.ba=zM.bind(null,e.eventManager),e}class Iv{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Gc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _M(this.persistence,new gM,e.initialUser,this.serializer)}createPersistence(e){return new pM(ig.jr,this.serializer)}createSharedClientState(e){return new TM}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class n2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Cv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ZM.bind(null,this.syncEngine),await MM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jM}()}createDatastore(e){const n=Gc(e.databaseInfo.databaseId),r=function(i){return new NM(i)}(e.databaseInfo);return function(i,o,a,l){return new kM(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new bM(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Cv(this.syncEngine,n,0),function(){return Ev.v()?new Ev:new CM}())}createSyncEngine(e,n){return function(s,i,o,a,l,u,c){const d=new GM(s,i,o,a,l,u);return c&&(d.wa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ue(n);H("RemoteStore","RemoteStore shutting down."),r.w_.add(5),await za(r),r.b_.shutdown(),r.D_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ca(this.observer.next,e)}error(e){this.observer.error?this.Ca(this.observer.error,e):Kn("Uncaught Error in snapshot listener:",e.toString())}Fa(){this.muted=!0}Ca(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s2{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=dt.UNAUTHENTICATED,this.clientId=ZD.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{H("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(H("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new B(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=N1(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function eh(t,e){t.asyncQueue.verifyOperationInProgress(),H("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await E1(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Nv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await o2(t);H("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>Sv(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>Sv(e.remoteStore,i)),t._onlineComponents=e}function i2(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function o2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H("FirestoreClient","Using user provided OfflineComponentProvider");try{await eh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!i2(n))throw n;Ci("Error using user provided cache. Falling back to memory cache: "+n),await eh(t,new Iv)}}else H("FirestoreClient","Using default OfflineComponentProvider"),await eh(t,new Iv);return t._offlineComponents}async function a2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H("FirestoreClient","Using user provided OnlineComponentProvider"),await Nv(t,t._uninitializedComponentsProvider._online)):(H("FirestoreClient","Using default OnlineComponentProvider"),await Nv(t,new n2))),t._onlineComponents}async function l2(t){const e=await a2(t),n=e.eventManager;return n.onListen=KM.bind(null,e.syncEngine),n.onUnlisten=YM.bind(null,e.syncEngine),n}function u2(t,e,n={}){const r=new rs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,u){const c=new r2({next:f=>{o.enqueueAndForget(()=>FM(i,d)),f.fromCache&&l.source==="server"?u.reject(new B(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new BM(a,c,{includeMetadataChanges:!0,G_:!0});return VM(i,d)}(await l2(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t,e,n){if(!n)throw new B(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function d2(t,e,n,r){if(e===!0&&r===!0)throw new B(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Av(t){if(K.isDocumentKey(t))throw new B(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qc(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Wf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Qc(t);throw new B(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function h2(t,e){if(e<=0)throw new B(L.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}d2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new B(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new B(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new B(L.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new B(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new B(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new qD;switch(r.type){case"firstParty":return new QD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Rv.get(n);r&&(H("ComponentProvider","Removing Datastore"),Rv.delete(n),r.terminate())}(this),Promise.resolve()}}function f2(t,e,n,r={}){var s;const i=(t=Wf(t,fg))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ci("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=dt.MOCK_USER;else{a=RS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new B(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new dt(u)}t._authCredentials=new WD(new zT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Fr(this.firestore,e,this._query)}}class er{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new er(this.firestore,e,this._key)}}class ai extends Fr{constructor(e,n,r){super(e,n,XT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new er(this.firestore,null,new K(e))}withConverter(e){return new ai(this.firestore,e,this._path)}}function p2(t,e,...n){if(t=wi(t),c2("collection","path",e),t instanceof fg){const r=Ie.fromString(e,...n);return Av(r),new ai(t,null,r)}{if(!(t instanceof er||t instanceof ai))throw new B(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return Av(r),new ai(t.firestore,null,r)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(){this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new S1(this,"async_queue_retry"),this.eu=()=>{const n=Zd();n&&H("AsyncQueue","Visibility state changed to "+n.visibilityState),this.$o.Bo()};const e=Zd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.eu)}get isShuttingDown(){return this.ja}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.tu(),this.nu(e)}enterRestrictedMode(e){if(!this.ja){this.ja=!0,this.Za=e||!1;const n=Zd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.eu)}}enqueue(e){if(this.tu(),this.ja)return new Promise(()=>{});const n=new rs;return this.nu(()=>this.ja&&this.Za?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.za.push(e),this.ru()))}async ru(){if(this.za.length!==0){try{await this.za[0](),this.za.shift(),this.$o.reset()}catch(e){if(!Va(e))throw e;H("AsyncQueue","Operation failed with retryable error: "+e)}this.za.length>0&&this.$o.Oo(()=>this.ru())}}nu(e){const n=this.Ga.then(()=>(this.Ya=!0,e().catch(r=>{this.Ja=r,this.Ya=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Kn("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ya=!1,r))));return this.Ga=n,n}enqueueAfterDelay(e,n,r){this.tu(),this.Xa.indexOf(e)>-1&&(n=0);const s=cg.createAndSchedule(this,e,n,r,i=>this.iu(i));return this.Ha.push(s),s}tu(){this.Ja&&Z()}verifyOperationInProgress(){}async su(){let e;do e=this.Ga,await e;while(e!==this.Ga)}ou(e){for(const n of this.Ha)if(n.timerId===e)return!0;return!1}_u(e){return this.su().then(()=>{this.Ha.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Ha)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.su()})}au(e){this.Xa.push(e)}iu(e){const n=this.Ha.indexOf(e);this.Ha.splice(n,1)}}class D1 extends fg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new m2}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||L1(this),this._firestoreClient.terminate()}}function g2(t,e){const n=typeof t=="object"?t:$S(),r=typeof t=="string"?t:e||"(default)",s=LS(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=IS("firestore");i&&f2(s,...i)}return s}function y2(t){return t._firestoreClient||L1(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function L1(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,u,c){return new lL(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,O1(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new s2(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ki(St.fromBase64String(e))}catch(n){throw new B(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ki(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2=/^__.*__$/;function j1(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}class mg{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.uu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get cu(){return this.settings.cu}lu(e){return new mg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}hu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.Iu(e),s}Tu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.uu(),s}Eu(e){return this.lu({path:void 0,Pu:!0})}du(e){return Gf(e,this.settings.methodName,this.settings.Au||!1,this.path,this.settings.Ru)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}uu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Iu(this.path.get(e))}Iu(e){if(e.length===0)throw this.du("Document fields must not be empty");if(j1(this.cu)&&_2.test(e))throw this.du('Document fields cannot begin and end with "__"')}}class v2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gc(e)}Vu(e,n,r,s=!1){return new mg({cu:e,methodName:n,Ru:r,path:Ct.emptyPath(),Pu:!1,Au:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function E2(t){const e=t._freezeSettings(),n=Gc(t._databaseId);return new v2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function w2(t,e,n,r=!1){return gg(n,t.Vu(r?4:3,e))}function gg(t,e){if(V1(t=wi(t)))return T2("Unsupported field value:",e,t),S2(t,e);if(t instanceof $1)return function(r,s){if(!j1(s.cu))throw s.du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Pu&&e.cu!==4)throw e.du("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=gg(a,s.Eu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=wi(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return AL(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ye.fromDate(r);return{timestampValue:zf(s.serializer,i)}}if(r instanceof Ye){const i=new Ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zf(s.serializer,i)}}if(r instanceof pg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ki)return{bytesValue:f1(s.serializer,r._byteString)};if(r instanceof er){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:p1(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.du(`Unsupported field value: ${Qc(r)}`)}(t,e)}function S2(t,e){const n={};return BT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Fa(t,(r,s)=>{const i=gg(s,e.hu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function V1(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ye||t instanceof pg||t instanceof ki||t instanceof er||t instanceof $1)}function T2(t,e,n){if(!V1(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Qc(n);throw r==="an object"?e.du(t+" a custom object"):e.du(t+" "+r)}}const C2=new RegExp("[~\\*/\\[\\]]");function x2(t,e,n){if(e.search(C2)>=0)throw Gf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new M1(...e.split("."))._internalPath}catch{throw Gf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Gf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new B(L.INVALID_ARGUMENT,a+t+l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new er(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(yg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class I2 extends F1{data(){return super.data()}}function yg(t,e){return typeof e=="string"?x2(t,e):e instanceof M1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _g{}class vg extends _g{}function R2(t,e,...n){let r=[];e instanceof _g&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof wg).length,a=i.filter(l=>l instanceof Eg).length;if(o>1||o>0&&a>0)throw new B(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Eg extends vg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Eg(e,n,r)}_apply(e){const n=this._parse(e);return U1(e._query,n),new Fr(e.firestore,e.converter,$f(e._query,n))}_parse(e){const n=E2(e.firestore);return function(i,o,a,l,u,c,d){let f;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new B(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){bv(d,c);const p=[];for(const _ of d)p.push(Pv(l,i,_));f={arrayValue:{values:p}}}else f=Pv(l,i,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||bv(d,c),f=w2(a,o,d,c==="in"||c==="not-in");return je.create(u,c,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class wg extends _g{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wg(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:fn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)U1(o,l),o=$f(o,l)}(e._query,n),new Fr(e.firestore,e.converter,$f(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sg extends vg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sg(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new B(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new B(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new si(i,o);return function(u,c){if(Zm(u)===null){const d=Uc(u);d!==null&&z1(u,d,c.field)}}(s,a),a}(e._query,this._field,this._direction);return new Fr(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new zi(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function A2(t,e="asc"){const n=e,r=yg("orderBy",t);return Sg._create(r,n)}class Tg extends vg{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new Tg(e,n,r)}_apply(e){return new Fr(e.firestore,e.converter,Vu(e._query,this._limit,this._limitType))}}function k2(t){return h2("limit",t),Tg._create("limit",t,"F")}function Pv(t,e,n){if(typeof(n=wi(n))=="string"){if(n==="")throw new B(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!JT(e)&&n.indexOf("/")!==-1)throw new B(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Ie.fromString(n));if(!K.isDocumentKey(r))throw new B(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tv(t,new K(r))}if(n instanceof er)return tv(t,n._key);throw new B(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qc(n)}.`)}function bv(t,e){if(!Array.isArray(t)||t.length===0)throw new B(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function U1(t,e){if(e.isInequality()){const r=Uc(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new B(L.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=Zm(t);i!==null&&z1(t,s,i)}const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function z1(t,e,n){if(!n.isEqual(e))throw new B(L.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class P2{convertValue(e,n="none"){switch(gs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Me(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Fa(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new pg(Me(e.latitude),Me(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Qm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ga(e));default:return null}}convertTimestamp(e){const n=Pr(e);return new Ye(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ie.fromString(e);Ue(v1(r));const s=new ya(r.get(1),r.get(3)),i=new K(r.popFirst(5));return s.isEqual(n)||Kn(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class b2 extends F1{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jl(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(yg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Jl extends b2{data(e={}){return super.data(e)}}class O2{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Il(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jl(this._firestore,this._userDataWriter,r.key,r,new Il(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Jl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Jl(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Il(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:D2(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function D2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}class L2 extends P2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ki(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new er(this.firestore,null,n)}}function M2(t){t=Wf(t,Fr);const e=Wf(t.firestore,D1),n=y2(e),r=new L2(e);return N2(t._query),u2(n,t._query).then(s=>new O2(e,r,t,s))}(function(e,n=!0){(function(s){Ui=s})(Sm),Si(new hs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new D1(new GD(r.getProvider("auth-internal")),new XD(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new B(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ya(u.options.projectId,c)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),xn(Y_,"4.1.1",e),xn(Y_,"4.1.1","esm2017")})();const Ov="@firebase/database",Dv="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let B1="";function $2(t){B1=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),rt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ia(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Zn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new j2(e)}}catch{}return new V2},Zr=H1("localStorage"),Kf=H1("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new Em("@firebase/database"),F2=function(){let t=1;return function(){return t++}}(),q1=function(t){const e=kb(t),n=new Rb;n.update(e);const r=n.digest();return _m.encodeByteArray(r)},Ha=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ha.apply(null,r):typeof r=="object"?e+=rt(r):e+=r,e+=" "}return e};let is=null,Lv=!0;const U2=function(t,e){V(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(li.logLevel=ce.VERBOSE,is=li.log.bind(li),e&&Kf.set("logging_enabled",!0)):typeof t=="function"?is=t:(is=null,Kf.remove("logging_enabled"))},mt=function(...t){if(Lv===!0&&(Lv=!1,is===null&&Kf.get("logging_enabled")===!0&&U2(!0)),is){const e=Ha.apply(null,t);is(e)}},qa=function(t){return function(...e){mt(t,...e)}},Qf=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ha(...t);li.error(e)},Yn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ha(...t)}`;throw li.error(e),new Error(e)},Vt=function(...t){const e="FIREBASE WARNING: "+Ha(...t);li.warn(e)},z2=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Vt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},W1=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},B2=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Pi="[MIN_NAME]",ys="[MAX_NAME]",qi=function(t,e){if(t===e)return 0;if(t===Pi||e===ys)return-1;if(e===Pi||t===ys)return 1;{const n=Mv(t),r=Mv(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},H2=function(t,e){return t===e?0:t<e?-1:1},io=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+rt(e))},Cg=function(t){if(typeof t!="object"||t===null)return rt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=rt(e[r]),n+=":",n+=Cg(t[e[r]]);return n+="}",n},G1=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Zt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const K1=function(t){V(!W1(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(s?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},q2=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},W2=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},G2=new RegExp("^-?(0*)\\d{1,10}$"),K2=-2147483648,Q2=2147483647,Mv=function(t){if(G2.test(t)){const e=Number(t);if(e>=K2&&e<=Q2)return e}return null},Wa=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Vt("Exception was thrown by user callback.",n),e},Math.floor(0))}},Y2=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Oo=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Vt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Vt(e)}}class ui{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ui.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xg="5",Q1="v",Y1="s",X1="r",J1="f",Z1=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,eC="ls",tC="p",Yf="ac",nC="websocket",rC="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Zr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function Z2(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function iC(t,e,n){V(typeof e=="string","typeof type must == string"),V(typeof n=="object","typeof params must == object");let r;if(e===nC)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===rC)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);Z2(t)&&(n.ns=t.namespace);const s=[];return Zt(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this.counters_={}}incrementCounter(e,n=1){Zn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return db(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th={},nh={};function Ig(t){const e=t.toString();return th[e]||(th[e]=new e$),th[e]}function t$(t,e){const n=t.toString();return nh[n]||(nh[n]=e()),nh[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&Wa(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="start",r$="close",s$="pLPCommand",i$="pRTLPCB",oC="id",aC="pw",lC="ser",o$="cb",a$="seg",l$="ts",u$="d",c$="dframe",uC=1870,cC=30,d$=uC-cC,h$=25e3,f$=3e4;class Ks{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=qa(e),this.stats_=Ig(n),this.urlFn=l=>(this.appCheckToken&&(l[Yf]=this.appCheckToken),iC(n,rC,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new n$(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(f$)),B2(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ng((...i)=>{const[o,a,l,u,c]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$v)this.id=a,this.password=l;else if(o===r$)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[$v]="t",r[lC]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[o$]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Q1]=xg,this.transportSessionId&&(r[Y1]=this.transportSessionId),this.lastSessionId&&(r[eC]=this.lastSessionId),this.applicationId&&(r[tC]=this.applicationId),this.appCheckToken&&(r[Yf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Z1.test(location.hostname)&&(r[X1]=J1);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ks.forceAllow_=!0}static forceDisallow(){Ks.forceDisallow_=!0}static isAvailable(){return Ks.forceAllow_?!0:!Ks.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!q2()&&!W2()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=TS(n),s=G1(r,d$);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[c$]="t",r[oC]=e,r[aC]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=rt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ng{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=F2(),window[s$+this.uniqueCallbackIdentifier]=e,window[i$+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ng.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){mt("frame writing exception"),a.stack&&mt(a.stack),mt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[oC]=this.myID,e[aC]=this.myPW,e[lC]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+cC+r.length<=uC;){const o=this.pendingSegs.shift();r=r+"&"+a$+s+"="+o.seg+"&"+l$+s+"="+o.ts+"&"+u$+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(h$)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{mt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=16384,m$=45e3;let zu=null;typeof MozWebSocket<"u"?zu=MozWebSocket:typeof WebSocket<"u"&&(zu=WebSocket);class sn{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=qa(this.connId),this.stats_=Ig(n),this.connURL=sn.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[Q1]=xg,typeof location<"u"&&location.hostname&&Z1.test(location.hostname)&&(o[X1]=J1),n&&(o[Y1]=n),r&&(o[eC]=r),s&&(o[Yf]=s),i&&(o[tC]=i),iC(e,nC,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zr.set("previous_websocket_failure",!0);try{let r;kS(),this.mySock=new zu(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){sn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&zu!==null&&!sn.forceDisallow_}static previouslyFailed(){return Zr.isInMemoryStorage||Zr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ia(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(V(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=rt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=G1(n,p$);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(m$))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}sn.responsesRequiredToBeHealthy=2;sn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ks,sn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=sn&&sn.isAvailable();let r=n&&!sn.previouslyFailed();if(e.webSocketOnly&&(n||Vt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[sn];else{const s=this.transports_=[];for(const i of va.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);va.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}va.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g$=6e4,y$=5e3,_$=10*1024,v$=100*1024,rh="t",jv="d",E$="s",Vv="r",w$="e",Fv="o",Uv="a",zv="n",Bv="p",S$="h";class T${constructor(e,n,r,s,i,o,a,l,u,c){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=qa("c:"+this.id+":"),this.transportManager_=new va(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Oo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>v$?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_$?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(rh in e){const n=e[rh];n===Uv?this.upgradeIfSecondaryHealthy_():n===Vv?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Fv&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=io("t",e),r=io("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Bv,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Uv,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:zv,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=io("t",e),r=io("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=io(rh,e);if(jv in e){const r=e[jv];if(n===S$){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===zv){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===E$?this.onConnectionShutdown_(r):n===Vv?this.onReset_(r):n===w$?Qf("Server Error: "+r):n===Fv?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qf("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),xg!==r&&Vt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Oo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(g$))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Oo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(y$))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Bv,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.allowedEvents_=e,this.listeners_={},V(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){V(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends hC{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!AS()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Bu}getInitialEvent(e){return V(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=32,qv=768;class Te{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function ge(){return new Te("")}function re(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Or(t){return t.pieces_.length-t.pieceNum_}function Ee(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Te(t.pieces_,e)}function fC(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function C$(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function pC(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function mC(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Te(e,0)}function Ge(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Te)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Te(n,0)}function te(t){return t.pieceNum_>=t.pieces_.length}function Kt(t,e){const n=re(t),r=re(e);if(n===null)return e;if(n===r)return Kt(Ee(t),Ee(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function gC(t,e){if(Or(t)!==Or(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function on(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Or(t)>Or(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class x${constructor(e,n){this.errorPrefix_=n,this.parts_=pC(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Cc(this.parts_[r]);yC(this)}}function I$(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Cc(e),yC(t)}function N$(t){const e=t.parts_.pop();t.byteLength_-=Cc(e),t.parts_.length>0&&(t.byteLength_-=1)}function yC(t){if(t.byteLength_>qv)throw new Error(t.errorPrefix_+"has a key path longer than "+qv+" bytes ("+t.byteLength_+").");if(t.parts_.length>Hv)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Hv+") or object contains a cycle "+Wr(t))}function Wr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rg extends hC{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Rg}getInitialEvent(e){return V(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oo=1e3,R$=60*5*1e3,Wv=30*1e3,A$=1.3,k$=3e4,P$="server_kill",Gv=3;class zn extends dC{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=zn.nextPersistentConnectionId_++,this.log_=qa("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=oo,this.maxReconnectDelay_=R$,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!kS())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Rg.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Bu.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(rt(i)),V(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new vm,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),V(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,u=a.s;zn.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Zn(e,"w")){const r=Ei(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Vt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Ib(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Wv)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=xb(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),V(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+rt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Qf("Unrecognized action received from server: "+rt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){V(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>k$&&(this.reconnectDelay_=oo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*A$)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+zn.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){V(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?mt("getToken() completed but was canceled"):(mt("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new T$(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{Vt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(P$)},i))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Vt(d),l())}}}interrupt(e){mt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],N_(this.interruptReasons_)&&(this.reconnectDelay_=oo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Cg(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Te(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){mt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Gv&&(this.reconnectDelay_=Wv,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){mt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Gv&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+B1.replace(/\./g,"-")]=1,AS()?e["framework.cordova"]=1:vb()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Bu.getInstance().currentlyOnline();return N_(this.interruptReasons_)&&e}}zn.nextPersistentConnectionId_=0;zn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new se(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new se(Pi,e),s=new se(Pi,n);return this.compare(r,s)!==0}minPost(){return se.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nl;class _C extends Yc{static get __EMPTY_NODE(){return Nl}static set __EMPTY_NODE(e){Nl=e}compare(e,n){return qi(e.name,n.name)}isDefinedOn(e){throw ji("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return se.MIN}maxPost(){return new se(ys,Nl)}makePost(e,n){return V(typeof e=="string","KeyIndex indexValue must always be a string."),new se(e,Nl)}toString(){return".key"}}const ci=new _C;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class We{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??We.RED,this.left=s??Pt.EMPTY_NODE,this.right=i??Pt.EMPTY_NODE}copy(e,n,r,s,i){return new We(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Pt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class b${copy(e,n,r,s,i){return this}insert(e,n,r){return new We(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Pt{constructor(e,n=Pt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(e){return new Pt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,We.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Rl(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Rl(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Rl(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Rl(this.root_,null,this.comparator_,!0,e)}}Pt.EMPTY_NODE=new b$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t,e){return qi(t.name,e.name)}function Ag(t,e){return qi(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf;function D$(t){Xf=t}const vC=function(t){return typeof t=="number"?"number:"+K1(t):"string:"+t},EC=function(t){if(t.isLeafNode()){const e=t.val();V(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Zn(e,".sv"),"Priority must be a string or number.")}else V(t===Xf||t.isEmpty(),"priority of unexpected type.");V(t===Xf||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kv;class Be{constructor(e,n=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,V(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),EC(this.priorityNode_)}static set __childrenNodeConstructor(e){Kv=e}static get __childrenNodeConstructor(){return Kv}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Be(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return te(e)?this:re(e)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=re(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(V(r!==".priority"||Or(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ee(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+vC(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=K1(this.value_):e+=this.value_,this.lazyHash_=q1(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Be.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Be.__childrenNodeConstructor?-1:(V(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Be.VALUE_TYPE_ORDER.indexOf(n),i=Be.VALUE_TYPE_ORDER.indexOf(r);return V(s>=0,"Unknown leaf type: "+n),V(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wC,SC;function L$(t){wC=t}function M$(t){SC=t}class $$ extends Yc{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?qi(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return se.MIN}maxPost(){return new se(ys,new Be("[PRIORITY-POST]",SC))}makePost(e,n){const r=wC(e);return new se(n,new Be("[PRIORITY-POST]",r))}toString(){return".priority"}}const yt=new $$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j$=Math.log(2);class V${constructor(e){const n=i=>parseInt(Math.log(i)/j$,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Hu=function(t,e,n,r){t.sort(e);const s=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=t[l],f=n?n(d):d,new We(f,d.node,We.BLACK,null,null);{const p=parseInt(c/2,10)+l,_=s(l,p),g=s(p+1,u);return d=t[p],f=n?n(d):d,new We(f,d.node,We.BLACK,_,g)}},i=function(l){let u=null,c=null,d=t.length;const f=function(_,g){const E=d-_,m=d;d-=_;const y=s(E+1,m),v=t[E],w=n?n(v):v;p(new We(w,v.node,g,null,y))},p=function(_){u?(u.left=_,u=_):(c=_,u=_)};for(let _=0;_<l.count;++_){const g=l.nextBitIsOne(),E=Math.pow(2,l.count-(_+1));g?f(E,We.BLACK):(f(E,We.BLACK),f(E,We.RED))}return c},o=new V$(t.length),a=i(o);return new Pt(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sh;const bs={};class Vn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return V(bs&&yt,"ChildrenNode.ts has not been loaded"),sh=sh||new Vn({".priority":bs},{".priority":yt}),sh}get(e){const n=Ei(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pt?n:null}hasIndex(e){return Zn(this.indexSet_,e.toString())}addIndex(e,n){V(e!==ci,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(se.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Hu(r,e.getCompare()):a=bs;const l=e.toString(),u=Object.assign({},this.indexSet_);u[l]=e;const c=Object.assign({},this.indexes_);return c[l]=a,new Vn(c,u)}addToIndexes(e,n){const r=Ru(this.indexes_,(s,i)=>{const o=Ei(this.indexSet_,i);if(V(o,"Missing index implementation for "+i),s===bs)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(se.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&a.push(u),u=l.getNext();return a.push(e),Hu(a,o.getCompare())}else return bs;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new se(e.name,a))),l.insert(e,e.node)}});return new Vn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ru(this.indexes_,s=>{if(s===bs)return s;{const i=n.get(e.name);return i?s.remove(new se(e.name,i)):s}});return new Vn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ao;class fe{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&EC(this.priorityNode_),this.children_.isEmpty()&&V(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ao||(ao=new fe(new Pt(Ag),null,Vn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ao}updatePriority(e){return this.children_.isEmpty()?this:new fe(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ao:n}}getChild(e){const n=re(e);return n===null?this:this.getImmediateChild(n).getChild(Ee(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(V(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new se(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?ao:this.priorityNode_;return new fe(s,o,i)}}updateChild(e,n){const r=re(e);if(r===null)return n;{V(re(e)!==".priority"||Or(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ee(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(yt,(o,a)=>{n[o]=a.val(e),r++,i&&fe.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+vC(this.getPriority().val())+":"),this.forEachChild(yt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":q1(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new se(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new se(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new se(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,se.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,se.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Ga?-1:0}withIndex(e){if(e===ci||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new fe(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===ci||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(yt),s=n.getIterator(yt);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===ci?null:this.indexMap_.get(e.toString())}}fe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class F$ extends fe{constructor(){super(new Pt(Ag),fe.EMPTY_NODE,Vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return fe.EMPTY_NODE}isEmpty(){return!1}}const Ga=new F$;Object.defineProperties(se,{MIN:{value:new se(Pi,fe.EMPTY_NODE)},MAX:{value:new se(ys,Ga)}});_C.__EMPTY_NODE=fe.EMPTY_NODE;Be.__childrenNodeConstructor=fe;D$(Ga);M$(Ga);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U$=!0;function gt(t,e=null){if(t===null)return fe.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),V(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Be(n,gt(e))}if(!(t instanceof Array)&&U$){const n=[];let r=!1;if(Zt(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=gt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new se(o,l)))}}),n.length===0)return fe.EMPTY_NODE;const i=Hu(n,O$,o=>o.name,Ag);if(r){const o=Hu(n,yt.getCompare());return new fe(i,gt(e),new Vn({".priority":o},{".priority":yt}))}else return new fe(i,gt(e),Vn.Default)}else{let n=fe.EMPTY_NODE;return Zt(t,(r,s)=>{if(Zn(t,r)&&r.substring(0,1)!=="."){const i=gt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(gt(e))}}L$(gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z$ extends Yc{constructor(e){super(),this.indexPath_=e,V(!te(e)&&re(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?qi(e.name,n.name):i}makePost(e,n){const r=gt(e),s=fe.EMPTY_NODE.updateChild(this.indexPath_,r);return new se(n,s)}maxPost(){const e=fe.EMPTY_NODE.updateChild(this.indexPath_,Ga);return new se(ys,e)}toString(){return pC(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B$ extends Yc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?qi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return se.MIN}maxPost(){return se.MAX}makePost(e,n){const r=gt(e);return new se(n,r)}toString(){return".value"}}const H$=new B$;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(t){return{type:"value",snapshotNode:t}}function W$(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function G$(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Qv(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function K$(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=yt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return V(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return V(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pi}hasEnd(){return this.endSet_}getIndexEndValue(){return V(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return V(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ys}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return V(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===yt}copy(){const e=new kg;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Yv(t){const e={};if(t.isDefault())return e;let n;if(t.index_===yt?n="$priority":t.index_===H$?n="$value":t.index_===ci?n="$key":(V(t.index_ instanceof z$,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=rt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=rt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+rt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=rt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+rt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Xv(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==yt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu extends dC{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=qa("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(V(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=qu.getListenId_(e,r),a={};this.listens_[o]=a;const l=Yv(e._queryParams);this.restRequest_(i+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(i,d,!1,r),Ei(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",s(f,null)}})}unlisten(e,n){const r=qu.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Yv(e._queryParams),r=e._path.toString(),s=new vm;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Nb(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ia(a.responseText)}catch{Vt("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Vt("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q${constructor(){this.rootNode_=fe.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wu(){return{value:null,children:new Map}}function TC(t,e,n){if(te(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=re(e);t.children.has(r)||t.children.set(r,Wu());const s=t.children.get(r);e=Ee(e),TC(s,e,n)}}function Jf(t,e,n){t.value!==null?n(e,t.value):Y$(t,(r,s)=>{const i=new Te(e.toString()+"/"+r);Jf(s,i,n)})}function Y$(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Zt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv=10*1e3,J$=30*1e3,Z$=5*60*1e3;class ej{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new X$(e);const r=Jv+(J$-Jv)*Math.random();Oo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Zt(e,(s,i)=>{i>0&&Zn(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Oo(this.reportStats_.bind(this),Math.floor(Math.random()*2*Z$))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Sn||(Sn={}));function CC(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xC(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function IC(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Sn.ACK_USER_WRITE,this.source=CC()}operationForChild(e){if(te(this.path)){if(this.affectedTree.value!=null)return V(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Te(e));return new Gu(ge(),n,this.revert)}}else return V(re(this.path)===e,"operationForChild called for unrelated child."),new Gu(Ee(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Sn.OVERWRITE}operationForChild(e){return te(this.path)?new _s(this.source,ge(),this.snap.getImmediateChild(e)):new _s(this.source,Ee(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Sn.MERGE}operationForChild(e){if(te(this.path)){const n=this.children.subtree(new Te(e));return n.isEmpty()?null:n.value?new _s(this.source,ge(),n.value):new Ea(this.source,ge(),n)}else return V(re(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ea(this.source,Ee(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(te(e))return this.isFullyInitialized()&&!this.filtered_;const n=re(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function tj(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(K$(o.childName,o.snapshotNode))}),lo(t,s,"child_removed",e,r,n),lo(t,s,"child_added",e,r,n),lo(t,s,"child_moved",i,r,n),lo(t,s,"child_changed",e,r,n),lo(t,s,"value",e,r,n),s}function lo(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>rj(t,a,l)),o.forEach(a=>{const l=nj(t,a,i);s.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(l,t.query_))})})}function nj(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function rj(t,e,n){if(e.childName==null||n.childName==null)throw ji("Should only compare child_ events.");const r=new se(e.childName,e.snapshotNode),s=new se(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(t,e){return{eventCache:t,serverCache:e}}function Do(t,e,n,r){return NC(new Pg(e,n,r),t.serverCache)}function RC(t,e,n,r){return NC(t.eventCache,new Pg(e,n,r))}function Zf(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function vs(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih;const sj=()=>(ih||(ih=new Pt(H2)),ih);class ve{constructor(e,n=sj()){this.value=e,this.children=n}static fromObject(e){let n=new ve(null);return Zt(e,(r,s)=>{n=n.set(new Te(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ge(),value:this.value};if(te(e))return null;{const r=re(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Ee(e),n);return i!=null?{path:Ge(new Te(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(te(e))return this;{const n=re(e),r=this.children.get(n);return r!==null?r.subtree(Ee(e)):new ve(null)}}set(e,n){if(te(e))return new ve(n,this.children);{const r=re(e),i=(this.children.get(r)||new ve(null)).set(Ee(e),n),o=this.children.insert(r,i);return new ve(this.value,o)}}remove(e){if(te(e))return this.children.isEmpty()?new ve(null):new ve(null,this.children);{const n=re(e),r=this.children.get(n);if(r){const s=r.remove(Ee(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ve(null):new ve(this.value,i)}else return this}}get(e){if(te(e))return this.value;{const n=re(e),r=this.children.get(n);return r?r.get(Ee(e)):null}}setTree(e,n){if(te(e))return n;{const r=re(e),i=(this.children.get(r)||new ve(null)).setTree(Ee(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ve(this.value,o)}}fold(e){return this.fold_(ge(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(Ge(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ge(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(te(e))return null;{const i=re(e),o=this.children.get(i);return o?o.findOnPath_(Ee(e),Ge(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ge(),n)}foreachOnPath_(e,n,r){if(te(e))return this;{this.value&&r(n,this.value);const s=re(e),i=this.children.get(s);return i?i.foreachOnPath_(Ee(e),Ge(n,s),r):new ve(null)}}foreach(e){this.foreach_(ge(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(Ge(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.writeTree_=e}static empty(){return new cn(new ve(null))}}function Lo(t,e,n){if(te(e))return new cn(new ve(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Kt(s,e);return i=i.updateChild(o,n),new cn(t.writeTree_.set(s,i))}else{const s=new ve(n),i=t.writeTree_.setTree(e,s);return new cn(i)}}}function Zv(t,e,n){let r=t;return Zt(n,(s,i)=>{r=Lo(r,Ge(e,s),i)}),r}function e0(t,e){if(te(e))return cn.empty();{const n=t.writeTree_.setTree(e,new ve(null));return new cn(n)}}function ep(t,e){return Ns(t,e)!=null}function Ns(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Kt(n.path,e)):null}function t0(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(yt,(r,s)=>{e.push(new se(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new se(r,s.value))}),e}function Nr(t,e){if(te(e))return t;{const n=Ns(t,e);return n!=null?new cn(new ve(n)):new cn(t.writeTree_.subtree(e))}}function tp(t){return t.writeTree_.isEmpty()}function bi(t,e){return AC(ge(),t.writeTree_,e)}function AC(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(V(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=AC(Ge(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ge(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(t,e){return LC(e,t)}function ij(t,e,n,r,s){V(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Lo(t.visibleWrites,e,n)),t.lastWriteId=r}function oj(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function aj(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);V(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&lj(a,r.path)?s=!1:on(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return uj(t),!0;if(r.snap)t.visibleWrites=e0(t.visibleWrites,r.path);else{const a=r.children;Zt(a,l=>{t.visibleWrites=e0(t.visibleWrites,Ge(r.path,l))})}return!0}else return!1}function lj(t,e){if(t.snap)return on(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&on(Ge(t.path,n),e))return!0;return!1}function uj(t){t.visibleWrites=PC(t.allWrites,cj,ge()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function cj(t){return t.visible}function PC(t,e,n){let r=cn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)on(n,o)?(a=Kt(n,o),r=Lo(r,a,i.snap)):on(o,n)&&(a=Kt(o,n),r=Lo(r,ge(),i.snap.getChild(a)));else if(i.children){if(on(n,o))a=Kt(n,o),r=Zv(r,a,i.children);else if(on(o,n))if(a=Kt(o,n),te(a))r=Zv(r,ge(),i.children);else{const l=Ei(i.children,re(a));if(l){const u=l.getChild(Ee(a));r=Lo(r,ge(),u)}}}else throw ji("WriteRecord should have .snap or .children")}}return r}function bC(t,e,n,r,s){if(!r&&!s){const i=Ns(t.visibleWrites,e);if(i!=null)return i;{const o=Nr(t.visibleWrites,e);if(tp(o))return n;if(n==null&&!ep(o,ge()))return null;{const a=n||fe.EMPTY_NODE;return bi(o,a)}}}else{const i=Nr(t.visibleWrites,e);if(!s&&tp(i))return n;if(!s&&n==null&&!ep(i,ge()))return null;{const o=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(on(u.path,e)||on(e,u.path))},a=PC(t.allWrites,o,e),l=n||fe.EMPTY_NODE;return bi(a,l)}}}function dj(t,e,n){let r=fe.EMPTY_NODE;const s=Ns(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(yt,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Nr(t.visibleWrites,e);return n.forEachChild(yt,(o,a)=>{const l=bi(Nr(i,new Te(o)),a);r=r.updateImmediateChild(o,l)}),t0(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Nr(t.visibleWrites,e);return t0(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function hj(t,e,n,r,s){V(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=Ge(e,n);if(ep(t.visibleWrites,i))return null;{const o=Nr(t.visibleWrites,i);return tp(o)?s.getChild(n):bi(o,s.getChild(n))}}function fj(t,e,n,r){const s=Ge(e,n),i=Ns(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Nr(t.visibleWrites,s);return bi(o,r.getNode().getImmediateChild(n))}else return null}function pj(t,e){return Ns(t.visibleWrites,e)}function mj(t,e,n,r,s,i,o){let a;const l=Nr(t.visibleWrites,e),u=Ns(l,ge());if(u!=null)a=u;else if(n!=null)a=bi(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<s;)d(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function gj(){return{visibleWrites:cn.empty(),allWrites:[],lastWriteId:-1}}function np(t,e,n,r){return bC(t.writeTree,t.treePath,e,n,r)}function OC(t,e){return dj(t.writeTree,t.treePath,e)}function n0(t,e,n,r){return hj(t.writeTree,t.treePath,e,n,r)}function Ku(t,e){return pj(t.writeTree,Ge(t.treePath,e))}function yj(t,e,n,r,s,i){return mj(t.writeTree,t.treePath,e,n,r,s,i)}function bg(t,e,n){return fj(t.writeTree,t.treePath,e,n)}function DC(t,e){return LC(Ge(t.treePath,e),t.writeTree)}function LC(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;V(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),V(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,Qv(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,G$(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,W$(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,Qv(r,e.snapshotNode,s.oldSnap));else throw ji("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vj{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const MC=new vj;class Og{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new Pg(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return bg(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:vs(this.viewCache_),i=yj(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function Ej(t,e){V(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),V(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function wj(t,e,n,r,s){const i=new _j;let o,a;if(n.type===Sn.OVERWRITE){const u=n;u.source.fromUser?o=rp(t,e,u.path,u.snap,r,s,i):(V(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!te(u.path),o=Qu(t,e,u.path,u.snap,r,s,a,i))}else if(n.type===Sn.MERGE){const u=n;u.source.fromUser?o=Tj(t,e,u.path,u.children,r,s,i):(V(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=sp(t,e,u.path,u.children,r,s,a,i))}else if(n.type===Sn.ACK_USER_WRITE){const u=n;u.revert?o=Ij(t,e,u.path,r,s,i):o=Cj(t,e,u.path,u.affectedTree,r,s,i)}else if(n.type===Sn.LISTEN_COMPLETE)o=xj(t,e,n.path,r,i);else throw ji("Unknown operation type: "+n.type);const l=i.getChanges();return Sj(e,o,l),{viewCache:o,changes:l}}function Sj(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Zf(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(q$(Zf(e)))}}function $C(t,e,n,r,s,i){const o=e.eventCache;if(Ku(r,n)!=null)return e;{let a,l;if(te(n))if(V(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=vs(e),c=u instanceof fe?u:fe.EMPTY_NODE,d=OC(r,c);a=t.filter.updateFullNode(e.eventCache.getNode(),d,i)}else{const u=np(r,vs(e));a=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=re(n);if(u===".priority"){V(Or(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=e.serverCache.getNode();const d=n0(r,n,c,l);d!=null?a=t.filter.updatePriority(c,d):a=o.getNode()}else{const c=Ee(n);let d;if(o.isCompleteForChild(u)){l=e.serverCache.getNode();const f=n0(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=bg(r,u,e.serverCache);d!=null?a=t.filter.updateChild(o.getNode(),u,d,c,s,i):a=o.getNode()}}return Do(e,a,o.isFullyInitialized()||te(n),t.filter.filtersNodes())}}function Qu(t,e,n,r,s,i,o,a){const l=e.serverCache;let u;const c=o?t.filter:t.filter.getIndexedFilter();if(te(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=re(n);if(!l.isCompleteForPath(n)&&Or(n)>1)return e;const _=Ee(n),E=l.getNode().getImmediateChild(p).updateChild(_,r);p===".priority"?u=c.updatePriority(l.getNode(),E):u=c.updateChild(l.getNode(),p,E,_,MC,null)}const d=RC(e,u,l.isFullyInitialized()||te(n),c.filtersNodes()),f=new Og(s,d,i);return $C(t,d,n,s,f,a)}function rp(t,e,n,r,s,i,o){const a=e.eventCache;let l,u;const c=new Og(s,e,i);if(te(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Do(e,u,!0,t.filter.filtersNodes());else{const d=re(n);if(d===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),l=Do(e,u,a.isFullyInitialized(),a.isFiltered());else{const f=Ee(n),p=a.getNode().getImmediateChild(d);let _;if(te(f))_=r;else{const g=c.getCompleteChild(d);g!=null?fC(f)===".priority"&&g.getChild(mC(f)).isEmpty()?_=g:_=g.updateChild(f,r):_=fe.EMPTY_NODE}if(p.equals(_))l=e;else{const g=t.filter.updateChild(a.getNode(),d,_,f,c,o);l=Do(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function r0(t,e){return t.eventCache.isCompleteForChild(e)}function Tj(t,e,n,r,s,i,o){let a=e;return r.foreach((l,u)=>{const c=Ge(n,l);r0(e,re(c))&&(a=rp(t,a,c,u,s,i,o))}),r.foreach((l,u)=>{const c=Ge(n,l);r0(e,re(c))||(a=rp(t,a,c,u,s,i,o))}),a}function s0(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function sp(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;te(n)?u=r:u=new ve(null).setTree(n,r);const c=e.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const p=e.serverCache.getNode().getImmediateChild(d),_=s0(t,p,f);l=Qu(t,l,new Te(d),_,s,i,o,a)}}),u.children.inorderTraversal((d,f)=>{const p=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!p){const _=e.serverCache.getNode().getImmediateChild(d),g=s0(t,_,f);l=Qu(t,l,new Te(d),g,s,i,o,a)}}),l}function Cj(t,e,n,r,s,i,o){if(Ku(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(te(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Qu(t,e,n,l.getNode().getChild(n),s,i,a,o);if(te(n)){let u=new ve(null);return l.getNode().forEachChild(ci,(c,d)=>{u=u.set(new Te(c),d)}),sp(t,e,n,u,s,i,a,o)}else return e}else{let u=new ve(null);return r.foreach((c,d)=>{const f=Ge(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),sp(t,e,n,u,s,i,a,o)}}function xj(t,e,n,r,s){const i=e.serverCache,o=RC(e,i.getNode(),i.isFullyInitialized()||te(n),i.isFiltered());return $C(t,o,n,r,MC,s)}function Ij(t,e,n,r,s,i){let o;if(Ku(r,n)!=null)return e;{const a=new Og(r,e,s),l=e.eventCache.getNode();let u;if(te(n)||re(n)===".priority"){let c;if(e.serverCache.isFullyInitialized())c=np(r,vs(e));else{const d=e.serverCache.getNode();V(d instanceof fe,"serverChildren would be complete if leaf node"),c=OC(r,d)}c=c,u=t.filter.updateFullNode(l,c,i)}else{const c=re(n);let d=bg(r,c,e.serverCache);d==null&&e.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=t.filter.updateChild(l,c,d,Ee(n),a,i):e.eventCache.getNode().hasChild(c)?u=t.filter.updateChild(l,c,fe.EMPTY_NODE,Ee(n),a,i):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=np(r,vs(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,i)))}return o=e.serverCache.isFullyInitialized()||Ku(r,ge())!=null,Do(e,u,o,t.filter.filtersNodes())}}function Nj(t,e){const n=vs(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!te(e)&&!n.getImmediateChild(re(e)).isEmpty())?n.getChild(e):null}function i0(t,e,n,r){e.type===Sn.MERGE&&e.source.queryId!==null&&(V(vs(t.viewCache_),"We should always have a full cache before handling merges"),V(Zf(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=wj(t.processor_,s,e,n,r);return Ej(t.processor_,i.viewCache),V(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Rj(t,i.changes,i.viewCache.eventCache.getNode(),null)}function Rj(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return tj(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let o0;function Aj(t){V(!o0,"__referenceConstructor has already been defined"),o0=t}function Dg(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return V(i!=null,"SyncTree gave us an op for an invalid query."),i0(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(i0(o,e,n,r));return i}}function Lg(t,e){let n=null;for(const r of t.views.values())n=n||Nj(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let a0;function kj(t){V(!a0,"__referenceConstructor has already been defined"),a0=t}class l0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ve(null),this.pendingWriteTree_=gj(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Pj(t,e,n,r,s){return ij(t.pendingWriteTree_,e,n,r,s),s?Jc(t,new _s(CC(),e,n)):[]}function Qs(t,e,n=!1){const r=oj(t.pendingWriteTree_,e);if(aj(t.pendingWriteTree_,e)){let i=new ve(null);return r.snap!=null?i=i.set(ge(),!0):Zt(r.children,o=>{i=i.set(new Te(o),!0)}),Jc(t,new Gu(r.path,i,n))}else return[]}function Xc(t,e,n){return Jc(t,new _s(xC(),e,n))}function bj(t,e,n){const r=ve.fromObject(n);return Jc(t,new Ea(xC(),e,r))}function Oj(t,e,n,r){const s=UC(t,r);if(s!=null){const i=zC(s),o=i.path,a=i.queryId,l=Kt(o,e),u=new _s(IC(a),l,n);return BC(t,o,u)}else return[]}function Dj(t,e,n,r){const s=UC(t,r);if(s){const i=zC(s),o=i.path,a=i.queryId,l=Kt(o,e),u=ve.fromObject(n),c=new Ea(IC(a),l,u);return BC(t,o,c)}else return[]}function jC(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Kt(o,e),u=Lg(a,l);if(u)return u});return bC(s,e,i,n,!0)}function Jc(t,e){return VC(e,t.syncPointTree_,null,kC(t.pendingWriteTree_,ge()))}function VC(t,e,n,r){if(te(t.path))return FC(t,e,n,r);{const s=e.get(ge());n==null&&s!=null&&(n=Lg(s,ge()));let i=[];const o=re(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=DC(r,o);i=i.concat(VC(a,l,u,c))}return s&&(i=i.concat(Dg(s,t,r,n))),i}}function FC(t,e,n,r){const s=e.get(ge());n==null&&s!=null&&(n=Lg(s,ge()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=DC(r,o),c=t.operationForChild(o);c&&(i=i.concat(FC(c,a,l,u)))}),s&&(i=i.concat(Dg(s,t,r,n))),i}function UC(t,e){return t.tagToQueryMap.get(e)}function zC(t){const e=t.indexOf("$");return V(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Te(t.substr(0,e))}}function BC(t,e,n){const r=t.syncPointTree_.get(e);V(r,"Missing sync point for query tag that we're tracking");const s=kC(t.pendingWriteTree_,e);return Dg(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Mg(n)}node(){return this.node_}}class $g{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Ge(this.path_,e);return new $g(this.syncTree_,n)}node(){return jC(this.syncTree_,this.path_)}}const Lj=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},u0=function(t,e,n){if(!t||typeof t!="object")return t;if(V(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return Mj(t[".sv"],e,n);if(typeof t[".sv"]=="object")return $j(t[".sv"],e);V(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},Mj=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:V(!1,"Unexpected server value: "+t)}},$j=function(t,e,n){t.hasOwnProperty("increment")||V(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&V(!1,"Unexpected increment value: "+r);const s=e.node();if(V(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},jj=function(t,e,n,r){return jg(e,new $g(n,t),r)},Vj=function(t,e,n){return jg(t,new Mg(e),n)};function jg(t,e,n){const r=t.getPriority().val(),s=u0(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=u0(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Be(a,gt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Be(s))),o.forEachChild(yt,(a,l)=>{const u=jg(l,e.getImmediateChild(a),n);u!==l&&(i=i.updateImmediateChild(a,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Fg(t,e){let n=e instanceof Te?e:new Te(e),r=t,s=re(n);for(;s!==null;){const i=Ei(r.node.children,s)||{children:{},childCount:0};r=new Vg(s,r,i),n=Ee(n),s=re(n)}return r}function Wi(t){return t.node.value}function HC(t,e){t.node.value=e,ip(t)}function qC(t){return t.node.childCount>0}function Fj(t){return Wi(t)===void 0&&!qC(t)}function Zc(t,e){Zt(t.node.children,(n,r)=>{e(new Vg(n,t,r))})}function WC(t,e,n,r){n&&!r&&e(t),Zc(t,s=>{WC(s,e,!0,r)}),n&&r&&e(t)}function Uj(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Ka(t){return new Te(t.parent===null?t.name:Ka(t.parent)+"/"+t.name)}function ip(t){t.parent!==null&&zj(t.parent,t.name,t)}function zj(t,e,n){const r=Fj(n),s=Zn(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,ip(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,ip(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bj=/[\[\].#$\/\u0000-\u001F\u007F]/,Hj=/[\[\].#$\u0000-\u001F\u007F]/,oh=10*1024*1024,GC=function(t){return typeof t=="string"&&t.length!==0&&!Bj.test(t)},qj=function(t){return typeof t=="string"&&t.length!==0&&!Hj.test(t)},Wj=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),qj(t)},KC=function(t,e,n){const r=n instanceof Te?new x$(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Wr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Wr(r)+" with contents = "+e.toString());if(W1(e))throw new Error(t+"contains "+e.toString()+" "+Wr(r));if(typeof e=="string"&&e.length>oh/3&&Cc(e)>oh)throw new Error(t+"contains a string greater than "+oh+" utf8 bytes "+Wr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Zt(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!GC(o)))throw new Error(t+" contains an invalid key ("+o+") "+Wr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);I$(r,o),KC(t,a,r),N$(r)}),s&&i)throw new Error(t+' contains ".value" child '+Wr(r)+" in addition to actual children.")}},Gj=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!GC(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!Wj(n))throw new Error(Ab(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kj{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qj(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!gC(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Rs(t,e,n){Qj(t,n),Yj(t,r=>on(r,e)||on(e,r))}function Yj(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(Xj(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Xj(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();is&&mt("event: "+n.toString()),Wa(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jj="repo_interrupt",Zj=25;class eV{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kj,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wu(),this.transactionQueueTree_=new Vg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function tV(t,e,n){if(t.stats_=Ig(t.repoInfo_),t.forceRestClient_||Y2())t.server_=new qu(t.repoInfo_,(r,s,i,o)=>{c0(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>d0(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{rt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new zn(t.repoInfo_,e,(r,s,i,o)=>{c0(t,r,s,i,o)},r=>{d0(t,r)},r=>{rV(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=t$(t.repoInfo_,()=>new ej(t.stats_,t.server_)),t.infoData_=new Q$,t.infoSyncTree_=new l0({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Xc(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Ug(t,"connected",!1),t.serverSyncTree_=new l0({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const u=o(a,l);Rs(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function nV(t){const n=t.infoData_.getNode(new Te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function QC(t){return Lj({timestamp:nV(t)})}function c0(t,e,n,r,s){t.dataUpdateCount++;const i=new Te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=Ru(n,u=>gt(u));o=Dj(t.serverSyncTree_,i,l,s)}else{const l=gt(n);o=Oj(t.serverSyncTree_,i,l,s)}else if(r){const l=Ru(n,u=>gt(u));o=bj(t.serverSyncTree_,i,l)}else{const l=gt(n);o=Xc(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=Bg(t,i)),Rs(t.eventQueue_,a,o)}function d0(t,e){Ug(t,"connected",e),e===!1&&iV(t)}function rV(t,e){Zt(e,(n,r)=>{Ug(t,n,r)})}function Ug(t,e,n){const r=new Te("/.info/"+e),s=gt(n);t.infoData_.updateSnapshot(r,s);const i=Xc(t.infoSyncTree_,r,s);Rs(t.eventQueue_,r,i)}function sV(t){return t.nextWriteId_++}function iV(t){YC(t,"onDisconnectEvents");const e=QC(t),n=Wu();Jf(t.onDisconnect_,ge(),(s,i)=>{const o=jj(s,i,t.serverSyncTree_,e);TC(n,s,o)});let r=[];Jf(n,ge(),(s,i)=>{r=r.concat(Xc(t.serverSyncTree_,s,i));const o=uV(t,s);Bg(t,o)}),t.onDisconnect_=Wu(),Rs(t.eventQueue_,ge(),r)}function oV(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Jj)}function YC(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),mt(n,...e)}function XC(t,e,n){return jC(t.serverSyncTree_,e,n)||fe.EMPTY_NODE}function zg(t,e=t.transactionQueueTree_){if(e||ed(t,e),Wi(e)){const n=ZC(t,e);V(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&aV(t,Ka(e),n)}else qC(e)&&Zc(e,n=>{zg(t,n)})}function aV(t,e,n){const r=n.map(u=>u.currentWriteId),s=XC(t,e,r);let i=s;const o=s.hash();for(let u=0;u<n.length;u++){const c=n[u];V(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=Kt(e,c.path);i=i.updateChild(d,c.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,u=>{YC(t,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat(Qs(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ed(t,Fg(t.transactionQueueTree_,e)),zg(t,t.transactionQueueTree_),Rs(t.eventQueue_,e,c);for(let f=0;f<d.length;f++)Wa(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Vt("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}Bg(t,e)}},o)}function Bg(t,e){const n=JC(t,e),r=Ka(n),s=ZC(t,n);return lV(t,s,r),r}function lV(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],u=Kt(n,l.path);let c=!1,d;if(V(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,s=s.concat(Qs(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=Zj)c=!0,d="maxretry",s=s.concat(Qs(t.serverSyncTree_,l.currentWriteId,!0));else{const f=XC(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){KC("transaction failed: Data returned ",p,l.path);let _=gt(p);typeof p=="object"&&p!=null&&Zn(p,".priority")||(_=_.updatePriority(f.getPriority()));const E=l.currentWriteId,m=QC(t),y=Vj(_,f,m);l.currentOutputSnapshotRaw=_,l.currentOutputSnapshotResolved=y,l.currentWriteId=sV(t),o.splice(o.indexOf(E),1),s=s.concat(Pj(t.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),s=s.concat(Qs(t.serverSyncTree_,E,!0))}else c=!0,d="nodata",s=s.concat(Qs(t.serverSyncTree_,l.currentWriteId,!0))}Rs(t.eventQueue_,n,s),s=[],c&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ed(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Wa(r[a]);zg(t,t.transactionQueueTree_)}function JC(t,e){let n,r=t.transactionQueueTree_;for(n=re(e);n!==null&&Wi(r)===void 0;)r=Fg(r,n),e=Ee(e),n=re(e);return r}function ZC(t,e){const n=[];return ex(t,e,n),n.sort((r,s)=>r.order-s.order),n}function ex(t,e,n){const r=Wi(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);Zc(e,s=>{ex(t,s,n)})}function ed(t,e){const n=Wi(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,HC(e,n.length>0?n:void 0)}Zc(e,r=>{ed(t,r)})}function uV(t,e){const n=Ka(JC(t,e)),r=Fg(t.transactionQueueTree_,e);return Uj(r,s=>{ah(t,s)}),ah(t,r),WC(r,s=>{ah(t,s)}),n}function ah(t,e){const n=Wi(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(V(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(V(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(Qs(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?HC(e,void 0):n.length=i+1,Rs(t.eventQueue_,Ka(e),s);for(let o=0;o<r.length;o++)Wa(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cV(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function dV(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Vt(`Invalid query segment '${n}' in query '${t}'`)}return e}const h0=function(t,e){const n=hV(t),r=n.namespace;n.domain==="firebase.com"&&Yn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Yn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||z2();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new sC(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Te(n.pathString)}},hV=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));let c=t.indexOf("/");c===-1&&(c=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(c,d)),c<d&&(s=cV(t.substring(c,d)));const f=dV(t.substring(Math.min(t.length,d)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const p=e.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return te(this._path)?null:fC(this._path)}get ref(){return new Gi(this._repo,this._path)}get _queryIdentifier(){const e=Xv(this._queryParams),n=Cg(e);return n==="{}"?"default":n}get _queryObject(){return Xv(this._queryParams)}isEqual(e){if(e=wi(e),!(e instanceof Hg))return!1;const n=this._repo===e._repo,r=gC(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+C$(this._path)}}class Gi extends Hg{constructor(e,n){super(e,n,new kg,!1)}get parent(){const e=mC(this._path);return e===null?null:new Gi(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Aj(Gi);kj(Gi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV="FIREBASE_DATABASE_EMULATOR_HOST",op={};let pV=!1;function mV(t,e,n,r){t.repoInfo_=new sC(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function gV(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Yn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=h0(i,s),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[fV]),u?(l=!0,i=`http://${u}?ns=${a.namespace}`,o=h0(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const c=s&&l?new ui(ui.OWNER):new J2(t.name,t.options,e);Gj("Invalid Firebase Database URL",o),te(o.path)||Yn("Database URL must point to the root of a Firebase Database (not including a child path).");const d=_V(a,t,c,new X2(t.name,n));return new vV(d,t)}function yV(t,e){const n=op[e];(!n||n[t.key]!==t)&&Yn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),oV(t),delete n[t.key]}function _V(t,e,n,r){let s=op[e.name];s||(s={},op[e.name]=s);let i=s[t.toURLString()];return i&&Yn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new eV(t,pV,n,r),s[t.toURLString()]=i,i}class vV{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(tV(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Gi(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(yV(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Yn("Cannot call "+e+" on a deleted database.")}}function EV(t=$S(),e){const n=LS(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=IS("database");r&&wV(n,...r)}return n}function wV(t,e,n,r={}){t=wi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Yn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Yn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new ui(ui.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:RS(r.mockUserToken,t.app.options.projectId);i=new ui(o)}mV(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SV(t){$2(Sm),Si(new hs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return gV(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),xn(Ov,Dv,t),xn(Ov,Dv,"esm2017")}zn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};zn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};SV();const TV={apiKey:"AIzaSyBSaPFkAnkoc_uu_xR9LUvHL1Cc8mOWcyc",authDomain:"mybbs-5642f.firebaseapp.com",projectId:"mybbs-5642f",storageBucket:"mybbs-5642f.appspot.com",messagingSenderId:"210742350834",appId:"1:210742350834:web:a65b2a1d7d470593a3516b",databaseURL:"https://mybbs-5642f-default-rtdb.asia-southeast1.firebasedatabase.app/",measurementId:"G-SZ9V5BHSER"},tx=MS(TV),CV=g2(tx),xV=EV(tx);console.log(xV);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nx="firebasestorage.googleapis.com",IV="storageBucket",NV=2*60*1e3,RV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends xs{constructor(e,n,r=0){super(lh(e),`Firebase Storage: ${n} (${lh(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return lh(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Nn;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Nn||(Nn={}));function lh(t){return"storage/"+t}function AV(){const t="An unknown error occurred, please check the error payload for server response.";return new kn(Nn.UNKNOWN,t)}function kV(){return new kn(Nn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function PV(){return new kn(Nn.CANCELED,"User canceled the upload/download.")}function bV(t){return new kn(Nn.INVALID_URL,"Invalid URL '"+t+"'.")}function OV(t){return new kn(Nn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function f0(t){return new kn(Nn.INVALID_ARGUMENT,t)}function rx(){return new kn(Nn.APP_DELETED,"The Firebase app was deleted.")}function DV(t){return new kn(Nn.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=an.makeFromUrl(e,n)}catch{return new an(e,"")}if(r.path==="")return r;throw OV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function u(w){w.path_=decodeURIComponent(w.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${s}/o${f}`,"i"),_={bucket:1,path:3},g=n===nx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,E="([^?#]*)",m=new RegExp(`^https?://${g}/${s}/${E}`,"i"),v=[{regex:a,indices:l,postModify:i},{regex:p,indices:_,postModify:u},{regex:m,indices:{bucket:1,path:2},postModify:u}];for(let w=0;w<v.length;w++){const S=v[w],N=S.regex.exec(e);if(N){const O=N[S.indices.bucket];let A=N[S.indices.path];A||(A=""),r=new an(O,A),S.postModify(r);break}}if(r==null)throw bV(e);return r}}class LV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...E){u||(u=!0,e.apply(null,E))}function d(E){s=setTimeout(()=>{s=null,t(p,l())},E)}function f(){i&&clearTimeout(i)}function p(E,...m){if(u){f();return}if(E){f(),c.call(null,E,...m);return}if(l()||o){f(),c.call(null,E,...m);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,d(v)}let _=!1;function g(E){_||(_=!0,f(),!u&&(s!==null?(E||(a=2),clearTimeout(s),d(0)):E||(a=1)))}return d(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function $V(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){return t!==void 0}function p0(t,e,n,r){if(r<e)throw f0(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw f0(`Invalid value for '${t}'. Expected ${n} or less.`)}function VV(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yu;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Yu||(Yu={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,n,r,s,i,o,a,l,u,c,d,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,_)=>{this.resolve_=p,this.reject_=_,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Al(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Yu.NO_ERROR,l=i.getStatus();if(!a||FV(l,this.additionalRetryCodes_)&&this.retry){const c=i.getErrorCode()===Yu.ABORT;r(!1,new Al(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Al(u,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());jV(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=AV();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?rx():PV();o(l)}else{const l=kV();o(l)}};this.canceled_?n(!1,new Al(!1,null,!0)):this.backoffId_=MV(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$V(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Al{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function zV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function qV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function WV(t,e,n,r,s,i,o=!0){const a=VV(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return HV(u,e),zV(u,n),BV(u,i),qV(u,r),new UV(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function KV(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this._service=e,n instanceof an?this._location=n:this._location=an.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Xu(e,n)}get root(){const e=new an(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return KV(this._location.path)}get storage(){return this._service}get parent(){const e=GV(this._location.path);if(e===null)return null;const n=new an(this._location.bucket,e);return new Xu(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw DV(e)}}function m0(t,e){const n=e==null?void 0:e[IV];return n==null?null:an.makeFromBucketSpec(n,t)}class QV{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=nx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=NV,this._maxUploadRetryTime=RV,this._requests=new Set,s!=null?this._bucket=an.makeFromBucketSpec(s,this._host):this._bucket=m0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=an.makeFromBucketSpec(this._url,e):this._bucket=m0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){p0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){p0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Xu(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new LV(rx());{const o=WV(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const g0="@firebase/storage",y0="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV="storage";function XV(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new QV(n,r,s,e,Sm)}function JV(){Si(new hs(YV,XV,"PUBLIC").setMultipleInstances(!0)),xn(g0,y0,""),xn(g0,y0,"esm2017")}JV();function _0(){const t=()=>{const n=document.querySelector(".header"),r=parseInt(W.viewport.scrollTop());W.lock.stat||(r>100?n.classList.add("trans"):n.classList.remove("trans"))},e=async n=>{const r=R2(p2(CV,"bbs"),A2("timestamp","desc"),k2(n));(await M2(r)).forEach(i=>{console.log(i.data().title)})};return x.useEffect(()=>{window.scrollTo(0,0);const n=document.querySelector(".header");return n.classList.add("home"),window.addEventListener("scroll",t),e(10),()=>{n.classList.remove("home"),window.removeEventListener("scroll",t)}},[]),h.jsxs(h.Fragment,{children:[h.jsx(gc,{}),h.jsx("div",{className:"container page home",children:h.jsxs("main",{className:"contents",children:[h.jsx(lb,{opts:{opts:"movie"}}),h.jsx(I_,{opts:{opts:"movie",list:"/trending/movie/week",cate:"0",title:"Weekly 영화 TOP 20"}}),h.jsx(ks,{opts:{opts:"movie",list:"discover/movie",cate:"16",title:"영화/애니메이션"}}),h.jsx(ks,{opts:{opts:"movie",list:"discover/movie",cate:"10402",title:"영화/음악"}}),h.jsx(ks,{opts:{opts:"movie",list:"discover/movie",cate:"99",title:"영화/다큐멘터리"}}),h.jsx(I_,{opts:{opts:"tv",list:"/trending/tv/week",cate:"0",title:"Weekly TV TOP 20"}}),h.jsx(ks,{opts:{opts:"tv",list:"discover/tv",cate:"16",title:"TV/애니메이션"}}),h.jsx(ks,{opts:{opts:"tv",list:"discover/tv",cate:"10764",title:"TV/Reality"}}),h.jsx(ks,{opts:{opts:"tv",list:"discover/tv",cate:"80",title:"TV/범죄"}})]})})]})}function ZV(){return x.useEffect(()=>()=>{},[]),h.jsx(h.Fragment,{children:h.jsx("div",{className:"container page n404",children:h.jsx("main",{className:"contents",children:"404"})})})}function eF({data:t,cate:e}){const n="https://image.tmdb.org/t/p/w200"+t.poster_path;return h.jsx(h.Fragment,{children:h.jsxs(ft,{className:"box",to:""+t.id,children:[h.jsxs("div",{className:"cont",children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:`${n}`,alt:"",className:"img",onError:r=>{r.target.src="./img/common/non_poster.png"}})}),h.jsx("div",{className:"desc",children:h.jsx(Aa,{point:t.vote_average})})]}),h.jsx("div",{className:"tits",children:t.title||t.name})]})})}function tF({menu:t,opts:e}){let n=Cs();const[r,s]=x.useState(0),i=a=>{document.querySelectorAll(".cate-box ul>li .bt.active").forEach(_=>{a=parseInt(_.closest("li").getAttribute("data-index"))});const l=document.querySelector(".cate-box>.inr"),u=l.offsetWidth*.5,c=document.querySelector(".cate-box ul>li .bt.active"),d=c==null?void 0:c.offsetLeft,f=(c==null?void 0:c.offsetWidth)*.5,p=d-u+f;l.scrollTo(p,0),s(a),console.log("slideActive == "+r+"  "+d)},o=n.cate;return x.useEffect(()=>(i(r),()=>{}),[o,r,t,e]),h.jsx(h.Fragment,{children:h.jsx("div",{className:"cate-box "+o,children:h.jsx("div",{className:"inr",children:h.jsxs("ul",{className:"list",children:[h.jsx("li",{"data-index":"0",className:o==="0"?"active":null,children:h.jsx(cr,{type:"button",className:"bt",to:`/list/${e}/0`,children:"전체"})}),t.map((a,l)=>h.jsx("li",{"data-index":l+1,cate:a.id,className:a.id.toString()===o?"active":null,children:h.jsxs(cr,{type:"button",className:"bt",to:`/list/${e}/${a.id}`,children:[" ",a.name," "]})},a.id))]})})})})}function nF(){let t=Cs();console.log(t);let e=Jn(),n=$r(),r=t.menu;const s=t.cate;s===void 0&&n(`/${r}/0`),console.log(s),console.log(t,e.pathname);let i;i=s!=="0"?`&with_genres=${s}`:"",console.log(i);const[o,a]=x.useState([]),[l,u]=x.useState([]);let c=1;const[d,f]=x.useState({}),p=async()=>{let v={genr:{}};await st.get(`https://api.themoviedb.org/3/genre/${r}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(w=>{w.data.genres.forEach(S=>v.genr[S.id]=S.name),console.log(w.data.genres),u(w.data.genres)}).then(w=>{f(v),console.log(v)})},[_,g]=x.useState({pge:0,tot:0}),E=v=>{console.log("로드 "+v);let w=`https://api.themoviedb.org/3/discover/${r}?${i}&page=${v}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;st.get(w).then(S=>{var N,O,A;console.log(S.data),a(q=>[...q,...S.data.results]),console.log(v+"=== "+S.data.total_pages),m=!0,console.log(m),g({pge:S.data.page,tot:S.data.total_pages}),S.data.total_pages<=v?(m=!1,(N=document.querySelector(".ui-loadmore"))==null||N.classList.add("hide")):(O=document.querySelector(".ui-loadmore"))==null||O.classList.remove("hide"),(A=document.querySelector(".ui-loadmore"))==null||A.classList.remove("active")}).catch(S=>{var N;console.log(S),(N=document.querySelector(".ui-loadmore"))==null||N.classList.add("error")})};x.useEffect(()=>(a([]),window.scrollTo(0,0),E(c),p(),document.querySelector(".header").classList.remove("trans"),window.addEventListener("scroll",y),()=>{window.removeEventListener("scroll",y)}),[s,r]);let m=!0;const y=()=>{var N;const v=W.viewport.height(),w=W.viewport.docHeight(),S=W.viewport.scrollTop()+v+300;if(console.log(m+" =  "+c),w<=S&&m===!0){if(console.log("바닥도착"),(N=document.querySelector(".ui-loadmore"))==null||N.classList.add("active"),m=!1,console.log(m),W.lock.stat){m=!0;return}setTimeout(()=>{c=c+1,E(c)},400)}};return h.jsxs(h.Fragment,{children:[h.jsx(gc,{}),h.jsx("div",{className:"container page movie list",children:h.jsxs("main",{className:"contents",children:[h.jsx("div",{className:"poster-list",children:o.length?h.jsxs(h.Fragment,{children:[h.jsx("ul",{className:"list",children:o.map((v,w)=>h.jsx("li",{"data-id":v.id+"_"+w,children:h.jsx(eF,{data:v,cate:d,opts:r})},v.id+"_"+w))}),h.jsxs("div",{className:"ui-loadmore",children:[h.jsx("em",{children:h.jsx("i",{className:"fa-duotone fa-spinner"})}),h.jsx("button",{onClick:v=>{E(c+1)},type:"button",className:"btn-load",children:h.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]}):h.jsxs("div",{className:"ui-loading-dot on",children:[" ",h.jsx("div",{className:"bx",children:h.jsx("em",{children:h.jsx("i",{})})})," "]})}),h.jsx("div",{className:"page-set",children:h.jsx("div",{className:"inr",children:h.jsxs("div",{className:"pg",children:[_.pge," / ",_.tot]})})})]})}),h.jsx(tF,{menu:l,opts:r})]})}function rF({overview:t}){x.useEffect(()=>(e.set(),()=>{}),[]);const e={evt:n=>{const r=n.currentTarget,s=r.closest("[data-ui='elips']"),i=r.querySelector(".btn-tog");s.classList.contains("open")?(i.innerHTML='<span>더보기</span> <i class="fa-solid fa-caret-down"></i>',s.classList.remove("open")):(i.innerHTML='<i class="fa-solid fa-caret-up"></i> <span>숨기기</span>',s.classList.add("open"))},set:n=>{const r=document.querySelector("[data-ui='elips']"),s=r.querySelector(".txt"),i=s.offsetHeight,o=s.scrollHeight;console.log("scrollHeight == ",o,".txtHeight == ",i),i<o&&r.classList.add("elips")}};return h.jsx("div",{className:"vinf","data-ui":"elips",onClick:e.evt,onKeyUp:n=>n.key==="Enter"?e.evt(n):null,tabIndex:0,children:h.jsxs("div",{className:"txt",children:[t,h.jsxs("span",{className:"btn-tog",children:[h.jsx("span",{children:"더보기"})," ",h.jsx("i",{className:"fa-solid fa-caret-down"})]})]})})}function sF({postID:t,opts:e}){console.log(t);const[n,r]=x.useState(null),s=`https://api.themoviedb.org/3/${e}/${t}/reviews?api_key=f76021076e8162ea929bd2cea62c6646`,i=()=>{st.get(s).then(a=>{console.log("리뷰들",a.data),r(a.data)}).catch(a=>{console.log(a)})},o={evt:a=>{console.log(a.currentTarget);const u=a.currentTarget.closest("[data-ui='elips']");u.classList.contains("open")?u.classList.remove("open"):u.classList.add("open")},set:a=>{document.querySelectorAll(".ut-reply ul.rlist>li .rpset .ment").forEach(u=>{const c=u.offsetHeight,d=u.scrollHeight;c<d?u.closest("[data-ui='elips']").classList.add("elips"):u.closest("[data-ui='elips']").classList.remove("elips")})}};return x.useEffect(()=>(i(),()=>{}),[]),console.log(n),n?(o.set(),h.jsx(h.Fragment,{children:n.results.length?h.jsxs("div",{className:"sect revw",children:[h.jsx("h4",{className:"tts",children:"리뷰"}),h.jsx("div",{className:"ut-reply",children:h.jsx("div",{className:"rplist",children:h.jsx("ul",{className:"rlist a",children:n.results&&n.results.map((a,l)=>{let c=(a.author_details.avatar_path||"").replace(/^\/+/g,"");return h.jsx("li",{children:h.jsxs("div",{className:"rpset",children:[h.jsx("div",{className:"user",children:h.jsx("span",{className:"pic",children:h.jsx("img",{src:c,alt:"사진",className:"img",onError:d=>{d.target.src="./img/common/user.png"}})})}),h.jsxs("div",{className:"infs",children:[h.jsx("div",{className:"name",children:h.jsx("em",{className:"nm",children:a.author_details.name||a.author_details.username})}),h.jsx("div",{className:"desc",children:h.jsx("em",{className:"time",children:W.dateForm(new Date(a.created_at))})}),h.jsx("div",{"data-ui":"elips",className:"mbox",children:h.jsx("div",{className:"ment txt",onClick:o.evt,children:a.content})})]})]})},l)})})})})]}):null})):h.jsx("div",{children:"Loading..."})}function kl({prop:t}){let e=Cs();console.log(e);let n=e.menu,r=$r();t.page=t.page||"page",console.log(e,n);const[s,i]=x.useState({}),o=async()=>{let T={genr:{}};await st.get(`https://api.themoviedb.org/3/genre/${n}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(I=>{I.data.genres.forEach(C=>T.genr[C.id]=C.name)}).then(I=>{i(T),console.log(T)})},a=e.id,l=()=>{var k,j;let T=document.querySelector(".popup.movie"),I=T.offsetHeight||0,C=((k=T.querySelector(".pbt"))==null?void 0:k.offsetHeight)||0,P=((j=T.querySelector(".phd"))==null?void 0:j.offsetHeight)||0;I=I-P||0,console.log(I),T.querySelector(".pct").style.height=I-C+"px"},[u,c]=x.useState(null),[d,f]=x.useState(null),[p,_]=x.useState(null),[g,E]=x.useState(""),m=`https://api.themoviedb.org/3/${n}/${a}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,y=()=>{st.get(m).then(T=>{console.log("영화정보",T.data),c(T.data);let I=T.data.backdrop_path?T.data.backdrop_path:T.data.poster_path;E("https://image.tmdb.org/t/p/w780"+I)}).catch(T=>{console.log(T)})},v=`https://api.themoviedb.org/3/${n}/${a}/credits?&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,w=()=>{st.get(v).then(T=>{console.log("출연,제작",T.data),f(T.data)}).catch(T=>{console.log(T)})},S=`https://api.themoviedb.org/3/${n}/${a}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,N=()=>{st.get(S).then(T=>{console.log("영상",T.data),_(T.data)}).catch(T=>{console.log(T)})},O=()=>{var I,C;parseInt(document.querySelector(".popup.movie .pct").scrollTop)>50?(document.querySelector(".popup.movie .phd").classList.add("trans"),(I=document.querySelector(".floatpop"))==null||I.classList.add("on-top")):(document.querySelector(".popup.movie .phd").classList.remove("trans"),(C=document.querySelector(".floatpop"))==null||C.classList.remove("on-top"))};console.log(t.page+"  d");const A=()=>t.page==="list"||t.page==="search"||t.page==="home",q=()=>{W.scrollTo(".popup.movie .pct",0,200)};return x.useEffect(()=>(q(),console.log(document.querySelector(".pct").offsetHeight),o(),y(),w(),N(),l(),document.querySelector(".popup.movie .pct").addEventListener("scroll",O),window.addEventListener("resize",l),document.querySelector(".popup.movie").classList.add("ani","on"),W.lock.using(!0),()=>{window.removeEventListener("resize",l),console.log("컴포넌트가 화면에서 사라짐"),W.lock.using(!1)}),[e.id]),h.jsxs(h.Fragment,{children:[h.jsx(gc,{}),h.jsx("article",{className:`pop-layer a bottom popup movie view ${A()?"":"page"} `,children:h.jsxs("div",{className:"pbd",children:[h.jsx("div",{className:"phd",children:h.jsx("div",{className:"inr",children:h.jsx("div",{className:"ptit",children:(u==null?void 0:u.title)||(u==null?void 0:u.name)})})}),A()?h.jsx(h.Fragment,{children:h.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{r(-1)},children:h.jsx("i",{className:"fa-regular fa-arrow-left"})})}):h.jsx("button",{type:"button",className:"btn-pop-close home",onClick:()=>{r("/home/")},children:h.jsx("i",{className:"fa-solid fa-house"})}),h.jsx("div",{className:"bgs",style:{backgroundImage:`url(${g}) `}}),h.jsx("div",{className:"pct",children:h.jsxs("main",{className:"poptents",children:[!u&&!d&&!p&&h.jsx("div",{className:"m-info",children:h.jsxs("div",{className:"ui-loading-dot on",children:[" ",h.jsx("div",{className:"bx",children:h.jsx("em",{children:h.jsx("i",{})})})," "]})}),u&&d&&p&&h.jsxs("div",{className:"m-info",children:[h.jsxs("div",{className:"info",children:[h.jsxs("div",{className:"desc",children:[u.title&&h.jsx("p",{className:"tit",children:u.title}),u.tagline&&h.jsx("p",{className:"sit",children:u.tagline}),u.original_title&&h.jsx("p",{className:"tio",children:u.original_title}),u.name&&h.jsx("p",{className:"tit",children:u.name}),u.original_name&&h.jsx("p",{className:"tio",children:u.original_name}),h.jsx("div",{className:"star",children:h.jsx(Aa,{point:u.vote_average})}),h.jsx("div",{className:"cate",children:u.genres.map(T=>h.jsxs("em",{className:"ico",children:[" ",s.genr?s.genr[T.id]:null]},T.id))}),h.jsxs("ul",{className:"lst",children:[h.jsxs("li",{className:"vot",children:[h.jsx("i",{className:"fa-regular fa-thumbs-up"})," ",h.jsx("b",{children:"평점"})," : ",u.vote_average," / 10"]}),u.release_date&&h.jsxs("li",{className:"opn",children:[h.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",h.jsx("b",{children:"개봉"})," : ",u.release_date]}),u.first_air_date&&h.jsxs("li",{className:"opn",children:[h.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",u.first_air_date," ~ ",u.last_air_date]}),u.runtime&&h.jsxs("li",{className:"tim",children:[h.jsx("i",{className:"fa-regular fa-timer"})," ",h.jsx("b",{children:"시간"})," : ",u.runtime," 분"]}),u.number_of_seasons&&h.jsxs("li",{className:"tim",children:[h.jsx("i",{className:"fa-regular fa-timer"})," ",h.jsx("b",{children:"시즌"})," : ",u.number_of_seasons,"개  - ",h.jsx("b",{children:"에피소드"})," : ",u.number_of_episodes,"개"]}),u.homepage&&h.jsxs("li",{className:"web",children:[h.jsx("i",{className:"fa-regular fa-globe"})," ",h.jsx("a",{className:"lk",href:u.homepage,target:"_blank",rel:"noopener noreferrer",children:u.homepage})]})]})]}),h.jsx("div",{className:"thum",children:h.jsx(ft,{to:"./poster/0",className:"pics",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w300"+u.poster_path,alt:u.title,className:"img",onError:T=>{T.target.src="./img/common/non_poster.png"}})})})]}),u.overview&&h.jsx(rF,{overview:u.overview}),d.cast.length?h.jsxs("div",{className:"sect cast",children:[h.jsx("h4",{className:"tts",children:"출연진"}),h.jsx("div",{className:"lst",children:d.cast.filter((T,I)=>I<999).map(T=>h.jsxs(ft,{to:`./person/${T.id}`,className:"profile",children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w92"+T.profile_path,alt:T.name,className:"img",onError:I=>{I.target.src="./img/common/user.png"},loading:"lazy"})}),h.jsx("div",{className:"name",children:T.name}),h.jsx("div",{className:"carc",children:T.character})]},T.credit_id))})]}):null,p.results.length>0?h.jsxs("div",{className:"sect movs",children:[h.jsx("h4",{className:"tts",children:"영상"}),h.jsx("div",{className:"lst",children:p.results.filter((T,I)=>I<100).reverse().map((T,I)=>h.jsx("div",{className:"box",children:h.jsxs(ft,{to:`./videos/${I+1}`,className:"pic",children:[h.jsx("span",{className:"msg",children:h.jsx("span",{className:"tit",children:T.name})}),h.jsx("i",{className:"ico fa-solid fa-play"}),h.jsx("img",{className:"img",src:"//i.ytimg.com/vi/"+T.key+"/sddefault.jpg",onError:C=>{C.target.src="./img/common/user.png"},alt:T.name,loading:"lazy"})]})},T.id))})]}):null,d.crew.length?h.jsxs("div",{className:"sect cast",children:[h.jsx("h4",{className:"tts",children:"제작진"}),h.jsx("div",{className:"lst",children:d.crew.filter((T,I)=>I<999).map(T=>h.jsxs(ft,{to:`./person/${T.id}`,className:"profile",children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w92"+T.profile_path,alt:T.name,className:"img",onError:I=>{I.target.src="./img/common/user.png"},loading:"lazy"})}),h.jsx("div",{className:"name",children:T.name}),h.jsx("div",{className:"carc",children:T.known_for_department})]},T.credit_id))})]}):null,u.images.posters.length?h.jsxs("div",{className:"sect post",children:[h.jsxs("h4",{className:"tts",children:["포스터 : ",u.images.posters.length+1]}),h.jsxs("div",{className:"lst",children:[h.jsx("div",{className:"box","data-index":0,children:h.jsx(ft,{to:"./poster/0",className:"pic",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w300"+u.poster_path,alt:u.title,className:"img",onError:T=>{T.target.src="./img/common/non_poster.png"},loading:"lazy"})})}),u.images.posters.map((T,I)=>h.jsx("div",{className:"box","data-index":I+1,children:h.jsx(ft,{to:`./poster/${I+1}`,className:"pic",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w300"+T.file_path,alt:T.name,className:"img",onError:C=>{C.target.src="./img/common/non_poster.png"},loading:"lazy"})})},I))]})]}):null,h.jsx(sF,{postID:a,opts:n}),u.production_companies.length?h.jsx(h.Fragment,{children:h.jsx("div",{className:"sect comp",children:u.production_companies.map(T=>T.logo_path?h.jsx("span",{className:"logo",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w92"+T.logo_path,alt:T.name,className:"img"})},T.id):h.jsx("span",{className:"logo",children:T.name},T.id))})}):null]})]})}),h.jsx("div",{className:"floatpop",children:h.jsxs("button",{type:"button",className:"bt top",onClick:q,children:[h.jsx("i",{className:"fa-solid fa-arrow-up"}),h.jsx("em",{children:"위로"})]})})]})})]})}function Pl({prop:t}){let e=$r(),n=Cs();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var m,y;let p=document.querySelector(".popup.poster"),_=p.offsetHeight||0,g=((m=p.querySelector(".pbt"))==null?void 0:m.offsetHeight)||0,E=((y=p.querySelector(".phd"))==null?void 0:y.offsetHeight)||0;_=_-E||0,console.log(_),p.querySelector(".pct").style.maxHeight=_-g+"px"},[o,a]=x.useState(null),[l,u]=x.useState(""),c=()=>o.images.posters.length>1,d=`https://api.themoviedb.org/3/${r}/${s}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,f=()=>{st.get(d).then(p=>{console.log("영화정보",p.data),a(p.data);let _=p.data.poster_path?p.data.poster_path:p.data.backdrop_path;u("https://image.tmdb.org/t/p/w780"+_)}).catch(p=>{console.log(p)})};return x.useEffect(()=>(console.log(document.querySelector(".popup.poster .pct").offsetHeight),f(),i(),window.addEventListener("resize",i),document.querySelector(".popup.poster").classList.add("ani","on"),W.lock.using(!0),()=>{window.removeEventListener("resize",i),W.lock.using(!1)}),[]),h.jsx(h.Fragment,{children:h.jsx("article",{className:"pop-layer c bottom popup poster",children:h.jsxs("div",{className:"pbd",children:[h.jsx("div",{className:"phd",children:h.jsx("div",{className:"inr",children:h.jsx("div",{className:"ptit",children:(o==null?void 0:o.title)||(o==null?void 0:o.name)})})}),h.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:h.jsx("i",{className:"fa-regular fa-xmark"})}),h.jsx("div",{className:"pct",children:h.jsx("main",{className:"poptents",children:h.jsx("div",{className:"poster-box",children:o&&o.images.posters?h.jsxs(Tc,{className:"swiper-wrapper swiper slide",modules:[fm,pm,mm,ym,hS,gm],spaceBetween:20,slidesPerView:1,loop:c(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},autoHeight:!0,onSwiper:p=>{console.log("initialize swiper",p),p.slideToLoop(n.nums,0)},onSlideChange:()=>{},children:[h.jsx(sa,{tag:"li",children:h.jsx("div",{className:"box",children:h.jsxs("div",{className:"pics",children:[h.jsx("img",{src:l,className:"img",alt:(o==null?void 0:o.title)||(o==null?void 0:o.name),onError:p=>{p.target.src="./img/common/non_poster.png"},loading:"lazy"}),h.jsx("div",{className:"lazy-preloader",children:h.jsx("i",{className:"fa-duotone fa-spinner"})})]})})}),o.images.posters.map((p,_)=>{const g="https://image.tmdb.org/t/p/w780"+p.file_path;return h.jsx(sa,{tag:"li",className:"swiper-slide pbox",children:h.jsx("div",{className:"box",children:h.jsxs("div",{className:"pics",children:[h.jsx("img",{src:`${g}`,alt:(o==null?void 0:o.title)||(o==null?void 0:o.name),className:"img",onError:E=>{E.target.src="./img/common/non_poster.png"},loading:"lazy"}),h.jsx("div",{className:"lazy-preloader",children:h.jsx("i",{className:"fa-duotone fa-spinner"})})]})})},_)})]}):null})})})]})})})}function bl(){let t=Cs(),e=$r();const n=t.opts;console.log(t);const r=t.nums,s=()=>{var S,N;let m=document.querySelector(".popup.person"),y=m.offsetHeight||0,v=((S=m.querySelector(".pbt"))==null?void 0:S.offsetHeight)||0,w=((N=m.querySelector(".phd"))==null?void 0:N.offsetHeight)||0;y=y-w||0,m.querySelector(".pct").style.maxHeight=y-W.getSafe.top()-W.getSafe.watch()-v-10+"px",console.log(y)},[i,o]=x.useState(null),[a,l]=x.useState(null),[u,c]=x.useState(null),d=`https://api.themoviedb.org/3/person/${r}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,f=()=>{st.get(d).then(m=>{console.log("인물 정보",m.data),o(m.data)}).catch(m=>{console.log(m)})},p=`https://api.themoviedb.org/3/person/${r}/movie_credits?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,_=()=>{st.get(p).then(m=>{console.log("인물 출연작",m.data),l(m.data)}).catch(m=>{console.log(m)})},g=`https://api.themoviedb.org/3/person/${r}/images?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,E=()=>{st.get(g).then(m=>{console.log("인물 사진",m.data),c(m.data)}).catch(m=>{console.log(m)})};return x.useEffect(()=>(console.log(document.querySelector(".popup.person .pct").offsetHeight),f(),_(),E(),s(),window.addEventListener("resize",s),document.querySelector(".popup.person").classList.add("ani","on"),W.lock.using(!0),()=>{window.removeEventListener("resize",s),W.lock.using(!1)}),[]),h.jsx(h.Fragment,{children:h.jsx("article",{className:"pop-layer c bottom popup person",children:h.jsxs("div",{className:"pbd",children:[h.jsx("div",{className:"phd",children:h.jsx("div",{className:"inr",children:h.jsx("div",{className:"ptit"})})}),h.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:h.jsx("i",{className:"fa-regular fa-xmark"})}),h.jsx("div",{className:"pct",children:h.jsxs("main",{className:"poptents",children:[!i&&!a&&!u&&h.jsx("div",{className:"m-info",children:h.jsxs("div",{className:"ui-loading-dot on",children:[" ",h.jsx("div",{className:"bx",children:h.jsx("em",{children:h.jsx("i",{})})})," "]})}),i&&a&&u&&h.jsxs("div",{className:"m-info",children:[h.jsxs("div",{className:"info",children:[h.jsxs("div",{className:"desc",children:[i.title&&h.jsx("p",{className:"tit",children:i.title}),i.original_title&&h.jsx("p",{className:"tio",children:i.original_title}),i.name&&h.jsx("p",{className:"tit",children:i.name}),i.known_for_department&&h.jsx("p",{className:"tio",children:i.known_for_department}),i.original_name&&h.jsx("p",{className:"tio",children:i.original_name}),h.jsxs("ul",{className:"lst",children:[i.birthday&&h.jsxs("li",{className:"vot",children:[h.jsx("i",{className:"fa-regular fa-calendar-days"}),"  ",i.birthday]}),i.place_of_birth&&h.jsxs("li",{className:"vot",children:[h.jsx("i",{className:"fa-regular fa-location-dot"}),"  ",i.place_of_birth]}),h.jsxs("li",{className:"vot",children:[" ",h.jsx("i",{className:"fa-regular fa-star"})," ",i.popularity," / 100 "]}),i.homepage&&h.jsxs("li",{className:"web",children:[h.jsx("i",{className:"fa-regular fa-globe"})," ",h.jsx("a",{className:"lk",href:i.homepage,target:"_blank",rel:"noopener noreferrer",children:i.homepage})]})]})]}),h.jsx("div",{className:"thum",children:h.jsx("div",{className:"pics",children:h.jsx("img",{src:`https://image.tmdb.org/t/p/w780${i.profile_path}`,alt:i.title,className:"img",onError:m=>{m.target.src="./img/common/user.png"}})})})]}),a.cast.length?h.jsxs("div",{className:"sect post",children:[h.jsx("h4",{className:"tts",children:"출연작 "}),h.jsx("div",{className:"lst",children:a.cast.map((m,y)=>h.jsx("div",{className:"box","data-index":y+1,children:h.jsx(ft,{to:`/movie/${m.id}`,className:"pic",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+m.poster_path,alt:m.title,className:"img",onError:v=>{v.target.src="./img/common/non_poster.png"},loading:"lazy"})})},y))})]}):null,a.crew.length?h.jsxs("div",{className:"sect post",children:[h.jsx("h4",{className:"tts",children:"제작참여 "}),h.jsx("div",{className:"lst",children:a.crew.map((m,y)=>h.jsx("div",{className:"box","data-index":y+1,children:h.jsx(ft,{to:`/movie/${m.id}`,className:"pic",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+m.poster_path,alt:m.title,className:"img",onError:v=>{v.target.src="./img/common/non_poster.png"},loading:"lazy"})})},y))})]}):null,u.profiles.length?h.jsxs("div",{className:"sect post",children:[h.jsx("h4",{className:"tts",children:"사진 "}),h.jsx("div",{className:"lst",children:u.profiles.map((m,y)=>h.jsx("div",{className:"box","data-index":y+1,children:h.jsx("div",{to:`/list/${n}/0/${m.id}`,className:"pic",children:h.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+m.file_path,alt:m.title,className:"img",onError:v=>{v.target.src="./img/common/non_poster.png"},loading:"lazy"})})},y))})]}):null]})]})})]})})})}function Ol({prop:t}){let e=$r(),n=Cs();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var g,E;let d=document.querySelector(".popup.videos"),f=d.offsetHeight||0,p=((g=d.querySelector(".pbt"))==null?void 0:g.offsetHeight)||0,_=((E=d.querySelector(".phd"))==null?void 0:E.offsetHeight)||0;f=f-_||0,console.log(f),d.querySelector(".pct").style.maxHeight=f-p+"px"},[o,a]=x.useState(null),l=()=>o.results.length>1,u=`https://api.themoviedb.org/3/${r}/${s}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,c=()=>{st.get(u).then(d=>{console.log("영상",d.data),a(d.data)}).catch(d=>{console.log(d)})};return x.useEffect(()=>(console.log(document.querySelector(".popup.videos .pct").offsetHeight),c(),i(),window.addEventListener("resize",i),document.querySelector(".popup.videos").classList.add("ani","on"),W.lock.using(!0),()=>{window.removeEventListener("resize",i),W.lock.using(!1)}),[]),h.jsx(h.Fragment,{children:h.jsx("article",{className:"pop-layer b bottom popup videos",children:h.jsxs("div",{className:"pbd",children:[h.jsx("div",{className:"phd",children:h.jsx("div",{className:"inr",children:h.jsx("div",{className:"ptit",children:(o==null?void 0:o.title)||(o==null?void 0:o.name)})})}),h.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:h.jsx("i",{className:"fa-regular fa-xmark"})}),h.jsx("div",{className:"pct",children:h.jsx("main",{className:"poptents",children:h.jsx("div",{className:"videos-box",children:o&&o.results.length?h.jsx(Tc,{className:"swiper-wrapper swiper slide",modules:[fm,pm,mm,ym,hS,gm],spaceBetween:20,slidesPerView:1,navigation:!0,loop:l(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},observeParents:!0,observeSlideChildren:!0,observer:!0,wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},onSwiper:d=>{console.log("initialize swiper",d),d.slideTo(n.nums,0)},onSlideChange:()=>{},children:o.results.filter((d,f)=>f<100).reverse().map((d,f)=>h.jsx(sa,{tag:"li",className:"swiper-slide pbox",children:h.jsx("div",{className:"box",children:h.jsxs("div",{className:"pics",children:[h.jsxs("span",{className:"ui-load-glx full",children:[" ",h.jsxs("span",{className:"gbx",children:[" ",h.jsxs("em",{className:"bx",children:[" ",h.jsx("i",{})," ",h.jsx("i",{})," ",h.jsx("i",{})," ",h.jsx("i",{})," "]})," "]})," "]}),h.jsx("iframe",{className:"iframe",title:d.name,src:"//www.youtube.com/embed/"+d.key,allow:"autoplay; encrypted-media",allowFullScreen:!0,loading:"lazy"})]})})},f))}):null})})})]})})})}function iF({data:t,cate:e,opts:n}){const r="https://image.tmdb.org/t/p/w200",s=t.poster_path?r+t.poster_path:"./img/common/non_poster.png",i=t.backdrop_path?r+t.backdrop_path:r+t.poster_path;return h.jsx(h.Fragment,{children:h.jsxs(ft,{className:"box",to:`/search/${n}/${t.id}`,children:[h.jsxs("div",{className:"cont",children:[h.jsx("div",{className:"pics",children:h.jsx("img",{src:`${s}`,alt:"",className:"img",onError:o=>{o.target.src="./img/common/non_poster.png"}})}),h.jsxs("div",{className:"desc",children:[h.jsx("div",{className:"tits",children:t.title||t.name}),h.jsx("div",{className:"text",children:t.overview})]})]}),h.jsxs("div",{className:"info",children:[h.jsx("div",{className:"dd",children:h.jsx("div",{className:"cate",children:h.jsx("span",{className:"txt",children:t.genre_ids.map(o=>h.jsxs("em",{className:"ico",children:[" ",e.genr?e.genr[o]:null," "]},o))})})}),h.jsxs("div",{className:"dd",children:[h.jsxs("div",{className:"hits",children:[h.jsx(Aa,{point:t.vote_average}),h.jsxs("em",{children:[h.jsx("i",{className:"fa-regular fa-heart"})," ",h.jsx("b",{children:t.vote_average})]})]}),h.jsxs("div",{className:"date",children:[h.jsx("i",{className:"fa-regular fa-calendar-days"})," ",h.jsx("b",{children:t.release_date||t.first_air_date})]})]})]}),h.jsx("div",{className:"bgs",style:{backgroundImage:`url(${i})`}})]})})}function v0(){var P;const[t]=AR();let e=Cs();console.log(e);const n=e.menu;let[r,s]=x.useState(t.get("search"));const[i,o]=x.useState([]);let a=1;const[l,u]=x.useState({}),c=async()=>{let k={genr:{}};await st.get(`https://api.themoviedb.org/3/genre/${n}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(j=>{j.data.genres.forEach(X=>k.genr[X.id]=X.name)}).then(j=>{u(k),console.log(k)}).catch(j=>{console.log(j),u(null)})},[d,f]=x.useState({pge:0,tot:0}),p=x.useRef(),_=(k,j)=>{console.log("검색어 "+r),console.log("로드 "+k),p.current.value=r,j=r;let X=`https://api.themoviedb.org/3/search/${n}?language=ko&region=kr&page=${k}&query=${j}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;if(r==null){X="",W.loading.hide();return}st.get(X).then(Q=>{var b,U;console.log(Q.data),o(G=>[...G,...Q.data.results]),console.log(k+"=== "+Q.data.total_pages),E=!0,console.log(E),W.loading.hide(),f({pge:Q.data.page,tot:Q.data.total_pages}),Q.data.total_pages<=k&&(E=!1,(b=document.querySelector(".ui-loadmore"))==null||b.classList.add("hide")),(U=document.querySelector(".ui-loadmore"))==null||U.classList.remove("active")}).catch(Q=>{var b;console.log(Q),W.loading.hide(),(b=document.querySelector(".ui-loadmore"))==null||b.classList.add("error")})};x.useEffect(()=>(c(),W.loading.show(),_(a),document.querySelector(".header").classList.add("hide"),o([]),!r&&!document.querySelector(".pop-layer")&&p.current.focus(),window.addEventListener("scroll",m),window.scrollTo(0,0),T(),document.querySelectorAll("*").forEach(k=>k.addEventListener("focus",g)),document.addEventListener("touchstart",g),()=>{document.querySelector(".header").classList.remove("hide"),window.removeEventListener("scroll",m),document.querySelectorAll("*").forEach(k=>k.removeEventListener("focus",g)),document.removeEventListener("touchstart",g)}),[r,n]);const g=k=>{k.target.closest(".schs-form")};let E=!0;const m=()=>{var Q;const k=W.viewport.height(),j=W.viewport.docHeight(),X=W.viewport.scrollTop()+k+10;if(console.log(E+" =  "+a),j<=X&&E===!0){if(console.log("바닥도착"),(Q=document.querySelector(".ui-loadmore"))==null||Q.classList.add("active"),E=!1,W.lock.stat){E=!0;return}setTimeout(()=>{a=a+1,_(a)},400)}},y=k=>{var j,X,Q;s((j=p.current)==null?void 0:j.value),window.history.replaceState(null,null,`#/search/${n}?search=${(X=p.current)==null?void 0:X.value}`),o([]),_(1),k.preventDefault(),document.querySelector(".movie-list").focus(),q((Q=p.current)==null?void 0:Q.value)},v=k=>{p.current.value=k,s(k),window.history.replaceState(null,null,`#/search/${n}?search=${k}`),new URL(window.location).searchParams.set("search",k)},w=k=>{s(k.target.value),o([]);const j=new URL(window.location);j.searchParams.set("search",k.target.value),console.log(j),window.history.replaceState(null,null,`#/search/${n}?search=${k.target.value}`)},S=x.useRef(),N=x.useRef(),[O,A]=x.useState([]),q=k=>{let j=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]');k.trim()!==""&&j.unshift(k);let X=[...new Set(j)].slice(0,10);localStorage.setItem("keyword",JSON.stringify(X)),A(X)},T=k=>{var Q,b;let j=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]'),X=[...new Set(j)];A(X),(Q=N.current)==null||Q.classList.add("open"),(b=O.current)==null||b.classList.add("open")},I=(k,j)=>{const X=O.filter(b=>b!==j);let Q=[...new Set(X)];return localStorage.setItem("keyword",JSON.stringify(Q)),A(Q),S.current.classList.add("open"),setTimeout(()=>p.current.focus()),k.preventDefault(),!1},C=(k,j)=>{console.log(k),p.current.value="",p.current.focus()};return console.log(i),console.log(O),console.log((P=p.current)==null?void 0:P.value),h.jsxs(h.Fragment,{children:[h.jsx(gc,{}),h.jsx("div",{className:"container page movie search",children:h.jsxs("main",{className:"contents",children:[h.jsx("div",{className:"schs-form",ref:N,children:h.jsx("div",{className:"inr",children:h.jsxs("form",{className:"form",onSubmit:y,children:[h.jsxs("div",{className:"bts",children:[h.jsx(cr,{className:"bt",to:`/search/movie?search=${r}`,children:"Movie"}),h.jsx(cr,{className:"bt",to:`/search/tv?search=${r}`,children:"TV"})]}),h.jsxs("span",{className:"input",children:[h.jsx("input",{type:"text",placeholder:"검색어를 입력하세요.",ref:p,required:!0,maxLength:12,onMouseDown:T,onChange:w,onInvalid:k=>k.preventDefault()}),h.jsx("button",{type:"button",className:"btdel",title:"삭제",onClick:C,children:h.jsx("i",{className:"fa-regular fa-xmark"})})]}),h.jsx("button",{type:"submit",className:"bt-sch",children:h.jsx("i",{className:"fa-regular fa-search"})})]})})}),h.jsx("div",{className:O.length>0?"recent-kwds open":"recent-kwds",ref:S,children:O.length<1?"":h.jsx("ul",{className:"lst",children:O.map(k=>h.jsxs("li",{children:[h.jsx("button",{className:"kwd",type:"button",onClick:()=>v(k),children:k}),h.jsx("button",{className:"del",type:"button",onClick:j=>I(j,k),children:h.jsx("i",{className:"fa-regular fa-xmark"})})]},k))})}),h.jsx("div",{className:"movie-list",tabIndex:"-1",children:i.length<=0?h.jsxs("div",{className:"nodata",children:[h.jsx("i",{className:"fa-solid fa-file-magnifying-glass"}),r?h.jsxs("p",{children:[" ‟",r,"” 검색 결과가 없습니다."]}):null]}):h.jsxs(h.Fragment,{children:[h.jsx("ul",{className:"list",children:i.map((k,j)=>h.jsx("li",{"data-id":k.id+"_"+j,children:h.jsx(iF,{data:k,cate:l,opts:n})},k.id+"_"+j))}),i.length>0&&h.jsxs("div",{className:"ui-loadmore",children:[h.jsx("em",{children:h.jsx("i",{className:"fa-duotone fa-spinner"})}),h.jsx("button",{onClick:k=>{a=a+1,_(a,k)},type:"button",className:"btn-load",title:"불러오기",children:h.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]})}),i.length>0&&h.jsx("div",{className:"page-set",children:h.jsx("div",{className:"inr",children:h.jsxs("div",{className:"pg",children:[d.pge," / ",d.tot]})})})]})})]})}W.init();function oF(){return h.jsx(h.Fragment,{children:h.jsxs(xR,{children:[h.jsxs(i_,{children:[h.jsx(ie,{path:"*"}),h.jsx(ie,{path:"home/*",element:h.jsx(pl,{})}),h.jsx(ie,{path:"list/*",element:h.jsx(pl,{})}),h.jsx(ie,{path:"search/*",element:h.jsx(pl,{})}),h.jsx(ie,{path:"movie/*",element:h.jsx(pl,{})})]}),h.jsxs(i_,{children:[h.jsx(ie,{path:"/*",element:h.jsx(ZV,{})}),h.jsx(ie,{path:"/",element:h.jsx(_R,{to:"/home/"})}),h.jsx(ie,{path:"home",element:h.jsx(_0,{})}),h.jsx(ie,{path:"home/:menu",element:h.jsx(_0,{}),children:h.jsxs(ie,{path:":id",element:h.jsx(kl,{prop:{page:"home"}}),children:[h.jsx(ie,{path:"poster/:nums",element:h.jsx(Pl,{})}),h.jsx(ie,{path:"person/:nums",element:h.jsx(bl,{})}),h.jsx(ie,{path:"videos/:nums",element:h.jsx(Ol,{})})]})}),h.jsx(ie,{path:"list",children:h.jsx(ie,{path:":menu",children:h.jsx(ie,{path:":cate",element:h.jsx(nF,{}),children:h.jsxs(ie,{path:":id",element:h.jsx(kl,{prop:{page:"search"}}),children:[h.jsx(ie,{path:"poster/:nums",element:h.jsx(Pl,{})}),h.jsx(ie,{path:"person/:nums",element:h.jsx(bl,{})}),h.jsx(ie,{path:"videos/:nums",element:h.jsx(Ol,{})})]})})})}),h.jsx(ie,{path:":menu",children:h.jsxs(ie,{path:":id",element:h.jsx(kl,{prop:{page:"page"}}),children:[h.jsx(ie,{path:"poster/:nums",element:h.jsx(Pl,{})}),h.jsx(ie,{path:"person/:nums",element:h.jsx(bl,{})}),h.jsx(ie,{path:"videos/:nums",element:h.jsx(Ol,{})})]})}),h.jsx(ie,{path:"search",children:h.jsxs(ie,{path:":menu",element:h.jsx(v0,{}),children:[h.jsxs(ie,{path:":id",element:h.jsx(kl,{prop:{page:"search"}}),children:[h.jsx(ie,{path:"poster/:nums",element:h.jsx(Pl,{prop:{page:"search"}})}),h.jsx(ie,{path:"person/:nums",element:h.jsx(bl,{prop:{page:"search"}})}),h.jsx(ie,{path:"videos/:nums",element:h.jsx(Ol,{prop:{page:"search"}})})]}),h.jsx(ie,{path:":keyword",element:h.jsx(v0,{})})]})})]}),h.jsx(kR,{})]})})}uh.createRoot(document.getElementById("root")).render(h.jsx(Pe.StrictMode,{children:h.jsx(oF,{})}));

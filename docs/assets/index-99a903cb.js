function zP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function kC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var PC={exports:{}},Hh={},LC={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ac=Symbol.for("react.element"),HP=Symbol.for("react.portal"),WP=Symbol.for("react.fragment"),qP=Symbol.for("react.strict_mode"),GP=Symbol.for("react.profiler"),KP=Symbol.for("react.provider"),QP=Symbol.for("react.context"),YP=Symbol.for("react.forward_ref"),XP=Symbol.for("react.suspense"),JP=Symbol.for("react.memo"),ZP=Symbol.for("react.lazy"),_0=Symbol.iterator;function eL(t){return t===null||typeof t!="object"?null:(t=_0&&t[_0]||t["@@iterator"],typeof t=="function"?t:null)}var OC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DC=Object.assign,MC={};function ga(t,e,n){this.props=t,this.context=e,this.refs=MC,this.updater=n||OC}ga.prototype.isReactComponent={};ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function VC(){}VC.prototype=ga.prototype;function tv(t,e,n){this.props=t,this.context=e,this.refs=MC,this.updater=n||OC}var nv=tv.prototype=new VC;nv.constructor=tv;DC(nv,ga.prototype);nv.isPureReactComponent=!0;var v0=Array.isArray,$C=Object.prototype.hasOwnProperty,rv={current:null},jC={key:!0,ref:!0,__self:!0,__source:!0};function FC(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)$C.call(e,r)&&!jC.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ac,type:t,key:i,ref:o,props:s,_owner:rv.current}}function tL(t,e){return{$$typeof:Ac,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function sv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ac}function nL(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var y0=/\/+/g;function bp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nL(""+t.key):e.toString(36)}function id(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ac:case HP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+bp(o,0):r,v0(s)?(n="",t!=null&&(n=t.replace(y0,"$&/")+"/"),id(s,e,n,"",function(c){return c})):s!=null&&(sv(s)&&(s=tL(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(y0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",v0(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+bp(i,a);o+=id(i,e,n,l,s)}else if(l=eL(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+bp(i,a++),o+=id(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function yu(t,e,n){if(t==null)return t;var r=[],s=0;return id(t,r,"","",function(i){return e.call(n,i,s++)}),r}function rL(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ln={current:null},od={transition:null},sL={ReactCurrentDispatcher:ln,ReactCurrentBatchConfig:od,ReactCurrentOwner:rv};Re.Children={map:yu,forEach:function(t,e,n){yu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return yu(t,function(){e++}),e},toArray:function(t){return yu(t,function(e){return e})||[]},only:function(t){if(!sv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=ga;Re.Fragment=WP;Re.Profiler=GP;Re.PureComponent=tv;Re.StrictMode=qP;Re.Suspense=XP;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sL;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DC({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=rv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)$C.call(e,l)&&!jC.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ac,type:t.type,key:s,ref:i,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:QP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:KP,_context:t},t.Consumer=t};Re.createElement=FC;Re.createFactory=function(t){var e=FC.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:YP,render:t}};Re.isValidElement=sv;Re.lazy=function(t){return{$$typeof:ZP,_payload:{_status:-1,_result:t},_init:rL}};Re.memo=function(t,e){return{$$typeof:JP,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=od.transition;od.transition={};try{t()}finally{od.transition=e}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(t,e){return ln.current.useCallback(t,e)};Re.useContext=function(t){return ln.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return ln.current.useDeferredValue(t)};Re.useEffect=function(t,e){return ln.current.useEffect(t,e)};Re.useId=function(){return ln.current.useId()};Re.useImperativeHandle=function(t,e,n){return ln.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return ln.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return ln.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return ln.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return ln.current.useReducer(t,e,n)};Re.useRef=function(t){return ln.current.useRef(t)};Re.useState=function(t){return ln.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return ln.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return ln.current.useTransition()};Re.version="18.2.0";LC.exports=Re;var T=LC.exports;const pe=kC(T),E0=zP({__proto__:null,default:pe},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iL=T,oL=Symbol.for("react.element"),aL=Symbol.for("react.fragment"),lL=Object.prototype.hasOwnProperty,cL=iL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uL={key:!0,ref:!0,__self:!0,__source:!0};function UC(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)lL.call(e,r)&&!uL.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:oL,type:t,key:i,ref:o,props:s,_owner:cL.current}}Hh.Fragment=aL;Hh.jsx=UC;Hh.jsxs=UC;PC.exports=Hh;var d=PC.exports,Xm={},BC={exports:{}},bn={},zC={exports:{}},HC={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,q){var j=$.length;$.push(q);e:for(;0<j;){var Z=j-1>>>1,I=$[Z];if(0<s(I,q))$[Z]=q,$[j]=I,j=Z;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var q=$[0],j=$.pop();if(j!==q){$[0]=j;e:for(var Z=0,I=$.length,L=I>>>1;Z<L;){var V=2*(Z+1)-1,se=$[V],X=V+1,_e=$[X];if(0>s(se,j))X<I&&0>s(_e,se)?($[Z]=_e,$[X]=j,Z=X):($[Z]=se,$[V]=j,Z=V);else if(X<I&&0>s(_e,j))$[Z]=_e,$[X]=j,Z=X;else break e}}return q}function s($,q){var j=$.sortIndex-q.sortIndex;return j!==0?j:$.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,h=null,f=3,p=!1,m=!1,g=!1,y=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E($){for(var q=n(c);q!==null;){if(q.callback===null)r(c);else if(q.startTime<=$)r(c),q.sortIndex=q.expirationTime,e(l,q);else break;q=n(c)}}function w($){if(g=!1,E($),!m)if(n(l)!==null)m=!0,Ee(S);else{var q=n(c);q!==null&&we(w,q.startTime-$)}}function S($,q){m=!1,g&&(g=!1,_(P),P=-1),p=!0;var j=f;try{for(E(q),h=n(l);h!==null&&(!(h.expirationTime>q)||$&&!k());){var Z=h.callback;if(typeof Z=="function"){h.callback=null,f=h.priorityLevel;var I=Z(h.expirationTime<=q);q=t.unstable_now(),typeof I=="function"?h.callback=I:h===n(l)&&r(l),E(q)}else r(l);h=n(l)}if(h!==null)var L=!0;else{var V=n(c);V!==null&&we(w,V.startTime-q),L=!1}return L}finally{h=null,f=j,p=!1}}var R=!1,b=null,P=-1,H=5,O=-1;function k(){return!(t.unstable_now()-O<H)}function N(){if(b!==null){var $=t.unstable_now();O=$;var q=!0;try{q=b(!0,$)}finally{q?A():(R=!1,b=null)}}else R=!1}var A;if(typeof v=="function")A=function(){v(N)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ie=z.port2;z.port1.onmessage=N,A=function(){ie.postMessage(null)}}else A=function(){y(N,0)};function Ee($){b=$,R||(R=!0,A())}function we($,q){P=y(function(){$(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Ee(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var j=f;f=q;try{return $()}finally{f=j}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var j=f;f=$;try{return q()}finally{f=j}},t.unstable_scheduleCallback=function($,q,j){var Z=t.unstable_now();switch(typeof j=="object"&&j!==null?(j=j.delay,j=typeof j=="number"&&0<j?Z+j:Z):j=Z,$){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=j+I,$={id:u++,callback:q,priorityLevel:$,startTime:j,expirationTime:I,sortIndex:-1},j>Z?($.sortIndex=j,e(c,$),n(l)===null&&$===n(c)&&(g?(_(P),P=-1):g=!0,we(w,j-Z))):($.sortIndex=I,e(l,$),m||p||(m=!0,Ee(S))),$},t.unstable_shouldYield=k,t.unstable_wrapCallback=function($){var q=f;return function(){var j=f;f=q;try{return $.apply(this,arguments)}finally{f=j}}}})(HC);zC.exports=HC;var dL=zC.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC=T,Nn=dL;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var qC=new Set,Fl={};function zi(t,e){Wo(t,e),Wo(t+"Capture",e)}function Wo(t,e){for(Fl[t]=e,t=0;t<e.length;t++)qC.add(e[t])}var Jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jm=Object.prototype.hasOwnProperty,hL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S0={},w0={};function fL(t){return Jm.call(w0,t)?!0:Jm.call(S0,t)?!1:hL.test(t)?w0[t]=!0:(S0[t]=!0,!1)}function pL(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mL(t,e,n,r){if(e===null||typeof e>"u"||pL(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function cn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var $t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$t[t]=new cn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$t[e]=new cn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){$t[t]=new cn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$t[t]=new cn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$t[t]=new cn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){$t[t]=new cn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){$t[t]=new cn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){$t[t]=new cn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){$t[t]=new cn(t,5,!1,t.toLowerCase(),null,!1,!1)});var iv=/[\-:]([a-z])/g;function ov(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(iv,ov);$t[e]=new cn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(iv,ov);$t[e]=new cn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(iv,ov);$t[e]=new cn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){$t[t]=new cn(t,1,!1,t.toLowerCase(),null,!1,!1)});$t.xlinkHref=new cn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){$t[t]=new cn(t,1,!1,t.toLowerCase(),null,!0,!0)});function av(t,e,n,r){var s=$t.hasOwnProperty(e)?$t[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mL(e,n,s,r)&&(n=null),r||s===null?fL(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var us=WC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eu=Symbol.for("react.element"),ho=Symbol.for("react.portal"),fo=Symbol.for("react.fragment"),lv=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),GC=Symbol.for("react.provider"),KC=Symbol.for("react.context"),cv=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),uv=Symbol.for("react.memo"),vs=Symbol.for("react.lazy"),QC=Symbol.for("react.offscreen"),T0=Symbol.iterator;function ja(t){return t===null||typeof t!="object"?null:(t=T0&&t[T0]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,kp;function il(t){if(kp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);kp=e&&e[1]||""}return`
`+kp+t}var Pp=!1;function Lp(t,e){if(!t||Pp)return"";Pp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Pp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?il(t):""}function gL(t){switch(t.tag){case 5:return il(t.type);case 16:return il("Lazy");case 13:return il("Suspense");case 19:return il("SuspenseList");case 0:case 2:case 15:return t=Lp(t.type,!1),t;case 11:return t=Lp(t.type.render,!1),t;case 1:return t=Lp(t.type,!0),t;default:return""}}function ng(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case fo:return"Fragment";case ho:return"Portal";case Zm:return"Profiler";case lv:return"StrictMode";case eg:return"Suspense";case tg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KC:return(t.displayName||"Context")+".Consumer";case GC:return(t._context.displayName||"Context")+".Provider";case cv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uv:return e=t.displayName||null,e!==null?e:ng(t.type)||"Memo";case vs:e=t._payload,t=t._init;try{return ng(t(e))}catch{}}return null}function _L(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ng(e);case 8:return e===lv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Hs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YC(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vL(t){var e=YC(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Su(t){t._valueTracker||(t._valueTracker=vL(t))}function XC(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=YC(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function bd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rg(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function C0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Hs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JC(t,e){e=e.checked,e!=null&&av(t,"checked",e,!1)}function sg(t,e){JC(t,e);var n=Hs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ig(t,e.type,n):e.hasOwnProperty("defaultValue")&&ig(t,e.type,Hs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function I0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ig(t,e,n){(e!=="number"||bd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ol=Array.isArray;function No(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Hs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function og(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function R0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(ol(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Hs(n)}}function ZC(t,e){var n=Hs(e.value),r=Hs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function x0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eI(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ag(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eI(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wu,tI=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wu=wu||document.createElement("div"),wu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yL=["Webkit","ms","Moz","O"];Object.keys(vl).forEach(function(t){yL.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vl[e]=vl[t]})});function nI(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vl.hasOwnProperty(t)&&vl[t]?(""+e).trim():e+"px"}function rI(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=nI(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var EL=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lg(t,e){if(e){if(EL[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function cg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ug=null;function dv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dg=null,Ao=null,bo=null;function N0(t){if(t=Pc(t)){if(typeof dg!="function")throw Error(U(280));var e=t.stateNode;e&&(e=Qh(e),dg(t.stateNode,t.type,e))}}function sI(t){Ao?bo?bo.push(t):bo=[t]:Ao=t}function iI(){if(Ao){var t=Ao,e=bo;if(bo=Ao=null,N0(t),e)for(t=0;t<e.length;t++)N0(e[t])}}function oI(t,e){return t(e)}function aI(){}var Op=!1;function lI(t,e,n){if(Op)return t(e,n);Op=!0;try{return oI(t,e,n)}finally{Op=!1,(Ao!==null||bo!==null)&&(aI(),iI())}}function Bl(t,e){var n=t.stateNode;if(n===null)return null;var r=Qh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var hg=!1;if(Jr)try{var Fa={};Object.defineProperty(Fa,"passive",{get:function(){hg=!0}}),window.addEventListener("test",Fa,Fa),window.removeEventListener("test",Fa,Fa)}catch{hg=!1}function SL(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var yl=!1,kd=null,Pd=!1,fg=null,wL={onError:function(t){yl=!0,kd=t}};function TL(t,e,n,r,s,i,o,a,l){yl=!1,kd=null,SL.apply(wL,arguments)}function CL(t,e,n,r,s,i,o,a,l){if(TL.apply(this,arguments),yl){if(yl){var c=kd;yl=!1,kd=null}else throw Error(U(198));Pd||(Pd=!0,fg=c)}}function Hi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function cI(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function A0(t){if(Hi(t)!==t)throw Error(U(188))}function IL(t){var e=t.alternate;if(!e){if(e=Hi(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return A0(s),t;if(i===r)return A0(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function uI(t){return t=IL(t),t!==null?dI(t):null}function dI(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dI(t);if(e!==null)return e;t=t.sibling}return null}var hI=Nn.unstable_scheduleCallback,b0=Nn.unstable_cancelCallback,RL=Nn.unstable_shouldYield,xL=Nn.unstable_requestPaint,lt=Nn.unstable_now,NL=Nn.unstable_getCurrentPriorityLevel,hv=Nn.unstable_ImmediatePriority,fI=Nn.unstable_UserBlockingPriority,Ld=Nn.unstable_NormalPriority,AL=Nn.unstable_LowPriority,pI=Nn.unstable_IdlePriority,Wh=null,yr=null;function bL(t){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(Wh,t,void 0,(t.current.flags&128)===128)}catch{}}var sr=Math.clz32?Math.clz32:LL,kL=Math.log,PL=Math.LN2;function LL(t){return t>>>=0,t===0?32:31-(kL(t)/PL|0)|0}var Tu=64,Cu=4194304;function al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Od(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=al(a):(i&=o,i!==0&&(r=al(i)))}else o=n&~s,o!==0?r=al(o):i!==0&&(r=al(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sr(e),s=1<<n,r|=t[n],e&=~s;return r}function OL(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DL(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-sr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=OL(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function pg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mI(){var t=Tu;return Tu<<=1,!(Tu&4194240)&&(Tu=64),t}function Dp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function bc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sr(e),t[e]=n}function ML(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-sr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function fv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Me=0;function gI(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _I,pv,vI,yI,EI,mg=!1,Iu=[],As=null,bs=null,ks=null,zl=new Map,Hl=new Map,Ss=[],VL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function k0(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":bs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":zl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(e.pointerId)}}function Ua(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Pc(e),e!==null&&pv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function $L(t,e,n,r,s){switch(e){case"focusin":return As=Ua(As,t,e,n,r,s),!0;case"dragenter":return bs=Ua(bs,t,e,n,r,s),!0;case"mouseover":return ks=Ua(ks,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return zl.set(i,Ua(zl.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Hl.set(i,Ua(Hl.get(i)||null,t,e,n,r,s)),!0}return!1}function SI(t){var e=fi(t.target);if(e!==null){var n=Hi(e);if(n!==null){if(e=n.tag,e===13){if(e=cI(n),e!==null){t.blockedOn=e,EI(t.priority,function(){vI(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ad(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ug=r,n.target.dispatchEvent(r),ug=null}else return e=Pc(n),e!==null&&pv(e),t.blockedOn=n,!1;e.shift()}return!0}function P0(t,e,n){ad(t)&&n.delete(e)}function jL(){mg=!1,As!==null&&ad(As)&&(As=null),bs!==null&&ad(bs)&&(bs=null),ks!==null&&ad(ks)&&(ks=null),zl.forEach(P0),Hl.forEach(P0)}function Ba(t,e){t.blockedOn===e&&(t.blockedOn=null,mg||(mg=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,jL)))}function Wl(t){function e(s){return Ba(s,t)}if(0<Iu.length){Ba(Iu[0],t);for(var n=1;n<Iu.length;n++){var r=Iu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(As!==null&&Ba(As,t),bs!==null&&Ba(bs,t),ks!==null&&Ba(ks,t),zl.forEach(e),Hl.forEach(e),n=0;n<Ss.length;n++)r=Ss[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ss.length&&(n=Ss[0],n.blockedOn===null);)SI(n),n.blockedOn===null&&Ss.shift()}var ko=us.ReactCurrentBatchConfig,Dd=!0;function FL(t,e,n,r){var s=Me,i=ko.transition;ko.transition=null;try{Me=1,mv(t,e,n,r)}finally{Me=s,ko.transition=i}}function UL(t,e,n,r){var s=Me,i=ko.transition;ko.transition=null;try{Me=4,mv(t,e,n,r)}finally{Me=s,ko.transition=i}}function mv(t,e,n,r){if(Dd){var s=gg(t,e,n,r);if(s===null)Wp(t,e,r,Md,n),k0(t,r);else if($L(s,t,e,n,r))r.stopPropagation();else if(k0(t,r),e&4&&-1<VL.indexOf(t)){for(;s!==null;){var i=Pc(s);if(i!==null&&_I(i),i=gg(t,e,n,r),i===null&&Wp(t,e,r,Md,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Wp(t,e,r,null,n)}}var Md=null;function gg(t,e,n,r){if(Md=null,t=dv(r),t=fi(t),t!==null)if(e=Hi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=cI(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Md=t,null}function wI(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(NL()){case hv:return 1;case fI:return 4;case Ld:case AL:return 16;case pI:return 536870912;default:return 16}default:return 16}}var Ts=null,gv=null,ld=null;function TI(){if(ld)return ld;var t,e=gv,n=e.length,r,s="value"in Ts?Ts.value:Ts.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return ld=s.slice(t,1<r?1-r:void 0)}function cd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ru(){return!0}function L0(){return!1}function kn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ru:L0,this.isPropagationStopped=L0,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),e}var _a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_v=kn(_a),kc=it({},_a,{view:0,detail:0}),BL=kn(kc),Mp,Vp,za,qh=it({},kc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==za&&(za&&t.type==="mousemove"?(Mp=t.screenX-za.screenX,Vp=t.screenY-za.screenY):Vp=Mp=0,za=t),Mp)},movementY:function(t){return"movementY"in t?t.movementY:Vp}}),O0=kn(qh),zL=it({},qh,{dataTransfer:0}),HL=kn(zL),WL=it({},kc,{relatedTarget:0}),$p=kn(WL),qL=it({},_a,{animationName:0,elapsedTime:0,pseudoElement:0}),GL=kn(qL),KL=it({},_a,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),QL=kn(KL),YL=it({},_a,{data:0}),D0=kn(YL),XL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ZL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eO(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ZL[t])?!!e[t]:!1}function vv(){return eO}var tO=it({},kc,{key:function(t){if(t.key){var e=XL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=cd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vv,charCode:function(t){return t.type==="keypress"?cd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?cd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nO=kn(tO),rO=it({},qh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M0=kn(rO),sO=it({},kc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vv}),iO=kn(sO),oO=it({},_a,{propertyName:0,elapsedTime:0,pseudoElement:0}),aO=kn(oO),lO=it({},qh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cO=kn(lO),uO=[9,13,27,32],yv=Jr&&"CompositionEvent"in window,El=null;Jr&&"documentMode"in document&&(El=document.documentMode);var dO=Jr&&"TextEvent"in window&&!El,CI=Jr&&(!yv||El&&8<El&&11>=El),V0=String.fromCharCode(32),$0=!1;function II(t,e){switch(t){case"keyup":return uO.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var po=!1;function hO(t,e){switch(t){case"compositionend":return RI(e);case"keypress":return e.which!==32?null:($0=!0,V0);case"textInput":return t=e.data,t===V0&&$0?null:t;default:return null}}function fO(t,e){if(po)return t==="compositionend"||!yv&&II(t,e)?(t=TI(),ld=gv=Ts=null,po=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return CI&&e.locale!=="ko"?null:e.data;default:return null}}var pO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pO[t.type]:e==="textarea"}function xI(t,e,n,r){sI(r),e=Vd(e,"onChange"),0<e.length&&(n=new _v("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sl=null,ql=null;function mO(t){$I(t,0)}function Gh(t){var e=_o(t);if(XC(e))return t}function gO(t,e){if(t==="change")return e}var NI=!1;if(Jr){var jp;if(Jr){var Fp="oninput"in document;if(!Fp){var F0=document.createElement("div");F0.setAttribute("oninput","return;"),Fp=typeof F0.oninput=="function"}jp=Fp}else jp=!1;NI=jp&&(!document.documentMode||9<document.documentMode)}function U0(){Sl&&(Sl.detachEvent("onpropertychange",AI),ql=Sl=null)}function AI(t){if(t.propertyName==="value"&&Gh(ql)){var e=[];xI(e,ql,t,dv(t)),lI(mO,e)}}function _O(t,e,n){t==="focusin"?(U0(),Sl=e,ql=n,Sl.attachEvent("onpropertychange",AI)):t==="focusout"&&U0()}function vO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gh(ql)}function yO(t,e){if(t==="click")return Gh(e)}function EO(t,e){if(t==="input"||t==="change")return Gh(e)}function SO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ar=typeof Object.is=="function"?Object.is:SO;function Gl(t,e){if(ar(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jm.call(e,s)||!ar(t[s],e[s]))return!1}return!0}function B0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function z0(t,e){var n=B0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=B0(n)}}function bI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?bI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kI(){for(var t=window,e=bd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=bd(t.document)}return e}function Ev(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wO(t){var e=kI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&bI(n.ownerDocument.documentElement,n)){if(r!==null&&Ev(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=z0(n,i);var o=z0(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var TO=Jr&&"documentMode"in document&&11>=document.documentMode,mo=null,_g=null,wl=null,vg=!1;function H0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vg||mo==null||mo!==bd(r)||(r=mo,"selectionStart"in r&&Ev(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wl&&Gl(wl,r)||(wl=r,r=Vd(_g,"onSelect"),0<r.length&&(e=new _v("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=mo)))}function xu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var go={animationend:xu("Animation","AnimationEnd"),animationiteration:xu("Animation","AnimationIteration"),animationstart:xu("Animation","AnimationStart"),transitionend:xu("Transition","TransitionEnd")},Up={},PI={};Jr&&(PI=document.createElement("div").style,"AnimationEvent"in window||(delete go.animationend.animation,delete go.animationiteration.animation,delete go.animationstart.animation),"TransitionEvent"in window||delete go.transitionend.transition);function Kh(t){if(Up[t])return Up[t];if(!go[t])return t;var e=go[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in PI)return Up[t]=e[n];return t}var LI=Kh("animationend"),OI=Kh("animationiteration"),DI=Kh("animationstart"),MI=Kh("transitionend"),VI=new Map,W0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Xs(t,e){VI.set(t,e),zi(e,[t])}for(var Bp=0;Bp<W0.length;Bp++){var zp=W0[Bp],CO=zp.toLowerCase(),IO=zp[0].toUpperCase()+zp.slice(1);Xs(CO,"on"+IO)}Xs(LI,"onAnimationEnd");Xs(OI,"onAnimationIteration");Xs(DI,"onAnimationStart");Xs("dblclick","onDoubleClick");Xs("focusin","onFocus");Xs("focusout","onBlur");Xs(MI,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);zi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zi("onBeforeInput",["compositionend","keypress","textInput","paste"]);zi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RO=new Set("cancel close invalid load scroll toggle".split(" ").concat(ll));function q0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,CL(r,e,void 0,t),t.currentTarget=null}function $I(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;q0(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;q0(s,a,c),i=l}}}if(Pd)throw t=fg,Pd=!1,fg=null,t}function Be(t,e){var n=e[Tg];n===void 0&&(n=e[Tg]=new Set);var r=t+"__bubble";n.has(r)||(jI(e,t,2,!1),n.add(r))}function Hp(t,e,n){var r=0;e&&(r|=4),jI(n,t,r,e)}var Nu="_reactListening"+Math.random().toString(36).slice(2);function Kl(t){if(!t[Nu]){t[Nu]=!0,qC.forEach(function(n){n!=="selectionchange"&&(RO.has(n)||Hp(n,!1,t),Hp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nu]||(e[Nu]=!0,Hp("selectionchange",!1,e))}}function jI(t,e,n,r){switch(wI(e)){case 1:var s=FL;break;case 4:s=UL;break;default:s=mv}n=s.bind(null,e,n,t),s=void 0,!hg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Wp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=fi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}lI(function(){var c=i,u=dv(n),h=[];e:{var f=VI.get(t);if(f!==void 0){var p=_v,m=t;switch(t){case"keypress":if(cd(n)===0)break e;case"keydown":case"keyup":p=nO;break;case"focusin":m="focus",p=$p;break;case"focusout":m="blur",p=$p;break;case"beforeblur":case"afterblur":p=$p;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=O0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=HL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iO;break;case LI:case OI:case DI:p=GL;break;case MI:p=aO;break;case"scroll":p=BL;break;case"wheel":p=cO;break;case"copy":case"cut":case"paste":p=QL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=M0}var g=(e&4)!==0,y=!g&&t==="scroll",_=g?f!==null?f+"Capture":null:f;g=[];for(var v=c,E;v!==null;){E=v;var w=E.stateNode;if(E.tag===5&&w!==null&&(E=w,_!==null&&(w=Bl(v,_),w!=null&&g.push(Ql(v,w,E)))),y)break;v=v.return}0<g.length&&(f=new p(f,m,null,n,u),h.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==ug&&(m=n.relatedTarget||n.fromElement)&&(fi(m)||m[Zr]))break e;if((p||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?fi(m):null,m!==null&&(y=Hi(m),m!==y||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=O0,w="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=M0,w="onPointerLeave",_="onPointerEnter",v="pointer"),y=p==null?f:_o(p),E=m==null?f:_o(m),f=new g(w,v+"leave",p,n,u),f.target=y,f.relatedTarget=E,w=null,fi(u)===c&&(g=new g(_,v+"enter",m,n,u),g.target=E,g.relatedTarget=y,w=g),y=w,p&&m)t:{for(g=p,_=m,v=0,E=g;E;E=no(E))v++;for(E=0,w=_;w;w=no(w))E++;for(;0<v-E;)g=no(g),v--;for(;0<E-v;)_=no(_),E--;for(;v--;){if(g===_||_!==null&&g===_.alternate)break t;g=no(g),_=no(_)}g=null}else g=null;p!==null&&G0(h,f,p,g,!1),m!==null&&y!==null&&G0(h,y,m,g,!0)}}e:{if(f=c?_o(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=gO;else if(j0(f))if(NI)S=EO;else{S=vO;var R=_O}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=yO);if(S&&(S=S(t,c))){xI(h,S,n,u);break e}R&&R(t,f,c),t==="focusout"&&(R=f._wrapperState)&&R.controlled&&f.type==="number"&&ig(f,"number",f.value)}switch(R=c?_o(c):window,t){case"focusin":(j0(R)||R.contentEditable==="true")&&(mo=R,_g=c,wl=null);break;case"focusout":wl=_g=mo=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,H0(h,n,u);break;case"selectionchange":if(TO)break;case"keydown":case"keyup":H0(h,n,u)}var b;if(yv)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else po?II(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(CI&&n.locale!=="ko"&&(po||P!=="onCompositionStart"?P==="onCompositionEnd"&&po&&(b=TI()):(Ts=u,gv="value"in Ts?Ts.value:Ts.textContent,po=!0)),R=Vd(c,P),0<R.length&&(P=new D0(P,t,null,n,u),h.push({event:P,listeners:R}),b?P.data=b:(b=RI(n),b!==null&&(P.data=b)))),(b=dO?hO(t,n):fO(t,n))&&(c=Vd(c,"onBeforeInput"),0<c.length&&(u=new D0("onBeforeInput","beforeinput",null,n,u),h.push({event:u,listeners:c}),u.data=b))}$I(h,e)})}function Ql(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vd(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Bl(t,n),i!=null&&r.unshift(Ql(t,i,s)),i=Bl(t,e),i!=null&&r.push(Ql(t,i,s))),t=t.return}return r}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function G0(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Bl(n,i),l!=null&&o.unshift(Ql(n,l,a))):s||(l=Bl(n,i),l!=null&&o.push(Ql(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var xO=/\r\n?/g,NO=/\u0000|\uFFFD/g;function K0(t){return(typeof t=="string"?t:""+t).replace(xO,`
`).replace(NO,"")}function Au(t,e,n){if(e=K0(e),K0(t)!==e&&n)throw Error(U(425))}function $d(){}var yg=null,Eg=null;function Sg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var wg=typeof setTimeout=="function"?setTimeout:void 0,AO=typeof clearTimeout=="function"?clearTimeout:void 0,Q0=typeof Promise=="function"?Promise:void 0,bO=typeof queueMicrotask=="function"?queueMicrotask:typeof Q0<"u"?function(t){return Q0.resolve(null).then(t).catch(kO)}:wg;function kO(t){setTimeout(function(){throw t})}function qp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Wl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wl(e)}function Ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Y0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var va=Math.random().toString(36).slice(2),hr="__reactFiber$"+va,Yl="__reactProps$"+va,Zr="__reactContainer$"+va,Tg="__reactEvents$"+va,PO="__reactListeners$"+va,LO="__reactHandles$"+va;function fi(t){var e=t[hr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Zr]||n[hr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Y0(t);t!==null;){if(n=t[hr])return n;t=Y0(t)}return e}t=n,n=t.parentNode}return null}function Pc(t){return t=t[hr]||t[Zr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _o(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function Qh(t){return t[Yl]||null}var Cg=[],vo=-1;function Js(t){return{current:t}}function Ke(t){0>vo||(t.current=Cg[vo],Cg[vo]=null,vo--)}function Ue(t,e){vo++,Cg[vo]=t.current,t.current=e}var Ws={},en=Js(Ws),mn=Js(!1),Ii=Ws;function qo(t,e){var n=t.type.contextTypes;if(!n)return Ws;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gn(t){return t=t.childContextTypes,t!=null}function jd(){Ke(mn),Ke(en)}function X0(t,e,n){if(en.current!==Ws)throw Error(U(168));Ue(en,e),Ue(mn,n)}function FI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,_L(t)||"Unknown",s));return it({},n,r)}function Fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ws,Ii=en.current,Ue(en,t),Ue(mn,mn.current),!0}function J0(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=FI(t,e,Ii),r.__reactInternalMemoizedMergedChildContext=t,Ke(mn),Ke(en),Ue(en,t)):Ke(mn),Ue(mn,n)}var Mr=null,Yh=!1,Gp=!1;function UI(t){Mr===null?Mr=[t]:Mr.push(t)}function OO(t){Yh=!0,UI(t)}function Zs(){if(!Gp&&Mr!==null){Gp=!0;var t=0,e=Me;try{var n=Mr;for(Me=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Mr=null,Yh=!1}catch(s){throw Mr!==null&&(Mr=Mr.slice(t+1)),hI(hv,Zs),s}finally{Me=e,Gp=!1}}return null}var yo=[],Eo=0,Ud=null,Bd=0,On=[],Dn=0,Ri=null,Ur=1,Br="";function li(t,e){yo[Eo++]=Bd,yo[Eo++]=Ud,Ud=t,Bd=e}function BI(t,e,n){On[Dn++]=Ur,On[Dn++]=Br,On[Dn++]=Ri,Ri=t;var r=Ur;t=Br;var s=32-sr(r)-1;r&=~(1<<s),n+=1;var i=32-sr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ur=1<<32-sr(e)+s|n<<s|r,Br=i+t}else Ur=1<<i|n<<s|r,Br=t}function Sv(t){t.return!==null&&(li(t,1),BI(t,1,0))}function wv(t){for(;t===Ud;)Ud=yo[--Eo],yo[Eo]=null,Bd=yo[--Eo],yo[Eo]=null;for(;t===Ri;)Ri=On[--Dn],On[Dn]=null,Br=On[--Dn],On[Dn]=null,Ur=On[--Dn],On[Dn]=null}var Rn=null,In=null,tt=!1,Zn=null;function zI(t,e){var n=jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Z0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Rn=t,In=Ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Rn=t,In=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ri!==null?{id:Ur,overflow:Br}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Rn=t,In=null,!0):!1;default:return!1}}function Ig(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rg(t){if(tt){var e=In;if(e){var n=e;if(!Z0(t,e)){if(Ig(t))throw Error(U(418));e=Ps(n.nextSibling);var r=Rn;e&&Z0(t,e)?zI(r,n):(t.flags=t.flags&-4097|2,tt=!1,Rn=t)}}else{if(Ig(t))throw Error(U(418));t.flags=t.flags&-4097|2,tt=!1,Rn=t}}}function eS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Rn=t}function bu(t){if(t!==Rn)return!1;if(!tt)return eS(t),tt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sg(t.type,t.memoizedProps)),e&&(e=In)){if(Ig(t))throw HI(),Error(U(418));for(;e;)zI(t,e),e=Ps(e.nextSibling)}if(eS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){In=Ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}In=null}}else In=Rn?Ps(t.stateNode.nextSibling):null;return!0}function HI(){for(var t=In;t;)t=Ps(t.nextSibling)}function Go(){In=Rn=null,tt=!1}function Tv(t){Zn===null?Zn=[t]:Zn.push(t)}var DO=us.ReactCurrentBatchConfig;function Xn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var zd=Js(null),Hd=null,So=null,Cv=null;function Iv(){Cv=So=Hd=null}function Rv(t){var e=zd.current;Ke(zd),t._currentValue=e}function xg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Po(t,e){Hd=t,Cv=So=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(Cv!==t)if(t={context:t,memoizedValue:e,next:null},So===null){if(Hd===null)throw Error(U(308));So=t,Hd.dependencies={lanes:0,firstContext:t}}else So=So.next=t;return e}var pi=null;function xv(t){pi===null?pi=[t]:pi.push(t)}function WI(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,xv(e)):(n.next=s.next,s.next=n),e.interleaved=n,es(t,r)}function es(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ys=!1;function Nv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function qI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Le&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,es(t,n)}return s=r.interleaved,s===null?(e.next=e,xv(r)):(e.next=s.next,s.next=e),r.interleaved=e,es(t,n)}function ud(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fv(t,n)}}function tS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Wd(t,e,n,r){var s=t.updateQueue;ys=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,u=c=l=null,a=i;do{var f=a.lane,p=a.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=it({},h,f);break e;case 2:ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=h):u=u.next=p,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(u===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Ni|=o,t.lanes=o,t.memoizedState=h}}function nS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var GI=new WC.Component().refs;function Ng(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Xh={isMounted:function(t){return(t=t._reactInternals)?Hi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ds(t),i=Gr(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(ir(e,t,s,r),ud(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=an(),s=Ds(t),i=Gr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ls(t,i,s),e!==null&&(ir(e,t,s,r),ud(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=an(),r=Ds(t),s=Gr(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ls(t,s,r),e!==null&&(ir(e,t,r,n),ud(e,t,r))}};function rS(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Gl(n,r)||!Gl(s,i):!0}function KI(t,e,n){var r=!1,s=Ws,i=e.contextType;return typeof i=="object"&&i!==null?i=Hn(i):(s=gn(e)?Ii:en.current,r=e.contextTypes,i=(r=r!=null)?qo(t,s):Ws),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Xh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function sS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Xh.enqueueReplaceState(e,e.state,null)}function Ag(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=GI,Nv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Hn(i):(i=gn(e)?Ii:en.current,s.context=qo(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ng(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Xh.enqueueReplaceState(s,s.state,null),Wd(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ha(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;a===GI&&(a=s.refs={}),o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function ku(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iS(t){var e=t._init;return e(t._payload)}function QI(t){function e(_,v){if(t){var E=_.deletions;E===null?(_.deletions=[v],_.flags|=16):E.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=Ms(_,v),_.index=0,_.sibling=null,_}function i(_,v,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<v?(_.flags|=2,v):E):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,E,w){return v===null||v.tag!==6?(v=em(E,_.mode,w),v.return=_,v):(v=s(v,E),v.return=_,v)}function l(_,v,E,w){var S=E.type;return S===fo?u(_,v,E.props.children,w,E.key):v!==null&&(v.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vs&&iS(S)===v.type)?(w=s(v,E.props),w.ref=Ha(_,v,E),w.return=_,w):(w=gd(E.type,E.key,E.props,null,_.mode,w),w.ref=Ha(_,v,E),w.return=_,w)}function c(_,v,E,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==E.containerInfo||v.stateNode.implementation!==E.implementation?(v=tm(E,_.mode,w),v.return=_,v):(v=s(v,E.children||[]),v.return=_,v)}function u(_,v,E,w,S){return v===null||v.tag!==7?(v=Si(E,_.mode,w,S),v.return=_,v):(v=s(v,E),v.return=_,v)}function h(_,v,E){if(typeof v=="string"&&v!==""||typeof v=="number")return v=em(""+v,_.mode,E),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Eu:return E=gd(v.type,v.key,v.props,null,_.mode,E),E.ref=Ha(_,null,v),E.return=_,E;case ho:return v=tm(v,_.mode,E),v.return=_,v;case vs:var w=v._init;return h(_,w(v._payload),E)}if(ol(v)||ja(v))return v=Si(v,_.mode,E,null),v.return=_,v;ku(_,v)}return null}function f(_,v,E,w){var S=v!==null?v.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return S!==null?null:a(_,v,""+E,w);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Eu:return E.key===S?l(_,v,E,w):null;case ho:return E.key===S?c(_,v,E,w):null;case vs:return S=E._init,f(_,v,S(E._payload),w)}if(ol(E)||ja(E))return S!==null?null:u(_,v,E,w,null);ku(_,E)}return null}function p(_,v,E,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return _=_.get(E)||null,a(v,_,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Eu:return _=_.get(w.key===null?E:w.key)||null,l(v,_,w,S);case ho:return _=_.get(w.key===null?E:w.key)||null,c(v,_,w,S);case vs:var R=w._init;return p(_,v,E,R(w._payload),S)}if(ol(w)||ja(w))return _=_.get(E)||null,u(v,_,w,S,null);ku(v,w)}return null}function m(_,v,E,w){for(var S=null,R=null,b=v,P=v=0,H=null;b!==null&&P<E.length;P++){b.index>P?(H=b,b=null):H=b.sibling;var O=f(_,b,E[P],w);if(O===null){b===null&&(b=H);break}t&&b&&O.alternate===null&&e(_,b),v=i(O,v,P),R===null?S=O:R.sibling=O,R=O,b=H}if(P===E.length)return n(_,b),tt&&li(_,P),S;if(b===null){for(;P<E.length;P++)b=h(_,E[P],w),b!==null&&(v=i(b,v,P),R===null?S=b:R.sibling=b,R=b);return tt&&li(_,P),S}for(b=r(_,b);P<E.length;P++)H=p(b,_,P,E[P],w),H!==null&&(t&&H.alternate!==null&&b.delete(H.key===null?P:H.key),v=i(H,v,P),R===null?S=H:R.sibling=H,R=H);return t&&b.forEach(function(k){return e(_,k)}),tt&&li(_,P),S}function g(_,v,E,w){var S=ja(E);if(typeof S!="function")throw Error(U(150));if(E=S.call(E),E==null)throw Error(U(151));for(var R=S=null,b=v,P=v=0,H=null,O=E.next();b!==null&&!O.done;P++,O=E.next()){b.index>P?(H=b,b=null):H=b.sibling;var k=f(_,b,O.value,w);if(k===null){b===null&&(b=H);break}t&&b&&k.alternate===null&&e(_,b),v=i(k,v,P),R===null?S=k:R.sibling=k,R=k,b=H}if(O.done)return n(_,b),tt&&li(_,P),S;if(b===null){for(;!O.done;P++,O=E.next())O=h(_,O.value,w),O!==null&&(v=i(O,v,P),R===null?S=O:R.sibling=O,R=O);return tt&&li(_,P),S}for(b=r(_,b);!O.done;P++,O=E.next())O=p(b,_,P,O.value,w),O!==null&&(t&&O.alternate!==null&&b.delete(O.key===null?P:O.key),v=i(O,v,P),R===null?S=O:R.sibling=O,R=O);return t&&b.forEach(function(N){return e(_,N)}),tt&&li(_,P),S}function y(_,v,E,w){if(typeof E=="object"&&E!==null&&E.type===fo&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case Eu:e:{for(var S=E.key,R=v;R!==null;){if(R.key===S){if(S=E.type,S===fo){if(R.tag===7){n(_,R.sibling),v=s(R,E.props.children),v.return=_,_=v;break e}}else if(R.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===vs&&iS(S)===R.type){n(_,R.sibling),v=s(R,E.props),v.ref=Ha(_,R,E),v.return=_,_=v;break e}n(_,R);break}else e(_,R);R=R.sibling}E.type===fo?(v=Si(E.props.children,_.mode,w,E.key),v.return=_,_=v):(w=gd(E.type,E.key,E.props,null,_.mode,w),w.ref=Ha(_,v,E),w.return=_,_=w)}return o(_);case ho:e:{for(R=E.key;v!==null;){if(v.key===R)if(v.tag===4&&v.stateNode.containerInfo===E.containerInfo&&v.stateNode.implementation===E.implementation){n(_,v.sibling),v=s(v,E.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=tm(E,_.mode,w),v.return=_,_=v}return o(_);case vs:return R=E._init,y(_,v,R(E._payload),w)}if(ol(E))return m(_,v,E,w);if(ja(E))return g(_,v,E,w);ku(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,E),v.return=_,_=v):(n(_,v),v=em(E,_.mode,w),v.return=_,_=v),o(_)):n(_,v)}return y}var Ko=QI(!0),YI=QI(!1),Lc={},Er=Js(Lc),Xl=Js(Lc),Jl=Js(Lc);function mi(t){if(t===Lc)throw Error(U(174));return t}function Av(t,e){switch(Ue(Jl,e),Ue(Xl,t),Ue(Er,Lc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ag(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ag(e,t)}Ke(Er),Ue(Er,e)}function Qo(){Ke(Er),Ke(Xl),Ke(Jl)}function XI(t){mi(Jl.current);var e=mi(Er.current),n=ag(e,t.type);e!==n&&(Ue(Xl,t),Ue(Er,n))}function bv(t){Xl.current===t&&(Ke(Er),Ke(Xl))}var rt=Js(0);function qd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Kp=[];function kv(){for(var t=0;t<Kp.length;t++)Kp[t]._workInProgressVersionPrimary=null;Kp.length=0}var dd=us.ReactCurrentDispatcher,Qp=us.ReactCurrentBatchConfig,xi=0,st=null,mt=null,It=null,Gd=!1,Tl=!1,Zl=0,MO=0;function Ft(){throw Error(U(321))}function Pv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ar(t[n],e[n]))return!1;return!0}function Lv(t,e,n,r,s,i){if(xi=i,st=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dd.current=t===null||t.memoizedState===null?FO:UO,t=n(r,s),Tl){i=0;do{if(Tl=!1,Zl=0,25<=i)throw Error(U(301));i+=1,It=mt=null,e.updateQueue=null,dd.current=BO,t=n(r,s)}while(Tl)}if(dd.current=Kd,e=mt!==null&&mt.next!==null,xi=0,It=mt=st=null,Gd=!1,e)throw Error(U(300));return t}function Ov(){var t=Zl!==0;return Zl=0,t}function dr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?st.memoizedState=It=t:It=It.next=t,It}function Wn(){if(mt===null){var t=st.alternate;t=t!==null?t.memoizedState:null}else t=mt.next;var e=It===null?st.memoizedState:It.next;if(e!==null)It=e,mt=t;else{if(t===null)throw Error(U(310));mt=t,t={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},It===null?st.memoizedState=It=t:It=It.next=t}return It}function ec(t,e){return typeof e=="function"?e(t):e}function Yp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=mt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var u=c.lane;if((xi&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,st.lanes|=u,Ni|=u}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,ar(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,st.lanes|=i,Ni|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Xp(t){var e=Wn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ar(i,e.memoizedState)||(fn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function JI(){}function ZI(t,e){var n=st,r=Wn(),s=e(),i=!ar(r.memoizedState,s);if(i&&(r.memoizedState=s,fn=!0),r=r.queue,Dv(nR.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,tc(9,tR.bind(null,n,r,s,e),void 0,null),Nt===null)throw Error(U(349));xi&30||eR(n,e,s)}return s}function eR(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tR(t,e,n,r){e.value=n,e.getSnapshot=r,rR(e)&&sR(t)}function nR(t,e,n){return n(function(){rR(e)&&sR(t)})}function rR(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ar(t,n)}catch{return!0}}function sR(t){var e=es(t,1);e!==null&&ir(e,t,1,-1)}function oS(t){var e=dr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ec,lastRenderedState:t},e.queue=t,t=t.dispatch=jO.bind(null,st,t),[e.memoizedState,t]}function tc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=st.updateQueue,e===null?(e={lastEffect:null,stores:null},st.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function iR(){return Wn().memoizedState}function hd(t,e,n,r){var s=dr();st.flags|=t,s.memoizedState=tc(1|e,n,void 0,r===void 0?null:r)}function Jh(t,e,n,r){var s=Wn();r=r===void 0?null:r;var i=void 0;if(mt!==null){var o=mt.memoizedState;if(i=o.destroy,r!==null&&Pv(r,o.deps)){s.memoizedState=tc(e,n,i,r);return}}st.flags|=t,s.memoizedState=tc(1|e,n,i,r)}function aS(t,e){return hd(8390656,8,t,e)}function Dv(t,e){return Jh(2048,8,t,e)}function oR(t,e){return Jh(4,2,t,e)}function aR(t,e){return Jh(4,4,t,e)}function lR(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cR(t,e,n){return n=n!=null?n.concat([t]):null,Jh(4,4,lR.bind(null,e,t),n)}function Mv(){}function uR(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dR(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Pv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hR(t,e,n){return xi&21?(ar(n,e)||(n=mI(),st.lanes|=n,Ni|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function VO(t,e){var n=Me;Me=n!==0&&4>n?n:4,t(!0);var r=Qp.transition;Qp.transition={};try{t(!1),e()}finally{Me=n,Qp.transition=r}}function fR(){return Wn().memoizedState}function $O(t,e,n){var r=Ds(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pR(t))mR(e,n);else if(n=WI(t,e,n,r),n!==null){var s=an();ir(n,t,r,s),gR(n,e,r)}}function jO(t,e,n){var r=Ds(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pR(t))mR(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ar(a,o)){var l=e.interleaved;l===null?(s.next=s,xv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=WI(t,e,s,r),n!==null&&(s=an(),ir(n,t,r,s),gR(n,e,r))}}function pR(t){var e=t.alternate;return t===st||e!==null&&e===st}function mR(t,e){Tl=Gd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function gR(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,fv(t,n)}}var Kd={readContext:Hn,useCallback:Ft,useContext:Ft,useEffect:Ft,useImperativeHandle:Ft,useInsertionEffect:Ft,useLayoutEffect:Ft,useMemo:Ft,useReducer:Ft,useRef:Ft,useState:Ft,useDebugValue:Ft,useDeferredValue:Ft,useTransition:Ft,useMutableSource:Ft,useSyncExternalStore:Ft,useId:Ft,unstable_isNewReconciler:!1},FO={readContext:Hn,useCallback:function(t,e){return dr().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:aS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hd(4194308,4,lR.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hd(4194308,4,t,e)},useInsertionEffect:function(t,e){return hd(4,2,t,e)},useMemo:function(t,e){var n=dr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=$O.bind(null,st,t),[r.memoizedState,t]},useRef:function(t){var e=dr();return t={current:t},e.memoizedState=t},useState:oS,useDebugValue:Mv,useDeferredValue:function(t){return dr().memoizedState=t},useTransition:function(){var t=oS(!1),e=t[0];return t=VO.bind(null,t[1]),dr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=st,s=dr();if(tt){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),Nt===null)throw Error(U(349));xi&30||eR(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,aS(nR.bind(null,r,i,t),[t]),r.flags|=2048,tc(9,tR.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=dr(),e=Nt.identifierPrefix;if(tt){var n=Br,r=Ur;n=(r&~(1<<32-sr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},UO={readContext:Hn,useCallback:uR,useContext:Hn,useEffect:Dv,useImperativeHandle:cR,useInsertionEffect:oR,useLayoutEffect:aR,useMemo:dR,useReducer:Yp,useRef:iR,useState:function(){return Yp(ec)},useDebugValue:Mv,useDeferredValue:function(t){var e=Wn();return hR(e,mt.memoizedState,t)},useTransition:function(){var t=Yp(ec)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:JI,useSyncExternalStore:ZI,useId:fR,unstable_isNewReconciler:!1},BO={readContext:Hn,useCallback:uR,useContext:Hn,useEffect:Dv,useImperativeHandle:cR,useInsertionEffect:oR,useLayoutEffect:aR,useMemo:dR,useReducer:Xp,useRef:iR,useState:function(){return Xp(ec)},useDebugValue:Mv,useDeferredValue:function(t){var e=Wn();return mt===null?e.memoizedState=t:hR(e,mt.memoizedState,t)},useTransition:function(){var t=Xp(ec)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:JI,useSyncExternalStore:ZI,useId:fR,unstable_isNewReconciler:!1};function Yo(t,e){try{var n="",r=e;do n+=gL(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Jp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zO=typeof WeakMap=="function"?WeakMap:Map;function _R(t,e,n){n=Gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yd||(Yd=!0,Fg=r),bg(t,e)},n}function vR(t,e,n){n=Gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){bg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){bg(t,e),typeof r!="function"&&(Os===null?Os=new Set([this]):Os.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function lS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=rD.bind(null,t,e,n),e.then(t,t))}function cS(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Gr(-1,1),e.tag=2,Ls(n,e,1))),n.lanes|=1),t)}var HO=us.ReactCurrentOwner,fn=!1;function sn(t,e,n,r){e.child=t===null?YI(e,null,n,r):Ko(e,t.child,n,r)}function dS(t,e,n,r,s){n=n.render;var i=e.ref;return Po(e,s),r=Lv(t,e,n,r,i,s),n=Ov(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(tt&&n&&Sv(e),e.flags|=1,sn(t,e,r,s),e.child)}function hS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Hv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,yR(t,e,i,r,s)):(t=gd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Gl,n(o,r)&&t.ref===e.ref)return ts(t,e,s)}return e.flags|=1,t=Ms(i,r),t.ref=e.ref,t.return=e,e.child=t}function yR(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Gl(i,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,ts(t,e,s)}return kg(t,e,n,r,s)}function ER(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(To,Tn),Tn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ue(To,Tn),Tn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ue(To,Tn),Tn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ue(To,Tn),Tn|=r;return sn(t,e,s,n),e.child}function SR(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function kg(t,e,n,r,s){var i=gn(n)?Ii:en.current;return i=qo(e,i),Po(e,s),n=Lv(t,e,n,r,i,s),r=Ov(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ts(t,e,s)):(tt&&r&&Sv(e),e.flags|=1,sn(t,e,n,s),e.child)}function fS(t,e,n,r,s){if(gn(n)){var i=!0;Fd(e)}else i=!1;if(Po(e,s),e.stateNode===null)fd(t,e),KI(e,n,r),Ag(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Hn(c):(c=gn(n)?Ii:en.current,c=qo(e,c));var u=n.getDerivedStateFromProps,h=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&sS(e,o,r,c),ys=!1;var f=e.memoizedState;o.state=f,Wd(e,r,o,s),l=e.memoizedState,a!==r||f!==l||mn.current||ys?(typeof u=="function"&&(Ng(e,n,u,r),l=e.memoizedState),(a=ys||rS(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,qI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Xn(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Hn(l):(l=gn(n)?Ii:en.current,l=qo(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&sS(e,o,r,l),ys=!1,f=e.memoizedState,o.state=f,Wd(e,r,o,s);var m=e.memoizedState;a!==h||f!==m||mn.current||ys?(typeof p=="function"&&(Ng(e,n,p,r),m=e.memoizedState),(c=ys||rS(e,n,c,r,f,m,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return Pg(t,e,n,r,i,s)}function Pg(t,e,n,r,s,i){SR(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&J0(e,n,!1),ts(t,e,i);r=e.stateNode,HO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ko(e,t.child,null,i),e.child=Ko(e,null,a,i)):sn(t,e,a,i),e.memoizedState=r.state,s&&J0(e,n,!0),e.child}function wR(t){var e=t.stateNode;e.pendingContext?X0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&X0(t,e.context,!1),Av(t,e.containerInfo)}function pS(t,e,n,r,s){return Go(),Tv(s),e.flags|=256,sn(t,e,n,r),e.child}var Lg={dehydrated:null,treeContext:null,retryLane:0};function Og(t){return{baseLanes:t,cachePool:null,transitions:null}}function TR(t,e,n){var r=e.pendingProps,s=rt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ue(rt,s&1),t===null)return Rg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=tf(o,r,0,null),t=Si(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Og(n),e.memoizedState=Lg,t):Vv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return WO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ms(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Ms(a,i):(i=Si(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Og(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Lg,r}return i=t.child,t=i.sibling,r=Ms(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Vv(t,e){return e=tf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Pu(t,e,n,r){return r!==null&&Tv(r),Ko(e,t.child,null,n),t=Vv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Jp(Error(U(422))),Pu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=tf({mode:"visible",children:r.children},s,0,null),i=Si(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Ko(e,t.child,null,o),e.child.memoizedState=Og(o),e.memoizedState=Lg,i);if(!(e.mode&1))return Pu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(U(419)),r=Jp(i,r,void 0),Pu(t,e,o,r)}if(a=(o&t.childLanes)!==0,fn||a){if(r=Nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,es(t,s),ir(r,t,s,-1))}return zv(),r=Jp(Error(U(421))),Pu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sD.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,In=Ps(s.nextSibling),Rn=e,tt=!0,Zn=null,t!==null&&(On[Dn++]=Ur,On[Dn++]=Br,On[Dn++]=Ri,Ur=t.id,Br=t.overflow,Ri=e),e=Vv(e,r.children),e.flags|=4096,e)}function mS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),xg(t.return,e,n)}function Zp(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function CR(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(sn(t,e,r.children,n),r=rt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mS(t,n,e);else if(t.tag===19)mS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ue(rt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&qd(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Zp(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qd(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Zp(e,!0,n,null,i);break;case"together":Zp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ni|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Ms(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ms(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function qO(t,e,n){switch(e.tag){case 3:wR(e),Go();break;case 5:XI(e);break;case 1:gn(e.type)&&Fd(e);break;case 4:Av(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ue(zd,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ue(rt,rt.current&1),e.flags|=128,null):n&e.child.childLanes?TR(t,e,n):(Ue(rt,rt.current&1),t=ts(t,e,n),t!==null?t.sibling:null);Ue(rt,rt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return CR(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ue(rt,rt.current),r)break;return null;case 22:case 23:return e.lanes=0,ER(t,e,n)}return ts(t,e,n)}var IR,Dg,RR,xR;IR=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dg=function(){};RR=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,mi(Er.current);var i=null;switch(n){case"input":s=rg(t,s),r=rg(t,r),i=[];break;case"select":s=it({},s,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":s=og(t,s),r=og(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=$d)}lg(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fl.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};xR=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wa(t,e){if(!tt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ut(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function GO(t,e,n){var r=e.pendingProps;switch(wv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(e),null;case 1:return gn(e.type)&&jd(),Ut(e),null;case 3:return r=e.stateNode,Qo(),Ke(mn),Ke(en),kv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zn!==null&&(zg(Zn),Zn=null))),Dg(t,e),Ut(e),null;case 5:bv(e);var s=mi(Jl.current);if(n=e.type,t!==null&&e.stateNode!=null)RR(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return Ut(e),null}if(t=mi(Er.current),bu(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[hr]=e,r[Yl]=i,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(s=0;s<ll.length;s++)Be(ll[s],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":C0(r,i),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Be("invalid",r);break;case"textarea":R0(r,i),Be("invalid",r)}lg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Au(r.textContent,a,t),s=["children",""+a]):Fl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Su(r),I0(r,i,!0);break;case"textarea":Su(r),x0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=$d)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eI(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[hr]=e,t[Yl]=r,IR(t,e,!1,!1),e.stateNode=t;e:{switch(o=cg(n,r),n){case"dialog":Be("cancel",t),Be("close",t),s=r;break;case"iframe":case"object":case"embed":Be("load",t),s=r;break;case"video":case"audio":for(s=0;s<ll.length;s++)Be(ll[s],t);s=r;break;case"source":Be("error",t),s=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),s=r;break;case"details":Be("toggle",t),s=r;break;case"input":C0(t,r),s=rg(t,r),Be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=it({},r,{value:void 0}),Be("invalid",t);break;case"textarea":R0(t,r),s=og(t,r),Be("invalid",t);break;default:s=r}lg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?rI(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tI(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ul(t,l):typeof l=="number"&&Ul(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Fl.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Be("scroll",t):l!=null&&av(t,i,l,o))}switch(n){case"input":Su(t),I0(t,r,!1);break;case"textarea":Su(t),x0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Hs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?No(t,!!r.multiple,i,!1):r.defaultValue!=null&&No(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$d)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ut(e),null;case 6:if(t&&e.stateNode!=null)xR(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=mi(Jl.current),mi(Er.current),bu(e)){if(r=e.stateNode,n=e.memoizedProps,r[hr]=e,(i=r.nodeValue!==n)&&(t=Rn,t!==null))switch(t.tag){case 3:Au(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hr]=e,e.stateNode=r}return Ut(e),null;case 13:if(Ke(rt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tt&&In!==null&&e.mode&1&&!(e.flags&128))HI(),Go(),e.flags|=98560,i=!1;else if(i=bu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[hr]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ut(e),i=!1}else Zn!==null&&(zg(Zn),Zn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||rt.current&1?_t===0&&(_t=3):zv())),e.updateQueue!==null&&(e.flags|=4),Ut(e),null);case 4:return Qo(),Dg(t,e),t===null&&Kl(e.stateNode.containerInfo),Ut(e),null;case 10:return Rv(e.type._context),Ut(e),null;case 17:return gn(e.type)&&jd(),Ut(e),null;case 19:if(Ke(rt),i=e.memoizedState,i===null)return Ut(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Wa(i,!1);else{if(_t!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=qd(t),o!==null){for(e.flags|=128,Wa(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ue(rt,rt.current&1|2),e.child}t=t.sibling}i.tail!==null&&lt()>Xo&&(e.flags|=128,r=!0,Wa(i,!1),e.lanes=4194304)}else{if(!r)if(t=qd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!tt)return Ut(e),null}else 2*lt()-i.renderingStartTime>Xo&&n!==1073741824&&(e.flags|=128,r=!0,Wa(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=lt(),e.sibling=null,n=rt.current,Ue(rt,r?n&1|2:n&1),e):(Ut(e),null);case 22:case 23:return Bv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Tn&1073741824&&(Ut(e),e.subtreeFlags&6&&(e.flags|=8192)):Ut(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function KO(t,e){switch(wv(e),e.tag){case 1:return gn(e.type)&&jd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),Ke(mn),Ke(en),kv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return bv(e),null;case 13:if(Ke(rt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ke(rt),null;case 4:return Qo(),null;case 10:return Rv(e.type._context),null;case 22:case 23:return Bv(),null;case 24:return null;default:return null}}var Lu=!1,Ht=!1,QO=typeof WeakSet=="function"?WeakSet:Set,ee=null;function wo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ot(t,e,r)}else n.current=null}function Mg(t,e,n){try{n()}catch(r){ot(t,e,r)}}var gS=!1;function YO(t,e){if(yg=Dd,t=kI(),Ev(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++u===r&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Eg={focusedElem:t,selectionRange:n},Dd=!1,ee=e;ee!==null;)if(e=ee,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ee=t;else for(;ee!==null;){e=ee;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,y=m.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?g:Xn(e.type,g),y);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(w){ot(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ee=t;break}ee=e.return}return m=gS,gS=!1,m}function Cl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mg(e,n,i)}s=s.next}while(s!==r)}}function Zh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NR(t){var e=t.alternate;e!==null&&(t.alternate=null,NR(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hr],delete e[Yl],delete e[Tg],delete e[PO],delete e[LO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function AR(t){return t.tag===5||t.tag===3||t.tag===4}function _S(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||AR(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $g(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=$d));else if(r!==4&&(t=t.child,t!==null))for($g(t,e,n),t=t.sibling;t!==null;)$g(t,e,n),t=t.sibling}function jg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(jg(t,e,n),t=t.sibling;t!==null;)jg(t,e,n),t=t.sibling}var Lt=null,Jn=!1;function ms(t,e,n){for(n=n.child;n!==null;)bR(t,e,n),n=n.sibling}function bR(t,e,n){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(Wh,n)}catch{}switch(n.tag){case 5:Ht||wo(n,e);case 6:var r=Lt,s=Jn;Lt=null,ms(t,e,n),Lt=r,Jn=s,Lt!==null&&(Jn?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(Jn?(t=Lt,n=n.stateNode,t.nodeType===8?qp(t.parentNode,n):t.nodeType===1&&qp(t,n),Wl(t)):qp(Lt,n.stateNode));break;case 4:r=Lt,s=Jn,Lt=n.stateNode.containerInfo,Jn=!0,ms(t,e,n),Lt=r,Jn=s;break;case 0:case 11:case 14:case 15:if(!Ht&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Mg(n,e,o),s=s.next}while(s!==r)}ms(t,e,n);break;case 1:if(!Ht&&(wo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ot(n,e,a)}ms(t,e,n);break;case 21:ms(t,e,n);break;case 22:n.mode&1?(Ht=(r=Ht)||n.memoizedState!==null,ms(t,e,n),Ht=r):ms(t,e,n);break;default:ms(t,e,n)}}function vS(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new QO),e.forEach(function(r){var s=iD.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,Jn=!1;break e;case 3:Lt=a.stateNode.containerInfo,Jn=!0;break e;case 4:Lt=a.stateNode.containerInfo,Jn=!0;break e}a=a.return}if(Lt===null)throw Error(U(160));bR(i,o,s),Lt=null,Jn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){ot(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)kR(e,t),e=e.sibling}function kR(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),ur(t),r&4){try{Cl(3,t,t.return),Zh(3,t)}catch(g){ot(t,t.return,g)}try{Cl(5,t,t.return)}catch(g){ot(t,t.return,g)}}break;case 1:Qn(e,t),ur(t),r&512&&n!==null&&wo(n,n.return);break;case 5:if(Qn(e,t),ur(t),r&512&&n!==null&&wo(n,n.return),t.flags&32){var s=t.stateNode;try{Ul(s,"")}catch(g){ot(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&JC(s,i),cg(a,o);var c=cg(a,i);for(o=0;o<l.length;o+=2){var u=l[o],h=l[o+1];u==="style"?rI(s,h):u==="dangerouslySetInnerHTML"?tI(s,h):u==="children"?Ul(s,h):av(s,u,h,c)}switch(a){case"input":sg(s,i);break;case"textarea":ZC(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?No(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?No(s,!!i.multiple,i.defaultValue,!0):No(s,!!i.multiple,i.multiple?[]:"",!1))}s[Yl]=i}catch(g){ot(t,t.return,g)}}break;case 6:if(Qn(e,t),ur(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){ot(t,t.return,g)}}break;case 3:if(Qn(e,t),ur(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wl(e.containerInfo)}catch(g){ot(t,t.return,g)}break;case 4:Qn(e,t),ur(t);break;case 13:Qn(e,t),ur(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Fv=lt())),r&4&&vS(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ht=(c=Ht)||u,Qn(e,t),Ht=c):Qn(e,t),ur(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ee=t,u=t.child;u!==null;){for(h=ee=u;ee!==null;){switch(f=ee,p=f.child,f.tag){case 0:case 11:case 14:case 15:Cl(4,f,f.return);break;case 1:wo(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ot(r,n,g)}}break;case 5:wo(f,f.return);break;case 22:if(f.memoizedState!==null){ES(h);continue}}p!==null?(p.return=f,ee=p):ES(h)}u=u.sibling}e:for(u=null,h=t;;){if(h.tag===5){if(u===null){u=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=nI("display",o))}catch(g){ot(t,t.return,g)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(g){ot(t,t.return,g)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qn(e,t),ur(t),r&4&&vS(t);break;case 21:break;default:Qn(e,t),ur(t)}}function ur(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(AR(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ul(s,""),r.flags&=-33);var i=_S(t);jg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=_S(t);$g(t,a,o);break;default:throw Error(U(161))}}catch(l){ot(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function XO(t,e,n){ee=t,PR(t)}function PR(t,e,n){for(var r=(t.mode&1)!==0;ee!==null;){var s=ee,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Lu;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||Ht;a=Lu;var c=Ht;if(Lu=o,(Ht=l)&&!c)for(ee=s;ee!==null;)o=ee,l=o.child,o.tag===22&&o.memoizedState!==null?SS(s):l!==null?(l.return=o,ee=l):SS(s);for(;i!==null;)ee=i,PR(i),i=i.sibling;ee=s,Lu=a,Ht=c}yS(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ee=i):yS(t)}}function yS(t){for(;ee!==null;){var e=ee;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ht||Zh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ht)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Xn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&nS(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nS(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Wl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Ht||e.flags&512&&Vg(e)}catch(f){ot(e,e.return,f)}}if(e===t){ee=null;break}if(n=e.sibling,n!==null){n.return=e.return,ee=n;break}ee=e.return}}function ES(t){for(;ee!==null;){var e=ee;if(e===t){ee=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ee=n;break}ee=e.return}}function SS(t){for(;ee!==null;){var e=ee;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zh(4,e)}catch(l){ot(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){ot(e,s,l)}}var i=e.return;try{Vg(e)}catch(l){ot(e,i,l)}break;case 5:var o=e.return;try{Vg(e)}catch(l){ot(e,o,l)}}}catch(l){ot(e,e.return,l)}if(e===t){ee=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ee=a;break}ee=e.return}}var JO=Math.ceil,Qd=us.ReactCurrentDispatcher,$v=us.ReactCurrentOwner,Un=us.ReactCurrentBatchConfig,Le=0,Nt=null,ht=null,Mt=0,Tn=0,To=Js(0),_t=0,nc=null,Ni=0,ef=0,jv=0,Il=null,hn=null,Fv=0,Xo=1/0,Dr=null,Yd=!1,Fg=null,Os=null,Ou=!1,Cs=null,Xd=0,Rl=0,Ug=null,pd=-1,md=0;function an(){return Le&6?lt():pd!==-1?pd:pd=lt()}function Ds(t){return t.mode&1?Le&2&&Mt!==0?Mt&-Mt:DO.transition!==null?(md===0&&(md=mI()),md):(t=Me,t!==0||(t=window.event,t=t===void 0?16:wI(t.type)),t):1}function ir(t,e,n,r){if(50<Rl)throw Rl=0,Ug=null,Error(U(185));bc(t,n,r),(!(Le&2)||t!==Nt)&&(t===Nt&&(!(Le&2)&&(ef|=n),_t===4&&ws(t,Mt)),_n(t,r),n===1&&Le===0&&!(e.mode&1)&&(Xo=lt()+500,Yh&&Zs()))}function _n(t,e){var n=t.callbackNode;DL(t,e);var r=Od(t,t===Nt?Mt:0);if(r===0)n!==null&&b0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&b0(n),e===1)t.tag===0?OO(wS.bind(null,t)):UI(wS.bind(null,t)),bO(function(){!(Le&6)&&Zs()}),n=null;else{switch(gI(r)){case 1:n=hv;break;case 4:n=fI;break;case 16:n=Ld;break;case 536870912:n=pI;break;default:n=Ld}n=FR(n,LR.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function LR(t,e){if(pd=-1,md=0,Le&6)throw Error(U(327));var n=t.callbackNode;if(Lo()&&t.callbackNode!==n)return null;var r=Od(t,t===Nt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Jd(t,r);else{e=r;var s=Le;Le|=2;var i=DR();(Nt!==t||Mt!==e)&&(Dr=null,Xo=lt()+500,Ei(t,e));do try{tD();break}catch(a){OR(t,a)}while(1);Iv(),Qd.current=i,Le=s,ht!==null?e=0:(Nt=null,Mt=0,e=_t)}if(e!==0){if(e===2&&(s=pg(t),s!==0&&(r=s,e=Bg(t,s))),e===1)throw n=nc,Ei(t,0),ws(t,r),_n(t,lt()),n;if(e===6)ws(t,r);else{if(s=t.current.alternate,!(r&30)&&!ZO(s)&&(e=Jd(t,r),e===2&&(i=pg(t),i!==0&&(r=i,e=Bg(t,i))),e===1))throw n=nc,Ei(t,0),ws(t,r),_n(t,lt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:ci(t,hn,Dr);break;case 3:if(ws(t,r),(r&130023424)===r&&(e=Fv+500-lt(),10<e)){if(Od(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){an(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=wg(ci.bind(null,t,hn,Dr),e);break}ci(t,hn,Dr);break;case 4:if(ws(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-sr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=lt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*JO(r/1960))-r,10<r){t.timeoutHandle=wg(ci.bind(null,t,hn,Dr),r);break}ci(t,hn,Dr);break;case 5:ci(t,hn,Dr);break;default:throw Error(U(329))}}}return _n(t,lt()),t.callbackNode===n?LR.bind(null,t):null}function Bg(t,e){var n=Il;return t.current.memoizedState.isDehydrated&&(Ei(t,e).flags|=256),t=Jd(t,e),t!==2&&(e=hn,hn=n,e!==null&&zg(e)),t}function zg(t){hn===null?hn=t:hn.push.apply(hn,t)}function ZO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ar(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ws(t,e){for(e&=~jv,e&=~ef,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sr(e),r=1<<n;t[n]=-1,e&=~r}}function wS(t){if(Le&6)throw Error(U(327));Lo();var e=Od(t,0);if(!(e&1))return _n(t,lt()),null;var n=Jd(t,e);if(t.tag!==0&&n===2){var r=pg(t);r!==0&&(e=r,n=Bg(t,r))}if(n===1)throw n=nc,Ei(t,0),ws(t,e),_n(t,lt()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ci(t,hn,Dr),_n(t,lt()),null}function Uv(t,e){var n=Le;Le|=1;try{return t(e)}finally{Le=n,Le===0&&(Xo=lt()+500,Yh&&Zs())}}function Ai(t){Cs!==null&&Cs.tag===0&&!(Le&6)&&Lo();var e=Le;Le|=1;var n=Un.transition,r=Me;try{if(Un.transition=null,Me=1,t)return t()}finally{Me=r,Un.transition=n,Le=e,!(Le&6)&&Zs()}}function Bv(){Tn=To.current,Ke(To)}function Ei(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,AO(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(wv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&jd();break;case 3:Qo(),Ke(mn),Ke(en),kv();break;case 5:bv(r);break;case 4:Qo();break;case 13:Ke(rt);break;case 19:Ke(rt);break;case 10:Rv(r.type._context);break;case 22:case 23:Bv()}n=n.return}if(Nt=t,ht=t=Ms(t.current,null),Mt=Tn=e,_t=0,nc=null,jv=ef=Ni=0,hn=Il=null,pi!==null){for(e=0;e<pi.length;e++)if(n=pi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}pi=null}return t}function OR(t,e){do{var n=ht;try{if(Iv(),dd.current=Kd,Gd){for(var r=st.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Gd=!1}if(xi=0,It=mt=st=null,Tl=!1,Zl=0,$v.current=null,n===null||n.return===null){_t=1,nc=e,ht=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=cS(o);if(p!==null){p.flags&=-257,uS(p,o,a,i,e),p.mode&1&&lS(i,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){lS(i,c,e),zv();break e}l=Error(U(426))}}else if(tt&&a.mode&1){var y=cS(o);if(y!==null){!(y.flags&65536)&&(y.flags|=256),uS(y,o,a,i,e),Tv(Yo(l,a));break e}}i=l=Yo(l,a),_t!==4&&(_t=2),Il===null?Il=[i]:Il.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=_R(i,l,e);tS(i,_);break e;case 1:a=l;var v=i.type,E=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(Os===null||!Os.has(E)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=vR(i,a,e);tS(i,w);break e}}i=i.return}while(i!==null)}VR(n)}catch(S){e=S,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(1)}function DR(){var t=Qd.current;return Qd.current=Kd,t===null?Kd:t}function zv(){(_t===0||_t===3||_t===2)&&(_t=4),Nt===null||!(Ni&268435455)&&!(ef&268435455)||ws(Nt,Mt)}function Jd(t,e){var n=Le;Le|=2;var r=DR();(Nt!==t||Mt!==e)&&(Dr=null,Ei(t,e));do try{eD();break}catch(s){OR(t,s)}while(1);if(Iv(),Le=n,Qd.current=r,ht!==null)throw Error(U(261));return Nt=null,Mt=0,_t}function eD(){for(;ht!==null;)MR(ht)}function tD(){for(;ht!==null&&!RL();)MR(ht)}function MR(t){var e=jR(t.alternate,t,Tn);t.memoizedProps=t.pendingProps,e===null?VR(t):ht=e,$v.current=null}function VR(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=KO(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{_t=6,ht=null;return}}else if(n=GO(n,e,Tn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);_t===0&&(_t=5)}function ci(t,e,n){var r=Me,s=Un.transition;try{Un.transition=null,Me=1,nD(t,e,n,r)}finally{Un.transition=s,Me=r}return null}function nD(t,e,n,r){do Lo();while(Cs!==null);if(Le&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(ML(t,i),t===Nt&&(ht=Nt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ou||(Ou=!0,FR(Ld,function(){return Lo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Un.transition,Un.transition=null;var o=Me;Me=1;var a=Le;Le|=4,$v.current=null,YO(t,n),kR(n,t),wO(Eg),Dd=!!yg,Eg=yg=null,t.current=n,XO(n),xL(),Le=a,Me=o,Un.transition=i}else t.current=n;if(Ou&&(Ou=!1,Cs=t,Xd=s),i=t.pendingLanes,i===0&&(Os=null),bL(n.stateNode),_n(t,lt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Yd)throw Yd=!1,t=Fg,Fg=null,t;return Xd&1&&t.tag!==0&&Lo(),i=t.pendingLanes,i&1?t===Ug?Rl++:(Rl=0,Ug=t):Rl=0,Zs(),null}function Lo(){if(Cs!==null){var t=gI(Xd),e=Un.transition,n=Me;try{if(Un.transition=null,Me=16>t?16:t,Cs===null)var r=!1;else{if(t=Cs,Cs=null,Xd=0,Le&6)throw Error(U(331));var s=Le;for(Le|=4,ee=t.current;ee!==null;){var i=ee,o=i.child;if(ee.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(ee=c;ee!==null;){var u=ee;switch(u.tag){case 0:case 11:case 15:Cl(8,u,i)}var h=u.child;if(h!==null)h.return=u,ee=h;else for(;ee!==null;){u=ee;var f=u.sibling,p=u.return;if(NR(u),u===c){ee=null;break}if(f!==null){f.return=p,ee=f;break}ee=p}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(g!==null)}}ee=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ee=o;else e:for(;ee!==null;){if(i=ee,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Cl(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,ee=_;break e}ee=i.return}}var v=t.current;for(ee=v;ee!==null;){o=ee;var E=o.child;if(o.subtreeFlags&2064&&E!==null)E.return=o,ee=E;else e:for(o=v;ee!==null;){if(a=ee,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zh(9,a)}}catch(S){ot(a,a.return,S)}if(a===o){ee=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ee=w;break e}ee=a.return}}if(Le=s,Zs(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(Wh,t)}catch{}r=!0}return r}finally{Me=n,Un.transition=e}}return!1}function TS(t,e,n){e=Yo(n,e),e=_R(t,e,1),t=Ls(t,e,1),e=an(),t!==null&&(bc(t,1,e),_n(t,e))}function ot(t,e,n){if(t.tag===3)TS(t,t,n);else for(;e!==null;){if(e.tag===3){TS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Os===null||!Os.has(r))){t=Yo(n,t),t=vR(e,t,1),e=Ls(e,t,1),t=an(),e!==null&&(bc(e,1,t),_n(e,t));break}}e=e.return}}function rD(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=an(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Mt&n)===n&&(_t===4||_t===3&&(Mt&130023424)===Mt&&500>lt()-Fv?Ei(t,0):jv|=n),_n(t,e)}function $R(t,e){e===0&&(t.mode&1?(e=Cu,Cu<<=1,!(Cu&130023424)&&(Cu=4194304)):e=1);var n=an();t=es(t,e),t!==null&&(bc(t,e,n),_n(t,n))}function sD(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$R(t,n)}function iD(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),$R(t,n)}var jR;jR=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||mn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,qO(t,e,n);fn=!!(t.flags&131072)}else fn=!1,tt&&e.flags&1048576&&BI(e,Bd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;fd(t,e),t=e.pendingProps;var s=qo(e,en.current);Po(e,n),s=Lv(null,e,r,t,s,n);var i=Ov();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,gn(r)?(i=!0,Fd(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Nv(e),s.updater=Xh,e.stateNode=s,s._reactInternals=e,Ag(e,r,t,n),e=Pg(null,e,r,!0,i,n)):(e.tag=0,tt&&i&&Sv(e),sn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(fd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=aD(r),t=Xn(r,t),s){case 0:e=kg(null,e,r,t,n);break e;case 1:e=fS(null,e,r,t,n);break e;case 11:e=dS(null,e,r,t,n);break e;case 14:e=hS(null,e,r,Xn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),kg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),fS(t,e,r,s,n);case 3:e:{if(wR(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,qI(t,e),Wd(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=Yo(Error(U(423)),e),e=pS(t,e,r,n,s);break e}else if(r!==s){s=Yo(Error(U(424)),e),e=pS(t,e,r,n,s);break e}else for(In=Ps(e.stateNode.containerInfo.firstChild),Rn=e,tt=!0,Zn=null,n=YI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Go(),r===s){e=ts(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return XI(e),t===null&&Rg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Sg(r,s)?o=null:i!==null&&Sg(r,i)&&(e.flags|=32),SR(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&Rg(e),null;case 13:return TR(t,e,n);case 4:return Av(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ko(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),dS(t,e,r,s,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ue(zd,r._currentValue),r._currentValue=o,i!==null)if(ar(i.value,o)){if(i.children===s.children&&!mn.current){e=ts(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=Gr(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),xg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}sn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Po(e,n),s=Hn(s),r=r(s),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,s=Xn(r,e.pendingProps),s=Xn(r.type,s),hS(t,e,r,s,n);case 15:return yR(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Xn(r,s),fd(t,e),e.tag=1,gn(r)?(t=!0,Fd(e)):t=!1,Po(e,n),KI(e,r,s),Ag(e,r,s,n),Pg(null,e,r,!0,t,n);case 19:return CR(t,e,n);case 22:return ER(t,e,n)}throw Error(U(156,e.tag))};function FR(t,e){return hI(t,e)}function oD(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,e,n,r){return new oD(t,e,n,r)}function Hv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aD(t){if(typeof t=="function")return Hv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===cv)return 11;if(t===uv)return 14}return 2}function Ms(t,e){var n=t.alternate;return n===null?(n=jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function gd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Hv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case fo:return Si(n.children,s,i,e);case lv:o=8,s|=8;break;case Zm:return t=jn(12,n,e,s|2),t.elementType=Zm,t.lanes=i,t;case eg:return t=jn(13,n,e,s),t.elementType=eg,t.lanes=i,t;case tg:return t=jn(19,n,e,s),t.elementType=tg,t.lanes=i,t;case QC:return tf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case GC:o=10;break e;case KC:o=9;break e;case cv:o=11;break e;case uv:o=14;break e;case vs:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=jn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Si(t,e,n,r){return t=jn(7,t,r,e),t.lanes=n,t}function tf(t,e,n,r){return t=jn(22,t,r,e),t.elementType=QC,t.lanes=n,t.stateNode={isHidden:!1},t}function em(t,e,n){return t=jn(6,t,null,e),t.lanes=n,t}function tm(t,e,n){return e=jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lD(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dp(0),this.expirationTimes=Dp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Wv(t,e,n,r,s,i,o,a,l){return t=new lD(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=jn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Nv(i),t}function cD(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ho,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function UR(t){if(!t)return Ws;t=t._reactInternals;e:{if(Hi(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(gn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(gn(n))return FI(t,n,e)}return e}function BR(t,e,n,r,s,i,o,a,l){return t=Wv(n,r,!0,t,s,i,o,a,l),t.context=UR(null),n=t.current,r=an(),s=Ds(n),i=Gr(r,s),i.callback=e??null,Ls(n,i,s),t.current.lanes=s,bc(t,s,r),_n(t,r),t}function nf(t,e,n,r){var s=e.current,i=an(),o=Ds(s);return n=UR(n),e.context===null?e.context=n:e.pendingContext=n,e=Gr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ls(s,e,o),t!==null&&(ir(t,s,o,i),ud(t,s,o)),o}function Zd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function CS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function qv(t,e){CS(t,e),(t=t.alternate)&&CS(t,e)}function uD(){return null}var zR=typeof reportError=="function"?reportError:function(t){console.error(t)};function Gv(t){this._internalRoot=t}rf.prototype.render=Gv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));nf(t,e,null,null)};rf.prototype.unmount=Gv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ai(function(){nf(null,t,null,null)}),e[Zr]=null}};function rf(t){this._internalRoot=t}rf.prototype.unstable_scheduleHydration=function(t){if(t){var e=yI();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ss.length&&e!==0&&e<Ss[n].priority;n++);Ss.splice(n,0,t),n===0&&SI(t)}};function Kv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function IS(){}function dD(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Zd(o);i.call(c)}}var o=BR(e,r,t,0,null,!1,!1,"",IS);return t._reactRootContainer=o,t[Zr]=o.current,Kl(t.nodeType===8?t.parentNode:t),Ai(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=Zd(l);a.call(c)}}var l=Wv(t,0,!1,null,null,!1,!1,"",IS);return t._reactRootContainer=l,t[Zr]=l.current,Kl(t.nodeType===8?t.parentNode:t),Ai(function(){nf(e,l,n,r)}),l}function of(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Zd(o);a.call(l)}}nf(e,o,t,s)}else o=dD(n,e,t,s,r);return Zd(o)}_I=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=al(e.pendingLanes);n!==0&&(fv(e,n|1),_n(e,lt()),!(Le&6)&&(Xo=lt()+500,Zs()))}break;case 13:Ai(function(){var r=es(t,1);if(r!==null){var s=an();ir(r,t,1,s)}}),qv(t,1)}};pv=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var n=an();ir(e,t,134217728,n)}qv(t,134217728)}};vI=function(t){if(t.tag===13){var e=Ds(t),n=es(t,e);if(n!==null){var r=an();ir(n,t,e,r)}qv(t,e)}};yI=function(){return Me};EI=function(t,e){var n=Me;try{return Me=t,e()}finally{Me=n}};dg=function(t,e,n){switch(e){case"input":if(sg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Qh(r);if(!s)throw Error(U(90));XC(r),sg(r,s)}}}break;case"textarea":ZC(t,n);break;case"select":e=n.value,e!=null&&No(t,!!n.multiple,e,!1)}};oI=Uv;aI=Ai;var hD={usingClientEntryPoint:!1,Events:[Pc,_o,Qh,sI,iI,Uv]},qa={findFiberByHostInstance:fi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fD={bundleType:qa.bundleType,version:qa.version,rendererPackageName:qa.rendererPackageName,rendererConfig:qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:us.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uI(t),t===null?null:t.stateNode},findFiberByHostInstance:qa.findFiberByHostInstance||uD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Du=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Du.isDisabled&&Du.supportsFiber)try{Wh=Du.inject(fD),yr=Du}catch{}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hD;bn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Kv(e))throw Error(U(200));return cD(t,e,null,n)};bn.createRoot=function(t,e){if(!Kv(t))throw Error(U(299));var n=!1,r="",s=zR;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Wv(t,1,!1,null,null,n,!1,r,s),t[Zr]=e.current,Kl(t.nodeType===8?t.parentNode:t),new Gv(e)};bn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=uI(e),t=t===null?null:t.stateNode,t};bn.flushSync=function(t){return Ai(t)};bn.hydrate=function(t,e,n){if(!sf(e))throw Error(U(200));return of(null,t,e,!0,n)};bn.hydrateRoot=function(t,e,n){if(!Kv(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=zR;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=BR(e,null,t,1,n??null,s,!1,i,o),t[Zr]=e.current,Kl(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new rf(e)};bn.render=function(t,e,n){if(!sf(e))throw Error(U(200));return of(null,t,e,!1,n)};bn.unmountComponentAtNode=function(t){if(!sf(t))throw Error(U(40));return t._reactRootContainer?(Ai(function(){of(null,null,t,!1,function(){t._reactRootContainer=null,t[Zr]=null})}),!0):!1};bn.unstable_batchedUpdates=Uv;bn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!sf(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return of(t,e,n,!1,r)};bn.version="18.2.0-next-9e3b772b8-20220608";function HR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HR)}catch(t){console.error(t)}}HR(),BC.exports=bn;var WR=BC.exports;const pD=kC(WR);var RS=WR;Xm.createRoot=RS.createRoot,Xm.hydrateRoot=RS.hydrateRoot;/**
 * @remix-run/router v1.6.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}var Is;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Is||(Is={}));const xS="popstate";function mD(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=Wi(s.location.hash.substr(1));return Hg("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:eh(i))}function r(s,i){af(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return _D(e,n,r,t)}function ct(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function af(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gD(){return Math.random().toString(36).substr(2,8)}function NS(t,e){return{usr:t.state,key:t.key,idx:e}}function Hg(t,e,n,r){return n===void 0&&(n=null),rc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wi(e):e,{state:n,key:e&&e.key||r||gD()})}function eh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _D(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Is.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(rc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function h(){a=Is.Pop;let y=u(),_=y==null?null:y-c;c=y,l&&l({action:a,location:g.location,delta:_})}function f(y,_){a=Is.Push;let v=Hg(g.location,y,_);n&&n(v,y),c=u()+1;let E=NS(v,c),w=g.createHref(v);try{o.pushState(E,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(w)}i&&l&&l({action:a,location:g.location,delta:1})}function p(y,_){a=Is.Replace;let v=Hg(g.location,y,_);n&&n(v,y),c=u();let E=NS(v,c),w=g.createHref(v);o.replaceState(E,"",w),i&&l&&l({action:a,location:g.location,delta:0})}function m(y){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof y=="string"?y:eh(y);return ct(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let g={get action(){return a},get location(){return t(s,o)},listen(y){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(xS,h),l=y,()=>{s.removeEventListener(xS,h),l=null}},createHref(y){return e(s,y)},createURL:m,encodeLocation(y){let _=m(y);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:p,go(y){return o.go(y)}};return g}var AS;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(AS||(AS={}));function vD(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Wi(e):e,s=Qv(r.pathname||"/",n);if(s==null)return null;let i=qR(t);yD(i);let o=null;for(let a=0;o==null&&a<i.length;++a)o=ND(i[a],kD(s));return o}function qR(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(ct(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Vs([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(ct(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),qR(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:RD(c,i.index),routesMeta:u})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of GR(i.path))s(i,o,l)}),e}function GR(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=GR(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function yD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:xD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ED=/^:\w+$/,SD=3,wD=2,TD=1,CD=10,ID=-2,bS=t=>t==="*";function RD(t,e){let n=t.split("/"),r=n.length;return n.some(bS)&&(r+=ID),e&&(r+=wD),n.filter(s=>!bS(s)).reduce((s,i)=>s+(ED.test(i)?SD:i===""?TD:CD),r)}function xD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function ND(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",u=AD({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let h=a.route;i.push({params:r,pathname:Vs([s,u.pathname]),pathnameBase:DD(Vs([s,u.pathnameBase])),route:h}),u.pathnameBase!=="/"&&(s=Vs([s,u.pathnameBase]))}return i}function AD(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=bD(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,u,h)=>{if(u==="*"){let f=a[h]||"";o=i.slice(0,i.length-f.length).replace(/(.)\/+$/,"$1")}return c[u]=PD(a[h]||"",u),c},{}),pathname:i,pathnameBase:o,pattern:t}}function bD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),af(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(o,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function kD(t){try{return decodeURI(t)}catch(e){return af(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function PD(t,e){try{return decodeURIComponent(t)}catch(n){return af(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Qv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function LD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Wi(t):t;return{pathname:n?n.startsWith("/")?n:OD(n,e):e,search:MD(r),hash:VD(s)}}function OD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function nm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yv(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xv(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Wi(t):(s=rc({},t),ct(!s.pathname||!s.pathname.includes("?"),nm("?","pathname","search",s)),ct(!s.pathname||!s.pathname.includes("#"),nm("#","pathname","hash",s)),ct(!s.search||!s.search.includes("#"),nm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(r||o==null)a=n;else{let h=e.length-1;if(o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=LD(s,a),c=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Vs=t=>t.join("/").replace(/\/\/+/g,"/"),DD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VD=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $D(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KR=["post","put","patch","delete"];new Set(KR);const jD=["get",...KR];new Set(jD);/**
 * React Router v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},th.apply(this,arguments)}const Jv=T.createContext(null),QR=T.createContext(null),qi=T.createContext(null),lf=T.createContext(null),Rr=T.createContext({outlet:null,matches:[],isDataRoute:!1}),YR=T.createContext(null);function FD(t,e){let{relative:n}=e===void 0?{}:e;ya()||ct(!1);let{basename:r,navigator:s}=T.useContext(qi),{hash:i,pathname:o,search:a}=Zv(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Vs([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ya(){return T.useContext(lf)!=null}function un(){return ya()||ct(!1),T.useContext(lf).location}function XR(t){T.useContext(qi).static||T.useLayoutEffect(t)}function En(){let{isDataRoute:t}=T.useContext(Rr);return t?tM():UD()}function UD(){ya()||ct(!1);let t=T.useContext(Jv),{basename:e,navigator:n}=T.useContext(qi),{matches:r}=T.useContext(Rr),{pathname:s}=un(),i=JSON.stringify(Yv(r).map(l=>l.pathnameBase)),o=T.useRef(!1);return XR(()=>{o.current=!0}),T.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let u=Xv(l,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Vs([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,s,t])}const BD=T.createContext(null);function zD(t){let e=T.useContext(Rr).outlet;return e&&T.createElement(BD.Provider,{value:t},e)}function Sn(){let{matches:t}=T.useContext(Rr),e=t[t.length-1];return e?e.params:{}}function Zv(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=T.useContext(Rr),{pathname:s}=un(),i=JSON.stringify(Yv(r).map(o=>o.pathnameBase));return T.useMemo(()=>Xv(t,JSON.parse(i),s,n==="path"),[t,i,s,n])}function HD(t,e){return WD(t,e)}function WD(t,e,n){ya()||ct(!1);let{navigator:r}=T.useContext(qi),{matches:s}=T.useContext(Rr),i=s[s.length-1],o=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=un(),c;if(e){var u;let g=typeof e=="string"?Wi(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||ct(!1),c=g}else c=l;let h=c.pathname||"/",f=a==="/"?h:h.slice(a.length)||"/",p=vD(t,{pathname:f}),m=YD(p&&p.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:Vs([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Vs([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),s,n);return e&&m?T.createElement(lf.Provider,{value:{location:th({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Is.Pop}},m):m}function qD(){let t=eM(),e=$D(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:s},n):null,i)}const GD=T.createElement(qD,null);class KD extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?T.createElement(Rr.Provider,{value:this.props.routeContext},T.createElement(YR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function QD(t){let{routeContext:e,match:n,children:r}=t,s=T.useContext(Jv);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Rr.Provider,{value:e},r)}function YD(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=i.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||ct(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let u=l.route.id?o==null?void 0:o[l.route.id]:null,h=null;n&&(h=l.route.errorElement||GD);let f=e.concat(i.slice(0,c+1)),p=()=>{let m;return u?m=h:l.route.Component?m=T.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,T.createElement(QD,{match:l,routeContext:{outlet:a,matches:f,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?T.createElement(KD,{location:n.location,revalidation:n.revalidation,component:h,error:u,children:p(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):p()},null)}var Wg;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Wg||(Wg={}));var sc;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(sc||(sc={}));function XD(t){let e=T.useContext(Jv);return e||ct(!1),e}function JD(t){let e=T.useContext(QR);return e||ct(!1),e}function ZD(t){let e=T.useContext(Rr);return e||ct(!1),e}function JR(t){let e=ZD(),n=e.matches[e.matches.length-1];return n.route.id||ct(!1),n.route.id}function eM(){var t;let e=T.useContext(YR),n=JD(sc.UseRouteError),r=JR(sc.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function tM(){let{router:t}=XD(Wg.UseNavigateStable),e=JR(sc.UseNavigateStable),n=T.useRef(!1);return XR(()=>{n.current=!0}),T.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,th({fromRouteId:e},i)))},[t,e])}function nM(t){let{to:e,replace:n,state:r,relative:s}=t;ya()||ct(!1);let{matches:i}=T.useContext(Rr),{pathname:o}=un(),a=En(),l=Xv(e,Yv(i).map(u=>u.pathnameBase),o,s==="path"),c=JSON.stringify(l);return T.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:s}),[a,c,s,n,r]),null}function ds(t){return zD(t.context)}function ce(t){ct(!1)}function rM(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Is.Pop,navigator:i,static:o=!1}=t;ya()&&ct(!1);let a=e.replace(/^\/*/,"/"),l=T.useMemo(()=>({basename:a,navigator:i,static:o}),[a,i,o]);typeof r=="string"&&(r=Wi(r));let{pathname:c="/",search:u="",hash:h="",state:f=null,key:p="default"}=r,m=T.useMemo(()=>{let g=Qv(c,a);return g==null?null:{location:{pathname:g,search:u,hash:h,state:f,key:p},navigationType:s}},[a,c,u,h,f,p,s]);return m==null?null:T.createElement(qi.Provider,{value:l},T.createElement(lf.Provider,{children:n,value:m}))}function rm(t){let{children:e,location:n}=t;return HD(qg(e),n)}var kS;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(kS||(kS={}));new Promise(()=>{});function qg(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,s)=>{if(!T.isValidElement(r))return;let i=[...e,s];if(r.type===T.Fragment){n.push.apply(n,qg(r.props.children,i));return}r.type!==ce&&ct(!1),!r.props.index||!r.props.children||ct(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=qg(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.12.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function ZR(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function sM(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iM(t,e){return t.button===0&&(!e||e==="_self")&&!sM(t)}function Gg(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function oM(t,e){let n=Gg(t);if(e)for(let r of e.keys())n.has(r)||e.getAll(r).forEach(s=>{n.append(r,s)});return n}const aM=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],lM=["aria-current","caseSensitive","className","end","style","to","children"],PS="startTransition";function cM(t){let{basename:e,children:n,window:r}=t,s=T.useRef();s.current==null&&(s.current=mD({window:r,v5Compat:!0}));let i=s.current,[o,a]=T.useState({action:i.action,location:i.location}),l=T.useCallback(c=>{PS in E0?E0[PS](()=>a(c)):a(c)},[a]);return T.useLayoutEffect(()=>i.listen(l),[i,l]),T.createElement(rM,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:i})}const uM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,gt=T.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:u}=e,h=ZR(e,aM),{basename:f}=T.useContext(qi),p,m=!1;if(typeof c=="string"&&dM.test(c)&&(p=c,uM))try{let v=new URL(window.location.href),E=c.startsWith("//")?new URL(v.protocol+c):new URL(c),w=Qv(E.pathname,f);E.origin===v.origin&&w!=null?c=w+E.search+E.hash:m=!0}catch{}let g=FD(c,{relative:s}),y=hM(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:s});function _(v){r&&r(v),v.defaultPrevented||y(v)}return T.createElement("a",nh({},h,{href:p||g,onClick:m||i?r:_,ref:n,target:l}))}),Mn=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,children:c}=e,u=ZR(e,lM),h=Zv(l,{relative:u.relative}),f=un(),p=T.useContext(QR),{navigator:m}=T.useContext(qi),g=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,y=f.pathname,_=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;s||(y=y.toLowerCase(),_=_?_.toLowerCase():null,g=g.toLowerCase());let v=y===g||!o&&y.startsWith(g)&&y.charAt(g.length)==="/",E=_!=null&&(_===g||!o&&_.startsWith(g)&&_.charAt(g.length)==="/"),w=v?r:void 0,S;typeof i=="function"?S=i({isActive:v,isPending:E}):S=[i,v?"active":null,E?"pending":null].filter(Boolean).join(" ");let R=typeof a=="function"?a({isActive:v,isPending:E}):a;return T.createElement(gt,nh({},u,{"aria-current":w,className:S,ref:n,style:R,to:l}),typeof c=="function"?c({isActive:v,isPending:E}):c)});var LS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(LS||(LS={}));var OS;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(OS||(OS={}));function hM(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o}=e===void 0?{}:e,a=En(),l=un(),c=Zv(t,{relative:o});return T.useCallback(u=>{if(iM(u,n)){u.preventDefault();let h=r!==void 0?r:eh(l)===eh(c);a(t,{replace:h,state:s,preventScrollReset:i,relative:o})}},[l,a,c,r,s,n,t,i,o])}function fM(t){let e=T.useRef(Gg(t)),n=T.useRef(!1),r=un(),s=T.useMemo(()=>oM(r.search,n.current?null:e.current),[r.search]),i=En(),o=T.useCallback((a,l)=>{const c=Gg(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(t,e){if(!t)throw Ea(e)},Ea=function(t){return new Error("Firebase Database ("+e1.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},pM=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ey={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,c=l?t[s+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,p=c&63;l||(p=64,o||(f=64)),r.push(n[u],n[h],n[f],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(t1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):pM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const h=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||h==null)throw new mM;const f=i<<2|a>>4;if(r.push(f),c!==64){const p=a<<4&240|c>>2;if(r.push(p),h!==64){const m=c<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class mM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const n1=function(t){const e=t1(t);return ey.encodeByteArray(e,!0)},rh=function(t){return n1(t).replace(/\./g,"")},sh=function(t){try{return ey.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gM(t){return r1(void 0,t)}function r1(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_M(n)||(t[n]=r1(t[n],e[n]));return t}function _M(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yM=()=>vM().__FIREBASE_DEFAULTS__,EM=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},SM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&sh(t[1]);return e&&JSON.parse(e)},ty=()=>{try{return yM()||EM()||SM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},s1=t=>{var e,n;return(n=(e=ty())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},i1=t=>{const e=s1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},o1=()=>{var t;return(t=ty())===null||t===void 0?void 0:t.config},a1=t=>{var e;return(e=ty())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ny{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[rh(JSON.stringify(n)),rh(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ry(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function wM(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function c1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TM(){const t=tn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function u1(){return e1.NODE_ADMIN===!0}function CM(){try{return typeof indexedDB=="object"}catch{return!1}}function IM(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RM="FirebaseError";class xr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RM,Object.setPrototypeOf(this,xr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Oc.prototype.create)}}class Oc{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?xM(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xr(s,a,r)}}function xM(t,e){return t.replace(NM,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const NM=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ic(t){return JSON.parse(t)}function Dt(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=ic(sh(i[0])||""),n=ic(sh(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},AM=function(t){const e=d1(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},bM=function(t){const e=d1(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Jo(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Kg(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ih(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function oh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(DS(i)&&DS(o)){if(!oh(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function DS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function cl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function ul(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let h=0;h<16;h++)r[h]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let h=16;h<80;h++){const f=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(f<<1|f>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,u;for(let h=0;h<80;h++){h<40?h<20?(c=a^i&(o^a),u=1518500249):(c=i^o^a,u=1859775393):h<60?(c=i&o|a&(i|o),u=2400959708):(c=i^o^a,u=3395469782);const f=(s<<5|s>>>27)+c+l+u+r[h]&4294967295;l=a,a=o,o=(i<<30|i>>>2)&4294967295,i=s,s=f}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function PM(t,e){const n=new LM(t,e);return n.subscribe.bind(n)}class LM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");OM(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=sm),s.error===void 0&&(s.error=sm),s.complete===void 0&&(s.complete=sm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function OM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sm(){}function DM(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MM=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},cf=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t){return t&&t._delegate?t._delegate:t}class ns{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ny;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(jM(e))try{this.getOrInitializeService({instanceIdentifier:ui})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ui){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ui){return this.instances.has(e)}getOptions(e=ui){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$M(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ui){return this.component?this.component.multipleInstances?e:ui:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function $M(t){return t===ui?void 0:t}function jM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const UM={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},BM=ke.INFO,zM={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},HM=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=zM[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uf{constructor(e){this.name=e,this._logLevel=BM,this._logHandler=HM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const WM=(t,e)=>e.some(n=>t instanceof n);let MS,VS;function qM(){return MS||(MS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function GM(){return VS||(VS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h1=new WeakMap,Qg=new WeakMap,f1=new WeakMap,im=new WeakMap,sy=new WeakMap;function KM(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n($s(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&h1.set(n,t)}).catch(()=>{}),sy.set(e,t),e}function QM(t){if(Qg.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Qg.set(t,e)}let Yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||f1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return $s(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function YM(t){Yg=t(Yg)}function XM(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(om(this),e,...n);return f1.set(r,e.sort?e.sort():[e]),$s(r)}:GM().includes(t)?function(...e){return t.apply(om(this),e),$s(h1.get(this))}:function(...e){return $s(t.apply(om(this),e))}}function JM(t){return typeof t=="function"?XM(t):(t instanceof IDBTransaction&&QM(t),WM(t,qM())?new Proxy(t,Yg):t)}function $s(t){if(t instanceof IDBRequest)return KM(t);if(im.has(t))return im.get(t);const e=JM(t);return e!==t&&(im.set(t,e),sy.set(e,t)),e}const om=t=>sy.get(t);function ZM(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=$s(o);return r&&o.addEventListener("upgradeneeded",l=>{r($s(o.result),l.oldVersion,l.newVersion,$s(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const eV=["get","getKey","getAll","getAllKeys","count"],tV=["put","add","delete","clear"],am=new Map;function $S(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(am.get(e))return am.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=tV.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||eV.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&l.done]))[0]};return am.set(e,i),i}YM(t=>({...t,get:(e,n,r)=>$S(e,n)||t.get(e,n,r),has:(e,n)=>!!$S(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(rV(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function rV(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xg="@firebase/app",jS="0.9.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new uf("@firebase/app"),sV="@firebase/app-compat",iV="@firebase/analytics-compat",oV="@firebase/analytics",aV="@firebase/app-check-compat",lV="@firebase/app-check",cV="@firebase/auth",uV="@firebase/auth-compat",dV="@firebase/database",hV="@firebase/database-compat",fV="@firebase/functions",pV="@firebase/functions-compat",mV="@firebase/installations",gV="@firebase/installations-compat",_V="@firebase/messaging",vV="@firebase/messaging-compat",yV="@firebase/performance",EV="@firebase/performance-compat",SV="@firebase/remote-config",wV="@firebase/remote-config-compat",TV="@firebase/storage",CV="@firebase/storage-compat",IV="@firebase/firestore",RV="@firebase/firestore-compat",xV="firebase",NV="10.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg="[DEFAULT]",AV={[Xg]:"fire-core",[sV]:"fire-core-compat",[oV]:"fire-analytics",[iV]:"fire-analytics-compat",[lV]:"fire-app-check",[aV]:"fire-app-check-compat",[cV]:"fire-auth",[uV]:"fire-auth-compat",[dV]:"fire-rtdb",[hV]:"fire-rtdb-compat",[fV]:"fire-fn",[pV]:"fire-fn-compat",[mV]:"fire-iid",[gV]:"fire-iid-compat",[_V]:"fire-fcm",[vV]:"fire-fcm-compat",[yV]:"fire-perf",[EV]:"fire-perf-compat",[SV]:"fire-rc",[wV]:"fire-rc-compat",[TV]:"fire-gcs",[CV]:"fire-gcs-compat",[IV]:"fire-fst",[RV]:"fire-fst-compat","fire-js":"fire-js",[xV]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,Zg=new Map;function bV(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function qs(t){const e=t.name;if(Zg.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;Zg.set(e,t);for(const n of ah.values())bV(n,t);return!0}function df(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},js=new Oc("app","Firebase",kV);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PV{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw js.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=NV;function p1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Jg,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw js.create("bad-app-name",{appName:String(s)});if(n||(n=o1()),!n)throw js.create("no-options");const i=ah.get(s);if(i){if(oh(n,i.options)&&oh(r,i.config))return i;throw js.create("duplicate-app",{appName:s})}const o=new FM(s);for(const l of Zg.values())o.addComponent(l);const a=new PV(n,r,o);return ah.set(s,a),a}function iy(t=Jg){const e=ah.get(t);if(!e&&t===Jg&&o1())return p1();if(!e)throw js.create("no-app",{appName:t});return e}function Bn(t,e,n){var r;let s=(r=AV[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}qs(new ns(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LV="firebase-heartbeat-database",OV=1,oc="firebase-heartbeat-store";let lm=null;function m1(){return lm||(lm=ZM(LV,OV,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(oc)}}}).catch(t=>{throw js.create("idb-open",{originalErrorMessage:t.message})})),lm}async function DV(t){try{return await(await m1()).transaction(oc).objectStore(oc).get(g1(t))}catch(e){if(e instanceof xr)bi.warn(e.message);else{const n=js.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function FS(t,e){try{const r=(await m1()).transaction(oc,"readwrite");await r.objectStore(oc).put(e,g1(t)),await r.done}catch(n){if(n instanceof xr)bi.warn(n.message);else{const r=js.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function g1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MV=1024,VV=30*24*60*60*1e3;class $V{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FV(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=US();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=VV}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=US(),{heartbeatsToSend:n,unsentEntries:r}=jV(this._heartbeatsCache.heartbeats),s=rh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function US(){return new Date().toISOString().substring(0,10)}function jV(t,e=MV){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),BS(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),BS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CM()?IM().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await DV(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return FS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return FS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function BS(t){return rh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(t){qs(new ns("platform-logger",e=>new nV(e),"PRIVATE")),qs(new ns("heartbeat",e=>new $V(e),"PRIVATE")),Bn(Xg,jS,t),Bn(Xg,jS,"esm2017"),Bn("fire-js","")}UV("");function oy(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function zS(t){return t!==void 0&&t.enterprise!==void 0}class BV{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}function _1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zV=_1,v1=new Oc("auth","Firebase",_1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh=new uf("@firebase/auth");function HV(t,...e){lh.logLevel<=ke.WARN&&lh.warn(`Auth (${ei}): ${t}`,...e)}function _d(t,...e){lh.logLevel<=ke.ERROR&&lh.error(`Auth (${ei}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(t,...e){throw ay(t,...e)}function Sr(t,...e){return ay(t,...e)}function y1(t,e,n){const r=Object.assign(Object.assign({},zV()),{[e]:n});return new Oc("auth","Firebase",r).create(e,{appName:t.name})}function WV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&qn(t,"argument-error"),y1(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ay(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return v1.create(t,...e)}function le(t,e,...n){if(!t)throw ay(e,...n)}function zr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _d(e),new Error(e)}function rs(t,e){t||zr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function qV(){return HS()==="http:"||HS()==="https:"}function HS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qV()||wM()||"connection"in navigator)?navigator.onLine:!0}function KV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,n){this.shortDelay=e,this.longDelay=n,rs(n>e,"Short delay should be less than long delay!"),this.isMobile=ry()||c1()}get(){return GV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ly(t,e){rs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YV=new Dc(3e4,6e4);function ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ni(t,e,n,r,s={}){return S1(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Sa(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),E1.fetch()(w1(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function S1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},QV),e);try{const s=new XV(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Mu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mu(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Mu(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Mu(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw y1(t,u,c);qn(t,u)}}catch(s){if(s instanceof xr)throw s;qn(t,"network-request-failed",{message:String(s)})}}async function Mc(t,e,n,r,s={}){const i=await ni(t,e,n,r,s);return"mfaPendingCredential"in i&&qn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function w1(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?ly(t.config,s):`${t.config.apiScheme}://${s}`}class XV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),YV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Sr(t,e,r);return s.customData._tokenResponse=n,s}async function JV(t,e){return ni(t,"GET","/v2/recaptchaConfig",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZV(t,e){return ni(t,"POST","/v1/accounts:delete",e)}async function e$(t,e){return ni(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t$(t,e=!1){const n=yt(t),r=await n.getIdToken(e),s=cy(r);le(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:xl(cm(s.auth_time)),issuedAtTime:xl(cm(s.iat)),expirationTime:xl(cm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function cm(t){return Number(t)*1e3}function cy(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _d("JWT malformed, contained fewer than 3 sections"),null;try{const s=sh(n);return s?JSON.parse(s):(_d("Failed to decode base64 JWT payload"),null)}catch(s){return _d("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function n$(t){const e=cy(t);return le(e,"internal-error"),le(typeof e.exp<"u","internal-error"),le(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ac(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof xr&&r$(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function r$({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xl(this.lastLoginAt),this.creationTime=xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ch(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ac(t,e$(n,{idToken:r}));le(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?a$(i.providerUserInfo):[],a=o$(t.providerData,o),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new T1(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,h)}async function i$(t){const e=yt(t);await ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function o$(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function a$(t){return t.map(e=>{var{providerId:n}=e,r=oy(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l$(t,e){const n=await S1(t,{},async()=>{const r=Sa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=w1(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",E1.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){le(e.idToken,"internal-error"),le(typeof e.idToken<"u","internal-error"),le(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):n$(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return le(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await l$(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new lc;return r&&(le(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(le(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(le(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lc,this.toJSON())}_performRefresh(){return zr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gs(t,e){le(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class wi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=oy(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new s$(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new T1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ac(this,this.stsTokenManager.getToken(this.auth,e));return le(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t$(this,e)}reload(){return i$(this)}_assign(e){this!==e&&(le(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ac(this,ZV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,l,c,u;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,y=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:E,emailVerified:w,isAnonymous:S,providerData:R,stsTokenManager:b}=n;le(E&&b,e,"internal-error");const P=lc.fromJSON(this.name,b);le(typeof E=="string",e,"internal-error"),gs(h,e.name),gs(f,e.name),le(typeof w=="boolean",e,"internal-error"),le(typeof S=="boolean",e,"internal-error"),gs(p,e.name),gs(m,e.name),gs(g,e.name),gs(y,e.name),gs(_,e.name),gs(v,e.name);const H=new wi({uid:E,auth:e,email:f,emailVerified:w,displayName:h,isAnonymous:S,photoURL:m,phoneNumber:p,tenantId:g,stsTokenManager:P,createdAt:_,lastLoginAt:v});return R&&Array.isArray(R)&&(H.providerData=R.map(O=>Object.assign({},O))),y&&(H._redirectEventId=y),H}static async _fromIdTokenResponse(e,n,r=!1){const s=new lc;s.updateFromServerResponse(n);const i=new wi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await ch(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WS=new Map;function Hr(t){rs(t instanceof Function,"Expected a class definition");let e=WS.get(t);return e?(rs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,WS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C1.type="NONE";const qS=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vd(t,e,n){return`firebase:${t}:${e}:${n}`}class Oo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=vd(this.userKey,s.apiKey,i),this.fullPersistenceKey=vd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Oo(Hr(qS),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Hr(qS);const o=vd(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(o);if(u){const h=wi._fromJSON(e,u);c!==i&&(a=h),i=c;break}}catch{}const l=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Oo(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Oo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(A1(e))return"Blackberry";if(b1(e))return"Webos";if(uy(e))return"Safari";if((e.includes("chrome/")||R1(e))&&!e.includes("edge/"))return"Chrome";if(N1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function I1(t=tn()){return/firefox\//i.test(t)}function uy(t=tn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function R1(t=tn()){return/crios\//i.test(t)}function x1(t=tn()){return/iemobile/i.test(t)}function N1(t=tn()){return/android/i.test(t)}function A1(t=tn()){return/blackberry/i.test(t)}function b1(t=tn()){return/webos/i.test(t)}function hf(t=tn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function c$(t=tn()){var e;return hf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u$(){return TM()&&document.documentMode===10}function k1(t=tn()){return hf(t)||N1(t)||b1(t)||A1(t)||/windows phone/i.test(t)||x1(t)}function d$(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t,e=[]){let n;switch(t){case"Browser":n=GS(tn());break;case"Worker":n=`${GS(tn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ei}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f$(t,e={}){return ni(t,"GET","/v2/passwordPolicy",ti(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p$=6;class m${constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:p$,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new KS(this),this.idTokenSubscription=new KS(this),this.beforeStateQueue=new h$(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=v1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return le(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?yt(e):null;return n&&le(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&le(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Hr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await f$(this),n=new m$(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Oc("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Hr(e)||this._popupRedirectResolver;le(n,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(le(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&HV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function fs(t){return yt(t)}class KS{constructor(e){this.auth=e,this.observer=null,this.addObserver=PM(n=>this.observer=n)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function L1(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Sr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",_$().appendChild(r)})}function v$(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const y$="https://www.google.com/recaptcha/enterprise.js?render=",E$="recaptcha-enterprise",S$="NO_RECAPTCHA";class w${constructor(e){this.type=E$,this.auth=fs(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{JV(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new BV(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;zS(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(S$)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&zS(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}L1(y$+a).then(()=>{s(a,i,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function uh(t,e,n,r=!1){const s=new w$(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t,e){const n=df(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(oh(i,e??{}))return s;qn(s,"already-initialized")}return n.initialize({options:e})}function C$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Hr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function I$(t,e,n){const r=fs(t);le(r._canInitEmulator,r,"emulator-config-failed"),le(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=O1(e),{host:o,port:a}=R$(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||x$()}function O1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function R$(t){const e=O1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:QS(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:QS(o)}}}function QS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function x$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zr("not implemented")}_getIdTokenResponse(e){return zr("not implemented")}_linkToIdToken(e,n){return zr("not implemented")}_getReauthenticationResolver(e){return zr("not implemented")}}async function N$(t,e){return ni(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function um(t,e){return Mc(t,"POST","/v1/accounts:signInWithPassword",ti(t,e))}async function A$(t,e){return ni(t,"POST","/v1/accounts:sendOobCode",ti(t,e))}async function b$(t,e){return A$(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k$(t,e){return Mc(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}async function P$(t,e){return Mc(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc extends dy{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new cc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new cc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await uh(e,r,"signInWithPassword");return um(e,s)}else return um(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await uh(e,r,"signInWithPassword");return um(e,i)}else return Promise.reject(s)});case"emailLink":return k$(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return N$(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return P$(e,{idToken:n,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(t,e){return Mc(t,"POST","/v1/accounts:signInWithIdp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L$="http://localhost";class ki extends dy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=oy(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new ki(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Do(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Do(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Do(e,n)}buildRequest(){const e={requestUri:L$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sa(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function D$(t){const e=cl(ul(t)).link,n=e?cl(ul(e)).deep_link_id:null,r=cl(ul(t)).deep_link_id;return(r?cl(ul(r)).link:null)||r||n||e||t}class hy{constructor(e){var n,r,s,i,o,a;const l=cl(ul(e)),c=(n=l.apiKey)!==null&&n!==void 0?n:null,u=(r=l.oobCode)!==null&&r!==void 0?r:null,h=O$((s=l.mode)!==null&&s!==void 0?s:null);le(c&&u&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=u,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=D$(e);try{return new hy(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(){this.providerId=wa.PROVIDER_ID}static credential(e,n){return cc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=hy.parseLink(n);return le(r,"argument-error"),cc._fromEmailAndCode(e,r.code,r.tenantId)}}wa.PROVIDER_ID="password";wa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc extends fy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r extends Vc{constructor(){super("facebook.com")}static credential(e){return ki._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $r.credential(e.oauthAccessToken)}catch{return null}}}$r.FACEBOOK_SIGN_IN_METHOD="facebook.com";$r.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends Vc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ki._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return fr.credential(n,r)}catch{return null}}}fr.GOOGLE_SIGN_IN_METHOD="google.com";fr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr extends Vc{constructor(){super("github.com")}static credential(e){return ki._fromParams({providerId:jr.PROVIDER_ID,signInMethod:jr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return jr.credentialFromTaggedObject(e)}static credentialFromError(e){return jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return jr.credential(e.oauthAccessToken)}catch{return null}}}jr.GITHUB_SIGN_IN_METHOD="github.com";jr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr extends Vc{constructor(){super("twitter.com")}static credential(e,n){return ki._fromParams({providerId:Fr.PROVIDER_ID,signInMethod:Fr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fr.credentialFromTaggedObject(e)}static credentialFromError(e){return Fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fr.credential(n,r)}catch{return null}}}Fr.TWITTER_SIGN_IN_METHOD="twitter.com";Fr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dm(t,e){return Mc(t,"POST","/v1/accounts:signUp",ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await wi._fromIdTokenResponse(e,r,s),o=YS(r);return new Pi({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=YS(r);return new Pi({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function YS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh extends xr{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new dh(e,n,r,s)}}function D1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(t,i,e,r):i})}async function M$(t,e,n=!1){const r=await ac(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Pi._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await ac(t,D1(r,s,e,t),n);le(i.idToken,r,"internal-error");const o=cy(i.idToken);le(o,r,"internal-error");const{sub:a}=o;return le(t.uid===a,r,"user-mismatch"),Pi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&qn(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(t,e,n=!1){const r="signIn",s=await D1(t,r,e),i=await Pi._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function $$(t,e){return M1(fs(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j$(t,e,n){var r;le(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),le(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(le(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(le(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1(t){const e=fs(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function F$(t,e,n){var r;const s=fs(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await uh(s,i,"signUpPassword");o=dm(s,c)}else o=dm(s,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await uh(s,i,"signUpPassword");return dm(s,u)}throw c});const a=await o.catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&V1(t),c}),l=await Pi._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(l.user),l}function XS(t,e,n){return $$(yt(t),wa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&V1(t),r})}async function U$(t,e){const n=yt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&j$(n.auth,s,e);const{email:i}=await b$(n.auth,s);i!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(t,e){return yt(t).setPersistence(e)}function z$(t,e,n,r){return yt(t).onIdTokenChanged(e,n,r)}function H$(t,e,n){return yt(t).beforeAuthStateChanged(e,n)}function ff(t,e,n,r){return yt(t).onAuthStateChanged(e,n,r)}function W$(t){return yt(t).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q$(){const t=tn();return uy(t)||hf(t)}const G$=1e3,K$=10;class j1 extends $1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=q$()&&d$(),this.fallbackToPolling=k1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);u$()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,K$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},G$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}j1.type="LOCAL";const Q$=j1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1 extends $1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}F1.type="SESSION";const py=F1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new pf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),l=await Y$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function my(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const c=my("",20);s.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wr(){return window}function J$(t){wr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(){return typeof wr().WorkerGlobalScope<"u"&&typeof wr().importScripts=="function"}async function Z$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function e2(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function t2(){return U1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firebaseLocalStorageDb",n2=1,fh="firebaseLocalStorage",z1="fbase_key";class $c{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function mf(t,e){return t.transaction([fh],e?"readwrite":"readonly").objectStore(fh)}function r2(){const t=indexedDB.deleteDatabase(B1);return new $c(t).toPromise()}function t_(){const t=indexedDB.open(B1,n2);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(fh,{keyPath:z1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(fh)?e(r):(r.close(),await r2(),e(await t_()))})})}async function JS(t,e,n){const r=mf(t,!0).put({[z1]:e,value:n});return new $c(r).toPromise()}async function s2(t,e){const n=mf(t,!1).get(e),r=await new $c(n).toPromise();return r===void 0?null:r.value}function ZS(t,e){const n=mf(t,!0).delete(e);return new $c(n).toPromise()}const i2=800,o2=3;class H1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await t_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>o2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return U1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pf._getInstance(t2()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Z$(),!this.activeServiceWorker)return;this.sender=new X$(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||e2()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await t_();return await JS(e,hh,"1"),await ZS(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>JS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>s2(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>ZS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=mf(s,!1).getAll();return new $c(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),i2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}H1.type="LOCAL";const a2=H1;new Dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(t,e){return e?Hr(e):(le(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy extends dy{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Do(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Do(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Do(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function l2(t){return M1(t.auth,new gy(t),t.bypassAuthState)}function c2(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),V$(n,new gy(t),t.bypassAuthState)}async function u2(t){const{auth:e,user:n}=t;return le(n,e,"internal-error"),M$(n,new gy(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return l2;case"linkViaPopup":case"linkViaRedirect":return u2;case"reauthViaPopup":case"reauthViaRedirect":return c2;default:qn(this.auth,"internal-error")}}resolve(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new Dc(2e3,1e4);class Co extends q1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Co.currentPopupAction&&Co.currentPopupAction.cancel(),Co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return le(e,this.auth,"internal-error"),e}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const e=my();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,d2.get())};e()}}Co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="pendingRedirect",yd=new Map;class f2 extends q1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=yd.get(this.auth._key());if(!e){try{const r=await p2(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}yd.set(this.auth._key(),e)}return this.bypassAuthState||yd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function p2(t,e){const n=K1(e),r=G1(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}async function m2(t,e){return G1(t)._set(K1(e),"true")}function g2(t,e){yd.set(t._key(),e)}function G1(t){return Hr(t._redirectPersistence)}function K1(t){return vd(h2,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dl(t,e,n){return _2(t,e,n)}async function _2(t,e,n){const r=fs(t);WV(t,e,fy),await r._initializationPromise;const s=W1(r,n);return await m2(s,r),s._openRedirect(r,e,"signInViaRedirect")}async function Q1(t,e){return await fs(t)._initializationPromise,Y1(t,e,!1)}async function Y1(t,e,n=!1){const r=fs(t),s=W1(r,e),o=await new f2(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=10*60*1e3;class y2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!E2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!X1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Sr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=v2&&this.cachedEventUids.clear(),this.cachedEventUids.has(ew(e))}saveEventToCache(e){this.cachedEventUids.add(ew(e)),this.lastProcessedEventTime=Date.now()}}function ew(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function X1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function E2(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return X1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S2(t,e={}){return ni(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T2=/^https?/;async function C2(t){if(t.config.emulator)return;const{authorizedDomains:e}=await S2(t);for(const n of e)try{if(I2(n))return}catch{}qn(t,"unauthorized-domain")}function I2(t){const e=e_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!T2.test(n))return!1;if(w2.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2=new Dc(3e4,6e4);function tw(){const t=wr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function x2(t){return new Promise((e,n)=>{var r,s,i;function o(){tw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tw(),n(Sr(t,"network-request-failed"))},timeout:R2.get()})}if(!((s=(r=wr().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=wr().gapi)===null||i===void 0)&&i.load)o();else{const a=v$("iframefcb");return wr()[a]=()=>{gapi.load?o():n(Sr(t,"network-request-failed"))},L1(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Ed=null,e})}let Ed=null;function N2(t){return Ed=Ed||x2(t),Ed}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new Dc(5e3,15e3),b2="__/auth/iframe",k2="emulator/auth/iframe",P2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},L2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function O2(t){const e=t.config;le(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?ly(e,k2):`https://${t.config.authDomain}/${b2}`,r={apiKey:e.apiKey,appName:t.name,v:ei},s=L2.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Sa(r).slice(1)}`}async function D2(t){const e=await N2(t),n=wr().gapi;return le(n,t,"internal-error"),e.open({where:document.body,url:O2(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:P2,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Sr(t,"network-request-failed"),a=wr().setTimeout(()=>{i(o)},A2.get());function l(){wr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},V2=500,$2=600,j2="_blank",F2="http://localhost";class nw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function U2(t,e,n,r=V2,s=$2){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},M2),{width:r.toString(),height:s.toString(),top:i,left:o}),c=tn().toLowerCase();n&&(a=R1(c)?j2:n),I1(c)&&(e=e||F2,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[p,m])=>`${f}${p}=${m},`,"");if(c$(c)&&a!=="_self")return B2(e||"",a),new nw(null);const h=window.open(e||"",a,u);le(h,t,"popup-blocked");try{h.focus()}catch{}return new nw(h)}function B2(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2="__/auth/handler",H2="emulator/auth/handler",W2=encodeURIComponent("fac");async function rw(t,e,n,r,s,i){le(t.config.authDomain,t,"auth-domain-config-required"),le(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ei,eventId:s};if(e instanceof fy){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Kg(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,h]of Object.entries(i||{}))o[u]=h}if(e instanceof Vc){const u=e.getScopes().filter(h=>h!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${W2}=${encodeURIComponent(l)}`:"";return`${q2(t)}?${Sa(a).slice(1)}${c}`}function q2({config:t}){return t.emulator?ly(t,H2):`https://${t.authDomain}/${z2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class G2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=py,this._completeRedirectFn=Y1,this._overrideRedirectResult=g2}async _openPopup(e,n,r,s){var i;rs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await rw(e,n,r,e_(),s);return U2(e,o,my())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await rw(e,n,r,e_(),s);return J$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await D2(e),r=new y2(e);return n.register("authEvent",s=>(le(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[hm];o!==void 0&&n(!!o),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=C2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return k1()||uy()||hf()}}const K2=G2;var sw="@firebase/auth",iw="1.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function X2(t){qs(new ns("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;le(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P1(t)},c=new g$(r,s,i,l);return C$(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),qs(new ns("auth-internal",e=>{const n=fs(e.getProvider("auth").getImmediate());return(r=>new Q2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(sw,iw,Y2(t)),Bn(sw,iw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=5*60,Z2=a1("authIdTokenMaxAge")||J2;let ow=null;const ej=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Z2)return;const s=n==null?void 0:n.token;ow!==s&&(ow=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ss(t=iy()){const e=df(t,"auth");if(e.isInitialized())return e.getImmediate();const n=T$(t,{popupRedirectResolver:K2,persistence:[a2,Q$,py]}),r=a1("authTokenSyncURL");if(r){const i=ej(r);H$(n,i,()=>i(n.currentUser)),z$(n,o=>i(o))}const s=s1("auth");return s&&I$(n,`http://${s}`),n}X2("Browser");function tj(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var nj=tj,Se=nj;function rj(t){return!!t&&typeof t.then=="function"}var Ge=rj;function sj(t,e){if(t!=null)return t;throw Se(e??"Got unexpected null or undefined")}var nt=sj;function ve(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class gf{getValue(){throw Se("BaseLoadable")}toPromise(){throw Se("BaseLoadable")}valueMaybe(){throw Se("BaseLoadable")}valueOrThrow(){throw Se(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Se("BaseLoadable")}promiseOrThrow(){throw Se(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Se("BaseLoadable")}errorOrThrow(){throw Se(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Se("BaseLoadable")}}class ij extends gf{constructor(e){super(),ve(this,"state","hasValue"),ve(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return Ge(n)?Li(n):Zo(n)?n:jc(n)}catch(n){return Ge(n)?Li(n.next(()=>this.map(e))):_f(n)}}}class oj extends gf{constructor(e){super(),ve(this,"state","hasError"),ve(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class J1 extends gf{constructor(e){super(),ve(this,"state","loading"),ve(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Li(this.contents.then(n=>{const r=e(n);if(Zo(r)){const s=r;switch(s.state){case"hasValue":return s.contents;case"hasError":throw s.contents;case"loading":return s.contents}}return r}).catch(n=>{if(Ge(n))return n.then(()=>this.map(e).contents);throw n}))}}function jc(t){return Object.freeze(new ij(t))}function _f(t){return Object.freeze(new oj(t))}function Li(t){return Object.freeze(new J1(t))}function Z1(){return Object.freeze(new J1(new Promise(()=>{})))}function aj(t){return t.every(e=>e.state==="hasValue")?jc(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?_f(nt(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Li(Promise.all(t.map(e=>e.contents)))}function ex(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(s=>t[s])).map(s=>Zo(s)?s:Ge(s)?Li(s):jc(s)),r=aj(n);return Array.isArray(t)?r:r.map(s=>Object.getOwnPropertyNames(t).reduce((i,o,a)=>({...i,[o]:s[a]}),{}))}function Zo(t){return t instanceof gf}const lj={of:t=>Ge(t)?Li(t):Zo(t)?t:jc(t),error:t=>_f(t),loading:()=>Z1(),all:ex,isLoadable:Zo};var Gi={loadableWithValue:jc,loadableWithError:_f,loadableWithPromise:Li,loadableLoading:Z1,loadableAll:ex,isLoadable:Zo,RecoilLoadable:lj},cj=Gi.loadableWithValue,uj=Gi.loadableWithError,dj=Gi.loadableWithPromise,hj=Gi.loadableLoading,fj=Gi.loadableAll,pj=Gi.isLoadable,mj=Gi.RecoilLoadable,Fc=Object.freeze({__proto__:null,loadableWithValue:cj,loadableWithError:uj,loadableWithPromise:dj,loadableLoading:hj,loadableAll:fj,isLoadable:pj,RecoilLoadable:mj});const n_={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function gj(t,e){var n,r;const s=(n=process.env[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(s==null||s==="")return;if(!["true","false"].includes(s))throw Se(`({}).${t} value must be 'true', 'false', or empty: ${s}`);e(s==="true")}function _j(t,e){var n;const r=(n=process.env[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function vj(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(gj("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{n_.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),_j("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{n_.RECOIL_GKS_ENABLED.add(n)})}))}vj();var Ta=n_;function vf(t){return Ta.RECOIL_GKS_ENABLED.has(t)}vf.setPass=t=>{Ta.RECOIL_GKS_ENABLED.add(t)};vf.setFail=t=>{Ta.RECOIL_GKS_ENABLED.delete(t)};vf.clear=()=>{Ta.RECOIL_GKS_ENABLED.clear()};var Fe=vf;function yj(t,e,{error:n}={}){return null}var Ej=yj,_y=Ej,fm,pm,mm;const Sj=(fm=pe.createMutableSource)!==null&&fm!==void 0?fm:pe.unstable_createMutableSource,tx=(pm=pe.useMutableSource)!==null&&pm!==void 0?pm:pe.unstable_useMutableSource,nx=(mm=pe.useSyncExternalStore)!==null&&mm!==void 0?mm:pe.unstable_useSyncExternalStore;function wj(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function Tj(){return Fe("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Fe("recoil_sync_external_store")&&nx!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Fe("recoil_mutable_source")&&tx!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Fe("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Fe("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function Cj(){return!1}var Uc={createMutableSource:Sj,useMutableSource:tx,useSyncExternalStore:nx,currentRendererSupportsUseSyncExternalStore:wj,reactMode:Tj,isFastRefreshEnabled:Cj};class vy{constructor(e){ve(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class rx extends vy{}class sx extends vy{}function Ij(t){return t instanceof rx||t instanceof sx}var yf={AbstractRecoilValue:vy,RecoilState:rx,RecoilValueReadOnly:sx,isRecoilValue:Ij},Rj=yf.AbstractRecoilValue,xj=yf.RecoilState,Nj=yf.RecoilValueReadOnly,Aj=yf.isRecoilValue,ea=Object.freeze({__proto__:null,AbstractRecoilValue:Rj,RecoilState:xj,RecoilValueReadOnly:Nj,isRecoilValue:Aj});function bj(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Ef=bj;class ix{}const kj=new ix,Oi=new Map,yy=new Map;function Pj(t){return Ef(t,e=>nt(yy.get(e)))}function Lj(t){if(Oi.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function Oj(t){Ta.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&Lj(t.key),Oi.set(t.key,t);const e=t.set==null?new ea.RecoilValueReadOnly(t.key):new ea.RecoilState(t.key);return yy.set(t.key,e),e}class ox extends Error{}function Dj(t){const e=Oi.get(t);if(e==null)throw new ox(`Missing definition for RecoilValue: "${t}""`);return e}function Mj(t){return Oi.get(t)}const ph=new Map;function Vj(t){var e;if(!Fe("recoil_memory_managament_2020"))return;const n=Oi.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Oi.delete(t),(r=ax(t))===null||r===void 0||r(),ph.delete(t)}}function $j(t,e){Fe("recoil_memory_managament_2020")&&(e===void 0?ph.delete(t):ph.set(t,e))}function ax(t){return ph.get(t)}var wn={nodes:Oi,recoilValues:yy,registerNode:Oj,getNode:Dj,getNodeMaybe:Mj,deleteNodeConfigIfPossible:Vj,setConfigDeletionHandler:$j,getConfigDeletionHandler:ax,recoilValuesForKeys:Pj,NodeMissingError:ox,DefaultValue:ix,DEFAULT_VALUE:kj};function jj(t,e){e()}var Fj={enqueueExecution:jj};function Uj(t,e){return e={exports:{}},t(e,e.exports),e.exports}var Bj=Uj(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},n={},r=5,s=Math.pow(2,r),i=s-1,o=s/2,a=s/4,l={},c=function(C){return function(){return C}},u=n.hash=function(x){var C=typeof x>"u"?"undefined":e(x);if(C==="number")return x;C!=="string"&&(x+="");for(var F=0,Q=0,Y=x.length;Q<Y;++Q){var ne=x.charCodeAt(Q);F=(F<<5)-F+ne|0}return F},h=function(C){return C-=C>>1&1431655765,C=(C&858993459)+(C>>2&858993459),C=C+(C>>4)&252645135,C+=C>>8,C+=C>>16,C&127},f=function(C,F){return F>>>C&i},p=function(C){return 1<<C},m=function(C,F){return h(C&F-1)},g=function(C,F,Q,Y){var ne=Y;if(!C){var he=Y.length;ne=new Array(he);for(var ue=0;ue<he;++ue)ne[ue]=Y[ue]}return ne[F]=Q,ne},y=function(C,F,Q){var Y=Q.length-1,ne=0,he=0,ue=Q;if(C)ne=he=F;else for(ue=new Array(Y);ne<F;)ue[he++]=Q[ne++];for(++ne;ne<=Y;)ue[he++]=Q[ne++];return C&&(ue.length=Y),ue},_=function(C,F,Q,Y){var ne=Y.length;if(C){for(var he=ne;he>=F;)Y[he--]=Y[he];return Y[F]=Q,Y}for(var ue=0,de=0,Ce=new Array(ne+1);ue<F;)Ce[de++]=Y[ue++];for(Ce[F]=Q;ue<ne;)Ce[++de]=Y[ue++];return Ce},v=1,E=2,w=3,S=4,R={__hamt_isEmpty:!0},b=function(C){return C===R||C&&C.__hamt_isEmpty},P=function(C,F,Q,Y){return{type:v,edit:C,hash:F,key:Q,value:Y,_modify:$}},H=function(C,F,Q){return{type:E,edit:C,hash:F,children:Q,_modify:q}},O=function(C,F,Q){return{type:w,edit:C,mask:F,children:Q,_modify:j}},k=function(C,F,Q){return{type:S,edit:C,size:F,children:Q,_modify:Z}},N=function(C){return C===R||C.type===v||C.type===E},A=function(C,F,Q,Y,ne){for(var he=[],ue=Y,de=0,Ce=0;ue;++Ce)ue&1&&(he[Ce]=ne[de++]),ue>>>=1;return he[F]=Q,k(C,de+1,he)},z=function(C,F,Q,Y){for(var ne=new Array(F-1),he=0,ue=0,de=0,Ce=Y.length;de<Ce;++de)if(de!==Q){var Ze=Y[de];Ze&&!b(Ze)&&(ne[he++]=Ze,ue|=1<<de)}return O(C,ue,ne)},ie=function x(C,F,Q,Y,ne,he){if(Q===ne)return H(C,Q,[he,Y]);var ue=f(F,Q),de=f(F,ne);return O(C,p(ue)|p(de),ue===de?[x(C,F+r,Q,Y,ne,he)]:ue<de?[Y,he]:[he,Y])},Ee=function(C,F,Q,Y,ne,he,ue,de){for(var Ce=ne.length,Ze=0;Ze<Ce;++Ze){var dn=ne[Ze];if(Q(ue,dn.key)){var wt=dn.value,Ln=he(wt);return Ln===wt?ne:Ln===l?(--de.value,y(C,Ze,ne)):g(C,Ze,P(F,Y,ue,Ln),ne)}}var Kn=he();return Kn===l?ne:(++de.value,g(C,Ce,P(F,Y,ue,Kn),ne))},we=function(C,F){return C===F.edit},$=function(C,F,Q,Y,ne,he,ue){if(F(he,this.key)){var de=Y(this.value);return de===this.value?this:de===l?(--ue.value,R):we(C,this)?(this.value=de,this):P(C,ne,he,de)}var Ce=Y();return Ce===l?this:(++ue.value,ie(C,Q,this.hash,this,ne,P(C,ne,he,Ce)))},q=function(C,F,Q,Y,ne,he,ue){if(ne===this.hash){var de=we(C,this),Ce=Ee(de,C,F,this.hash,this.children,Y,he,ue);return Ce===this.children?this:Ce.length>1?H(C,this.hash,Ce):Ce[0]}var Ze=Y();return Ze===l?this:(++ue.value,ie(C,Q,this.hash,this,ne,P(C,ne,he,Ze)))},j=function(C,F,Q,Y,ne,he,ue){var de=this.mask,Ce=this.children,Ze=f(Q,ne),dn=p(Ze),wt=m(de,dn),Ln=de&dn,Kn=Ln?Ce[wt]:R,to=Kn._modify(C,F,Q+r,Y,ne,he,ue);if(Kn===to)return this;var vu=we(C,this),Va=de,$a=void 0;if(Ln&&b(to)){if(Va&=~dn,!Va)return R;if(Ce.length<=2&&N(Ce[wt^1]))return Ce[wt^1];$a=y(vu,wt,Ce)}else if(!Ln&&!b(to)){if(Ce.length>=o)return A(C,Ze,to,de,Ce);Va|=dn,$a=_(vu,wt,to,Ce)}else $a=g(vu,wt,to,Ce);return vu?(this.mask=Va,this.children=$a,this):O(C,Va,$a)},Z=function(C,F,Q,Y,ne,he,ue){var de=this.size,Ce=this.children,Ze=f(Q,ne),dn=Ce[Ze],wt=(dn||R)._modify(C,F,Q+r,Y,ne,he,ue);if(dn===wt)return this;var Ln=we(C,this),Kn=void 0;if(b(dn)&&!b(wt))++de,Kn=g(Ln,Ze,wt,Ce);else if(!b(dn)&&b(wt)){if(--de,de<=a)return z(C,de,Ze,Ce);Kn=g(Ln,Ze,R,Ce)}else Kn=g(Ln,Ze,wt,Ce);return Ln?(this.size=de,this.children=Kn,this):k(C,de,Kn)};R._modify=function(x,C,F,Q,Y,ne,he){var ue=Q();return ue===l?R:(++he.value,P(x,Y,ne,ue))};function I(x,C,F,Q,Y){this._editable=x,this._edit=C,this._config=F,this._root=Q,this._size=Y}I.prototype.setTree=function(x,C){return this._editable?(this._root=x,this._size=C,this):x===this._root?this:new I(this._editable,this._edit,this._config,x,C)};var L=n.tryGetHash=function(x,C,F,Q){for(var Y=Q._root,ne=0,he=Q._config.keyEq;;)switch(Y.type){case v:return he(F,Y.key)?Y.value:x;case E:{if(C===Y.hash)for(var ue=Y.children,de=0,Ce=ue.length;de<Ce;++de){var Ze=ue[de];if(he(F,Ze.key))return Ze.value}return x}case w:{var dn=f(ne,C),wt=p(dn);if(Y.mask&wt){Y=Y.children[m(Y.mask,wt)],ne+=r;break}return x}case S:{if(Y=Y.children[f(ne,C)],Y){ne+=r;break}return x}default:return x}};I.prototype.tryGetHash=function(x,C,F){return L(x,C,F,this)};var V=n.tryGet=function(x,C,F){return L(x,F._config.hash(C),C,F)};I.prototype.tryGet=function(x,C){return V(x,C,this)};var se=n.getHash=function(x,C,F){return L(void 0,x,C,F)};I.prototype.getHash=function(x,C){return se(x,C,this)},n.get=function(x,C){return L(void 0,C._config.hash(x),x,C)},I.prototype.get=function(x,C){return V(C,x,this)};var X=n.has=function(x,C,F){return L(l,x,C,F)!==l};I.prototype.hasHash=function(x,C){return X(x,C,this)};var _e=n.has=function(x,C){return X(C._config.hash(x),x,C)};I.prototype.has=function(x){return _e(x,this)};var Te=function(C,F){return C===F};n.make=function(x){return new I(0,0,{keyEq:x&&x.keyEq||Te,hash:x&&x.hash||u},R,0)},n.empty=n.make();var ae=n.isEmpty=function(x){return x&&!!b(x._root)};I.prototype.isEmpty=function(){return ae(this)};var Xe=n.modifyHash=function(x,C,F,Q){var Y={value:Q._size},ne=Q._root._modify(Q._editable?Q._edit:NaN,Q._config.keyEq,0,x,C,F,Y);return Q.setTree(ne,Y.value)};I.prototype.modifyHash=function(x,C,F){return Xe(F,x,C,this)};var St=n.modify=function(x,C,F){return Xe(x,F._config.hash(C),C,F)};I.prototype.modify=function(x,C){return St(C,x,this)};var $e=n.setHash=function(x,C,F,Q){return Xe(c(F),x,C,Q)};I.prototype.setHash=function(x,C,F){return $e(x,C,F,this)};var Je=n.set=function(x,C,F){return $e(F._config.hash(x),x,C,F)};I.prototype.set=function(x,C){return Je(x,C,this)};var Pn=c(l),Pr=n.removeHash=function(x,C,F){return Xe(Pn,x,C,F)};I.prototype.removeHash=I.prototype.deleteHash=function(x,C){return Pr(x,C,this)};var rn=n.remove=function(x,C){return Pr(C._config.hash(x),x,C)};I.prototype.remove=I.prototype.delete=function(x){return rn(x,this)};var jt=n.beginMutation=function(x){return new I(x._editable+1,x._edit+1,x._config,x._root,x._size)};I.prototype.beginMutation=function(){return jt(this)};var _u=n.endMutation=function(x){return x._editable=x._editable&&x._editable-1,x};I.prototype.endMutation=function(){return _u(this)};var LP=n.mutate=function(x,C){var F=jt(C);return x(F),_u(F)};I.prototype.mutate=function(x){return LP(x,this)};var xp=function(C){return C&&p0(C[0],C[1],C[2],C[3],C[4])},p0=function(C,F,Q,Y,ne){for(;Q<C;){var he=F[Q++];if(he&&!b(he))return m0(he,Y,[C,F,Q,Y,ne])}return xp(ne)},m0=function(C,F,Q){switch(C.type){case v:return{value:F(C),rest:Q};case E:case S:case w:var Y=C.children;return p0(Y.length,Y,0,F,Q);default:return xp(Q)}},OP={done:!0};function Np(x){this.v=x}Np.prototype.next=function(){if(!this.v)return OP;var x=this.v;return this.v=xp(x.rest),x},Np.prototype[Symbol.iterator]=function(){return this};var Ap=function(C,F){return new Np(m0(C._root,F))},DP=function(C){return[C.key,C.value]},MP=n.entries=function(x){return Ap(x,DP)};I.prototype.entries=I.prototype[Symbol.iterator]=function(){return MP(this)};var VP=function(C){return C.key},$P=n.keys=function(x){return Ap(x,VP)};I.prototype.keys=function(){return $P(this)};var jP=function(C){return C.value},FP=n.values=I.prototype.values=function(x){return Ap(x,jP)};I.prototype.values=function(){return FP(this)};var g0=n.fold=function(x,C,F){var Q=F._root;if(Q.type===v)return x(C,Q.value,Q.key);for(var Y=[Q.children],ne=void 0;ne=Y.pop();)for(var he=0,ue=ne.length;he<ue;){var de=ne[he++];de&&de.type&&(de.type===v?C=x(C,de.value,de.key):Y.push(de.children))}return C};I.prototype.fold=function(x,C){return g0(x,C,this)};var UP=n.forEach=function(x,C){return g0(function(F,Q,Y){return x(Q,Y,C)},null,C)};I.prototype.forEach=function(x){return UP(x,this)};var BP=n.count=function(x){return x._size};I.prototype.count=function(){return BP(this)},Object.defineProperty(I.prototype,"size",{get:I.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class zj{constructor(e){ve(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return Sy(this)}toMap(){return new Map(this._map)}}class Ey{constructor(e){if(ve(this,"_hamt",Bj.empty.beginMutation()),e instanceof Ey){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return Sy(this)}toMap(){return new Map(this._hamt)}}function Sy(t){return Fe("recoil_hamt_2020")?new Ey(t):new zj(t)}var Hj={persistentMap:Sy},Wj=Hj.persistentMap,qj=Object.freeze({__proto__:null,persistentMap:Wj});function Gj(t,...e){const n=new Set;e:for(const r of t){for(const s of e)if(s.has(r))continue e;n.add(r)}return n}var Nl=Gj;function Kj(t,e){const n=new Map;return t.forEach((r,s)=>{n.set(s,e(r,s))}),n}var mh=Kj;function Qj(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function Yj(t){return{nodeDeps:mh(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:mh(t.nodeToNodeSubscriptions,e=>new Set(e))}}function gm(t,e,n,r){const{nodeDeps:s,nodeToNodeSubscriptions:i}=n,o=s.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;s.set(t,e);const a=o==null?e:Nl(e,o);for(const l of a)i.has(l)||i.set(l,new Set),nt(i.get(l)).add(t);if(o){const l=Nl(o,e);for(const c of l){if(!i.has(c))return;const u=nt(i.get(c));u.delete(t),u.size===0&&i.delete(c)}}}function Xj(t,e,n,r){var s,i,o,a;const l=n.getState();r===l.currentTree.version||r===((s=l.nextTree)===null||s===void 0?void 0:s.version)||((i=l.previousTree)===null||i===void 0||i.version);const c=n.getGraph(r);if(gm(t,e,c),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const h=n.getGraph(l.currentTree.version);gm(t,e,h,c)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var u;const h=(u=l.nextTree)===null||u===void 0?void 0:u.version;if(h!==void 0){const f=n.getGraph(h);gm(t,e,f,c)}}}var Bc={cloneGraph:Yj,graph:Qj,saveDepsToStore:Xj};let Jj=0;const Zj=()=>Jj++;let eF=0;const tF=()=>eF++;let nF=0;const rF=()=>nF++;var Sf={getNextTreeStateVersion:Zj,getNextStoreID:tF,getNextComponentID:rF};const{persistentMap:aw}=qj,{graph:sF}=Bc,{getNextTreeStateVersion:lx}=Sf;function cx(){const t=lx();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:aw(),nonvalidatedAtoms:aw()}}function iF(){const t=cx();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,sF()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var ux={makeEmptyTreeState:cx,makeEmptyStoreState:iF,getNextTreeStateVersion:lx};class dx{}function oF(){return new dx}var wf={RetentionZone:dx,retentionZone:oF};function aF(t,e){const n=new Set(t);return n.add(e),n}function lF(t,e){const n=new Set(t);return n.delete(e),n}function cF(t,e,n){const r=new Map(t);return r.set(e,n),r}function uF(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function dF(t,e){const n=new Map(t);return n.delete(e),n}function hF(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var hx={setByAddingToSet:aF,setByDeletingFromSet:lF,mapBySettingInMap:cF,mapByUpdatingInMap:uF,mapByDeletingFromMap:dF,mapByDeletingMultipleFromMap:hF};function*fF(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var wy=fF;function pF(t,e){return new Proxy(t,{get:(r,s)=>(!(s in r)&&s in e&&(r[s]=e[s]()),r[s]),ownKeys:r=>Object.keys(r)})}var fx=pF;const{getNode:zc,getNodeMaybe:mF,recoilValuesForKeys:lw}=wn,{RetentionZone:cw}=wf,{setByAddingToSet:gF}=hx,_F=Object.freeze(new Set);class vF extends Error{}function yF(t,e,n){if(!Fe("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function s(i){let o=r.get(i);o||r.set(i,o=new Set),o.add(e)}if(n instanceof cw)s(n);else if(Array.isArray(n))for(const i of n)s(i);return()=>{if(!Fe("recoil_memory_managament_2020"))return;const{retention:i}=t.getState();function o(a){const l=i.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&i.nodesRetainedByZone.delete(a)}if(n instanceof cw)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function Ty(t,e,n,r){const s=t.getState();if(s.nodeCleanupFunctions.has(n))return;const i=zc(n),o=yF(t,n,i.retainedBy),a=i.init(t,e,r);s.nodeCleanupFunctions.set(n,()=>{a(),o()})}function EF(t,e,n){Ty(t,t.getState().currentTree,e,n)}function SF(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function wF(t,e,n){return Ty(t,e,n,"get"),zc(n).get(t,e)}function px(t,e,n){return zc(n).peek(t,e)}function TF(t,e,n){var r;const s=mF(e);return s==null||(r=s.invalidate)===null||r===void 0||r.call(s,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:gF(t.dirtyAtoms,e)}}function CF(t,e,n,r){const s=zc(n);if(s.set==null)throw new vF(`Attempt to set read-only RecoilValue: ${n}`);const i=s.set;return Ty(t,e,n,"set"),i(t,e,r)}function IF(t,e,n){const r=t.getState(),s=t.getGraph(e.version),i=zc(n).nodeType;return fx({type:i},{loadable:()=>px(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>i==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return lw((o=s.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:lw(wy(mx(t,e,new Set([n])),l=>l!==n)),components:Ef((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function mx(t,e,n){const r=new Set,s=Array.from(n),i=t.getGraph(e.version);for(let a=s.pop();a;a=s.pop()){var o;r.add(a);const l=(o=i.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:_F;for(const c of l)r.has(c)||s.push(c)}return r}var ri={getNodeLoadable:wF,peekNodeLoadable:px,setNodeValue:CF,initializeNode:EF,cleanUpNode:SF,setUnvalidatedAtomValue_DEPRECATED:TF,peekNodeInfo:IF,getDownstreamNodes:mx};let gx=null;function RF(t){gx=t}function xF(){var t;(t=gx)===null||t===void 0||t()}var _x={setInvalidateMemoizedSnapshot:RF,invalidateMemoizedSnapshot:xF};const{getDownstreamNodes:NF,getNodeLoadable:vx,setNodeValue:AF}=ri,{getNextComponentID:bF}=Sf,{getNode:kF,getNodeMaybe:yx}=wn,{DefaultValue:Cy}=wn,{reactMode:PF}=Uc,{AbstractRecoilValue:LF,RecoilState:OF,RecoilValueReadOnly:DF,isRecoilValue:MF}=ea,{invalidateMemoizedSnapshot:VF}=_x;function $F(t,{key:e},n=t.getState().currentTree){var r,s;const i=t.getState();n.version===i.currentTree.version||n.version===((r=i.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(s=i.previousTree)===null||s===void 0||s.version);const o=vx(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function jF(t,e){const n=t.clone();return e.forEach((r,s)=>{r.state==="hasValue"&&r.contents instanceof Cy?n.delete(s):n.set(s,r)}),n}function FF(t,e,{key:n},r){if(typeof r=="function"){const s=vx(t,e,n);if(s.state==="loading"){const i=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Se(i)}else if(s.state==="hasError")throw s.contents;return r(s.contents)}else return r}function UF(t,e,n){if(n.type==="set"){const{recoilValue:s,valueOrUpdater:i}=n,o=FF(t,e,s,i),a=AF(t,e,s.key,o);for(const[l,c]of a.entries())r_(e,l,c)}else if(n.type==="setLoadable"){const{recoilValue:{key:s},loadable:i}=n;r_(e,s,i)}else if(n.type==="markModified"){const{recoilValue:{key:s}}=n;e.dirtyAtoms.add(s)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:s},unvalidatedValue:i}=n,o=yx(s);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(s),e.nonvalidatedAtoms.set(s,i),e.dirtyAtoms.add(s)}else _y(`Unknown action ${n.type}`)}function r_(t,e,n){n.state==="hasValue"&&n.contents instanceof Cy?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function Ex(t,e){t.replaceState(n=>{const r=Sx(n);for(const s of e)UF(t,r,s);return wx(t,r),VF(),r})}function Tf(t,e){if(Al.length){const n=Al[Al.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else Ex(t,[e])}const Al=[];function BF(){const t=new Map;return Al.push(t),()=>{for(const[e,n]of t)Ex(e,n);Al.pop()}}function Sx(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function wx(t,e){const n=NF(t,e,e.dirtyAtoms);for(const i of n){var r,s;(r=yx(i))===null||r===void 0||(s=r.invalidate)===null||s===void 0||s.call(r,e)}}function Tx(t,e,n){Tf(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function zF(t,e,n){if(n instanceof Cy)return Tx(t,e,n);Tf(t,{type:"setLoadable",recoilValue:e,loadable:n})}function HF(t,e){Tf(t,{type:"markModified",recoilValue:e})}function WF(t,e,n){Tf(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function qF(t,{key:e},n,r=null){const s=bF(),i=t.getState();i.nodeToComponentSubscriptions.has(e)||i.nodeToComponentSubscriptions.set(e,new Map),nt(i.nodeToComponentSubscriptions.get(e)).set(s,[r??"<not captured>",n]);const o=PF();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(s)||(l.delete(s),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function GF(t,e){var n;const{currentTree:r}=t.getState(),s=kF(e.key);(n=s.clearCache)===null||n===void 0||n.call(s,t,r)}var Nr={RecoilValueReadOnly:DF,AbstractRecoilValue:LF,RecoilState:OF,getRecoilValueAsLoadable:$F,setRecoilValue:Tx,setRecoilValueLoadable:zF,markRecoilValueModified:HF,setUnvalidatedRecoilValue:WF,subscribeToRecoilValue:qF,isRecoilValue:MF,applyAtomValueWrites:jF,batchStart:BF,writeLoadableToTreeState:r_,invalidateDownstreams:wx,copyTreeState:Sx,refreshRecoilValue:GF};function KF(t,e,n){const r=t.entries();let s=r.next();for(;!s.done;){const i=s.value;if(e.call(n,i[1],i[0],t))return!0;s=r.next()}return!1}var QF=KF;const{cleanUpNode:YF}=ri,{deleteNodeConfigIfPossible:XF,getNode:Cx}=wn,{RetentionZone:Ix}=wf,JF=12e4,Rx=new Set;function xx(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const s=new Set;for(const o of e)if(o instanceof Ix)for(const a of nU(n,o))s.add(a);else s.add(o);const i=ZF(t,s);for(const o of i)tU(t,r,o)}function ZF(t,e){const n=t.getState(),r=n.currentTree,s=t.getGraph(r.version),i=new Set,o=new Set;return a(e),i;function a(l){const c=new Set,u=eU(t,r,l,i,o);for(const m of u){var h;if(Cx(m).retainedBy==="recoilRoot"){o.add(m);continue}if(((h=n.retention.referenceCounts.get(m))!==null&&h!==void 0?h:0)>0){o.add(m);continue}if(Nx(m).some(y=>n.retention.referenceCounts.get(y))){o.add(m);continue}const g=s.nodeToNodeSubscriptions.get(m);if(g&&QF(g,y=>o.has(y))){o.add(m);continue}i.add(m),c.add(m)}const f=new Set;for(const m of c)for(const g of(p=s.nodeDeps.get(m))!==null&&p!==void 0?p:Rx){var p;i.has(g)||f.add(g)}f.size&&a(f)}}function eU(t,e,n,r,s){const i=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(nt(n.values().next().value));return o;function l(c){if(r.has(c)||s.has(c)){n.delete(c);return}if(a.has(c))return;const u=i.nodeToNodeSubscriptions.get(c);if(u)for(const h of u)l(h);a.add(c),n.delete(c),o.push(c)}}function tU(t,e,n){if(!Fe("recoil_memory_managament_2020"))return;YF(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const s=Nx(n);for(const l of s){var i;(i=r.retention.nodesRetainedByZone.get(l))===null||i===void 0||i.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const c of l){var a;(a=o.nodeToNodeSubscriptions.get(c))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}XF(n)}function nU(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:Rx}function Nx(t){const e=Cx(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof Ix?[e]:e}function rU(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):xx(t,new Set([e]))}function sU(t,e,n){var r;if(!Fe("recoil_memory_managament_2020"))return;const s=t.getState().retention.referenceCounts,i=((r=s.get(e))!==null&&r!==void 0?r:0)+n;i===0?Ax(t,e):s.set(e,i)}function Ax(t,e){if(!Fe("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),rU(t,e)}function iU(t){if(!Fe("recoil_memory_managament_2020"))return;const e=t.getState();xx(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function oU(t){return t===void 0?"recoilRoot":t}var Ki={SUSPENSE_TIMEOUT_MS:JF,updateRetainCount:sU,updateRetainCountToZero:Ax,releaseScheduledRetainablesNow:iU,retainedByOptionWithDefault:oU};const{unstable_batchedUpdates:aU}=pD;var lU={unstable_batchedUpdates:aU};const{unstable_batchedUpdates:cU}=lU;var uU={unstable_batchedUpdates:cU};const{batchStart:dU}=Nr,{unstable_batchedUpdates:hU}=uU;let Iy=hU||(t=>t());const fU=t=>{Iy=t},pU=()=>Iy,mU=t=>{Iy(()=>{let e=()=>{};try{e=dU(),t()}finally{e()}})};var Cf={getBatcher:pU,setBatcher:fU,batchUpdates:mU};function*gU(t){for(const e of t)for(const n of e)yield n}var bx=gU;const kx=typeof Window>"u"||typeof window>"u",_U=t=>!kx&&(t===window||t instanceof Window),vU=typeof navigator<"u"&&navigator.product==="ReactNative";var If={isSSR:kx,isReactNative:vU,isWindow:_U};function yU(t,e){let n;return(...r)=>{n||(n={});const s=e(...r);return Object.hasOwnProperty.call(n,s)||(n[s]=t(...r)),n[s]}}function EU(t,e){let n,r;return(...s)=>{const i=e(...s);return n===i||(n=i,r=t(...s)),r}}function SU(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var wU={memoizeWithArgsHash:yU,memoizeOneWithArgsHash:EU,memoizeOneWithArgsHashAndInvalidation:SU};const{batchUpdates:s_}=Cf,{initializeNode:TU,peekNodeInfo:CU}=ri,{graph:IU}=Bc,{getNextStoreID:RU}=Sf,{DEFAULT_VALUE:xU,recoilValues:uw,recoilValuesForKeys:dw}=wn,{AbstractRecoilValue:NU,getRecoilValueAsLoadable:AU,setRecoilValue:hw,setUnvalidatedRecoilValue:bU}=Nr,{updateRetainCount:Sd}=Ki,{setInvalidateMemoizedSnapshot:kU}=_x,{getNextTreeStateVersion:PU,makeEmptyStoreState:LU}=ux,{isSSR:OU}=If,{memoizeOneWithArgsHashAndInvalidation:DU}=wU;class Rf{constructor(e,n){ve(this,"_store",void 0),ve(this,"_refCount",1),ve(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),AU(this._store,r))),ve(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),ve(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return dw(o.dirtyAtoms)}const s=this._store.getState().knownAtoms,i=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?uw.values():r.isInitialized===!0?dw(bx([s,i])):wy(uw.values(),({key:o})=>!s.has(o)&&!i.has(o))}),ve(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),CU(this._store,this._store.getState().currentTree,r))),ve(this,"map",r=>{this.checkRefCount_INTERNAL();const s=new i_(this,s_);return r(s),s}),ve(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const s=new i_(this,s_);return s.retain(),await r(s),s.autoRelease_INTERNAL(),s}),this._store={storeID:RU(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const s=e.graphsByVersion;if(s.has(r))return nt(s.get(r));const i=IU();return s.set(r,i),i},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Se("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)TU(this._store,r,"get"),Sd(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){OU||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Fe("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Fe("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function Px(t,e,n=!1){const r=t.getState(),s=n?PU():e.version;return{currentTree:{version:n?s:e.version,stateID:n?s:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(s,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Ef(r.nodeCleanupFunctions.entries(),([i])=>[i,()=>{}]))}}function MU(t){const e=new Rf(LU());return t!=null?e.map(t):e}const[fw,Lx]=DU((t,e)=>{var n;const r=t.getState(),s=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:nt(r.previousTree);return new Rf(Px(t,s),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});kU(Lx);function VU(t,e="latest"){const n=fw(t,e);return n.isRetained()?n:(Lx(),fw(t,e))}class i_ extends Rf{constructor(e,n){super(Px(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),ve(this,"_batch",void 0),ve(this,"set",(r,s)=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Sd(i,r.key,1),hw(this.getStore_INTERNAL(),r,s)})}),ve(this,"reset",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Sd(s,r.key,1),hw(this.getStore_INTERNAL(),r,xU)})}),ve(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();s_(()=>{for(const[i,o]of r.entries())Sd(s,i,1),bU(s,new NU(i),o)})}),this._batch=n}}var xf={Snapshot:Rf,MutableSnapshot:i_,freshSnapshot:MU,cloneSnapshot:VU},$U=xf.Snapshot,jU=xf.MutableSnapshot,FU=xf.freshSnapshot,UU=xf.cloneSnapshot,Nf=Object.freeze({__proto__:null,Snapshot:$U,MutableSnapshot:jU,freshSnapshot:FU,cloneSnapshot:UU});function BU(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var zU=BU;const{useRef:HU}=pe;function WU(t){const e=HU(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var pw=WU;const{getNextTreeStateVersion:qU,makeEmptyStoreState:Ox}=ux,{cleanUpNode:GU,getDownstreamNodes:KU,initializeNode:QU,setNodeValue:YU,setUnvalidatedAtomValue_DEPRECATED:XU}=ri,{graph:JU}=Bc,{cloneGraph:ZU}=Bc,{getNextStoreID:Dx}=Sf,{createMutableSource:_m,reactMode:Mx}=Uc,{applyAtomValueWrites:e4}=Nr,{releaseScheduledRetainablesNow:Vx}=Ki,{freshSnapshot:t4}=Nf,{useCallback:n4,useContext:$x,useEffect:o_,useMemo:r4,useRef:s4,useState:i4}=pe;function Ga(){throw Se("This component must be used inside a <RecoilRoot> component.")}const jx=Object.freeze({storeID:Dx(),getState:Ga,replaceState:Ga,getGraph:Ga,subscribeToTransactions:Ga,addTransactionMetadata:Ga});let a_=!1;function mw(t){if(a_)throw Se("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Fe("recoil_memory_managament_2020")&&Fe("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&Vx(t);const n=e.currentTree.version,r=qU();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,ZU(nt(e.graphsByVersion.get(n))))}}const Fx=pe.createContext({current:jx}),Af=()=>$x(Fx),Ux=pe.createContext(null);function o4(){return $x(Ux)}function Ry(t,e,n){const r=KU(t,n,n.dirtyAtoms);for(const s of r){const i=e.nodeToComponentSubscriptions.get(s);if(i)for(const[o,[a,l]]of i)l(n)}}function Bx(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[s,i]of e.nodeTransactionSubscriptions)if(r.has(s))for(const[o,a]of i)a(t);for(const[s,i]of e.transactionSubscriptions)i(t);(!Mx().early||e.suspendedComponentResolvers.size>0)&&(Ry(t,e,n),e.suspendedComponentResolvers.forEach(s=>s()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(s=>s(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function a4(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,Bx(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):_y("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Fe("recoil_memory_managament_2020")&&n==null&&Vx(t)}finally{e.commitDepth--}}function l4({setNotifyBatcherOfChange:t}){const e=Af(),[,n]=i4([]);return t(()=>n({})),o_(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),o_(()=>{Fj.enqueueExecution("Batcher",()=>{a4(e.current)})}),null}function c4(t,e){const n=Ox();return e({set:(r,s)=>{const i=n.currentTree,o=YU(t,i,r.key,s),a=new Set(o.keys()),l=i.nonvalidatedAtoms.clone();for(const c of a)l.delete(c);n.currentTree={...i,dirtyAtoms:zU(i.dirtyAtoms,a),atomValues:e4(i.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((s,i)=>{n.currentTree=XU(n.currentTree,i,s)})}}),n}function u4(t){const e=t4(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let gw=0;function d4({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let s;const i=p=>{const m=s.current.graphsByVersion;if(m.has(p))return nt(m.get(p));const g=JU();return m.set(p,g),g},o=(p,m)=>{if(m==null){const{transactionSubscriptions:g}=h.current.getState(),y=gw++;return g.set(y,p),{release:()=>{g.delete(y)}}}else{const{nodeTransactionSubscriptions:g}=h.current.getState();g.has(m)||g.set(m,new Map);const y=gw++;return nt(g.get(m)).set(y,p),{release:()=>{const _=g.get(m);_&&(_.delete(y),_.size===0&&g.delete(m))}}}},a=p=>{mw(h.current);for(const m of Object.keys(p))nt(h.current.getState().nextTree).transactionMetadata[m]=p[m]},l=p=>{mw(h.current);const m=nt(s.current.nextTree);let g;try{a_=!0,g=p(m)}finally{a_=!1}g!==m&&(s.current.nextTree=g,Mx().early&&Ry(h.current,s.current,g),nt(c.current)())},c=s4(null),u=n4(p=>{c.current=p},[c]),h=pw(()=>n??{storeID:Dx(),getState:()=>s.current,replaceState:l,getGraph:i,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(h.current=n),s=pw(()=>t!=null?c4(h.current,t):e!=null?u4(e):Ox());const f=r4(()=>_m==null?void 0:_m(s,()=>s.current.currentTree.version),[s]);return o_(()=>{const p=h.current;for(const m of new Set(p.getState().knownAtoms))QU(p,m,"get");return()=>{for(const m of p.getState().knownAtoms)GU(p,m)}},[h]),pe.createElement(Fx.Provider,{value:h},pe.createElement(Ux.Provider,{value:f},pe.createElement(l4,{setNotifyBatcherOfChange:u}),r))}function h4(t){const{override:e,...n}=t,r=Af();return e===!1&&r.current!==jx?t.children:pe.createElement(d4,n)}function f4(){return Af().current.storeID}var ps={RecoilRoot:h4,useStoreRef:Af,useRecoilMutableSource:o4,useRecoilStoreID:f4,notifyComponents_FOR_TESTING:Ry,sendEndOfBatchNotifications_FOR_TESTING:Bx};function p4(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var m4=p4;const{useEffect:g4,useRef:_4}=pe;function v4(t){const e=_4();return g4(()=>{e.current=t}),e.current}var zx=v4;const{useStoreRef:y4}=ps,{SUSPENSE_TIMEOUT_MS:E4}=Ki,{updateRetainCount:Ka}=Ki,{RetentionZone:S4}=wf,{useEffect:w4,useRef:T4}=pe,{isSSR:_w}=If;function C4(t){if(Fe("recoil_memory_managament_2020"))return I4(t)}function I4(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof S4?o:o.key),r=y4();w4(()=>{if(!Fe("recoil_memory_managament_2020"))return;const o=r.current;if(s.current&&!_w)window.clearTimeout(s.current),s.current=null;else for(const a of n)Ka(o,a,1);return()=>{for(const a of n)Ka(o,a,-1)}},[r,...n]);const s=T4(),i=zx(n);if(!_w&&(i===void 0||!m4(i,n))){const o=r.current;for(const a of n)Ka(o,a,1);if(i)for(const a of i)Ka(o,a,-1);s.current&&window.clearTimeout(s.current),s.current=window.setTimeout(()=>{s.current=null;for(const a of n)Ka(o,a,-1)},E4)}}var xy=C4;function R4(){return"<component name not available>"}var Hc=R4;const{batchUpdates:x4}=Cf,{DEFAULT_VALUE:Hx}=wn,{currentRendererSupportsUseSyncExternalStore:N4,reactMode:Ca,useMutableSource:A4,useSyncExternalStore:b4}=Uc,{useRecoilMutableSource:k4,useStoreRef:Ar}=ps,{AbstractRecoilValue:l_,getRecoilValueAsLoadable:Wc,setRecoilValue:gh,setUnvalidatedRecoilValue:P4,subscribeToRecoilValue:ta}=Nr,{useCallback:vn,useEffect:na,useMemo:Wx,useRef:bl,useState:Ny}=pe,{setByAddingToSet:L4}=hx,{isSSR:O4}=If;function Ay(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(s=>{const i=n.current.getState().suspendedComponentResolvers;i.add(s),O4&&Ge(t.contents)&&t.contents.finally(()=>{i.delete(s)})}):t.state==="hasError"?t.contents:Se(`Invalid value of loadable atom "${e.key}"`)}function D4(){const t=Hc(),e=Ar(),[,n]=Ny([]),r=bl(new Set);r.current=new Set;const s=bl(new Set),i=bl(new Map),o=vn(l=>{const c=i.current.get(l);c&&(c.release(),i.current.delete(l))},[i]),a=vn((l,c)=>{i.current.has(c)&&n([])},[]);return na(()=>{const l=e.current;Nl(r.current,s.current).forEach(c=>{if(i.current.has(c))return;const u=ta(l,new l_(c),f=>a(f,c),t);i.current.set(c,u),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),c)}):a(l.getState(),c)}),Nl(s.current,r.current).forEach(c=>{o(c)}),s.current=r.current}),na(()=>{const l=i.current;return Nl(r.current,new Set(l.keys())).forEach(c=>{const u=ta(e.current,new l_(c),h=>a(h,c),t);l.set(c,u)}),()=>l.forEach((c,u)=>o(u))},[t,e,o,a]),Wx(()=>{function l(m){return g=>{gh(e.current,m,g)}}function c(m){return()=>gh(e.current,m,Hx)}function u(m){var g;r.current.has(m.key)||(r.current=L4(r.current,m.key));const y=e.current.getState();return Wc(e.current,m,Ca().early&&(g=y.nextTree)!==null&&g!==void 0?g:y.currentTree)}function h(m){const g=u(m);return Ay(g,m,e)}function f(m){return[h(m),l(m)]}function p(m){return[u(m),l(m)]}return{getRecoilValue:h,getRecoilValueLoadable:u,getRecoilState:f,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:c}},[r,e])}const M4={current:0};function V4(t){const e=Ar(),n=Hc(),r=vn(()=>{var a;const l=e.current,c=l.getState(),u=Ca().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return{loadable:Wc(l,t,u),key:t.key}},[e,t]),s=vn(a=>{let l;return()=>{var c,u;const h=a();return(c=l)!==null&&c!==void 0&&c.loadable.is(h.loadable)&&((u=l)===null||u===void 0?void 0:u.key)===h.key?l:(l=h,h)}},[]),i=Wx(()=>s(r),[r,s]),o=vn(a=>{const l=e.current;return ta(l,t,a,n).release},[e,t,n]);return b4(o,i,i).loadable}function $4(t){const e=Ar(),n=vn(()=>{var c;const u=e.current,h=u.getState(),f=Ca().early&&(c=h.nextTree)!==null&&c!==void 0?c:h.currentTree;return Wc(u,t,f)},[e,t]),r=vn(()=>n(),[n]),s=Hc(),i=vn((c,u)=>{const h=e.current;return ta(h,t,()=>{if(!Fe("recoil_suppress_rerender_in_callback"))return u();const p=n();l.current.is(p)||u(),l.current=p},s).release},[e,t,s,n]),o=k4();if(o==null)throw Se("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=A4(o,r,i),l=bl(a);return na(()=>{l.current=a}),a}function c_(t){const e=Ar(),n=Hc(),r=vn(()=>{var l;const c=e.current,u=c.getState(),h=Ca().early&&(l=u.nextTree)!==null&&l!==void 0?l:u.currentTree;return Wc(c,t,h)},[e,t]),s=vn(()=>({loadable:r(),key:t.key}),[r,t.key]),i=vn(l=>{const c=s();return l.loadable.is(c.loadable)&&l.key===c.key?l:c},[s]);na(()=>{const l=ta(e.current,t,c=>{a(i)},n);return a(i),l.release},[n,t,e,i]);const[o,a]=Ny(s);return o.key!==t.key?s().loadable:o.loadable}function j4(t){const e=Ar(),[,n]=Ny([]),r=Hc(),s=vn(()=>{var a;const l=e.current,c=l.getState(),u=Ca().early&&(a=c.nextTree)!==null&&a!==void 0?a:c.currentTree;return Wc(l,t,u)},[e,t]),i=s(),o=bl(i);return na(()=>{o.current=i}),na(()=>{const a=e.current,l=a.getState(),c=ta(a,t,h=>{var f;if(!Fe("recoil_suppress_rerender_in_callback"))return n([]);const p=s();(f=o.current)!==null&&f!==void 0&&f.is(p)||n(p),o.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var u;if(!Fe("recoil_suppress_rerender_in_callback"))return n([]);const h=s();(u=o.current)!==null&&u!==void 0&&u.is(h)||n(h),o.current=h}return c.release},[r,s,t,e]),i}function by(t){return Fe("recoil_memory_managament_2020")&&xy(t),{TRANSITION_SUPPORT:c_,SYNC_EXTERNAL_STORE:N4()?V4:c_,MUTABLE_SOURCE:$4,LEGACY:j4}[Ca().mode](t)}function qx(t){const e=Ar(),n=by(t);return Ay(n,t,e)}function bf(t){const e=Ar();return vn(n=>{gh(e.current,t,n)},[e,t])}function F4(t){const e=Ar();return vn(()=>{gh(e.current,t,Hx)},[e,t])}function U4(t){return[qx(t),bf(t)]}function B4(t){return[by(t),bf(t)]}function z4(){const t=Ar();return(e,n={})=>{x4(()=>{t.current.addTransactionMetadata(n),e.forEach((r,s)=>P4(t.current,new l_(s),r))})}}function Gx(t){return Fe("recoil_memory_managament_2020")&&xy(t),c_(t)}function Kx(t){const e=Ar(),n=Gx(t);return Ay(n,t,e)}function H4(t){return[Kx(t),bf(t)]}var W4={recoilComponentGetRecoilValueCount_FOR_TESTING:M4,useRecoilInterface:D4,useRecoilState:U4,useRecoilStateLoadable:B4,useRecoilValue:qx,useRecoilValueLoadable:by,useResetRecoilState:F4,useSetRecoilState:bf,useSetUnvalidatedAtomValues:z4,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:Gx,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:Kx,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:H4};function q4(t,e){const n=new Map;for(const[r,s]of t)e(s,r)&&n.set(r,s);return n}var G4=q4;function K4(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var Q4=K4;function Y4(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let s;for(;!(s=r.next()).done;)e.set(s.value,t[n].get(s.value))}return e}var X4=Y4;const{batchUpdates:J4}=Cf,{DEFAULT_VALUE:Z4,getNode:Qx,nodes:eB}=wn,{useStoreRef:ky}=ps,{AbstractRecoilValue:tB,setRecoilValueLoadable:nB}=Nr,{SUSPENSE_TIMEOUT_MS:rB}=Ki,{cloneSnapshot:_h}=Nf,{useCallback:kf,useEffect:Yx,useRef:vw,useState:sB}=pe,{isSSR:yw}=If;function Pf(t){const e=ky();Yx(()=>e.current.subscribeToTransactions(t).release,[t,e])}function Ew(t){const e=t.atomValues.toMap(),n=mh(G4(e,(r,s)=>{const o=Qx(s).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return X4(t.nonvalidatedAtoms.toMap(),n)}function iB(t){Pf(kf(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const s=Ew(r),i=Ew(n),o=mh(eB,l=>{var c,u,h,f;return{persistence_UNSTABLE:{type:(c=(u=l.persistence_UNSTABLE)===null||u===void 0?void 0:u.type)!==null&&c!==void 0?c:"none",backButton:(h=(f=l.persistence_UNSTABLE)===null||f===void 0?void 0:f.backButton)!==null&&h!==void 0?h:!1}}}),a=Q4(r.dirtyAtoms,l=>s.has(l)||i.has(l));t({atomValues:s,previousAtomValues:i,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function oB(t){Pf(kf(e=>{const n=_h(e,"latest"),r=_h(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function aB(){const t=ky(),[e,n]=sB(()=>_h(t.current)),r=zx(e),s=vw(),i=vw();if(Pf(kf(a=>n(_h(a)),[])),Yx(()=>{const a=e.retain();if(s.current&&!yw){var l;window.clearTimeout(s.current),s.current=null,(l=i.current)===null||l===void 0||l.call(i),i.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!yw){if(s.current){var o;window.clearTimeout(s.current),s.current=null,(o=i.current)===null||o===void 0||o.call(i),i.current=null}i.current=e.retain(),s.current=window.setTimeout(()=>{var a;s.current=null,(a=i.current)===null||a===void 0||a.call(i),i.current=null},rB)}return e}function Xx(t,e){var n;const r=t.getState(),s=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,i=e.getStore_INTERNAL().getState().currentTree;J4(()=>{const o=new Set;for(const c of[s.atomValues.keys(),i.atomValues.keys()])for(const u of c){var a,l;((a=s.atomValues.get(u))===null||a===void 0?void 0:a.contents)!==((l=i.atomValues.get(u))===null||l===void 0?void 0:l.contents)&&Qx(u).shouldRestoreFromSnapshots&&o.add(u)}o.forEach(c=>{nB(t,new tB(c),i.atomValues.has(c)?nt(i.atomValues.get(c)):Z4)}),t.replaceState(c=>({...c,stateID:e.getID()}))})}function lB(){const t=ky();return kf(e=>Xx(t.current,e),[t])}var Jx={useRecoilSnapshot:aB,gotoSnapshot:Xx,useGotoRecoilSnapshot:lB,useRecoilTransactionObserver:oB,useTransactionObservation_DEPRECATED:iB,useTransactionSubscription_DEPRECATED:Pf};const{peekNodeInfo:cB}=ri,{useStoreRef:uB}=ps;function dB(){const t=uB();return({key:e})=>cB(t.current,t.current.getState().currentTree,e)}var hB=dB;const{reactMode:fB}=Uc,{RecoilRoot:pB,useStoreRef:mB}=ps,{useMemo:gB}=pe;function _B(){fB().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=mB().current;return gB(()=>{function e({children:n}){return pe.createElement(pB,{store_INTERNAL:t},n)}return e},[t])}var vB=_B;const{loadableWithValue:yB}=Fc,{initializeNode:EB}=ri,{DEFAULT_VALUE:SB,getNode:wB}=wn,{copyTreeState:TB,getRecoilValueAsLoadable:CB,invalidateDownstreams:IB,writeLoadableToTreeState:RB}=Nr;function Sw(t){return wB(t.key).nodeType==="atom"}class xB{constructor(e,n){ve(this,"_store",void 0),ve(this,"_treeState",void 0),ve(this,"_changes",void 0),ve(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!Sw(r))throw Se("Reading selectors within atomicUpdate is not supported");const s=CB(this._store,r,this._treeState);if(s.state==="hasValue")return s.contents;throw s.state==="hasError"?s.contents:Se(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),ve(this,"set",(r,s)=>{if(!Sw(r))throw Se("Setting selectors within atomicUpdate is not supported");if(typeof s=="function"){const i=this.get(r);this._changes.set(r.key,s(i))}else EB(this._store,r.key,"set"),this._changes.set(r.key,s)}),ve(this,"reset",r=>{this.set(r,SB)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=TB(this._treeState);for(const[n,r]of this._changes)RB(e,n,yB(r));return IB(this._store,e),e}}function NB(t){return e=>{t.replaceState(n=>{const r=new xB(t,n);return e(r),r.newTreeState_INTERNAL()})}}var AB={atomicUpdater:NB},bB=AB.atomicUpdater,Zx=Object.freeze({__proto__:null,atomicUpdater:bB});function kB(t,e){if(!t)throw new Error(e)}var PB=kB,hl=PB;const{atomicUpdater:LB}=Zx,{batchUpdates:OB}=Cf,{DEFAULT_VALUE:DB}=wn,{useStoreRef:MB}=ps,{refreshRecoilValue:VB,setRecoilValue:ww}=Nr,{cloneSnapshot:$B}=Nf,{gotoSnapshot:jB}=Jx,{useCallback:FB}=pe;class eN{}const UB=new eN;function tN(t,e,n,r){let s=UB,i;if(OB(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Se(a);const l=fx({...r??{},set:(u,h)=>ww(t,u,h),reset:u=>ww(t,u,DB),refresh:u=>VB(t,u),gotoSnapshot:u=>jB(t,u),transact_UNSTABLE:u=>LB(t)(u)},{snapshot:()=>{const u=$B(t);return i=u.retain(),u}}),c=e(l);if(typeof c!="function")throw Se(a);s=c(...n)}),s instanceof eN&&hl(!1),Ge(s))s=s.finally(()=>{var a;(a=i)===null||a===void 0||a()});else{var o;(o=i)===null||o===void 0||o()}return s}function BB(t,e){const n=MB();return FB((...r)=>tN(n.current,t,r),e!=null?[...e,n]:void 0)}var nN={recoilCallback:tN,useRecoilCallback:BB};const{useStoreRef:zB}=ps,{refreshRecoilValue:HB}=Nr,{useCallback:WB}=pe;function qB(t){const e=zB();return WB(()=>{const n=e.current;HB(n,t)},[t,e])}var GB=qB;const{atomicUpdater:KB}=Zx,{useStoreRef:QB}=ps,{useMemo:YB}=pe;function XB(t,e){const n=QB();return YB(()=>(...r)=>{KB(n.current)(i=>{t(i)(...r)})},e!=null?[...e,n]:void 0)}var JB=XB;class ZB{constructor(e){ve(this,"value",void 0),this.value=e}}var ez={WrappedValue:ZB},tz=ez.WrappedValue,rN=Object.freeze({__proto__:null,WrappedValue:tz});const{isFastRefreshEnabled:nz}=Uc;class Tw extends Error{}class rz{constructor(e){var n,r,s;ve(this,"_name",void 0),ve(this,"_numLeafs",void 0),ve(this,"_root",void 0),ve(this,"_onHit",void 0),ve(this,"_onSet",void 0),ve(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(s=e==null?void 0:e.mapNodeValue)!==null&&s!==void 0?s:i=>i}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const s=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(s)}}set(e,n,r){const s=()=>{var i,o,a,l;let c,u;for(const[y,_]of e){var h,f,p;const v=this._root;if((v==null?void 0:v.type)==="leaf")throw this.invalidCacheError();const E=c;if(c=E?E.branches.get(u):v,c=(h=c)!==null&&h!==void 0?h:{type:"branch",nodeKey:y,parent:E,branches:new Map,branchKey:u},c.type!=="branch"||c.nodeKey!==y)throw this.invalidCacheError();E==null||E.branches.set(u,c),r==null||(f=r.onNodeVisit)===null||f===void 0||f.call(r,c),u=this._mapNodeValue(_),this._root=(p=this._root)!==null&&p!==void 0?p:c}const m=c?(i=c)===null||i===void 0?void 0:i.branches.get(u):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==u))throw this.invalidCacheError();const g={type:"leaf",value:n,parent:c,branchKey:u};(o=c)===null||o===void 0||o.branches.set(u,g),this._root=(a=this._root)!==null&&a!==void 0?a:g,this._numLeafs++,this._onSet(g),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,g)};try{s()}catch(i){if(i instanceof Tw)this.clear(),s();else throw i}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,s=e.branchKey;for(;r;){var i;if(r.branches.delete(s),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;s=(i=r)===null||i===void 0?void 0:i.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=nz()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw _y(e+(this._name!=null?` - ${this._name}`:"")),new Tw}}var sz={TreeCache:rz},iz=sz.TreeCache,sN=Object.freeze({__proto__:null,TreeCache:iz});class oz{constructor(e){var n;ve(this,"_maxSize",void 0),ve(this,"_size",void 0),ve(this,"_head",void 0),ve(this,"_tail",void 0),ve(this,"_map",void 0),ve(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const i=this.head(),o={key:e,right:i,left:null,value:n};i?i.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=nt(this._map.get(n)),s=r.right,i=r.left;s&&(s.left=r.left),i&&(i.right=r.right),r===this.head()&&(this._head=s),r===this.tail()&&(this._tail=i),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var az={LRUCache:oz},lz=az.LRUCache,iN=Object.freeze({__proto__:null,LRUCache:lz});const{LRUCache:cz}=iN,{TreeCache:uz}=sN;function dz({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new cz({maxSize:e}),s=new uz({name:t,mapNodeValue:n,onHit:i=>{r.set(i,!0)},onSet:i=>{const o=r.tail();r.set(i,!0),o&&s.size()>e&&s.delete(o.key)}});return s}var Cw=dz;function Yn(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Se("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(Ge(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((s,i)=>Yn(s,e,i.toString()))}]`;if(typeof t.toJSON=="function")return Yn(t.toJSON(n),e,n);if(t instanceof Map){const s={};for(const[i,o]of t)s[typeof i=="string"?i:Yn(i,e)]=o;return Yn(s,e,n)}return t instanceof Set?Yn(Array.from(t).sort((s,i)=>Yn(s,e).localeCompare(Yn(i,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?Yn(Array.from(t),e,n):`{${Object.keys(t).filter(s=>t[s]!==void 0).sort().map(s=>`${Yn(s,e)}:${Yn(t[s],e,s)}`).join(",")}}`}function hz(t,e={allowFunctions:!1}){return Yn(t,e)}var Lf=hz;const{TreeCache:fz}=sN,Vu={equality:"reference",eviction:"keep-all",maxSize:1/0};function pz({equality:t=Vu.equality,eviction:e=Vu.eviction,maxSize:n=Vu.maxSize}=Vu,r){const s=mz(t);return gz(e,n,s,r)}function mz(t){switch(t){case"reference":return e=>e;case"value":return e=>Lf(e)}throw Se(`Unrecognized equality policy ${t}`)}function gz(t,e,n,r){switch(t){case"keep-all":return new fz({name:r,mapNodeValue:n});case"lru":return Cw({name:r,maxSize:nt(e),mapNodeValue:n});case"most-recent":return Cw({name:r,maxSize:1,mapNodeValue:n})}throw Se(`Unrecognized eviction policy ${t}`)}var _z=pz;function vz(t){return()=>null}var yz={startPerfBlock:vz};const{isLoadable:Ez,loadableWithError:$u,loadableWithPromise:Sz,loadableWithValue:vm}=Fc,{WrappedValue:oN}=rN,{getNodeLoadable:ju,peekNodeLoadable:wz,setNodeValue:Tz}=ri,{saveDepsToStore:Cz}=Bc,{DEFAULT_VALUE:Iz,getConfigDeletionHandler:Rz,getNode:xz,registerNode:Iw}=wn,{isRecoilValue:Nz}=ea,{markRecoilValueModified:Rw}=Nr,{retainedByOptionWithDefault:Az}=Ki,{recoilCallback:bz}=nN,{startPerfBlock:kz}=yz;class aN{}const Qa=new aN,Ya=[],Fu=new Map,Pz=(()=>{let t=0;return()=>t++})();function lN(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:s}=t,i=t.set!=null?t.set:void 0,o=new Set,a=_z(s??{equality:"reference",eviction:"keep-all"},n),l=Az(t.retainedBy_UNSTABLE),c=new Map;let u=0;function h(){return!Fe("recoil_memory_managament_2020")||u>0}function f(I){return I.getState().knownSelectors.add(n),u++,()=>{u--}}function p(){return Rz(n)!==void 0&&!h()}function m(I,L,V,se,X){Ee(L,se,X),g(I,V)}function g(I,L){z(I,L)&&A(I),_(L,!0)}function y(I,L){z(I,L)&&(nt(O(I)).stateVersions.clear(),_(L,!1))}function _(I,L){const V=Fu.get(I);if(V!=null){for(const se of V)Rw(se,nt(e));L&&Fu.delete(I)}}function v(I,L){let V=Fu.get(L);V==null&&Fu.set(L,V=new Set),V.add(I)}function E(I,L,V,se,X,_e){return L.then(Te=>{if(!h())throw A(I),Qa;const ae=vm(Te);return m(I,V,X,ae,se),Te}).catch(Te=>{if(!h())throw A(I),Qa;if(Ge(Te))return w(I,Te,V,se,X,_e);const ae=$u(Te);throw m(I,V,X,ae,se),Te})}function w(I,L,V,se,X,_e){return L.then(Te=>{if(!h())throw A(I),Qa;_e.loadingDepKey!=null&&_e.loadingDepPromise===L?V.atomValues.set(_e.loadingDepKey,vm(Te)):I.getState().knownSelectors.forEach($e=>{V.atomValues.delete($e)});const ae=b(I,V);if(ae&&ae.state!=="loading"){if((z(I,X)||O(I)==null)&&g(I,X),ae.state==="hasValue")return ae.contents;throw ae.contents}if(!z(I,X)){const $e=H(I,V);if($e!=null)return $e.loadingLoadable.contents}const[Xe,St]=R(I,V,X);if(Xe.state!=="loading"&&m(I,V,X,Xe,St),Xe.state==="hasError")throw Xe.contents;return Xe.contents}).catch(Te=>{if(Te instanceof aN)throw Qa;if(!h())throw A(I),Qa;const ae=$u(Te);throw m(I,V,X,ae,se),Te})}function S(I,L,V,se){var X,_e,Te,ae;if(z(I,se)||L.version===((X=I.getState())===null||X===void 0||(_e=X.currentTree)===null||_e===void 0?void 0:_e.version)||L.version===((Te=I.getState())===null||Te===void 0||(ae=Te.nextTree)===null||ae===void 0?void 0:ae.version)){var Xe,St,$e;Cz(n,V,I,(Xe=(St=I.getState())===null||St===void 0||($e=St.nextTree)===null||$e===void 0?void 0:$e.version)!==null&&Xe!==void 0?Xe:I.getState().currentTree.version)}for(const Je of V)o.add(Je)}function R(I,L,V){const se=kz(n);let X=!0,_e=!0;const Te=()=>{se(),_e=!1};let ae,Xe=!1,St;const $e={loadingDepKey:null,loadingDepPromise:null},Je=new Map;function Pn({key:rn}){const jt=ju(I,L,rn);switch(Je.set(rn,jt),X||(S(I,L,new Set(Je.keys()),V),y(I,V)),jt.state){case"hasValue":return jt.contents;case"hasError":throw jt.contents;case"loading":throw $e.loadingDepKey=rn,$e.loadingDepPromise=jt.contents,jt.contents}throw Se("Invalid Loadable state")}const Pr=rn=>(...jt)=>{if(_e)throw Se("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&hl(!1),bz(I,rn,jt,{node:e})};try{ae=r({get:Pn,getCallback:Pr}),ae=Nz(ae)?Pn(ae):ae,Ez(ae)&&(ae.state==="hasError"&&(Xe=!0),ae=ae.contents),Ge(ae)?ae=E(I,ae,L,Je,V,$e).finally(Te):Te(),ae=ae instanceof oN?ae.value:ae}catch(rn){ae=rn,Ge(ae)?ae=w(I,ae,L,Je,V,$e).finally(Te):(Xe=!0,Te())}return Xe?St=$u(ae):Ge(ae)?St=Sz(ae):St=vm(ae),X=!1,N(I,V,Je),S(I,L,new Set(Je.keys()),V),[St,Je]}function b(I,L){let V=L.atomValues.get(n);if(V!=null)return V;const se=new Set;try{V=a.get(_e=>(typeof _e!="string"&&hl(!1),ju(I,L,_e).contents),{onNodeVisit:_e=>{_e.type==="branch"&&_e.nodeKey!==n&&se.add(_e.nodeKey)}})}catch(_e){throw Se(`Problem with cache lookup for selector "${n}": ${_e.message}`)}if(V){var X;L.atomValues.set(n,V),S(I,L,se,(X=O(I))===null||X===void 0?void 0:X.executionID)}return V}function P(I,L){const V=b(I,L);if(V!=null)return A(I),V;const se=H(I,L);if(se!=null){var X;return((X=se.loadingLoadable)===null||X===void 0?void 0:X.state)==="loading"&&v(I,se.executionID),se.loadingLoadable}const _e=Pz(),[Te,ae]=R(I,L,_e);return Te.state==="loading"?(k(I,_e,Te,ae,L),v(I,_e)):(A(I),Ee(L,Te,ae)),Te}function H(I,L){const V=bx([c.has(I)?[nt(c.get(I))]:[],Ef(wy(c,([X])=>X!==I),([,X])=>X)]);function se(X){for(const[_e,Te]of X)if(!ju(I,L,_e).is(Te))return!0;return!1}for(const X of V){if(X.stateVersions.get(L.version)||!se(X.depValuesDiscoveredSoFarDuringAsyncWork))return X.stateVersions.set(L.version,!0),X;X.stateVersions.set(L.version,!1)}}function O(I){return c.get(I)}function k(I,L,V,se,X){c.set(I,{depValuesDiscoveredSoFarDuringAsyncWork:se,executionID:L,loadingLoadable:V,stateVersions:new Map([[X.version,!0]])})}function N(I,L,V){if(z(I,L)){const se=O(I);se!=null&&(se.depValuesDiscoveredSoFarDuringAsyncWork=V)}}function A(I){c.delete(I)}function z(I,L){var V;return L===((V=O(I))===null||V===void 0?void 0:V.executionID)}function ie(I){return Array.from(I.entries()).map(([L,V])=>[L,V.contents])}function Ee(I,L,V){I.atomValues.set(n,L);try{a.set(ie(V),L)}catch(se){throw Se(`Problem with setting cache for selector "${n}": ${se.message}`)}}function we(I){if(Ya.includes(n)){const L=`Recoil selector has circular dependencies: ${Ya.slice(Ya.indexOf(n)).join(" → ")}`;return $u(Se(L))}Ya.push(n);try{return I()}finally{Ya.pop()}}function $(I,L){const V=L.atomValues.get(n);return V??a.get(se=>{var X;return typeof se!="string"&&hl(!1),(X=wz(I,L,se))===null||X===void 0?void 0:X.contents})}function q(I,L){return we(()=>P(I,L))}function j(I){I.atomValues.delete(n)}function Z(I,L){e==null&&hl(!1);for(const se of o){var V;const X=xz(se);(V=X.clearCache)===null||V===void 0||V.call(X,I,L)}o.clear(),j(L),a.clear(),Rw(I,e)}return i!=null?e=Iw({key:n,nodeType:"selector",peek:$,get:q,set:(L,V,se)=>{let X=!1;const _e=new Map;function Te({key:$e}){if(X)throw Se("Recoil: Async selector sets are not currently supported.");const Je=ju(L,V,$e);if(Je.state==="hasValue")return Je.contents;if(Je.state==="loading"){const Pn=`Getting value of asynchronous atom or selector "${$e}" in a pending state while setting selector "${n}" is not yet supported.`;throw Se(Pn)}else throw Je.contents}function ae($e,Je){if(X)throw Se("Recoil: Async selector sets are not currently supported.");const Pn=typeof Je=="function"?Je(Te($e)):Je;Tz(L,V,$e.key,Pn).forEach((rn,jt)=>_e.set(jt,rn))}function Xe($e){ae($e,Iz)}const St=i({set:ae,get:Te,reset:Xe},se);if(St!==void 0)throw Ge(St)?Se("Recoil: Async selector sets are not currently supported."):Se("Recoil: selector set should be a void function.");return X=!0,_e},init:f,invalidate:j,clearCache:Z,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=Iw({key:n,nodeType:"selector",peek:$,get:q,init:f,invalidate:j,clearCache:Z,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}lN.value=t=>new oN(t);var ra=lN;const{isLoadable:Lz,loadableWithError:ym,loadableWithPromise:Em,loadableWithValue:ro}=Fc,{WrappedValue:cN}=rN,{peekNodeInfo:Oz}=ri,{DEFAULT_VALUE:hi,DefaultValue:Es,getConfigDeletionHandler:uN,registerNode:Dz,setConfigDeletionHandler:Mz}=wn,{isRecoilValue:Vz}=ea,{getRecoilValueAsLoadable:$z,markRecoilValueModified:jz,setRecoilValue:xw,setRecoilValueLoadable:Fz}=Nr,{retainedByOptionWithDefault:Uz}=Ki,Xa=t=>t instanceof cN?t.value:t;function Bz(t){const{key:e,persistence_UNSTABLE:n}=t,r=Uz(t.retainedBy_UNSTABLE);let s=0;function i(v){return Em(v.then(E=>(o=ro(E),E)).catch(E=>{throw o=ym(E),E}))}let o=Ge(t.default)?i(t.default):Lz(t.default)?t.default.state==="loading"?i(t.default.contents):t.default:ro(Xa(t.default));o.contents;let a;const l=new Map;function c(v){return v}function u(v,E){const w=E.then(S=>{var R,b;return((b=((R=v.getState().nextTree)!==null&&R!==void 0?R:v.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===w&&xw(v,_,S),S}).catch(S=>{var R,b;throw((b=((R=v.getState().nextTree)!==null&&R!==void 0?R:v.getState().currentTree).atomValues.get(e))===null||b===void 0?void 0:b.contents)===w&&Fz(v,_,ym(S)),S});return w}function h(v,E,w){var S;s++;const R=()=>{var A;s--,(A=l.get(v))===null||A===void 0||A.forEach(z=>z()),l.delete(v)};if(v.getState().knownAtoms.add(e),o.state==="loading"){const A=()=>{var z;((z=v.getState().nextTree)!==null&&z!==void 0?z:v.getState().currentTree).atomValues.has(e)||jz(v,_)};o.contents.finally(A)}const b=(S=t.effects)!==null&&S!==void 0?S:t.effects_UNSTABLE;if(b!=null){let we=function(L){if(z&&L.key===e){const V=A;return V instanceof Es?f(v,E):Ge(V)?Em(V.then(se=>se instanceof Es?o.toPromise():se)):ro(V)}return $z(v,L)},$=function(L){return we(L).toPromise()},q=function(L){var V;const se=Oz(v,(V=v.getState().nextTree)!==null&&V!==void 0?V:v.getState().currentTree,L.key);return z&&L.key===e&&!(A instanceof Es)?{...se,isSet:!0,loadable:we(L)}:se};var O=we,k=$,N=q;let A=hi,z=!0,ie=!1,Ee=null;const j=L=>V=>{if(z){const se=we(_),X=se.state==="hasValue"?se.contents:hi;A=typeof V=="function"?V(X):V,Ge(A)&&(A=A.then(_e=>(Ee={effect:L,value:_e},_e)))}else{if(Ge(V))throw Se("Setting atoms to async values is not implemented.");typeof V!="function"&&(Ee={effect:L,value:Xa(V)}),xw(v,_,typeof V=="function"?se=>{const X=Xa(V(se));return Ee={effect:L,value:X},X}:Xa(V))}},Z=L=>()=>j(L)(hi),I=L=>V=>{var se;const{release:X}=v.subscribeToTransactions(_e=>{var Te;let{currentTree:ae,previousTree:Xe}=_e.getState();Xe||(Xe=ae);const St=(Te=ae.atomValues.get(e))!==null&&Te!==void 0?Te:o;if(St.state==="hasValue"){var $e,Je,Pn,Pr;const rn=St.contents,jt=($e=Xe.atomValues.get(e))!==null&&$e!==void 0?$e:o,_u=jt.state==="hasValue"?jt.contents:hi;((Je=Ee)===null||Je===void 0?void 0:Je.effect)!==L||((Pn=Ee)===null||Pn===void 0?void 0:Pn.value)!==rn?V(rn,_u,!ae.atomValues.has(e)):((Pr=Ee)===null||Pr===void 0?void 0:Pr.effect)===L&&(Ee=null)}},e);l.set(v,[...(se=l.get(v))!==null&&se!==void 0?se:[],X])};for(const L of b)try{const V=L({node:_,storeID:v.storeID,parentStoreID_UNSTABLE:v.parentStoreID,trigger:w,setSelf:j(L),resetSelf:Z(L),onSet:I(L),getPromise:$,getLoadable:we,getInfo_UNSTABLE:q});if(V!=null){var P;l.set(v,[...(P=l.get(v))!==null&&P!==void 0?P:[],V])}}catch(V){A=V,ie=!0}if(z=!1,!(A instanceof Es)){var H;const L=ie?ym(A):Ge(A)?Em(u(v,A)):ro(Xa(A));L.contents,E.atomValues.set(e,L),(H=v.getState().nextTree)===null||H===void 0||H.atomValues.set(e,L)}}return R}function f(v,E){var w,S;return(w=(S=E.atomValues.get(e))!==null&&S!==void 0?S:a)!==null&&w!==void 0?w:o}function p(v,E){if(E.atomValues.has(e))return nt(E.atomValues.get(e));if(E.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const w=E.nonvalidatedAtoms.get(e),S=n.validator(w,hi);return a=S instanceof Es?o:ro(S),a}else return o}function m(){a=void 0}function g(v,E,w){if(E.atomValues.has(e)){const S=nt(E.atomValues.get(e));if(S.state==="hasValue"&&w===S.contents)return new Map}else if(!E.nonvalidatedAtoms.has(e)&&w instanceof Es)return new Map;return a=void 0,new Map().set(e,ro(w))}function y(){return uN(e)!==void 0&&s<=0}const _=Dz({key:e,nodeType:"atom",peek:f,get:p,set:g,init:h,invalidate:m,shouldDeleteConfigOnRelease:y,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return _}function Py(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return Vz(n)?zz({...e,default:n}):Bz({...e,default:n})}function zz(t){const e=Py({...t,default:hi,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof Es?r:nt(t.persistence_UNSTABLE).validator(r,hi)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=ra({key:`${t.key}__withFallback`,get:({get:r})=>{const s=r(e);return s instanceof Es?t.default:s},set:({set:r},s)=>r(e,s),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return Mz(n.key,uN(t.key)),n}Py.value=t=>new cN(t);var dN=Py;class Hz{constructor(e){var n;ve(this,"_map",void 0),ve(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var Wz={MapCache:Hz},qz=Wz.MapCache,Gz=Object.freeze({__proto__:null,MapCache:qz});const{LRUCache:Nw}=iN,{MapCache:Kz}=Gz,Uu={equality:"reference",eviction:"none",maxSize:1/0};function Qz({equality:t=Uu.equality,eviction:e=Uu.eviction,maxSize:n=Uu.maxSize}=Uu){const r=Yz(t);return Xz(e,n,r)}function Yz(t){switch(t){case"reference":return e=>e;case"value":return e=>Lf(e)}throw Se(`Unrecognized equality policy ${t}`)}function Xz(t,e,n){switch(t){case"keep-all":return new Kz({mapKey:n});case"lru":return new Nw({mapKey:n,maxSize:nt(e)});case"most-recent":return new Nw({mapKey:n,maxSize:1})}throw Se(`Unrecognized eviction policy ${t}`)}var hN=Qz;const{setConfigDeletionHandler:Jz}=wn;function Zz(t){var e,n;const r=hN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i,o;const a=r.get(s);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...c}=t,u="default"in t?t.default:new Promise(()=>{}),h=dN({...c,key:`${t.key}__${(i=Lf(s))!==null&&i!==void 0?i:"void"}`,default:typeof u=="function"?u(s):u,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(s):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(s):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(s,h),Jz(h.key,()=>{r.delete(s)}),h}}var e3=Zz;const{setConfigDeletionHandler:t3}=wn;let n3=0;function r3(t){var e,n;const r=hN({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return s=>{var i;let o;try{o=r.get(s)}catch(f){throw Se(`Problem with cache lookup for selector ${t.key}: ${f.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(i=Lf(s,{allowFunctions:!0}))!==null&&i!==void 0?i:"void"}/${n3++}`,l=f=>t.get(s)(f),c=t.cachePolicy_UNSTABLE,u=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(s):t.retainedBy_UNSTABLE;let h;if(t.set!=null){const f=t.set;h=ra({key:a,get:l,set:(m,g)=>f(s)(m,g),cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u})}else h=ra({key:a,get:l,cachePolicy_UNSTABLE:c,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:u});return r.set(s,h),t3(h.key,()=>{r.delete(s)}),h}}var si=r3;const s3=si({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function i3(t){return s3(t)}var o3=i3;const a3=si({key:"__error",get:t=>()=>{throw Se(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function l3(t){return a3(t)}var c3=l3;function u3(t){return t}var d3=u3;const{loadableWithError:fN,loadableWithPromise:pN,loadableWithValue:mN}=Fc;function Of(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[s,i]of e.entries())try{n[s]=t(i)}catch(o){r[s]=o}return[n,r]}function h3(t){return t!=null&&!Ge(t)}function Df(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function u_(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,s)=>({...n,[r]:e[s]}),{})}function Mo(t,e,n){const r=n.map((s,i)=>s==null?mN(e[i]):Ge(s)?pN(s):fN(s));return u_(t,r)}function f3(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const p3=si({key:"__waitForNone",get:t=>({get:e})=>{const n=Df(t),[r,s]=Of(e,n);return Mo(t,r,s)},dangerouslyAllowMutability:!0}),m3=si({key:"__waitForAny",get:t=>({get:e})=>{const n=Df(t),[r,s]=Of(e,n);return s.some(i=>!Ge(i))?Mo(t,r,s):new Promise(i=>{for(const[o,a]of s.entries())Ge(a)&&a.then(l=>{r[o]=l,s[o]=void 0,i(Mo(t,r,s))}).catch(l=>{s[o]=l,i(Mo(t,r,s))})})},dangerouslyAllowMutability:!0}),g3=si({key:"__waitForAll",get:t=>({get:e})=>{const n=Df(t),[r,s]=Of(e,n);if(s.every(o=>o==null))return u_(t,r);const i=s.find(h3);if(i!=null)throw i;return Promise.all(s).then(o=>u_(t,f3(r,o)))},dangerouslyAllowMutability:!0}),_3=si({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=Df(t),[r,s]=Of(e,n);return s.every(i=>!Ge(i))?Mo(t,r,s):Promise.all(s.map((i,o)=>Ge(i)?i.then(a=>{r[o]=a,s[o]=void 0}).catch(a=>{r[o]=void 0,s[o]=a}):null)).then(()=>Mo(t,r,s))},dangerouslyAllowMutability:!0}),v3=si({key:"__noWait",get:t=>({get:e})=>{try{return ra.value(mN(e(t)))}catch(n){return ra.value(Ge(n)?pN(n):fN(n))}},dangerouslyAllowMutability:!0});var y3={waitForNone:p3,waitForAny:m3,waitForAll:g3,waitForAllSettled:_3,noWait:v3};const{RecoilLoadable:E3}=Fc,{DefaultValue:S3}=wn,{RecoilRoot:w3,useRecoilStoreID:T3}=ps,{isRecoilValue:C3}=ea,{retentionZone:I3}=wf,{freshSnapshot:R3}=Nf,{useRecoilState:x3,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:N3,useRecoilStateLoadable:A3,useRecoilValue:b3,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:k3,useRecoilValueLoadable:P3,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:L3,useResetRecoilState:O3,useSetRecoilState:D3}=W4,{useGotoRecoilSnapshot:M3,useRecoilSnapshot:V3,useRecoilTransactionObserver:$3}=Jx,{useRecoilCallback:j3}=nN,{noWait:F3,waitForAll:U3,waitForAllSettled:B3,waitForAny:z3,waitForNone:H3}=y3;var Ly={DefaultValue:S3,isRecoilValue:C3,RecoilLoadable:E3,RecoilEnv:Ta,RecoilRoot:w3,useRecoilStoreID:T3,useRecoilBridgeAcrossReactRoots_UNSTABLE:vB,atom:dN,selector:ra,atomFamily:e3,selectorFamily:si,constSelector:o3,errorSelector:c3,readOnlySelector:d3,noWait:F3,waitForNone:H3,waitForAny:z3,waitForAll:U3,waitForAllSettled:B3,useRecoilValue:b3,useRecoilValueLoadable:P3,useRecoilState:x3,useRecoilStateLoadable:A3,useSetRecoilState:D3,useResetRecoilState:O3,useGetRecoilValueInfo_UNSTABLE:hB,useRecoilRefresher_UNSTABLE:GB,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:L3,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:k3,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:N3,useRecoilCallback:j3,useRecoilTransaction_UNSTABLE:JB,useGotoRecoilSnapshot:M3,useRecoilSnapshot:V3,useRecoilTransactionObserver_UNSTABLE:$3,snapshot_UNSTABLE:R3,useRetain:xy,retentionZone:I3},W3=Ly.RecoilRoot,Oy=Ly.atom,Vo=Ly.useRecoilState;const te={init:function(){this.dpmode.init(),this.viewport.init.evt(),console.log("ui.init")},e:1,aaa:function(){console.log("dsfafsafdsffsafasfdfas")},iosx:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top").replace(/[^0-9]/g,""))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom").replace(/[^0-9]/g,""))||0},viewport:{init:{evt:function(){window.addEventListener("load",this.set),window.addEventListener("resize",this.set)},set:()=>document.documentElement.style.setProperty("--vh",window.innerHeight*.01+"px")},height:()=>parseInt(window.visualViewport?visualViewport.height:window.innerHeight),width:()=>parseInt(window.visualViewport?visualViewport.width:window.innerWidth),docHeight:()=>parseInt(document.documentElement.scrollHeight||document.body.clientHeight),scrollTop:()=>parseInt(document.documentElement.scrollTop)},dateForm:(t,e)=>(e=e===void 0?e="medium":null,new Intl.DateTimeFormat("ko-KR",{dateStyle:e,timeStyle:e}).format(t)),getSafe:{top:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-top"))||0,bottom:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-bottom"))||0,watch:()=>parseInt(getComputedStyle(document.documentElement).getPropertyValue("--safe-watch"))||0},dpmode:{init:function(){setInterval(this.set,500)},set:function(){const t=window.matchMedia("(display-mode: fullscreen)").matches,e=window.matchMedia("(display-mode: standalone)").matches;t?document.documentElement.classList.add("is-pwa-fullscreen"):document.documentElement.classList.remove("is-pwa-fullscreen"),t?document.documentElement.style.setProperty("--safe-watch","24px"):document.documentElement.style.setProperty("--safe-watch","0px"),e?document.documentElement.classList.add("is-pwa-standalone"):document.documentElement.classList.remove("is-pwa-standalone")}},scrollTo:(t,e,n,r)=>{const s=document.querySelector(t);if(!s)return;console.log(s);const i=s.scrollTop||document.documentElement.scrollTop,o=e,a=performance.now(),l=c=>{const u=c-a,h=Math.min(u/n,1),f=h<.5?4*h*h*h:(h-1)*(2*h-2)*(2*h-2)+1,p=i+(o-i)*f;s===document.body?window.scrollTo(0,p):s.scrollTop=p,u<n?requestAnimationFrame(l):typeof r=="function"&&r()};requestAnimationFrame(l)},popup:{evt:function(){},resize:function(){var s,i;let t=document.querySelector(".pop-layer"),e=t.offsetHeight||0,n=((s=t.querySelector(".pbt"))==null?void 0:s.offsetHeight)||0,r=((i=t.querySelector(".phd"))==null?void 0:i.offsetHeight)||0;e=e-r||0,console.log(e),t.querySelector(".pct").style.maxHeight=e-n+"px"}},alert:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인"},e);if(document.querySelectorAll(".ui-alert").length)return;te.lock.using(!0);var r=`<article class="ui-alert ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-alert");s.classList.add("is-alert"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelectorAll(".btn-confirm, .btn-close").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-alert"),document.querySelectorAll(".pop-layer").length<1&&te.lock.using(!1)}},confirm:function(t,e){let n=Object.assign({msg:t,tit:"",cls:"",ycb:"",ybt:"확인",ncb:"",nbt:"취소"},e);if(document.querySelectorAll(".ui-confrim").length)return;te.lock.using(!0);let r=`<article class="ui-confrim ${n.cls}" tabindex="0">
            <div class="pbd">
                <div class="phd"><span class="ptit">${n.tit}</span></div>
                <div class="pct"><div class="msg">${n.msg}</div></div>
                <div class="pbt">
                    <button type="button" class="btn btn-cancel">${n.nbt}</button>
                    <button type="button" class="btn btn-confirm">${n.ybt}</button>
                </div>
                <!-- <button type="button" class="btn-close"><i class="fa-regular fa-xmark"></i></button> -->
            </div>
        </article>`;const s=document.querySelector("body");s.insertAdjacentHTML("beforeend",r);const i=document.querySelector(".ui-confrim");s.classList.add("is-confrim"),setTimeout(()=>i.classList.add("open")),n.tit&&i.querySelector(".pbd>.phd").classList.add("is-tit"),i.focus(),i.querySelector(".btn-confirm").addEventListener("click",()=>window.setTimeout(n.ycb)),i.querySelector(".btn-cancel").addEventListener("click",()=>window.setTimeout(n.ncb)),i.querySelectorAll(".btn-confirm, .btn-close , .btn-cancel").forEach(a=>{a.addEventListener("click",o)});function o(){i.remove(),s.classList.remove("is-confrim"),document.querySelectorAll(".pop-layer").length<1&&te.lock.using(!1)}},loading:{show:function(){if(!document.querySelectorAll("body>.ui-loading-dot").length){var t=`<div class="ui-loading-dot">
                    <div class="bx"><em><i></i></em></div>
                </div>`;document.querySelector("body").insertAdjacentHTML("afterbegin",t),document.querySelector("body").classList.add("is-loading")}},hide:function(){document.querySelectorAll(".ui-loading-dot").forEach(t=>t.remove()),document.querySelector("body").classList.remove("is-loading")}},lock:{sct:0,stat:!1,els:".pop-layer  , .ui-confrim , .ui-alert",set:function(){document.querySelectorAll(this.els).length<=0&&this.using(!1)},using:function(t){const e=document.querySelectorAll("body , html"),n=document.querySelector("html");t===!0&&this.stat===!1&&(te.lock.stat=!0,te.lock.sct=window.scrollY,e.forEach(r=>r.classList.add("is-lock","is-lock-end")),n.style.top=-te.lock.sct+"px"),t===!1&&document.querySelectorAll(this.els).length<=0&&n.classList.contains("is-lock")&&(te.lock.stat=!1,e.forEach(r=>r.classList.remove("is-lock")),n.style.top="",window.scrollTo(0,te.lock.sct),setTimeout(()=>{e.forEach(r=>r.classList.remove("is-lock-end"))},50))}}};window.ui=te;var q3="firebase",G3="10.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(q3,G3,"app");var K3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},K,Dy=Dy||{},me=K3||self;function Mf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function qc(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Q3(t){return Object.prototype.hasOwnProperty.call(t,Sm)&&t[Sm]||(t[Sm]=++Y3)}var Sm="closure_uid_"+(1e9*Math.random()>>>0),Y3=0;function X3(t,e,n){return t.call.apply(t.bind,arguments)}function J3(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Yt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Yt=X3:Yt=J3,Yt.apply(null,arguments)}function Bu(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function kt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function ii(){this.s=this.s,this.o=this.o}var Z3=0;ii.prototype.s=!1;ii.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Z3!=0)&&Q3(this)};ii.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gN=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function My(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Aw(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Mf(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Xt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Xt.prototype.h=function(){this.defaultPrevented=!0};var e9=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function uc(t){return/^[\s\xa0]*$/.test(t)}function Vf(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function pr(t){return Vf().indexOf(t)!=-1}function Vy(t){return Vy[" "](t),t}Vy[" "]=function(){};function t9(t,e){var n=G9;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var n9=pr("Opera"),sa=pr("Trident")||pr("MSIE"),_N=pr("Edge"),d_=_N||sa,vN=pr("Gecko")&&!(Vf().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge"))&&!(pr("Trident")||pr("MSIE"))&&!pr("Edge"),r9=Vf().toLowerCase().indexOf("webkit")!=-1&&!pr("Edge");function yN(){var t=me.document;return t?t.documentMode:void 0}var h_;e:{var wm="",Tm=function(){var t=Vf();if(vN)return/rv:([^\);]+)(\)|;)/.exec(t);if(_N)return/Edge\/([\d\.]+)/.exec(t);if(sa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(r9)return/WebKit\/(\S+)/.exec(t);if(n9)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Tm&&(wm=Tm?Tm[1]:""),sa){var Cm=yN();if(Cm!=null&&Cm>parseFloat(wm)){h_=String(Cm);break e}}h_=wm}var f_;if(me.document&&sa){var bw=yN();f_=bw||parseInt(h_,10)||void 0}else f_=void 0;var s9=f_;function dc(t,e){if(Xt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(vN){e:{try{Vy(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:i9[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&dc.$.h.call(this)}}kt(dc,Xt);var i9={2:"touch",3:"pen",4:"mouse"};dc.prototype.h=function(){dc.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Gc="closure_listenable_"+(1e6*Math.random()|0),o9=0;function a9(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++o9,this.fa=this.ia=!1}function $f(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $y(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function l9(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function EN(t){const e={};for(const n in t)e[n]=t[n];return e}const kw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function SN(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<kw.length;i++)n=kw[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function jf(t){this.src=t,this.g={},this.h=0}jf.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=m_(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new a9(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function p_(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=gN(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&($f(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function m_(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var jy="closure_lm_"+(1e6*Math.random()|0),Im={};function wN(t,e,n,r,s){if(r&&r.once)return CN(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)wN(t,e[i],n,r,s);return null}return n=By(n),t&&t[Gc]?t.O(e,n,qc(r)?!!r.capture:!!r,s):TN(t,e,n,!1,r,s)}function TN(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=qc(s)?!!s.capture:!!s,a=Uy(t);if(a||(t[jy]=a=new jf(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=c9(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)e9||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(RN(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function c9(){function t(n){return e.call(t.src,t.listener,n)}const e=u9;return t}function CN(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)CN(t,e[i],n,r,s);return null}return n=By(n),t&&t[Gc]?t.P(e,n,qc(r)?!!r.capture:!!r,s):TN(t,e,n,!0,r,s)}function IN(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)IN(t,e[i],n,r,s);else r=qc(r)?!!r.capture:!!r,n=By(n),t&&t[Gc]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=m_(i,n,r,s),-1<n&&($f(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Uy(t))&&(e=t.g[e.toString()],t=-1,e&&(t=m_(e,n,r,s)),(n=-1<t?e[t]:null)&&Fy(n))}function Fy(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Gc])p_(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(RN(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Uy(e))?(p_(n,t),n.h==0&&(n.src=null,e[jy]=null)):$f(t)}}}function RN(t){return t in Im?Im[t]:Im[t]="on"+t}function u9(t,e){if(t.fa)t=!0;else{e=new dc(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Fy(t),t=n.call(r,e)}return t}function Uy(t){return t=t[jy],t instanceof jf?t:null}var Rm="__closure_events_fn_"+(1e9*Math.random()>>>0);function By(t){return typeof t=="function"?t:(t[Rm]||(t[Rm]=function(e){return t.handleEvent(e)}),t[Rm])}function bt(){ii.call(this),this.i=new jf(this),this.S=this,this.J=null}kt(bt,ii);bt.prototype[Gc]=!0;bt.prototype.removeEventListener=function(t,e,n,r){IN(this,t,e,n,r)};function Vt(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Xt(e,t);else if(e instanceof Xt)e.target=e.target||t;else{var s=e;e=new Xt(r,t),SN(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=zu(o,r,!0,e)&&s}if(o=e.g=t,s=zu(o,r,!0,e)&&s,s=zu(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=zu(o,r,!1,e)&&s}bt.prototype.N=function(){if(bt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)$f(n[r]);delete t.g[e],t.h--}}this.J=null};bt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};bt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function zu(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&p_(t.i,o),s=a.call(l,r)!==!1&&s}}return s&&!r.defaultPrevented}var zy=me.JSON.stringify;class d9{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function h9(){var t=Hy;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class f9{constructor(){this.h=this.g=null}add(e,n){const r=xN.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var xN=new d9(()=>new p9,t=>t.reset());class p9{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function m9(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function g9(t){me.setTimeout(()=>{throw t},0)}let hc,fc=!1,Hy=new f9,NN=()=>{const t=me.Promise.resolve(void 0);hc=()=>{t.then(_9)}};var _9=()=>{for(var t;t=h9();){try{t.h.call(t.g)}catch(n){g9(n)}var e=xN;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}fc=!1};function Ff(t,e){bt.call(this),this.h=t||1,this.g=e||me,this.j=Yt(this.qb,this),this.l=Date.now()}kt(Ff,bt);K=Ff.prototype;K.ga=!1;K.T=null;K.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Vt(this,"tick"),this.ga&&(Wy(this),this.start()))}};K.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Wy(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}K.N=function(){Ff.$.N.call(this),Wy(this),delete this.g};function qy(t,e,n){if(typeof t=="function")n&&(t=Yt(t,n));else if(t&&typeof t.handleEvent=="function")t=Yt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function AN(t){t.g=qy(()=>{t.g=null,t.i&&(t.i=!1,AN(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class v9 extends ii{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:AN(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pc(t){ii.call(this),this.h=t,this.g={}}kt(pc,ii);var Pw=[];function bN(t,e,n,r){Array.isArray(n)||(n&&(Pw[0]=n.toString()),n=Pw);for(var s=0;s<n.length;s++){var i=wN(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function kN(t){$y(t.g,function(e,n){this.g.hasOwnProperty(n)&&Fy(e)},t),t.g={}}pc.prototype.N=function(){pc.$.N.call(this),kN(this)};pc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Uf(){this.g=!0}Uf.prototype.Ea=function(){this.g=!1};function y9(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&h[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function E9(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Io(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+w9(t,n)+(r?" "+r:"")})}function S9(t,e){t.info(function(){return"TIMEOUT: "+e})}Uf.prototype.info=function(){};function w9(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return zy(n)}catch{return e}}var Qi={},Lw=null;function Bf(){return Lw=Lw||new bt}Qi.Ta="serverreachability";function PN(t){Xt.call(this,Qi.Ta,t)}kt(PN,Xt);function mc(t){const e=Bf();Vt(e,new PN(e))}Qi.STAT_EVENT="statevent";function LN(t,e){Xt.call(this,Qi.STAT_EVENT,t),this.stat=e}kt(LN,Xt);function on(t){const e=Bf();Vt(e,new LN(e,t))}Qi.Ua="timingevent";function ON(t,e){Xt.call(this,Qi.Ua,t),this.size=e}kt(ON,Xt);function Kc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}var zf={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DN={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Gy(){}Gy.prototype.h=null;function Ow(t){return t.h||(t.h=t.i())}function MN(){}var Qc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ky(){Xt.call(this,"d")}kt(Ky,Xt);function Qy(){Xt.call(this,"c")}kt(Qy,Xt);var g_;function Hf(){}kt(Hf,Gy);Hf.prototype.g=function(){return new XMLHttpRequest};Hf.prototype.i=function(){return{}};g_=new Hf;function Yc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new pc(this),this.P=T9,t=d_?125:void 0,this.V=new Ff(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new VN}function VN(){this.i=null,this.g="",this.h=!1}var T9=45e3,__={},vh={};K=Yc.prototype;K.setTimeout=function(t){this.P=t};function v_(t,e,n){t.L=1,t.v=qf(is(e)),t.s=n,t.S=!0,$N(t,null)}function $N(t,e){t.G=Date.now(),Xc(t),t.A=is(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),qN(n.i,"t",r),t.C=0,n=t.l.J,t.h=new VN,t.g=fA(t.l,n?e:null,!t.s),0<t.O&&(t.M=new v9(Yt(t.Pa,t,t.g),t.O)),bN(t.U,t.g,"readystatechange",t.nb),e=t.I?EN(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),mc(),y9(t.j,t.u,t.A,t.m,t.W,t.s)}K.nb=function(t){t=t.target;const e=this.M;e&&mr(t)==3?e.l():this.Pa(t)};K.Pa=function(t){try{if(t==this.g)e:{const u=mr(this.g);var e=this.g.Ia();const h=this.g.da();if(!(3>u)&&(u!=3||d_||this.g&&(this.h.h||this.g.ja()||$w(this.g)))){this.J||u!=4||e==7||(e==8||0>=h?mc(3):mc(2)),Wf(this);var n=this.g.da();this.ca=n;t:if(jN(this)){var r=$w(this.g);t="";var s=r.length,i=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gi(this),kl(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,E9(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!uc(a)){var c=a;break t}}c=null}if(n=c)Io(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,y_(this,n);else{this.i=!1,this.o=3,on(12),gi(this),kl(this);break e}}this.S?(FN(this,u,o),d_&&this.i&&u==3&&(bN(this.U,this.V,"tick",this.mb),this.V.start())):(Io(this.j,this.m,o,null),y_(this,o)),u==4&&gi(this),this.i&&!this.J&&(u==4?cA(this.l,this):(this.i=!1,Xc(this)))}else H9(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,on(12)):(this.o=0,on(13)),gi(this),kl(this)}}}catch{}finally{}};function jN(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function FN(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=C9(t,n),s==vh){e==4&&(t.o=4,on(14),r=!1),Io(t.j,t.m,null,"[Incomplete Response]");break}else if(s==__){t.o=4,on(15),Io(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Io(t.j,t.m,s,null),y_(t,s);jN(t)&&s!=vh&&s!=__&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,on(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tE(e),e.M=!0,on(11))):(Io(t.j,t.m,n,"[Invalid Chunked Response]"),gi(t),kl(t))}K.mb=function(){if(this.g){var t=mr(this.g),e=this.g.ja();this.C<e.length&&(Wf(this),FN(this,t,e),this.i&&t!=4&&Xc(this))}};function C9(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?vh:(n=Number(e.substring(n,r)),isNaN(n)?__:(r+=1,r+n>e.length?vh:(e=e.slice(r,r+n),t.C=r+n,e)))}K.cancel=function(){this.J=!0,gi(this)};function Xc(t){t.Y=Date.now()+t.P,UN(t,t.P)}function UN(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Kc(Yt(t.lb,t),e)}function Wf(t){t.B&&(me.clearTimeout(t.B),t.B=null)}K.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(S9(this.j,this.A),this.L!=2&&(mc(),on(17)),gi(this),this.o=2,kl(this)):UN(this,this.Y-t)};function kl(t){t.l.H==0||t.J||cA(t.l,t)}function gi(t){Wf(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Wy(t.V),kN(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function y_(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||E_(n.i,t))){if(!t.K&&E_(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Sh(n),Qf(n);else break e;eE(n),on(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Kc(Yt(n.ib,n),6e3));if(1>=QN(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else _i(n,11)}else if((t.K||n.g==t)&&Sh(n),!uc(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const h=c[4];h!=null&&(n.Ga=h,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var i=r.i;i.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Yy(i,i.h),i.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,We(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=hA(r,r.J?r.pa:null,r.Y),o.K){YN(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Wf(a),Xc(a)),r.g=o}else aA(r);0<n.j.length&&Yf(n)}else c[0]!="stop"&&c[0]!="close"||_i(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?_i(n,7):Zy(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}mc(4)}catch{}}function I9(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Mf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function R9(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Mf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function BN(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Mf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=R9(t),r=I9(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var zN=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function x9(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function Ti(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Ti){this.h=t.h,yh(this,t.j),this.s=t.s,this.g=t.g,Eh(this,t.m),this.l=t.l;var e=t.i,n=new gc;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Dw(this,n),this.o=t.o}else t&&(e=String(t).match(zN))?(this.h=!1,yh(this,e[1]||"",!0),this.s=fl(e[2]||""),this.g=fl(e[3]||"",!0),Eh(this,e[4]),this.l=fl(e[5]||"",!0),Dw(this,e[6]||"",!0),this.o=fl(e[7]||"")):(this.h=!1,this.i=new gc(null,this.h))}Ti.prototype.toString=function(){var t=[],e=this.j;e&&t.push(pl(e,Mw,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(pl(e,Mw,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(pl(n,n.charAt(0)=="/"?b9:A9,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",pl(n,P9)),t.join("")};function is(t){return new Ti(t)}function yh(t,e,n){t.j=n?fl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Eh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Dw(t,e,n){e instanceof gc?(t.i=e,L9(t.i,t.h)):(n||(e=pl(e,k9)),t.i=new gc(e,t.h))}function We(t,e,n){t.i.set(e,n)}function qf(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function pl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,N9),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function N9(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Mw=/[#\/\?@]/g,A9=/[#\?:]/g,b9=/[#\?]/g,k9=/[#\?@]/g,P9=/#/g;function gc(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function oi(t){t.g||(t.g=new Map,t.h=0,t.i&&x9(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}K=gc.prototype;K.add=function(t,e){oi(this),this.i=null,t=Ia(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function HN(t,e){oi(t),e=Ia(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function WN(t,e){return oi(t),e=Ia(t,e),t.g.has(e)}K.forEach=function(t,e){oi(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};K.ta=function(){oi(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};K.Z=function(t){oi(this);let e=[];if(typeof t=="string")WN(this,t)&&(e=e.concat(this.g.get(Ia(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};K.set=function(t,e){return oi(this),this.i=null,t=Ia(this,t),WN(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};K.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function qN(t,e,n){HN(t,e),0<n.length&&(t.i=null,t.g.set(Ia(t,e),My(n)),t.h+=n.length)}K.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Ia(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function L9(t,e){e&&!t.j&&(oi(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(HN(this,r),qN(this,s,n))},t)),t.j=e}var O9=class{constructor(t,e){this.g=t,this.map=e}};function GN(t){this.l=t||D9,me.PerformanceNavigationTiming?(t=me.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var D9=10;function KN(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function QN(t){return t.h?1:t.g?t.g.size:0}function E_(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Yy(t,e){t.g?t.g.add(e):t.h=e}function YN(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}GN.prototype.cancel=function(){if(this.i=XN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function XN(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return My(t.i)}var M9=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function V9(){this.g=new M9}function $9(t,e,n){const r=n||"";try{BN(t,function(s,i){let o=s;qc(s)&&(o=zy(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function j9(t,e){const n=new Uf;if(me.Image){const r=new Image;r.onload=Bu(Hu,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Bu(Hu,n,r,"TestLoadImage: error",!1,e),r.onabort=Bu(Hu,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Bu(Hu,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Hu(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Jc(t){this.l=t.fc||null,this.j=t.ob||!1}kt(Jc,Gy);Jc.prototype.g=function(){return new Gf(this.l,this.j)};Jc.prototype.i=function(t){return function(){return t}}({});function Gf(t,e){bt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Xy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}kt(Gf,bt);var Xy=0;K=Gf.prototype;K.open=function(t,e){if(this.readyState!=Xy)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,_c(this)};K.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};K.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zc(this)),this.readyState=Xy};K.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,_c(this)),this.g&&(this.readyState=3,_c(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;JN(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function JN(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}K.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Zc(this):_c(this),this.readyState==3&&JN(this)}};K.Za=function(t){this.g&&(this.response=this.responseText=t,Zc(this))};K.Ya=function(t){this.g&&(this.response=t,Zc(this))};K.ka=function(){this.g&&Zc(this)};function Zc(t){t.readyState=4,t.l=null,t.j=null,t.A=null,_c(t)}K.setRequestHeader=function(t,e){this.v.append(t,e)};K.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};K.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function _c(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Gf.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var F9=me.JSON.parse;function at(t){bt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ZN,this.L=this.M=!1}kt(at,bt);var ZN="",U9=/^https?$/i,B9=["POST","PUT"];K=at.prototype;K.Oa=function(t){this.M=t};K.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():g_.g(),this.C=this.u?Ow(this.u):Ow(g_),this.g.onreadystatechange=Yt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Vw(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=me.FormData&&t instanceof me.FormData,!(0<=gN(B9,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{nA(this),0<this.B&&((this.L=z9(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yt(this.ua,this)):this.A=qy(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Vw(this,i)}};function z9(t){return sa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}K.ua=function(){typeof Dy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Vt(this,"timeout"),this.abort(8))};function Vw(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,eA(t),Kf(t)}function eA(t){t.F||(t.F=!0,Vt(t,"complete"),Vt(t,"error"))}K.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Vt(this,"complete"),Vt(this,"abort"),Kf(this))};K.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Kf(this,!0)),at.$.N.call(this)};K.La=function(){this.s||(this.G||this.v||this.l?tA(this):this.kb())};K.kb=function(){tA(this)};function tA(t){if(t.h&&typeof Dy<"u"&&(!t.C[1]||mr(t)!=4||t.da()!=2)){if(t.v&&mr(t)==4)qy(t.La,0,t);else if(Vt(t,"readystatechange"),mr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(zN)[1]||null;!s&&me.self&&me.self.location&&(s=me.self.location.protocol.slice(0,-1)),r=!U9.test(s?s.toLowerCase():"")}n=r}if(n)Vt(t,"complete"),Vt(t,"success");else{t.m=6;try{var i=2<mr(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",eA(t)}}finally{Kf(t)}}}}function Kf(t,e){if(t.g){nA(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Vt(t,"ready");try{n.onreadystatechange=r}catch{}}}function nA(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}K.isActive=function(){return!!this.g};function mr(t){return t.g?t.g.readyState:0}K.da=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}};K.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};K.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),F9(e)}};function $w(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case ZN:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function H9(t){const e={};t=(t.g&&2<=mr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(uc(t[r]))continue;var n=m9(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}l9(e,function(r){return r.join(", ")})}K.Ia=function(){return this.m};K.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function rA(t){let e="";return $y(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Jy(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=rA(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function Ja(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function sA(t){this.Ga=0,this.j=[],this.l=new Uf,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ja("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ja("baseRetryDelayMs",5e3,t),this.hb=Ja("retryDelaySeedMs",1e4,t),this.eb=Ja("forwardChannelMaxRetries",2,t),this.xa=Ja("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new GN(t&&t.concurrentRequestLimit),this.Ja=new V9,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}K=sA.prototype;K.ra=8;K.H=1;function Zy(t){if(iA(t),t.H==3){var e=t.W++,n=is(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),eu(t,n),e=new Yc(t,t.l,e),e.L=2,e.v=qf(is(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&(new Image().src=e.v,n=!0),n||(e.g=fA(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Xc(e)}dA(t)}function Qf(t){t.g&&(tE(t),t.g.cancel(),t.g=null)}function iA(t){Qf(t),t.u&&(me.clearTimeout(t.u),t.u=null),Sh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&me.clearTimeout(t.m),t.m=null)}function Yf(t){if(!KN(t.i)&&!t.m){t.m=!0;var e=t.Na;hc||NN(),fc||(hc(),fc=!0),Hy.add(e,t),t.C=0}}function W9(t,e){return QN(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Kc(Yt(t.Na,t,e),uA(t,t.C)),t.C++,!0)}K.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new Yc(this,this.l,t);let i=this.s;if(this.U&&(i?(i=EN(i),SN(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=oA(this,s,e),n=is(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),eu(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(rA(i)))+"&"+e:this.o&&Jy(n,this.o,i)),Yy(this.i,s),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),s.aa=!0,v_(s,n,null)):v_(s,n,e),this.H=2}}else this.H==3&&(t?jw(this,t):this.j.length==0||KN(this.i)||jw(this))};function jw(t,e){var n;e?n=e.m:n=t.W++;const r=is(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),eu(t,r),t.o&&t.s&&Jy(r,t.o,t.s),n=new Yc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=oA(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Yy(t.i,n),v_(n,r,e)}function eu(t,e){t.na&&$y(t.na,function(n,r){We(e,r,n)}),t.h&&BN({},function(n,r){We(e,r,n)})}function oA(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Yt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let c=s[l].g;const u=s[l].map;if(c-=i,0>c)i=Math.max(0,s[l].g-100),a=!1;else try{$9(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function aA(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;hc||NN(),fc||(hc(),fc=!0),Hy.add(e,t),t.A=0}}function eE(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Kc(Yt(t.Ma,t),uA(t,t.A)),t.A++,!0)}K.Ma=function(){if(this.u=null,lA(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Kc(Yt(this.jb,this),t)}};K.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,on(10),Qf(this),lA(this))};function tE(t){t.B!=null&&(me.clearTimeout(t.B),t.B=null)}function lA(t){t.g=new Yc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=is(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),eu(t,e),t.o&&t.s&&Jy(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=qf(is(e)),n.s=null,n.S=!0,$N(n,t)}K.ib=function(){this.v!=null&&(this.v=null,Qf(this),eE(this),on(19))};function Sh(t){t.v!=null&&(me.clearTimeout(t.v),t.v=null)}function cA(t,e){var n=null;if(t.g==e){Sh(t),tE(t),t.g=null;var r=2}else if(E_(t.i,e))n=e.F,YN(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=Bf(),Vt(r,new ON(r,n)),Yf(t)}else aA(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&W9(t,e)||r==2&&eE(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:_i(t,5);break;case 4:_i(t,10);break;case 3:_i(t,6);break;default:_i(t,2)}}}function uA(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function _i(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Yt(t.pb,t);n||(n=new Ti("//www.google.com/images/cleardot.gif"),me.location&&me.location.protocol=="http"||yh(n,"https"),qf(n)),j9(n.toString(),r)}else on(2);t.H=0,t.h&&t.h.za(e),dA(t),iA(t)}K.pb=function(t){t?(this.l.info("Successfully pinged google.com"),on(2)):(this.l.info("Failed to ping google.com"),on(1))};function dA(t){if(t.H=0,t.ma=[],t.h){const e=XN(t.i);(e.length!=0||t.j.length!=0)&&(Aw(t.ma,e),Aw(t.ma,t.j),t.i.i.length=0,My(t.j),t.j.length=0),t.h.ya()}}function hA(t,e,n){var r=n instanceof Ti?is(n):new Ti(n);if(r.g!="")e&&(r.g=e+"."+r.g),Eh(r,r.m);else{var s=me.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new Ti(null);r&&yh(i,r),e&&(i.g=e),s&&Eh(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&We(r,n,e),We(r,"VER",t.ra),eu(t,r),r}function fA(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new at(new Jc({ob:!0})):new at(t.va),e.Oa(t.J),e}K.isActive=function(){return!!this.h&&this.h.isActive(this)};function pA(){}K=pA.prototype;K.Ba=function(){};K.Aa=function(){};K.za=function(){};K.ya=function(){};K.isActive=function(){return!0};K.Va=function(){};function wh(){if(sa&&!(10<=Number(s9)))throw Error("Environmental error: no available transport.")}wh.prototype.g=function(t,e){return new An(t,e)};function An(t,e){bt.call(this),this.g=new sA(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!uc(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!uc(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ra(this)}kt(An,bt);An.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;on(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=hA(t,null,t.Y),Yf(t)};An.prototype.close=function(){Zy(this.g)};An.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=zy(t),t=n);e.j.push(new O9(e.fb++,t)),e.H==3&&Yf(e)};An.prototype.N=function(){this.g.h=null,delete this.j,Zy(this.g),delete this.g,An.$.N.call(this)};function mA(t){Ky.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}kt(mA,Ky);function gA(){Qy.call(this),this.status=1}kt(gA,Qy);function Ra(t){this.g=t}kt(Ra,pA);Ra.prototype.Ba=function(){Vt(this.g,"a")};Ra.prototype.Aa=function(t){Vt(this.g,new mA(t))};Ra.prototype.za=function(t){Vt(this.g,new gA)};Ra.prototype.ya=function(){Vt(this.g,"b")};function q9(){this.blockSize=-1}function lr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}kt(lr,q9);lr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function xm(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}lr.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)xm(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){xm(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){xm(this,r),s=0;break}}this.h=s,this.i+=e};lr.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ve(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var G9={};function nE(t){return-128<=t&&128>t?t9(t,function(e){return new Ve([e|0],0>e?-1:0)}):new Ve([t|0],0>t?-1:0)}function gr(t){if(isNaN(t)||!isFinite(t))return $o;if(0>t)return Ot(gr(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=S_;return new Ve(e,0)}function _A(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ot(_A(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=gr(Math.pow(e,8)),r=$o,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=gr(Math.pow(e,i)),r=r.R(i).add(gr(o))):(r=r.R(n),r=r.add(gr(o)))}return r}var S_=4294967296,$o=nE(0),w_=nE(1),Fw=nE(16777216);K=Ve.prototype;K.ea=function(){if(Vn(this))return-Ot(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:S_+r)*e,e*=S_}return t};K.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Wr(this))return"0";if(Vn(this))return"-"+Ot(this).toString(t);for(var e=gr(Math.pow(t,6)),n=this,r="";;){var s=Ch(n,e).g;n=Th(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Wr(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};K.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Wr(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function Vn(t){return t.h==-1}K.X=function(t){return t=Th(this,t),Vn(t)?-1:Wr(t)?0:1};function Ot(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ve(n,~t.h).add(w_)}K.abs=function(){return Vn(this)?Ot(this):this};K.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ve(n,n[n.length-1]&-2147483648?-1:0)};function Th(t,e){return t.add(Ot(e))}K.R=function(t){if(Wr(this)||Wr(t))return $o;if(Vn(this))return Vn(t)?Ot(this).R(Ot(t)):Ot(Ot(this).R(t));if(Vn(t))return Ot(this.R(Ot(t)));if(0>this.X(Fw)&&0>t.X(Fw))return gr(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,l=t.D(s)&65535;n[2*r+2*s]+=o*l,Wu(n,2*r+2*s),n[2*r+2*s+1]+=i*l,Wu(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Wu(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Wu(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ve(n,0)};function Wu(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Za(t,e){this.g=t,this.h=e}function Ch(t,e){if(Wr(e))throw Error("division by zero");if(Wr(t))return new Za($o,$o);if(Vn(t))return e=Ch(Ot(t),e),new Za(Ot(e.g),Ot(e.h));if(Vn(e))return e=Ch(t,Ot(e)),new Za(Ot(e.g),e.h);if(30<t.g.length){if(Vn(t)||Vn(e))throw Error("slowDivide_ only works with positive integers.");for(var n=w_,r=e;0>=r.X(t);)n=Uw(n),r=Uw(r);var s=so(n,1),i=so(r,1);for(r=so(r,2),n=so(n,2);!Wr(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=so(r,1),n=so(n,1)}return e=Th(t,s.R(e)),new Za(s,e)}for(s=$o;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=gr(n),o=i.R(e);Vn(o)||0<o.X(t);)n-=r,i=gr(n),o=i.R(e);Wr(i)&&(i=w_),s=s.add(i),t=Th(t,o)}return new Za(s,t)}K.gb=function(t){return Ch(this,t).h};K.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ve(n,this.h&t.h)};K.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ve(n,this.h|t.h)};K.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ve(n,this.h^t.h)};function Uw(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ve(n,t.h)}function so(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ve(s,t.h)}wh.prototype.createWebChannel=wh.prototype.g;An.prototype.send=An.prototype.u;An.prototype.open=An.prototype.m;An.prototype.close=An.prototype.close;zf.NO_ERROR=0;zf.TIMEOUT=8;zf.HTTP_ERROR=6;DN.COMPLETE="complete";MN.EventType=Qc;Qc.OPEN="a";Qc.CLOSE="b";Qc.ERROR="c";Qc.MESSAGE="d";bt.prototype.listen=bt.prototype.O;at.prototype.listenOnce=at.prototype.P;at.prototype.getLastError=at.prototype.Sa;at.prototype.getLastErrorCode=at.prototype.Ia;at.prototype.getStatus=at.prototype.da;at.prototype.getResponseJson=at.prototype.Wa;at.prototype.getResponseText=at.prototype.ja;at.prototype.send=at.prototype.ha;at.prototype.setWithCredentials=at.prototype.Oa;lr.prototype.digest=lr.prototype.l;lr.prototype.reset=lr.prototype.reset;lr.prototype.update=lr.prototype.j;Ve.prototype.add=Ve.prototype.add;Ve.prototype.multiply=Ve.prototype.R;Ve.prototype.modulo=Ve.prototype.gb;Ve.prototype.compare=Ve.prototype.X;Ve.prototype.toNumber=Ve.prototype.ea;Ve.prototype.toString=Ve.prototype.toString;Ve.prototype.getBits=Ve.prototype.D;Ve.fromNumber=gr;Ve.fromString=_A;var K9=function(){return new wh},Q9=function(){return Bf()},Nm=zf,Y9=DN,X9=Qi,Bw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},J9=Jc,qu=MN,Z9=at,e6=lr,jo=Ve;const zw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="10.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new uf("@firebase/firestore");function Hw(){return Di.logLevel}function re(t,...e){if(Di.logLevel<=ke.DEBUG){const n=e.map(rE);Di.debug(`Firestore (${xa}): ${t}`,...n)}}function os(t,...e){if(Di.logLevel<=ke.ERROR){const n=e.map(rE);Di.error(`Firestore (${xa}): ${t}`,...n)}}function ia(t,...e){if(Di.logLevel<=ke.WARN){const n=e.map(rE);Di.warn(`Firestore (${xa}): ${t}`,...n)}}function rE(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fe(t="Unexpected state"){const e=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: `+t;throw os(e),new Error(e)}function Qe(t,e){t||fe()}function ye(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class J extends xr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class t6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(zt.UNAUTHENTICATED))}shutdown(){}}class n6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class r6{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new Kr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Kr,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Kr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Qe(typeof r.accessToken=="string"),new vA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new zt(e)}}class s6{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class i6{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new s6(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class o6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class a6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new o6(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=l6(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function Oe(t,e){return t<e?-1:t>e?1:0}function oa(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new J(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new J(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new J(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new J(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return vt.fromMillis(Date.now())}static fromDate(e){return vt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new vt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ge(e)}static min(){return new ge(new vt(0,0))}static max(){return new ge(new vt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n,r){n===void 0?n=0:n>e.length&&fe(),r===void 0?r=e.length-n:r>e.length-n&&fe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return vc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof vc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class qe extends vc{construct(e,n,r){return new qe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new J(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new qe(n)}static emptyPath(){return new qe([])}}const c6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends vc{construct(e,n,r){return new Kt(e,n,r)}static isValidIdentifier(e){return c6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Kt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new J(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new J(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new J(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new J(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(qe.fromString(e))}static fromName(e){return new oe(qe.fromString(e).popFirst(5))}static empty(){return new oe(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new qe(e.slice()))}}function u6(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ge.fromTimestamp(r===1e9?new vt(n+1,0):new vt(n,r));return new Gs(s,oe.empty(),e)}function d6(t){return new Gs(t.readTime,t.key,-1)}class Gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Gs(ge.min(),oe.empty(),-1)}static max(){return new Gs(ge.max(),oe.empty(),-1)}}function h6(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Oe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class p6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==f6)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&fe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function nu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sE{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.oe(r),this._e=r=>n.writeSequenceNumber(r))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}sE.ae=-1;function Xf(t){return t==null}function Ih(t){return t===0&&1/t==-1/0}function m6(t){return typeof t=="number"&&Number.isInteger(t)&&!Ih(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function EA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pt=class T_{constructor(e,n){this.comparator=e,this.root=n||Fs.EMPTY}insert(e,n){return new T_(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fs.BLACK,null,null))}remove(e){return new T_(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fs.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}},Gu=class{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fs=class Lr{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Lr.RED,this.left=s??Lr.EMPTY,this.right=i??Lr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Lr(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Lr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fe();const e=this.left.check();if(e!==this.right.check())throw fe();return e+(this.isRed()?0:1)}};Fs.EMPTY=null,Fs.RED=!0,Fs.BLACK=!1;Fs.EMPTY=new class{constructor(){this.size=0}get key(){throw fe()}get value(){throw fe()}get color(){throw fe()}get left(){throw fe()}get right(){throw fe()}copy(e,n,r,s,i){return this}insert(e,n,r){return new Fs(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.comparator=e,this.data=new pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new qw(this.data.getIterator())}getIteratorFrom(e){return new qw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Jt(this.comparator);return n.data=e,n}}class qw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new tr([])}unionWith(e){let n=new Jt(Kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new tr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oa(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new SA("Invalid base64 string: "+i):i}}(e);return new nn(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new nn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const g6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ks(t){if(Qe(!!t),typeof t=="string"){let e=0;const n=g6.exec(t);if(Qe(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:dt(t.seconds),nanos:dt(t.nanos)}}function dt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Mi(t){return typeof t=="string"?nn.fromBase64String(t):nn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function oE(t){const e=t.mapValue.fields.__previous_value__;return iE(e)?oE(e):e}function yc(t){const e=Ks(t.mapValue.fields.__local_write_time__.timestampValue);return new vt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _6{constructor(e,n,r,s,i,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class Ec{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ec("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ec&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?iE(t)?4:v6(t)?9007199254740991:10:fe()}function Cr(t,e){if(t===e)return!0;const n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return yc(t).isEqual(yc(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Ks(s.timestampValue),a=Ks(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Mi(s.bytesValue).isEqual(Mi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return dt(s.geoPointValue.latitude)===dt(i.geoPointValue.latitude)&&dt(s.geoPointValue.longitude)===dt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return dt(s.integerValue)===dt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=dt(s.doubleValue),a=dt(i.doubleValue);return o===a?Ih(o)===Ih(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return oa(t.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Ww(o)!==Ww(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Cr(o[l],a[l])))return!1;return!0}(t,e);default:return fe()}}function Sc(t,e){return(t.values||[]).find(n=>Cr(n,e))!==void 0}function aa(t,e){if(t===e)return 0;const n=Vi(t),r=Vi(e);if(n!==r)return Oe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=dt(i.integerValue||i.doubleValue),l=dt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Gw(t.timestampValue,e.timestampValue);case 4:return Gw(yc(t),yc(e));case 5:return Oe(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Mi(i),l=Mi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=Oe(a[c],l[c]);if(u!==0)return u}return Oe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Oe(dt(i.latitude),dt(o.latitude));return a!==0?a:Oe(dt(i.longitude),dt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,o){const a=i.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=aa(a[c],l[c]);if(u)return u}return Oe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===Ku.mapValue&&o===Ku.mapValue)return 0;if(i===Ku.mapValue)return 1;if(o===Ku.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),c=o.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let h=0;h<l.length&&h<u.length;++h){const f=Oe(l[h],u[h]);if(f!==0)return f;const p=aa(a[l[h]],c[u[h]]);if(p!==0)return p}return Oe(l.length,u.length)}(t.mapValue,e.mapValue);default:throw fe()}}function Gw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Oe(t,e);const n=Ks(t),r=Ks(e),s=Oe(n.seconds,r.seconds);return s!==0?s:Oe(n.nanos,r.nanos)}function la(t){return C_(t)}function C_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Ks(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Mi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=C_(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${C_(n.fields[o])}`;return s+"}"}(t.mapValue):fe()}function Kw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function I_(t){return!!t&&"integerValue"in t}function aE(t){return!!t&&"arrayValue"in t}function Qw(t){return!!t&&"nullValue"in t}function Yw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function wd(t){return!!t&&"mapValue"in t}function Pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Na(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function v6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!wd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pl(n)}setAll(e){let n=Kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=Pl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());wd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];wd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Na(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new $n(Pl(this.value))}}function wA(t){const e=[];return Na(t.fields,(n,r)=>{const s=new Kt([n]);if(wd(r)){const i=wA(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Wt(e,0,ge.min(),ge.min(),ge.min(),$n.empty(),0)}static newFoundDocument(e,n,r,s){return new Wt(e,1,n,ge.min(),r,s,0)}static newNoDocument(e,n){return new Wt(e,2,n,ge.min(),ge.min(),$n.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,ge.min(),ge.min(),$n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ge.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.position=e,this.inclusive=n}}function Xw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=oe.comparator(oe.fromName(o.referenceValue),n.key):r=aa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Jw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Cr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n="asc"){this.field=e,this.dir=n}}function y6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{}class ft extends TA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S6(e,n,r):n==="array-contains"?new C6(e,r):n==="in"?new I6(e,r):n==="not-in"?new R6(e,r):n==="array-contains-any"?new x6(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w6(e,r):new T6(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(aa(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(aa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return fe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class cr extends TA{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new cr(e,n)}matches(e){return CA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le(n=>n.isInequality());return e!==null?e.field:null}le(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function CA(t){return t.op==="and"}function IA(t){return E6(t)&&CA(t)}function E6(t){for(const e of t.filters)if(e instanceof cr)return!1;return!0}function R_(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+la(t.value);if(IA(t))return t.filters.map(e=>R_(e)).join(",");{const e=t.filters.map(n=>R_(n)).join(",");return`${t.op}(${e})`}}function RA(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)}(t,e):t instanceof cr?function(r,s){return s instanceof cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&RA(o,s.filters[a]),!0):!1}(t,e):void fe()}function xA(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${la(n.value)}`}(t):t instanceof cr?function(n){return n.op.toString()+" {"+n.getFilters().map(xA).join(" ,")+"}"}(t):"Filter"}class S6 extends ft{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class w6 extends ft{constructor(e,n){super(e,"in",n),this.keys=NA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class T6 extends ft{constructor(e,n){super(e,"not-in",n),this.keys=NA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class C6 extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return aE(n)&&Sc(n.arrayValue,this.value)}}class I6 extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Sc(this.value.arrayValue,n)}}class R6 extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Sc(this.value.arrayValue,n)}}class x6 extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!aE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Sc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.he=null}}function Zw(t,e=null,n=[],r=[],s=null,i=null,o=null){return new N6(t,e,n,r,s,i,o)}function lE(t){const e=ye(t);if(e.he===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>R_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Xf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>la(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>la(r)).join(",")),e.he=n}return e.he}function cE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!y6(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!RA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Jw(t.startAt,e.startAt)&&Jw(t.endAt,e.endAt)}function x_(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Pe=null,this.Ie=null,this.Te=null,this.startAt,this.endAt}}function A6(t,e,n,r,s,i,o,a){return new Aa(t,e,n,r,s,i,o,a)}function uE(t){return new Aa(t)}function eT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dE(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Jf(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function AA(t){return t.collectionGroup!==null}function Ll(t){const e=ye(t);if(e.Pe===null){e.Pe=[];const n=Jf(e),r=dE(e);if(n!==null&&r===null)n.isKeyField()||e.Pe.push(new Fo(n)),e.Pe.push(new Fo(Kt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.Pe.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.Pe.push(new Fo(Kt.keyField(),i))}}}return e.Pe}function as(t){const e=ye(t);return e.Ie||(e.Ie=b6(e,Ll(t))),e.Ie}function b6(t,e){if(t.limitType==="F")return Zw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Fo(s.field,i)});const n=t.endAt?new Rh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Rh(t.startAt.position,t.startAt.inclusive):null;return Zw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function N_(t,e){e.getFirstInequalityField(),Jf(t);const n=t.filters.concat([e]);return new Aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function xh(t,e,n){return new Aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zf(t,e){return cE(as(t),as(e))&&t.limitType===e.limitType}function bA(t){return`${lE(as(t))}|lt:${t.limitType}`}function A_(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xA(s)).join(", ")}]`),Xf(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>la(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>la(s)).join(",")),`Target(${r})`}(as(t))}; limitType=${t.limitType})`}function ep(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):oe.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ll(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const c=Xw(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,Ll(r),s)||r.endAt&&!function(o,a,l){const c=Xw(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,Ll(r),s))}(t,e)}function k6(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kA(t){return(e,n)=>{let r=!1;for(const s of Ll(t)){const i=P6(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function P6(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),c=a.data.field(i);return l!==null&&c!==null?aa(l,c):fe()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return fe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Na(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return EA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L6=new pt(oe.comparator);function ls(){return L6}const PA=new pt(oe.comparator);function ml(...t){let e=PA;for(const n of t)e=e.insert(n.key,n);return e}function LA(t){let e=PA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function vi(){return Ol()}function OA(){return Ol()}function Ol(){return new ba(t=>t.toString(),(t,e)=>t.isEqual(e))}const O6=new pt(oe.comparator),D6=new Jt(oe.comparator);function Ie(...t){let e=D6;for(const n of t)e=e.add(n);return e}const M6=new Jt(Oe);function V6(){return M6}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function MA(t){return{integerValue:""+t}}function $6(t,e){return m6(e)?MA(e):DA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this._=void 0}}function j6(t,e,n){return t instanceof Nh?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&iE(i)&&(i=oE(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(n,e):t instanceof wc?$A(t,e):t instanceof Tc?jA(t,e):function(s,i){const o=VA(s,i),a=tT(o)+tT(s.Ee);return I_(o)&&I_(s.Ee)?MA(a):DA(s.serializer,a)}(t,e)}function F6(t,e,n){return t instanceof wc?$A(t,e):t instanceof Tc?jA(t,e):n}function VA(t,e){return t instanceof Ah?function(r){return I_(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Nh extends tp{}class wc extends tp{constructor(e){super(),this.elements=e}}function $A(t,e){const n=FA(e);for(const r of t.elements)n.some(s=>Cr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Tc extends tp{constructor(e){super(),this.elements=e}}function jA(t,e){let n=FA(e);for(const r of t.elements)n=n.filter(s=>!Cr(s,r));return{arrayValue:{values:n}}}class Ah extends tp{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function tT(t){return dt(t.integerValue||t.doubleValue)}function FA(t){return aE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function U6(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof wc&&s instanceof wc||r instanceof Tc&&s instanceof Tc?oa(r.elements,s.elements,Cr):r instanceof Ah&&s instanceof Ah?Cr(r.Ee,s.Ee):r instanceof Nh&&s instanceof Nh}(t.transform,e.transform)}class B6{constructor(e,n){this.version=e,this.transformResults=n}}class Qr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Qr}static exists(e){return new Qr(void 0,e)}static updateTime(e){return new Qr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Td(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class np{}function UA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new zA(t.key,Qr.none()):new ru(t.key,t.data,Qr.none());{const n=t.data,r=$n.empty();let s=new Jt(Kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Yi(t.key,r,new tr(s.toArray()),Qr.none())}}function z6(t,e,n){t instanceof ru?function(s,i,o){const a=s.value.clone(),l=rT(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(s,i,o){if(!Td(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=rT(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(BA(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Dl(t,e,n,r){return t instanceof ru?function(i,o,a,l){if(!Td(i.precondition,o))return a;const c=i.value.clone(),u=sT(i.fieldTransforms,l,o);return c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(i,o,a,l){if(!Td(i.precondition,o))return a;const c=sT(i.fieldTransforms,l,o),u=o.data;return u.setAll(BA(i)),u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(i,o,a){return Td(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function H6(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=VA(r.transform,s||null);i!=null&&(n===null&&(n=$n.empty()),n.set(r.field,i))}return n||null}function nT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&oa(r,s,(i,o)=>U6(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ru extends np{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yi extends np{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function BA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function rT(t,e,n){const r=new Map;Qe(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,F6(o,a,n[s]))}return r}function sT(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,j6(i,o,e))}return r}class zA extends np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class W6 extends np{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q6{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&z6(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Dl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OA();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=UA(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(ge.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ie())}isEqual(e){return this.batchId===e.batchId&&oa(this.mutations,e.mutations,(n,r)=>nT(n,r))&&oa(this.baseMutations,e.baseMutations,(n,r)=>nT(n,r))}}class hE{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Qe(e.mutations.length===r.length);let s=function(){return O6}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new hE(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K6{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ut,Ne;function Q6(t){switch(t){default:return fe();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function HA(t){if(t===void 0)return os("GRPC error has no .code"),M.UNKNOWN;switch(t){case ut.OK:return M.OK;case ut.CANCELLED:return M.CANCELLED;case ut.UNKNOWN:return M.UNKNOWN;case ut.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case ut.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case ut.INTERNAL:return M.INTERNAL;case ut.UNAVAILABLE:return M.UNAVAILABLE;case ut.UNAUTHENTICATED:return M.UNAUTHENTICATED;case ut.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case ut.NOT_FOUND:return M.NOT_FOUND;case ut.ALREADY_EXISTS:return M.ALREADY_EXISTS;case ut.PERMISSION_DENIED:return M.PERMISSION_DENIED;case ut.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case ut.ABORTED:return M.ABORTED;case ut.OUT_OF_RANGE:return M.OUT_OF_RANGE;case ut.UNIMPLEMENTED:return M.UNIMPLEMENTED;case ut.DATA_LOSS:return M.DATA_LOSS;default:return fe()}}(Ne=ut||(ut={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Qu}static getOrCreateInstance(){return Qu===null&&(Qu=new fE),Qu}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Qu=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y6(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X6=new jo([4294967295,4294967295],0);function iT(t){const e=Y6().encode(t),n=new e6;return n.update(e),new Uint8Array(n.digest())}function oT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new jo([n,r],0),new jo([s,i],0)]}class pE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new gl(`Invalid padding: ${n}`);if(r<0)throw new gl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new gl(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new gl(`Invalid padding when bitmap length is 0: ${n}`);this.Ae=8*e.length-n,this.Re=jo.fromNumber(this.Ae)}Ve(e,n,r){let s=e.add(n.multiply(jo.fromNumber(r)));return s.compare(X6)===1&&(s=new jo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Re).toNumber()}me(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ae===0)return!1;const n=iT(e),[r,s]=oT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);if(!this.me(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new pE(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ae===0)return;const n=iT(e),[r,s]=oT(n);for(let i=0;i<this.hashCount;i++){const o=this.Ve(r,s,i);this.fe(o)}}fe(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class gl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,su.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new rp(ge.min(),s,new pt(Oe),ls(),Ie())}}class su{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new su(r,n,Ie(),Ie(),Ie())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n,r,s){this.ge=e,this.removedTargetIds=n,this.key=r,this.pe=s}}class WA{constructor(e,n){this.targetId=e,this.ye=n}}class qA{constructor(e,n,r=nn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class aT{constructor(){this.we=0,this.Se=cT(),this.be=nn.EMPTY_BYTE_STRING,this.De=!1,this.ve=!0}get current(){return this.De}get resumeToken(){return this.be}get Ce(){return this.we!==0}get Fe(){return this.ve}Me(e){e.approximateByteSize()>0&&(this.ve=!0,this.be=e)}xe(){let e=Ie(),n=Ie(),r=Ie();return this.Se.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:fe()}}),new su(this.be,this.De,e,n,r)}Oe(){this.ve=!1,this.Se=cT()}Ne(e,n){this.ve=!0,this.Se=this.Se.insert(e,n)}Be(e){this.ve=!0,this.Se=this.Se.remove(e)}Le(){this.we+=1}ke(){this.we-=1}qe(){this.ve=!0,this.De=!0}}class J6{constructor(e){this.Qe=e,this.Ke=new Map,this.$e=ls(),this.Ue=lT(),this.We=new pt(Oe)}Ge(e){for(const n of e.ge)e.pe&&e.pe.isFoundDocument()?this.ze(n,e.pe):this.je(n,e.key,e.pe);for(const n of e.removedTargetIds)this.je(n,e.key,e.pe)}He(e){this.forEachTarget(e,n=>{const r=this.Je(n);switch(e.state){case 0:this.Ye(n)&&r.Me(e.resumeToken);break;case 1:r.ke(),r.Ce||r.Oe(),r.Me(e.resumeToken);break;case 2:r.ke(),r.Ce||this.removeTarget(n);break;case 3:this.Ye(n)&&(r.qe(),r.Me(e.resumeToken));break;case 4:this.Ye(n)&&(this.Ze(n),r.Me(e.resumeToken));break;default:fe()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ke.forEach((r,s)=>{this.Ye(s)&&n(s)})}Xe(e){var n;const r=e.targetId,s=e.ye.count,i=this.et(r);if(i){const o=i.target;if(x_(o))if(s===0){const a=new oe(o.path);this.je(r,a,Wt.newNoDocument(a,ge.min()))}else Qe(s===1);else{const a=this.tt(r);if(a!==s){const l=this.nt(e),c=l?this.rt(l,e,a):1;if(c!==0){this.Ze(r);const u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.We=this.We.insert(r,u)}(n=fE.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(h,f,p,m,g){var y,_,v,E,w,S;const R={localCacheCount:h,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},b=f.unchangedNames;return b&&(R.bloomFilter={applied:g===0,hashCount:(y=b==null?void 0:b.hashCount)!==null&&y!==void 0?y:0,bitmapLength:(E=(v=(_=b==null?void 0:b.bits)===null||_===void 0?void 0:_.bitmap)===null||v===void 0?void 0:v.length)!==null&&E!==void 0?E:0,padding:(S=(w=b==null?void 0:b.bits)===null||w===void 0?void 0:w.padding)!==null&&S!==void 0?S:0,mightContain:P=>{var H;return(H=m==null?void 0:m.mightContain(P))!==null&&H!==void 0&&H}}),R}(a,e.ye,this.Qe.it(),l,c))}}}}nt(e){const n=e.ye.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Mi(r).toUint8Array()}catch(l){if(l instanceof SA)return ia("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new pE(o,s,i)}catch(l){return ia(l instanceof gl?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ae===0?null:a}rt(e,n,r){return n.ye.count===r-this.st(e,n.targetId)?0:2}st(e,n){const r=this.Qe.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Qe.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.je(n,i,null),s++)}),s}ot(e){const n=new Map;this.Ke.forEach((i,o)=>{const a=this.et(o);if(a){if(i.current&&x_(a.target)){const l=new oe(a.target.path);this.$e.get(l)!==null||this._t(o,l)||this.je(o,l,Wt.newNoDocument(l,e))}i.Fe&&(n.set(o,i.xe()),i.Oe())}});let r=Ie();this.Ue.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.et(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.$e.forEach((i,o)=>o.setReadTime(e));const s=new rp(e,n,this.We,this.$e,r);return this.$e=ls(),this.Ue=lT(),this.We=new pt(Oe),s}ze(e,n){if(!this.Ye(e))return;const r=this._t(e,n.key)?2:0;this.Je(e).Ne(n.key,r),this.$e=this.$e.insert(n.key,n),this.Ue=this.Ue.insert(n.key,this.ut(n.key).add(e))}je(e,n,r){if(!this.Ye(e))return;const s=this.Je(e);this._t(e,n)?s.Ne(n,1):s.Be(n),this.Ue=this.Ue.insert(n,this.ut(n).delete(e)),r&&(this.$e=this.$e.insert(n,r))}removeTarget(e){this.Ke.delete(e)}tt(e){const n=this.Je(e).xe();return this.Qe.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Le(e){this.Je(e).Le()}Je(e){let n=this.Ke.get(e);return n||(n=new aT,this.Ke.set(e,n)),n}ut(e){let n=this.Ue.get(e);return n||(n=new Jt(Oe),this.Ue=this.Ue.insert(e,n)),n}Ye(e){const n=this.et(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}et(e){const n=this.Ke.get(e);return n&&n.Ce?null:this.Qe.ct(e)}Ze(e){this.Ke.set(e,new aT),this.Qe.getRemoteKeysForTarget(e).forEach(n=>{this.je(e,n,null)})}_t(e,n){return this.Qe.getRemoteKeysForTarget(e).has(n)}}function lT(){return new pt(oe.comparator)}function cT(){return new pt(oe.comparator)}const Z6=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),eH=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),tH=(()=>({and:"AND",or:"OR"}))();class nH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function b_(t,e){return t.useProto3Json||Xf(e)?e:{value:e}}function bh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function GA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rH(t,e){return bh(t,e.toTimestamp())}function Tr(t){return Qe(!!t),ge.fromTimestamp(function(n){const r=Ks(n);return new vt(r.seconds,r.nanos)}(t))}function mE(t,e){return function(r){return new qe(["projects",r.projectId,"databases",r.database])}(t).child("documents").child(e).canonicalString()}function KA(t){const e=qe.fromString(t);return Qe(JA(e)),e}function k_(t,e){return mE(t.databaseId,e.path)}function Am(t,e){const n=KA(e);if(n.get(1)!==t.databaseId.projectId)throw new J(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new J(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(QA(n))}function P_(t,e){return mE(t.databaseId,e)}function sH(t){const e=KA(t);return e.length===4?qe.emptyPath():QA(e)}function L_(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QA(t){return Qe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function uT(t,e,n){return{name:k_(t,e),fields:n.value.mapValue.fields}}function iH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:fe()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,u){return c.useProto3Json?(Qe(u===void 0||typeof u=="string"),nn.fromBase64String(u||"")):(Qe(u===void 0||u instanceof Uint8Array),nn.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const u=c.code===void 0?M.UNKNOWN:HA(c.code);return new J(u,c.message||"")}(o);n=new qA(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Am(t,r.document.name),i=Tr(r.document.updateTime),o=r.document.createTime?Tr(r.document.createTime):ge.min(),a=new $n({mapValue:{fields:r.document.fields}}),l=Wt.newFoundDocument(s,i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Cd(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Am(t,r.document),i=r.readTime?Tr(r.readTime):ge.min(),o=Wt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Cd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Am(t,r.document),i=r.removedTargetIds||[];n=new Cd([],i,s,null)}else{if(!("filter"in e))return fe();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new K6(s,i),a=r.targetId;n=new WA(a,o)}}return n}function oH(t,e){let n;if(e instanceof ru)n={update:uT(t,e.key,e.value)};else if(e instanceof zA)n={delete:k_(t,e.key)};else if(e instanceof Yi)n={update:uT(t,e.key,e.data),updateMask:mH(e.fieldMask)};else{if(!(e instanceof W6))return fe();n={verify:k_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Nh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof wc)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Tc)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ah)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw fe()}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:rH(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:fe()}(t,e.precondition)),n}function aH(t,e){return t&&t.length>0?(Qe(e!==void 0),t.map(n=>function(s,i){let o=s.updateTime?Tr(s.updateTime):Tr(i);return o.isEqual(ge.min())&&(o=Tr(i)),new B6(o,s.transformResults||[])}(n,e))):[]}function lH(t,e){return{documents:[P_(t,e.path)]}}function cH(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=P_(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=P_(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(l){if(l.length!==0)return XA(cr.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(l){if(l.length!==0)return l.map(c=>function(h){return{field:co(h.field),direction:hH(h.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=b_(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),n}function uH(t){let e=sH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Qe(r===1);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(h){const f=YA(h);return f instanceof cr&&IA(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(m){return new Fo(uo(m.field),function(y){switch(y){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Xf(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,p=h.values||[];return new Rh(p,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,p=h.values||[];return new Rh(p,f)}(n.endAt)),A6(e,s,o,i,a,"F",l,c)}function dH(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fe()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function YA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=uo(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=uo(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=uo(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=uo(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});default:return fe()}}(t):t.fieldFilter!==void 0?function(n){return ft.create(uo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fe()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return cr.create(n.compositeFilter.filters.map(r=>YA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return fe()}}(n.compositeFilter.op))}(t):fe()}function hH(t){return Z6[t]}function fH(t){return eH[t]}function pH(t){return tH[t]}function co(t){return{fieldPath:t.canonicalString()}}function uo(t){return Kt.fromServerFormat(t.fieldPath)}function XA(t){return t instanceof ft?function(n){if(n.op==="=="){if(Yw(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(Qw(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yw(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(Qw(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:fH(n.op),value:n.value}}}(t):t instanceof cr?function(n){const r=n.getFilters().map(s=>XA(s));return r.length===1?r[0]:{compositeFilter:{op:pH(n.op),filters:r}}}(t):fe()}function mH(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function JA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e,n,r,s,i=ge.min(),o=ge.min(),a=nn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Rs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Rs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gH{constructor(e){this.lt=e}}function _H(t){const e=uH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?xh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vH{constructor(){this.on=new yH}addToCollectionParentIndex(e,n){return this.on.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.on.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Gs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Gs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class yH{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Jt(qe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Jt(qe.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new ca(0)}static Nn(){return new ca(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EH{constructor(){this.changes=new ba(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SH{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wH{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Dl(r.mutation,s,tr.empty(),vt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ie()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ie()){const s=vi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=ml();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=vi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ie()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ls();const o=Ol(),a=function(){return Ol()}();return n.forEach((l,c)=>{const u=r.get(c.key);s.has(c.key)&&(u===void 0||u.mutation instanceof Yi)?i=i.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),Dl(u.mutation,c,u.mutation.getFieldMask(),vt.now())):o.set(c.key,tr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var h;return a.set(c,new SH(u,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Ol();let s=new pt((o,a)=>o-a),i=Ie();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||tr.empty();u=a.applyToLocalView(c,u),r.set(l,u);const h=(s.get(a.batchId)||Ie()).add(l);s=s.insert(a.batchId,h)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,h=OA();u.forEach(f=>{if(!i.has(f)){const p=UA(n.get(f),r.get(f));p!==null&&h.set(f,p),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(i){return oe.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):AA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(vi());let a=-1,l=i;return o.next(c=>B.forEach(c,(u,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),i.get(u)?B.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,l,c,Ie())).next(u=>({batchId:a,changes:LA(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let s=ml();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=ml();return this.indexManager.getCollectionParents(e,s).next(o=>B.forEach(o,a=>{const l=function(u,h){return new Aa(h,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,h)=>{i=i.insert(u,h)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,l)=>{const c=l.getKey();i.get(c)===null&&(i=i.insert(c,Wt.newInvalidDocument(c)))});let o=ml();return i.forEach((a,l)=>{const c=s.get(a);c!==void 0&&Dl(c.mutation,l,tr.empty(),vt.now()),ep(n,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TH{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,n){return B.resolve(this.ur.get(n))}saveBundleMetadata(e,n){return this.ur.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Tr(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.cr.get(n))}saveNamedQuery(e,n){return this.cr.set(n.name,function(s){return{name:s.name,query:_H(s.bundledQuery),readTime:Tr(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CH{constructor(){this.overlays=new pt(oe.comparator),this.lr=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=vi();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.Pt(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.lr.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=vi(),i=n.length+1,o=new oe(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new pt((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=i.get(c.largestBatchId);u===null&&(u=vi(),i=i.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=vi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=s)););return B.resolve(a)}Pt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.lr.get(s.largestBatchId).delete(r.key);this.lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new G6(n,r));let i=this.lr.get(n);i===void 0&&(i=Ie(),this.lr.set(n,i)),this.lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.hr=new Jt(Ct.Pr),this.Ir=new Jt(Ct.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,n){const r=new Ct(e,n);this.hr=this.hr.add(r),this.Ir=this.Ir.add(r)}Er(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.dr(new Ct(e,n))}Ar(e,n){e.forEach(r=>this.removeReference(r,n))}Rr(e){const n=new oe(new qe([])),r=new Ct(n,e),s=new Ct(n,e+1),i=[];return this.Ir.forEachInRange([r,s],o=>{this.dr(o),i.push(o.key)}),i}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const n=new oe(new qe([])),r=new Ct(n,e),s=new Ct(n,e+1);let i=Ie();return this.Ir.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Ct(e,0),r=this.hr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ct{constructor(e,n){this.key=e,this.gr=n}static Pr(e,n){return oe.comparator(e.key,n.key)||Oe(e.gr,n.gr)}static Tr(e,n){return Oe(e.gr,n.gr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IH{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.pr=1,this.yr=new Jt(Ct.Pr)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.pr;this.pr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new q6(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.yr=this.yr.add(new Ct(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.wr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Sr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.pr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ct(n,0),s=new Ct(n,Number.POSITIVE_INFINITY),i=[];return this.yr.forEachInRange([r,s],o=>{const a=this.wr(o.gr);i.push(a)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Jt(Oe);return n.forEach(s=>{const i=new Ct(s,0),o=new Ct(s,Number.POSITIVE_INFINITY);this.yr.forEachInRange([i,o],a=>{r=r.add(a.gr)})}),B.resolve(this.br(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;oe.isDocumentKey(i)||(i=i.child(""));const o=new Ct(new oe(i),0);let a=new Jt(Oe);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(l.gr)),!0)},o),B.resolve(this.br(a))}br(e){const n=[];return e.forEach(r=>{const s=this.wr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Qe(this.Dr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.yr;return B.forEach(n.mutations,s=>{const i=new Ct(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.yr=r})}Fn(e){}containsKey(e,n){const r=new Ct(n,0),s=this.yr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Dr(e,n){return this.Sr(e)}Sr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}wr(e){const n=this.Sr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RH{constructor(e){this.vr=e,this.docs=function(){return new pt(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=ls();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Wt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ls();const o=n.path,a=new oe(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||h6(d6(u),r)<=0||(s.has(u.key)||ep(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){fe()}Cr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xH(this)}getSize(e){return B.resolve(this.size)}}class xH extends EH{constructor(e){super(),this._r=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this._r.addEntry(e,s)):this._r.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this._r.getEntry(e,n)}getAllFromCache(e,n){return this._r.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e){this.persistence=e,this.Fr=new ba(n=>lE(n),cE),this.lastRemoteSnapshotVersion=ge.min(),this.highestTargetId=0,this.Mr=0,this.Or=new gE,this.targetCount=0,this.Nr=ca.On()}forEachTarget(e,n){return this.Fr.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Mr&&(this.Mr=n),B.resolve()}kn(e){this.Fr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Nr=new ca(n),this.highestTargetId=n),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,n){return this.kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.kn(n),B.resolve()}removeTargetData(e,n){return this.Fr.delete(n.target),this.Or.Rr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.Fr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Fr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Fr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Or.Er(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Or.Ar(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Or.Rr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Or.mr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Or.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AH{constructor(e,n){this.Br={},this.overlays={},this.Lr=new sE(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new NH(this),this.indexManager=new vH,this.remoteDocumentCache=function(s){return new RH(s)}(r=>this.referenceDelegate.Qr(r)),this.serializer=new gH(n),this.Kr=new TH(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CH,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new IH(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new bH(this.Lr.next());return this.referenceDelegate.$r(),r(s).next(i=>this.referenceDelegate.Ur(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Wr(e,n){return B.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class bH extends p6{constructor(e){super(),this.currentSequenceNumber=e}}class _E{constructor(e){this.persistence=e,this.Gr=new gE,this.zr=null}static jr(e){return new _E(e)}get Hr(){if(this.zr)return this.zr;throw fe()}addReference(e,n,r){return this.Gr.addReference(r,n),this.Hr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Gr.removeReference(r,n),this.Hr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Hr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Gr.Rr(n.targetId).forEach(s=>this.Hr.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Hr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}$r(){this.zr=new Set}Ur(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Hr,r=>{const s=oe.fromPath(r);return this.Jr(e,s).next(i=>{i||n.removeEntry(s,ge.min())})}).next(()=>(this.zr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Jr(e,n).next(r=>{r?this.Hr.delete(n.toString()):this.Hr.add(n.toString())})}Qr(e){return 0}Jr(e,n){return B.or([()=>B.resolve(this.Gr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Wr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ki=r,this.qi=s}static Qi(e,n){let r=Ie(),s=Ie();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new vE(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kH{constructor(){this.Ki=!1}initialize(e,n){this.$i=e,this.indexManager=n,this.Ki=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ui(e,n).next(i=>i||this.Wi(e,n,s,r)).next(i=>i||this.Gi(e,n))}Ui(e,n){if(eT(n))return B.resolve(null);let r=as(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=xh(n,null,"F"),r=as(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ie(...i);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.zi(n,a);return this.ji(n,c,o,l.readTime)?this.Ui(e,xh(n,null,"F")):this.Hi(e,c,n,l)}))})))}Wi(e,n,r,s){return eT(n)||s.isEqual(ge.min())?this.Gi(e,n):this.$i.getDocuments(e,r).next(i=>{const o=this.zi(n,i);return this.ji(n,o,r,s)?this.Gi(e,n):(Hw()<=ke.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),A_(n)),this.Hi(e,o,n,u6(s,-1)))})}zi(e,n){let r=new Jt(kA(e));return n.forEach((s,i)=>{ep(e,i)&&(r=r.add(i))}),r}ji(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Gi(e,n){return Hw()<=ke.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",A_(n)),this.$i.getDocumentsMatchingQuery(e,n,Gs.min())}Hi(e,n,r,s){return this.$i.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PH{constructor(e,n,r,s){this.persistence=e,this.Ji=n,this.serializer=s,this.Yi=new pt(Oe),this.Zi=new ba(i=>lE(i),cE),this.Xi=new Map,this.es=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.ts(r)}ts(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wH(this.es,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.es.setIndexManager(this.indexManager),this.Ji.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Yi))}}function LH(t,e,n,r){return new PH(t,e,n,r)}async function ZA(t,e){const n=ye(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.ts(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ie();for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({ns:c,removedBatchIds:o,addedBatchIds:a}))})})}function OH(t,e){const n=ye(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.es.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const h=c.batch,f=h.keys();let p=B.resolve();return f.forEach(m=>{p=p.next(()=>u.getEntry(l,m)).next(g=>{const y=c.docVersions.get(m);Qe(y!==null),g.version.compareTo(y)<0&&(h.applyToRemoteDocument(g,c),g.isValidDocument()&&(g.setReadTime(c.commitVersion),u.addEntry(g)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ie();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function eb(t){const e=ye(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.qr.getLastRemoteSnapshotVersion(n))}function DH(t,e){const n=ye(t),r=e.snapshotVersion;let s=n.Yi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.es.newChangeBuffer({trackRemovals:!0});s=n.Yi;const a=[];e.targetChanges.forEach((u,h)=>{const f=s.get(h);if(!f)return;a.push(n.qr.removeMatchingKeys(i,u.removedDocuments,h).next(()=>n.qr.addMatchingKeys(i,u.addedDocuments,h)));let p=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(nn.EMPTY_BYTE_STRING,ge.min()).withLastLimboFreeSnapshotVersion(ge.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(h,p),function(g,y,_){return g.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,p,u)&&a.push(n.qr.updateTargetData(i,p))});let l=ls(),c=Ie();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),a.push(MH(i,o,e.documentUpdates).next(u=>{l=u.rs,c=u.ss})),!r.isEqual(ge.min())){const u=n.qr.getLastRemoteSnapshotVersion(i).next(h=>n.qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(u)}return B.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,c)).next(()=>l)}).then(i=>(n.Yi=s,i))}function MH(t,e,n){let r=Ie(),s=Ie();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ls();return n.forEach((a,l)=>{const c=i.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(ge.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):re("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{rs:o,ss:s}})}function VH(t,e){const n=ye(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function $H(t,e){const n=ye(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.qr.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.qr.allocateTargetId(r).next(o=>(s=new Rs(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.qr.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Yi.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Yi=n.Yi.insert(r.targetId,r),n.Zi.set(e,r.targetId)),r})}async function O_(t,e,n){const r=ye(t),s=r.Yi.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!nu(o))throw o;re("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Yi=r.Yi.remove(e),r.Zi.delete(s.target)}function dT(t,e,n){const r=ye(t);let s=ge.min(),i=Ie();return r.persistence.runTransaction("Execute query","readonly",o=>function(l,c,u){const h=ye(l),f=h.Zi.get(u);return f!==void 0?B.resolve(h.Yi.get(f)):h.qr.getTargetData(c,u)}(r,o,as(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Ji.getDocumentsMatchingQuery(o,e,n?s:ge.min(),n?i:Ie())).next(a=>(jH(r,k6(e),a),{documents:a,os:i})))}function jH(t,e,n){let r=t.Xi.get(e)||ge.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class hT{constructor(){this.activeTargetIds=V6()}Ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}Is(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FH{constructor(){this.Js=new hT,this.Ys={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Js.Ps(e),this.Ys[e]||"not-current"}updateQueryState(e,n,r){this.Ys[e]=n}removeLocalQueryTarget(e){this.Js.Is(e)}isLocalQueryTarget(e){return this.Js.activeTargetIds.has(e)}clearQueryState(e){delete this.Ys[e]}getAllActiveQueryTargets(){return this.Js.activeTargetIds}isActiveQueryTarget(e){return this.Js.activeTargetIds.has(e)}start(){return this.Js=new hT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UH{Zs(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fT{constructor(){this.Xs=()=>this.eo(),this.no=()=>this.ro(),this.io=[],this.so()}Zs(e){this.io.push(e)}shutdown(){window.removeEventListener("online",this.Xs),window.removeEventListener("offline",this.no)}so(){window.addEventListener("online",this.Xs),window.addEventListener("offline",this.no)}eo(){re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.io)e(0)}ro(){re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.io)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function bm(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BH={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zH{constructor(e){this.oo=e.oo,this._o=e._o}ao(e){this.uo=e}co(e){this.lo=e}onMessage(e){this.ho=e}close(){this._o()}send(e){this.oo(e)}Po(){this.uo()}Io(e){this.lo(e)}To(e){this.ho(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class HH extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Eo=r+"://"+n.host,this.Ao=`projects/${s}/databases/${i}`,this.Ro=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Vo(){return!1}mo(n,r,s,i,o){const a=bm(),l=this.fo(n,r);re("RestConnection",`Sending RPC '${n}' ${a}:`,l,s);const c={"google-cloud-resource-prefix":this.Ao,"x-goog-request-params":this.Ro};return this.po(c,i,o),this.yo(n,l,c,s).then(u=>(re("RestConnection",`Received RPC '${n}' ${a}: `,u),u),u=>{throw ia("RestConnection",`RPC '${n}' ${a} failed with error: `,u,"url: ",l,"request:",s),u})}wo(n,r,s,i,o,a){return this.mo(n,r,s,i,o)}po(n,r,s){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,o)=>n[o]=i),s&&s.headers.forEach((i,o)=>n[o]=i)}fo(n,r){const s=BH[n];return`${this.Eo}/v1/${r}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}yo(e,n,r,s){const i=bm();return new Promise((o,a)=>{const l=new Z9;l.setWithCredentials(!0),l.listenOnce(Y9.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Nm.NO_ERROR:const u=l.getResponseJson();re(Bt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(u)),o(u);break;case Nm.TIMEOUT:re(Bt,`RPC '${e}' ${i} timed out`),a(new J(M.DEADLINE_EXCEEDED,"Request time out"));break;case Nm.HTTP_ERROR:const h=l.getStatus();if(re(Bt,`RPC '${e}' ${i} failed with status:`,h,"response text:",l.getResponseText()),h>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const m=function(y){const _=y.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(_)>=0?_:M.UNKNOWN}(p.status);a(new J(m,p.message))}else a(new J(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new J(M.UNAVAILABLE,"Connection failed."));break;default:fe()}}finally{re(Bt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);re(Bt,`RPC '${e}' ${i} sending request:`,s),l.send(n,"POST",c,r,15)})}So(e,n,r){const s=bm(),i=[this.Eo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=K9(),a=Q9(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new J9({})),this.po(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=i.join("");re(Bt,`Creating RPC '${e}' stream ${s}: ${u}`,l);const h=o.createWebChannel(u,l);let f=!1,p=!1;const m=new zH({oo:y=>{p?re(Bt,`Not sending because RPC '${e}' stream ${s} is closed:`,y):(f||(re(Bt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),re(Bt,`RPC '${e}' stream ${s} sending:`,y),h.send(y))},_o:()=>h.close()}),g=(y,_,v)=>{y.listen(_,E=>{try{v(E)}catch(w){setTimeout(()=>{throw w},0)}})};return g(h,qu.EventType.OPEN,()=>{p||re(Bt,`RPC '${e}' stream ${s} transport opened.`)}),g(h,qu.EventType.CLOSE,()=>{p||(p=!0,re(Bt,`RPC '${e}' stream ${s} transport closed`),m.Io())}),g(h,qu.EventType.ERROR,y=>{p||(p=!0,ia(Bt,`RPC '${e}' stream ${s} transport errored:`,y),m.Io(new J(M.UNAVAILABLE,"The operation could not be completed")))}),g(h,qu.EventType.MESSAGE,y=>{var _;if(!p){const v=y.data[0];Qe(!!v);const E=v,w=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(w){re(Bt,`RPC '${e}' stream ${s} received error:`,w);const S=w.status;let R=function(H){const O=ut[H];if(O!==void 0)return HA(O)}(S),b=w.message;R===void 0&&(R=M.INTERNAL,b="Unknown error status: "+S+" with message "+w.message),p=!0,m.Io(new J(R,b)),h.close()}else re(Bt,`RPC '${e}' stream ${s} received:`,v),m.To(v)}}),g(a,X9.STAT_EVENT,y=>{y.stat===Bw.PROXY?re(Bt,`RPC '${e}' stream ${s} detected buffering proxy`):y.stat===Bw.NOPROXY&&re(Bt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{m.Po()},0),m}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(t){return new nH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,n,r=1e3,s=1.5,i=6e4){this.si=e,this.timerId=n,this.bo=r,this.Do=s,this.vo=i,this.Co=0,this.Fo=null,this.Mo=Date.now(),this.reset()}reset(){this.Co=0}xo(){this.Co=this.vo}Oo(e){this.cancel();const n=Math.floor(this.Co+this.No()),r=Math.max(0,Date.now()-this.Mo),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Co} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Fo=this.si.enqueueAfterDelay(this.timerId,s,()=>(this.Mo=Date.now(),e())),this.Co*=this.Do,this.Co<this.bo&&(this.Co=this.bo),this.Co>this.vo&&(this.Co=this.vo)}Bo(){this.Fo!==null&&(this.Fo.skipDelay(),this.Fo=null)}cancel(){this.Fo!==null&&(this.Fo.cancel(),this.Fo=null)}No(){return(Math.random()-.5)*this.Co}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n,r,s,i,o,a,l){this.si=e,this.Lo=r,this.ko=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.qo=0,this.Qo=null,this.Ko=null,this.stream=null,this.$o=new tb(e,n)}Uo(){return this.state===1||this.state===5||this.Wo()}Wo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}zo(){this.state=0,this.$o.reset()}jo(){this.Wo()&&this.Qo===null&&(this.Qo=this.si.enqueueAfterDelay(this.Lo,6e4,()=>this.Ho()))}Jo(e){this.Yo(),this.stream.send(e)}async Ho(){if(this.Wo())return this.close(0)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}Zo(){this.Ko&&(this.Ko.cancel(),this.Ko=null)}async close(e,n){this.Yo(),this.Zo(),this.$o.cancel(),this.qo++,e!==4?this.$o.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(os(n.toString()),os("Using maximum backoff delay to prevent overloading the backend."),this.$o.xo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Xo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(n)}Xo(){}auth(){this.state=1;const e=this.e_(this.qo),n=this.qo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.qo===n&&this.t_(r,s)},r=>{e(()=>{const s=new J(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.n_(s)})})}t_(e,n){const r=this.e_(this.qo);this.stream=this.r_(e,n),this.stream.ao(()=>{r(()=>(this.state=2,this.Ko=this.si.enqueueAfterDelay(this.ko,1e4,()=>(this.Wo()&&(this.state=3),Promise.resolve())),this.listener.ao()))}),this.stream.co(s=>{r(()=>this.n_(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.$o.Oo(async()=>{this.state=0,this.start()})}n_(e){return re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}e_(e){return n=>{this.si.enqueueAndForget(()=>this.qo===e?n():(re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WH extends nb{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}r_(e,n){return this.connection.So("Listen",e,n)}onMessage(e){this.$o.reset();const n=iH(this.serializer,e),r=function(i){if(!("targetChange"in i))return ge.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ge.min():o.readTime?Tr(o.readTime):ge.min()}(e);return this.listener.i_(n,r)}s_(e){const n={};n.database=L_(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=x_(l)?{documents:lH(i,l)}:{query:cH(i,l)},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=GA(i,o.resumeToken);const c=b_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ge.min())>0){a.readTime=bh(i,o.snapshotVersion.toTimestamp());const c=b_(i,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=dH(this.serializer,e);r&&(n.labels=r),this.Jo(n)}o_(e){const n={};n.database=L_(this.serializer),n.removeTarget=e,this.Jo(n)}}class qH extends nb{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.__=!1}get a_(){return this.__}start(){this.__=!1,this.lastStreamToken=void 0,super.start()}Xo(){this.__&&this.u_([])}r_(e,n){return this.connection.So("Write",e,n)}onMessage(e){if(Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.__){this.$o.reset();const n=aH(e.writeResults,e.commitTime),r=Tr(e.commitTime);return this.listener.c_(r,n)}return Qe(!e.writeResults||e.writeResults.length===0),this.__=!0,this.listener.l_()}h_(){const e={};e.database=L_(this.serializer),this.Jo(e)}u_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oH(this.serializer,r))};this.Jo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GH extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.P_=!1}I_(){if(this.P_)throw new J(M.FAILED_PRECONDITION,"The client has already been terminated.")}mo(e,n,r){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.mo(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new J(M.UNKNOWN,s.toString())})}wo(e,n,r,s){return this.I_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.wo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new J(M.UNKNOWN,i.toString())})}terminate(){this.P_=!0}}class KH{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.E_=0,this.d_=null,this.A_=!0}R_(){this.E_===0&&(this.V_("Unknown"),this.d_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.d_=null,this.m_("Backend didn't respond within 10 seconds."),this.V_("Offline"),Promise.resolve())))}f_(e){this.state==="Online"?this.V_("Unknown"):(this.E_++,this.E_>=1&&(this.g_(),this.m_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.V_("Offline")))}set(e){this.g_(),this.E_=0,e==="Online"&&(this.A_=!1),this.V_(e)}V_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}m_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.A_?(os(n),this.A_=!1):re("OnlineStateTracker",n)}g_(){this.d_!==null&&(this.d_.cancel(),this.d_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QH{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.p_=[],this.y_=new Map,this.w_=new Set,this.S_=[],this.b_=i,this.b_.Zs(o=>{r.enqueueAndForget(async()=>{Xi(this)&&(re("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=ye(l);c.w_.add(4),await iu(c),c.D_.set("Unknown"),c.w_.delete(4),await ip(c)}(this))})}),this.D_=new KH(r,s)}}async function ip(t){if(Xi(t))for(const e of t.S_)await e(!0)}async function iu(t){for(const e of t.S_)await e(!1)}function rb(t,e){const n=ye(t);n.y_.has(e.targetId)||(n.y_.set(e.targetId,e),SE(n)?EE(n):ka(n).Wo()&&yE(n,e))}function sb(t,e){const n=ye(t),r=ka(n);n.y_.delete(e),r.Wo()&&ib(n,e),n.y_.size===0&&(r.Wo()?r.jo():Xi(n)&&n.D_.set("Unknown"))}function yE(t,e){if(t.v_.Le(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ge.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ka(t).s_(e)}function ib(t,e){t.v_.Le(e),ka(t).o_(e)}function EE(t){t.v_=new J6({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ct:e=>t.y_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),ka(t).start(),t.D_.R_()}function SE(t){return Xi(t)&&!ka(t).Uo()&&t.y_.size>0}function Xi(t){return ye(t).w_.size===0}function ob(t){t.v_=void 0}async function YH(t){t.y_.forEach((e,n)=>{yE(t,e)})}async function XH(t,e){ob(t),SE(t)?(t.D_.f_(e),EE(t)):t.D_.set("Unknown")}async function JH(t,e,n){if(t.D_.set("Online"),e instanceof qA&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.y_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.y_.delete(a),s.v_.removeTarget(a))}(t,e)}catch(r){re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await kh(t,r)}else if(e instanceof Cd?t.v_.Ge(e):e instanceof WA?t.v_.Xe(e):t.v_.He(e),!n.isEqual(ge.min()))try{const r=await eb(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.v_.ot(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=i.y_.get(c);u&&i.y_.set(c,u.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const u=i.y_.get(l);if(!u)return;i.y_.set(l,u.withResumeToken(nn.EMPTY_BYTE_STRING,u.snapshotVersion)),ib(i,l);const h=new Rs(u.target,l,c,u.sequenceNumber);yE(i,h)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re("RemoteStore","Failed to raise snapshot:",r),await kh(t,r)}}async function kh(t,e,n){if(!nu(e))throw e;t.w_.add(1),await iu(t),t.D_.set("Offline"),n||(n=()=>eb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re("RemoteStore","Retrying IndexedDB access"),await n(),t.w_.delete(1),await ip(t)})}function ab(t,e){return e().catch(n=>kh(t,n,e))}async function op(t){const e=ye(t),n=Qs(e);let r=e.p_.length>0?e.p_[e.p_.length-1].batchId:-1;for(;ZH(e);)try{const s=await VH(e.localStore,r);if(s===null){e.p_.length===0&&n.jo();break}r=s.batchId,eW(e,s)}catch(s){await kh(e,s)}lb(e)&&cb(e)}function ZH(t){return Xi(t)&&t.p_.length<10}function eW(t,e){t.p_.push(e);const n=Qs(t);n.Wo()&&n.a_&&n.u_(e.mutations)}function lb(t){return Xi(t)&&!Qs(t).Uo()&&t.p_.length>0}function cb(t){Qs(t).start()}async function tW(t){Qs(t).h_()}async function nW(t){const e=Qs(t);for(const n of t.p_)e.u_(n.mutations)}async function rW(t,e,n){const r=t.p_.shift(),s=hE.from(r,e,n);await ab(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await op(t)}async function sW(t,e){e&&Qs(t).a_&&await async function(r,s){if(function(o){return Q6(o)&&o!==M.ABORTED}(s.code)){const i=r.p_.shift();Qs(r).zo(),await ab(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await op(r)}}(t,e),lb(t)&&cb(t)}async function pT(t,e){const n=ye(t);n.asyncQueue.verifyOperationInProgress(),re("RemoteStore","RemoteStore received new credentials");const r=Xi(n);n.w_.add(3),await iu(n),r&&n.D_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.w_.delete(3),await ip(n)}async function iW(t,e){const n=ye(t);e?(n.w_.delete(2),await ip(n)):e||(n.w_.add(2),await iu(n),n.D_.set("Unknown"))}function ka(t){return t.C_||(t.C_=function(n,r,s){const i=ye(n);return i.I_(),new WH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:YH.bind(null,t),co:XH.bind(null,t),i_:JH.bind(null,t)}),t.S_.push(async e=>{e?(t.C_.zo(),SE(t)?EE(t):t.D_.set("Unknown")):(await t.C_.stop(),ob(t))})),t.C_}function Qs(t){return t.F_||(t.F_=function(n,r,s){const i=ye(n);return i.I_(),new qH(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{ao:tW.bind(null,t),co:sW.bind(null,t),l_:nW.bind(null,t),c_:rW.bind(null,t)}),t.S_.push(async e=>{e?(t.F_.zo(),await op(t)):(await t.F_.stop(),t.p_.length>0&&(re("RemoteStore",`Stopping write stream with ${t.p_.length} pending writes`),t.p_=[]))})),t.F_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Kr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new wE(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new J(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function TE(t,e){if(os("AsyncQueue",`${e}: ${t}`),nu(t))return new J(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=ml(),this.sortedSet=new pt(this.comparator)}static emptySet(e){return new Uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Uo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.M_=new pt(oe.comparator)}track(e){const n=e.doc.key,r=this.M_.get(n);r?e.type!==0&&r.type===3?this.M_=this.M_.insert(n,e):e.type===3&&r.type!==1?this.M_=this.M_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.M_=this.M_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.M_=this.M_.remove(n):e.type===1&&r.type===2?this.M_=this.M_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.M_=this.M_.insert(n,{type:2,doc:e.doc}):fe():this.M_=this.M_.insert(n,e)}x_(){const e=[];return this.M_.inorderTraversal((n,r)=>{e.push(r)}),e}}class ua{constructor(e,n,r,s,i,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new ua(e,n,Uo.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oW{constructor(){this.O_=void 0,this.listeners=[]}}class aW{constructor(){this.queries=new ba(e=>bA(e),Zf),this.onlineState="Unknown",this.N_=new Set}}async function ub(t,e){const n=ye(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new oW),s)try{i.O_=await n.onListen(r)}catch(o){const a=TE(o,`Initialization of query '${A_(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.B_(n.onlineState),i.O_&&e.L_(i.O_)&&CE(n)}async function db(t,e){const n=ye(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function lW(t,e){const n=ye(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.L_(s)&&(r=!0);o.O_=s}}r&&CE(n)}function cW(t,e,n){const r=ye(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function CE(t){t.N_.forEach(e=>{e.next()})}class hb{constructor(e,n,r){this.query=e,this.k_=n,this.q_=!1,this.Q_=null,this.onlineState="Unknown",this.options=r||{}}L_(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new ua(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.q_?this.K_(e)&&(this.k_.next(e),n=!0):this.U_(e,this.onlineState)&&(this.W_(e),n=!0),this.Q_=e,n}onError(e){this.k_.error(e)}B_(e){this.onlineState=e;let n=!1;return this.Q_&&!this.q_&&this.U_(this.Q_,e)&&(this.W_(this.Q_),n=!0),n}U_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.G_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}K_(e){if(e.docChanges.length>0)return!0;const n=this.Q_&&this.Q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}W_(e){e=ua.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.q_=!0,this.k_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e){this.key=e}}class pb{constructor(e){this.key=e}}class uW{constructor(e,n){this.query=e,this.ea=n,this.ta=null,this.hasCachedResults=!1,this.current=!1,this.na=Ie(),this.mutatedKeys=Ie(),this.ra=kA(e),this.ia=new Uo(this.ra)}get sa(){return this.ea}oa(e,n){const r=n?n._a:new mT,s=n?n.ia:this.ia;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,h)=>{const f=s.get(u),p=ep(this.query,h)?h:null,m=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let y=!1;f&&p?f.data.isEqual(p.data)?m!==g&&(r.track({type:3,doc:p}),y=!0):this.aa(f,p)||(r.track({type:2,doc:p}),y=!0,(l&&this.ra(p,l)>0||c&&this.ra(p,c)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),y=!0):f&&!p&&(r.track({type:1,doc:f}),y=!0,(l||c)&&(a=!0)),y&&(p?(o=o.add(p),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{ia:o,_a:r,ji:a,mutatedKeys:i}}aa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ia;this.ia=e.ia,this.mutatedKeys=e.mutatedKeys;const i=e._a.x_();i.sort((c,u)=>function(f,p){const m=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fe()}};return m(f)-m(p)}(c.type,u.type)||this.ra(c.doc,u.doc)),this.ua(r);const o=n?this.ca():[],a=this.na.size===0&&this.current?1:0,l=a!==this.ta;return this.ta=a,i.length!==0||l?{snapshot:new ua(this.query,e.ia,s,i,e.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),la:o}:{la:o}}B_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ia:this.ia,_a:new mT,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{la:[]}}ha(e){return!this.ea.has(e)&&!!this.ia.has(e)&&!this.ia.get(e).hasLocalMutations}ua(e){e&&(e.addedDocuments.forEach(n=>this.ea=this.ea.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ea=this.ea.delete(n)),this.current=e.current)}ca(){if(!this.current)return[];const e=this.na;this.na=Ie(),this.ia.forEach(r=>{this.ha(r.key)&&(this.na=this.na.add(r.key))});const n=[];return e.forEach(r=>{this.na.has(r)||n.push(new pb(r))}),this.na.forEach(r=>{e.has(r)||n.push(new fb(r))}),n}Pa(e){this.ea=e.os,this.na=Ie();const n=this.oa(e.documents);return this.applyChanges(n,!0)}Ia(){return ua.fromInitialDocuments(this.query,this.ia,this.mutatedKeys,this.ta===0,this.hasCachedResults)}}class dW{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hW{constructor(e){this.key=e,this.Ta=!1}}class fW{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ea={},this.da=new ba(a=>bA(a),Zf),this.Aa=new Map,this.Ra=new Set,this.Va=new pt(oe.comparator),this.ma=new Map,this.fa=new gE,this.ga={},this.pa=new Map,this.ya=ca.Nn(),this.onlineState="Unknown",this.wa=void 0}get isPrimaryClient(){return this.wa===!0}}async function pW(t,e){const n=CW(t);let r,s;const i=n.da.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.Ia();else{const o=await $H(n.localStore,as(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await mW(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&rb(n.remoteStore,o)}return s}async function mW(t,e,n,r,s){t.Sa=(h,f,p)=>async function(g,y,_,v){let E=y.view.oa(_);E.ji&&(E=await dT(g.localStore,y.query,!1).then(({documents:R})=>y.view.oa(R,E)));const w=v&&v.targetChanges.get(y.targetId),S=y.view.applyChanges(E,g.isPrimaryClient,w);return _T(g,y.targetId,S.la),S.snapshot}(t,h,f,p);const i=await dT(t.localStore,e,!0),o=new uW(e,i.os),a=o.oa(i.documents),l=su.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,l);_T(t,n,c.la);const u=new dW(e,n,o);return t.da.set(e,u),t.Aa.has(n)?t.Aa.get(n).push(e):t.Aa.set(n,[e]),c.snapshot}async function gW(t,e){const n=ye(t),r=n.da.get(e),s=n.Aa.get(r.targetId);if(s.length>1)return n.Aa.set(r.targetId,s.filter(i=>!Zf(i,e))),void n.da.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await O_(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),sb(n.remoteStore,r.targetId),D_(n,r.targetId)}).catch(tu)):(D_(n,r.targetId),await O_(n.localStore,r.targetId,!0))}async function _W(t,e,n){const r=IW(t);try{const s=await function(o,a){const l=ye(o),c=vt.now(),u=a.reduce((p,m)=>p.add(m.key),Ie());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=ls(),g=Ie();return l.es.getEntries(p,u).next(y=>{m=y,m.forEach((_,v)=>{v.isValidDocument()||(g=g.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(y=>{h=y;const _=[];for(const v of a){const E=H6(v,h.get(v.key).overlayedDocument);E!=null&&_.push(new Yi(v.key,E,wA(E.value.mapValue),Qr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,c,_,a)}).next(y=>{f=y;const _=y.applyToLocalDocumentSet(h,g);return l.documentOverlayCache.saveOverlays(p,y.batchId,_)})}).then(()=>({batchId:f.batchId,changes:LA(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let c=o.ga[o.currentUser.toKey()];c||(c=new pt(Oe)),c=c.insert(a,l),o.ga[o.currentUser.toKey()]=c}(r,s.batchId,n),await ou(r,s.changes),await op(r.remoteStore)}catch(s){const i=TE(s,"Failed to persist write");n.reject(i)}}async function mb(t,e){const n=ye(t);try{const r=await DH(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.ma.get(i);o&&(Qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.Ta=!0:s.modifiedDocuments.size>0?Qe(o.Ta):s.removedDocuments.size>0&&(Qe(o.Ta),o.Ta=!1))}),await ou(n,r,e)}catch(r){await tu(r)}}function gT(t,e,n){const r=ye(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.da.forEach((i,o)=>{const a=o.view.B_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=ye(o);l.onlineState=a;let c=!1;l.queries.forEach((u,h)=>{for(const f of h.listeners)f.B_(a)&&(c=!0)}),c&&CE(l)}(r.eventManager,e),s.length&&r.Ea.i_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function vW(t,e,n){const r=ye(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.ma.get(e),i=s&&s.key;if(i){let o=new pt(oe.comparator);o=o.insert(i,Wt.newNoDocument(i,ge.min()));const a=Ie().add(i),l=new rp(ge.min(),new Map,new pt(Oe),o,a);await mb(r,l),r.Va=r.Va.remove(i),r.ma.delete(e),IE(r)}else await O_(r.localStore,e,!1).then(()=>D_(r,e,n)).catch(tu)}async function yW(t,e){const n=ye(t),r=e.batch.batchId;try{const s=await OH(n.localStore,e);_b(n,r,null),gb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ou(n,s)}catch(s){await tu(s)}}async function EW(t,e,n){const r=ye(t);try{const s=await function(o,a){const l=ye(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(Qe(h!==null),u=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);_b(r,e,n),gb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ou(r,s)}catch(s){await tu(s)}}function gb(t,e){(t.pa.get(e)||[]).forEach(n=>{n.resolve()}),t.pa.delete(e)}function _b(t,e,n){const r=ye(t);let s=r.ga[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.ga[r.currentUser.toKey()]=s}}function D_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Aa.get(e))t.da.delete(r),n&&t.Ea.ba(r,n);t.Aa.delete(e),t.isPrimaryClient&&t.fa.Rr(e).forEach(r=>{t.fa.containsKey(r)||vb(t,r)})}function vb(t,e){t.Ra.delete(e.path.canonicalString());const n=t.Va.get(e);n!==null&&(sb(t.remoteStore,n),t.Va=t.Va.remove(e),t.ma.delete(n),IE(t))}function _T(t,e,n){for(const r of n)r instanceof fb?(t.fa.addReference(r.key,e),SW(t,r)):r instanceof pb?(re("SyncEngine","Document no longer in limbo: "+r.key),t.fa.removeReference(r.key,e),t.fa.containsKey(r.key)||vb(t,r.key)):fe()}function SW(t,e){const n=e.key,r=n.path.canonicalString();t.Va.get(n)||t.Ra.has(r)||(re("SyncEngine","New document in limbo: "+n),t.Ra.add(r),IE(t))}function IE(t){for(;t.Ra.size>0&&t.Va.size<t.maxConcurrentLimboResolutions;){const e=t.Ra.values().next().value;t.Ra.delete(e);const n=new oe(qe.fromString(e)),r=t.ya.next();t.ma.set(r,new hW(n)),t.Va=t.Va.insert(n,r),rb(t.remoteStore,new Rs(as(uE(n.path)),r,"TargetPurposeLimboResolution",sE.ae))}}async function ou(t,e,n){const r=ye(t),s=[],i=[],o=[];r.da.isEmpty()||(r.da.forEach((a,l)=>{o.push(r.Sa(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const u=vE.Qi(l.targetId,c);i.push(u)}}))}),await Promise.all(o),r.Ea.i_(s),await async function(l,c){const u=ye(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>B.forEach(c,f=>B.forEach(f.ki,p=>u.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>B.forEach(f.qi,p=>u.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!nu(h))throw h;re("LocalStore","Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const p=u.Yi.get(f),m=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(m);u.Yi=u.Yi.insert(f,g)}}}(r.localStore,i))}async function wW(t,e){const n=ye(t);if(!n.currentUser.isEqual(e)){re("SyncEngine","User change. New user:",e.toKey());const r=await ZA(n.localStore,e);n.currentUser=e,function(i,o){i.pa.forEach(a=>{a.forEach(l=>{l.reject(new J(M.CANCELLED,o))})}),i.pa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ou(n,r.ns)}}function TW(t,e){const n=ye(t),r=n.ma.get(e);if(r&&r.Ta)return Ie().add(r.key);{let s=Ie();const i=n.Aa.get(e);if(!i)return s;for(const o of i){const a=n.da.get(o);s=s.unionWith(a.view.sa)}return s}}function CW(t){const e=ye(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=TW.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=vW.bind(null,e),e.Ea.i_=lW.bind(null,e.eventManager),e.Ea.ba=cW.bind(null,e.eventManager),e}function IW(t){const e=ye(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yW.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=EW.bind(null,e),e}class vT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=sp(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return LH(this.persistence,new kH,e.initialUser,this.serializer)}createPersistence(e){return new AH(_E.jr,this.serializer)}createSharedClientState(e){return new FH}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class RW{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>gT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wW.bind(null,this.syncEngine),await iW(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new aW}()}createDatastore(e){const n=sp(e.databaseInfo.databaseId),r=function(i){return new HH(i)}(e.databaseInfo);return function(i,o,a,l){return new GH(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new QH(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gT(this.syncEngine,n,0),function(){return fT.v()?new fT:new UH}())}createSyncEngine(e,n){return function(s,i,o,a,l,c,u){const h=new fW(s,i,o,a,l,c);return u&&(h.wa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(n){const r=ye(n);re("RemoteStore","RemoteStore shutting down."),r.w_.add(5),await iu(r),r.b_.shutdown(),r.D_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ca(this.observer.next,e)}error(e){this.observer.error?this.Ca(this.observer.error,e):os("Uncaught Error in snapshot listener:",e.toString())}Fa(){this.muted=!0}Ca(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xW{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=zt.UNAUTHENTICATED,this.clientId=yA.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{re("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(re("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new J(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Kr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=TE(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Pm(t,e){t.asyncQueue.verifyOperationInProgress(),re("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await ZA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await AW(t);re("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>pT(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>pT(e.remoteStore,i)),t._onlineComponents=e}function NW(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function AW(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re("FirestoreClient","Using user provided OfflineComponentProvider");try{await Pm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!NW(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await Pm(t,new vT)}}else re("FirestoreClient","Using default OfflineComponentProvider"),await Pm(t,new vT);return t._offlineComponents}async function Eb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re("FirestoreClient","Using user provided OnlineComponentProvider"),await yT(t,t._uninitializedComponentsProvider._online)):(re("FirestoreClient","Using default OnlineComponentProvider"),await yT(t,new RW))),t._onlineComponents}function bW(t){return Eb(t).then(e=>e.syncEngine)}async function Sb(t){const e=await Eb(t),n=e.eventManager;return n.onListen=pW.bind(null,e.syncEngine),n.onUnlisten=gW.bind(null,e.syncEngine),n}function kW(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new yb({next:f=>{o.enqueueAndForget(()=>db(i,h));const p=f.docs.has(a);!p&&f.fromCache?c.reject(new J(M.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&f.fromCache&&l&&l.source==="server"?c.reject(new J(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new hb(uE(a.path),u,{includeMetadataChanges:!0,G_:!0});return ub(i,h)}(await Sb(t),t.asyncQueue,e,n,r)),r.promise}function PW(t,e,n={}){const r=new Kr;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,c){const u=new yb({next:f=>{o.enqueueAndForget(()=>db(i,h)),f.fromCache&&l.source==="server"?c.reject(new J(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new hb(a,u,{includeMetadataChanges:!0,G_:!0});return ub(i,h)}(await Sb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t,e,n){if(!n)throw new J(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function LW(t,e,n,r){if(e===!0&&r===!0)throw new J(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ST(t){if(!oe.isDocumentKey(t))throw new J(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wT(t){if(oe.isDocumentKey(t))throw new J(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ap(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":fe()}function $i(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new J(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ap(t);throw new J(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function OW(t,e){if(e<=0)throw new J(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new J(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new J(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LW("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new J(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new J(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new J(M.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lp{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TT({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new J(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new J(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TT(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new t6;switch(r.type){case"firstParty":return new i6(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new J(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ET.get(n);r&&(re("ComponentProvider","Removing Datastore"),ET.delete(n),r.terminate())}(this),Promise.resolve()}}function DW(t,e,n,r={}){var s;const i=(t=$i(t,lp))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=zt.MOCK_USER;else{a=l1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new J(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new zt(c)}t._authCredentials=new n6(new vA(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ai(this.firestore,e,this._query)}}class yn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class Us extends ai{constructor(e,n,r){super(e,n,uE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new oe(e))}withConverter(e){return new Us(this.firestore,e,this._path)}}function MW(t,e,...n){if(t=yt(t),Tb("collection","path",e),t instanceof lp){const r=qe.fromString(e,...n);return wT(r),new Us(t,null,r)}{if(!(t instanceof yn||t instanceof Us))throw new J(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return wT(r),new Us(t.firestore,null,r)}}function Pa(t,e,...n){if(t=yt(t),arguments.length===1&&(e=yA.V()),Tb("doc","path",e),t instanceof lp){const r=qe.fromString(e,...n);return ST(r),new yn(t,null,new oe(r))}{if(!(t instanceof yn||t instanceof Us))throw new J(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(qe.fromString(e,...n));return ST(r),new yn(t.firestore,t instanceof Us?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VW{constructor(){this.Ga=Promise.resolve(),this.za=[],this.ja=!1,this.Ha=[],this.Ja=null,this.Ya=!1,this.Za=!1,this.Xa=[],this.$o=new tb(this,"async_queue_retry"),this.eu=()=>{const n=km();n&&re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.$o.Bo()};const e=km();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.eu)}get isShuttingDown(){return this.ja}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.tu(),this.nu(e)}enterRestrictedMode(e){if(!this.ja){this.ja=!0,this.Za=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.eu)}}enqueue(e){if(this.tu(),this.ja)return new Promise(()=>{});const n=new Kr;return this.nu(()=>this.ja&&this.Za?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.za.push(e),this.ru()))}async ru(){if(this.za.length!==0){try{await this.za[0](),this.za.shift(),this.$o.reset()}catch(e){if(!nu(e))throw e;re("AsyncQueue","Operation failed with retryable error: "+e)}this.za.length>0&&this.$o.Oo(()=>this.ru())}}nu(e){const n=this.Ga.then(()=>(this.Ya=!0,e().catch(r=>{this.Ja=r,this.Ya=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw os("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Ya=!1,r))));return this.Ga=n,n}enqueueAfterDelay(e,n,r){this.tu(),this.Xa.indexOf(e)>-1&&(n=0);const s=wE.createAndSchedule(this,e,n,r,i=>this.iu(i));return this.Ha.push(s),s}tu(){this.Ja&&fe()}verifyOperationInProgress(){}async su(){let e;do e=this.Ga,await e;while(e!==this.Ga)}ou(e){for(const n of this.Ha)if(n.timerId===e)return!0;return!1}_u(e){return this.su().then(()=>{this.Ha.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Ha)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.su()})}au(e){this.Xa.push(e)}iu(e){const n=this.Ha.indexOf(e);this.Ha.splice(n,1)}}class cp extends lp{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new VW}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Cb(this),this._firestoreClient.terminate()}}function $W(t,e){const n=typeof t=="object"?t:iy(),r=typeof t=="string"?t:e||"(default)",s=df(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=i1("firestore");i&&DW(s,...i)}return s}function RE(t){return t._firestoreClient||Cb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Cb(t){var e,n,r;const s=t._freezeSettings(),i=function(a,l,c,u){return new _6(a,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,wb(u.experimentalLongPollingOptions),u.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new xW(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this._byteString=e}static fromBase64String(e){try{return new da(nn.fromBase64String(e))}catch(n){throw new J(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new da(nn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new J(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new J(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new J(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jW=/^__.*__$/;class FW{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new ru(e,this.data,n,this.fieldTransforms)}}function Rb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fe()}}class AE{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.uu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get cu(){return this.settings.cu}lu(e){return new AE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}hu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.Iu(e),s}Tu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.lu({path:r,Pu:!1});return s.uu(),s}Eu(e){return this.lu({path:void 0,Pu:!0})}du(e){return Ph(e,this.settings.methodName,this.settings.Au||!1,this.path,this.settings.Ru)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}uu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Iu(this.path.get(e))}Iu(e){if(e.length===0)throw this.du("Document fields must not be empty");if(Rb(this.cu)&&jW.test(e))throw this.du('Document fields cannot begin and end with "__"')}}class UW{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||sp(e)}Vu(e,n,r,s=!1){return new AE({cu:e,methodName:n,Ru:r,path:Kt.emptyPath(),Pu:!1,Au:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xb(t){const e=t._freezeSettings(),n=sp(t._databaseId);return new UW(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BW(t,e,n,r,s,i={}){const o=t.Vu(i.merge||i.mergeFields?2:0,e,n,s);bb("Data must be an object, but it was:",o,r);const a=Nb(r,o);let l,c;if(i.merge)l=new tr(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const h of i.mergeFields){const f=HW(e,h,n);if(!o.contains(f))throw new J(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);qW(u,f)||u.push(f)}l=new tr(u),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new FW(new $n(a),l,c)}function zW(t,e,n,r=!1){return bE(n,t.Vu(r?4:3,e))}function bE(t,e){if(Ab(t=yt(t)))return bb("Unsupported field value:",e,t),Nb(t,e);if(t instanceof Ib)return function(r,s){if(!Rb(s.cu))throw s.du(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.du(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Pu&&e.cu!==4)throw e.du("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=bE(a,s.Eu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=yt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $6(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=vt.fromDate(r);return{timestampValue:bh(s.serializer,i)}}if(r instanceof vt){const i=new vt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:bh(s.serializer,i)}}if(r instanceof NE)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof da)return{bytesValue:GA(s.serializer,r._byteString)};if(r instanceof yn){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:mE(r.firestore._databaseId||s.databaseId,r._key.path)}}throw s.du(`Unsupported field value: ${ap(r)}`)}(t,e)}function Nb(t,e){const n={};return EA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Na(t,(r,s)=>{const i=bE(s,e.hu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Ab(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof vt||t instanceof NE||t instanceof da||t instanceof yn||t instanceof Ib)}function bb(t,e,n){if(!Ab(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=ap(n);throw r==="an object"?e.du(t+" a custom object"):e.du(t+" "+r)}}function HW(t,e,n){if((e=yt(e))instanceof xE)return e._internalPath;if(typeof e=="string")return kb(t,e);throw Ph("Field path arguments must be of type string or ",t,!1,void 0,n)}const WW=new RegExp("[~\\*/\\[\\]]");function kb(t,e,n){if(e.search(WW)>=0)throw Ph(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xE(...e.split("."))._internalPath}catch{throw Ph(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ph(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new J(M.INVALID_ARGUMENT,a+t+l)}function qW(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pb{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GW(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(kE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GW extends Pb{data(){return super.data()}}function kE(t,e){return typeof e=="string"?kb(t,e):e instanceof xE?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KW(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new J(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class PE{}class LE extends PE{}function QW(t,e,...n){let r=[];e instanceof PE&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof DE).length,a=i.filter(l=>l instanceof OE).length;if(o>1||o>0&&a>0)throw new J(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class OE extends LE{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new OE(e,n,r)}_apply(e){const n=this._parse(e);return Lb(e._query,n),new ai(e.firestore,e.converter,N_(e._query,n))}_parse(e){const n=xb(e.firestore);return function(i,o,a,l,c,u,h){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new J(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){IT(h,u);const p=[];for(const m of h)p.push(CT(l,i,m));f={arrayValue:{values:p}}}else f=CT(l,i,h)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||IT(h,u),f=zW(a,o,h,u==="in"||u==="not-in");return ft.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class DE extends PE{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new DE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:cr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)Lb(o,l),o=N_(o,l)}(e._query,n),new ai(e.firestore,e.converter,N_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ME extends LE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new ME(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new J(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new J(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const a=new Fo(i,o);return function(c,u){if(dE(c)===null){const h=Jf(c);h!==null&&Ob(c,h,u.field)}}(s,a),a}(e._query,this._field,this._direction);return new ai(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Aa(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function YW(t,e="asc"){const n=e,r=kE("orderBy",t);return ME._create(r,n)}class VE extends LE{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new VE(e,n,r)}_apply(e){return new ai(e.firestore,e.converter,xh(e._query,this._limit,this._limitType))}}function XW(t){return OW("limit",t),VE._create("limit",t,"F")}function CT(t,e,n){if(typeof(n=yt(n))=="string"){if(n==="")throw new J(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!AA(e)&&n.indexOf("/")!==-1)throw new J(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(qe.fromString(n));if(!oe.isDocumentKey(r))throw new J(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kw(t,new oe(r))}if(n instanceof yn)return Kw(t,n._key);throw new J(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ap(n)}.`)}function IT(t,e){if(!Array.isArray(t)||t.length===0)throw new J(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Lb(t,e){if(e.isInequality()){const r=Jf(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new J(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=dE(t);i!==null&&Ob(t,s,i)}const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new J(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new J(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Ob(t,e,n){if(!n.isEqual(e))throw new J(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class JW{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Mi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw fe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Na(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new NE(dt(e.latitude),dt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=oE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(yc(e));default:return null}}convertTimestamp(e){const n=Ks(e);return new vt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=qe.fromString(e);Qe(JA(r));const s=new Ec(r.get(1),r.get(3)),i=new oe(r.popFirst(5));return s.isEqual(n)||os(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZW(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Db extends Pb{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Id(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(kE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Id extends Db{data(e={}){return super.data(e)}}class e5{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new _l(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Id(this._firestore,this._userDataWriter,r.key,r,new _l(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new J(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new Id(s._firestore,s._userDataWriter,a.doc.key,a.doc,new _l(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new Id(s._firestore,s._userDataWriter,a.doc.key,a.doc,new _l(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let c=-1,u=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),u=o.indexOf(a.doc.key)),{type:t5(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function t5(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(t){t=$i(t,yn);const e=$i(t.firestore,cp);return kW(RE(e),t._key).then(n=>s5(e,t,n))}class Mb extends JW{constructor(e){super(),this.firestore=e}convertBytes(e){return new da(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function n5(t){t=$i(t,ai);const e=$i(t.firestore,cp),n=RE(e),r=new Mb(e);return KW(t._query),PW(n,t._query).then(s=>new e5(e,r,t,s))}function jE(t,e,n){t=$i(t,yn);const r=$i(t.firestore,cp),s=ZW(t.converter,e,n);return r5(r,[BW(xb(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Qr.none())])}function r5(t,e){return function(r,s){const i=new Kr;return r.asyncQueue.enqueueAndForget(async()=>_W(await bW(r),s,i)),i.promise}(RE(t),e)}function s5(t,e,n){const r=n.docs.get(e._key),s=new Mb(t);return new Db(t,s,e._key,r,new _l(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){xa=s})(ei),qs(new ns("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new cp(new r6(r.getProvider("auth-internal")),new a6(r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new J(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ec(c.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Bn(zw,"4.1.1",e),Bn(zw,"4.1.1","esm2017")})();const RT="@firebase/database",xT="1.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vb="";function i5(t){Vb=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Dt(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ic(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a5{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return hs(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new o5(e)}}catch{}return new a5},yi=$b("localStorage"),M_=$b("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo=new uf("@firebase/database"),l5=function(){let t=1;return function(){return t++}}(),jb=function(t){const e=MM(t),n=new kM;n.update(e);const r=n.digest();return ey.encodeByteArray(r)},au=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=au.apply(null,r):typeof r=="object"?e+=Dt(r):e+=r,e+=" "}return e};let Ci=null,NT=!0;const c5=function(t,e){G(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Bo.logLevel=ke.VERBOSE,Ci=Bo.log.bind(Bo),e&&M_.set("logging_enabled",!0)):typeof t=="function"?Ci=t:(Ci=null,M_.remove("logging_enabled"))},qt=function(...t){if(NT===!0&&(NT=!1,Ci===null&&M_.get("logging_enabled")===!0&&c5(!0)),Ci){const e=au.apply(null,t);Ci(e)}},lu=function(t){return function(...e){qt(t,...e)}},V_=function(...t){const e="FIREBASE INTERNAL ERROR: "+au(...t);Bo.error(e)},cs=function(...t){const e=`FIREBASE FATAL ERROR: ${au(...t)}`;throw Bo.error(e),new Error(e)},xn=function(...t){const e="FIREBASE WARNING: "+au(...t);Bo.warn(e)},u5=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&xn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Fb=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},d5=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ha="[MIN_NAME]",ji="[MAX_NAME]",La=function(t,e){if(t===e)return 0;if(t===ha||e===ji)return-1;if(e===ha||t===ji)return 1;{const n=AT(t),r=AT(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},h5=function(t,e){return t===e?0:t<e?-1:1},el=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Dt(e))},FE=function(t){if(typeof t!="object"||t===null)return Dt(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Dt(e[r]),n+=":",n+=FE(t[e[r]]);return n+="}",n},Ub=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function Gn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Bb=function(t){G(!Fb(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,a,l;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(i%2?1:0),i=Math.floor(i/2);c.push(s?1:0),c.reverse();const u=c.join("");let h="";for(l=0;l<64;l+=8){let f=parseInt(u.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),h=h+f}return h.toLowerCase()},f5=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},p5=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"},m5=new RegExp("^-?(0*)\\d{1,10}$"),g5=-2147483648,_5=2147483647,AT=function(t){if(m5.test(t)){const e=Number(t);if(e>=g5&&e<=_5)return e}return null},cu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw xn("Exception was thrown by user callback.",n),e},Math.floor(0))}},v5=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Ml=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y5{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){xn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E5{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(qt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',xn(e)}}class zo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}zo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="5",zb="v",Hb="s",Wb="r",qb="f",Gb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Kb="ls",Qb="p",$_="ac",Yb="websocket",Xb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,n,r,s,i=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=yi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&yi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function S5(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Zb(t,e,n){G(typeof e=="string","typeof type must == string"),G(typeof n=="object","typeof params must == object");let r;if(e===Yb)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Xb)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);S5(t)&&(n.ns=t.namespace);const s=[];return Gn(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.counters_={}}incrementCounter(e,n=1){hs(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return gM(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm={},Om={};function BE(t){const e=t.toString();return Lm[e]||(Lm[e]=new w5),Lm[e]}function T5(t,e){const n=t.toString();return Om[n]||(Om[n]=e()),Om[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C5{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&cu(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="start",I5="close",R5="pLPCommand",x5="pRTLPCB",ek="id",tk="pw",nk="ser",N5="cb",A5="seg",b5="ts",k5="d",P5="dframe",rk=1870,sk=30,L5=rk-sk,O5=25e3,D5=3e4;class Ro{constructor(e,n,r,s,i,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=lu(e),this.stats_=BE(n),this.urlFn=l=>(this.appCheckToken&&(l[$_]=this.appCheckToken),Zb(n,Xb,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new C5(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(D5)),d5(()=>{if(this.isClosed_)return;this.scriptTagHolder=new zE((...i)=>{const[o,a,l,c,u]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===bT)this.id=a,this.password=l;else if(o===I5)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,a]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[bT]="t",r[nk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[N5]=this.scriptTagHolder.uniqueCallbackIdentifier),r[zb]=UE,this.transportSessionId&&(r[Hb]=this.transportSessionId),this.lastSessionId&&(r[Kb]=this.lastSessionId),this.applicationId&&(r[Qb]=this.applicationId),this.appCheckToken&&(r[$_]=this.appCheckToken),typeof location<"u"&&location.hostname&&Gb.test(location.hostname)&&(r[Wb]=qb);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ro.forceAllow_=!0}static forceDisallow(){Ro.forceDisallow_=!0}static isAvailable(){return Ro.forceAllow_?!0:!Ro.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!f5()&&!p5()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=n1(n),s=Ub(r,L5);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[P5]="t",r[ek]=e,r[tk]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Dt(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class zE{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=l5(),window[R5+this.uniqueCallbackIdentifier]=e,window[x5+this.uniqueCallbackIdentifier]=n,this.myIFrame=zE.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){qt("frame writing exception"),a.stack&&qt(a.stack),qt(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||qt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[ek]=this.myID,e[tk]=this.myPW,e[nk]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+sk+r.length<=rk;){const o=this.pendingSegs.shift();r=r+"&"+A5+s+"="+o.seg+"&"+b5+s+"="+o.ts+"&"+k5+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(O5)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{qt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M5=16384,V5=45e3;let Lh=null;typeof MozWebSocket<"u"?Lh=MozWebSocket:typeof WebSocket<"u"&&(Lh=WebSocket);class er{constructor(e,n,r,s,i,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=lu(this.connId),this.stats_=BE(n),this.connURL=er.connectionURL_(n,o,a,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[zb]=UE,typeof location<"u"&&location.hostname&&Gb.test(location.hostname)&&(o[Wb]=qb),n&&(o[Hb]=n),r&&(o[Kb]=r),s&&(o[$_]=s),i&&(o[Qb]=i),Zb(e,Yb,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,yi.set("previous_websocket_failure",!0);try{let r;u1(),this.mySock=new Lh(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){er.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Lh!==null&&!er.forceDisallow_}static previouslyFailed(){return yi.isInMemoryStorage||yi.get("previous_websocket_failure")===!0}markConnectionHealthy(){yi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=ic(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(G(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Dt(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Ub(n,M5);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(V5))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}er.responsesRequiredToBeHealthy=2;er.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ro,er]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=er&&er.isAvailable();let r=n&&!er.previouslyFailed();if(e.webSocketOnly&&(n||xn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[er];else{const s=this.transports_=[];for(const i of Cc.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);Cc.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Cc.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $5=6e4,j5=5e3,F5=10*1024,U5=100*1024,Dm="t",kT="d",B5="s",PT="r",z5="e",LT="o",OT="a",DT="n",MT="p",H5="h";class W5{constructor(e,n,r,s,i,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=lu("c:"+this.id+":"),this.transportManager_=new Cc(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Ml(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>U5?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>F5?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Dm in e){const n=e[Dm];n===OT?this.upgradeIfSecondaryHealthy_():n===PT?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===LT&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=el("t",e),r=el("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:MT,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:OT,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:DT,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=el("t",e),r=el("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=el(Dm,e);if(kT in e){const r=e[kT];if(n===H5){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===DT){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===B5?this.onConnectionShutdown_(r):n===PT?this.onReset_(r):n===z5?V_("Server Error: "+r):n===LT?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):V_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),UE!==r&&xn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Ml(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($5))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Ml(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(j5))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:MT,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(yi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends ok{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ry()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Oh}getInitialEvent(e){return G(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=32,$T=768;class Ye{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function je(){return new Ye("")}function Ae(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Ys(t){return t.pieces_.length-t.pieceNum_}function He(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ye(t.pieces_,e)}function ak(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function q5(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function lk(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function ck(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ye(e,0)}function xt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ye)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new Ye(n,0)}function xe(t){return t.pieceNum_>=t.pieces_.length}function Fn(t,e){const n=Ae(t),r=Ae(e);if(n===null)return e;if(n===r)return Fn(He(t),He(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function uk(t,e){if(Ys(t)!==Ys(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function nr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Ys(t)>Ys(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class G5{constructor(e,n){this.errorPrefix_=n,this.parts_=lk(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=cf(this.parts_[r]);dk(this)}}function K5(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=cf(e),dk(t)}function Q5(t){const e=t.parts_.pop();t.byteLength_-=cf(e),t.parts_.length>0&&(t.byteLength_-=1)}function dk(t){if(t.byteLength_>$T)throw new Error(t.errorPrefix_+"has a key path longer than "+$T+" bytes ("+t.byteLength_+").");if(t.parts_.length>VT)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+VT+") or object contains a cycle "+di(t))}function di(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE extends ok{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new HE}getInitialEvent(e){return G(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=1e3,Y5=60*5*1e3,jT=30*1e3,X5=1.3,J5=3e4,Z5="server_kill",FT=3;class Yr extends ik{constructor(e,n,r,s,i,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Yr.nextPersistentConnectionId_++,this.log_=lu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tl,this.maxReconnectDelay_=Y5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!u1())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");HE.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Oh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Dt(i)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new ny,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const a={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,a=>{const l=a.d,c=a.s;Yr.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&hs(e,"w")){const r=Jo(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();xn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bM(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=jT)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=AM(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),G(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Dt(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):V_("Unrecognized action received from server: "+Dt(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>J5&&(this.reconnectDelay_=tl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*X5)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Yr.nextConnectionId_++,i=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(h){G(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:l,sendRequest:c};const u=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,f]=await Promise.all([this.authTokenProvider_.getToken(u),this.appCheckTokenProvider_.getToken(u)]);o?qt("getToken() completed but was canceled"):(qt("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=f&&f.token,a=new W5(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,p=>{xn(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Z5)},i))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&xn(h),l())}}}interrupt(e){qt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){qt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Kg(this.interruptReasons_)&&(this.reconnectDelay_=tl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>FE(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new Ye(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){qt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=FT&&(this.reconnectDelay_=jT,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){qt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=FT&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Vb.replace(/\./g,"-")]=1,ry()?e["framework.cordova"]=1:c1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Oh.getInstance().currentlyOnline();return Kg(this.interruptReasons_)&&e}}Yr.nextPersistentConnectionId_=0;Yr.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new be(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new be(ha,e),s=new be(ha,n);return this.compare(r,s)!==0}minPost(){return be.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu;class hk extends up{static get __EMPTY_NODE(){return Xu}static set __EMPTY_NODE(e){Xu=e}compare(e,n){return La(e.name,n.name)}isDefinedOn(e){throw Ea("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return be.MIN}maxPost(){return new be(ji,Xu)}makePost(e,n){return G(typeof e=="string","KeyIndex indexValue must always be a string."),new be(e,Xu)}toString(){return".key"}}const Ho=new hk;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Rt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Rt.RED,this.left=s??pn.EMPTY_NODE,this.right=i??pn.EMPTY_NODE}copy(e,n,r,s,i){return new Rt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return pn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return pn.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Rt.RED=!0;Rt.BLACK=!1;class eq{copy(e,n,r,s,i){return this}insert(e,n,r){return new Rt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pn{constructor(e,n=pn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new pn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Rt.BLACK,null,null))}remove(e){return new pn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Rt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Ju(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Ju(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Ju(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Ju(this.root_,null,this.comparator_,!0,e)}}pn.EMPTY_NODE=new eq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tq(t,e){return La(t.name,e.name)}function WE(t,e){return La(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let j_;function nq(t){j_=t}const fk=function(t){return typeof t=="number"?"number:"+Bb(t):"string:"+t},pk=function(t){if(t.isLeafNode()){const e=t.val();G(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hs(e,".sv"),"Priority must be a string or number.")}else G(t===j_||t.isEmpty(),"priority of unexpected type.");G(t===j_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UT;class Tt{constructor(e,n=Tt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),pk(this.priorityNode_)}static set __childrenNodeConstructor(e){UT=e}static get __childrenNodeConstructor(){return UT}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Tt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return xe(e)?this:Ae(e)===".priority"?this.priorityNode_:Tt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Tt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ae(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(G(r!==".priority"||Ys(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Tt.__childrenNodeConstructor.EMPTY_NODE.updateChild(He(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+fk(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Bb(this.value_):e+=this.value_,this.lazyHash_=jb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Tt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Tt.__childrenNodeConstructor?-1:(G(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=Tt.VALUE_TYPE_ORDER.indexOf(n),i=Tt.VALUE_TYPE_ORDER.indexOf(r);return G(s>=0,"Unknown leaf type: "+n),G(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Tt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mk,gk;function rq(t){mk=t}function sq(t){gk=t}class iq extends up{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?La(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return be.MIN}maxPost(){return new be(ji,new Tt("[PRIORITY-POST]",gk))}makePost(e,n){const r=mk(e);return new be(n,new Tt("[PRIORITY-POST]",r))}toString(){return".priority"}}const Qt=new iq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oq=Math.log(2);class aq{constructor(e){const n=i=>parseInt(Math.log(i)/oq,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Dh=function(t,e,n,r){t.sort(e);const s=function(l,c){const u=c-l;let h,f;if(u===0)return null;if(u===1)return h=t[l],f=n?n(h):h,new Rt(f,h.node,Rt.BLACK,null,null);{const p=parseInt(u/2,10)+l,m=s(l,p),g=s(p+1,c);return h=t[p],f=n?n(h):h,new Rt(f,h.node,Rt.BLACK,m,g)}},i=function(l){let c=null,u=null,h=t.length;const f=function(m,g){const y=h-m,_=h;h-=m;const v=s(y+1,_),E=t[y],w=n?n(E):E;p(new Rt(w,E.node,g,null,v))},p=function(m){c?(c.left=m,c=m):(u=m,c=m)};for(let m=0;m<l.count;++m){const g=l.nextBitIsOne(),y=Math.pow(2,l.count-(m+1));g?f(y,Rt.BLACK):(f(y,Rt.BLACK),f(y,Rt.RED))}return u},o=new aq(t.length),a=i(o);return new pn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm;const io={};class qr{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(io&&Qt,"ChildrenNode.ts has not been loaded"),Mm=Mm||new qr({".priority":io},{".priority":Qt}),Mm}get(e){const n=Jo(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof pn?n:null}hasIndex(e){return hs(this.indexSet_,e.toString())}addIndex(e,n){G(e!==Ho,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(be.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let a;s?a=Dh(r,e.getCompare()):a=io;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new qr(u,c)}addToIndexes(e,n){const r=ih(this.indexes_,(s,i)=>{const o=Jo(this.indexSet_,i);if(G(o,"Missing index implementation for "+i),s===io)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(be.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Dh(a,o.getCompare())}else return io;else{const a=n.get(e.name);let l=s;return a&&(l=l.remove(new be(e.name,a))),l.insert(e,e.node)}});return new qr(r,this.indexSet_)}removeFromIndexes(e,n){const r=ih(this.indexes_,s=>{if(s===io)return s;{const i=n.get(e.name);return i?s.remove(new be(e.name,i)):s}});return new qr(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nl;class De{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&pk(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nl||(nl=new De(new pn(WE),null,qr.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nl}updatePriority(e){return this.children_.isEmpty()?this:new De(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?nl:n}}getChild(e){const n=Ae(e);return n===null?this:this.getImmediateChild(n).getChild(He(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(G(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new be(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?nl:this.priorityNode_;return new De(s,o,i)}}updateChild(e,n){const r=Ae(e);if(r===null)return n;{G(Ae(e)!==".priority"||Ys(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(He(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(Qt,(o,a)=>{n[o]=a.val(e),r++,i&&De.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+fk(this.getPriority().val())+":"),this.forEachChild(Qt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":jb(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new be(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new be(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new be(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,be.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,be.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===uu?-1:0}withIndex(e){if(e===Ho||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new De(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Ho||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(Qt),s=n.getIterator(Qt);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Ho?null:this.indexMap_.get(e.toString())}}De.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class lq extends De{constructor(){super(new pn(WE),De.EMPTY_NODE,qr.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return De.EMPTY_NODE}isEmpty(){return!1}}const uu=new lq;Object.defineProperties(be,{MIN:{value:new be(ha,De.EMPTY_NODE)},MAX:{value:new be(ji,uu)}});hk.__EMPTY_NODE=De.EMPTY_NODE;Tt.__childrenNodeConstructor=De;nq(uu);sq(uu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cq=!0;function Gt(t,e=null){if(t===null)return De.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),G(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Tt(n,Gt(e))}if(!(t instanceof Array)&&cq){const n=[];let r=!1;if(Gn(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=Gt(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new be(o,l)))}}),n.length===0)return De.EMPTY_NODE;const i=Dh(n,tq,o=>o.name,WE);if(r){const o=Dh(n,Qt.getCompare());return new De(i,Gt(e),new qr({".priority":o},{".priority":Qt}))}else return new De(i,Gt(e),qr.Default)}else{let n=De.EMPTY_NODE;return Gn(t,(r,s)=>{if(hs(t,r)&&r.substring(0,1)!=="."){const i=Gt(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Gt(e))}}rq(Gt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uq extends up{constructor(e){super(),this.indexPath_=e,G(!xe(e)&&Ae(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?La(e.name,n.name):i}makePost(e,n){const r=Gt(e),s=De.EMPTY_NODE.updateChild(this.indexPath_,r);return new be(n,s)}maxPost(){const e=De.EMPTY_NODE.updateChild(this.indexPath_,uu);return new be(ji,e)}toString(){return lk(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dq extends up{compare(e,n){const r=e.node.compareTo(n.node);return r===0?La(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return be.MIN}maxPost(){return be.MAX}makePost(e,n){const r=Gt(e);return new be(n,r)}toString(){return".value"}}const hq=new dq;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t){return{type:"value",snapshotNode:t}}function pq(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function mq(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function BT(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function gq(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Qt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ha}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ji}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Qt}copy(){const e=new qE;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function zT(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Qt?n="$priority":t.index_===hq?n="$value":t.index_===Ho?n="$key":(G(t.index_ instanceof uq,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Dt(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Dt(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Dt(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Dt(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Dt(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function HT(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Qt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends ik{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=lu("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Mh.getListenId_(e,r),a={};this.listens_[o]=a;const l=zT(e._queryParams);this.restRequest_(i+".json",l,(c,u)=>{let h=u;if(c===404&&(h=null,c=null),c===null&&this.onDataUpdate_(i,h,!1,r),Jo(this.listens_,o)===a){let f;c?c===401?f="permission_denied":f="rest_error:"+c:f="ok",s(f,null)}})}unlisten(e,n){const r=Mh.getListenId_(e,n);delete this.listens_[r]}get(e){const n=zT(e._queryParams),r=e._path.toString(),s=new ny;return this.restRequest_(r+".json",n,(i,o)=>{let a=o;i===404&&(a=null,i=null),i===null?(this.onDataUpdate_(r,a,!1,null),s.resolve(a)):s.reject(new Error(a))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Sa(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=ic(a.responseText)}catch{xn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&xn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(){this.rootNode_=De.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vh(){return{value:null,children:new Map}}function _k(t,e,n){if(xe(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ae(e);t.children.has(r)||t.children.set(r,Vh());const s=t.children.get(r);e=He(e),_k(s,e,n)}}function F_(t,e,n){t.value!==null?n(e,t.value):vq(t,(r,s)=>{const i=new Ye(e.toString()+"/"+r);F_(s,i,n)})}function vq(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Gn(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WT=10*1e3,Eq=30*1e3,Sq=5*60*1e3;class wq{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new yq(e);const r=WT+(Eq-WT)*Math.random();Ml(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Gn(e,(s,i)=>{i>0&&hs(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Ml(this.reportStats_.bind(this),Math.floor(Math.random()*2*Sq))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _r;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(_r||(_r={}));function vk(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yk(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ek(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=_r.ACK_USER_WRITE,this.source=vk()}operationForChild(e){if(xe(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ye(e));return new $h(je(),n,this.revert)}}else return G(Ae(this.path)===e,"operationForChild called for unrelated child."),new $h(He(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=_r.OVERWRITE}operationForChild(e){return xe(this.path)?new Fi(this.source,je(),this.snap.getImmediateChild(e)):new Fi(this.source,He(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=_r.MERGE}operationForChild(e){if(xe(this.path)){const n=this.children.subtree(new Ye(e));return n.isEmpty()?null:n.value?new Fi(this.source,je(),n.value):new Ic(this.source,je(),n)}else return G(Ae(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Ic(this.source,He(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GE{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(xe(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ae(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Tq(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(gq(o.childName,o.snapshotNode))}),rl(t,s,"child_removed",e,r,n),rl(t,s,"child_added",e,r,n),rl(t,s,"child_moved",i,r,n),rl(t,s,"child_changed",e,r,n),rl(t,s,"value",e,r,n),s}function rl(t,e,n,r,s,i){const o=r.filter(a=>a.type===n);o.sort((a,l)=>Iq(t,a,l)),o.forEach(a=>{const l=Cq(t,a,i);s.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function Cq(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Iq(t,e,n){if(e.childName==null||n.childName==null)throw Ea("Should only compare child_ events.");const r=new be(e.childName,e.snapshotNode),s=new be(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t,e){return{eventCache:t,serverCache:e}}function Vl(t,e,n,r){return Sk(new GE(e,n,r),t.serverCache)}function wk(t,e,n,r){return Sk(t.eventCache,new GE(e,n,r))}function U_(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Ui(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vm;const Rq=()=>(Vm||(Vm=new pn(h5)),Vm);class ze{constructor(e,n=Rq()){this.value=e,this.children=n}static fromObject(e){let n=new ze(null);return Gn(e,(r,s)=>{n=n.set(new Ye(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:je(),value:this.value};if(xe(e))return null;{const r=Ae(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(He(e),n);return i!=null?{path:xt(new Ye(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(xe(e))return this;{const n=Ae(e),r=this.children.get(n);return r!==null?r.subtree(He(e)):new ze(null)}}set(e,n){if(xe(e))return new ze(n,this.children);{const r=Ae(e),i=(this.children.get(r)||new ze(null)).set(He(e),n),o=this.children.insert(r,i);return new ze(this.value,o)}}remove(e){if(xe(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=Ae(e),r=this.children.get(n);if(r){const s=r.remove(He(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ze(null):new ze(this.value,i)}else return this}}get(e){if(xe(e))return this.value;{const n=Ae(e),r=this.children.get(n);return r?r.get(He(e)):null}}setTree(e,n){if(xe(e))return n;{const r=Ae(e),i=(this.children.get(r)||new ze(null)).setTree(He(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ze(this.value,o)}}fold(e){return this.fold_(je(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(xt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,je(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(xe(e))return null;{const i=Ae(e),o=this.children.get(i);return o?o.findOnPath_(He(e),xt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,je(),n)}foreachOnPath_(e,n,r){if(xe(e))return this;{this.value&&r(n,this.value);const s=Ae(e),i=this.children.get(s);return i?i.foreachOnPath_(He(e),xt(n,s),r):new ze(null)}}foreach(e){this.foreach_(je(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(xt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.writeTree_=e}static empty(){return new or(new ze(null))}}function $l(t,e,n){if(xe(e))return new or(new ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Fn(s,e);return i=i.updateChild(o,n),new or(t.writeTree_.set(s,i))}else{const s=new ze(n),i=t.writeTree_.setTree(e,s);return new or(i)}}}function qT(t,e,n){let r=t;return Gn(n,(s,i)=>{r=$l(r,xt(e,s),i)}),r}function GT(t,e){if(xe(e))return or.empty();{const n=t.writeTree_.setTree(e,new ze(null));return new or(n)}}function B_(t,e){return Ji(t,e)!=null}function Ji(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Fn(n.path,e)):null}function KT(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Qt,(r,s)=>{e.push(new be(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new be(r,s.value))}),e}function Bs(t,e){if(xe(e))return t;{const n=Ji(t,e);return n!=null?new or(new ze(n)):new or(t.writeTree_.subtree(e))}}function z_(t){return t.writeTree_.isEmpty()}function fa(t,e){return Tk(je(),t.writeTree_,e)}function Tk(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(G(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=Tk(xt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(xt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e){return Ak(e,t)}function xq(t,e,n,r,s){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=$l(t.visibleWrites,e,n)),t.lastWriteId=r}function Nq(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function Aq(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&bq(a,r.path)?s=!1:nr(r.path,a.path)&&(i=!0)),o--}if(s){if(i)return kq(t),!0;if(r.snap)t.visibleWrites=GT(t.visibleWrites,r.path);else{const a=r.children;Gn(a,l=>{t.visibleWrites=GT(t.visibleWrites,xt(r.path,l))})}return!0}else return!1}function bq(t,e){if(t.snap)return nr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&nr(xt(t.path,n),e))return!0;return!1}function kq(t){t.visibleWrites=Ik(t.allWrites,Pq,je()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Pq(t){return t.visible}function Ik(t,e,n){let r=or.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let a;if(i.snap)nr(n,o)?(a=Fn(n,o),r=$l(r,a,i.snap)):nr(o,n)&&(a=Fn(o,n),r=$l(r,je(),i.snap.getChild(a)));else if(i.children){if(nr(n,o))a=Fn(n,o),r=qT(r,a,i.children);else if(nr(o,n))if(a=Fn(o,n),xe(a))r=qT(r,je(),i.children);else{const l=Jo(i.children,Ae(a));if(l){const c=l.getChild(He(a));r=$l(r,je(),c)}}}else throw Ea("WriteRecord should have .snap or .children")}}return r}function Rk(t,e,n,r,s){if(!r&&!s){const i=Ji(t.visibleWrites,e);if(i!=null)return i;{const o=Bs(t.visibleWrites,e);if(z_(o))return n;if(n==null&&!B_(o,je()))return null;{const a=n||De.EMPTY_NODE;return fa(o,a)}}}else{const i=Bs(t.visibleWrites,e);if(!s&&z_(i))return n;if(!s&&n==null&&!B_(i,je()))return null;{const o=function(c){return(c.visible||s)&&(!r||!~r.indexOf(c.writeId))&&(nr(c.path,e)||nr(e,c.path))},a=Ik(t.allWrites,o,e),l=n||De.EMPTY_NODE;return fa(a,l)}}}function Lq(t,e,n){let r=De.EMPTY_NODE;const s=Ji(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Qt,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Bs(t.visibleWrites,e);return n.forEachChild(Qt,(o,a)=>{const l=fa(Bs(i,new Ye(o)),a);r=r.updateImmediateChild(o,l)}),KT(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Bs(t.visibleWrites,e);return KT(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function Oq(t,e,n,r,s){G(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=xt(e,n);if(B_(t.visibleWrites,i))return null;{const o=Bs(t.visibleWrites,i);return z_(o)?s.getChild(n):fa(o,s.getChild(n))}}function Dq(t,e,n,r){const s=xt(e,n),i=Ji(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Bs(t.visibleWrites,s);return fa(o,r.getNode().getImmediateChild(n))}else return null}function Mq(t,e){return Ji(t.visibleWrites,e)}function Vq(t,e,n,r,s,i,o){let a;const l=Bs(t.visibleWrites,e),c=Ji(l,je());if(c!=null)a=c;else if(n!=null)a=fa(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const u=[],h=o.getCompare(),f=i?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&u.length<s;)h(p,r)!==0&&u.push(p),p=f.getNext();return u}else return[]}function $q(){return{visibleWrites:or.empty(),allWrites:[],lastWriteId:-1}}function H_(t,e,n,r){return Rk(t.writeTree,t.treePath,e,n,r)}function xk(t,e){return Lq(t.writeTree,t.treePath,e)}function QT(t,e,n,r){return Oq(t.writeTree,t.treePath,e,n,r)}function jh(t,e){return Mq(t.writeTree,xt(t.treePath,e))}function jq(t,e,n,r,s,i){return Vq(t.writeTree,t.treePath,e,n,r,s,i)}function KE(t,e,n){return Dq(t.writeTree,t.treePath,e,n)}function Nk(t,e){return Ak(xt(t.treePath,e),t.writeTree)}function Ak(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fq{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),G(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,BT(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,mq(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,pq(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,BT(r,e.snapshotNode,s.oldSnap));else throw Ea("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uq{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const bk=new Uq;class QE{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new GE(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return KE(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Ui(this.viewCache_),i=jq(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}function Bq(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function zq(t,e,n,r,s){const i=new Fq;let o,a;if(n.type===_r.OVERWRITE){const c=n;c.source.fromUser?o=W_(t,e,c.path,c.snap,r,s,i):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!xe(c.path),o=Fh(t,e,c.path,c.snap,r,s,a,i))}else if(n.type===_r.MERGE){const c=n;c.source.fromUser?o=Wq(t,e,c.path,c.children,r,s,i):(G(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=q_(t,e,c.path,c.children,r,s,a,i))}else if(n.type===_r.ACK_USER_WRITE){const c=n;c.revert?o=Kq(t,e,c.path,r,s,i):o=qq(t,e,c.path,c.affectedTree,r,s,i)}else if(n.type===_r.LISTEN_COMPLETE)o=Gq(t,e,n.path,r,i);else throw Ea("Unknown operation type: "+n.type);const l=i.getChanges();return Hq(e,o,l),{viewCache:o,changes:l}}function Hq(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=U_(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(fq(U_(e)))}}function kk(t,e,n,r,s,i){const o=e.eventCache;if(jh(r,n)!=null)return e;{let a,l;if(xe(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Ui(e),u=c instanceof De?c:De.EMPTY_NODE,h=xk(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),h,i)}else{const c=H_(r,Ui(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,i)}else{const c=Ae(n);if(c===".priority"){G(Ys(n)===1,"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const h=QT(r,n,u,l);h!=null?a=t.filter.updatePriority(u,h):a=o.getNode()}else{const u=He(n);let h;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const f=QT(r,n,o.getNode(),l);f!=null?h=o.getNode().getImmediateChild(c).updateChild(u,f):h=o.getNode().getImmediateChild(c)}else h=KE(r,c,e.serverCache);h!=null?a=t.filter.updateChild(o.getNode(),c,h,u,s,i):a=o.getNode()}}return Vl(e,a,o.isFullyInitialized()||xe(n),t.filter.filtersNodes())}}function Fh(t,e,n,r,s,i,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(xe(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),p,null)}else{const p=Ae(n);if(!l.isCompleteForPath(n)&&Ys(n)>1)return e;const m=He(n),y=l.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?c=u.updatePriority(l.getNode(),y):c=u.updateChild(l.getNode(),p,y,m,bk,null)}const h=wk(e,c,l.isFullyInitialized()||xe(n),u.filtersNodes()),f=new QE(s,h,i);return kk(t,h,n,s,f,a)}function W_(t,e,n,r,s,i,o){const a=e.eventCache;let l,c;const u=new QE(s,e,i);if(xe(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Vl(e,c,!0,t.filter.filtersNodes());else{const h=Ae(n);if(h===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Vl(e,c,a.isFullyInitialized(),a.isFiltered());else{const f=He(n),p=a.getNode().getImmediateChild(h);let m;if(xe(f))m=r;else{const g=u.getCompleteChild(h);g!=null?ak(f)===".priority"&&g.getChild(ck(f)).isEmpty()?m=g:m=g.updateChild(f,r):m=De.EMPTY_NODE}if(p.equals(m))l=e;else{const g=t.filter.updateChild(a.getNode(),h,m,f,u,o);l=Vl(e,g,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function YT(t,e){return t.eventCache.isCompleteForChild(e)}function Wq(t,e,n,r,s,i,o){let a=e;return r.foreach((l,c)=>{const u=xt(n,l);YT(e,Ae(u))&&(a=W_(t,a,u,c,s,i,o))}),r.foreach((l,c)=>{const u=xt(n,l);YT(e,Ae(u))||(a=W_(t,a,u,c,s,i,o))}),a}function XT(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function q_(t,e,n,r,s,i,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;xe(n)?c=r:c=new ze(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((h,f)=>{if(u.hasChild(h)){const p=e.serverCache.getNode().getImmediateChild(h),m=XT(t,p,f);l=Fh(t,l,new Ye(h),m,s,i,o,a)}}),c.children.inorderTraversal((h,f)=>{const p=!e.serverCache.isCompleteForChild(h)&&f.value===null;if(!u.hasChild(h)&&!p){const m=e.serverCache.getNode().getImmediateChild(h),g=XT(t,m,f);l=Fh(t,l,new Ye(h),g,s,i,o,a)}}),l}function qq(t,e,n,r,s,i,o){if(jh(s,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(xe(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Fh(t,e,n,l.getNode().getChild(n),s,i,a,o);if(xe(n)){let c=new ze(null);return l.getNode().forEachChild(Ho,(u,h)=>{c=c.set(new Ye(u),h)}),q_(t,e,n,c,s,i,a,o)}else return e}else{let c=new ze(null);return r.foreach((u,h)=>{const f=xt(n,u);l.isCompleteForPath(f)&&(c=c.set(u,l.getNode().getChild(f)))}),q_(t,e,n,c,s,i,a,o)}}function Gq(t,e,n,r,s){const i=e.serverCache,o=wk(e,i.getNode(),i.isFullyInitialized()||xe(n),i.isFiltered());return kk(t,o,n,r,bk,s)}function Kq(t,e,n,r,s,i){let o;if(jh(r,n)!=null)return e;{const a=new QE(r,e,s),l=e.eventCache.getNode();let c;if(xe(n)||Ae(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=H_(r,Ui(e));else{const h=e.serverCache.getNode();G(h instanceof De,"serverChildren would be complete if leaf node"),u=xk(r,h)}u=u,c=t.filter.updateFullNode(l,u,i)}else{const u=Ae(n);let h=KE(r,u,e.serverCache);h==null&&e.serverCache.isCompleteForChild(u)&&(h=l.getImmediateChild(u)),h!=null?c=t.filter.updateChild(l,u,h,He(n),a,i):e.eventCache.getNode().hasChild(u)?c=t.filter.updateChild(l,u,De.EMPTY_NODE,He(n),a,i):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=H_(r,Ui(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,i)))}return o=e.serverCache.isFullyInitialized()||jh(r,je())!=null,Vl(e,c,o,t.filter.filtersNodes())}}function Qq(t,e){const n=Ui(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!xe(e)&&!n.getImmediateChild(Ae(e)).isEmpty())?n.getChild(e):null}function JT(t,e,n,r){e.type===_r.MERGE&&e.source.queryId!==null&&(G(Ui(t.viewCache_),"We should always have a full cache before handling merges"),G(U_(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=zq(t.processor_,s,e,n,r);return Bq(t.processor_,i.viewCache),G(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,Yq(t,i.changes,i.viewCache.eventCache.getNode(),null)}function Yq(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return Tq(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ZT;function Xq(t){G(!ZT,"__referenceConstructor has already been defined"),ZT=t}function YE(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return G(i!=null,"SyncTree gave us an op for an invalid query."),JT(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(JT(o,e,n,r));return i}}function XE(t,e){let n=null;for(const r of t.views.values())n=n||Qq(r,e);return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eC;function Jq(t){G(!eC,"__referenceConstructor has already been defined"),eC=t}class tC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=$q(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Zq(t,e,n,r,s){return xq(t.pendingWriteTree_,e,n,r,s),s?hp(t,new Fi(vk(),e,n)):[]}function xo(t,e,n=!1){const r=Nq(t.pendingWriteTree_,e);if(Aq(t.pendingWriteTree_,e)){let i=new ze(null);return r.snap!=null?i=i.set(je(),!0):Gn(r.children,o=>{i=i.set(new Ye(o),!0)}),hp(t,new $h(r.path,i,n))}else return[]}function dp(t,e,n){return hp(t,new Fi(yk(),e,n))}function eG(t,e,n){const r=ze.fromObject(n);return hp(t,new Ic(yk(),e,r))}function tG(t,e,n,r){const s=Dk(t,r);if(s!=null){const i=Mk(s),o=i.path,a=i.queryId,l=Fn(o,e),c=new Fi(Ek(a),l,n);return Vk(t,o,c)}else return[]}function nG(t,e,n,r){const s=Dk(t,r);if(s){const i=Mk(s),o=i.path,a=i.queryId,l=Fn(o,e),c=ze.fromObject(n),u=new Ic(Ek(a),l,c);return Vk(t,o,u)}else return[]}function Pk(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=Fn(o,e),c=XE(a,l);if(c)return c});return Rk(s,e,i,n,!0)}function hp(t,e){return Lk(e,t.syncPointTree_,null,Ck(t.pendingWriteTree_,je()))}function Lk(t,e,n,r){if(xe(t.path))return Ok(t,e,n,r);{const s=e.get(je());n==null&&s!=null&&(n=XE(s,je()));let i=[];const o=Ae(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Nk(r,o);i=i.concat(Lk(a,l,c,u))}return s&&(i=i.concat(YE(s,t,r,n))),i}}function Ok(t,e,n,r){const s=e.get(je());n==null&&s!=null&&(n=XE(s,je()));let i=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Nk(r,o),u=t.operationForChild(o);u&&(i=i.concat(Ok(u,a,l,c)))}),s&&(i=i.concat(YE(s,t,r,n))),i}function Dk(t,e){return t.tagToQueryMap.get(e)}function Mk(t){const e=t.indexOf("$");return G(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ye(t.substr(0,e))}}function Vk(t,e,n){const r=t.syncPointTree_.get(e);G(r,"Missing sync point for query tag that we're tracking");const s=Ck(t.pendingWriteTree_,e);return YE(r,n,s,null)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new JE(n)}node(){return this.node_}}class ZE{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=xt(this.path_,e);return new ZE(this.syncTree_,n)}node(){return Pk(this.syncTree_,this.path_)}}const rG=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},nC=function(t,e,n){if(!t||typeof t!="object")return t;if(G(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return sG(t[".sv"],e,n);if(typeof t[".sv"]=="object")return iG(t[".sv"],e);G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},sG=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:G(!1,"Unexpected server value: "+t)}},iG=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&G(!1,"Unexpected increment value: "+r);const s=e.node();if(G(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},oG=function(t,e,n,r){return e0(e,new ZE(n,t),r)},aG=function(t,e,n){return e0(t,new JE(e),n)};function e0(t,e,n){const r=t.getPriority().val(),s=nC(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,a=nC(o.getValue(),e,n);return a!==o.getValue()||s!==o.getPriority().val()?new Tt(a,Gt(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new Tt(s))),o.forEachChild(Qt,(a,l)=>{const c=e0(l,e.getImmediateChild(a),n);c!==l&&(i=i.updateImmediateChild(a,c))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function n0(t,e){let n=e instanceof Ye?e:new Ye(e),r=t,s=Ae(n);for(;s!==null;){const i=Jo(r.node.children,s)||{children:{},childCount:0};r=new t0(s,r,i),n=He(n),s=Ae(n)}return r}function Oa(t){return t.node.value}function $k(t,e){t.node.value=e,G_(t)}function jk(t){return t.node.childCount>0}function lG(t){return Oa(t)===void 0&&!jk(t)}function fp(t,e){Gn(t.node.children,(n,r)=>{e(new t0(n,t,r))})}function Fk(t,e,n,r){n&&!r&&e(t),fp(t,s=>{Fk(s,e,!0,r)}),n&&r&&e(t)}function cG(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function du(t){return new Ye(t.parent===null?t.name:du(t.parent)+"/"+t.name)}function G_(t){t.parent!==null&&uG(t.parent,t.name,t)}function uG(t,e,n){const r=lG(n),s=hs(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,G_(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,G_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dG=/[\[\].#$\/\u0000-\u001F\u007F]/,hG=/[\[\].#$\u0000-\u001F\u007F]/,$m=10*1024*1024,Uk=function(t){return typeof t=="string"&&t.length!==0&&!dG.test(t)},fG=function(t){return typeof t=="string"&&t.length!==0&&!hG.test(t)},pG=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),fG(t)},Bk=function(t,e,n){const r=n instanceof Ye?new G5(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+di(r));if(typeof e=="function")throw new Error(t+"contains a function "+di(r)+" with contents = "+e.toString());if(Fb(e))throw new Error(t+"contains "+e.toString()+" "+di(r));if(typeof e=="string"&&e.length>$m/3&&cf(e)>$m)throw new Error(t+"contains a string greater than "+$m+" utf8 bytes "+di(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(Gn(e,(o,a)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!Uk(o)))throw new Error(t+" contains an invalid key ("+o+") "+di(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);K5(r,o),Bk(t,a,r),Q5(r)}),s&&i)throw new Error(t+' contains ".value" child '+di(r)+" in addition to actual children.")}},mG=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!Uk(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!pG(n))throw new Error(DM(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gG{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _G(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!uk(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function Zi(t,e,n){_G(t,n),vG(t,r=>nr(r,e)||nr(e,r))}function vG(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?(yG(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function yG(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ci&&qt("event: "+n.toString()),cu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EG="repo_interrupt",SG=25;class wG{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gG,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vh(),this.transactionQueueTree_=new t0,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function TG(t,e,n){if(t.stats_=BE(t.repoInfo_),t.forceRestClient_||v5())t.server_=new Mh(t.repoInfo_,(r,s,i,o)=>{rC(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Dt(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Yr(t.repoInfo_,e,(r,s,i,o)=>{rC(t,r,s,i,o)},r=>{sC(t,r)},r=>{IG(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=T5(t.repoInfo_,()=>new wq(t.stats_,t.server_)),t.infoData_=new _q,t.infoSyncTree_=new tC({startListening:(r,s,i,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=dp(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),r0(t,"connected",!1),t.serverSyncTree_=new tC({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(a,l)=>{const c=o(a,l);Zi(t.eventQueue_,r._path,c)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function CG(t){const n=t.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function zk(t){return rG({timestamp:CG(t)})}function rC(t,e,n,r,s){t.dataUpdateCount++;const i=new Ye(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const l=ih(n,c=>Gt(c));o=nG(t.serverSyncTree_,i,l,s)}else{const l=Gt(n);o=tG(t.serverSyncTree_,i,l,s)}else if(r){const l=ih(n,c=>Gt(c));o=eG(t.serverSyncTree_,i,l)}else{const l=Gt(n);o=dp(t.serverSyncTree_,i,l)}let a=i;o.length>0&&(a=i0(t,i)),Zi(t.eventQueue_,a,o)}function sC(t,e){r0(t,"connected",e),e===!1&&xG(t)}function IG(t,e){Gn(e,(n,r)=>{r0(t,n,r)})}function r0(t,e,n){const r=new Ye("/.info/"+e),s=Gt(n);t.infoData_.updateSnapshot(r,s);const i=dp(t.infoSyncTree_,r,s);Zi(t.eventQueue_,r,i)}function RG(t){return t.nextWriteId_++}function xG(t){Hk(t,"onDisconnectEvents");const e=zk(t),n=Vh();F_(t.onDisconnect_,je(),(s,i)=>{const o=oG(s,i,t.serverSyncTree_,e);_k(n,s,o)});let r=[];F_(n,je(),(s,i)=>{r=r.concat(dp(t.serverSyncTree_,s,i));const o=kG(t,s);i0(t,o)}),t.onDisconnect_=Vh(),Zi(t.eventQueue_,je(),r)}function NG(t){t.persistentConnection_&&t.persistentConnection_.interrupt(EG)}function Hk(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),qt(n,...e)}function Wk(t,e,n){return Pk(t.serverSyncTree_,e,n)||De.EMPTY_NODE}function s0(t,e=t.transactionQueueTree_){if(e||pp(t,e),Oa(e)){const n=Gk(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&AG(t,du(e),n)}else jk(e)&&fp(e,n=>{s0(t,n)})}function AG(t,e,n){const r=n.map(c=>c.currentWriteId),s=Wk(t,e,r);let i=s;const o=s.hash();for(let c=0;c<n.length;c++){const u=n[c];G(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const h=Fn(e,u.path);i=i.updateChild(h,u.currentOutputSnapshotRaw)}const a=i.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Hk(t,"transaction put response",{path:l.toString(),status:c});let u=[];if(c==="ok"){const h=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(xo(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&h.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();pp(t,n0(t.transactionQueueTree_,e)),s0(t,t.transactionQueueTree_),Zi(t.eventQueue_,e,u);for(let f=0;f<h.length;f++)cu(h[f])}else{if(c==="datastale")for(let h=0;h<n.length;h++)n[h].status===3?n[h].status=4:n[h].status=0;else{xn("transaction at "+l.toString()+" failed: "+c);for(let h=0;h<n.length;h++)n[h].status=4,n[h].abortReason=c}i0(t,e)}},o)}function i0(t,e){const n=qk(t,e),r=du(n),s=Gk(t,n);return bG(t,s,r),r}function bG(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=Fn(n,l.path);let u=!1,h;if(G(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)u=!0,h=l.abortReason,s=s.concat(xo(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=SG)u=!0,h="maxretry",s=s.concat(xo(t.serverSyncTree_,l.currentWriteId,!0));else{const f=Wk(t,l.path,o);l.currentInputSnapshot=f;const p=e[a].update(f.val());if(p!==void 0){Bk("transaction failed: Data returned ",p,l.path);let m=Gt(p);typeof p=="object"&&p!=null&&hs(p,".priority")||(m=m.updatePriority(f.getPriority()));const y=l.currentWriteId,_=zk(t),v=aG(m,f,_);l.currentOutputSnapshotRaw=m,l.currentOutputSnapshotResolved=v,l.currentWriteId=RG(t),o.splice(o.indexOf(y),1),s=s.concat(Zq(t.serverSyncTree_,l.path,v,l.currentWriteId,l.applyLocally)),s=s.concat(xo(t.serverSyncTree_,y,!0))}else u=!0,h="nodata",s=s.concat(xo(t.serverSyncTree_,l.currentWriteId,!0))}Zi(t.eventQueue_,n,s),s=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}pp(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)cu(r[a]);s0(t,t.transactionQueueTree_)}function qk(t,e){let n,r=t.transactionQueueTree_;for(n=Ae(e);n!==null&&Oa(r)===void 0;)r=n0(r,n),e=He(e),n=Ae(e);return r}function Gk(t,e){const n=[];return Kk(t,e,n),n.sort((r,s)=>r.order-s.order),n}function Kk(t,e,n){const r=Oa(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);fp(e,s=>{Kk(t,s,n)})}function pp(t,e){const n=Oa(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,$k(e,n.length>0?n:void 0)}fp(e,r=>{pp(t,r)})}function kG(t,e){const n=du(qk(t,e)),r=n0(t.transactionQueueTree_,e);return cG(r,s=>{jm(t,s)}),jm(t,r),Fk(r,s=>{jm(t,s)}),n}function jm(t,e){const n=Oa(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(G(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(G(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(xo(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?$k(e,void 0):n.length=i+1,Zi(t.eventQueue_,du(e),s);for(let o=0;o<r.length;o++)cu(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PG(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function LG(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):xn(`Invalid query segment '${n}' in query '${t}'`)}return e}const iC=function(t,e){const n=OG(t),r=n.namespace;n.domain==="firebase.com"&&cs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&cs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||u5();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Jb(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new Ye(n.pathString)}},OG=function(t){let e="",n="",r="",s="",i="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");u===-1&&(u=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(u,h)),u<h&&(s=PG(t.substring(u,h)));const f=LG(t.substring(Math.min(t.length,h)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const p=e.slice(0,c);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),n=e.substring(m+1),i=r}"ns"in f&&(i=f.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return xe(this._path)?null:ak(this._path)}get ref(){return new Da(this._repo,this._path)}get _queryIdentifier(){const e=HT(this._queryParams),n=FE(e);return n==="{}"?"default":n}get _queryObject(){return HT(this._queryParams)}isEqual(e){if(e=yt(e),!(e instanceof o0))return!1;const n=this._repo===e._repo,r=uk(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+q5(this._path)}}class Da extends o0{constructor(e,n){super(e,n,new qE,!1)}get parent(){const e=ck(this._path);return e===null?null:new Da(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}Xq(Da);Jq(Da);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DG="FIREBASE_DATABASE_EMULATOR_HOST",K_={};let MG=!1;function VG(t,e,n,r){t.repoInfo_=new Jb(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function $G(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||cs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),qt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=iC(i,s),a=o.repoInfo,l,c;typeof process<"u"&&process.env&&(c=process.env[DG]),c?(l=!0,i=`http://${c}?ns=${a.namespace}`,o=iC(i,s),a=o.repoInfo):l=!o.repoInfo.secure;const u=s&&l?new zo(zo.OWNER):new E5(t.name,t.options,e);mG("Invalid Firebase Database URL",o),xe(o.path)||cs("Database URL must point to the root of a Firebase Database (not including a child path).");const h=FG(a,t,u,new y5(t.name,n));return new UG(h,t)}function jG(t,e){const n=K_[e];(!n||n[t.key]!==t)&&cs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),NG(t),delete n[t.key]}function FG(t,e,n,r){let s=K_[e.name];s||(s={},K_[e.name]=s);let i=s[t.toURLString()];return i&&cs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new wG(t,MG,n,r),s[t.toURLString()]=i,i}class UG{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(TG(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Da(this._repo,je())),this._rootInternal}_delete(){return this._rootInternal!==null&&(jG(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&cs("Cannot call "+e+" on a deleted database.")}}function BG(t=iy(),e){const n=df(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=i1("database");r&&zG(n,...r)}return n}function zG(t,e,n,r={}){t=yt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&cs("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&cs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new zo(zo.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:l1(r.mockUserToken,t.app.options.projectId);i=new zo(o)}VG(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HG(t){i5(ei),qs(new ns("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return $G(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Bn(RT,xT,t),Bn(RT,xT,"esm2017")}Yr.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Yr.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};HG();const WG={apiKey:"AIzaSyBSaPFkAnkoc_uu_xR9LUvHL1Cc8mOWcyc",authDomain:"mybbs-5642f.firebaseapp.com",projectId:"mybbs-5642f",storageBucket:"mybbs-5642f.appspot.com",messagingSenderId:"210742350834",appId:"1:210742350834:web:a65b2a1d7d470593a3516b",databaseURL:"https://mybbs-5642f-default-rtdb.asia-southeast1.firebasedatabase.app/",measurementId:"G-SZ9V5BHSER"},Qk=p1(WG),eo=$W(Qk),qG=BG(Qk);console.log(qG);const GG=Oy({key:"textState",default:"2312312"}),KG=Oy({key:"sss",default:{a:1,b:2}}),mp=Oy({key:"atomStore",default:{state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"],todos:"fdsssssss",saying:"sssssssss",count:0}}}),et={state:{userInfo:{stat:!1,uid:!1,email:null,nick:null,avatar:null,liked:[]},avatar:["https://cdn-icons-png.flaticon.com/128/3899/3899618.png","https://cdn-icons-png.flaticon.com/128/805/805370.png ","https://cdn-icons-png.flaticon.com/128/1154/1154448.png","https://cdn-icons-png.flaticon.com/128/1211/1211015.png","https://cdn-icons-png.flaticon.com/128/949/949635.png","https://cdn-icons-png.flaticon.com/128/4322/4322992.png","https://cdn-icons-png.flaticon.com/128/547/547413.png","https://cdn-icons-png.flaticon.com/128/4322/4322991.png","https://cdn-icons-png.flaticon.com/128/4202/4202843.png","https://cdn-icons-png.flaticon.com/128/2589/2589136.png","https://cdn-icons-png.flaticon.com/128/1785/1785918.png","https://cdn-icons-png.flaticon.com/128/4139/4139993.png","https://cdn-icons-png.flaticon.com/128/1154/1154473.png","https://cdn-icons-png.flaticon.com/128/4532/4532510.png"],todos:"fdsssssss",saying:"sssssssss",count:0},authState:()=>{const t=ss();ff(t,n=>{if(n){e(n),sessionStorage.setItem("user",JSON.stringify(n));return}sessionStorage.removeItem("user"),et.state.userInfo={},et.state.userInfo.stat=!1,console.log("logout 된 상태",et.state.userInfo),console.table(et.state.userInfo)});const e=async n=>{const r=Pa(eo,"member",n.uid);try{const s=await $E(r);et.state.userInfo.stat=!0,et.state.userInfo.email=s.data().email,et.state.userInfo.avatar=s.data().avatar,et.state.userInfo.nick=s.data().nick,et.state.userInfo.displayName=s.data().nick,et.state.userInfo.uid=n.uid,et.state.userInfo.liked=s.data().liked||[];const i=JSON.parse(sessionStorage.getItem("user"));i.avatar=s.data().avatar,i.photoURL=s.data().photoURL,i.displayName=s.data().nick,i.nick=s.data().nick,i.liked=s.data().liked||[],i.stat=!0,sessionStorage.setItem("user",JSON.stringify(i)),et.state.userInfo=i}catch(s){console.log(s)}}}};et.authState();window.store=et;const QG=async()=>{let t={},e;if(sessionStorage!=null&&sessionStorage.user)e=JSON.parse(sessionStorage==null?void 0:sessionStorage.user).uid;else{const r=ss();if(!e)return;ff(r,s=>{e=s.uid})}const n=Pa(eo,"member",e);try{t=(await $E(n)).data(),t.uid=e,t.stat=!0}catch(r){console.error(r)}return t};function oo({prop:t}){let e=Sn();const n=un(),r=En();n.pathname;const[s,i]=T.useState({});T.useEffect(()=>(i(sessionStorage.user&&JSON.parse(sessionStorage.user)),QG().then(a=>{console.log(a),i(l=>({...l,...a}))}),()=>{}),[s==null?void 0:s.uid,s==null?void 0:s.nick,s==null?void 0:s.displayName,s==null?void 0:s.stat]),console.log(s);const o=()=>{te.confirm("리액트 보다 쀼가 짱입니까?",{ycb:function(){console.log("컴펌 예"),window.location.href="https://kimkee.github.io/vue"},ncb:function(){console.log("컴펌 아뇨")},ybt:"마자요!",nbt:"아니오!"})};return d.jsx("header",{className:`header ${t.headerType}`,children:d.jsxs("div",{className:"inr",children:[d.jsxs("div",{className:"ldt",children:[t.headerType=="main"?d.jsxs("h1",{className:"logo",children:[" ",d.jsx(gt,{to:"/home/",className:"btlogo",children:d.jsx("i",{className:"fa-brands fa-vuejs"})})]}):d.jsxs("button",{type:"button",className:"bt back",onClick:()=>r(-1),children:[d.jsx("i",{className:"fa-regular fa-arrow-left"}),"뒤로"]}),e.id?d.jsx("h3",{className:"htit",children:et.state.userInfo.nick}):null]}),d.jsxs("div",{className:"rdt",children:[((s==null?void 0:s.stat)||(s==null?void 0:s.uid))&&d.jsxs(Mn,{to:`/user/${s==null?void 0:s.uid}`,className:"user",children:[d.jsx("span",{className:"pic",children:d.jsx("img",{alt:"",className:"img",src:et.state.avatar[s.avatar]||s.photoURL})}),d.jsx("span",{className:"txt",children:s.nick||s.displayName})]}),!(s!=null&&s.uid)&&d.jsxs(Mn,{to:"/user/signin",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Login"})]}),d.jsxs("button",{type:"button",onClick:o,className:"bt gnb",children:[d.jsx("i",{className:"fa-regular fa-bars"}),d.jsx("b",{children:"메뉴"})]})]})]})})}function ao(){const t=un(),e=c=>t.pathname.includes(`${c}`)?"active":"",[n,r]=T.useState(""),s=()=>{te.lock.stat||(te.viewport.scrollTop()>50?r(!0):r(!1))},i=()=>{te.scrollTo("body",0,200)},o=ss(),[a,l]=T.useState({});return T.useEffect(()=>(window.addEventListener("scroll",s),l(sessionStorage.user&&JSON.parse(sessionStorage.user)),ff(o,c=>{l(c?u=>({...u,...JSON.parse(sessionStorage.user)}):{})}),()=>{window.removeEventListener("scroll",s)}),[a==null?void 0:a.uid]),d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`floatnav ${n?"on-top":""}`,children:d.jsxs("button",{type:"button",className:"bt top",onClick:i,children:[d.jsx("i",{className:"fa-solid fa-arrow-up"}),d.jsx("em",{children:"위로"})]})}),d.jsx("nav",{id:"menubar",className:"menubar",children:d.jsx("div",{className:"inr",children:d.jsxs("ul",{className:"menu",children:[d.jsx("li",{className:e("home"),children:d.jsxs(Mn,{to:"/home/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-house"}),d.jsx("em",{children:"Home"})]})}),d.jsx("li",{className:e("list/movie"),children:d.jsxs(Mn,{to:"/list/movie/0/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-clapperboard-play"}),d.jsx("em",{children:"Movie"})]})}),d.jsx("li",{className:e("list/tv"),children:d.jsxs(Mn,{to:"/list/tv/0/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-tv-retro"}),d.jsx("em",{children:"TV"})]})}),d.jsx("li",{className:e("search/movie"),children:d.jsxs(Mn,{to:"/search/movie/",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-search"}),d.jsx("em",{children:"Search"})]})}),d.jsxs("li",{className:e("user/"),children:[(et.state.userInfo.stat||(a==null?void 0:a.uid))&&d.jsxs(Mn,{to:`/user/${a.uid}`,className:"bt",children:[" ",d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Mypage"})]}),!(a!=null&&a.uid)&&d.jsxs(Mn,{to:"/user/signin",className:"bt",children:[d.jsx("i",{className:"fa-regular fa-user"}),d.jsx("em",{children:"Login"})]})]})]})})})]})}function Yk(t,e){return function(){return t.apply(e,arguments)}}const{toString:YG}=Object.prototype,{getPrototypeOf:a0}=Object,gp=(t=>e=>{const n=YG.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),br=t=>(t=t.toLowerCase(),e=>gp(e)===t),_p=t=>e=>typeof e===t,{isArray:Ma}=Array,Rc=_p("undefined");function XG(t){return t!==null&&!Rc(t)&&t.constructor!==null&&!Rc(t.constructor)&&zn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Xk=br("ArrayBuffer");function JG(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Xk(t.buffer),e}const ZG=_p("string"),zn=_p("function"),Jk=_p("number"),vp=t=>t!==null&&typeof t=="object",e8=t=>t===!0||t===!1,Rd=t=>{if(gp(t)!=="object")return!1;const e=a0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},t8=br("Date"),n8=br("File"),r8=br("Blob"),s8=br("FileList"),i8=t=>vp(t)&&zn(t.pipe),o8=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||zn(t.append)&&((e=gp(t))==="formdata"||e==="object"&&zn(t.toString)&&t.toString()==="[object FormData]"))},a8=br("URLSearchParams"),l8=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function hu(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,s;if(typeof t!="object"&&(t=[t]),Ma(t))for(r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let a;for(r=0;r<o;r++)a=i[r],e.call(null,t[a],a,t)}}function Zk(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,s;for(;r-- >0;)if(s=n[r],e===s.toLowerCase())return s;return null}const eP=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),tP=t=>!Rc(t)&&t!==eP;function Q_(){const{caseless:t}=tP(this)&&this||{},e={},n=(r,s)=>{const i=t&&Zk(e,s)||s;Rd(e[i])&&Rd(r)?e[i]=Q_(e[i],r):Rd(r)?e[i]=Q_({},r):Ma(r)?e[i]=r.slice():e[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&hu(arguments[r],n);return e}const c8=(t,e,n,{allOwnKeys:r}={})=>(hu(e,(s,i)=>{n&&zn(s)?t[i]=Yk(s,n):t[i]=s},{allOwnKeys:r}),t),u8=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),d8=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},h8=(t,e,n,r)=>{let s,i,o;const a={};if(e=e||{},t==null)return e;do{for(s=Object.getOwnPropertyNames(t),i=s.length;i-- >0;)o=s[i],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&a0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},f8=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},p8=t=>{if(!t)return null;if(Ma(t))return t;let e=t.length;if(!Jk(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},m8=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&a0(Uint8Array)),g8=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let s;for(;(s=r.next())&&!s.done;){const i=s.value;e.call(t,i[0],i[1])}},_8=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},v8=br("HTMLFormElement"),y8=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),oC=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),E8=br("RegExp"),nP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};hu(n,(s,i)=>{e(s,i,t)!==!1&&(r[i]=s)}),Object.defineProperties(t,r)},S8=t=>{nP(t,(e,n)=>{if(zn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(zn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},w8=(t,e)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return Ma(t)?r(t):r(String(t).split(e)),n},T8=()=>{},C8=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Fm="abcdefghijklmnopqrstuvwxyz",aC="0123456789",rP={DIGIT:aC,ALPHA:Fm,ALPHA_DIGIT:Fm+Fm.toUpperCase()+aC},I8=(t=16,e=rP.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function R8(t){return!!(t&&zn(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const x8=t=>{const e=new Array(10),n=(r,s)=>{if(vp(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[s]=r;const i=Ma(r)?[]:{};return hu(r,(o,a)=>{const l=n(o,s+1);!Rc(l)&&(i[a]=l)}),e[s]=void 0,i}}return r};return n(t,0)},N8=br("AsyncFunction"),A8=t=>t&&(vp(t)||zn(t))&&zn(t.then)&&zn(t.catch),D={isArray:Ma,isArrayBuffer:Xk,isBuffer:XG,isFormData:o8,isArrayBufferView:JG,isString:ZG,isNumber:Jk,isBoolean:e8,isObject:vp,isPlainObject:Rd,isUndefined:Rc,isDate:t8,isFile:n8,isBlob:r8,isRegExp:E8,isFunction:zn,isStream:i8,isURLSearchParams:a8,isTypedArray:m8,isFileList:s8,forEach:hu,merge:Q_,extend:c8,trim:l8,stripBOM:u8,inherits:d8,toFlatObject:h8,kindOf:gp,kindOfTest:br,endsWith:f8,toArray:p8,forEachEntry:g8,matchAll:_8,isHTMLForm:v8,hasOwnProperty:oC,hasOwnProp:oC,reduceDescriptors:nP,freezeMethods:S8,toObjectSet:w8,toCamelCase:y8,noop:T8,toFiniteNumber:C8,findKey:Zk,global:eP,isContextDefined:tP,ALPHABET:rP,generateString:I8,isSpecCompliantForm:R8,toJSONObject:x8,isAsyncFn:N8,isThenable:A8};function Pe(t,e,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s)}D.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:D.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const sP=Pe.prototype,iP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{iP[t]={value:t}});Object.defineProperties(Pe,iP);Object.defineProperty(sP,"isAxiosError",{value:!0});Pe.from=(t,e,n,r,s,i)=>{const o=Object.create(sP);return D.toFlatObject(t,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Pe.call(o,t.message,e,n,r,s),o.cause=t,o.name=t.name,i&&Object.assign(o,i),o};const b8=null;function Y_(t){return D.isPlainObject(t)||D.isArray(t)}function oP(t){return D.endsWith(t,"[]")?t.slice(0,-2):t}function lC(t,e,n){return t?t.concat(e).map(function(s,i){return s=oP(s),!n&&i?"["+s+"]":s}).join(n?".":""):e}function k8(t){return D.isArray(t)&&!t.some(Y_)}const P8=D.toFlatObject(D,{},null,function(e){return/^is[A-Z]/.test(e)});function yp(t,e,n){if(!D.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=D.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,y){return!D.isUndefined(y[g])});const r=n.metaTokens,s=n.visitor||u,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&D.isSpecCompliantForm(e);if(!D.isFunction(s))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(D.isDate(m))return m.toISOString();if(!l&&D.isBlob(m))throw new Pe("Blob is not supported. Use a Buffer instead.");return D.isArrayBuffer(m)||D.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,y){let _=m;if(m&&!y&&typeof m=="object"){if(D.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(D.isArray(m)&&k8(m)||(D.isFileList(m)||D.endsWith(g,"[]"))&&(_=D.toArray(m)))return g=oP(g),_.forEach(function(E,w){!(D.isUndefined(E)||E===null)&&e.append(o===!0?lC([g],w,i):o===null?g:g+"[]",c(E))}),!1}return Y_(m)?!0:(e.append(lC(y,g,i),c(m)),!1)}const h=[],f=Object.assign(P8,{defaultVisitor:u,convertValue:c,isVisitable:Y_});function p(m,g){if(!D.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));h.push(m),D.forEach(m,function(_,v){(!(D.isUndefined(_)||_===null)&&s.call(e,_,D.isString(v)?v.trim():v,g,f))===!0&&p(_,g?g.concat(v):[v])}),h.pop()}}if(!D.isObject(t))throw new TypeError("data must be an object");return p(t),e}function cC(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function l0(t,e){this._pairs=[],t&&yp(t,this,e)}const aP=l0.prototype;aP.append=function(e,n){this._pairs.push([e,n])};aP.toString=function(e){const n=e?function(r){return e.call(this,r,cC)}:cC;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function L8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function lP(t,e,n){if(!e)return t;const r=n&&n.encode||L8,s=n&&n.serialize;let i;if(s?i=s(e,n):i=D.isURLSearchParams(e)?e.toString():new l0(e,n).toString(r),i){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class O8{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){D.forEach(this.handlers,function(r){r!==null&&e(r)})}}const uC=O8,cP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},D8=typeof URLSearchParams<"u"?URLSearchParams:l0,M8=typeof FormData<"u"?FormData:null,V8=typeof Blob<"u"?Blob:null,$8=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),j8=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),vr={isBrowser:!0,classes:{URLSearchParams:D8,FormData:M8,Blob:V8},isStandardBrowserEnv:$8,isStandardBrowserWebWorkerEnv:j8,protocols:["http","https","file","blob","url","data"]};function F8(t,e){return yp(t,new vr.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return vr.isNode&&D.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function U8(t){return D.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function B8(t){const e={},n=Object.keys(t);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],e[i]=t[i];return e}function uP(t){function e(n,r,s,i){let o=n[i++];const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&D.isArray(s)?s.length:o,l?(D.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!D.isObject(s[o]))&&(s[o]=[]),e(n,r,s[o],i)&&D.isArray(s[o])&&(s[o]=B8(s[o])),!a)}if(D.isFormData(t)&&D.isFunction(t.entries)){const n={};return D.forEachEntry(t,(r,s)=>{e(U8(r),s,n,0)}),n}return null}const z8={"Content-Type":void 0};function H8(t,e,n){if(D.isString(t))try{return(e||JSON.parse)(t),D.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Ep={transitional:cP,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=D.isObject(e);if(i&&D.isHTMLForm(e)&&(e=new FormData(e)),D.isFormData(e))return s&&s?JSON.stringify(uP(e)):e;if(D.isArrayBuffer(e)||D.isBuffer(e)||D.isStream(e)||D.isFile(e)||D.isBlob(e))return e;if(D.isArrayBufferView(e))return e.buffer;if(D.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return F8(e,this.formSerializer).toString();if((a=D.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return yp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),H8(e)):e}],transformResponse:[function(e){const n=this.transitional||Ep.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(e&&D.isString(e)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Pe.from(a,Pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:vr.classes.FormData,Blob:vr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};D.forEach(["delete","get","head"],function(e){Ep.headers[e]={}});D.forEach(["post","put","patch"],function(e){Ep.headers[e]=D.merge(z8)});const c0=Ep,W8=D.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),q8=t=>{const e={};let n,r,s;return t&&t.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||e[n]&&W8[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},dC=Symbol("internals");function sl(t){return t&&String(t).trim().toLowerCase()}function xd(t){return t===!1||t==null?t:D.isArray(t)?t.map(xd):String(t)}function G8(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const K8=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Um(t,e,n,r,s){if(D.isFunction(r))return r.call(this,e,n);if(s&&(e=n),!!D.isString(e)){if(D.isString(r))return e.indexOf(r)!==-1;if(D.isRegExp(r))return r.test(e)}}function Q8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function Y8(t,e){const n=D.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(s,i,o){return this[r].call(this,e,s,i,o)},configurable:!0})})}class Sp{constructor(e){e&&this.set(e)}set(e,n,r){const s=this;function i(a,l,c){const u=sl(l);if(!u)throw new Error("header name must be a non-empty string");const h=D.findKey(s,u);(!h||s[h]===void 0||c===!0||c===void 0&&s[h]!==!1)&&(s[h||l]=xd(a))}const o=(a,l)=>D.forEach(a,(c,u)=>i(c,u,l));return D.isPlainObject(e)||e instanceof this.constructor?o(e,n):D.isString(e)&&(e=e.trim())&&!K8(e)?o(q8(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=sl(e),e){const r=D.findKey(this,e);if(r){const s=this[r];if(!n)return s;if(n===!0)return G8(s);if(D.isFunction(n))return n.call(this,s,r);if(D.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=sl(e),e){const r=D.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Um(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let s=!1;function i(o){if(o=sl(o),o){const a=D.findKey(r,o);a&&(!n||Um(r,r[a],a,n))&&(delete r[a],s=!0)}}return D.isArray(e)?e.forEach(i):i(e),s}clear(e){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!e||Um(this,this[i],i,e,!0))&&(delete this[i],s=!0)}return s}normalize(e){const n=this,r={};return D.forEach(this,(s,i)=>{const o=D.findKey(r,i);if(o){n[o]=xd(s),delete n[i];return}const a=e?Q8(i):String(i).trim();a!==i&&delete n[i],n[a]=xd(s),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return D.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=e&&D.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(s=>r.set(s)),r}static accessor(e){const r=(this[dC]=this[dC]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=sl(o);r[a]||(Y8(s,o),r[a]=!0)}return D.isArray(e)?e.forEach(i):i(e),this}}Sp.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);D.freezeMethods(Sp.prototype);D.freezeMethods(Sp);const Xr=Sp;function Bm(t,e){const n=this||c0,r=e||n,s=Xr.from(r.headers);let i=r.data;return D.forEach(t,function(a){i=a.call(n,i,s.normalize(),e?e.status:void 0)}),s.normalize(),i}function dP(t){return!!(t&&t.__CANCEL__)}function fu(t,e,n){Pe.call(this,t??"canceled",Pe.ERR_CANCELED,e,n),this.name="CanceledError"}D.inherits(fu,Pe,{__CANCEL__:!0});function X8(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const J8=vr.isStandardBrowserEnv?function(){return{write:function(n,r,s,i,o,a){const l=[];l.push(n+"="+encodeURIComponent(r)),D.isNumber(s)&&l.push("expires="+new Date(s).toGMTString()),D.isString(i)&&l.push("path="+i),D.isString(o)&&l.push("domain="+o),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function Z8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function eK(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function hP(t,e){return t&&!Z8(e)?eK(t,e):e}const tK=vr.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return e&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=D.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function nK(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function rK(t,e){t=t||10;const n=new Array(t),r=new Array(t);let s=0,i=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];o||(o=c),n[s]=l,r[s]=c;let h=i,f=0;for(;h!==s;)f+=n[h++],h=h%t;if(s=(s+1)%t,s===i&&(i=(i+1)%t),c-o<e)return;const p=u&&c-u;return p?Math.round(f*1e3/p):void 0}}function hC(t,e){let n=0;const r=rK(50,250);return s=>{const i=s.loaded,o=s.lengthComputable?s.total:void 0,a=i-n,l=r(a),c=i<=o;n=i;const u={loaded:i,total:o,progress:o?i/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&c?(o-i)/l:void 0,event:s};u[e?"download":"upload"]=!0,t(u)}}const sK=typeof XMLHttpRequest<"u",iK=sK&&function(t){return new Promise(function(n,r){let s=t.data;const i=Xr.from(t.headers).normalize(),o=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}D.isFormData(s)&&(vr.isStandardBrowserEnv||vr.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const p=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(p+":"+m))}const u=hP(t.baseURL,t.url);c.open(t.method.toUpperCase(),lP(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function h(){if(!c)return;const p=Xr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:p,config:t,request:c};X8(function(_){n(_),l()},function(_){r(_),l()},g),c=null}if("onloadend"in c?c.onloadend=h:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(h)},c.onabort=function(){c&&(r(new Pe("Request aborted",Pe.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new Pe("Network Error",Pe.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||cP;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new Pe(m,g.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,t,c)),c=null},vr.isStandardBrowserEnv){const p=(t.withCredentials||tK(u))&&t.xsrfCookieName&&J8.read(t.xsrfCookieName);p&&i.set(t.xsrfHeaderName,p)}s===void 0&&i.setContentType(null),"setRequestHeader"in c&&D.forEach(i.toJSON(),function(m,g){c.setRequestHeader(g,m)}),D.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",hC(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",hC(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=p=>{c&&(r(!p||p.type?new fu(null,t,c):p),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const f=nK(u);if(f&&vr.protocols.indexOf(f)===-1){r(new Pe("Unsupported protocol "+f+":",Pe.ERR_BAD_REQUEST,t));return}c.send(s||null)})},Nd={http:b8,xhr:iK};D.forEach(Nd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const oK={getAdapter:t=>{t=D.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let s=0;s<e&&(n=t[s],!(r=D.isString(n)?Nd[n.toLowerCase()]:n));s++);if(!r)throw r===!1?new Pe(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(D.hasOwnProp(Nd,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!D.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:Nd};function zm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fu(null,t)}function fC(t){return zm(t),t.headers=Xr.from(t.headers),t.data=Bm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),oK.getAdapter(t.adapter||c0.adapter)(t).then(function(r){return zm(t),r.data=Bm.call(t,t.transformResponse,r),r.headers=Xr.from(r.headers),r},function(r){return dP(r)||(zm(t),r&&r.response&&(r.response.data=Bm.call(t,t.transformResponse,r.response),r.response.headers=Xr.from(r.response.headers))),Promise.reject(r)})}const pC=t=>t instanceof Xr?t.toJSON():t;function pa(t,e){e=e||{};const n={};function r(c,u,h){return D.isPlainObject(c)&&D.isPlainObject(u)?D.merge.call({caseless:h},c,u):D.isPlainObject(u)?D.merge({},u):D.isArray(u)?u.slice():u}function s(c,u,h){if(D.isUndefined(u)){if(!D.isUndefined(c))return r(void 0,c,h)}else return r(c,u,h)}function i(c,u){if(!D.isUndefined(u))return r(void 0,u)}function o(c,u){if(D.isUndefined(u)){if(!D.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,h){if(h in e)return r(c,u);if(h in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,u)=>s(pC(c),pC(u),!0)};return D.forEach(Object.keys(Object.assign({},t,e)),function(u){const h=l[u]||s,f=h(t[u],e[u],u);D.isUndefined(f)&&h!==a||(n[u]=f)}),n}const fP="1.4.0",u0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{u0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const mC={};u0.transitional=function(e,n,r){function s(i,o){return"[Axios v"+fP+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(e===!1)throw new Pe(s(o," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!mC[o]&&(mC[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,o,a):!0}};function aK(t,e,n){if(typeof t!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let s=r.length;for(;s-- >0;){const i=r[s],o=e[i];if(o){const a=t[i],l=a===void 0||o(a,i,t);if(l!==!0)throw new Pe("option "+i+" must be "+l,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+i,Pe.ERR_BAD_OPTION)}}const X_={assertOptions:aK,validators:u0},_s=X_.validators;class Uh{constructor(e){this.defaults=e,this.interceptors={request:new uC,response:new uC}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=pa(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&X_.assertOptions(r,{silentJSONParsing:_s.transitional(_s.boolean),forcedJSONParsing:_s.transitional(_s.boolean),clarifyTimeoutError:_s.transitional(_s.boolean)},!1),s!=null&&(D.isFunction(s)?n.paramsSerializer={serialize:s}:X_.assertOptions(s,{encode:_s.function,serialize:_s.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o;o=i&&D.merge(i.common,i[n.method]),o&&D.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=Xr.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,h=0,f;if(!l){const m=[fC.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),f=m.length,u=Promise.resolve(n);h<f;)u=u.then(m[h++],m[h++]);return u}f=a.length;let p=n;for(h=0;h<f;){const m=a[h++],g=a[h++];try{p=m(p)}catch(y){g.call(this,y);break}}try{u=fC.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)u=u.then(c[h++],c[h++]);return u}getUri(e){e=pa(this.defaults,e);const n=hP(e.baseURL,e.url);return lP(n,e.params,e.paramsSerializer)}}D.forEach(["delete","get","head","options"],function(e){Uh.prototype[e]=function(n,r){return this.request(pa(r||{},{method:e,url:n,data:(r||{}).data}))}});D.forEach(["post","put","patch"],function(e){function n(r){return function(i,o,a){return this.request(pa(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Uh.prototype[e]=n(),Uh.prototype[e+"Form"]=n(!0)});const Ad=Uh;class d0{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},e(function(i,o,a){r.reason||(r.reason=new fu(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new d0(function(s){e=s}),cancel:e}}}const lK=d0;function cK(t){return function(n){return t.apply(null,n)}}function uK(t){return D.isObject(t)&&t.isAxiosError===!0}const J_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(J_).forEach(([t,e])=>{J_[e]=t});const dK=J_;function pP(t){const e=new Ad(t),n=Yk(Ad.prototype.request,e);return D.extend(n,Ad.prototype,e,{allOwnKeys:!0}),D.extend(n,e,null,{allOwnKeys:!0}),n.create=function(s){return pP(pa(t,s))},n}const Et=pP(c0);Et.Axios=Ad;Et.CanceledError=fu;Et.CancelToken=lK;Et.isCancel=dP;Et.VERSION=fP;Et.toFormData=yp;Et.AxiosError=Pe;Et.Cancel=Et.CanceledError;Et.all=function(e){return Promise.all(e)};Et.spread=cK;Et.isAxiosError=uK;Et.mergeConfig=pa;Et.AxiosHeaders=Xr;Et.formToJSON=t=>uP(D.isHTMLForm(t)?new FormData(t):t);Et.HttpStatusCode=dK;Et.default=Et;const Zt=Et;function gC(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function h0(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:gC(e[n])&&gC(t[n])&&Object.keys(e[n]).length>0&&h0(t[n],e[n])})}const mP={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function At(){const t=typeof document<"u"?document:{};return h0(t,mP),t}const hK={document:mP,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Pt(){const t=typeof window<"u"?window:{};return h0(t,hK),t}function fK(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class xs extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),fK(this))}}function pu(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...pu(n)):e.push(n)}),e}function gP(t,e){return Array.prototype.filter.call(t,e)}function pK(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function mK(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let s=0;s<r.length;s+=1)n.push(r[s]);return n}function W(t,e){const n=Pt(),r=At();let s=[];if(!e&&t instanceof xs)return t;if(!t)return new xs(s);if(typeof t=="string"){const i=t.trim();if(i.indexOf("<")>=0&&i.indexOf(">")>=0){let o="div";i.indexOf("<li")===0&&(o="ul"),i.indexOf("<tr")===0&&(o="tbody"),(i.indexOf("<td")===0||i.indexOf("<th")===0)&&(o="tr"),i.indexOf("<tbody")===0&&(o="table"),i.indexOf("<option")===0&&(o="select");const a=r.createElement(o);a.innerHTML=i;for(let l=0;l<a.childNodes.length;l+=1)s.push(a.childNodes[l])}else s=mK(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof xs)return t;s=t}return new xs(pK(s))}W.fn=xs.prototype;function gK(...t){const e=pu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function _K(...t){const e=pu(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function vK(...t){const e=pu(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function yK(...t){const e=pu(t.map(n=>n.split(" ")));return gP(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function EK(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function SK(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function wK(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function TK(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function CK(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);function i(c){const u=c.target;if(!u)return;const h=c.target.dom7EventData||[];if(h.indexOf(c)<0&&h.unshift(c),W(u).is(n))r.apply(u,h);else{const f=W(u).parents();for(let p=0;p<f.length;p+=1)W(f[p]).is(n)&&r.apply(f[p],h)}}function o(c){const u=c&&c.target?c.target.dom7EventData||[]:[];u.indexOf(c)<0&&u.unshift(c),r.apply(this,u)}const a=e.split(" ");let l;for(let c=0;c<this.length;c+=1){const u=this[c];if(n)for(l=0;l<a.length;l+=1){const h=a[l];u.dom7LiveListeners||(u.dom7LiveListeners={}),u.dom7LiveListeners[h]||(u.dom7LiveListeners[h]=[]),u.dom7LiveListeners[h].push({listener:r,proxyListener:i}),u.addEventListener(h,i,s)}else for(l=0;l<a.length;l+=1){const h=a[l];u.dom7Listeners||(u.dom7Listeners={}),u.dom7Listeners[h]||(u.dom7Listeners[h]=[]),u.dom7Listeners[h].push({listener:r,proxyListener:o}),u.addEventListener(h,o,s)}}return this}function IK(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);const i=e.split(" ");for(let o=0;o<i.length;o+=1){const a=i[o];for(let l=0;l<this.length;l+=1){const c=this[l];let u;if(!n&&c.dom7Listeners?u=c.dom7Listeners[a]:n&&c.dom7LiveListeners&&(u=c.dom7LiveListeners[a]),u&&u.length)for(let h=u.length-1;h>=0;h-=1){const f=u[h];r&&f.listener===r||r&&f.listener&&f.listener.dom7proxy&&f.listener.dom7proxy===r?(c.removeEventListener(a,f.proxyListener,s),u.splice(h,1)):r||(c.removeEventListener(a,f.proxyListener,s),u.splice(h,1))}}}return this}function RK(...t){const e=Pt(),n=t[0].split(" "),r=t[1];for(let s=0;s<n.length;s+=1){const i=n[s];for(let o=0;o<this.length;o+=1){const a=this[o];if(e.CustomEvent){const l=new e.CustomEvent(i,{detail:r,bubbles:!0,cancelable:!0});a.dom7EventData=t.filter((c,u)=>u>0),a.dispatchEvent(l),a.dom7EventData=[],delete a.dom7EventData}}}return this}function xK(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function NK(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function AK(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function bK(){if(this.length>0){const t=Pt(),e=At(),n=this[0],r=n.getBoundingClientRect(),s=e.body,i=n.clientTop||s.clientTop||0,o=n.clientLeft||s.clientLeft||0,a=n===t?t.scrollY:n.scrollTop,l=n===t?t.scrollX:n.scrollLeft;return{top:r.top+a-i,left:r.left+l-o}}return null}function kK(){const t=Pt();return this[0]?t.getComputedStyle(this[0],null):{}}function PK(t,e){const n=Pt();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const s in t)this[r].style[s]=t[s];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function LK(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function OK(t){const e=gP(this,t);return W(e)}function DK(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function MK(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function VK(t){const e=Pt(),n=At(),r=this[0];let s,i;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=W(t),i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof xs){for(s=t.nodeType?[t]:t,i=0;i<s.length;i+=1)if(s[i]===r)return!0;return!1}return!1}function $K(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function jK(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return W([]);if(t<0){const n=e+t;return n<0?W([]):W([this[n]])}return W([this[t]])}function FK(...t){let e;const n=At();for(let r=0;r<t.length;r+=1){e=t[r];for(let s=0;s<this.length;s+=1)if(typeof e=="string"){const i=n.createElement("div");for(i.innerHTML=e;i.firstChild;)this[s].appendChild(i.firstChild)}else if(e instanceof xs)for(let i=0;i<e.length;i+=1)this[s].appendChild(e[i]);else this[s].appendChild(e)}return this}function UK(t){const e=At();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const s=e.createElement("div");for(s.innerHTML=t,r=s.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(s.childNodes[r],this[n].childNodes[0])}else if(t instanceof xs)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function BK(t){return this.length>0?t?this[0].nextElementSibling&&W(this[0].nextElementSibling).is(t)?W([this[0].nextElementSibling]):W([]):this[0].nextElementSibling?W([this[0].nextElementSibling]):W([]):W([])}function zK(t){const e=[];let n=this[0];if(!n)return W([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?W(r).is(t)&&e.push(r):e.push(r),n=r}return W(e)}function HK(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&W(e.previousElementSibling).is(t)?W([e.previousElementSibling]):W([]):e.previousElementSibling?W([e.previousElementSibling]):W([])}return W([])}function WK(t){const e=[];let n=this[0];if(!n)return W([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?W(r).is(t)&&e.push(r):e.push(r),n=r}return W(e)}function qK(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?W(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return W(e)}function GK(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?W(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return W(e)}function KK(t){let e=this;return typeof t>"u"?W([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function QK(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let s=0;s<r.length;s+=1)e.push(r[s])}return W(e)}function YK(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let s=0;s<r.length;s+=1)(!t||W(r[s]).is(t))&&e.push(r[s])}return W(e)}function XK(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const _C={addClass:gK,removeClass:_K,hasClass:yK,toggleClass:vK,attr:EK,removeAttr:SK,transform:wK,transition:TK,on:CK,off:IK,trigger:RK,transitionEnd:xK,outerWidth:NK,outerHeight:AK,styles:kK,offset:bK,css:PK,each:LK,html:DK,text:MK,is:VK,index:$K,eq:jK,append:FK,prepend:UK,next:BK,nextAll:zK,prev:HK,prevAll:WK,parent:qK,parents:GK,closest:KK,find:QK,children:YK,filter:OK,remove:XK};Object.keys(_C).forEach(t=>{Object.defineProperty(W.fn,t,{value:_C[t],writable:!0})});function JK(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function xc(t,e=0){return setTimeout(t,e)}function Nc(){return Date.now()}function ZK(t){const e=Pt();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function e7(t,e="x"){const n=Pt();let r,s,i;const o=ZK(t);return n.WebKitCSSMatrix?(s=o.transform||o.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(a=>a.replace(",",".")).join(", ")),i=new n.WebKitCSSMatrix(s==="none"?"":s)):(i=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=i.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=i.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=i.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Zu(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function t7(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Cn(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!t7(s)){const i=Object.keys(Object(s)).filter(o=>n.indexOf(o)<0);for(let o=0,a=i.length;o<a;o+=1){const l=i[o],c=Object.getOwnPropertyDescriptor(s,l);c!==void 0&&c.enumerable&&(Zu(e[l])&&Zu(s[l])?s[l].__swiper__?e[l]=s[l]:Cn(e[l],s[l]):!Zu(e[l])&&Zu(s[l])?(e[l]={},s[l].__swiper__?e[l]=s[l]:Cn(e[l],s[l])):e[l]=s[l])}}}return e}function ed(t,e,n){t.style.setProperty(e,n)}function _P({swiper:t,targetPosition:e,side:n}){const r=Pt(),s=-t.translate;let i=null,o;const a=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const l=e>s?"next":"prev",c=(h,f)=>l==="next"&&h>=f||l==="prev"&&h<=f,u=()=>{o=new Date().getTime(),i===null&&(i=o);const h=Math.max(Math.min((o-i)/a,1),0),f=.5-Math.cos(h*Math.PI)/2;let p=s+f*(e-s);if(c(p,e)&&(p=e),t.wrapperEl.scrollTo({[n]:p}),c(p,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:p})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(u)};u()}let Hm;function n7(){const t=Pt(),e=At();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const s=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,s)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function vP(){return Hm||(Hm=n7()),Hm}let Wm;function r7({userAgent:t}={}){const e=vP(),n=Pt(),r=n.navigator.platform,s=t||n.navigator.userAgent,i={ios:!1,android:!1},o=n.screen.width,a=n.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let c=s.match(/(iPad).*OS\s([\d_]+)/);const u=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!c&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=r==="Win32";let p=r==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!c&&p&&e.touch&&m.indexOf(`${o}x${a}`)>=0&&(c=s.match(/(Version)\/([\d.]+)/),c||(c=[0,1,"13_0_0"]),p=!1),l&&!f&&(i.os="android",i.android=!0),(c||h||u)&&(i.os="ios",i.ios=!0),i}function s7(t={}){return Wm||(Wm=r7(t)),Wm}let qm;function i7(){const t=Pt();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function o7(){return qm||(qm=i7()),qm}function a7({swiper:t,on:e,emit:n}){const r=Pt();let s=null,i=null;const o=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},a=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(u=>{i=r.requestAnimationFrame(()=>{const{width:h,height:f}=t;let p=h,m=f;u.forEach(({contentBoxSize:g,contentRect:y,target:_})=>{_&&_!==t.el||(p=y?y.width:(g[0]||g).inlineSize,m=y?y.height:(g[0]||g).blockSize)}),(p!==h||m!==f)&&o()})}),s.observe(t.el))},l=()=>{i&&r.cancelAnimationFrame(i),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},c=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){a();return}r.addEventListener("resize",o),r.addEventListener("orientationchange",c)}),e("destroy",()=>{l(),r.removeEventListener("resize",o),r.removeEventListener("orientationchange",c)})}function l7({swiper:t,extendParams:e,on:n,emit:r}){const s=[],i=Pt(),o=(c,u={})=>{const h=i.MutationObserver||i.WebkitMutationObserver,f=new h(p=>{if(p.length===1){r("observerUpdate",p[0]);return}const m=function(){r("observerUpdate",p[0])};i.requestAnimationFrame?i.requestAnimationFrame(m):i.setTimeout(m,0)});f.observe(c,{attributes:typeof u.attributes>"u"?!0:u.attributes,childList:typeof u.childList>"u"?!0:u.childList,characterData:typeof u.characterData>"u"?!0:u.characterData}),s.push(f)},a=()=>{if(t.params.observer){if(t.params.observeParents){const c=t.$el.parents();for(let u=0;u<c.length;u+=1)o(c[u])}o(t.$el[0],{childList:t.params.observeSlideChildren}),o(t.$wrapperEl[0],{attributes:!1})}},l=()=>{s.forEach(c=>{c.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",a),n("destroy",l)}const c7={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(i=>{r.eventsListeners[i]||(r.eventsListeners[i]=[]),r.eventsListeners[i][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...i){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,i)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,i)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(i,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(o=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(a=>{a.apply(s,[o,...r])}),e.eventsListeners&&e.eventsListeners[o]&&e.eventsListeners[o].forEach(a=>{a.apply(s,r)})}),e}};function u7(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function d7(){const t=this;function e(O){return t.isHorizontal()?O:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[O]}function n(O,k){return parseFloat(O.getPropertyValue(e(k))||0)}const r=t.params,{$wrapperEl:s,size:i,rtlTranslate:o,wrongRTL:a}=t,l=t.virtual&&r.virtual.enabled,c=l?t.virtual.slides.length:t.slides.length,u=s.children(`.${t.params.slideClass}`),h=l?t.virtual.slides.length:u.length;let f=[];const p=[],m=[];let g=r.slidesOffsetBefore;typeof g=="function"&&(g=r.slidesOffsetBefore.call(t));let y=r.slidesOffsetAfter;typeof y=="function"&&(y=r.slidesOffsetAfter.call(t));const _=t.snapGrid.length,v=t.slidesGrid.length;let E=r.spaceBetween,w=-g,S=0,R=0;if(typeof i>"u")return;typeof E=="string"&&E.indexOf("%")>=0&&(E=parseFloat(E.replace("%",""))/100*i),t.virtualSize=-E,o?u.css({marginLeft:"",marginBottom:"",marginTop:""}):u.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(ed(t.wrapperEl,"--swiper-centered-offset-before",""),ed(t.wrapperEl,"--swiper-centered-offset-after",""));const b=r.grid&&r.grid.rows>1&&t.grid;b&&t.grid.initSlides(h);let P;const H=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(O=>typeof r.breakpoints[O].slidesPerView<"u").length>0;for(let O=0;O<h;O+=1){P=0;const k=u.eq(O);if(b&&t.grid.updateSlide(O,k,h,e),k.css("display")!=="none"){if(r.slidesPerView==="auto"){H&&(u[O].style[e("width")]="");const N=getComputedStyle(k[0]),A=k[0].style.transform,z=k[0].style.webkitTransform;if(A&&(k[0].style.transform="none"),z&&(k[0].style.webkitTransform="none"),r.roundLengths)P=t.isHorizontal()?k.outerWidth(!0):k.outerHeight(!0);else{const ie=n(N,"width"),Ee=n(N,"padding-left"),we=n(N,"padding-right"),$=n(N,"margin-left"),q=n(N,"margin-right"),j=N.getPropertyValue("box-sizing");if(j&&j==="border-box")P=ie+$+q;else{const{clientWidth:Z,offsetWidth:I}=k[0];P=ie+Ee+we+$+q+(I-Z)}}A&&(k[0].style.transform=A),z&&(k[0].style.webkitTransform=z),r.roundLengths&&(P=Math.floor(P))}else P=(i-(r.slidesPerView-1)*E)/r.slidesPerView,r.roundLengths&&(P=Math.floor(P)),u[O]&&(u[O].style[e("width")]=`${P}px`);u[O]&&(u[O].swiperSlideSize=P),m.push(P),r.centeredSlides?(w=w+P/2+S/2+E,S===0&&O!==0&&(w=w-i/2-E),O===0&&(w=w-i/2-E),Math.abs(w)<1/1e3&&(w=0),r.roundLengths&&(w=Math.floor(w)),R%r.slidesPerGroup===0&&f.push(w),p.push(w)):(r.roundLengths&&(w=Math.floor(w)),(R-Math.min(t.params.slidesPerGroupSkip,R))%t.params.slidesPerGroup===0&&f.push(w),p.push(w),w=w+P+E),t.virtualSize+=P+E,S=P,R+=1}}if(t.virtualSize=Math.max(t.virtualSize,i)+y,o&&a&&(r.effect==="slide"||r.effect==="coverflow")&&s.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&s.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),b&&t.grid.updateWrapperSize(P,f,e),!r.centeredSlides){const O=[];for(let k=0;k<f.length;k+=1){let N=f[k];r.roundLengths&&(N=Math.floor(N)),f[k]<=t.virtualSize-i&&O.push(N)}f=O,Math.floor(t.virtualSize-i)-Math.floor(f[f.length-1])>1&&f.push(t.virtualSize-i)}if(f.length===0&&(f=[0]),r.spaceBetween!==0){const O=t.isHorizontal()&&o?"marginLeft":e("marginRight");u.filter((k,N)=>r.cssMode?N!==u.length-1:!0).css({[O]:`${E}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let O=0;m.forEach(N=>{O+=N+(r.spaceBetween?r.spaceBetween:0)}),O-=r.spaceBetween;const k=O-i;f=f.map(N=>N<0?-g:N>k?k+y:N)}if(r.centerInsufficientSlides){let O=0;if(m.forEach(k=>{O+=k+(r.spaceBetween?r.spaceBetween:0)}),O-=r.spaceBetween,O<i){const k=(i-O)/2;f.forEach((N,A)=>{f[A]=N-k}),p.forEach((N,A)=>{p[A]=N+k})}}if(Object.assign(t,{slides:u,snapGrid:f,slidesGrid:p,slidesSizesGrid:m}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){ed(t.wrapperEl,"--swiper-centered-offset-before",`${-f[0]}px`),ed(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const O=-t.snapGrid[0],k=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(N=>N+O),t.slidesGrid=t.slidesGrid.map(N=>N+k)}if(h!==c&&t.emit("slidesLengthChange"),f.length!==_&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),p.length!==v&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!l&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const O=`${r.containerModifierClass}backface-hidden`,k=t.$el.hasClass(O);h<=r.maxBackfaceHiddenSlides?k||t.$el.addClass(O):k&&t.$el.removeClass(O)}}function h7(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,i;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides.filter(l=>parseInt(l.getAttribute("data-swiper-slide-index"),10)===a)[0]:e.slides.eq(a)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||W([])).each(a=>{n.push(a)});else for(i=0;i<Math.ceil(e.params.slidesPerView);i+=1){const a=e.activeIndex+i;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(i=0;i<n.length;i+=1)if(typeof n[i]<"u"){const a=n[i].offsetHeight;s=a>s?a:s}(s||s===0)&&e.$wrapperEl.css("height",`${s}px`)}function f7(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function p7(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:i}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;s&&(o=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let a=0;a<r.length;a+=1){const l=r[a];let c=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(c-=r[0].swiperSlideOffset);const u=(o+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),h=(o-i[0]+(n.centeredSlides?e.minTranslate():0)-c)/(l.swiperSlideSize+n.spaceBetween),f=-(o-c),p=f+e.slidesSizesGrid[a];(f>=0&&f<e.size-1||p>1&&p<=e.size||f<=0&&p>=e.size)&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(a),r.eq(a).addClass(n.slideVisibleClass)),l.progress=s?-u:u,l.originalProgress=s?-h:h}e.visibleSlides=W(e.visibleSlides)}function m7(t){const e=this;if(typeof t>"u"){const c=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*c||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:i,isEnd:o}=e;const a=i,l=o;r===0?(s=0,i=!0,o=!0):(s=(t-e.minTranslate())/r,i=s<=0,o=s>=1),Object.assign(e,{progress:s,isBeginning:i,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),i&&!a&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(a&&!i||l&&!o)&&e.emit("fromEdge"),e.emit("progress",s)}function g7(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:s,realIndex:i}=t,o=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let a;o?a=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${s}"]`):a=e.eq(s),a.addClass(n.slideActiveClass),n.loop&&(a.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${i}"]`).addClass(n.slideDuplicateActiveClass));let l=a.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&l.length===0&&(l=e.eq(0),l.addClass(n.slideNextClass));let c=a.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&c.length===0&&(c=e.eq(-1),c.addClass(n.slidePrevClass)),n.loop&&(l.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${l.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),c.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${c.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function _7(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:s,params:i,activeIndex:o,realIndex:a,snapIndex:l}=e;let c=t,u;if(typeof c>"u"){for(let f=0;f<r.length;f+=1)typeof r[f+1]<"u"?n>=r[f]&&n<r[f+1]-(r[f+1]-r[f])/2?c=f:n>=r[f]&&n<r[f+1]&&(c=f+1):n>=r[f]&&(c=f);i.normalizeSlideIndex&&(c<0||typeof c>"u")&&(c=0)}if(s.indexOf(n)>=0)u=s.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,c);u=f+Math.floor((c-f)/i.slidesPerGroup)}if(u>=s.length&&(u=s.length-1),c===o){u!==l&&(e.snapIndex=u,e.emit("snapIndexChange"));return}const h=parseInt(e.slides.eq(c).attr("data-swiper-slide-index")||c,10);Object.assign(e,{snapIndex:u,realIndex:h,previousIndex:o,activeIndex:c}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),a!==h&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function v7(t){const e=this,n=e.params,r=W(t).closest(`.${n.slideClass}`)[0];let s=!1,i;if(r){for(let o=0;o<e.slides.length;o+=1)if(e.slides[o]===r){s=!0,i=o;break}}if(r&&s)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(W(r).attr("data-swiper-slide-index"),10):e.clickedIndex=i;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const y7={updateSize:u7,updateSlides:d7,updateAutoHeight:h7,updateSlidesOffset:f7,updateSlidesProgress:p7,updateProgress:m7,updateSlidesClasses:g7,updateActiveIndex:_7,updateClickedSlide:v7};function E7(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,$wrapperEl:i}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let o=e7(i[0],t);return r&&(o=-o),o||0}function S7(t,e){const n=this,{rtlTranslate:r,params:s,$wrapperEl:i,wrapperEl:o,progress:a}=n;let l=0,c=0;const u=0;n.isHorizontal()?l=r?-t:t:c=t,s.roundLengths&&(l=Math.floor(l),c=Math.floor(c)),s.cssMode?o[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-c:s.virtualTranslate||i.transform(`translate3d(${l}px, ${c}px, ${u}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:c;let h;const f=n.maxTranslate()-n.minTranslate();f===0?h=0:h=(t-n.minTranslate())/f,h!==a&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function w7(){return-this.snapGrid[0]}function T7(){return-this.snapGrid[this.snapGrid.length-1]}function C7(t=0,e=this.params.speed,n=!0,r=!0,s){const i=this,{params:o,wrapperEl:a}=i;if(i.animating&&o.preventInteractionOnTransition)return!1;const l=i.minTranslate(),c=i.maxTranslate();let u;if(r&&t>l?u=l:r&&t<c?u=c:u=t,i.updateProgress(u),o.cssMode){const h=i.isHorizontal();if(e===0)a[h?"scrollLeft":"scrollTop"]=-u;else{if(!i.support.smoothScroll)return _P({swiper:i,targetPosition:-u,side:h?"left":"top"}),!0;a.scrollTo({[h?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(i.setTransition(0),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionEnd"))):(i.setTransition(e),i.setTranslate(u),n&&(i.emit("beforeTransitionStart",e,s),i.emit("transitionStart")),i.animating||(i.animating=!0,i.onTranslateToWrapperTransitionEnd||(i.onTranslateToWrapperTransitionEnd=function(f){!i||i.destroyed||f.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd),i.onTranslateToWrapperTransitionEnd=null,delete i.onTranslateToWrapperTransitionEnd,n&&i.emit("transitionEnd"))}),i.$wrapperEl[0].addEventListener("transitionend",i.onTranslateToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onTranslateToWrapperTransitionEnd))),!0}const I7={getTranslate:E7,setTranslate:S7,minTranslate:w7,maxTranslate:T7,translateTo:C7};function R7(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function yP({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:i}=t;let o=n;if(o||(s>i?o="next":s<i?o="prev":o="reset"),t.emit(`transition${r}`),e&&s!==i){if(o==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),o==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function x7(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),yP({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function N7(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),yP({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const A7={setTransition:R7,transitionStart:x7,transitionEnd:N7};function b7(t=0,e=this.params.speed,n=!0,r,s){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const E=parseInt(t,10);if(!isFinite(E))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=E}const i=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:l,slidesGrid:c,previousIndex:u,activeIndex:h,rtlTranslate:f,wrapperEl:p,enabled:m}=i;if(i.animating&&a.preventInteractionOnTransition||!m&&!r&&!s)return!1;const g=Math.min(i.params.slidesPerGroupSkip,o);let y=g+Math.floor((o-g)/i.params.slidesPerGroup);y>=l.length&&(y=l.length-1);const _=-l[y];if(a.normalizeSlideIndex)for(let E=0;E<c.length;E+=1){const w=-Math.floor(_*100),S=Math.floor(c[E]*100),R=Math.floor(c[E+1]*100);typeof c[E+1]<"u"?w>=S&&w<R-(R-S)/2?o=E:w>=S&&w<R&&(o=E+1):w>=S&&(o=E)}if(i.initialized&&o!==h&&(!i.allowSlideNext&&_<i.translate&&_<i.minTranslate()||!i.allowSlidePrev&&_>i.translate&&_>i.maxTranslate()&&(h||0)!==o))return!1;o!==(u||0)&&n&&i.emit("beforeSlideChangeStart"),i.updateProgress(_);let v;if(o>h?v="next":o<h?v="prev":v="reset",f&&-_===i.translate||!f&&_===i.translate)return i.updateActiveIndex(o),a.autoHeight&&i.updateAutoHeight(),i.updateSlidesClasses(),a.effect!=="slide"&&i.setTranslate(_),v!=="reset"&&(i.transitionStart(n,v),i.transitionEnd(n,v)),!1;if(a.cssMode){const E=i.isHorizontal(),w=f?_:-_;if(e===0){const S=i.virtual&&i.params.virtual.enabled;S&&(i.wrapperEl.style.scrollSnapType="none",i._immediateVirtual=!0),p[E?"scrollLeft":"scrollTop"]=w,S&&requestAnimationFrame(()=>{i.wrapperEl.style.scrollSnapType="",i._swiperImmediateVirtual=!1})}else{if(!i.support.smoothScroll)return _P({swiper:i,targetPosition:w,side:E?"left":"top"}),!0;p.scrollTo({[E?"left":"top"]:w,behavior:"smooth"})}return!0}return i.setTransition(e),i.setTranslate(_),i.updateActiveIndex(o),i.updateSlidesClasses(),i.emit("beforeTransitionStart",e,r),i.transitionStart(n,v),e===0?i.transitionEnd(n,v):i.animating||(i.animating=!0,i.onSlideToWrapperTransitionEnd||(i.onSlideToWrapperTransitionEnd=function(w){!i||i.destroyed||w.target===this&&(i.$wrapperEl[0].removeEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].removeEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd),i.onSlideToWrapperTransitionEnd=null,delete i.onSlideToWrapperTransitionEnd,i.transitionEnd(n,v))}),i.$wrapperEl[0].addEventListener("transitionend",i.onSlideToWrapperTransitionEnd),i.$wrapperEl[0].addEventListener("webkitTransitionEnd",i.onSlideToWrapperTransitionEnd)),!0}function k7(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const o=parseInt(t,10);if(!isFinite(o))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=o}const s=this;let i=t;return s.params.loop&&(i+=s.loopedSlides),s.slideTo(i,e,n,r)}function P7(t=this.params.speed,e=!0,n){const r=this,{animating:s,enabled:i,params:o}=r;if(!i)return r;let a=o.slidesPerGroup;o.slidesPerView==="auto"&&o.slidesPerGroup===1&&o.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const l=r.activeIndex<o.slidesPerGroupSkip?1:a;if(o.loop){if(s&&o.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return o.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+l,t,e,n)}function L7(t=this.params.speed,e=!0,n){const r=this,{params:s,animating:i,snapGrid:o,slidesGrid:a,rtlTranslate:l,enabled:c}=r;if(!c)return r;if(s.loop){if(i&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const u=l?r.translate:-r.translate;function h(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const f=h(u),p=o.map(y=>h(y));let m=o[p.indexOf(f)-1];if(typeof m>"u"&&s.cssMode){let y;o.forEach((_,v)=>{f>=_&&(y=v)}),typeof y<"u"&&(m=o[y>0?y-1:y])}let g=0;if(typeof m<"u"&&(g=a.indexOf(m),g<0&&(g=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(g=g-r.slidesPerViewDynamic("previous",!0)+1,g=Math.max(g,0))),s.rewind&&r.isBeginning){const y=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(y,t,e,n)}return r.slideTo(g,t,e,n)}function O7(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function D7(t=this.params.speed,e=!0,n,r=.5){const s=this;let i=s.activeIndex;const o=Math.min(s.params.slidesPerGroupSkip,i),a=o+Math.floor((i-o)/s.params.slidesPerGroup),l=s.rtlTranslate?s.translate:-s.translate;if(l>=s.snapGrid[a]){const c=s.snapGrid[a],u=s.snapGrid[a+1];l-c>(u-c)*r&&(i+=s.params.slidesPerGroup)}else{const c=s.snapGrid[a-1],u=s.snapGrid[a];l-c<=(u-c)*r&&(i-=s.params.slidesPerGroup)}return i=Math.max(i,0),i=Math.min(i,s.slidesGrid.length-1),s.slideTo(i,t,e,n)}function M7(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,i;if(e.loop){if(t.animating)return;i=parseInt(W(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),xc(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${i}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),xc(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}const V7={slideTo:b7,slideToLoop:k7,slideNext:P7,slidePrev:L7,slideReset:O7,slideToClosest:D7,slideToClickedSlide:M7};function $7(){const t=this,e=At(),{params:n,$wrapperEl:r}=t,s=r.children().length>0?W(r.children()[0].parentNode):r;s.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let i=s.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-i.length%n.slidesPerGroup;if(l!==n.slidesPerGroup){for(let c=0;c<l;c+=1){const u=W(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);s.append(u)}i=s.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=i.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>i.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=i.length);const o=[],a=[];i.each((l,c)=>{W(l).attr("data-swiper-slide-index",c)});for(let l=0;l<t.loopedSlides;l+=1){const c=l-Math.floor(l/i.length)*i.length;a.push(i.eq(c)[0]),o.unshift(i.eq(i.length-c-1)[0])}for(let l=0;l<a.length;l+=1)s.append(W(a[l].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let l=o.length-1;l>=0;l-=1)s.prepend(W(o[l].cloneNode(!0)).addClass(n.slideDuplicateClass))}function j7(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:s,allowSlideNext:i,snapGrid:o,rtlTranslate:a}=t;let l;t.allowSlidePrev=!0,t.allowSlideNext=!0;const u=-o[e]-t.getTranslate();e<r?(l=n.length-r*3+e,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)):e>=n.length-r&&(l=-n.length+e+r,l+=r,t.slideTo(l,0,!1,!0)&&u!==0&&t.setTranslate((a?-t.translate:t.translate)-u)),t.allowSlidePrev=s,t.allowSlideNext=i,t.emit("loopFix")}function F7(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const U7={loopCreate:$7,loopFix:j7,loopDestroy:F7};function B7(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function z7(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const H7={setGrabCursor:B7,unsetGrabCursor:z7};function W7(t,e=this){function n(r){if(!r||r===At()||r===Pt())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function q7(t){const e=this,n=At(),r=Pt(),s=e.touchEventsData,{params:i,touches:o,enabled:a}=e;if(!a||e.animating&&i.preventInteractionOnTransition)return;!e.animating&&i.cssMode&&i.loop&&e.loopFix();let l=t;l.originalEvent&&(l=l.originalEvent);let c=W(l.target);if(i.touchEventsTarget==="wrapper"&&!c.closest(e.wrapperEl).length||(s.isTouchEvent=l.type==="touchstart",!s.isTouchEvent&&"which"in l&&l.which===3)||!s.isTouchEvent&&"button"in l&&l.button>0||s.isTouched&&s.isMoved)return;const u=!!i.noSwipingClass&&i.noSwipingClass!=="",h=t.composedPath?t.composedPath():t.path;u&&l.target&&l.target.shadowRoot&&h&&(c=W(h[0]));const f=i.noSwipingSelector?i.noSwipingSelector:`.${i.noSwipingClass}`,p=!!(l.target&&l.target.shadowRoot);if(i.noSwiping&&(p?W7(f,c[0]):c.closest(f)[0])){e.allowClick=!0;return}if(i.swipeHandler&&!c.closest(i.swipeHandler)[0])return;o.currentX=l.type==="touchstart"?l.targetTouches[0].pageX:l.pageX,o.currentY=l.type==="touchstart"?l.targetTouches[0].pageY:l.pageY;const m=o.currentX,g=o.currentY,y=i.edgeSwipeDetection||i.iOSEdgeSwipeDetection,_=i.edgeSwipeThreshold||i.iOSEdgeSwipeThreshold;if(y&&(m<=_||m>=r.innerWidth-_))if(y==="prevent")t.preventDefault();else return;if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=m,o.startY=g,s.touchStartTime=Nc(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,i.threshold>0&&(s.allowThresholdMove=!1),l.type!=="touchstart"){let v=!0;c.is(s.focusableElements)&&(v=!1,c[0].nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&W(n.activeElement).is(s.focusableElements)&&n.activeElement!==c[0]&&n.activeElement.blur();const E=v&&e.allowTouchMove&&i.touchStartPreventDefault;(i.touchStartForcePreventDefault||E)&&!c[0].isContentEditable&&l.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!i.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",l)}function G7(t){const e=At(),n=this,r=n.touchEventsData,{params:s,touches:i,rtlTranslate:o,enabled:a}=n;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",l);return}if(r.isTouchEvent&&l.type!=="touchmove")return;const c=l.type==="touchmove"&&l.targetTouches&&(l.targetTouches[0]||l.changedTouches[0]),u=l.type==="touchmove"?c.pageX:l.pageX,h=l.type==="touchmove"?c.pageY:l.pageY;if(l.preventedByNestedSwiper){i.startX=u,i.startY=h;return}if(!n.allowTouchMove){W(l.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(i,{startX:u,startY:h,currentX:u,currentY:h}),r.touchStartTime=Nc());return}if(r.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(h<i.startY&&n.translate<=n.maxTranslate()||h>i.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(u<i.startX&&n.translate<=n.maxTranslate()||u>i.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&l.target===e.activeElement&&W(l.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",l),l.targetTouches&&l.targetTouches.length>1)return;i.currentX=u,i.currentY=h;const f=i.currentX-i.startX,p=i.currentY-i.startY;if(n.params.threshold&&Math.sqrt(f**2+p**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let _;n.isHorizontal()&&i.currentY===i.startY||n.isVertical()&&i.currentX===i.startX?r.isScrolling=!1:f*f+p*p>=25&&(_=Math.atan2(Math.abs(p),Math.abs(f))*180/Math.PI,r.isScrolling=n.isHorizontal()?_>s.touchAngle:90-_>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",l),typeof r.startMoving>"u"&&(i.currentX!==i.startX||i.currentY!==i.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&l.cancelable&&l.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&l.stopPropagation(),r.isMoved||(s.loop&&!s.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",l)),n.emit("sliderMove",l),r.isMoved=!0;let m=n.isHorizontal()?f:p;i.diff=m,m*=s.touchRatio,o&&(m=-m),n.swipeDirection=m>0?"prev":"next",r.currentTranslate=m+r.startTranslate;let g=!0,y=s.resistanceRatio;if(s.touchReleaseOnEdges&&(y=0),m>0&&r.currentTranslate>n.minTranslate()?(g=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+m)**y)):m<0&&r.currentTranslate<n.maxTranslate()&&(g=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-m)**y)),g&&(l.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(m)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,i.startX=i.currentX,i.startY=i.currentY,r.currentTranslate=r.startTranslate,i.diff=n.isHorizontal()?i.currentX-i.startX:i.currentY-i.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function K7(t){const e=this,n=e.touchEventsData,{params:r,touches:s,rtlTranslate:i,slidesGrid:o,enabled:a}=e;if(!a)return;let l=t;if(l.originalEvent&&(l=l.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",l),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const c=Nc(),u=c-n.touchStartTime;if(e.allowClick){const v=l.path||l.composedPath&&l.composedPath();e.updateClickedSlide(v&&v[0]||l.target),e.emit("tap click",l),u<300&&c-n.lastClickTime<300&&e.emit("doubleTap doubleClick",l)}if(n.lastClickTime=Nc(),xc(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let h;if(r.followFinger?h=i?e.translate:-e.translate:h=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:h});return}let f=0,p=e.slidesSizesGrid[0];for(let v=0;v<o.length;v+=v<r.slidesPerGroupSkip?1:r.slidesPerGroup){const E=v<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof o[v+E]<"u"?h>=o[v]&&h<o[v+E]&&(f=v,p=o[v+E]-o[v]):h>=o[v]&&(f=v,p=o[o.length-1]-o[o.length-2])}let m=null,g=null;r.rewind&&(e.isBeginning?g=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(m=0));const y=(h-o[f])/p,_=f<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(u>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(y>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?m:f+_):e.slideTo(f)),e.swipeDirection==="prev"&&(y>1-r.longSwipesRatio?e.slideTo(f+_):g!==null&&y<0&&Math.abs(y)>r.longSwipesRatio?e.slideTo(g):e.slideTo(f))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(l.target===e.navigation.nextEl||l.target===e.navigation.prevEl)?l.target===e.navigation.nextEl?e.slideTo(f+_):e.slideTo(f):(e.swipeDirection==="next"&&e.slideTo(m!==null?m:f+_),e.swipeDirection==="prev"&&e.slideTo(g!==null?g:f))}}function vC(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:i}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&i!==t.snapGrid&&t.checkOverflow()}function Q7(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function Y7(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const i=t.maxTranslate()-t.minTranslate();i===0?s=0:s=(t.translate-t.minTranslate())/i,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let yC=!1;function X7(){}const EP=(t,e)=>{const n=At(),{params:r,touchEvents:s,el:i,wrapperEl:o,device:a,support:l}=t,c=!!r.nested,u=e==="on"?"addEventListener":"removeEventListener",h=e;if(!l.touch)i[u](s.start,t.onTouchStart,!1),n[u](s.move,t.onTouchMove,c),n[u](s.end,t.onTouchEnd,!1);else{const f=s.start==="touchstart"&&l.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;i[u](s.start,t.onTouchStart,f),i[u](s.move,t.onTouchMove,l.passiveListener?{passive:!1,capture:c}:c),i[u](s.end,t.onTouchEnd,f),s.cancel&&i[u](s.cancel,t.onTouchEnd,f)}(r.preventClicks||r.preventClicksPropagation)&&i[u]("click",t.onClick,!0),r.cssMode&&o[u]("scroll",t.onScroll),r.updateOnWindowResize?t[h](a.ios||a.android?"resize orientationchange observerUpdate":"resize observerUpdate",vC,!0):t[h]("observerUpdate",vC,!0)};function J7(){const t=this,e=At(),{params:n,support:r}=t;t.onTouchStart=q7.bind(t),t.onTouchMove=G7.bind(t),t.onTouchEnd=K7.bind(t),n.cssMode&&(t.onScroll=Y7.bind(t)),t.onClick=Q7.bind(t),r.touch&&!yC&&(e.addEventListener("touchstart",X7),yC=!0),EP(t,"on")}function Z7(){EP(this,"off")}const eQ={attachEvents:J7,detachEvents:Z7},EC=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function tQ(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:s,$el:i}=t,o=s.breakpoints;if(!o||o&&Object.keys(o).length===0)return;const a=t.getBreakpoint(o,t.params.breakpointsBase,t.el);if(!a||t.currentBreakpoint===a)return;const c=(a in o?o[a]:void 0)||t.originalParams,u=EC(t,s),h=EC(t,c),f=s.enabled;u&&!h?(i.removeClass(`${s.containerModifierClass}grid ${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!u&&h&&(i.addClass(`${s.containerModifierClass}grid`),(c.grid.fill&&c.grid.fill==="column"||!c.grid.fill&&s.grid.fill==="column")&&i.addClass(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(y=>{const _=s[y]&&s[y].enabled,v=c[y]&&c[y].enabled;_&&!v&&t[y].disable(),!_&&v&&t[y].enable()});const p=c.direction&&c.direction!==s.direction,m=s.loop&&(c.slidesPerView!==s.slidesPerView||p);p&&n&&t.changeDirection(),Cn(t.params,c);const g=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!g?t.disable():!f&&g&&t.enable(),t.currentBreakpoint=a,t.emit("_beforeBreakpoint",c),m&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",c)}function nQ(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=Pt(),i=e==="window"?s.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const l=parseFloat(a.substr(1));return{value:i*l,point:a}}return{value:a,point:a}});o.sort((a,l)=>parseInt(a.value,10)-parseInt(l.value,10));for(let a=0;a<o.length;a+=1){const{point:l,value:c}=o[a];e==="window"?s.matchMedia(`(min-width: ${c}px)`).matches&&(r=l):c<=n.clientWidth&&(r=l)}return r||"max"}const rQ={setBreakpoint:tQ,getBreakpoint:nQ};function sQ(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function iQ(){const t=this,{classNames:e,params:n,rtl:r,$el:s,device:i,support:o}=t,a=sQ(["initialized",n.direction,{"pointer-events":!o.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:i.android},{ios:i.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...a),s.addClass([...e].join(" ")),t.emitContainerClasses()}function oQ(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const aQ={addClasses:iQ,removeClasses:oQ};function lQ(t,e,n,r,s,i){const o=Pt();let a;function l(){i&&i()}!W(t).parent("picture")[0]&&(!t.complete||!s)&&e?(a=new o.Image,a.onload=l,a.onerror=l,r&&(a.sizes=r),n&&(a.srcset=n),e&&(a.src=e)):l()}function cQ(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const uQ={loadImage:lQ,preloadImages:cQ};function dQ(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,i=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>i}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const hQ={checkOverflow:dQ},SC={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function fQ(t,e){return function(r={}){const s=Object.keys(r)[0],i=r[s];if(typeof i!="object"||i===null){Cn(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&t[s]===!0&&(t[s]={auto:!0}),!(s in t&&"enabled"in i)){Cn(e,r);return}t[s]===!0&&(t[s]={enabled:!0}),typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Cn(e,r)}}const Gm={eventsEmitter:c7,update:y7,translate:I7,transition:A7,slide:V7,loop:U7,grabCursor:H7,events:eQ,breakpoints:rQ,checkOverflow:hQ,classes:aQ,images:uQ},Km={};let ma=class Or{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Cn({},r),n&&!r.el&&(r.el=n),r.el&&W(r.el).length>1){const a=[];return W(r.el).each(l=>{const c=Cn({},r,{el:l});a.push(new Or(c))}),a}const s=this;s.__swiper__=!0,s.support=vP(),s.device=s7({userAgent:r.userAgent}),s.browser=o7(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const i={};s.modules.forEach(a=>{a({swiper:s,extendParams:fQ(r,i),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const o=Cn({},SC,i);return s.params=Cn({},o,Km,r),s.originalParams=Cn({},s.params),s.passedParams=Cn({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(a=>{s.on(a,s.params.on[a])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=W,Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:W(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const l=["touchstart","touchmove","touchend","touchcancel"],c=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:l[0],move:l[1],end:l[2],cancel:l[3]},s.touchEventsDesktop={start:c[0],move:c[1],end:c[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:Nc(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),o=(r.maxTranslate()-s)*e+s;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:i,slidesGrid:o,slidesSizesGrid:a,size:l,activeIndex:c}=r;let u=1;if(s.centeredSlides){let h=i[c].swiperSlideSize,f;for(let p=c+1;p<i.length;p+=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>l&&(f=!0));for(let p=c-1;p>=0;p-=1)i[p]&&!f&&(h+=i[p].swiperSlideSize,u+=1,h>l&&(f=!0))}else if(e==="current")for(let h=c+1;h<i.length;h+=1)(n?o[h]+a[h]-o[c]<l:o[h]-o[c]<l)&&(u+=1);else for(let h=c-1;h>=0;h-=1)o[c]-o[h]<l&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let i;e.params.freeMode&&e.params.freeMode.enabled?(s(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?i=e.slideTo(e.slides.length-1,0,!1,!0):i=e.slideTo(e.activeIndex,0,!1,!0),i||s()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${s}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(i=>{e==="vertical"?i.style.width="":i.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=W(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const a=W(e.shadowRoot.querySelector(s()));return a.children=l=>r.children(l),a}return r.children?r.children(s()):W(r).children(s())})();if(o.length===0&&n.params.createElements){const l=At().createElement("div");o=W(l),l.className=n.params.wrapperClass,r.append(l),r.children(`.${n.params.slideClass}`).each(c=>{o.append(c)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:o,wrapperEl:o[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:o.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:s,$el:i,$wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),i.removeAttr("style"),o.removeAttr("style"),a&&a.length&&a.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(l=>{r.off(l)}),e!==!1&&(r.$el[0].swiper=null,JK(r)),r.destroyed=!0),null}static extendDefaults(e){Cn(Km,e)}static get extendedDefaults(){return Km}static get defaults(){return SC}static installModule(e){Or.prototype.__modules__||(Or.prototype.__modules__=[]);const n=Or.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Or.installModule(n)),Or):(Or.installModule(e),Or)}};Object.keys(Gm).forEach(t=>{Object.keys(Gm[t]).forEach(e=>{ma.prototype[e]=Gm[t][e]})});ma.use([a7,l7]);function f0(t,e,n,r){const s=At();return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let o=t.$el.children(`.${r[i]}`)[0];o||(o=s.createElement("div"),o.className=r[i],t.$el.append(o)),n[i]=o,e[i]=o}}),n}function wp({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function s(p){let m;return p&&(m=W(p),t.params.uniqueNavElements&&typeof p=="string"&&m.length>1&&t.$el.find(p).length===1&&(m=t.$el.find(p))),m}function i(p,m){const g=t.params.navigation;p&&p.length>0&&(p[m?"addClass":"removeClass"](g.disabledClass),p[0]&&p[0].tagName==="BUTTON"&&(p[0].disabled=m),t.params.watchOverflow&&t.enabled&&p[t.isLocked?"addClass":"removeClass"](g.lockClass))}function o(){if(t.params.loop)return;const{$nextEl:p,$prevEl:m}=t.navigation;i(m,t.isBeginning&&!t.params.rewind),i(p,t.isEnd&&!t.params.rewind)}function a(p){p.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function l(p){p.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function c(){const p=t.params.navigation;if(t.params.navigation=f0(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;const m=s(p.nextEl),g=s(p.prevEl);m&&m.length>0&&m.on("click",l),g&&g.length>0&&g.on("click",a),Object.assign(t.navigation,{$nextEl:m,nextEl:m&&m[0],$prevEl:g,prevEl:g&&g[0]}),t.enabled||(m&&m.addClass(p.lockClass),g&&g.addClass(p.lockClass))}function u(){const{$nextEl:p,$prevEl:m}=t.navigation;p&&p.length&&(p.off("click",l),p.removeClass(t.params.navigation.disabledClass)),m&&m.length&&(m.off("click",a),m.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?f():(c(),o())}),n("toEdge fromEdge lock unlock",()=>{o()}),n("destroy",()=>{u()}),n("enable disable",()=>{const{$nextEl:p,$prevEl:m}=t.navigation;p&&p[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),m&&m[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(p,m)=>{const{$nextEl:g,$prevEl:y}=t.navigation,_=m.target;if(t.params.navigation.hideOnClick&&!W(_).is(y)&&!W(_).is(g)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===_||t.pagination.el.contains(_)))return;let v;g?v=g.hasClass(t.params.navigation.hiddenClass):y&&(v=y.hasClass(t.params.navigation.hiddenClass)),r(v===!0?"navigationShow":"navigationHide"),g&&g.toggleClass(t.params.navigation.hiddenClass),y&&y.toggleClass(t.params.navigation.hiddenClass)}});const h=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),c(),o()},f=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),u()};Object.assign(t.navigation,{enable:h,disable:f,update:o,init:c,destroy:u})}function Vr(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function Tp({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:g=>g,formatFractionTotal:g=>g,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let i,o=0;function a(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function l(g,y){const{bulletActiveClass:_}=t.params.pagination;g[y]().addClass(`${_}-${y}`)[y]().addClass(`${_}-${y}-${y}`)}function c(){const g=t.rtl,y=t.params.pagination;if(a())return;const _=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,v=t.pagination.$el;let E;const w=t.params.loop?Math.ceil((_-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?(E=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),E>_-1-t.loopedSlides*2&&(E-=_-t.loopedSlides*2),E>w-1&&(E-=w),E<0&&t.params.paginationType!=="bullets"&&(E=w+E)):typeof t.snapIndex<"u"?E=t.snapIndex:E=t.activeIndex||0,y.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const S=t.pagination.bullets;let R,b,P;if(y.dynamicBullets&&(i=S.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),v.css(t.isHorizontal()?"width":"height",`${i*(y.dynamicMainBullets+4)}px`),y.dynamicMainBullets>1&&t.previousIndex!==void 0&&(o+=E-(t.previousIndex-t.loopedSlides||0),o>y.dynamicMainBullets-1?o=y.dynamicMainBullets-1:o<0&&(o=0)),R=Math.max(E-o,0),b=R+(Math.min(S.length,y.dynamicMainBullets)-1),P=(b+R)/2),S.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(H=>`${y.bulletActiveClass}${H}`).join(" ")),v.length>1)S.each(H=>{const O=W(H),k=O.index();k===E&&O.addClass(y.bulletActiveClass),y.dynamicBullets&&(k>=R&&k<=b&&O.addClass(`${y.bulletActiveClass}-main`),k===R&&l(O,"prev"),k===b&&l(O,"next"))});else{const H=S.eq(E),O=H.index();if(H.addClass(y.bulletActiveClass),y.dynamicBullets){const k=S.eq(R),N=S.eq(b);for(let A=R;A<=b;A+=1)S.eq(A).addClass(`${y.bulletActiveClass}-main`);if(t.params.loop)if(O>=S.length){for(let A=y.dynamicMainBullets;A>=0;A-=1)S.eq(S.length-A).addClass(`${y.bulletActiveClass}-main`);S.eq(S.length-y.dynamicMainBullets-1).addClass(`${y.bulletActiveClass}-prev`)}else l(k,"prev"),l(N,"next");else l(k,"prev"),l(N,"next")}}if(y.dynamicBullets){const H=Math.min(S.length,y.dynamicMainBullets+4),O=(i*H-i)/2-P*i,k=g?"right":"left";S.css(t.isHorizontal()?k:"top",`${O}px`)}}if(y.type==="fraction"&&(v.find(Vr(y.currentClass)).text(y.formatFractionCurrent(E+1)),v.find(Vr(y.totalClass)).text(y.formatFractionTotal(w))),y.type==="progressbar"){let S;y.progressbarOpposite?S=t.isHorizontal()?"vertical":"horizontal":S=t.isHorizontal()?"horizontal":"vertical";const R=(E+1)/w;let b=1,P=1;S==="horizontal"?b=R:P=R,v.find(Vr(y.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${b}) scaleY(${P})`).transition(t.params.speed)}y.type==="custom"&&y.renderCustom?(v.html(y.renderCustom(t,E+1,w)),r("paginationRender",v[0])):r("paginationUpdate",v[0]),t.params.watchOverflow&&t.enabled&&v[t.isLocked?"addClass":"removeClass"](y.lockClass)}function u(){const g=t.params.pagination;if(a())return;const y=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,_=t.pagination.$el;let v="";if(g.type==="bullets"){let E=t.params.loop?Math.ceil((y-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&E>y&&(E=y);for(let w=0;w<E;w+=1)g.renderBullet?v+=g.renderBullet.call(t,w,g.bulletClass):v+=`<${g.bulletElement} class="${g.bulletClass}"></${g.bulletElement}>`;_.html(v),t.pagination.bullets=_.find(Vr(g.bulletClass))}g.type==="fraction"&&(g.renderFraction?v=g.renderFraction.call(t,g.currentClass,g.totalClass):v=`<span class="${g.currentClass}"></span> / <span class="${g.totalClass}"></span>`,_.html(v)),g.type==="progressbar"&&(g.renderProgressbar?v=g.renderProgressbar.call(t,g.progressbarFillClass):v=`<span class="${g.progressbarFillClass}"></span>`,_.html(v)),g.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function h(){t.params.pagination=f0(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const g=t.params.pagination;if(!g.el)return;let y=W(g.el);y.length!==0&&(t.params.uniqueNavElements&&typeof g.el=="string"&&y.length>1&&(y=t.$el.find(g.el),y.length>1&&(y=y.filter(_=>W(_).parents(".swiper")[0]===t.el))),g.type==="bullets"&&g.clickable&&y.addClass(g.clickableClass),y.addClass(g.modifierClass+g.type),y.addClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),g.type==="bullets"&&g.dynamicBullets&&(y.addClass(`${g.modifierClass}${g.type}-dynamic`),o=0,g.dynamicMainBullets<1&&(g.dynamicMainBullets=1)),g.type==="progressbar"&&g.progressbarOpposite&&y.addClass(g.progressbarOppositeClass),g.clickable&&y.on("click",Vr(g.bulletClass),function(v){v.preventDefault();let E=W(this).index()*t.params.slidesPerGroup;t.params.loop&&(E+=t.loopedSlides),t.slideTo(E)}),Object.assign(t.pagination,{$el:y,el:y[0]}),t.enabled||y.addClass(g.lockClass))}function f(){const g=t.params.pagination;if(a())return;const y=t.pagination.$el;y.removeClass(g.hiddenClass),y.removeClass(g.modifierClass+g.type),y.removeClass(t.isHorizontal()?g.horizontalClass:g.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(g.bulletActiveClass),g.clickable&&y.off("click",Vr(g.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?m():(h(),u(),c())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&c()}),n("snapIndexChange",()=>{t.params.loop||c()}),n("slidesLengthChange",()=>{t.params.loop&&(u(),c())}),n("snapGridLengthChange",()=>{t.params.loop||(u(),c())}),n("destroy",()=>{f()}),n("enable disable",()=>{const{$el:g}=t.pagination;g&&g[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{c()}),n("click",(g,y)=>{const _=y.target,{$el:v}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&v&&v.length>0&&!W(_).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&_===t.navigation.nextEl||t.navigation.prevEl&&_===t.navigation.prevEl))return;const E=v.hasClass(t.params.pagination.hiddenClass);r(E===!0?"paginationShow":"paginationHide"),v.toggleClass(t.params.pagination.hiddenClass)}});const p=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),h(),u(),c()},m=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),f()};Object.assign(t.pagination,{enable:p,disable:m,render:u,update:c,init:h,destroy:f})}function Cp({swiper:t,extendParams:e,on:n,emit:r}){const s=At();let i=!1,o=null,a=null,l,c,u,h;e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function f(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:k,rtlTranslate:N,progress:A}=t,{$dragEl:z,$el:ie}=k,Ee=t.params.scrollbar;let we=c,$=(u-c)*A;N?($=-$,$>0?(we=c-$,$=0):-$+c>u&&(we=u+$)):$<0?(we=c+$,$=0):$+c>u&&(we=u-$),t.isHorizontal()?(z.transform(`translate3d(${$}px, 0, 0)`),z[0].style.width=`${we}px`):(z.transform(`translate3d(0px, ${$}px, 0)`),z[0].style.height=`${we}px`),Ee.hide&&(clearTimeout(o),ie[0].style.opacity=1,o=setTimeout(()=>{ie[0].style.opacity=0,ie.transition(400)},1e3))}function p(k){!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(k)}function m(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:k}=t,{$dragEl:N,$el:A}=k;N[0].style.width="",N[0].style.height="",u=t.isHorizontal()?A[0].offsetWidth:A[0].offsetHeight,h=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?c=u*h:c=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?N[0].style.width=`${c}px`:N[0].style.height=`${c}px`,h>=1?A[0].style.display="none":A[0].style.display="",t.params.scrollbar.hide&&(A[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&k.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function g(k){return t.isHorizontal()?k.type==="touchstart"||k.type==="touchmove"?k.targetTouches[0].clientX:k.clientX:k.type==="touchstart"||k.type==="touchmove"?k.targetTouches[0].clientY:k.clientY}function y(k){const{scrollbar:N,rtlTranslate:A}=t,{$el:z}=N;let ie;ie=(g(k)-z.offset()[t.isHorizontal()?"left":"top"]-(l!==null?l:c/2))/(u-c),ie=Math.max(Math.min(ie,1),0),A&&(ie=1-ie);const Ee=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*ie;t.updateProgress(Ee),t.setTranslate(Ee),t.updateActiveIndex(),t.updateSlidesClasses()}function _(k){const N=t.params.scrollbar,{scrollbar:A,$wrapperEl:z}=t,{$el:ie,$dragEl:Ee}=A;i=!0,l=k.target===Ee[0]||k.target===Ee?g(k)-k.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,k.preventDefault(),k.stopPropagation(),z.transition(100),Ee.transition(100),y(k),clearTimeout(a),ie.transition(0),N.hide&&ie.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),r("scrollbarDragStart",k)}function v(k){const{scrollbar:N,$wrapperEl:A}=t,{$el:z,$dragEl:ie}=N;i&&(k.preventDefault?k.preventDefault():k.returnValue=!1,y(k),A.transition(0),z.transition(0),ie.transition(0),r("scrollbarDragMove",k))}function E(k){const N=t.params.scrollbar,{scrollbar:A,$wrapperEl:z}=t,{$el:ie}=A;i&&(i=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),z.transition("")),N.hide&&(clearTimeout(a),a=xc(()=>{ie.css("opacity",0),ie.transition(400)},1e3)),r("scrollbarDragEnd",k),N.snapOnRelease&&t.slideToClosest())}function w(k){const{scrollbar:N,touchEventsTouch:A,touchEventsDesktop:z,params:ie,support:Ee}=t,we=N.$el;if(!we)return;const $=we[0],q=Ee.passiveListener&&ie.passiveListeners?{passive:!1,capture:!1}:!1,j=Ee.passiveListener&&ie.passiveListeners?{passive:!0,capture:!1}:!1;if(!$)return;const Z=k==="on"?"addEventListener":"removeEventListener";Ee.touch?($[Z](A.start,_,q),$[Z](A.move,v,q),$[Z](A.end,E,j)):($[Z](z.start,_,q),s[Z](z.move,v,q),s[Z](z.end,E,j))}function S(){!t.params.scrollbar.el||!t.scrollbar.el||w("on")}function R(){!t.params.scrollbar.el||!t.scrollbar.el||w("off")}function b(){const{scrollbar:k,$el:N}=t;t.params.scrollbar=f0(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const A=t.params.scrollbar;if(!A.el)return;let z=W(A.el);t.params.uniqueNavElements&&typeof A.el=="string"&&z.length>1&&N.find(A.el).length===1&&(z=N.find(A.el)),z.addClass(t.isHorizontal()?A.horizontalClass:A.verticalClass);let ie=z.find(`.${t.params.scrollbar.dragClass}`);ie.length===0&&(ie=W(`<div class="${t.params.scrollbar.dragClass}"></div>`),z.append(ie)),Object.assign(k,{$el:z,el:z[0],$dragEl:ie,dragEl:ie[0]}),A.draggable&&S(),z&&z[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function P(){const k=t.params.scrollbar,N=t.scrollbar.$el;N&&N.removeClass(t.isHorizontal()?k.horizontalClass:k.verticalClass),R()}n("init",()=>{t.params.scrollbar.enabled===!1?O():(b(),m(),f())}),n("update resize observerUpdate lock unlock",()=>{m()}),n("setTranslate",()=>{f()}),n("setTransition",(k,N)=>{p(N)}),n("enable disable",()=>{const{$el:k}=t.scrollbar;k&&k[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),n("destroy",()=>{P()});const H=()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),b(),m(),f()},O=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),P()};Object.assign(t.scrollbar,{enable:H,disable:O,updateSize:m,setTranslate:f,init:b,destroy:P})}function Ip({swiper:t,extendParams:e,on:n}){e({a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}",slideLabelMessage:"{{index}} / {{slidesLength}}",containerMessage:null,containerRoleDescriptionMessage:null,itemRoleDescriptionMessage:null,slideRole:"group",id:null}}),t.a11y={clicked:!1};let r=null;function s(N){const A=r;A.length!==0&&(A.html(""),A.html(N))}function i(N=16){const A=()=>Math.round(16*Math.random()).toString(16);return"x".repeat(N).replace(/x/g,A)}function o(N){N.attr("tabIndex","0")}function a(N){N.attr("tabIndex","-1")}function l(N,A){N.attr("role",A)}function c(N,A){N.attr("aria-roledescription",A)}function u(N,A){N.attr("aria-controls",A)}function h(N,A){N.attr("aria-label",A)}function f(N,A){N.attr("id",A)}function p(N,A){N.attr("aria-live",A)}function m(N){N.attr("aria-disabled",!0)}function g(N){N.attr("aria-disabled",!1)}function y(N){if(N.keyCode!==13&&N.keyCode!==32)return;const A=t.params.a11y,z=W(N.target);t.navigation&&t.navigation.$nextEl&&z.is(t.navigation.$nextEl)&&(t.isEnd&&!t.params.loop||t.slideNext(),t.isEnd?s(A.lastSlideMessage):s(A.nextSlideMessage)),t.navigation&&t.navigation.$prevEl&&z.is(t.navigation.$prevEl)&&(t.isBeginning&&!t.params.loop||t.slidePrev(),t.isBeginning?s(A.firstSlideMessage):s(A.prevSlideMessage)),t.pagination&&z.is(Vr(t.params.pagination.bulletClass))&&z[0].click()}function _(){if(t.params.loop||t.params.rewind||!t.navigation)return;const{$nextEl:N,$prevEl:A}=t.navigation;A&&A.length>0&&(t.isBeginning?(m(A),a(A)):(g(A),o(A))),N&&N.length>0&&(t.isEnd?(m(N),a(N)):(g(N),o(N)))}function v(){return t.pagination&&t.pagination.bullets&&t.pagination.bullets.length}function E(){return v()&&t.params.pagination.clickable}function w(){const N=t.params.a11y;v()&&t.pagination.bullets.each(A=>{const z=W(A);t.params.pagination.clickable&&(o(z),t.params.pagination.renderBullet||(l(z,"button"),h(z,N.paginationBulletMessage.replace(/\{\{index\}\}/,z.index()+1)))),z.is(`.${t.params.pagination.bulletActiveClass}`)?z.attr("aria-current","true"):z.removeAttr("aria-current")})}const S=(N,A,z)=>{o(N),N[0].tagName!=="BUTTON"&&(l(N,"button"),N.on("keydown",y)),h(N,z),u(N,A)},R=()=>{t.a11y.clicked=!0},b=()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{t.destroyed||(t.a11y.clicked=!1)})})},P=N=>{if(t.a11y.clicked)return;const A=N.target.closest(`.${t.params.slideClass}`);if(!A||!t.slides.includes(A))return;const z=t.slides.indexOf(A)===t.activeIndex,ie=t.params.watchSlidesProgress&&t.visibleSlides&&t.visibleSlides.includes(A);z||ie||N.sourceCapabilities&&N.sourceCapabilities.firesTouchEvents||(t.isHorizontal()?t.el.scrollLeft=0:t.el.scrollTop=0,t.slideTo(t.slides.indexOf(A),0))},H=()=>{const N=t.params.a11y;N.itemRoleDescriptionMessage&&c(W(t.slides),N.itemRoleDescriptionMessage),N.slideRole&&l(W(t.slides),N.slideRole);const A=t.params.loop?t.slides.filter(z=>!z.classList.contains(t.params.slideDuplicateClass)).length:t.slides.length;N.slideLabelMessage&&t.slides.each((z,ie)=>{const Ee=W(z),we=t.params.loop?parseInt(Ee.attr("data-swiper-slide-index"),10):ie,$=N.slideLabelMessage.replace(/\{\{index\}\}/,we+1).replace(/\{\{slidesLength\}\}/,A);h(Ee,$)})},O=()=>{const N=t.params.a11y;t.$el.append(r);const A=t.$el;N.containerRoleDescriptionMessage&&c(A,N.containerRoleDescriptionMessage),N.containerMessage&&h(A,N.containerMessage);const z=t.$wrapperEl,ie=N.id||z.attr("id")||`swiper-wrapper-${i(16)}`,Ee=t.params.autoplay&&t.params.autoplay.enabled?"off":"polite";f(z,ie),p(z,Ee),H();let we,$;t.navigation&&t.navigation.$nextEl&&(we=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&($=t.navigation.$prevEl),we&&we.length&&S(we,ie,N.nextSlideMessage),$&&$.length&&S($,ie,N.prevSlideMessage),E()&&t.pagination.$el.on("keydown",Vr(t.params.pagination.bulletClass),y),t.$el.on("focus",P,!0),t.$el.on("pointerdown",R,!0),t.$el.on("pointerup",b,!0)};function k(){r&&r.length>0&&r.remove();let N,A;t.navigation&&t.navigation.$nextEl&&(N=t.navigation.$nextEl),t.navigation&&t.navigation.$prevEl&&(A=t.navigation.$prevEl),N&&N.off("keydown",y),A&&A.off("keydown",y),E()&&t.pagination.$el.off("keydown",Vr(t.params.pagination.bulletClass),y),t.$el.off("focus",P,!0),t.$el.off("pointerdown",R,!0),t.$el.off("pointerup",b,!0)}n("beforeInit",()=>{r=W(`<span class="${t.params.a11y.notificationClass}" aria-live="assertive" aria-atomic="true"></span>`)}),n("afterInit",()=>{t.params.a11y.enabled&&O()}),n("slidesLengthChange snapGridLengthChange slidesGridLengthChange",()=>{t.params.a11y.enabled&&H()}),n("fromEdge toEdge afterInit lock unlock",()=>{t.params.a11y.enabled&&_()}),n("paginationUpdate",()=>{t.params.a11y.enabled&&w()}),n("destroy",()=>{t.params.a11y.enabled&&k()})}function Rp({swiper:t,extendParams:e,on:n,emit:r}){let s;t.autoplay={running:!1,paused:!1},e({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});function i(){if(!t.size){t.autoplay.running=!1,t.autoplay.paused=!1;return}const g=t.slides.eq(t.activeIndex);let y=t.params.autoplay.delay;g.attr("data-swiper-autoplay")&&(y=g.attr("data-swiper-autoplay")||t.params.autoplay.delay),clearTimeout(s),s=xc(()=>{let _;t.params.autoplay.reverseDirection?t.params.loop?(t.loopFix(),_=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.isBeginning?t.params.autoplay.stopOnLastSlide?a():(_=t.slideTo(t.slides.length-1,t.params.speed,!0,!0),r("autoplay")):(_=t.slidePrev(t.params.speed,!0,!0),r("autoplay")):t.params.loop?(t.loopFix(),_=t.slideNext(t.params.speed,!0,!0),r("autoplay")):t.isEnd?t.params.autoplay.stopOnLastSlide?a():(_=t.slideTo(0,t.params.speed,!0,!0),r("autoplay")):(_=t.slideNext(t.params.speed,!0,!0),r("autoplay")),(t.params.cssMode&&t.autoplay.running||_===!1)&&i()},y)}function o(){return typeof s<"u"||t.autoplay.running?!1:(t.autoplay.running=!0,r("autoplayStart"),i(),!0)}function a(){return!t.autoplay.running||typeof s>"u"?!1:(s&&(clearTimeout(s),s=void 0),t.autoplay.running=!1,r("autoplayStop"),!0)}function l(g){t.autoplay.running&&(t.autoplay.paused||(s&&clearTimeout(s),t.autoplay.paused=!0,g===0||!t.params.autoplay.waitForTransition?(t.autoplay.paused=!1,i()):["transitionend","webkitTransitionEnd"].forEach(y=>{t.$wrapperEl[0].addEventListener(y,u)})))}function c(){const g=At();g.visibilityState==="hidden"&&t.autoplay.running&&l(),g.visibilityState==="visible"&&t.autoplay.paused&&(i(),t.autoplay.paused=!1)}function u(g){!t||t.destroyed||!t.$wrapperEl||g.target===t.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(y=>{t.$wrapperEl[0].removeEventListener(y,u)}),t.autoplay.paused=!1,t.autoplay.running?i():a())}function h(){t.params.autoplay.disableOnInteraction?a():(r("autoplayPause"),l()),["transitionend","webkitTransitionEnd"].forEach(g=>{t.$wrapperEl[0].removeEventListener(g,u)})}function f(){t.params.autoplay.disableOnInteraction||(t.autoplay.paused=!1,r("autoplayResume"),i())}function p(){t.params.autoplay.pauseOnMouseEnter&&(t.$el.on("mouseenter",h),t.$el.on("mouseleave",f))}function m(){t.$el.off("mouseenter",h),t.$el.off("mouseleave",f)}n("init",()=>{t.params.autoplay.enabled&&(o(),At().addEventListener("visibilitychange",c),p())}),n("beforeTransitionStart",(g,y,_)=>{t.autoplay.running&&(_||!t.params.autoplay.disableOnInteraction?t.autoplay.pause(y):a())}),n("sliderFirstMove",()=>{t.autoplay.running&&(t.params.autoplay.disableOnInteraction?a():l())}),n("touchEnd",()=>{t.params.cssMode&&t.autoplay.paused&&!t.params.autoplay.disableOnInteraction&&i()}),n("destroy",()=>{m(),t.autoplay.running&&a(),At().removeEventListener("visibilitychange",c)}),Object.assign(t.autoplay,{pause:l,run:i,start:o,stop:a})}function pQ(t){const{effect:e,swiper:n,on:r,setTranslate:s,setTransition:i,overwriteParams:o,perspective:a,recreateShadows:l,getEffectParams:c}=t;r("beforeInit",()=>{if(n.params.effect!==e)return;n.classNames.push(`${n.params.containerModifierClass}${e}`),a&&a()&&n.classNames.push(`${n.params.containerModifierClass}3d`);const h=o?o():{};Object.assign(n.params,h),Object.assign(n.originalParams,h)}),r("setTranslate",()=>{n.params.effect===e&&s()}),r("setTransition",(h,f)=>{n.params.effect===e&&i(f)}),r("transitionEnd",()=>{if(n.params.effect===e&&l){if(!c||!c().slideShadows)return;n.slides.each(h=>{n.$(h).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),l()}});let u;r("virtualUpdate",()=>{n.params.effect===e&&(n.slides.length||(u=!0),requestAnimationFrame(()=>{u&&n.slides&&n.slides.length&&(s(),u=!1)}))})}function mQ(t,e){return t.transformEl?e.find(t.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):e}function gQ({swiper:t,duration:e,transformEl:n,allSlides:r}){const{slides:s,activeIndex:i,$wrapperEl:o}=t;if(t.params.virtualTranslate&&e!==0){let a=!1,l;r?l=n?s.find(n):s:l=n?s.eq(i).find(n):s.eq(i),l.transitionEnd(()=>{if(a||!t||t.destroyed)return;a=!0,t.animating=!1;const c=["webkitTransitionEnd","transitionend"];for(let u=0;u<c.length;u+=1)o.trigger(c[u])})}}function SP({swiper:t,extendParams:e,on:n}){e({fadeEffect:{crossFade:!1,transformEl:null}}),pQ({effect:"fade",swiper:t,on:n,setTranslate:()=>{const{slides:i}=t,o=t.params.fadeEffect;for(let a=0;a<i.length;a+=1){const l=t.slides.eq(a);let u=-l[0].swiperSlideOffset;t.params.virtualTranslate||(u-=t.translate);let h=0;t.isHorizontal()||(h=u,u=0);const f=t.params.fadeEffect.crossFade?Math.max(1-Math.abs(l[0].progress),0):1+Math.min(Math.max(l[0].progress,-1),0);mQ(o,l).css({opacity:f}).transform(`translate3d(${u}px, ${h}px, 0px)`)}},setTransition:i=>{const{transformEl:o}=t.params.fadeEffect;(o?t.slides.find(o):t.slides).transition(i),gQ({swiper:t,duration:i,transformEl:o,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!t.params.cssMode})})}function Bi(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Ns(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:Bi(e[r])&&Bi(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Ns(t[r],e[r]):t[r]=e[r]})}function wP(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function TP(t={}){return t.pagination&&typeof t.pagination.el>"u"}function CP(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function IP(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const RP=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function _Q(t={},e=!0){const n={on:{}},r={},s={};Ns(n,ma.defaults),Ns(n,ma.extendedDefaults),n._emitClasses=!0,n.init=!1;const i={},o=RP.map(l=>l.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(l=>{typeof t[l]>"u"||(o.indexOf(l)>=0?Bi(t[l])?(n[l]={},s[l]={},Ns(n[l],t[l]),Ns(s[l],t[l])):(n[l]=t[l],s[l]=t[l]):l.search(/on[A-Z]/)===0&&typeof t[l]=="function"?e?r[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:n.on[`${l[2].toLowerCase()}${l.substr(3)}`]=t[l]:i[l]=t[l])}),["navigation","pagination","scrollbar"].forEach(l=>{n[l]===!0&&(n[l]={}),n[l]===!1&&delete n[l]}),{params:n,passedParams:s,rest:i,events:r}}function vQ({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:i},o){wP(o)&&e&&n&&(i.params.navigation.nextEl=e,i.originalParams.navigation.nextEl=e,i.params.navigation.prevEl=n,i.originalParams.navigation.prevEl=n),TP(o)&&r&&(i.params.pagination.el=r,i.originalParams.pagination.el=r),CP(o)&&s&&(i.params.scrollbar.el=s,i.originalParams.scrollbar.el=s),i.init(t)}const xP=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const s=ma.prototype.getBreakpoint(e.breakpoints),i=s in e.breakpoints?e.breakpoints[s]:void 0;i&&i.slidesPerView&&(n=i.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function yQ(t,e,n){const r=e.map((l,c)=>pe.cloneElement(l,{swiper:t,"data-swiper-slide-index":c}));function s(l,c,u){return pe.cloneElement(l,{key:`${l.key}-duplicate-${c}-${u}`,className:`${l.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const l=n.slidesPerGroup-r.length%n.slidesPerGroup;if(l!==n.slidesPerGroup)for(let c=0;c<l;c+=1){const u=pe.createElement("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(u)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const i=xP(r,n),o=[],a=[];for(let l=0;l<i;l+=1){const c=l-Math.floor(l/r.length)*r.length;a.push(s(r[c],l,"append")),o.unshift(s(r[r.length-c-1],l,"prepend"))}return t&&(t.loopedSlides=i),[...o,...r,...a]}function EQ(t,e,n,r,s){const i=[];if(!e)return i;const o=l=>{i.indexOf(l)<0&&i.push(l)};if(n&&r){const l=r.map(s),c=n.map(s);l.join("")!==c.join("")&&o("children"),r.length!==n.length&&o("children")}return RP.filter(l=>l[0]==="_").map(l=>l.replace(/_/,"")).forEach(l=>{if(l in t&&l in e)if(Bi(t[l])&&Bi(e[l])){const c=Object.keys(t[l]),u=Object.keys(e[l]);c.length!==u.length?o(l):(c.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}),u.forEach(h=>{t[l][h]!==e[l][h]&&o(l)}))}else t[l]!==e[l]&&o(l)}),i}function NP(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function AP(t){const e=[];return pe.Children.toArray(t).forEach(n=>{NP(n)?e.push(n):n.props&&n.props.children&&AP(n.props.children).forEach(r=>e.push(r))}),e}function SQ(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return pe.Children.toArray(t).forEach(r=>{if(NP(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=AP(r.props.children);s.length>0?s.forEach(i=>e.push(i)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function wQ({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:i,scrollbarEl:o,paginationEl:a}){const l=r.filter(S=>S!=="children"&&S!=="direction"),{params:c,pagination:u,navigation:h,scrollbar:f,virtual:p,thumbs:m}=t;let g,y,_,v,E;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&c.thumbs&&!c.thumbs.swiper&&(g=!0),r.includes("controller")&&n.controller&&n.controller.control&&c.controller&&!c.controller.control&&(y=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||a)&&(c.pagination||c.pagination===!1)&&u&&!u.el&&(_=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||o)&&(c.scrollbar||c.scrollbar===!1)&&f&&!f.el&&(v=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||i)&&(n.navigation.nextEl||s)&&(c.navigation||c.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(E=!0);const w=S=>{t[S]&&(t[S].destroy(),S==="navigation"?(c[S].prevEl=void 0,c[S].nextEl=void 0,t[S].prevEl=void 0,t[S].nextEl=void 0):(c[S].el=void 0,t[S].el=void 0))};l.forEach(S=>{if(Bi(c[S])&&Bi(n[S]))Ns(c[S],n[S]);else{const R=n[S];(R===!0||R===!1)&&(S==="navigation"||S==="pagination"||S==="scrollbar")?R===!1&&w(S):c[S]=n[S]}}),l.includes("controller")&&!y&&t.controller&&t.controller.control&&c.controller&&c.controller.control&&(t.controller.control=c.controller.control),r.includes("children")&&e&&p&&c.virtual.enabled?(p.slides=e,p.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),g&&m.init()&&m.update(!0),y&&(t.controller.control=c.controller.control),_&&(a&&(c.pagination.el=a),u.init(),u.render(),u.update()),v&&(o&&(c.scrollbar.el=o),f.init(),f.updateSize(),f.setTranslate()),E&&(s&&(c.navigation.nextEl=s),i&&(c.navigation.prevEl=i),h.init(),h.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function TQ(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((s,i)=>i>=n.from&&i<=n.to).map(s=>pe.cloneElement(s,{swiper:t,style:r}))}const CQ=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function jl(t,e){return typeof window>"u"?T.useEffect(t,e):T.useLayoutEffect(t,e)}const IQ=T.createContext(null),RQ=T.createContext(null);function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(this,arguments)}const mu=T.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:i,onSwiper:o,...a}=t===void 0?{}:t,l=!1;const[c,u]=T.useState("swiper"),[h,f]=T.useState(null),[p,m]=T.useState(!1),g=T.useRef(!1),y=T.useRef(null),_=T.useRef(null),v=T.useRef(null),E=T.useRef(null),w=T.useRef(null),S=T.useRef(null),R=T.useRef(null),b=T.useRef(null),{params:P,passedParams:H,rest:O,events:k}=_Q(a),{slides:N,slots:A}=SQ(i),z=()=>{m(!p)};Object.assign(P.on,{_containerClasses(q,j){u(j)}});const ie=()=>{if(Object.assign(P.on,k),l=!0,_.current=new ma(P),_.current.loopCreate=()=>{},_.current.loopDestroy=()=>{},P.loop&&(_.current.loopedSlides=xP(N,P)),_.current.virtual&&_.current.params.virtual.enabled){_.current.virtual.slides=N;const q={cache:!1,slides:N,renderExternal:f,renderExternalUpdate:!1};Ns(_.current.params.virtual,q),Ns(_.current.originalParams.virtual,q)}};y.current||ie(),_.current&&_.current.on("_beforeBreakpoint",z);const Ee=()=>{l||!k||!_.current||Object.keys(k).forEach(q=>{_.current.on(q,k[q])})},we=()=>{!k||!_.current||Object.keys(k).forEach(q=>{_.current.off(q,k[q])})};T.useEffect(()=>()=>{_.current&&_.current.off("_beforeBreakpoint",z)}),T.useEffect(()=>{!g.current&&_.current&&(_.current.emitSlidesClasses(),g.current=!0)}),jl(()=>{if(e&&(e.current=y.current),!!y.current)return _.current.destroyed&&ie(),vQ({el:y.current,nextEl:w.current,prevEl:S.current,paginationEl:R.current,scrollbarEl:b.current,swiper:_.current},P),o&&o(_.current),()=>{_.current&&!_.current.destroyed&&_.current.destroy(!0,!1)}},[]),jl(()=>{Ee();const q=EQ(H,v.current,N,E.current,j=>j.key);return v.current=H,E.current=N,q.length&&_.current&&!_.current.destroyed&&wQ({swiper:_.current,slides:N,passedParams:H,changedParams:q,nextEl:w.current,prevEl:S.current,scrollbarEl:b.current,paginationEl:R.current}),()=>{we()}}),jl(()=>{CQ(_.current)},[h]);function $(){return P.virtual?TQ(_.current,N,h):!P.loop||_.current&&_.current.destroyed?N.map(q=>pe.cloneElement(q,{swiper:_.current})):yQ(_.current,N,P)}return pe.createElement(r,Z_({ref:y,className:IP(`${c}${n?` ${n}`:""}`)},O),pe.createElement(RQ.Provider,{value:_.current},A["container-start"],pe.createElement(s,{className:"swiper-wrapper"},A["wrapper-start"],$(),A["wrapper-end"]),wP(P)&&pe.createElement(pe.Fragment,null,pe.createElement("div",{ref:S,className:"swiper-button-prev"}),pe.createElement("div",{ref:w,className:"swiper-button-next"})),CP(P)&&pe.createElement("div",{ref:b,className:"swiper-scrollbar"}),TP(P)&&pe.createElement("div",{ref:R,className:"swiper-pagination"}),A["container-end"]))});mu.displayName="Swiper";function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(this,arguments)}const zs=T.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:i,zoom:o,virtualIndex:a,...l}=t===void 0?{}:t;const c=T.useRef(null),[u,h]=T.useState("swiper-slide");function f(g,y,_){y===c.current&&h(_)}jl(()=>{if(e&&(e.current=c.current),!(!c.current||!i)){if(i.destroyed){u!=="swiper-slide"&&h("swiper-slide");return}return i.on("_slideClass",f),()=>{i&&i.off("_slideClass",f)}}}),jl(()=>{i&&c.current&&!i.destroyed&&h(i.getSlideClasses(c.current))},[i]);const p={isActive:u.indexOf("swiper-slide-active")>=0||u.indexOf("swiper-slide-duplicate-active")>=0,isVisible:u.indexOf("swiper-slide-visible")>=0,isDuplicate:u.indexOf("swiper-slide-duplicate")>=0,isPrev:u.indexOf("swiper-slide-prev")>=0||u.indexOf("swiper-slide-duplicate-prev")>=0,isNext:u.indexOf("swiper-slide-next")>=0||u.indexOf("swiper-slide-duplicate-next")>=0},m=()=>typeof r=="function"?r(p):r;return pe.createElement(n,ev({ref:c,className:IP(`${u}${s?` ${s}`:""}`),"data-swiper-slide-index":a},l),pe.createElement(IQ.Provider,{value:p},o?pe.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},m()):m()))});zs.displayName="SwiperSlide";function gu({point:t}){const[e,n]=T.useState(null),r=[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],s=()=>{let i=(Math.round(t*100)/100).toFixed(1)/2,o=0;r.reverse().forEach(a=>i<=a?o=a:null),n(o)};return T.useEffect(()=>{s()},[e]),d.jsxs("em",{className:"ui-star",children:[e===0&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===1.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===2.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===3.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp"})]}),e===4.5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-duotone fa-star-sharp-half"})]}),e===5&&d.jsxs(d.Fragment,{children:[d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"}),d.jsx("i",{className:"fa-solid fa-star-sharp"})]})]})}function xQ({opts:t}){let e=Math.floor(Math.random()*3)+1;const[n,r]=T.useState([]),s=f=>{te.loading.show();const p=`https://api.themoviedb.org/3/${t.media}/now_playing?language=ko&region=kr&page=${f}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(p).then(m=>{var g;console.log(m.data),r(y=>[...y,...m.data.results]),console.log(f+"=== "+m.data.total_pages),te.loading.hide(),m.data.total_pages<=f&&((g=document.querySelector(".ui-loadmore"))==null||g.classList.add("hide"))}).catch(m=>{var g;console.log(m),te.loading.hide(),(g=document.querySelector(".ui-loadmore"))==null||g.classList.add("error")})},[i,o]=T.useState(null),a=()=>{i==null||i.slideTo(Math.floor(Math.random()*10),0)};T.useEffect(()=>(s(e),a(),window.addEventListener("scroll",u),()=>{window.removeEventListener("scroll",u)}),[]);const[l,c]=T.useState(0),u=()=>c(parseInt(te.viewport.scrollTop()*.2)),h=f=>f.target.src="./img/common/non_poster.png";return d.jsx(d.Fragment,{children:d.jsx("section",{className:"sect mnTop",children:d.jsx("div",{className:"inr",id:"slide",children:d.jsx(mu,{className:"swiper-wrapper swiper slide",modules:[wp,Tp,Cp,Rp,Ip],spaceBetween:0,slidesPerView:1,loop:!0,effect:"fade",autoplay:{delay:3e3,waitForTransition:!1,pauseOnMouseEnter:!0,disableOnInteraction:!1},wrapperTag:"ul",pagination:{clickable:!0},autoHeight:!1,onSwiper:f=>{console.log("initialize swiper",f),o(f),f.slideTo(Math.floor(Math.random()*10))},onSlideChange:()=>{},children:n==null?void 0:n.filter((f,p)=>p<10).map((f,p)=>{const m=`//image.tmdb.org/t/p/w780${f.poster_path}`;return d.jsx(zs,{tag:"li",className:"swiper-slide pbox",children:d.jsxs(gt,{className:"box",to:`${t.media}/${f.id}`,children:[d.jsx("div",{className:"pics",style:{transform:"translate3D(0rem , 0"+l+"rem , 0rem)"},children:d.jsx("img",{src:`${m}`,alt:"",className:"img",onError:h})}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"star",children:d.jsx(gu,{point:f.vote_average})}),d.jsx("div",{className:"tit",children:f.title})]}),d.jsx("div",{className:"screen"})]})},p)})})})})})}function lo({opts:t}){const[e,n]=T.useState([]);console.log(t);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=o=>{te.loading.show(),console.log("로드 ");const a=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(a).then(l=>{var c;console.log(l.data),n(u=>[...u,...l.data.results]),console.log(o+"=== "+l.data.total_pages),te.loading.hide(),l.data.total_pages<=o&&((c=document.querySelector(".ui-loadmore"))==null||c.classList.add("hide"))}).catch(l=>{var c;console.log(l),te.loading.hide(),(c=document.querySelector(".ui-loadmore"))==null||c.classList.add("error")})};T.useEffect(()=>(s(1),()=>{}),[]);const i=o=>o.target.src="./img/common/non_poster.png";return d.jsx(d.Fragment,{children:d.jsxs("section",{className:"sect mnList",children:[d.jsxs(gt,{to:`/list/${t.media}/${t.cate||0}`,className:"hbox",children:[d.jsx("h3",{className:"stit",children:t.title}),d.jsx("span",{className:"more",children:d.jsx("i",{className:"fa-regular fa-chevron-right"})})]}),d.jsx("div",{className:"inr",children:d.jsx("div",{className:"slide",children:d.jsx("ul",{children:e==null?void 0:e.filter((o,a)=>a<20).map((o,a)=>{const l=`//image.tmdb.org/t/p/w154${o.poster_path}`,c=o.title||o.name;return d.jsx("li",{className:"pbox",children:d.jsxs(gt,{className:"box",to:`${t.media}/${o.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${l}`,alt:c,className:"img",onError:i})}),d.jsx("div",{className:"info"})]})},a)})})})})]})})}function wC({opts:t}){const[e,n]=T.useState([]);let r;r=t.cate!=="0"?`&with_genres=${t.cate}`:"";const s=()=>{console.log("로드 ");const o=`https://api.themoviedb.org/3/${t.list}?page=1${r}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(o).then(a=>{console.log(a.data),n(l=>[...l,...a.data.results])}).catch(a=>{console.log(a)})},i=o=>o.target.src="./img/common/non_poster.png";return T.useEffect(()=>(s(),()=>{}),[]),d.jsx(d.Fragment,{children:d.jsxs("section",{className:"sect mnList topic",children:[d.jsx("div",{className:"hbox",children:d.jsx("h3",{className:"stit",children:t.title})}),d.jsx("div",{className:"inr",children:d.jsx("div",{className:"slide",children:d.jsx("ul",{children:e==null?void 0:e.filter((o,a)=>a<20).map((o,a)=>{const l=`//image.tmdb.org/t/p/w154${o.poster_path}`,c=o.title||o.name;return d.jsx("li",{className:"pbox",children:d.jsxs(gt,{className:"box",to:`${t.media}/${o.id}`,children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${l}`,alt:c,className:"img",onError:i})}),d.jsx("div",{className:"info",children:d.jsx(gu,{point:o.vote_average})})]})},a)})})})})]})})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP="firebasestorage.googleapis.com",NQ="storageBucket",AQ=2*60*1e3,bQ=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr extends xr{constructor(e,n,r=0){super(Qm(e),`Firebase Storage: ${n} (${Qm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,kr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Qm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ir;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ir||(Ir={}));function Qm(t){return"storage/"+t}function kQ(){const t="An unknown error occurred, please check the error payload for server response.";return new kr(Ir.UNKNOWN,t)}function PQ(){return new kr(Ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function LQ(){return new kr(Ir.CANCELED,"User canceled the upload/download.")}function OQ(t){return new kr(Ir.INVALID_URL,"Invalid URL '"+t+"'.")}function DQ(t){return new kr(Ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function TC(t){return new kr(Ir.INVALID_ARGUMENT,t)}function kP(){return new kr(Ir.APP_DELETED,"The Firebase app was deleted.")}function MQ(t){return new kr(Ir.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=rr.makeFromUrl(e,n)}catch{return new rr(e,"")}if(r.path==="")return r;throw DQ(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(w){w.path.charAt(w.path.length-1)==="/"&&(w.path_=w.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function c(w){w.path_=decodeURIComponent(w.path)}const u="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${u}/b/${s}/o${f}`,"i"),m={bucket:1,path:3},g=n===bP?"(?:storage.googleapis.com|storage.cloud.google.com)":n,y="([^?#]*)",_=new RegExp(`^https?://${g}/${s}/${y}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:p,indices:m,postModify:c},{regex:_,indices:{bucket:1,path:2},postModify:c}];for(let w=0;w<E.length;w++){const S=E[w],R=S.regex.exec(e);if(R){const b=R[S.indices.bucket];let P=R[S.indices.path];P||(P=""),r=new rr(b,P),S.postModify(r);break}}if(r==null)throw OQ(e);return r}}class VQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Q(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let c=!1;function u(...y){c||(c=!0,e.apply(null,y))}function h(y){s=setTimeout(()=>{s=null,t(p,l())},y)}function f(){i&&clearTimeout(i)}function p(y,..._){if(c){f();return}if(y){f(),u.call(null,y,..._);return}if(l()||o){f(),u.call(null,y,..._);return}r<64&&(r*=2);let E;a===1?(a=2,E=0):E=(r+Math.random())*1e3,h(E)}let m=!1;function g(y){m||(m=!0,f(),!c&&(s!==null?(y||(a=2),clearTimeout(s),h(0)):y||(a=1)))}return h(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function jQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FQ(t){return t!==void 0}function CC(t,e,n,r){if(r<e)throw TC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw TC(`Invalid value for '${t}'. Expected ${n} or less.`)}function UQ(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bh;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Bh||(Bh={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(e,n,r,s,i,o,a,l,c,u,h,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=h,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new td(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Bh.NO_ERROR,l=i.getStatus();if(!a||BQ(l,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Bh.ABORT;r(!1,new td(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new td(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());FQ(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=kQ();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?kP():LQ();o(l)}else{const l=PQ();o(l)}};this.canceled_?n(!1,new td(!1,null,!0)):this.backoffId_=$Q(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&jQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class td{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function HQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function qQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function GQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function KQ(t,e,n,r,s,i,o=!0){const a=UQ(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return qQ(c,e),HQ(c,n),WQ(c,i),GQ(c,r),new zQ(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QQ(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function YQ(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n){this._service=e,n instanceof rr?this._location=n:this._location=rr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zh(e,n)}get root(){const e=new rr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return YQ(this._location.path)}get storage(){return this._service}get parent(){const e=QQ(this._location.path);if(e===null)return null;const n=new rr(this._location.bucket,e);return new zh(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw MQ(e)}}function IC(t,e){const n=e==null?void 0:e[NQ];return n==null?null:rr.makeFromBucketSpec(n,t)}class XQ{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=bP,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=AQ,this._maxUploadRetryTime=bQ,this._requests=new Set,s!=null?this._bucket=rr.makeFromBucketSpec(s,this._host):this._bucket=IC(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rr.makeFromBucketSpec(this._url,e):this._bucket=IC(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){CC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){CC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zh(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new VQ(kP());{const o=KQ(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const RC="@firebase/storage",xC="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JQ="storage";function ZQ(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new XQ(n,r,s,e,ei)}function eY(){qs(new ns(JQ,ZQ,"PUBLIC").setMultipleInstances(!0)),Bn(RC,xC,""),Bn(RC,xC,"esm2017")}eY();function NC(){const t=()=>{const n=document.querySelector(".header"),r=parseInt(te.viewport.scrollTop());te.lock.stat||(r>100?n.classList.add("trans"):n.classList.remove("trans"))},e=async n=>{const r=QW(MW(eo,"bbs"),YW("timestamp","desc"),XW(n));(await n5(r)).forEach(i=>{})};return T.useEffect(()=>{window.scrollTo(0,0);const n=document.querySelector(".header");return n.classList.add("home"),window.addEventListener("scroll",t),e(10),()=>{n.classList.remove("home"),window.removeEventListener("scroll",t)}},[]),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page home",children:d.jsxs("main",{className:"contents",children:[d.jsx(xQ,{opts:{media:"movie"}}),d.jsx(wC,{opts:{media:"movie",list:"/trending/movie/week",cate:"0",title:"Weekly 영화 TOP 20"}}),d.jsx(lo,{opts:{media:"movie",list:"discover/movie",cate:"16",title:"영화/애니메이션"}}),d.jsx(lo,{opts:{media:"movie",list:"discover/movie",cate:"10402",title:"영화/음악"}}),d.jsx(lo,{opts:{media:"movie",list:"discover/movie",cate:"99",title:"영화/다큐멘터리"}}),d.jsx(wC,{opts:{media:"tv",list:"/trending/tv/week",cate:"0",title:"Weekly TV TOP 20"}}),d.jsx(lo,{opts:{media:"tv",list:"discover/tv",cate:"16",title:"TV/애니메이션"}}),d.jsx(lo,{opts:{media:"tv",list:"discover/tv",cate:"10764",title:"TV/Reality"}}),d.jsx(lo,{opts:{media:"tv",list:"discover/tv",cate:"80",title:"TV/범죄"}})]})})]})}function AC(){return T.useEffect(()=>()=>{},[]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"container page n404",children:d.jsx("main",{className:"contents",children:"404"})})})}function tY({opts:t}){const e=[];for(let n=0;n<=t.num;n++)t.type=="movie-list"&&e.push(d.jsx("li",{children:d.jsxs("div",{className:"box",children:[d.jsx("div",{className:"cont",children:d.jsx("div",{className:"pics"})}),d.jsx("div",{className:"tits"})]})},n));return e}function nY({data:t,cate:e}){const n=`//image.tmdb.org/t/p/w200/${t.poster_path}`,r=t.title||t.name,s=i=>i.target.src="./img/common/non_poster.png";return d.jsx(d.Fragment,{children:d.jsxs(gt,{className:"box",to:""+t.id,children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${n}`,alt:r,className:"img",onError:s})}),d.jsx("div",{className:"desc",children:d.jsx(gu,{point:t.vote_average})})]}),d.jsx("div",{className:"tits",children:r})]})})}function rY({menu:t,opts:e}){let n=Sn();const[r,s]=T.useState(0),i=a=>{const l=document.querySelector(".cate-box>.inr"),c=l.offsetWidth*.5,u=document.querySelector(".cate-box ul>li .bt.active"),h=u==null?void 0:u.offsetLeft,f=(u==null?void 0:u.offsetWidth)*.5,p=h-c+f;l.scrollTo(p,0),s(a),console.log("slideActive == "+r+"  "+h)},o=n.cate;return T.useEffect(()=>(i(r),()=>{}),[o,r,t,e]),d.jsx(d.Fragment,{children:d.jsx("div",{className:"cate-box "+o,children:d.jsx("div",{className:"inr",children:d.jsxs("ul",{className:"list",children:[d.jsx("li",{"data-index":"0",className:o==="0"?"active":null,children:d.jsx(Mn,{type:"button",className:"bt",to:`/list/${e}/0`,children:"전체"})}),t.map((a,l)=>d.jsx("li",{"data-index":l+1,cate:a.id,className:a.id.toString()===o?"active":null,children:d.jsxs(Mn,{type:"button",className:"bt",to:`/list/${e}/${a.id}`,children:[" ",a.name," "]})},a.id))]})})})})}function sY(){let t=Sn();console.log(t);let e=un(),n=En(),r=t.menu;const s=t.cate;s===void 0&&n(`/${r}/0`),console.log(t,e.pathname);let i;i=s!=="0"?`&with_genres=${s}`:"",console.log(i);const[o,a]=T.useState([]),[l,c]=T.useState([]);let u=1;const[h,f]=T.useState({}),p=async()=>{let H={genr:{}};await Zt.get(`https://api.themoviedb.org/3/genre/${r}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(O=>{O.data.genres.forEach(k=>H.genr[k.id]=k.name),c(O.data.genres)}).then(O=>{f(H),console.log(H)})},[m,g]=T.useState({pge:0,tot:0}),[y,_]=T.useState(""),[v,E]=T.useState(""),[w,S]=T.useState(""),R=H=>{console.log("로드 "+H);let O=`https://api.themoviedb.org/3/discover/${r}?${i}&page=${H}&language=ko&region=kr&sort_by=vote_count.desc&api_key=f76021076e8162ea929bd2cea62c6646`;Zt.get(O).then(k=>{console.log(k.data),a(N=>[...N,...k.data.results]),console.log(`callStat : ${b} , page : ${H} , res.data.total_pages :  ${k.data.total_pages} `),b=!0,console.log(`callStat : ${b} , page : ${H} , res.data.total_pages :  ${k.data.total_pages} `),S(""),g({pge:k.data.page,tot:k.data.total_pages}),k.data.total_pages<=H?(b=!1,E("hide")):E(""),_("")}).catch(k=>{console.log(k),b=!0,S("error")})};console.log(o),T.useEffect(()=>(a([]),window.scrollTo(0,0),R(u),p(),document.querySelector(".header").classList.remove("trans"),window.addEventListener("scroll",P),()=>{window.removeEventListener("scroll",P)}),[s,r]);let b=!0;const P=()=>{const H=te.viewport.height(),O=te.viewport.docHeight(),k=te.viewport.scrollTop()+H+300;if(console.log(b+" =  "+u),O<=k&&b===!0){if(console.log("바닥도착"),_("active"),b=!1,console.log(b),te.lock.stat){b=!0;return}setTimeout(()=>{u=u+1,R(u)},400)}};return d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page movie list",children:d.jsxs("main",{className:"contents",children:[d.jsx("div",{className:"poster-list",children:o.length?d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"list",children:o.map((H,O)=>d.jsx("li",{"data-id":H.id+"_"+O,children:d.jsx(nY,{data:H,cate:h,opts:r})},H.id+"_"+O))}),d.jsxs("div",{className:`ui-loadmore ${y} ${v}  ${w}`,children:[d.jsx("em",{children:d.jsx("i",{className:"fa-duotone fa-spinner"})}),d.jsx("button",{onClick:H=>{b=!0,R(u)},type:"button",className:"btn-load",children:d.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]}):d.jsx("ul",{className:"list skelt",children:d.jsx(tY,{opts:{type:"movie-list",num:20}})})}),d.jsx("div",{className:"page-set",children:m.tot>0&&d.jsx("div",{className:"inr",children:d.jsxs("div",{className:"pg",children:[m.pge," / ",m.tot]})})})]})}),d.jsx(rY,{menu:l,opts:r})]})}function iY({overview:t}){T.useEffect(()=>(e.set(),()=>{}),[]);const e={evt:n=>{const r=n.currentTarget,s=r.closest("[data-ui='elips']"),i=r.querySelector(".btn-tog");s.classList.contains("open")?(i.innerHTML='<span>더보기</span> <i class="fa-solid fa-caret-down"></i>',s.classList.remove("open")):(i.innerHTML='<i class="fa-solid fa-caret-up"></i> <span>숨기기</span>',s.classList.add("open"))},set:n=>{const r=document.querySelector("[data-ui='elips']"),s=r.querySelector(".txt"),i=s.offsetHeight,o=s.scrollHeight;console.log("scrollHeight == ",o,".txtHeight == ",i),i<o&&r.classList.add("elips")}};return d.jsx("div",{className:"vinf","data-ui":"elips",onClick:e.evt,onKeyUp:n=>n.key==="Enter"?e.evt(n):null,tabIndex:0,children:d.jsxs("div",{className:"txt",children:[t,d.jsxs("span",{className:"btn-tog",children:[d.jsx("span",{children:"더보기"})," ",d.jsx("i",{className:"fa-solid fa-caret-down"})]})]})})}function oY({postID:t,opts:e}){const[n,r]=T.useState(null),s=`https://api.themoviedb.org/3/${e}/${t}/reviews?api_key=f76021076e8162ea929bd2cea62c6646`,i=()=>{Zt.get(s).then(a=>{console.log("리뷰들",a.data),r(a.data)}).catch(a=>{console.log(a)})},o={evt:a=>{console.log(a.currentTarget);const c=a.currentTarget.closest("[data-ui='elips']");c.classList.contains("open")?c.classList.remove("open"):c.classList.add("open")},set:a=>{document.querySelectorAll(".ut-reply ul.rlist>li .rpset .ment").forEach(c=>{const u=c.offsetHeight,h=c.scrollHeight;u<h?c.closest("[data-ui='elips']").classList.add("elips"):c.closest("[data-ui='elips']").classList.remove("elips")})}};return T.useEffect(()=>(i(),()=>{}),[]),n?(o.set(),d.jsx(d.Fragment,{children:n.results.length?d.jsxs("div",{className:"sect revw",children:[d.jsx("h4",{className:"tts",children:"리뷰"}),d.jsx("div",{className:"ut-reply",children:d.jsx("div",{className:"rplist",children:d.jsx("ul",{className:"rlist a",children:n.results&&n.results.map((a,l)=>{let u=(a.author_details.avatar_path||"").replace(/^\/+/g,"");return d.jsx("li",{children:d.jsxs("div",{className:"rpset",children:[d.jsx("div",{className:"user",children:d.jsx("span",{className:"pic",children:d.jsx("img",{src:u,alt:"사진",className:"img",onError:h=>{h.target.src="./img/common/user.png"}})})}),d.jsxs("div",{className:"infs",children:[d.jsx("div",{className:"name",children:d.jsx("em",{className:"nm",children:a.author_details.name||a.author_details.username})}),d.jsx("div",{className:"desc",children:d.jsx("em",{className:"time",children:te.dateForm(new Date(a.created_at))})}),d.jsx("div",{"data-ui":"elips",className:"mbox",children:d.jsx("div",{className:"ment txt",onClick:o.evt,children:a.content})})]})]})},l)})})})})]}):null})):d.jsx("div",{children:"Loading..."})}function PP({postID:t,popTitle:e}){let n=Sn(),r=n.menu;const[s,i]=T.useState(null),[o,a]=T.useState(null),[l,c]=T.useState(null),[u,h]=T.useState(""),f=`https://api.themoviedb.org/3/${r}/${t}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,p=()=>{Zt.get(f).then(S=>{console.log("영화정보",S.data),i(S.data);let R=S.data.backdrop_path?S.data.backdrop_path:S.data.poster_path;h("https://image.tmdb.org/t/p/w780"+R),e(S.data.title||S.data.name)}).catch(S=>{console.log(S)})},m=`https://api.themoviedb.org/3/${r}/${t}/credits?&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,g=()=>{Zt.get(m).then(S=>{console.log("출연,제작",S.data),a(S.data)}).catch(S=>{console.log(S)})},y=`https://api.themoviedb.org/3/${r}/${t}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,_=()=>{Zt.get(y).then(S=>{console.log("영상",S.data),c(S.data)}).catch(S=>{console.log(S)})},v=()=>{te.scrollTo(".popup.movie .pct",0,200)};T.useEffect(()=>(v(),p(),g(),_(),()=>{}),[n.id]);const E=S=>S.target.src="./img/common/non_poster.png",w=S=>S.target.src="./img/common/user.png";return d.jsx(d.Fragment,{children:d.jsxs("div",{className:"movie-detail",children:[d.jsx("div",{className:"bgs",style:{backgroundImage:`url(${u}) `}}),!s&&!o&&!l&&d.jsx("div",{className:"m-info",children:d.jsxs("div",{className:"ui-loading-dot on",children:[" ",d.jsx("div",{className:"bx",children:d.jsx("em",{children:d.jsx("i",{})})})," "]})}),s&&o&&l&&d.jsxs("div",{className:"m-info",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[s.title&&d.jsx("p",{className:"tit",children:s.title}),s.tagline&&d.jsx("p",{className:"sit",children:s.tagline}),s.original_title&&d.jsx("p",{className:"tio",children:s.original_title}),s.name&&d.jsx("p",{className:"tit",children:s.name}),s.original_name&&d.jsx("p",{className:"tio",children:s.original_name}),d.jsx("div",{className:"star",children:d.jsx(gu,{point:s.vote_average})}),d.jsx("div",{className:"cate",children:s.genres.map(S=>d.jsxs("em",{className:"ico",children:[" ",S.name]},S.id))}),d.jsxs("ul",{className:"lst",children:[d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-thumbs-up"})," ",d.jsx("b",{children:"평점"})," : ",s.vote_average," / 10"]}),s.release_date&&d.jsxs("li",{className:"opn",children:[d.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",d.jsx("b",{children:"개봉"})," : ",s.release_date]}),s.first_air_date&&d.jsxs("li",{className:"opn",children:[d.jsx("i",{className:" fa-regular fa-camera-movie"}),"  ",s.first_air_date," ~ ",s.last_air_date]}),s.runtime&&d.jsxs("li",{className:"tim",children:[d.jsx("i",{className:"fa-regular fa-timer"})," ",d.jsx("b",{children:"시간"})," : ",s.runtime," 분"]}),s.number_of_seasons&&d.jsxs("li",{className:"tim",children:[d.jsx("i",{className:"fa-regular fa-timer"})," ",d.jsx("b",{children:"시즌"})," : ",s.number_of_seasons,"개  - ",d.jsx("b",{children:"에피소드"})," : ",s.number_of_episodes,"개"]}),s.homepage&&d.jsxs("li",{className:"web",children:[d.jsx("i",{className:"fa-regular fa-globe"})," ",d.jsx("a",{className:"lk",href:s.homepage,target:"_blank",rel:"noopener noreferrer",children:s.homepage})]})]})]}),d.jsx("div",{className:"thum",children:d.jsx(gt,{to:"./poster/0",className:"pics",children:d.jsx("img",{src:"//image.tmdb.org/t/p/w300"+s.poster_path,alt:s.title||s.name,className:"img",onError:E})})})]}),s.overview&&d.jsx(iY,{overview:s.overview}),o.cast.length?d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts",children:"출연진"}),d.jsx("div",{className:"lst",children:o.cast.filter((S,R)=>R<999).map(S=>d.jsxs(gt,{to:`./person/${S.id}`,className:"profile",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:"//image.tmdb.org/t/p/w92"+S.profile_path,alt:S.name,className:"img",onError:w,loading:"lazy"})}),d.jsx("div",{className:"name",children:S.name}),d.jsx("div",{className:"carc",children:S.character})]},S.credit_id))})]}):null,l.results.length>0?d.jsxs("div",{className:"sect movs",children:[d.jsx("h4",{className:"tts",children:"영상"}),d.jsx("div",{className:"lst",children:l.results.filter((S,R)=>R<100).reverse().map((S,R)=>d.jsx("div",{className:"box",children:d.jsxs(gt,{to:`./videos/${R+1}`,className:"pic",children:[d.jsx("span",{className:"msg",children:d.jsx("span",{className:"tit",children:S.name})}),d.jsx("i",{className:"ico fa-solid fa-play"}),d.jsx("img",{className:"img",src:"//i.ytimg.com/vi/"+S.key+"/sddefault.jpg",onError:w,alt:S.name,loading:"lazy"})]})},S.id))})]}):null,o.crew.length?d.jsxs("div",{className:"sect cast",children:[d.jsx("h4",{className:"tts",children:"제작진"}),d.jsx("div",{className:"lst",children:o.crew.filter((S,R)=>R<999).map(S=>d.jsxs(gt,{to:`./person/${S.id}`,className:"profile",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:"//image.tmdb.org/t/p/w92"+S.profile_path,alt:S.name,className:"img",onError:w,loading:"lazy"})}),d.jsx("div",{className:"name",children:S.name}),d.jsx("div",{className:"carc",children:S.known_for_department})]},S.credit_id))})]}):null,s.images.posters.length?d.jsxs("div",{className:"sect post",children:[d.jsxs("h4",{className:"tts",children:["포스터 : ",s.images.posters.length+1]}),d.jsxs("div",{className:"lst",children:[d.jsx("div",{className:"box","data-index":0,children:d.jsx(gt,{to:"./poster/0",className:"pic",children:d.jsx("img",{src:"//image.tmdb.org/t/p/w300"+s.poster_path,alt:s.title,className:"img",onError:E,loading:"lazy"})})}),s.images.posters.map((S,R)=>d.jsx("div",{className:"box","data-index":R+1,children:d.jsx(gt,{to:`./poster/${R+1}`,className:"pic",children:d.jsx("img",{src:"//image.tmdb.org/t/p/w300"+S.file_path,alt:S.name,className:"img",onError:E,loading:"lazy"})})},R))]})]}):null,d.jsx(oY,{postID:t,opts:r}),s.production_companies.length?d.jsx(d.Fragment,{children:d.jsx("div",{className:"sect comp",children:s.production_companies.map(S=>S.logo_path?d.jsx("span",{className:"logo",children:d.jsx("img",{src:"//image.tmdb.org/t/p/w92"+S.logo_path,alt:S.name,className:"img"})},S.id):d.jsx("span",{className:"logo",children:S.name},S.id))})}):null]})]})})}function Ym({prop:t}){let e=Sn(),n=En();t.page=t.page||"page";const r=e.id,[s,i]=T.useState(0),o=g=>i(parseInt(g.target.scrollTop)),a=()=>t.page==="list"||t.page==="search"||t.page==="home",l=()=>{te.scrollTo(".popup.movie .pct",0,200)};T.useEffect(()=>(l(),u(),window.addEventListener("resize",u),c.current.classList.add("ani","on"),te.lock.using(!0),()=>{window.removeEventListener("resize",u),console.log("컴포넌트가 화면에서 사라짐"),te.lock.using(!1)}),[e.id]);const c=T.useRef(),u=()=>{const g=c.current,y=g.offsetHeight,_=g.querySelector(".phd").offsetHeight;console.log(y,_),g.querySelector(".pct").style.height=y-_+"px"},[h,f]=T.useState(""),p=g=>f(g),m=()=>{const g=`${location.origin}/#/${e.menu}/${r}`;navigator.clipboard.writeText(g),te.alert(`<b>${h}</b><br> URL 주소를 복사했습니다 <br> <a class="under" href="${g}" target="_blank">${g}</a>`)};return d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("article",{ref:c,className:`pop-layer a bottom popup movie view ${a()?"":"page"} `,children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:`phd ${s>50?"trans":""}`,children:d.jsxs("div",{className:"inr",children:[d.jsx("div",{className:"ptit",children:h}),d.jsx("button",{type:"button",className:"btn-share",onClick:m,children:d.jsx("i",{className:"fa-regular fa-share-nodes"})})]})}),a()?d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{n(-1)},children:d.jsx("i",{className:"fa-regular fa-arrow-left"})}):d.jsx("button",{type:"button",className:"btn-pop-close home",onClick:()=>{n("/home/")},children:d.jsx("i",{className:"fa-solid fa-house"})}),d.jsx("div",{className:"pct",onScroll:o,children:d.jsx("main",{className:"poptents",children:d.jsx(PP,{postID:r,popTitle:p})})}),d.jsx("div",{className:`floatpop ${s>50?"on-top":""}`,children:d.jsxs("button",{type:"button",className:"bt top",onClick:l,children:[d.jsx("i",{className:"fa-solid fa-arrow-up"}),d.jsx("em",{children:"위로"})]})})]})})]})}function aY(){let t=Sn();console.log(t);let e=un();t.cate,console.log(t,e.pathname);const n=t.id;return T.useEffect(()=>(window.scrollTo(0,0),()=>{}),[]),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page detail",children:d.jsx("main",{className:"contents",children:d.jsx(PP,{postID:n})})})]})}function nd({prop:t}){let e=En(),n=Sn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var w,S;let y=document.querySelector(".popup.poster"),_=y.offsetHeight||0,v=((w=y.querySelector(".pbt"))==null?void 0:w.offsetHeight)||0,E=((S=y.querySelector(".phd"))==null?void 0:S.offsetHeight)||0;_=_-E||0,console.log(_),y.querySelector(".pct").style.maxHeight=_-v+"px"},[o,a]=T.useState(null),[l,c]=T.useState(""),[u,h]=T.useState(""),f=()=>o.images.posters.length>1,p=`https://api.themoviedb.org/3/${r}/${s}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646&append_to_response=images&include_image_language=en,null`,m=()=>{Zt.get(p).then(y=>{console.log("영화정보",y.data),a(y.data);let _=y.data.poster_path?y.data.poster_path:y.data.backdrop_path;c("//image.tmdb.org/t/p/w780"+_),h(y.data.title||y.data.name)}).catch(y=>{console.log(y)})};T.useEffect(()=>(console.log(document.querySelector(".popup.poster .pct").offsetHeight),m(),i(),window.addEventListener("resize",i),document.querySelector(".popup.poster").classList.add("ani","on"),te.lock.using(!0),()=>{window.removeEventListener("resize",i),te.lock.using(!1)}),[]);const g=y=>y.target.src="./img/common/non_poster.png";return d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer c bottom popup poster",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:u})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsx("main",{className:"poptents",children:d.jsx("div",{className:"poster-box",children:o&&o.images.posters?d.jsxs(mu,{className:"swiper-wrapper swiper slide",modules:[wp,Tp,Cp,Rp,SP,Ip],spaceBetween:20,slidesPerView:1,loop:f(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},autoHeight:!0,onSwiper:y=>{console.log("initialize swiper",y),y.slideToLoop(n.nums,0)},onSlideChange:()=>{},children:[d.jsx(zs,{tag:"li",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsx("img",{src:l,className:"img",alt:`${u}_Poster[1]`,onError:g,loading:"lazy"}),d.jsx("div",{className:"lazy-preloader",children:d.jsx("i",{className:"fa-duotone fa-spinner"})})]})})}),o.images.posters.map((y,_)=>{const v=`//image.tmdb.org/t/p/w780${y.file_path}`;return d.jsx(zs,{tag:"li",className:"swiper-slide pbox",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsx("img",{src:`${v}`,alt:`${u}_Poster[${_+2}]`,className:"img",onError:g,loading:"lazy"}),d.jsx("div",{className:"lazy-preloader",children:d.jsx("i",{className:"fa-duotone fa-spinner"})})]})})},_)})]}):null})})})]})})})}function rd(){let t=Sn(),e=En();const n=t.opts;console.log(t);const r=t.nums,s=()=>{var S,R;let _=document.querySelector(".popup.person"),v=_.offsetHeight||0,E=((S=_.querySelector(".pbt"))==null?void 0:S.offsetHeight)||0,w=((R=_.querySelector(".phd"))==null?void 0:R.offsetHeight)||0;v=v-w||0,_.querySelector(".pct").style.maxHeight=v-te.getSafe.top()-te.getSafe.watch()-E-10+"px",console.log(v)},[i,o]=T.useState(null),[a,l]=T.useState(null),[c,u]=T.useState(null),h=`https://api.themoviedb.org/3/person/${r}?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,f=()=>{Zt.get(h).then(_=>{console.log("인물 정보",_.data),o(_.data)}).catch(_=>{console.log(_)})},p=`https://api.themoviedb.org/3/person/${r}/movie_credits?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,m=()=>{Zt.get(p).then(_=>{console.log("인물 출연작",_.data),l(_.data)}).catch(_=>{console.log(_)})},g=`https://api.themoviedb.org/3/person/${r}/images?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`,y=()=>{Zt.get(g).then(_=>{console.log("인물 사진",_.data),u(_.data)}).catch(_=>{console.log(_)})};return T.useEffect(()=>(console.log(document.querySelector(".popup.person .pct").offsetHeight),f(),m(),y(),s(),window.addEventListener("resize",s),document.querySelector(".popup.person").classList.add("ani","on"),te.lock.using(!0),()=>{window.removeEventListener("resize",s),te.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer c bottom popup person",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit"})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsxs("main",{className:"poptents",children:[!i&&!a&&!c&&d.jsx("div",{className:"m-info",children:d.jsxs("div",{className:"ui-loading-dot on",children:[" ",d.jsx("div",{className:"bx",children:d.jsx("em",{children:d.jsx("i",{})})})," "]})}),i&&a&&c&&d.jsxs("div",{className:"m-info",children:[d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"desc",children:[i.title&&d.jsx("p",{className:"tit",children:i.title}),i.original_title&&d.jsx("p",{className:"tio",children:i.original_title}),i.name&&d.jsx("p",{className:"tit",children:i.name}),i.known_for_department&&d.jsx("p",{className:"tio",children:i.known_for_department}),i.original_name&&d.jsx("p",{className:"tio",children:i.original_name}),d.jsxs("ul",{className:"lst",children:[i.birthday&&d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"}),"  ",i.birthday]}),i.place_of_birth&&d.jsxs("li",{className:"vot",children:[d.jsx("i",{className:"fa-regular fa-location-dot"}),"  ",i.place_of_birth]}),d.jsxs("li",{className:"vot",children:[" ",d.jsx("i",{className:"fa-regular fa-star"})," ",i.popularity," / 100 "]}),i.homepage&&d.jsxs("li",{className:"web",children:[d.jsx("i",{className:"fa-regular fa-globe"})," ",d.jsx("a",{className:"lk",href:i.homepage,target:"_blank",rel:"noopener noreferrer",children:i.homepage})]})]})]}),d.jsx("div",{className:"thum",children:d.jsx("div",{className:"pics",children:d.jsx("img",{src:`https://image.tmdb.org/t/p/w780${i.profile_path}`,alt:i.title,className:"img",onError:_=>{_.target.src="./img/common/user.png"}})})})]}),a.cast.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"출연작 "}),d.jsx("div",{className:"lst",children:a.cast.map((_,v)=>d.jsx("div",{className:"box","data-index":v+1,children:d.jsx(gt,{to:`/movie/${_.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.poster_path,alt:_.title,className:"img",onError:E=>{E.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null,a.crew.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"제작참여 "}),d.jsx("div",{className:"lst",children:a.crew.map((_,v)=>d.jsx("div",{className:"box","data-index":v+1,children:d.jsx(gt,{to:`/movie/${_.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.poster_path,alt:_.title,className:"img",onError:E=>{E.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null,c.profiles.length?d.jsxs("div",{className:"sect post",children:[d.jsx("h4",{className:"tts",children:"사진 "}),d.jsx("div",{className:"lst",children:c.profiles.map((_,v)=>d.jsx("div",{className:"box","data-index":v+1,children:d.jsx("div",{to:`/list/${n}/0/${_.id}`,className:"pic",children:d.jsx("img",{src:"https://image.tmdb.org/t/p/w185"+_.file_path,alt:_.title,className:"img",onError:E=>{E.target.src="./img/common/non_poster.png"},loading:"lazy"})})},v))})]}):null]})]})})]})})})}function sd({prop:t}){let e=En(),n=Sn();console.log(n);let r=n.menu;console.log(n),console.log(r);const s=n.id,i=()=>{var g,y;let h=document.querySelector(".popup.videos"),f=h.offsetHeight||0,p=((g=h.querySelector(".pbt"))==null?void 0:g.offsetHeight)||0,m=((y=h.querySelector(".phd"))==null?void 0:y.offsetHeight)||0;f=f-m||0,console.log(f),h.querySelector(".pct").style.maxHeight=f-p+"px"},[o,a]=T.useState(null),l=()=>o.results.length>1,c=`https://api.themoviedb.org/3/${r}/${s}/videos?language=ko&region=kr&language=ko&api_key=f76021076e8162ea929bd2cea62c6646`,u=()=>{Zt.get(c).then(h=>{console.log("영상",h.data),a(h.data)}).catch(h=>{console.log(h)})};return T.useEffect(()=>(console.log(document.querySelector(".popup.videos .pct").offsetHeight),u(),i(),window.addEventListener("resize",i),document.querySelector(".popup.videos").classList.add("ani","on"),te.lock.using(!0),()=>{window.removeEventListener("resize",i),te.lock.using(!1)}),[]),d.jsx(d.Fragment,{children:d.jsx("article",{className:"pop-layer b bottom popup videos",children:d.jsxs("div",{className:"pbd",children:[d.jsx("div",{className:"phd",children:d.jsx("div",{className:"inr",children:d.jsx("div",{className:"ptit",children:(o==null?void 0:o.title)||(o==null?void 0:o.name)})})}),d.jsx("button",{type:"button",className:"btn-pop-close back",onClick:()=>{e(-1)},children:d.jsx("i",{className:"fa-regular fa-xmark"})}),d.jsx("div",{className:"pct",children:d.jsx("main",{className:"poptents",children:d.jsx("div",{className:"videos-box",children:o&&o.results.length?d.jsx(mu,{className:"swiper-wrapper swiper slide",modules:[wp,Tp,Cp,Rp,SP,Ip],spaceBetween:20,slidesPerView:1,navigation:!0,loop:l(),lazy:{enabled:!0,loadPrevNext:!0,loadPrevNextAmount:3},observeParents:!0,observeSlideChildren:!0,observer:!0,wrapperTag:"ul",pagination:{clickable:!0,type:"fraction"},onSwiper:h=>{console.log("initialize swiper",h),h.slideTo(n.nums,0)},onSlideChange:()=>{},children:o.results.filter((h,f)=>f<100).reverse().map((h,f)=>d.jsx(zs,{tag:"li",className:"swiper-slide pbox",children:d.jsx("div",{className:"box",children:d.jsxs("div",{className:"pics",children:[d.jsxs("span",{className:"ui-load-glx full",children:[" ",d.jsxs("span",{className:"gbx",children:[" ",d.jsxs("em",{className:"bx",children:[" ",d.jsx("i",{})," ",d.jsx("i",{})," ",d.jsx("i",{})," ",d.jsx("i",{})," "]})," "]})," "]}),d.jsx("iframe",{className:"iframe",title:h.name,src:"//www.youtube.com/embed/"+h.key,allow:"autoplay; encrypted-media",allowFullScreen:!0,loading:"lazy"})]})})},f))}):null})})})]})})})}function lY({data:t,cate:e,opts:n}){const r="//image.tmdb.org/t/p/w200",s=r+t.poster_path,i=t.backdrop_path?r+t.backdrop_path:r+t.poster_path,o=t.title||t.name,a=l=>l.target.src="./img/common/non_poster.png";return d.jsx(d.Fragment,{children:d.jsxs(gt,{className:"box",to:`/search/${n}/${t.id}`,children:[d.jsxs("div",{className:"cont",children:[d.jsx("div",{className:"pics",children:d.jsx("img",{src:`${s}`,alt:o,onError:a,className:"img"})}),d.jsxs("div",{className:"desc",children:[d.jsx("div",{className:"tits",children:o}),d.jsx("div",{className:"text",children:t.overview})]})]}),d.jsxs("div",{className:"info",children:[d.jsx("div",{className:"dd",children:d.jsx("div",{className:"cate",children:d.jsx("span",{className:"txt",children:t.genre_ids.map(l=>d.jsxs("em",{className:"ico",children:[" ",e.genr?e.genr[l]:null," "]},l))})})}),d.jsxs("div",{className:"dd",children:[d.jsxs("div",{className:"hits",children:[d.jsx(gu,{point:t.vote_average}),d.jsxs("em",{children:[d.jsx("i",{className:"fa-regular fa-heart"})," ",d.jsx("b",{children:t.vote_average})]})]}),d.jsxs("div",{className:"date",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," ",d.jsx("b",{children:t.release_date||t.first_air_date})]})]})]}),d.jsx("div",{className:"bgs",style:{backgroundImage:`url(${i})`}})]})})}function bC(){var q;const[t]=fM();let e=Sn();console.log(e);const n=e.menu;let[r,s]=T.useState(t.get("search"));const[i,o]=T.useState([]);let a=1;const[l,c]=T.useState({}),u=async()=>{let j={genr:{}};await Zt.get(`https://api.themoviedb.org/3/genre/${n}/list?language=ko&region=kr&api_key=f76021076e8162ea929bd2cea62c6646`).then(Z=>{Z.data.genres.forEach(I=>j.genr[I.id]=I.name)}).then(Z=>{c(j),console.log(j)}).catch(Z=>{console.log(Z),c(null)})},[h,f]=T.useState({pge:0,tot:0}),[p,m]=T.useState(""),[g,y]=T.useState(""),[_,v]=T.useState(""),E=T.useRef(),w=(j,Z)=>{console.log("검색어 "+r),console.log("로드 "+j),E.current.value=r,Z=r;let I=`https://api.themoviedb.org/3/search/${n}?language=ko&region=kr&page=${j}&query=${Z}&sort_by=release_date.desc&api_key=f76021076e8162ea929bd2cea62c6646`;if(r==null){I="",te.loading.hide();return}Zt.get(I).then(L=>{console.log(L.data),o(V=>[...V,...L.data.results]),console.log(j+"=== "+L.data.total_pages),R=!0,console.log(R),te.loading.hide(),f({pge:L.data.page,tot:L.data.total_pages}),L.data.total_pages<=j?(R=!1,y("hide")):y(""),m("")}).catch(L=>{console.log(L),te.loading.hide(),v("error")})};T.useEffect(()=>(u(),te.loading.show(),w(a),document.querySelector(".header").classList.add("hide"),o([]),!r&&!document.querySelector(".pop-layer")&&E.current.focus(),window.addEventListener("scroll",b),window.scrollTo(0,0),Ee(),document.querySelectorAll("*").forEach(j=>j.addEventListener("focus",S)),document.addEventListener("touchstart",S),()=>{document.querySelector(".header").classList.remove("hide"),window.removeEventListener("scroll",b),document.querySelectorAll("*").forEach(j=>j.removeEventListener("focus",S)),document.removeEventListener("touchstart",S)}),[r,n]);const S=j=>{j.target.closest(".schs-form")};let R=!0;const b=()=>{const j=te.viewport.height(),Z=te.viewport.docHeight(),I=te.viewport.scrollTop()+j+10;if(console.log(R+" =  "+a),Z<=I&&R===!0){if(console.log("바닥도착"),m("active"),R=!1,te.lock.stat){R=!0;return}setTimeout(()=>{a=a+1,w(a)},400)}},P=j=>{var Z,I,L;s((Z=E.current)==null?void 0:Z.value),window.history.replaceState(null,null,`#/search/${n}?search=${(I=E.current)==null?void 0:I.value}`),o([]),w(1),j.preventDefault(),document.querySelector(".movie-list").focus(),ie((L=E.current)==null?void 0:L.value)},H=j=>{E.current.value=j,s(j),window.history.replaceState(null,null,`#/search/${n}?search=${j}`),new URL(window.location).searchParams.set("search",j)},O=j=>{s(j.target.value),o([]);const Z=new URL(window.location);Z.searchParams.set("search",j.target.value),console.log(Z),window.history.replaceState(null,null,`#/search/${n}?search=${j.target.value}`)},k=T.useRef(),N=T.useRef(),[A,z]=T.useState([]),ie=j=>{let Z=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]');j.trim()!==""&&Z.unshift(j);let I=[...new Set(Z)].slice(0,10);localStorage.setItem("keyword",JSON.stringify(I)),z(I)},Ee=j=>{var L,V;let Z=JSON.parse(localStorage.getItem("keyword")||'["스타워즈","포레스트 검프"]'),I=[...new Set(Z)];z(I),(L=N.current)==null||L.classList.add("open"),(V=A.current)==null||V.classList.add("open")},we=(j,Z)=>{const I=A.filter(V=>V!==Z);let L=[...new Set(I)];return localStorage.setItem("keyword",JSON.stringify(L)),z(L),k.current.classList.add("open"),setTimeout(()=>E.current.focus()),j.preventDefault(),!1},$=(j,Z)=>{console.log(j),E.current.value="",E.current.focus()};return console.log((q=E.current)==null?void 0:q.value),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page movie search",children:d.jsxs("main",{className:"contents",children:[d.jsx("div",{className:"schs-form",ref:N,children:d.jsx("div",{className:"inr",children:d.jsxs("form",{className:"form",onSubmit:P,children:[d.jsxs("div",{className:"bts",children:[d.jsx(Mn,{className:"bt",to:`/search/movie?search=${r}`,children:"Movie"}),d.jsx(Mn,{className:"bt",to:`/search/tv?search=${r}`,children:"TV"})]}),d.jsxs("span",{className:"input",children:[d.jsx("input",{type:"text",placeholder:"검색어를 입력하세요.",ref:E,required:!0,maxLength:12,onMouseDown:Ee,onChange:O,onInvalid:j=>j.preventDefault()}),d.jsx("button",{type:"button",className:"btdel",title:"삭제",onClick:$,children:d.jsx("i",{className:"fa-regular fa-xmark"})})]}),d.jsx("button",{type:"submit",className:"bt-sch",children:d.jsx("i",{className:"fa-regular fa-search"})})]})})}),d.jsx("div",{className:A.length>0?"recent-kwds open":"recent-kwds",ref:k,children:A.length<1?"":d.jsx("ul",{className:"lst",children:A.map(j=>d.jsxs("li",{children:[d.jsx("button",{className:"kwd",type:"button",onClick:()=>H(j),children:j}),d.jsx("button",{className:"del",type:"button",onClick:Z=>we(Z,j),children:d.jsx("i",{className:"fa-regular fa-xmark"})})]},j))})}),d.jsx("div",{className:"movie-list",tabIndex:"-1",children:i.length<=0?d.jsxs("div",{className:"nodata",children:[d.jsx("i",{className:"fa-solid fa-file-magnifying-glass"}),r?d.jsxs("p",{children:[" ‟",r,"” 검색 결과가 없습니다."]}):null]}):d.jsxs(d.Fragment,{children:[d.jsx("ul",{className:"list",children:i.map((j,Z)=>d.jsx("li",{"data-id":j.id+"_"+Z,children:d.jsx(lY,{data:j,cate:l,opts:n})},j.id+"_"+Z))}),i.length>0&&d.jsxs("div",{className:`ui-loadmore ${p} ${g}  ${_}`,children:[d.jsx("em",{children:d.jsx("i",{className:"fa-duotone fa-spinner"})}),d.jsx("button",{onClick:j=>{R=!0,w(a,j)},type:"button",className:"btn-load",title:"불러오기",children:d.jsx("i",{className:"fa-regular fa-rotate-right"})})]})]})}),d.jsx("div",{className:"page-set",children:i.length>0&&d.jsx("div",{className:"inr",children:d.jsxs("div",{className:"pg",children:[h.pge," / ",h.tot]})})})]})})]})}function cY(){let t=Sn();console.log(t),un();let e=En();t.menu;const n={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/missing-email":"정확한 이메일을 입력하세요","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},r=T.useRef(),s=T.useRef(),i=T.useRef(),o=async()=>{const m=r.current.value,g=s.current.value,y=ss();te.loading.show(),console.log(m,g,y),await XS(y,m,g).then(_=>{const v=_.user;console.log(v.email),te.loading.hide(),te.alert(""+v.email+"<br> 로그인 성공!",{ycb:()=>{e("/")}})}).catch(_=>{console.log(_.code,_);const v=n[_.code];te.loading.hide(),te.alert(v,{tit:"로그인 실패"})}),i.current.checked==!1&&B$(y,py).then(()=>XS(y,m,g)).catch(_=>{const v=_.code,E=_.message;console.log(v,"====",E)})},a=ss(),l=()=>{const m=new fr;dl(a,m)},c=()=>{const m=new jr;dl(a,m)},u=()=>{const m=new $r;dl(a,m)},h=()=>{const m=new Fr;dl(a,m)},f=()=>{const m=i.current.checked;if(console.log(m),m){const g=`
        자동로그인을 사용하시면<br> 
        다음부터 회원아이디와 비밀번호를<br>
        입력하실 필요가 없습니다.<br><br>
        공공장소에서는 개인정보가 유출될 수 있으니 사용을 자제하여 주십시오.<br><br>
        자동로그인을 사용하시겠습니까?
      `;te.confirm(g,{tit:"로그인 설정",ycb:()=>{i.current.checked=!0},ncb:()=>{i.current.checked=!1},ybt:"예",nbt:"아니오"})}},p=async(m,g)=>{await jE(Pa(eo,"member",m.uid),{id:m.uid,email:m.email||m.providerData.email,nick:m.displayName,avatar:null,photoURL:m.photoURL,liked:[],date:new Date}).then(()=>{e("/"),console.log("멤버 생성: ")}).catch(y=>{console.error("멤버 생성 Error : ",y)})};return T.useEffect(()=>(window.scrollTo(0,0),Q1(a).then(m=>{m.user&&(console.log("Google 로그인 성공:",m.user),p(m.user))}).catch(m=>{console.log("Google 로그인 실패:"),console.log(m)}),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page user sign in",children:d.jsx("main",{className:"contents",children:d.jsxs("div",{className:"sign-form",children:[d.jsxs("div",{className:"sns form",children:[d.jsx("div",{className:"tit",children:d.jsx("em",{className:"t",children:"SNS 로그인"})}),d.jsxs("div",{className:"bts",children:[d.jsxs("button",{type:"button",className:"btn",onClick:l,children:[d.jsx("i",{className:"fa-brands fa-google"}),d.jsx("em",{children:"Google "})]}),d.jsxs("button",{type:"button",className:"btn",onClick:c,children:[d.jsx("i",{className:"fa-brands fa-github"}),d.jsx("em",{children:"Github "})]}),d.jsxs("button",{type:"button",className:"btn",onClick:u,children:[d.jsx("i",{className:"fa-brands fa-facebook"}),d.jsx("em",{children:"Facebook "})]}),d.jsxs("button",{type:"button",className:"btn",onClick:h,children:[d.jsx("i",{className:"fa-brands fa-twitter"}),d.jsx("em",{children:"Twitter "})]})]})]}),d.jsxs("div",{className:"eml form",children:[d.jsx("div",{className:"tit",children:d.jsx("em",{className:"t",children:"Email 계정 로그인"})}),d.jsxs("ul",{className:"list",children:[d.jsx("li",{children:d.jsx("div",{className:"dd",children:d.jsx("span",{className:"input",children:d.jsx("input",{type:"email",ref:r,placeholder:"이메일 (user@test.com)"})})})}),d.jsx("li",{children:d.jsx("div",{className:"dd",children:d.jsx("span",{className:"input",children:d.jsx("input",{type:"password",ref:s,placeholder:"비밀번호 (123456)"})})})})]}),d.jsxs("div",{className:"savelogin",children:[d.jsxs(gt,{className:"bt",to:"/user/signup",children:["회원가입하러 가기 ",d.jsx("i",{className:"fa-regular fa-chevron-right"})]}),d.jsxs("label",{className:"checkbox",children:[d.jsx("input",{type:"checkbox",ref:i,onChange:f}),d.jsx("span",{className:"txt",children:"자동 로그인"})]})]}),d.jsx("div",{className:"btsbox btn-set",children:d.jsxs("button",{type:"button",className:"btn",onClick:o,children:[d.jsx("i",{className:"fa-regular fa-right-to-bracket"}),d.jsx("em",{children:"로그인"})]})})]})]})})})]})}function uY(){let t=Sn();console.log(t),un();let e=En();t.menu;const n=ss(),r=new fr,s=async(i,o)=>{await jE(Pa(eo,"member",i.uid),{id:i.uid,email:i.email,nick:i.displayName,avatar:0,liked:[],date:new Date}).then(()=>{te.loading.show(),console.log("멤버 생성: "),e(o)}).catch(a=>{console.error("멤버 생성 Error : ",a)})};return T.useEffect(()=>(dl(n,r),Q1(n).then(i=>{i.user&&(console.log("Google 로그인 성공:",i.user),s(i.user,"/"),e(-1))}).catch(i=>{console.error("Google 로그인 실패:",i)}),()=>{})),d.jsx(d.Fragment,{children:d.jsx("div",{className:"container page user sign in",children:d.jsx("main",{className:"contents",children:"ssssssssssssss"})})})}function dY(){let t=En();T.useRef(),T.useRef(),T.useRef();const e=async()=>{const n=ss();W$(n).then(()=>{t("/")}).catch(r=>{console.log(r)})};return T.useEffect(()=>(window.scrollTo(0,0),e(),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page user sign out",children:d.jsx("main",{className:"contents"})})]})}function hY(){let t=Sn();un();let e=En();t.menu;const[n,r,s,i]=[T.useRef(),T.useRef(),T.useRef(),T.useRef()],o={"auth/user-not-found":"존재하지 않는 사용자 정보로 로그인을 시도한 경우 발생","auth/wrong-password":"비밀번호가 잘못된 경우 발생","auth/too-many-requests":"연속된 로그인 요청이 여러 번 감지되어 로그인 요청이 금지됨","auth/weak-password":"비밀번호가 6자리 미만인 경우 발생","auth/invalid-email":"잘못된 포맷의 이메일을 입력한 경우 발생","auth/email-already-in-use":"이미 사용 중인 이메일 계정 ID로 회원 가입을 시도하는 경우 발생","auth/invalid-phone-number":"잘못된 포맷의 핸드폰 번호를 입력한 경우 발생","auth/internal-error":"비밀번호를 입력하세요."},[a,l]=T.useState({isMail:!1,isPwds:!1,isNick:!1});console.log(a);const c=h=>{const f={mail:/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/,pass:/^(?=.*[A-Za-z])(?=.*\d)[A-Za-z\d]{6,15}$/,nick:/^[a-zA-Z0-9가-힣]{1,15}$/};switch(h.name){case"email":l(p=>({...p,isMail:f.mail.test(h.value)}));break;case"password":l(p=>({...p,isPwds:f.pass.test(h.value)}));break;case"nickname":l(p=>({...p,isNick:f.nick.test(h.value)}));break}},u={joinReq:async()=>{console.log(document.querySelector('[name="avatar"]:checked').value),console.log(n.current.value),console.log(r.current.value),console.log(s.current.value),te.loading.show();const h=n.current.value,f=r.current.value,p=ss();F$(p,h,f).then(m=>{const g=m.user;console.log(g),console.log("uid : "+g.uid),console.log("액세스토큰: "+g.accessToken);const y="/";u.addMember(g,y)}).catch(m=>{te.loading.hide(),console.log(m.code);const g=o[m.code];te.alert(g)}),await U$(user).then(()=>{te.alert(`[${h}] 으로 인증 이메일이 전송되었습니다. `)}).catch(m=>{})},addMember:async(h,f)=>{await jE(Pa(eo,"member",h.uid),{id:h.uid,email:h.email,nick:s.current.value,avatar:document.querySelector('[name="avatar"]:checked').value,liked:[],date:new Date}).then(()=>{te.loading.show(),console.log("멤버 생성: "),te.alert("가입되었습니다.",{ycb:()=>{e(f)}})}).catch(p=>{console.error("멤버 생성 Error : ",p)})}};return console.log(a.isMail,a.isPwds,a.isNick,a.isMail&&a.isPwds&&a.isNick),T.useEffect(()=>(window.scrollTo(0,0),()=>{})),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page user sign up",children:d.jsx("main",{className:"contents",children:d.jsxs("div",{className:"sign-form",children:[d.jsx("div",{className:"hdt",children:"회원가입"}),d.jsx("div",{className:"join form",children:d.jsxs("ul",{className:"list",children:[d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"아바타"}),d.jsx("div",{className:"dd",children:d.jsx("div",{className:"ut-avata",children:et.state.avatar.map((h,f)=>d.jsxs("label",{children:[d.jsx("input",{type:"radio",name:"avatar",ref:i,value:f,defaultChecked:f==0}),d.jsx("span",{className:"txt",children:d.jsx("img",{className:"img",src:h,alt:""})})]},f))})})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"이메일"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:n,name:"email",type:"email",placeholder:"예) test@naver.com",onInput:h=>c(h.currentTarget),"data-webkit-autofill":!0})}),a.isMail?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"이메일 형식에 맞게 입력해주세요."})]})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"비밀번호"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:r,name:"password",type:"password",placeholder:"예) abc123",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isPwds?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"문자,숫자 포함 6자리 이상 입력해주세요."})]})]}),d.jsxs("li",{children:[d.jsx("label",{className:"dt",children:"닉네임"}),d.jsxs("div",{className:"dd",children:[d.jsx("span",{className:"input",children:d.jsx("input",{ref:s,name:"nickname",type:"text",placeholder:"입력하세요",onInput:h=>c(h.currentTarget),maxLength:15})}),a.isNick?d.jsx("i",{className:"chk fa-regular fa-check"}):d.jsx("p",{className:"msg-valid",children:"특수문자 제외하고 입력해주세요."})]})]})]})}),d.jsx("div",{className:"btsbox btn-set",children:d.jsxs("button",{type:"button",className:"btn",disabled:!(a.isMail&&a.isPwds&&a.isNick),onClick:u.joinReq,children:[d.jsx("i",{className:"fa-regular fa-right-to-bracket"}),d.jsx("em",{children:"회원가입"})]})}),d.jsxs("div",{className:"link",children:["이미 회원이신가요? ",d.jsxs(gt,{className:"bt",to:"/user/signin",children:["로그인 하러가기 ",d.jsx("i",{className:"fa-regular fa-chevron-right"})]})]})]})})})]})}function fY(){function t(){const[e,n]=Vo(GG),[r,s]=Vo(KG),i=o=>{n(o.target.value)};return d.jsxs("div",{children:[d.jsx("input",{type:"text",value:e,onChange:i}),d.jsx("br",{}),"Echo: ",e,d.jsx("br",{})," ",r.a,d.jsx("br",{})," ",r.b]})}return Vo(mp),T.useEffect(()=>()=>{}),d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"내 글"}),d.jsx("p",{children:"댓글"})," ",d.jsx(t,{}),d.jsx("p",{children:et.state.userInfo.stat==!0?d.jsxs(gt,{to:"/user/signout",className:"btn logout",children:[d.jsx("i",{className:"fa-regular fa-right-from-bracket"}),"Logout"]}):null})]})}function pY(){return Vo(mp),T.useEffect(()=>()=>{}),d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"찜 리스트"}),d.jsx("div",{className:"nodata",children:d.jsx("p",{className:"msg",children:"좋아요"})})]})}function mY(){const[t,e]=Vo(mp);return T.useEffect(()=>()=>{}),d.jsxs(d.Fragment,{children:[d.jsx("p",{children:"팔로우"}),d.jsx("p",{children:"팔로워"}),d.jsx("p",{children:t.state.avatar.map(n=>d.jsx("span",{style:{width:"33%",display:"inline-flex"},children:d.jsx("img",{style:{width:"100%",display:"inline-flex"},src:n})},n))})]})}function gY(){let t=Sn();un(),En();let e=t.id;const[n,r]=T.useState({});Vo(mp);const s=async u=>{var p;te.loading.show();const h=Pa(eo,"member",u),f=await $E(h);f.exists()?r({id:f.id,uid:f.data().uid,nick:f.data().nick,avatar:f.data().avatar,photoURL:f.data().photoURL,email:f.data().email,date:te.dateForm(f.data().date.toDate()),liked:f.data().liked.length}):console.log("No such document!"),(p=document.querySelector(".page.user"))==null||p.classList.add("load"),document.querySelector(".header .htit").innerText=n.nick||"",te.loading.hide()},[i,o]=T.useState(null),[a,l]=T.useState(null),c=u=>{console.log(u),i.slideToLoop(u)};return T.useEffect(()=>(window.scrollTo(0,0),s(e),()=>{}),[n.nick]),d.jsxs(d.Fragment,{children:[d.jsx(ds,{}),d.jsx("div",{className:"container page user view",children:d.jsxs("main",{className:"contents",children:[et!=null&&et.state?d.jsxs("div",{className:"profile",children:[d.jsxs("div",{className:"user",children:[d.jsx("span",{className:"pic",children:d.jsx("img",{src:et.state.avatar[n.avatar]||n.photoURL,className:"img"})}),d.jsxs("div",{className:"info",children:[d.jsxs("div",{className:"num b",children:[d.jsx("b",{className:"n",children:n.bbsNum||0}),d.jsx("p",{className:"t",children:"Post"})]}),d.jsxs("div",{className:"num p",children:[d.jsx("b",{className:"n",children:n.photoNum||0}),d.jsx("p",{className:"t",children:"Reply"})]}),d.jsxs("div",{className:"num l",children:[d.jsx("b",{className:"n",children:n.liked||0}),d.jsx("p",{className:"t",children:"Liked"})]})]})]}),d.jsxs("div",{className:"desc",children:[d.jsxs("span",{className:"txt",children:[d.jsx("i",{className:"fa-regular fa-calendar-days"})," Join : ",n.date]}),n.email&&d.jsxs("span",{className:"txt",children:[d.jsx("i",{className:"fa-regular fa-envelope"})," ",n.email]})]})]}):null,d.jsxs("div",{className:"user-post",children:[d.jsxs("ul",{className:"menu",children:[d.jsx("li",{className:a==0?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(0),children:d.jsx("span",{children:d.jsx("i",{className:"fa-regular fa-list"})})})}),d.jsx("li",{className:a==1?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(1),children:d.jsx("span",{children:d.jsx("i",{className:"fa-regular fa-popcorn"})})})}),d.jsx("li",{className:a==2?"active":"",children:d.jsx("button",{type:"button",className:"bt",onClick:()=>c(2),children:d.jsx("span",{children:d.jsx("i",{className:"fa-solid fa-users"})})})})]}),d.jsxs(mu,{className:"swiper-wrapper swiper pctn ",modules:[wp,Tp,Cp,Rp,Ip],spaceBetween:0,slidesPerView:1,loop:!0,autoplay:!1,wrapperTag:"div",initialSlide:0,autoHeight:!0,onSwiper:u=>{console.log("initialize swiper",u),o(u),l(0)},onSlideChange:u=>{console.log("slide change",u.realIndex,u.activeIndex),l(u.realIndex)},children:[d.jsx(zs,{tag:"section",className:"ctn post",children:d.jsx(fY,{})}),d.jsx(zs,{tag:"section",className:"ctn like",children:d.jsx(pY,{})}),d.jsx(zs,{tag:"section",className:"ctn repl",children:d.jsx(mY,{})})]})]})]})})]})}function _Y(){return et.authState(),T.useEffect(()=>{const t=ss();return ff(t,e=>{e&&JSON.parse(sessionStorage.getItem("user"))}),()=>{}},[]),d.jsx(d.Fragment,{children:d.jsx(W3,{children:d.jsxs(cM,{children:[d.jsxs(rm,{children:[d.jsx(ce,{path:"home/*",element:d.jsx(oo,{prop:{headerType:"main"}})}),d.jsx(ce,{path:":menu/*",element:d.jsx(oo,{prop:{headerType:"main"}})}),d.jsx(ce,{path:"list/*",element:d.jsx(oo,{prop:{headerType:"main"}})}),d.jsx(ce,{path:"search/*",element:d.jsx(oo,{prop:{headerType:"main"}})}),d.jsx(ce,{path:"movie/*",element:d.jsx(oo,{prop:{headerType:"main"}})}),d.jsx(ce,{path:"user",children:d.jsx(ce,{path:":id",element:d.jsx(oo,{prop:{headerType:"sub"}})})})]}),d.jsxs(rm,{children:[d.jsx(ce,{path:"/",element:d.jsx(nM,{to:"/home/"})}),d.jsx(ce,{path:"home",element:d.jsx(NC,{})}),d.jsx(ce,{path:"home/:menu",element:d.jsx(NC,{}),children:d.jsxs(ce,{path:":id",element:d.jsx(Ym,{prop:{page:"home"}}),children:[d.jsx(ce,{path:"poster/:nums",element:d.jsx(nd,{})}),d.jsx(ce,{path:"person/:nums",element:d.jsx(rd,{})}),d.jsx(ce,{path:"videos/:nums",element:d.jsx(sd,{})})]})}),d.jsx(ce,{path:"list",children:d.jsx(ce,{path:":menu",children:d.jsx(ce,{path:":cate",element:d.jsx(sY,{}),children:d.jsxs(ce,{path:":id",element:d.jsx(Ym,{prop:{page:"search"}}),children:[d.jsx(ce,{path:"poster/:nums",element:d.jsx(nd,{})}),d.jsx(ce,{path:"person/:nums",element:d.jsx(rd,{})}),d.jsx(ce,{path:"videos/:nums",element:d.jsx(sd,{})})]})})})}),d.jsxs(ce,{path:":menu",children:[d.jsx(ce,{path:"*",element:d.jsx(AC,{})}),d.jsxs(ce,{path:":id",element:d.jsx(aY,{prop:{page:"page"}}),children:[d.jsx(ce,{path:"poster/:nums",element:d.jsx(nd,{})}),d.jsx(ce,{path:"person/:nums",element:d.jsx(rd,{})}),d.jsx(ce,{path:"videos/:nums",element:d.jsx(sd,{})})]})]}),d.jsx(ce,{path:"search",children:d.jsxs(ce,{path:":menu",element:d.jsx(bC,{}),children:[d.jsxs(ce,{path:":id",element:d.jsx(Ym,{prop:{page:"search"}}),children:[d.jsx(ce,{path:"poster/:nums",element:d.jsx(nd,{prop:{page:"search"}})}),d.jsx(ce,{path:"person/:nums",element:d.jsx(rd,{prop:{page:"search"}})}),d.jsx(ce,{path:"videos/:nums",element:d.jsx(sd,{prop:{page:"search"}})})]}),d.jsx(ce,{path:":keyword",element:d.jsx(bC,{})})]})}),d.jsxs(ce,{path:"user",children:[d.jsx(ce,{path:"*",element:d.jsx(AC,{})}),d.jsx(ce,{path:"signin",element:d.jsx(cY,{})}),d.jsx(ce,{path:"signout",element:d.jsx(dY,{})}),d.jsx(ce,{path:"signup",element:d.jsx(hY,{})}),d.jsx(ce,{path:":id",element:d.jsx(gY,{})})]}),d.jsx(ce,{path:"snslogin",element:d.jsx(uY,{})})]}),d.jsxs(rm,{children:[d.jsx(ce,{path:"home/*",element:d.jsx(ao,{})}),d.jsx(ce,{path:":menu/*",element:d.jsx(ao,{})}),d.jsx(ce,{path:"list/*",element:d.jsx(ao,{})}),d.jsx(ce,{path:"search/*",element:d.jsx(ao,{})}),d.jsx(ce,{path:"movie/*",element:d.jsx(ao,{})}),d.jsx(ce,{path:"user",children:d.jsx(ce,{path:":id",element:d.jsx(ao,{})})})]})]})})})}Xm.createRoot(document.getElementById("root")).render(d.jsx(pe.StrictMode,{children:d.jsx(_Y,{})}));
